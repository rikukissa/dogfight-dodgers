!function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="/dist/",e(0)}([function(t,e,n){t.exports=n(97)},function(t,e,n){var r=t.exports={},i=n(2);r.crossLength=function(t,e){return t[0]*e[1]-t[1]*e[0]},r.crossVZ=function(t,e,n){return r.rotate(t,e,-Math.PI/2),r.scale(t,t,n),t},r.crossZV=function(t,e,n){return r.rotate(t,n,Math.PI/2),r.scale(t,t,e),t},r.rotate=function(t,e,n){if(0!==n){var r=Math.cos(n),i=Math.sin(n),o=e[0],A=e[1];t[0]=r*o-i*A,t[1]=i*o+r*A}else t[0]=e[0],t[1]=e[1]},r.rotate90cw=function(t,e){var n=e[0],r=e[1];t[0]=r,t[1]=-n},r.toLocalFrame=function(t,e,n,i){r.copy(t,e),r.sub(t,t,n),r.rotate(t,t,-i)},r.toGlobalFrame=function(t,e,n,i){r.copy(t,e),r.rotate(t,t,i),r.add(t,t,n)},r.vectorToLocalFrame=function(t,e,n){r.rotate(t,e,-n)},r.vectorToGlobalFrame=function(t,e,n){r.rotate(t,e,n)},r.centroid=function(t,e,n,i){return r.add(t,e,n),r.add(t,t,i),r.scale(t,t,1/3),t},r.create=function(){var t=new i.ARRAY_TYPE(2);return t[0]=0,t[1]=0,t},r.clone=function(t){var e=new i.ARRAY_TYPE(2);return e[0]=t[0],e[1]=t[1],e},r.fromValues=function(t,e){var n=new i.ARRAY_TYPE(2);return n[0]=t,n[1]=e,n},r.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t},r.set=function(t,e,n){return t[0]=e,t[1]=n,t},r.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t},r.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t},r.sub=r.subtract,r.multiply=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t},r.mul=r.multiply,r.divide=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t},r.div=r.divide,r.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t},r.distance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(n*n+r*r)},r.dist=r.distance,r.squaredDistance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r},r.sqrDist=r.squaredDistance,r.length=function(t){var e=t[0],n=t[1];return Math.sqrt(e*e+n*n)},r.len=r.length,r.squaredLength=function(t){var e=t[0],n=t[1];return e*e+n*n},r.sqrLen=r.squaredLength,r.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t},r.normalize=function(t,e){var n=e[0],r=e[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i),t[0]=e[0]*i,t[1]=e[1]*i),t},r.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]},r.str=function(t){return"vec2("+t[0]+", "+t[1]+")"},r.lerp=function(t,e,n,r){var i=e[0],o=e[1];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t},r.reflect=function(t,e,n){var r=e[0]*n[0]+e[1]*n[1];t[0]=e[0]-2*n[0]*r,t[1]=e[1]-2*n[1]*r},r.getLineSegmentsIntersection=function(t,e,n,i,o){var A=r.getLineSegmentsIntersectionFraction(e,n,i,o);return 0>A?!1:(t[0]=e[0]+A*(n[0]-e[0]),t[1]=e[1]+A*(n[1]-e[1]),!0)},r.getLineSegmentsIntersectionFraction=function(t,e,n,r){var i,o,A=e[0]-t[0],s=e[1]-t[1],a=r[0]-n[0],g=r[1]-n[1];return i=(-s*(t[0]-n[0])+A*(t[1]-n[1]))/(-a*s+A*g),o=(a*(t[1]-n[1])-g*(t[0]-n[0]))/(-a*s+A*g),i>=0&&1>=i&&o>=0&&1>=o?o:-1}},function(t,e){function n(){}t.exports=n,n.appendArray=function(t,e){if(e.length<15e4)t.push.apply(t,e);else for(var n=0,r=e.length;n!==r;++n)t.push(e[n])},n.splice=function(t,e,n){n=n||1;for(var r=e,i=t.length-n;i>r;r++)t[r]=t[r+n];t.length=i},"undefined"!=typeof P2_ARRAY_TYPE?n.ARRAY_TYPE=P2_ARRAY_TYPE:"undefined"!=typeof Float32Array?n.ARRAY_TYPE=Float32Array:n.ARRAY_TYPE=Array,n.extend=function(t,e){for(var n in e)t[n]=e[n]},n.defaults=function(t,e){t=t||{};for(var n in e)n in t||(t[n]=e[n]);return t}},function(t,e,n){function r(t,e,n,i){this.minForce="undefined"==typeof n?-Number.MAX_VALUE:n,this.maxForce="undefined"==typeof i?Number.MAX_VALUE:i,this.bodyA=t,this.bodyB=e,this.stiffness=r.DEFAULT_STIFFNESS,this.relaxation=r.DEFAULT_RELAXATION,this.G=new o.ARRAY_TYPE(6);for(var A=0;6>A;A++)this.G[A]=0;this.offset=0,this.a=0,this.b=0,this.epsilon=0,this.timeStep=1/60,this.needsUpdate=!0,this.multiplier=0,this.relativeVelocity=0,this.enabled=!0}t.exports=r;var i=n(1),o=n(2);n(6);r.prototype.constructor=r,r.DEFAULT_STIFFNESS=1e6,r.DEFAULT_RELAXATION=4,r.prototype.update=function(){var t=this.stiffness,e=this.relaxation,n=this.timeStep;this.a=4/(n*(1+4*e)),this.b=4*e/(1+4*e),this.epsilon=4/(n*n*t*(1+4*e)),this.needsUpdate=!1},r.prototype.gmult=function(t,e,n,r,i){return t[0]*e[0]+t[1]*e[1]+t[2]*n+t[3]*r[0]+t[4]*r[1]+t[5]*i},r.prototype.computeB=function(t,e,n){var r=this.computeGW(),i=this.computeGq(),o=this.computeGiMf();return-i*t-r*e-o*n};var A=i.create(),s=i.create();r.prototype.computeGq=function(){var t=this.G,e=this.bodyA,n=this.bodyB,r=(e.position,n.position,e.angle),i=n.angle;return this.gmult(t,A,r,s,i)+this.offset},r.prototype.computeGW=function(){var t=this.G,e=this.bodyA,n=this.bodyB,r=e.velocity,i=n.velocity,o=e.angularVelocity,A=n.angularVelocity;return this.gmult(t,r,o,i,A)+this.relativeVelocity},r.prototype.computeGWlambda=function(){var t=this.G,e=this.bodyA,n=this.bodyB,r=e.vlambda,i=n.vlambda,o=e.wlambda,A=n.wlambda;return this.gmult(t,r,o,i,A)};var a=i.create(),g=i.create();r.prototype.computeGiMf=function(){var t=this.bodyA,e=this.bodyB,n=t.force,r=t.angularForce,o=e.force,A=e.angularForce,s=t.invMassSolve,u=e.invMassSolve,c=t.invInertiaSolve,I=e.invInertiaSolve,C=this.G;return i.scale(a,n,s),i.multiply(a,t.massMultiplier,a),i.scale(g,o,u),i.multiply(g,e.massMultiplier,g),this.gmult(C,a,r*c,g,A*I)},r.prototype.computeGiMGt=function(){var t=this.bodyA,e=this.bodyB,n=t.invMassSolve,r=e.invMassSolve,i=t.invInertiaSolve,o=e.invInertiaSolve,A=this.G;return A[0]*A[0]*n*t.massMultiplier[0]+A[1]*A[1]*n*t.massMultiplier[1]+A[2]*A[2]*i+A[3]*A[3]*r*e.massMultiplier[0]+A[4]*A[4]*r*e.massMultiplier[1]+A[5]*A[5]*o};var u=i.create(),c=i.create(),I=i.create();i.create(),i.create(),i.create();r.prototype.addToWlambda=function(t){var e=this.bodyA,n=this.bodyB,r=u,o=c,A=I,s=e.invMassSolve,a=n.invMassSolve,g=e.invInertiaSolve,C=n.invInertiaSolve,l=this.G;o[0]=l[0],o[1]=l[1],A[0]=l[3],A[1]=l[4],i.scale(r,o,s*t),i.multiply(r,r,e.massMultiplier),i.add(e.vlambda,e.vlambda,r),e.wlambda+=g*l[2]*t,i.scale(r,A,a*t),i.multiply(r,r,n.massMultiplier),i.add(n.vlambda,n.vlambda,r),n.wlambda+=C*l[5]*t},r.prototype.computeInvC=function(t){return 1/(this.computeGiMGt()+t)}},function(t,e,n){function r(t){t=t||{},this.body=null,this.position=i.fromValues(0,0),t.position&&i.copy(this.position,t.position),this.angle=t.angle||0,this.type=t.type||0,this.id=r.idCounter++,this.boundingRadius=0,this.collisionGroup=void 0!==t.collisionGroup?t.collisionGroup:1,this.collisionResponse=void 0!==t.collisionResponse?t.collisionResponse:!0,this.collisionMask=void 0!==t.collisionMask?t.collisionMask:1,this.material=t.material||null,this.area=0,this.sensor=void 0!==t.sensor?t.sensor:!1,this.type&&this.updateBoundingRadius(),this.updateArea()}t.exports=r;var i=n(1);r.idCounter=0,r.CIRCLE=1,r.PARTICLE=2,r.PLANE=4,r.CONVEX=8,r.LINE=16,r.BOX=32,Object.defineProperty(r,"RECTANGLE",{get:function(){return console.warn("Shape.RECTANGLE is deprecated, use Shape.BOX instead."),r.BOX}}),r.CAPSULE=64,r.HEIGHTFIELD=128,r.prototype.computeMomentOfInertia=function(t){},r.prototype.updateBoundingRadius=function(){},r.prototype.updateArea=function(){},r.prototype.computeAABB=function(t,e,n){},r.prototype.raycast=function(t,e,n,r){}},function(t,e,n){function r(t,e,n,r){this.type=n,r=i.defaults(r,{collideConnected:!0,wakeUpBodies:!0}),this.equations=[],this.bodyA=t,this.bodyB=e,this.collideConnected=r.collideConnected,r.wakeUpBodies&&(t&&t.wakeUp(),e&&e.wakeUp())}t.exports=r;var i=n(2);r.prototype.update=function(){throw new Error("method update() not implmemented in this Constraint subclass!")},r.DISTANCE=1,r.GEAR=2,r.LOCK=3,r.PRISMATIC=4,r.REVOLUTE=5,r.prototype.setStiffness=function(t){for(var e=this.equations,n=0;n!==e.length;n++){var r=e[n];r.stiffness=t,r.needsUpdate=!0}},r.prototype.setRelaxation=function(t){for(var e=this.equations,n=0;n!==e.length;n++){var r=e[n];r.relaxation=t,r.needsUpdate=!0}}},function(t,e,n){function r(t){t=t||{},u.call(this),this.id=t.id||++r._idCounter,this.world=null,this.shapes=[],this.mass=t.mass||0,this.invMass=0,this.inertia=0,this.invInertia=0,this.invMassSolve=0,this.invInertiaSolve=0,this.fixedRotation=!!t.fixedRotation,this.fixedX=!!t.fixedX,this.fixedY=!!t.fixedY,this.massMultiplier=i.create(),this.position=i.fromValues(0,0),t.position&&i.copy(this.position,t.position),this.interpolatedPosition=i.fromValues(0,0),this.interpolatedAngle=0,this.previousPosition=i.fromValues(0,0),this.previousAngle=0,this.velocity=i.fromValues(0,0),t.velocity&&i.copy(this.velocity,t.velocity),this.vlambda=i.fromValues(0,0),this.wlambda=0,this.angle=t.angle||0,this.angularVelocity=t.angularVelocity||0,this.force=i.create(),t.force&&i.copy(this.force,t.force),this.angularForce=t.angularForce||0,this.damping="number"==typeof t.damping?t.damping:.1,this.angularDamping="number"==typeof t.angularDamping?t.angularDamping:.1,this.type=r.STATIC,"undefined"!=typeof t.type?this.type=t.type:t.mass?this.type=r.DYNAMIC:this.type=r.STATIC,this.boundingRadius=0,this.aabb=new g,this.aabbNeedsUpdate=!0,this.allowSleep=void 0!==t.allowSleep?t.allowSleep:!0,this.wantsToSleep=!1,this.sleepState=r.AWAKE,this.sleepSpeedLimit=void 0!==t.sleepSpeedLimit?t.sleepSpeedLimit:.2,this.sleepTimeLimit=void 0!==t.sleepTimeLimit?t.sleepTimeLimit:1,this.gravityScale=void 0!==t.gravityScale?t.gravityScale:1,this.collisionResponse=void 0!==t.collisionResponse?t.collisionResponse:!0,this.idleTime=0,this.timeLastSleepy=0,this.ccdSpeedThreshold=void 0!==t.ccdSpeedThreshold?t.ccdSpeedThreshold:-1,this.ccdIterations=void 0!==t.ccdIterations?t.ccdIterations:10,this.concavePath=null,this._wakeUpAfterNarrowphase=!1,this.updateMassProperties()}var i=n(1),o=n(41),A=n(15),s=n(26),a=n(18),g=n(16),u=n(20);t.exports=r,r.prototype=new u,r.prototype.constructor=r,r._idCounter=0,r.prototype.updateSolveMassProperties=function(){this.sleepState===r.SLEEPING||this.type===r.KINEMATIC?(this.invMassSolve=0,this.invInertiaSolve=0):(this.invMassSolve=this.invMass,this.invInertiaSolve=this.invInertia)},r.prototype.setDensity=function(t){var e=this.getArea();this.mass=e*t,this.updateMassProperties()},r.prototype.getArea=function(){for(var t=0,e=0;e<this.shapes.length;e++)t+=this.shapes[e].area;return t},r.prototype.getAABB=function(){return this.aabbNeedsUpdate&&this.updateAABB(),this.aabb};var c=new g,I=i.create();r.prototype.updateAABB=function(){for(var t=this.shapes,e=t.length,n=I,r=this.angle,o=0;o!==e;o++){var A=t[o],s=A.angle+r;i.rotate(n,A.position,r),i.add(n,n,this.position),A.computeAABB(c,n,s),0===o?this.aabb.copy(c):this.aabb.extend(c)}this.aabbNeedsUpdate=!1},r.prototype.updateBoundingRadius=function(){for(var t=this.shapes,e=t.length,n=0,r=0;r!==e;r++){var o=t[r],A=i.length(o.position),s=o.boundingRadius;A+s>n&&(n=A+s)}this.boundingRadius=n},r.prototype.addShape=function(t,e,n){if(t.body)throw new Error("A shape can only be added to one body.");t.body=this,e?i.copy(t.position,e):i.set(t.position,0,0),t.angle=n||0,this.shapes.push(t),this.updateMassProperties(),this.updateBoundingRadius(),this.aabbNeedsUpdate=!0},r.prototype.removeShape=function(t){var e=this.shapes.indexOf(t);return-1!==e?(this.shapes.splice(e,1),this.aabbNeedsUpdate=!0,t.body=null,!0):!1},r.prototype.updateMassProperties=function(){if(this.type===r.STATIC||this.type===r.KINEMATIC)this.mass=Number.MAX_VALUE,this.invMass=0,this.inertia=Number.MAX_VALUE,this.invInertia=0;else{var t=this.shapes,e=t.length,n=this.mass/e,o=0;if(this.fixedRotation)this.inertia=Number.MAX_VALUE,this.invInertia=0;else{for(var A=0;e>A;A++){var s=t[A],a=i.squaredLength(s.position),g=s.computeMomentOfInertia(n);o+=g+n*a}this.inertia=o,this.invInertia=o>0?1/o:0}this.invMass=1/this.mass,i.set(this.massMultiplier,this.fixedX?0:1,this.fixedY?0:1)}};i.create();r.prototype.applyForce=function(t,e){if(i.add(this.force,this.force,t),e){var n=i.crossLength(e,t);this.angularForce+=n}};var C=i.create(),l=i.create(),h=i.create();r.prototype.applyForceLocal=function(t,e){e=e||h;var n=C,r=l;this.vectorToWorldFrame(n,t),this.vectorToWorldFrame(r,e),this.applyForce(n,r)};var p=i.create();r.prototype.applyImpulse=function(t,e){if(this.type===r.DYNAMIC){var n=p;if(i.scale(n,t,this.invMass),i.multiply(n,this.massMultiplier,n),i.add(this.velocity,n,this.velocity),e){var o=i.crossLength(e,t);o*=this.invInertia,this.angularVelocity+=o}}};var f=i.create(),d=i.create(),v=i.create();r.prototype.applyImpulseLocal=function(t,e){e=e||v;var n=f,r=d;this.vectorToWorldFrame(n,t),this.vectorToWorldFrame(r,e),this.applyImpulse(n,r)},r.prototype.toLocalFrame=function(t,e){i.toLocalFrame(t,e,this.position,this.angle)},r.prototype.toWorldFrame=function(t,e){i.toGlobalFrame(t,e,this.position,this.angle)},r.prototype.vectorToLocalFrame=function(t,e){i.vectorToLocalFrame(t,e,this.angle)},r.prototype.vectorToWorldFrame=function(t,e){i.vectorToGlobalFrame(t,e,this.angle)},r.prototype.fromPolygon=function(t,e){e=e||{};for(var n=this.shapes.length;n>=0;--n)this.removeShape(this.shapes[n]);var r=new o.Polygon;if(r.vertices=t,r.makeCCW(),"number"==typeof e.removeCollinearPoints&&r.removeCollinearPoints(e.removeCollinearPoints),"undefined"==typeof e.skipSimpleCheck&&!r.isSimple())return!1;this.concavePath=r.vertices.slice(0);for(var n=0;n<this.concavePath.length;n++){var s=[0,0];i.copy(s,this.concavePath[n]),this.concavePath[n]=s}var a;a=e.optimalDecomp?r.decomp():r.quickDecomp();for(var g=i.create(),n=0;n!==a.length;n++){for(var u=new A({vertices:a[n].vertices}),c=0;c!==u.vertices.length;c++){var s=u.vertices[c];i.sub(s,s,u.centerOfMass)}i.scale(g,u.centerOfMass,1),u.updateTriangles(),u.updateCenterOfMass(),u.updateBoundingRadius(),this.addShape(u,g)}return this.adjustCenterOfMass(),this.aabbNeedsUpdate=!0,!0};var y=(i.fromValues(0,0),i.fromValues(0,0)),m=i.fromValues(0,0),b=i.fromValues(0,0);r.prototype.adjustCenterOfMass=function(){var t=y,e=m,n=b,r=0;i.set(e,0,0);for(var o=0;o!==this.shapes.length;o++){var A=this.shapes[o];i.scale(t,A.position,A.area),i.add(e,e,t),r+=A.area}i.scale(n,e,1/r);for(var o=0;o!==this.shapes.length;o++){var A=this.shapes[o];i.sub(A.position,A.position,n)}i.add(this.position,this.position,n);for(var o=0;this.concavePath&&o<this.concavePath.length;o++)i.sub(this.concavePath[o],this.concavePath[o],n);this.updateMassProperties(),this.updateBoundingRadius()},r.prototype.setZeroForce=function(){i.set(this.force,0,0),this.angularForce=0},r.prototype.resetConstraintVelocity=function(){var t=this,e=t.vlambda;i.set(e,0,0),t.wlambda=0},r.prototype.addConstraintVelocity=function(){var t=this,e=t.velocity;i.add(e,e,t.vlambda),t.angularVelocity+=t.wlambda},r.prototype.applyDamping=function(t){if(this.type===r.DYNAMIC){var e=this.velocity;i.scale(e,e,Math.pow(1-this.damping,t)),this.angularVelocity*=Math.pow(1-this.angularDamping,t)}},r.prototype.wakeUp=function(){var t=this.sleepState;this.sleepState=r.AWAKE,this.idleTime=0,t!==r.AWAKE&&this.emit(r.wakeUpEvent)},r.prototype.sleep=function(){this.sleepState=r.SLEEPING,this.angularVelocity=0,this.angularForce=0,i.set(this.velocity,0,0),i.set(this.force,0,0),this.emit(r.sleepEvent)},r.prototype.sleepTick=function(t,e,n){if(this.allowSleep&&this.type!==r.SLEEPING){this.wantsToSleep=!1;var o=(this.sleepState,i.squaredLength(this.velocity)+Math.pow(this.angularVelocity,2)),A=Math.pow(this.sleepSpeedLimit,2);o>=A?(this.idleTime=0,this.sleepState=r.AWAKE):(this.idleTime+=n,this.sleepState=r.SLEEPY),this.idleTime>this.sleepTimeLimit&&(e?this.wantsToSleep=!0:this.sleep())}},r.prototype.overlaps=function(t){return this.world.overlapKeeper.bodiesAreOverlapping(this,t)};var w=i.create(),L=i.create();r.prototype.integrate=function(t){var e=this.invMass,n=this.force,r=this.position,o=this.velocity;i.copy(this.previousPosition,this.position),this.previousAngle=this.angle,this.fixedRotation||(this.angularVelocity+=this.angularForce*this.invInertia*t),i.scale(w,n,t*e),i.multiply(w,this.massMultiplier,w),i.add(o,w,o),this.integrateToTimeOfImpact(t)||(i.scale(L,o,t),i.add(r,r,L),this.fixedRotation||(this.angle+=this.angularVelocity*t)),this.aabbNeedsUpdate=!0};var E=new s,B=new a({mode:a.ALL}),P=i.create(),x=i.create(),S=i.create(),M=i.create();r.prototype.integrateToTimeOfImpact=function(t){if(this.ccdSpeedThreshold<0||i.squaredLength(this.velocity)<Math.pow(this.ccdSpeedThreshold,2))return!1;i.normalize(P,this.velocity),i.scale(x,this.velocity,t),i.add(x,x,this.position),i.sub(S,x,this.position);var e,n=this.angularVelocity*t,r=i.length(S),o=1,A=this;if(E.reset(),B.callback=function(t){t.body!==A&&(e=t.body,t.getHitPoint(x,B),i.sub(S,x,A.position),o=i.length(S)/r,t.stop())},i.copy(B.from,this.position),i.copy(B.to,x),B.update(),this.world.raycast(E,B),!e)return!1;var s=this.angle;i.copy(M,this.position);for(var a=0,g=0,u=0,c=o;c>=g&&a<this.ccdIterations;){a++,u=(c-g)/2,i.scale(L,S,o),i.add(this.position,M,L),this.angle=s+n*o,this.updateAABB();var I=this.aabb.overlaps(e.aabb)&&this.world.narrowphase.bodiesOverlap(this,e);I?g=u:c=u}return o=u,i.copy(this.position,M),this.angle=s,i.scale(L,S,o),i.add(this.position,this.position,L),this.fixedRotation||(this.angle+=n*o),!0},r.prototype.getVelocityAtPoint=function(t,e){return i.crossVZ(t,e,this.angularVelocity),i.subtract(t,this.velocity,t),t},r.sleepyEvent={type:"sleepy"},r.sleepEvent={type:"sleep"},r.wakeUpEvent={type:"wakeup"},r.DYNAMIC=1,r.STATIC=2,r.KINEMATIC=4,r.AWAKE=0,r.SLEEPY=1,r.SLEEPING=2},function(t,e,n){"use strict";function r(){i.width=window.innerWidth,i.height=window.innerHeight}var i=document.createElement("canvas"),o=i.getContext("2d");document.body.appendChild(i),window.addEventListener("resize",r),r(),t.exports={canvas:i,ctx:o};var A=["resize"],s,a,g,u,u,c,I,C},function(t,e,n){var r=t.exports={AABB:n(16),AngleLockEquation:n(49),Body:n(6),Broadphase:n(17),Capsule:n(56),Circle:n(21),Constraint:n(5),ContactEquation:n(19),ContactEquationPool:n(59),ContactMaterial:n(52),Convex:n(15),DistanceConstraint:n(44),Equation:n(3),EventEmitter:n(20),FrictionEquation:n(14),FrictionEquationPool:n(60),GearConstraint:n(45),GSSolver:n(58),Heightfield:n(108),Line:n(57),LockConstraint:n(46),Material:n(27),Narrowphase:n(42),NaiveBroadphase:n(105),Particle:n(29),Plane:n(30),Pool:n(9),RevoluteConstraint:n(48),PrismaticConstraint:n(47),Ray:n(18),RaycastResult:n(26),Box:n(55),RotationalVelocityEquation:n(51),SAPBroadphase:n(43),Shape:n(4),Solver:n(31),Spring:n(28),TopDownVehicle:n(107),LinearSpring:n(53),RotationalSpring:n(54),Utils:n(2),World:n(114),vec2:n(1),version:n(34).version};Object.defineProperty(r,"Rectangle",{get:function(){return console.warn("The Rectangle class has been renamed to Box."),this.Box}})},function(t,e){function n(t){t=t||{},this.objects=[],void 0!==t.size&&this.resize(t.size)}t.exports=n,n.prototype.resize=function(t){for(var e=this.objects;e.length>t;)e.pop();for(;e.length<t;)e.push(this.create());return this},n.prototype.get=function(){var t=this.objects;return t.length?t.pop():this.create()},n.prototype.release=function(t){return this.destroy(t),this.objects.push(t),this}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=60;e.FRAME_RATE=r;var i=1/30;e.WORLD_SPEED=i;var o=10;e.MAX_SUBSTEPS=o;var A=80;e.PAUSE_KEY=A;var s=32;e.SPACE_KEY=s;var a=65;e.LEFT_KEY=a;var g=87;e.UP_KEY=g;var u=68;e.RIGHT_KEY=u;var c=83;e.DOWN_KEY=c;var I=2*Math.PI;e.RADIAN=I;var C=[],l,h,p,f,f,d,v,y},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){t.body.position[0]=e.body.position[0],t.body.position[1]=e.body.position[1],t.body.angle=e.body.angle}function o(t,e){var n=new a["default"].Body({mass:0,angle:0,position:[3,g.GROUND_LEVEL+I/2]});n.TYPE=u,e.addBody(n),n.addShape(new a["default"].Box({width:c,height:I}));var r={body:n,thrust:0,throttle:0,healt:1,bullets:20};return t?(i(r,t),r):r}function A(t,e,n){for(var r in e.planes){var A=t[r];A?i(A,e.planes[r]):t[r]=o(e.planes[r],n)}return t}Object.defineProperty(e,"__esModule",{value:!0}),e.create=o,e.update=A;var s=n(8),a=r(s),g=n(13),u={};e["default"]=u;var c=1.6;e.WIDTH=c;var I=1;e.HEIGHT=I;var C=function(){return{}};e.initial=C;var l=["_interopRequireDefault","updatePlane","create","update"],h,p,f,d,d,v,y,m},function(t,e,n){"use strict";function r(t){return t/I.SCALE}function i(t){var e=t.x,n=t.y;return{x:r(e),y:c.canvas.height-r(n)}}function o(t){var e=u(t.position,2),n=e[0],i=e[1];return{x:r(n),y:c.canvas.height-r(i)}}function A(t,e,n,r){c.ctx.beginPath(),c.ctx.moveTo(t,e),c.ctx.lineTo(t+n,e),c.ctx.lineTo(t+n,e+r),c.ctx.lineTo(t,e+r),c.ctx.closePath()}function s(t){var e=o(t.body);return{x:Math.max(-(r(C.WIDTH)-c.canvas.width),Math.min(0,c.canvas.width/2-e.x)),y:Math.max(0,c.canvas.height/2-e.y)}}function a(t){return"rgb("+t.join(",")+")"}function g(t){var e=new Image;return e.src=t,e}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var A,s=t[Symbol.iterator]();!(r=(A=s.next()).done)&&(n.push(A.value),!e||n.length!==e);r=!0);}catch(a){i=!0,o=a}finally{try{!r&&s["return"]&&s["return"]()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();e.scale=r,e.gameToCanvas=i,e.bodyToCanvas=o,e.rectPath=A,e.cameraTranslation=s,e.toRGB=a,e.image=g;var c=n(7),I=n(25),C=n(13),l=["scale","gameToCanvas","bodyToCanvas","rectPath","cameraTranslation","toRGB","image"],h,p,f,d,d,v,y,m},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){var e=new s["default"].Body({mass:0}),n=new s["default"].Plane;return n.material=g.ground,e.addShape(n),t.addBody(e),t}function o(t,e){t.step(a.WORLD_SPEED,e.delta*a.WORLD_SPEED,a.MAX_SUBSTEPS);var n=t.emitImpactEvent,r=t.narrowphase;return n?!function(){var e=r.contactEquations.filter(function(t){var e=t.firstImpact,n=t.bodyA,r=t.bodyB;return e&&n.world&&r.world});t.impacts=e.filter(function(t,n){for(var r=t.bodyA,i=t.bodyB,o=0;n>o;o++)if(e[o].bodyA===r&&e[o].bodyB===i||e[o].bodyB===r&&e[o].bodyA===i)return!1;return!0})}():t.impacts=[],t}Object.defineProperty(e,"__esModule",{value:!0}),e.initial=i,e.update=o;var A=n(8),s=r(A),a=n(10),g=n(24),u=1e3;e.WIDTH=u;var c=100;e.HEIGHT=c;var I=0;e.GROUND_LEVEL=I;var C=["_interopRequireDefault","initial","update"],l,h,p,f,f,d,v,y},function(t,e,n){function r(t,e,n){o.call(this,t,e,-n,n),this.contactPointA=i.create(),this.contactPointB=i.create(),this.t=i.create(),this.contactEquations=[],this.shapeA=null,this.shapeB=null,this.frictionCoefficient=.3}var i=n(1),o=n(3);n(2);t.exports=r,r.prototype=new o,r.prototype.constructor=r,r.prototype.setSlipForce=function(t){this.maxForce=t,this.minForce=-t},r.prototype.getSlipForce=function(){return this.maxForce},r.prototype.computeB=function(t,e,n){var r=(this.bodyA,this.bodyB,this.contactPointA),o=this.contactPointB,A=this.t,s=this.G;s[0]=-A[0],s[1]=-A[1],s[2]=-i.crossLength(r,A),s[3]=A[0],s[4]=A[1],s[5]=i.crossLength(o,A);var a=this.computeGW(),g=this.computeGiMf(),u=-a*e-n*g;return u}},function(t,e,n){function r(t){Array.isArray(arguments[0])&&(t={vertices:arguments[0],axes:arguments[1]},console.warn("The Convex constructor signature has changed. Please use the following format: new Convex({ vertices: [...], ... })")),t=t||{},this.vertices=[];for(var e=void 0!==t.vertices?t.vertices:[],n=0;n<e.length;n++){var r=o.create();o.copy(r,e[n]),this.vertices.push(r)}if(this.axes=[],t.axes)for(var n=0;n<t.axes.length;n++){var A=o.create();o.copy(A,t.axes[n]),this.axes.push(A)}else for(var n=0;n<this.vertices.length;n++){var s=this.vertices[n],a=this.vertices[(n+1)%this.vertices.length],g=o.create();o.sub(g,a,s),o.rotate90cw(g,g),o.normalize(g,g),this.axes.push(g)}if(this.centerOfMass=o.fromValues(0,0),this.triangles=[],this.vertices.length&&(this.updateTriangles(),this.updateCenterOfMass()),this.boundingRadius=0,t.type=i.CONVEX,i.call(this,t),this.updateBoundingRadius(),this.updateArea(),this.area<0)throw new Error("Convex vertices must be given in conter-clockwise winding.")}var i=n(4),o=n(1),A=n(106);n(41);t.exports=r,r.prototype=new i,r.prototype.constructor=r;var s=o.create(),a=o.create();r.prototype.projectOntoLocalAxis=function(t,e){for(var n,r,i=null,A=null,t=s,a=0;a<this.vertices.length;a++)n=this.vertices[a],r=o.dot(n,t),(null===i||r>i)&&(i=r),(null===A||A>r)&&(A=r);if(A>i){var g=A;A=i,i=g}o.set(e,A,i)},r.prototype.projectOntoWorldAxis=function(t,e,n,r){var i=a;this.projectOntoLocalAxis(t,r),0!==n?o.rotate(i,t,n):i=t;var A=o.dot(e,i);o.set(r,r[0]+A,r[1]+A)},r.prototype.updateTriangles=function(){this.triangles.length=0;for(var t=[],e=0;e<this.vertices.length;e++){var n=this.vertices[e];t.push(n[0],n[1])}for(var r=A.Triangulate(t),e=0;e<r.length;e+=3){var i=r[e],o=r[e+1],s=r[e+2];this.triangles.push([i,o,s])}};var g=o.create(),u=o.create(),c=o.create(),I=o.create(),C=o.create();o.create(),o.create(),o.create(),o.create();r.prototype.updateCenterOfMass=function(){var t=this.triangles,e=this.vertices,n=this.centerOfMass,i=g,A=c,s=I,a=C,l=u;o.set(n,0,0);for(var h=0,p=0;p!==t.length;p++){var f=t[p],A=e[f[0]],s=e[f[1]],a=e[f[2]];o.centroid(i,A,s,a);var d=r.triangleArea(A,s,a);h+=d,o.scale(l,i,d),o.add(n,n,l)}o.scale(n,n,1/h)},r.prototype.computeMomentOfInertia=function(t){for(var e=0,n=0,r=this.vertices.length,i=r-1,A=0;r>A;i=A,A++){var s=this.vertices[i],a=this.vertices[A],g=Math.abs(o.crossLength(s,a)),u=o.dot(a,a)+o.dot(a,s)+o.dot(s,s);e+=g*u,n+=g}return t/6*(e/n)},r.prototype.updateBoundingRadius=function(){for(var t=this.vertices,e=0,n=0;n!==t.length;n++){var r=o.squaredLength(t[n]);r>e&&(e=r)}this.boundingRadius=Math.sqrt(e)},r.triangleArea=function(t,e,n){return.5*((e[0]-t[0])*(n[1]-t[1])-(n[0]-t[0])*(e[1]-t[1]))},r.prototype.updateArea=function(){this.updateTriangles(),this.area=0;for(var t=this.triangles,e=this.vertices,n=0;n!==t.length;n++){var i=t[n],o=e[i[0]],A=e[i[1]],s=e[i[2]],a=r.triangleArea(o,A,s);this.area+=a}},r.prototype.computeAABB=function(t,e,n){t.setFromPoints(this.vertices,e,n,0)};var l=o.create(),h=o.create(),p=o.create();r.prototype.raycast=function(t,e,n,r){var i=l,A=h,s=p,a=this.vertices;o.toLocalFrame(i,e.from,n,r),o.toLocalFrame(A,e.to,n,r);for(var g=a.length,u=0;g>u&&!t.shouldStop(e);u++){var c=a[u],I=a[(u+1)%g],C=o.getLineSegmentsIntersectionFraction(i,A,c,I);C>=0&&(o.sub(s,I,c),o.rotate(s,s,-Math.PI/2+r),o.normalize(s,s),e.reportIntersection(t,C,s,u))}}},function(t,e,n){function r(t){this.lowerBound=i.create(),t&&t.lowerBound&&i.copy(this.lowerBound,t.lowerBound),this.upperBound=i.create(),t&&t.upperBound&&i.copy(this.upperBound,t.upperBound)}var i=n(1);n(2);t.exports=r;var o=i.create();r.prototype.setFromPoints=function(t,e,n,r){var A=this.lowerBound,s=this.upperBound;"number"!=typeof n&&(n=0),0!==n?i.rotate(A,t[0],n):i.copy(A,t[0]),i.copy(s,A);for(var a=Math.cos(n),g=Math.sin(n),u=1;u<t.length;u++){var c=t[u];if(0!==n){var I=c[0],C=c[1];o[0]=a*I-g*C,o[1]=g*I+a*C,c=o}for(var l=0;2>l;l++)c[l]>s[l]&&(s[l]=c[l]),c[l]<A[l]&&(A[l]=c[l])}e&&(i.add(this.lowerBound,this.lowerBound,e),i.add(this.upperBound,this.upperBound,e)),r&&(this.lowerBound[0]-=r,this.lowerBound[1]-=r,this.upperBound[0]+=r,this.upperBound[1]+=r)},r.prototype.copy=function(t){i.copy(this.lowerBound,t.lowerBound),i.copy(this.upperBound,t.upperBound)},r.prototype.extend=function(t){for(var e=2;e--;){var n=t.lowerBound[e];this.lowerBound[e]>n&&(this.lowerBound[e]=n);var r=t.upperBound[e];this.upperBound[e]<r&&(this.upperBound[e]=r)}},r.prototype.overlaps=function(t){var e=this.lowerBound,n=this.upperBound,r=t.lowerBound,i=t.upperBound;return(r[0]<=n[0]&&n[0]<=i[0]||e[0]<=i[0]&&i[0]<=n[0])&&(r[1]<=n[1]&&n[1]<=i[1]||e[1]<=i[1]&&i[1]<=n[1])},r.prototype.containsPoint=function(t){var e=this.lowerBound,n=this.upperBound;return e[0]<=t[0]&&t[0]<=n[0]&&e[1]<=t[1]&&t[1]<=n[1]},r.prototype.overlapsRay=function(t){var e=1/t.direction[0],n=1/t.direction[1],r=(this.lowerBound[0]-t.from[0])*e,i=(this.upperBound[0]-t.from[0])*e,o=(this.lowerBound[1]-t.from[1])*n,A=(this.upperBound[1]-t.from[1])*n,s=Math.max(Math.max(Math.min(r,i),Math.min(o,A))),a=Math.min(Math.min(Math.max(r,i),Math.max(o,A)));return 0>a?-1:s>a?-1:s}},function(t,e,n){function r(t){this.type=t,this.result=[],this.world=null,this.boundingVolumeType=r.AABB}var i=n(1),o=n(6);t.exports=r,r.AABB=1,r.BOUNDING_CIRCLE=2,r.prototype.setWorld=function(t){this.world=t},r.prototype.getCollisionPairs=function(t){};var A=i.create();r.boundingRadiusCheck=function(t,e){i.sub(A,t.position,e.position);var n=i.squaredLength(A),r=t.boundingRadius+e.boundingRadius;return r*r>=n},r.aabbCheck=function(t,e){return t.getAABB().overlaps(e.getAABB())},r.prototype.boundingVolumeCheck=function(t,e){var n;switch(this.boundingVolumeType){case r.BOUNDING_CIRCLE:n=r.boundingRadiusCheck(t,e);break;case r.AABB:n=r.aabbCheck(t,e);break;default:throw new Error("Bounding volume type not recognized: "+this.boundingVolumeType)}return n},r.canCollide=function(t,e){var n=o.KINEMATIC,r=o.STATIC;return t.type===r&&e.type===r?!1:t.type===n&&e.type===r||t.type===r&&e.type===n?!1:t.type===n&&e.type===n?!1:t.sleepState===o.SLEEPING&&e.sleepState===o.SLEEPING?!1:t.sleepState===o.SLEEPING&&e.type===r||e.sleepState===o.SLEEPING&&t.type===r?!1:!0},r.NAIVE=1,r.SAP=2},function(t,e,n){function r(t){t=t||{},this.from=t.from?o.fromValues(t.from[0],t.from[1]):o.create(),this.to=t.to?o.fromValues(t.to[0],t.to[1]):o.create(),this.checkCollisionResponse=void 0!==t.checkCollisionResponse?t.checkCollisionResponse:!0,this.skipBackfaces=!!t.skipBackfaces,this.collisionMask=void 0!==t.collisionMask?t.collisionMask:-1,this.collisionGroup=void 0!==t.collisionGroup?t.collisionGroup:-1,this.mode=void 0!==t.mode?t.mode:r.ANY,this.callback=t.callback||function(t){},this.direction=o.create(),this.length=1,this.update()}function i(t,e,n){o.sub(s,n,t);var r=o.dot(s,e);return o.scale(a,e,r),o.add(a,a,t),o.squaredDistance(n,a)}t.exports=r;var o=n(1);n(26),n(4),n(16);r.prototype.constructor=r,r.CLOSEST=1,r.ANY=2,r.ALL=4,r.prototype.update=function(){var t=this.direction;o.sub(t,this.to,this.from),this.length=o.length(t),o.normalize(t,t)},r.prototype.intersectBodies=function(t,e){for(var n=0,r=e.length;!t.shouldStop(this)&&r>n;n++){var i=e[n],o=i.getAABB();(o.overlapsRay(this)>=0||o.containsPoint(this.from))&&this.intersectBody(t,i)}};var A=o.create();r.prototype.intersectBody=function(t,e){var n=this.checkCollisionResponse;if(!n||e.collisionResponse)for(var r=A,i=0,s=e.shapes.length;s>i;i++){var a=e.shapes[i];if((!n||a.collisionResponse)&&0!==(this.collisionGroup&a.collisionMask)&&0!==(a.collisionGroup&this.collisionMask)){o.rotate(r,a.position,e.angle),o.add(r,r,e.position);var g=a.angle+e.angle;if(this.intersectShape(t,a,g,r,e),t.shouldStop(this))break}}},r.prototype.intersectShape=function(t,e,n,r,o){var A=this.from,s=i(A,this.direction,r);s>e.boundingRadius*e.boundingRadius||(this._currentBody=o,this._currentShape=e,e.raycast(t,this,r,n),this._currentBody=this._currentShape=null)},r.prototype.getAABB=function(t){var e=this.to,n=this.from;o.set(t.lowerBound,Math.min(e[0],n[0]),Math.min(e[1],n[1])),o.set(t.upperBound,Math.max(e[0],n[0]),Math.max(e[1],n[1]))};o.create();r.prototype.reportIntersection=function(t,e,n,i){var A=(this.from,this.to,this._currentShape),s=this._currentBody;if(!(this.skipBackfaces&&o.dot(n,this.direction)>0))switch(this.mode){case r.ALL:t.set(n,A,s,e,i),this.callback(t);break;case r.CLOSEST:(e<t.fraction||!t.hasHit())&&t.set(n,A,s,e,i);break;case r.ANY:t.set(n,A,s,e,i)}};var s=o.create(),a=o.create()},function(t,e,n){function r(t,e){i.call(this,t,e,0,Number.MAX_VALUE),this.contactPointA=o.create(),this.penetrationVec=o.create(),this.contactPointB=o.create(),this.normalA=o.create(),this.restitution=0,this.firstImpact=!1,this.shapeA=null,this.shapeB=null}var i=n(3),o=n(1);t.exports=r,r.prototype=new i,r.prototype.constructor=r,r.prototype.computeB=function(t,e,n){var r=this.bodyA,i=this.bodyB,A=this.contactPointA,s=this.contactPointB,a=r.position,g=i.position,u=this.penetrationVec,c=this.normalA,I=this.G,C=o.crossLength(A,c),l=o.crossLength(s,c);
I[0]=-c[0],I[1]=-c[1],I[2]=-C,I[3]=c[0],I[4]=c[1],I[5]=l,o.add(u,g,s),o.sub(u,u,a),o.sub(u,u,A);var h,p;this.firstImpact&&0!==this.restitution?(p=0,h=1/e*(1+this.restitution)*this.computeGW()):(p=o.dot(c,u)+this.offset,h=this.computeGW());var f=this.computeGiMf(),d=-p*t-h*e-n*f;return d}},function(t,e){var n=function(){};t.exports=n,n.prototype={constructor:n,on:function(t,e,n){e.context=n||this,void 0===this._listeners&&(this._listeners={});var r=this._listeners;return void 0===r[t]&&(r[t]=[]),-1===r[t].indexOf(e)&&r[t].push(e),this},has:function(t,e){if(void 0===this._listeners)return!1;var n=this._listeners;if(e){if(void 0!==n[t]&&-1!==n[t].indexOf(e))return!0}else if(void 0!==n[t])return!0;return!1},off:function(t,e){if(void 0===this._listeners)return this;var n=this._listeners,r=n[t].indexOf(e);return-1!==r&&n[t].splice(r,1),this},emit:function(t){if(void 0===this._listeners)return this;var e=this._listeners,n=e[t.type];if(void 0!==n){t.target=this;for(var r=0,i=n.length;i>r;r++){var o=n[r];o.call(o.context,t)}}return this}}},function(t,e,n){function r(t){"number"==typeof arguments[0]&&(t={radius:arguments[0]},console.warn("The Circle constructor signature has changed. Please use the following format: new Circle({ radius: 1 })")),t=t||{},this.radius=t.radius||1,t.type=i.CIRCLE,i.call(this,t)}var i=n(4),o=n(1);t.exports=r,r.prototype=new i,r.prototype.constructor=r,r.prototype.computeMomentOfInertia=function(t){var e=this.radius;return t*e*e/2},r.prototype.updateBoundingRadius=function(){this.boundingRadius=this.radius},r.prototype.updateArea=function(){this.area=Math.PI*this.radius*this.radius},r.prototype.computeAABB=function(t,e,n){var r=this.radius;o.set(t.upperBound,r,r),o.set(t.lowerBound,-r,-r),e&&(o.add(t.lowerBound,t.lowerBound,e),o.add(t.upperBound,t.upperBound,e))};var A=o.create(),s=o.create();r.prototype.raycast=function(t,e,n,r){var i=e.from,a=e.to,g=this.radius,u=Math.pow(a[0]-i[0],2)+Math.pow(a[1]-i[1],2),c=2*((a[0]-i[0])*(i[0]-n[0])+(a[1]-i[1])*(i[1]-n[1])),I=Math.pow(i[0]-n[0],2)+Math.pow(i[1]-n[1],2)-Math.pow(g,2),C=Math.pow(c,2)-4*u*I,l=A,h=s;if(!(0>C))if(0===C)o.lerp(l,i,a,C),o.sub(h,l,n),o.normalize(h,h),e.reportIntersection(t,C,h,-1);else{var p=Math.sqrt(C),f=1/(2*u),d=(-c-p)*f,v=(-c+p)*f;if(d>=0&&1>=d&&(o.lerp(l,i,a,d),o.sub(h,l,n),o.normalize(h,h),e.reportIntersection(t,d,h,-1),t.shouldStop(e)))return;v>=0&&1>=v&&(o.lerp(l,i,a,v),o.sub(h,l,n),o.normalize(h,h),e.reportIntersection(t,v,h,-1))}}},function(t,e){"use strict";t.exports=Date.now||function(){return(new Date).getTime()}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){function e(e,n){var r=new a.Body({mass:1e-4,position:[e,n]});r.TYPE=l;var i=new a.Box({width:h,height:h,material:g.crate});return r.addShape(i),t.addBody(r),r}function n(t,n){return{body:e(t,n),initialPosition:{x:t,y:n},lived:0}}var r=c["default"](60).map(function(t){return n(20+t%12*2,h/2+5+2*Math.floor(t/12))});return{crates:r,sounds:[]}}function o(){var t=.33*Math.sin(this.lived/30%(2*Math.PI));return this.body.position[1]=this.initialPosition.y+t,this}function A(t){return t.filter(function(t){var e=t.bodyA,n=t.bodyB;return e.TYPE===l&&n.TYPE===C["default"]||e.TYPE===C["default"]&&n.TYPE===l}).map(function(t){var e=t.bodyA,n=t.bodyB;return e.TYPE===l?e:n})}function s(t,e,n){var r=A(n.impacts);return r.forEach(function(t){return n.removeBody(t)}),{crates:t.crates.filter(function(t){return-1===r.indexOf(t.body)}).map(function(t){return t.lived+=e.delta,o.call(t)}),sounds:0===r.length?[]:["destroy"]}}Object.defineProperty(e,"__esModule",{value:!0}),e.initial=i,e.update=s;var a=n(8),g=n(24),u=n(86),c=r(u),I=n(11),C=r(I),l={};e["default"]=l;var h=1;e.CRATE_SIZE=h;var p=["_interopRequireDefault","initial","floatAround","getPlaneCollidingCrates","update"],f,d,v,y,y,m,b,w},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(8),i=new r.Material;e.crate=i;var o=new r.Material;e.ground=o;var A=[new r.ContactMaterial(o,i,{friction:50,restitution:.1})];e.contactMaterials=A;var s=[],a,g,u,c,c,I,C,l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=1/35;e.SCALE=r;var i=1.5;e.GROUND_LEVEL=i;var o=[],A,s,a,g,g,u,c,I},function(t,e,n){function r(){this.normal=i.create(),this.shape=null,this.body=null,this.faceIndex=-1,this.fraction=-1,this.isStopped=!1}var i=n(1),o=n(18);t.exports=r,r.prototype.reset=function(){i.set(this.normal,0,0),this.shape=null,this.body=null,this.faceIndex=-1,this.fraction=-1,this.isStopped=!1},r.prototype.getHitDistance=function(t){return i.distance(t.from,t.to)*this.fraction},r.prototype.hasHit=function(){return-1!==this.fraction},r.prototype.getHitPoint=function(t,e){i.lerp(t,e.from,e.to,this.fraction)},r.prototype.stop=function(){this.isStopped=!0},r.prototype.shouldStop=function(t){return this.isStopped||-1!==this.fraction&&t.mode===o.ANY},r.prototype.set=function(t,e,n,r,o){i.copy(this.normal,t),this.shape=e,this.body=n,this.fraction=r,this.faceIndex=o}},function(t,e){function n(t){this.id=t||n.idCounter++}t.exports=n,n.idCounter=0},function(t,e,n){function r(t,e,n){n=i.defaults(n,{stiffness:100,damping:1}),this.stiffness=n.stiffness,this.damping=n.damping,this.bodyA=t,this.bodyB=e}var i=(n(1),n(2));t.exports=r,r.prototype.applyForce=function(){}},function(t,e,n){function r(t){t=t||{},t.type=i.PARTICLE,i.call(this,t)}var i=n(4),o=n(1);t.exports=r,r.prototype=new i,r.prototype.constructor=r,r.prototype.computeMomentOfInertia=function(t){return 0},r.prototype.updateBoundingRadius=function(){this.boundingRadius=0},r.prototype.computeAABB=function(t,e,n){o.copy(t.lowerBound,e),o.copy(t.upperBound,e)}},function(t,e,n){function r(t){t=t||{},t.type=i.PLANE,i.call(this,t)}var i=n(4),o=n(1);n(2);t.exports=r,r.prototype=new i,r.prototype.constructor=r,r.prototype.computeMomentOfInertia=function(t){return 0},r.prototype.updateBoundingRadius=function(){this.boundingRadius=Number.MAX_VALUE},r.prototype.computeAABB=function(t,e,n){var r=n%(2*Math.PI),i=o.set,A=Number.MAX_VALUE,s=t.lowerBound,a=t.upperBound;0===r?(i(s,-A,-A),i(a,A,0)):r===Math.PI/2?(i(s,0,-A),i(a,A,A)):r===Math.PI?(i(s,-A,0),i(a,A,A)):r===3*Math.PI/2?(i(s,-A,-A),i(a,0,A)):(i(s,-A,-A),i(a,A,A)),o.add(s,s,e),o.add(a,a,e)},r.prototype.updateArea=function(){this.area=Number.MAX_VALUE};var A=o.create(),s=(o.create(),o.create(),o.create()),a=o.create();r.prototype.raycast=function(t,e,n,r){var i=e.from,g=e.to,u=e.direction,c=A,I=s,C=a;o.set(I,0,1),o.rotate(I,I,r),o.sub(C,i,n);var l=o.dot(C,I);o.sub(C,g,n);var h=o.dot(C,I);if(!(l*h>0||o.squaredDistance(i,g)<l*l)){var p=o.dot(I,u);o.sub(c,i,n);var f=-o.dot(I,c)/p/e.length;e.reportIntersection(t,f,I,-1)}}},function(t,e,n){function r(t,e){t=t||{},i.call(this),this.type=e,this.equations=[],this.equationSortFunction=t.equationSortFunction||!1}var i=(n(2),n(20));t.exports=r,r.prototype=new i,r.prototype.constructor=r,r.prototype.solve=function(t,e){throw new Error("Solver.solve should be implemented by subclasses!")};var o={bodies:[]};r.prototype.solveIsland=function(t,e){this.removeAllEquations(),e.equations.length&&(this.addEquations(e.equations),o.bodies.length=0,e.getBodies(o.bodies),o.bodies.length&&this.solve(t,o))},r.prototype.sortEquations=function(){this.equationSortFunction&&this.equations.sort(this.equationSortFunction)},r.prototype.addEquation=function(t){t.enabled&&this.equations.push(t)},r.prototype.addEquations=function(t){for(var e=0,n=t.length;e!==n;e++){var r=t[e];r.enabled&&this.equations.push(r)}},r.prototype.removeEquation=function(t){var e=this.equations.indexOf(t);-1!==e&&this.equations.splice(e,1)},r.prototype.removeAllEquations=function(){this.equations.length=0},r.GS=1,r.ISLAND=2},function(t,e,n){var r,i;(function(t,o){(function(){var A,s,a,g,u,c,I,C,l,h,p,f,d,v,y,m,b,w,L,E,B,P,x,S,M,q,D,R,F,T,V,O,N,k,G,W,U,j,H,Y,z,Z,Q,X,J,K,_,$,tt,et,nt,rt,it,ot,At,st,at,gt,ut,ct,It,Ct,lt,ht,pt,ft,dt,vt,yt,mt,bt,wt,Lt,Et={}.hasOwnProperty,Bt=function(t,e){function n(){this.constructor=t}for(var r in e)Et.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},Pt=[].slice,xt=function(t,e){return function(){return t.apply(e,arguments)}};A={toString:function(){return"Bacon"}},A.version="0.7.73",f=("undefined"!=typeof t&&null!==t?t:this).Error,ut=function(){},nt=function(t,e){return e},J=function(t,e){return t},k=function(t){return t.slice(0)},q=function(t,e){if(!e)throw new f(t)},O=function(t){if(t instanceof m&&!(t instanceof b))throw new f("Observable is not a Property : "+t)},R=function(t){if(!(t instanceof p))throw new f("not an EventStream : "+t)},V=function(t){if(!(t instanceof m))throw new f("not an Observable : "+t)},F=function(t){return q("not a function : "+t,P.isFunction(t))},$=function(t){return t instanceof Array},et=function(t){return t instanceof m},D=function(t){if(!$(t))throw new f("not an array : "+t)},T=function(t){return q("no arguments supported",0===t.length)},N=function(t){if("string"!=typeof t)throw new f("not a string : "+t)},P={indexOf:Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){var n,r,i,o;for(n=r=0,i=t.length;i>r;n=++r)if(o=t[n],e===o)return n;return-1},indexWhere:function(t,e){var n,r,i,o;for(n=r=0,i=t.length;i>r;n=++r)if(o=t[n],e(o))return n;return-1},head:function(t){return t[0]},always:function(t){return function(){return t}},negate:function(t){return function(e){return!t(e)}},empty:function(t){return 0===t.length},tail:function(t){return t.slice(1,t.length)},filter:function(t,e){var n,r,i,o;for(n=[],r=0,i=e.length;i>r;r++)o=e[r],t(o)&&n.push(o);return n},map:function(t,e){var n,r,i,o;for(i=[],n=0,r=e.length;r>n;n++)o=e[n],i.push(t(o));return i},each:function(t,e){var n,r;for(n in t)Et.call(t,n)&&(r=t[n],e(n,r));return void 0},toArray:function(t){return $(t)?t:[t]},contains:function(t,e){return-1!==P.indexOf(t,e)},id:function(t){return t},last:function(t){return t[t.length-1]},all:function(t,e){var n,r,i;for(null==e&&(e=P.id),n=0,r=t.length;r>n;n++)if(i=t[n],!e(i))return!1;return!0},any:function(t,e){var n,r,i;for(null==e&&(e=P.id),n=0,r=t.length;r>n;n++)if(i=t[n],e(i))return!0;return!1},without:function(t,e){return P.filter(function(e){return e!==t},e)},remove:function(t,e){var n;return n=P.indexOf(e,t),n>=0?e.splice(n,1):void 0},fold:function(t,e,n){var r,i,o;for(r=0,i=t.length;i>r;r++)o=t[r],e=n(e,o);return e},flatMap:function(t,e){return P.fold(e,[],function(e,n){return e.concat(t(n))})},cached:function(t){var e;return e=y,function(){return e===y&&(e=t(),t=void 0),e}},isFunction:function(t){return"function"==typeof t},toString:function(t){var e,n,r,i;try{return It++,null==t?"undefined":P.isFunction(t)?"function":$(t)?It>5?"[..]":"["+P.map(P.toString,t).toString()+"]":null!=(null!=t?t.toString:void 0)&&t.toString!==Object.prototype.toString?t.toString():"object"==typeof t?It>5?"{..}":(n=function(){var n;n=[];for(r in t)Et.call(t,r)&&(i=function(){try{return t[r]}catch(n){return e=n}}(),n.push(P.toString(r)+":"+P.toString(i)));return n}(),"{"+n+"}"):t}finally{It--}}},It=0,A._=P,B=A.UpdateBarrier=function(){var t,e,n,r,i,o,s,a,g,u,c,I,C,l;return u=void 0,c=[],I={},e=[],n=0,t=function(t){return u?e.push(t):t()},C=function(t,e){var n;return u?(n=I[t.id],null==n?(n=I[t.id]=[e],c.push(t)):n.push(e)):e()},i=function(){for(;c.length>0;)s(0);return void 0},s=function(t){var e,n,r,i,A,s;for(i=c[t],A=i.id,s=I[A],c.splice(t,1),delete I[A],o(i),n=0,r=s.length;r>n;n++)(e=s[n])();return void 0},o=function(t){var e,n,r,i,A;for(n=t.internalDeps(),i=0,A=n.length;A>i;i++)e=n[i],o(e),I[e.id]&&(r=P.indexOf(c,e),s(r));return void 0},g=function(t,r,o,A){var s,a;if(u)return o.apply(r,A);u=t;try{a=o.apply(r,A),i()}finally{for(u=void 0;n<e.length;)s=e[n],n++,s();n=0,e=[]}return a},r=function(){return u?u.id:void 0},l=function(e,n){var r,i,o,s;return s=!1,i=!1,r=function(){return i=!0},o=function(){return s=!0,r()},r=e.dispatcher.subscribe(function(e){return t(function(){var t;return s||(t=n(e),t!==A.noMore)?void 0:o()})}),i&&r(),o},a=function(){return c.length>0},{whenDoneWith:C,hasWaiters:a,inTransaction:g,currentEventId:r,wrappedSubscribe:l,afterTransaction:t}}(),E=function(){function t(t,e,n){this.obs=t,this.sync=e,this.lazy=null!=n?n:!1,this.queue=[]}return t.prototype.subscribe=function(t){return this.obs.dispatcher.subscribe(t)},t.prototype.toString=function(){return this.obs.toString()},t.prototype.markEnded=function(){return this.ended=!0},t.prototype.consume=function(){return this.lazy?{value:P.always(this.queue[0])}:this.queue[0]},t.prototype.push=function(t){return this.queue=[t]},t.prototype.mayHave=function(){return!0},t.prototype.hasAtLeast=function(){return this.queue.length},t.prototype.flatten=!0,t}(),u=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Bt(e,t),e.prototype.consume=function(){return this.queue.shift()},e.prototype.push=function(t){return this.queue.push(t)},e.prototype.mayHave=function(t){return!this.ended||this.queue.length>=t},e.prototype.hasAtLeast=function(t){return this.queue.length>=t},e.prototype.flatten=!1,e}(E),s=function(t){function e(t){e.__super__.constructor.call(this,t,!0)}return Bt(e,t),e.prototype.consume=function(){var t;return t=this.queue,this.queue=[],{value:function(){return t}}},e.prototype.push=function(t){return this.queue.push(t.value())},e.prototype.hasAtLeast=function(){return!0},e}(E),E.isTrigger=function(t){return t instanceof E?t.sync:t instanceof p},E.fromObservable=function(t){return t instanceof E?t:t instanceof b?new E(t,!1):new u(t,!0)},c=function(){function t(t,e,n){this.context=t,this.method=e,this.args=n}return t.prototype.deps=function(){return this.cached||(this.cached=Z([this.context].concat(this.args)))},t.prototype.toString=function(){return P.toString(this.context)+"."+P.toString(this.method)+"("+P.map(P.toString,this.args)+")"},t}(),j=function(){var t,e,n;return e=arguments[0],n=arguments[1],t=3<=arguments.length?Pt.call(arguments,2):[],(e||n)instanceof c?e||n:new c(e,n,t)},wt=function(t,e){return e.desc=t,e},Z=function(t){return $(t)?P.flatMap(Z,t):et(t)?[t]:t instanceof E?[t.obs]:[]},A.Desc=c,A.Desc.empty=new A.Desc("","",[]),Lt=function(t){return function(){var e,n,r,i;return r=arguments[0],e=2<=arguments.length?Pt.call(arguments,1):[],"object"==typeof r&&e.length&&(n=r,i=e[0],r=function(){return n[i].apply(n,arguments)},e=e.slice(1)),t.apply(null,[r].concat(Pt.call(e)))}},ot=function(t){return t=Array.prototype.slice.call(t),At.apply(null,t)},ct=function(t,e){return function(){var n;return n=1<=arguments.length?Pt.call(arguments,0):[],t.apply(null,e.concat(n))}},mt=function(t){return function(e){return function(n){var r;return null==n?void 0:(r=n[e],P.isFunction(r)?r.apply(n,t):r)}}},dt=function(t,e){var n,r;return r=t.slice(1).split("."),n=P.map(mt(e),r),function(e){var r,i;for(r=0,i=n.length;i>r;r++)t=n[r],e=t(e);return e}},tt=function(t){return"string"==typeof t&&t.length>1&&"."===t.charAt(0)},At=Lt(function(){var t,e;return e=arguments[0],t=2<=arguments.length?Pt.call(arguments,1):[],P.isFunction(e)?t.length?ct(e,t):e:tt(e)?dt(e,t):P.always(e)}),it=function(t,e){return At.apply(null,[t].concat(Pt.call(e)))},U=function(t,e,n,r){var i;return e instanceof b?(i=e.sampledBy(t,function(t,e){return[t,e]}),r.call(i,function(t){var e,n;return e=t[0],n=t[1],e}).map(function(t){var e,n;return e=t[0],n=t[1]})):(e=it(e,n),r.call(t,e))},pt=function(t){var e;if(P.isFunction(t))return t;if(tt(t))return e=vt(t),function(t,n){return t[e](n)};throw new f("not a function or a field key: "+t)},vt=function(t){return t.slice(1)},L=function(){function t(t){this.value=t}return t.prototype.getOrElse=function(){return this.value},t.prototype.get=function(){return this.value},t.prototype.filter=function(e){return e(this.value)?new t(this.value):y},t.prototype.map=function(e){return new t(e(this.value))},t.prototype.forEach=function(t){return t(this.value)},t.prototype.isDefined=!0,t.prototype.toArray=function(){return[this.value]},t.prototype.inspect=function(){return"Some("+this.value+")"},t.prototype.toString=function(){return this.inspect()},t}(),y={getOrElse:function(t){return t},filter:function(){return y},map:function(){return y},forEach:function(){},isDefined:!1,toArray:function(){return[]},inspect:function(){return"None"},toString:function(){return this.inspect()}},yt=function(t){return t instanceof L||t===y?t:new L(t)},A.noMore=["<no-more>"],A.more=["<more>"],Y=0,h=function(){function t(){this.id=++Y}return t.prototype.isEvent=function(){return!0},t.prototype.isEnd=function(){return!1},t.prototype.isInitial=function(){return!1},t.prototype.isNext=function(){return!1},t.prototype.isError=function(){return!1},t.prototype.hasValue=function(){return!1},t.prototype.filter=function(){return!0},t.prototype.inspect=function(){return this.toString()},t.prototype.log=function(){return this.toString()},t}(),v=function(t){function e(t,n){return this instanceof e?(e.__super__.constructor.call(this),void(!n&&P.isFunction(t)||t instanceof e?(this.valueF=t,this.valueInternal=void 0):(this.valueF=void 0,this.valueInternal=t))):new e(t,n)}return Bt(e,t),e.prototype.isNext=function(){return!0},e.prototype.hasValue=function(){return!0},e.prototype.value=function(){return this.valueF instanceof e?(this.valueInternal=this.valueF.value(),this.valueF=void 0):this.valueF&&(this.valueInternal=this.valueF(),this.valueF=void 0),this.valueInternal},e.prototype.fmap=function(t){var e,n;return this.valueInternal?(n=this.valueInternal,this.apply(function(){return t(n)})):(e=this,this.apply(function(){return t(e.value())}))},e.prototype.apply=function(t){return new e(t)},e.prototype.filter=function(t){return t(this.value())},e.prototype.toString=function(){return P.toString(this.value())},e.prototype.log=function(){return this.value()},e}(h),d=function(t){function e(t,n){return this instanceof e?void e.__super__.constructor.call(this,t,n):new e(t,n)}return Bt(e,t),e.prototype.isInitial=function(){return!0},e.prototype.isNext=function(){return!1},e.prototype.apply=function(t){return new e(t)},e.prototype.toNext=function(){return new v(this)},e}(v),C=function(t){function e(){return this instanceof e?void 0:new e}return Bt(e,t),e.prototype.isEnd=function(){return!0},e.prototype.fmap=function(){return this},e.prototype.apply=function(){return this},e.prototype.toString=function(){return"<end>"},e}(h),l=function(t){function e(t){return this instanceof e?void(this.error=t):new e(t)}return Bt(e,t),e.prototype.isError=function(){return!0},e.prototype.fmap=function(){return this},e.prototype.apply=function(){return this},e.prototype.toString=function(){return"<error> "+P.toString(this.error)},e}(h),A.Event=h,A.Initial=d,A.Next=v,A.End=C,A.Error=l,_=function(t){return new d(t,!0)},gt=function(t){return new v(t,!0)},H=function(){return new C},ft=function(t){return t instanceof h?t:gt(t)},K=0,lt=function(){},m=function(){function t(t){this.desc=t,this.id=++K,this.initialDesc=this.desc}return t.prototype.subscribe=function(t){return B.wrappedSubscribe(this,t)},t.prototype.subscribeInternal=function(t){return this.dispatcher.subscribe(t)},t.prototype.onValue=function(){var t;return t=ot(arguments),this.subscribe(function(e){return e.hasValue()?t(e.value()):void 0})},t.prototype.onValues=function(t){return this.onValue(function(e){return t.apply(null,e)})},t.prototype.onError=function(){var t;return t=ot(arguments),this.subscribe(function(e){return e.isError()?t(e.error):void 0})},t.prototype.onEnd=function(){var t;return t=ot(arguments),this.subscribe(function(e){return e.isEnd()?t():void 0})},t.prototype.name=function(t){return this._name=t,this},t.prototype.withDescription=function(){return this.desc=j.apply(null,arguments),this},t.prototype.toString=function(){return this._name?this._name:this.desc.toString()},t.prototype.internalDeps=function(){return this.initialDesc.deps()},t}(),m.prototype.assign=m.prototype.onValue,m.prototype.forEach=m.prototype.onValue,m.prototype.inspect=m.prototype.toString,A.Observable=m,g=function(){function t(t){var e,n,r;for(null==t&&(t=[]),this.unsubscribe=xt(this.unsubscribe,this),this.unsubscribed=!1,this.subscriptions=[],this.starting=[],e=0,n=t.length;n>e;e++)r=t[e],this.add(r)}return t.prototype.add=function(t){var e,n,r;if(!this.unsubscribed)return e=!1,n=ut,this.starting.push(t),r=function(r){return function(){return r.unsubscribed?void 0:(e=!0,r.remove(n),P.remove(t,r.starting))}}(this),n=t(this.unsubscribe,r),this.unsubscribed||e?n():this.subscriptions.push(n),P.remove(t,this.starting),n},t.prototype.remove=function(t){return this.unsubscribed?void 0:void 0!==P.remove(t,this.subscriptions)?t():void 0},t.prototype.unsubscribe=function(){var t,e,n,r;if(!this.unsubscribed){for(this.unsubscribed=!0,n=this.subscriptions,t=0,e=n.length;e>t;t++)(r=n[t])();return this.subscriptions=[],this.starting=[]}},t.prototype.count=function(){return this.unsubscribed?0:this.subscriptions.length+this.starting.length},t.prototype.empty=function(){return 0===this.count()},t}(),A.CompositeUnsubscribe=g,I=function(){function t(t,e){this._subscribe=t,this._handleEvent=e,this.subscribe=xt(this.subscribe,this),this.handleEvent=xt(this.handleEvent,this),this.subscriptions=[],this.queue=[]}return t.prototype.pushing=!1,t.prototype.ended=!1,t.prototype.prevError=void 0,t.prototype.unsubSrc=void 0,t.prototype.hasSubscribers=function(){return this.subscriptions.length>0},t.prototype.removeSub=function(t){return this.subscriptions=P.without(t,this.subscriptions)},t.prototype.push=function(t){return t.isEnd()&&(this.ended=!0),B.inTransaction(t,this,this.pushIt,[t])},t.prototype.pushToSubscriptions=function(t){var e,n,r,i,o,s;try{for(s=this.subscriptions,n=0,r=s.length;r>n;n++)o=s[n],i=o.sink(t),(i===A.noMore||t.isEnd())&&this.removeSub(o);return!0}catch(a){throw e=a,this.pushing=!1,this.queue=[],e}},t.prototype.pushIt=function(t){if(this.pushing)return this.queue.push(t),A.more;if(t!==this.prevError){for(t.isError()&&(this.prevError=t),this.pushing=!0,this.pushToSubscriptions(t),this.pushing=!1;this.queue.length;)t=this.queue.shift(),this.push(t);return this.hasSubscribers()?A.more:(this.unsubscribeFromSource(),A.noMore)}},t.prototype.handleEvent=function(t){return this._handleEvent?this._handleEvent(t):this.push(t)},t.prototype.unsubscribeFromSource=function(){return this.unsubSrc&&this.unsubSrc(),this.unsubSrc=void 0},t.prototype.subscribe=function(t){var e;return this.ended?(t(H()),ut):(F(t),e={sink:t},this.subscriptions.push(e),1===this.subscriptions.length&&(this.unsubSrc=this._subscribe(this.handleEvent),F(this.unsubSrc)),function(t){return function(){return t.removeSub(e),t.hasSubscribers()?void 0:t.unsubscribeFromSource()}}(this))},t}(),A.Dispatcher=I,p=function(t){function e(t,n,r){return this instanceof e?(P.isFunction(t)&&(r=n,n=t,t=c.empty),e.__super__.constructor.call(this,t),F(n),this.dispatcher=new I(n,r),void lt(this)):new e(t,n,r)}return Bt(e,t),e.prototype.toProperty=function(t){var e,n;return n=0===arguments.length?y:yt(function(){return t}),e=this.dispatcher,new b(new A.Desc(this,"toProperty",[t]),function(t){var r,i,o,s;return r=!1,s=ut,i=A.more,o=function(){return r?void 0:n.forEach(function(e){return r=!0,i=t(new d(e)),i===A.noMore?(s(),s=ut):void 0})},s=e.subscribe(function(e){return e.hasValue()?r&&e.isInitial()?A.more:(e.isInitial()||o(),r=!0,n=new L(e),t(e)):(e.isEnd()&&(i=o()),i!==A.noMore?t(e):void 0)}),o(),s})},e.prototype.toEventStream=function(){return this},e.prototype.withHandler=function(t){return new e(new A.Desc(this,"withHandler",[t]),this.dispatcher.subscribe,t)},e}(m),A.EventStream=p,A.never=function(){return new p(j(A,"never"),function(t){return t(H()),ut})},A.when=function(){var t,e,n,r,i,o,s,a,g,u,c,I,C,l,h,f,d,v,y,m;if(0===arguments.length)return A.never();for(s=arguments.length,m="when: expecting arguments in the form (Observable+,function)+",q(m,s%2===0),v=[],C=[],e=0,l=[];s>e;){for(l[e]=arguments[e],l[e+1]=arguments[e+1],I=P.toArray(arguments[e]),t=G(arguments[e+1]),c={f:t,ixs:[]},y=!1,i=0,a=I.length;a>i;i++){for(d=I[i],n=P.indexOf(v,d),y||(y=E.isTrigger(d)),0>n&&(v.push(d),n=v.length-1),h=c.ixs,o=0,g=h.length;g>o;o++)r=h[o],r.index===n&&r.count++;c.ixs.push({index:n,count:1})}q("At least one EventStream required",y||!I.length),I.length>0&&C.push(c),e+=2}return v.length?(v=P.map(E.fromObservable,v),u=P.any(v,function(t){return t.flatten})&&W(P.map(function(t){return t.obs},v)),f=new p(new A.Desc(A,"when",l),function(t){var n,r,i,o,s,a,g;return g=[],i=!1,o=function(t){var n,r,i;for(i=t.ixs,n=0,r=i.length;r>n;n++)if(e=i[n],!v[e.index].hasAtLeast(e.count))return!1;return!0},r=function(t){return!t.sync||t.ended},n=function(t){var n,r,i;for(i=t.ixs,n=0,r=i.length;r>n;n++)if(e=i[n],!v[e.index].mayHave(e.count))return!0},s=function(t){return!t.source.flatten},a=function(a){return function(c){var I,l,h;return l=function(){return B.whenDoneWith(f,I)},h=function(){var n,r,i,a,u,c;if(!(g.length>0))return A.more;for(u=A.more,c=g.pop(),r=0,i=C.length;i>r;r++)if(a=C[r],o(a))return n=function(){var t,n,r,i;for(r=a.ixs,i=[],n=0,t=r.length;t>n;n++)e=r[n],i.push(v[e.index].consume());return i}(),u=t(c.e.apply(function(){var t,e;return e=function(){var e,r,i;for(i=[],r=0,e=n.length;e>r;r++)t=n[r],i.push(t.value());return i}(),a.f.apply(a,e)})),g.length&&(g=P.filter(s,g)),u===A.noMore?u:h()},I=function(){var e;return e=h(),i&&(P.all(v,r)||P.all(C,n))&&(e=A.noMore,t(H())),e===A.noMore&&c(),e},a.subscribe(function(e){var n;return e.isEnd()?(i=!0,a.markEnded(),l()):e.isError()?n=t(e):(a.push(e),a.sync&&(g.push({source:a,e:e}),u||B.hasWaiters()?l():I())),n===A.noMore&&c(),n||A.more})}},new A.CompositeUnsubscribe(function(){var t,e,n;for(n=[],t=0,e=v.length;e>t;t++)d=v[t],n.push(a(d));return n}()).unsubscribe})):A.never()},W=function(t,e){var n;return null==e&&(e=[]),n=function(t){var r;return P.contains(e,t)?!0:(r=t.internalDeps(),r.length?(e.push(t),P.any(r,n)):(e.push(t),!1))},P.any(t,n)},G=function(t){return P.isFunction(t)?t:P.always(t)},A.groupSimultaneous=function(){var t,e,n;return n=1<=arguments.length?Pt.call(arguments,0):[],1===n.length&&$(n[0])&&(n=n[0]),e=function(){var e,r,i;for(i=[],e=0,r=n.length;r>e;e++)t=n[e],i.push(new s(t));return i}(),wt(new A.Desc(A,"groupSimultaneous",n),A.when(e,function(){var t;return t=1<=arguments.length?Pt.call(arguments,0):[]}))},w=function(t){function e(t,n,r){this.property=t,this.subscribe=xt(this.subscribe,this),e.__super__.constructor.call(this,n,r),this.current=y,this.currentValueRootId=void 0,this.propertyEnded=!1}return Bt(e,t),e.prototype.push=function(t){return t.isEnd()&&(this.propertyEnded=!0),t.hasValue()&&(this.current=new L(t),this.currentValueRootId=B.currentEventId()),e.__super__.push.call(this,t)},e.prototype.maybeSubSource=function(t,e){return e===A.noMore?ut:this.propertyEnded?(t(H()),ut):I.prototype.subscribe.call(this,t)},e.prototype.subscribe=function(t){var e,n,r,i;return n=!1,r=A.more,this.current.isDefined&&(this.hasSubscribers()||this.propertyEnded)?(e=B.currentEventId(),i=this.currentValueRootId,!this.propertyEnded&&i&&e&&e!==i?(B.whenDoneWith(this.property,function(e){return function(){return e.currentValueRootId===i?t(_(e.current.get().value())):void 0}}(this)),this.maybeSubSource(t,r)):(B.inTransaction(void 0,this,function(){return r=t(_(this.current.get().value()))},[]),this.maybeSubSource(t,r))):this.maybeSubSource(t,r)},e}(I),b=function(t){function e(t,n,r){e.__super__.constructor.call(this,t),F(n),this.dispatcher=new w(this,n,r),lt(this)}return Bt(e,t),e.prototype.changes=function(){return new p(new A.Desc(this,"changes",[]),function(t){return function(e){return t.dispatcher.subscribe(function(t){return t.isInitial()?void 0:e(t)})}}(this))},e.prototype.withHandler=function(t){return new e(new A.Desc(this,"withHandler",[t]),this.dispatcher.subscribe,t)},e.prototype.toProperty=function(){return T(arguments),this},e.prototype.toEventStream=function(){return new p(new A.Desc(this,"toEventStream",[]),function(t){return function(e){return t.dispatcher.subscribe(function(t){return t.isInitial()&&(t=t.toNext()),e(t)})}}(this))},e}(m),A.Property=b,A.constant=function(t){return new b(new A.Desc(A,"constant",[t]),function(e){return e(_(t)),e(H()),ut})},A.fromBinder=function(t,e){return null==e&&(e=P.id),new p(new A.Desc(A,"fromBinder",[t,e]),function(n){var r,i,o,s;return s=!1,r=!1,i=function(){return s?void 0:"undefined"!=typeof o&&null!==o?(o(),s=!0):r=!0},o=t(function(){var t,r,o,s,a,g;for(t=1<=arguments.length?Pt.call(arguments,0):[],g=e.apply(this,t),$(g)&&P.last(g)instanceof h||(g=[g]),a=A.more,o=0,s=g.length;s>o;o++)if(r=g[o],a=n(r=ft(r)),a===A.noMore||r.isEnd())return i(),a;return a}),r&&i(),i})},z=[["addEventListener","removeEventListener"],["addListener","removeListener"],["on","off"],["bind","unbind"]],Q=function(t){var e,n,r,i;for(e=0,n=z.length;n>e;e++)if(i=z[e],r=[t[i[0]],t[i[1]]],r[0]&&r[1])return r;throw new l("No suitable event methods in "+t)},A.fromEventTarget=function(t,e,n){var r,i,o;return r=Q(t),i=r[0],o=r[1],wt(new A.Desc(A,"fromEvent",[t,e]),A.fromBinder(function(n){return i.call(t,e,n),function(){return o.call(t,e,n)}},n))},A.fromEvent=A.fromEventTarget,A.Observable.prototype.map=function(){var t,e;return e=arguments[0],t=2<=arguments.length?Pt.call(arguments,1):[],U(this,e,t,function(t){return wt(new A.Desc(this,"map",[t]),this.withHandler(function(e){return this.push(e.fmap(t))}))})},S=function(t){return $(t[0])?t[0]:Array.prototype.slice.call(t)},M=function(t){return P.isFunction(t[0])?[S(Array.prototype.slice.call(t,1)),t[0]]:[S(Array.prototype.slice.call(t,0,t.length-1)),P.last(t)]},A.combineAsArray=function(){var t,e,n,r,i,o,s;for(s=S(arguments),t=e=0,n=s.length;n>e;t=++e)o=s[t],et(o)||(s[t]=A.constant(o));return s.length?(i=function(){var t,e,n;for(n=[],t=0,e=s.length;e>t;t++)r=s[t],n.push(new E(r,!0));return n}(),wt(new A.Desc(A,"combineAsArray",s),A.when(i,function(){var t;return t=1<=arguments.length?Pt.call(arguments,0):[]}).toProperty())):A.constant([])},A.onValues=function(){var t,e,n;return n=2<=arguments.length?Pt.call(arguments,0,e=arguments.length-1):(e=0,[]),t=arguments[e++],A.combineAsArray(n).onValues(t)},A.combineWith=function(){var t,e,n;return e=M(arguments),n=e[0],t=e[1],wt(new A.Desc(A,"combineWith",[t].concat(Pt.call(n))),A.combineAsArray(n).map(function(e){return t.apply(null,e)}))},A.Observable.prototype.combine=function(t,e){var n;return n=pt(e),wt(new A.Desc(this,"combine",[t,e]),A.combineAsArray(this,t).map(function(t){return n(t[0],t[1])}))},A.Observable.prototype.withStateMachine=function(t,e){var n;return n=t,wt(new A.Desc(this,"withStateMachine",[t,e]),this.withHandler(function(t){var r,i,o,s,a,g,u;for(r=e(n,t),s=r[0],g=r[1],n=s,u=A.more,i=0,o=g.length;o>i;i++)if(a=g[i],u=this.push(a),u===A.noMore)return u;return u}))},A.Observable.prototype.skipDuplicates=function(t){return null==t&&(t=function(t,e){return t===e}),wt(new A.Desc(this,"skipDuplicates",[]),this.withStateMachine(y,function(e,n){return n.hasValue()?n.isInitial()||e===y||!t(e.get(),n.value())?[new L(n.value()),[n]]:[e,[]]:[e,[n]]}))},A.Observable.prototype.awaiting=function(t){return wt(new A.Desc(this,"awaiting",[t]),A.groupSimultaneous(this,t).map(function(t){var e,n;return e=t[0],n=t[1],0===n.length}).toProperty(!1).skipDuplicates())},A.Observable.prototype.not=function(){return wt(new A.Desc(this,"not",[]),this.map(function(t){return!t}))},A.Property.prototype.and=function(t){return wt(new A.Desc(this,"and",[t]),this.combine(t,function(t,e){return t&&e}))},A.Property.prototype.or=function(t){return wt(new A.Desc(this,"or",[t]),this.combine(t,function(t,e){return t||e}))},A.scheduler={setTimeout:function(t,e){return setTimeout(t,e)},setInterval:function(t,e){return setInterval(t,e)},clearInterval:function(t){return clearInterval(t)},clearTimeout:function(t){return clearTimeout(t)},now:function(){return(new Date).getTime()}},A.EventStream.prototype.bufferWithTime=function(t){return wt(new A.Desc(this,"bufferWithTime",[t]),this.bufferWithTimeOrCount(t,Number.MAX_VALUE));
},A.EventStream.prototype.bufferWithCount=function(t){return wt(new A.Desc(this,"bufferWithCount",[t]),this.bufferWithTimeOrCount(void 0,t))},A.EventStream.prototype.bufferWithTimeOrCount=function(t,e){var n;return n=function(n){return n.values.length===e?n.flush():void 0!==t?n.schedule():void 0},wt(new A.Desc(this,"bufferWithTimeOrCount",[t,e]),this.buffer(t,n,n))},A.EventStream.prototype.buffer=function(t,e,n){var r,i,o;return null==e&&(e=ut),null==n&&(n=ut),r={scheduled:null,end:void 0,values:[],flush:function(){var t,e;if(this.scheduled&&(A.scheduler.clearTimeout(this.scheduled),this.scheduled=null),this.values.length>0){if(e=this.values,this.values=[],t=this.push(gt(e)),null!=this.end)return this.push(this.end);if(t!==A.noMore)return n(this)}else if(null!=this.end)return this.push(this.end)},schedule:function(){return this.scheduled?void 0:this.scheduled=t(function(t){return function(){return t.flush()}}(this))}},o=A.more,P.isFunction(t)||(i=t,t=function(t){return A.scheduler.setTimeout(t,i)}),wt(new A.Desc(this,"buffer",[]),this.withHandler(function(t){return r.push=function(t){return function(e){return t.push(e)}}(this),t.isError()?o=this.push(t):t.isEnd()?(r.end=t,r.scheduled||r.flush()):(r.values.push(t.value()),e(r)),o}))},A.Observable.prototype.filter=function(){var t,e;return e=arguments[0],t=2<=arguments.length?Pt.call(arguments,1):[],O(e),U(this,e,t,function(t){return wt(new A.Desc(this,"filter",[t]),this.withHandler(function(e){return e.filter(t)?this.push(e):A.more}))})},A.once=function(t){return new p(new c(A,"once",[t]),function(e){return e(ft(t)),e(H()),ut})},A.EventStream.prototype.concat=function(t){var e;return e=this,new p(new A.Desc(e,"concat",[t]),function(n){var r,i;return i=ut,r=e.dispatcher.subscribe(function(e){return e.isEnd()?i=t.dispatcher.subscribe(n):n(e)}),function(){return r(),i()}})},A.Observable.prototype.flatMap=function(){return X(this,at(arguments))},A.Observable.prototype.flatMapFirst=function(){return X(this,at(arguments),!0)},X=function(t,e,n,r){var i,o,s;return s=[t],i=[],o=new p(new A.Desc(t,"flatMap"+(n?"First":""),[e]),function(o){var s,a,u,c,I;return u=new g,c=[],I=function(t){var n;return n=st(e(t.value())),i.push(n),u.add(function(t,e){return n.dispatcher.subscribe(function(r){var g;return r.isEnd()?(P.remove(n,i),a(),s(e),A.noMore):(r instanceof d&&(r=r.toNext()),g=o(r),g===A.noMore&&t(),g)})})},a=function(){var t;return t=c.shift(),t?I(t):void 0},s=function(t){return t(),u.empty()?o(H()):void 0},u.add(function(e,i){return t.dispatcher.subscribe(function(t){return t.isEnd()?s(i):t.isError()?o(t):n&&u.count()>1?A.more:u.unsubscribed?A.noMore:r&&u.count()>r?c.push(t):I(t)})}),u.unsubscribe}),o.internalDeps=function(){return i.length?s.concat(i):s},o},at=function(t){return 1===t.length&&et(t[0])?P.always(t[0]):ot(t)},st=function(t){return et(t)?t:A.once(t)},A.Observable.prototype.flatMapWithConcurrencyLimit=function(){var t,e;return e=arguments[0],t=2<=arguments.length?Pt.call(arguments,1):[],wt(new A.Desc(this,"flatMapWithConcurrencyLimit",[e].concat(Pt.call(t))),X(this,at(t),!1,e))},A.Observable.prototype.flatMapConcat=function(){return wt(new A.Desc(this,"flatMapConcat",Array.prototype.slice.call(arguments,0)),this.flatMapWithConcurrencyLimit.apply(this,[1].concat(Pt.call(arguments))))},A.later=function(t,e){return wt(new A.Desc(A,"later",[t,e]),A.fromBinder(function(n){var r,i;return i=function(){return n([e,H()])},r=A.scheduler.setTimeout(i,t),function(){return A.scheduler.clearTimeout(r)}}))},A.Observable.prototype.bufferingThrottle=function(t){return wt(new A.Desc(this,"bufferingThrottle",[t]),this.flatMapConcat(function(e){return A.once(e).concat(A.later(t).filter(!1))}))},A.Property.prototype.bufferingThrottle=function(){return A.Observable.prototype.bufferingThrottle.apply(this,arguments).toProperty()},a=function(t){function e(){return this.guardedSink=xt(this.guardedSink,this),this.subscribeAll=xt(this.subscribeAll,this),this.unsubAll=xt(this.unsubAll,this),this instanceof e?(this.sink=void 0,this.subscriptions=[],this.ended=!1,void e.__super__.constructor.call(this,new A.Desc(A,"Bus",[]),this.subscribeAll)):new e}return Bt(e,t),e.prototype.unsubAll=function(){var t,e,n,r;for(n=this.subscriptions,t=0,e=n.length;e>t;t++)r=n[t],"function"==typeof r.unsub&&r.unsub();return void 0},e.prototype.subscribeAll=function(t){var e,n,r,i;if(this.ended)t(H());else for(this.sink=t,r=k(this.subscriptions),e=0,n=r.length;n>e;e++)i=r[e],this.subscribeInput(i);return this.unsubAll},e.prototype.guardedSink=function(t){return function(e){return function(n){return n.isEnd()?(e.unsubscribeInput(t),A.noMore):e.sink(n)}}(this)},e.prototype.subscribeInput=function(t){return t.unsub=t.input.dispatcher.subscribe(this.guardedSink(t.input))},e.prototype.unsubscribeInput=function(t){var e,n,r,i,o;for(i=this.subscriptions,e=n=0,r=i.length;r>n;e=++n)if(o=i[e],o.input===t)return"function"==typeof o.unsub&&o.unsub(),void this.subscriptions.splice(e,1)},e.prototype.plug=function(t){var e;return V(t),this.ended?void 0:(e={input:t},this.subscriptions.push(e),null!=this.sink&&this.subscribeInput(e),function(e){return function(){return e.unsubscribeInput(t)}}(this))},e.prototype.end=function(){return this.ended=!0,this.unsubAll(),"function"==typeof this.sink?this.sink(H()):void 0},e.prototype.push=function(t){return this.ended?void 0:"function"==typeof this.sink?this.sink(gt(t)):void 0},e.prototype.error=function(t){return"function"==typeof this.sink?this.sink(new l(t)):void 0},e}(p),A.Bus=a,rt=function(t,e){return Lt(function(){var n,r,i;return r=arguments[0],n=2<=arguments.length?Pt.call(arguments,1):[],i=ct(e,[function(t,e){return r.apply(null,Pt.call(t).concat([e]))}]),wt(new A.Desc(A,t,[r].concat(Pt.call(n))),A.combineAsArray(n).flatMap(i))})},A.fromCallback=rt("fromCallback",function(){var t,e;return e=arguments[0],t=2<=arguments.length?Pt.call(arguments,1):[],A.fromBinder(function(n){return it(e,t)(n),ut},function(t){return[t,H()]})}),A.fromNodeCallback=rt("fromNodeCallback",function(){var t,e;return e=arguments[0],t=2<=arguments.length?Pt.call(arguments,1):[],A.fromBinder(function(n){return it(e,t)(n),ut},function(t,e){return t?[new l(t),H()]:[e,H()]})}),A.combineTemplate=function(t){var e,n,r,i,o,s,a,g,u,c,I;return a=[],I=[],s=function(t){return t[t.length-1]},c=function(t,e,n){return s(t)[e]=n},e=function(t,e){return function(n,r){return c(n,t,r[e])}},o=function(t,e){return function(n){return c(n,t,e)}},g=function(t){return $(t)?[]:{}},u=function(t,e){return function(n){var r;return r=g(e),c(n,t,r),n.push(r)}},r=function(t,n){var r;return et(n)?(I.push(n),a.push(e(t,I.length-1))):n!==Object(n)||"function"==typeof n||n instanceof RegExp||n instanceof Date?a.push(o(t,n)):(r=function(t){return t.pop()},a.push(u(t,n)),i(n),a.push(r))},i=function(t){return P.each(t,r)},i(t),n=function(e){var n,r,i,o,A;for(A=g(t),n=[A],i=0,o=a.length;o>i;i++)(r=a[i])(n,e);return A},wt(new A.Desc(A,"combineTemplate",[t]),A.combineAsArray(I).map(n))},x=function(t,e){var n;return n=new p(j(t,"justInitValue"),function(e){var r,i;return i=void 0,r=t.dispatcher.subscribe(function(t){return t.isEnd()||(i=t),A.noMore}),B.whenDoneWith(n,function(){return null!=i&&e(i),e(H())}),r}),n.concat(e).toProperty()},A.Observable.prototype.mapEnd=function(){var t;return t=ot(arguments),wt(new A.Desc(this,"mapEnd",[t]),this.withHandler(function(e){return e.isEnd()?(this.push(gt(t(e))),this.push(H()),A.noMore):this.push(e)}))},A.Observable.prototype.skipErrors=function(){return wt(new A.Desc(this,"skipErrors",[]),this.withHandler(function(t){return t.isError()?A.more:this.push(t)}))},A.EventStream.prototype.takeUntil=function(t){var e;return e={},wt(new A.Desc(this,"takeUntil",[t]),A.groupSimultaneous(this.mapEnd(e),t.skipErrors()).withHandler(function(n){var r,i,o,s,a,g;if(n.hasValue()){if(s=n.value(),r=s[0],t=s[1],t.length)return this.push(H());for(a=A.more,i=0,o=r.length;o>i;i++)g=r[i],a=g===e?this.push(H()):this.push(gt(g));return a}return this.push(n)}))},A.Property.prototype.takeUntil=function(t){var e;return e=this.changes().takeUntil(t),wt(new A.Desc(this,"takeUntil",[t]),x(this,e))},A.Observable.prototype.flatMapLatest=function(){var t,e;return t=at(arguments),e=this.toEventStream(),wt(new A.Desc(this,"flatMapLatest",[t]),e.flatMap(function(n){return st(t(n)).takeUntil(e)}))},A.Property.prototype.delayChanges=function(t,e){return wt(t,x(this,e(this.changes())))},A.EventStream.prototype.delay=function(t){return wt(new A.Desc(this,"delay",[t]),this.flatMap(function(e){return A.later(t,e)}))},A.Property.prototype.delay=function(t){return this.delayChanges(new A.Desc(this,"delay",[t]),function(e){return e.delay(t)})},A.EventStream.prototype.debounce=function(t){return wt(new A.Desc(this,"debounce",[t]),this.flatMapLatest(function(e){return A.later(t,e)}))},A.Property.prototype.debounce=function(t){return this.delayChanges(new A.Desc(this,"debounce",[t]),function(e){return e.debounce(t)})},A.EventStream.prototype.debounceImmediate=function(t){return wt(new A.Desc(this,"debounceImmediate",[t]),this.flatMapFirst(function(e){return A.once(e).concat(A.later(t).filter(!1))}))},A.Observable.prototype.decode=function(t){return wt(new A.Desc(this,"decode",[t]),this.combine(A.combineTemplate(t),function(t,e){return e[t]}))},A.Observable.prototype.scan=function(t,e){var n,r,i,o;return e=pt(e),n=yt(t),r=!1,o=function(t){return function(o){var s,a,g,u;return s=!1,u=ut,a=A.more,g=function(){return s?void 0:n.forEach(function(t){return s=r=!0,a=o(new d(function(){return t})),a===A.noMore?(u(),u=ut):void 0})},u=t.dispatcher.subscribe(function(t){var i,u;return t.hasValue()?r&&t.isInitial()?A.more:(t.isInitial()||g(),s=r=!0,u=n.getOrElse(void 0),i=e(u,t.value()),n=new L(i),o(t.apply(function(){return i}))):(t.isEnd()&&(a=g()),a!==A.noMore?o(t):void 0)}),B.whenDoneWith(i,g),u}}(this),i=new b(new A.Desc(this,"scan",[t,e]),o)},A.Observable.prototype.diff=function(t,e){return e=pt(e),wt(new A.Desc(this,"diff",[t,e]),this.scan([t],function(t,n){return[n,e(t[0],n)]}).filter(function(t){return 2===t.length}).map(function(t){return t[1]}))},A.Observable.prototype.doAction=function(){var t;return t=ot(arguments),wt(new A.Desc(this,"doAction",[t]),this.withHandler(function(e){return e.hasValue()&&t(e.value()),this.push(e)}))},A.Observable.prototype.doError=function(){var t;return t=ot(arguments),wt(new A.Desc(this,"doError",[t]),this.withHandler(function(e){return e.isError()&&t(e.error),this.push(e)}))},A.Observable.prototype.doLog=function(){var t;return t=1<=arguments.length?Pt.call(arguments,0):[],wt(new A.Desc(this,"doLog",t),this.withHandler(function(e){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.log&&console.log.apply(console,Pt.call(t).concat([e.log()])),this.push(e)}))},A.Observable.prototype.endOnError=function(){var t,e;return e=arguments[0],t=2<=arguments.length?Pt.call(arguments,1):[],null==e&&(e=!0),U(this,e,t,function(t){return wt(new A.Desc(this,"endOnError",[]),this.withHandler(function(e){return e.isError()&&t(e.error)?(this.push(e),this.push(H())):this.push(e)}))})},m.prototype.errors=function(){return wt(new A.Desc(this,"errors",[]),this.filter(function(){return!1}))},bt=function(t){return[t,H()]},A.fromPromise=function(t,e,n){return null==n&&(n=bt),wt(new A.Desc(A,"fromPromise",[t]),A.fromBinder(function(n){var r;return null!=(r=t.then(n,function(t){return n(new l(t))}))&&"function"==typeof r.done&&r.done(),function(){return e&&"function"==typeof t.abort?t.abort():void 0}},n))},A.Observable.prototype.mapError=function(){var t;return t=ot(arguments),wt(new A.Desc(this,"mapError",[t]),this.withHandler(function(e){return e.isError()?this.push(gt(t(e.error))):this.push(e)}))},A.Observable.prototype.flatMapError=function(t){return wt(new A.Desc(this,"flatMapError",[t]),this.mapError(function(t){return new l(t)}).flatMap(function(e){return e instanceof l?t(e.error):A.once(e)}))},A.EventStream.prototype.sampledBy=function(t,e){return wt(new A.Desc(this,"sampledBy",[t,e]),this.toProperty().sampledBy(t,e))},A.Property.prototype.sampledBy=function(t,e){var n,r,i,o,s;return null!=e?e=pt(e):(n=!0,e=function(t){return t.value()}),s=new E(this,!1,n),i=new E(t,!0,n),o=A.when([s,i],e),r=t instanceof b?o.toProperty():o,wt(new A.Desc(this,"sampledBy",[t,e]),r)},A.Property.prototype.sample=function(t){return wt(new A.Desc(this,"sample",[t]),this.sampledBy(A.interval(t,{})))},A.Observable.prototype.map=function(){var t,e;return e=arguments[0],t=2<=arguments.length?Pt.call(arguments,1):[],e instanceof b?e.sampledBy(this,J):U(this,e,t,function(t){return wt(new A.Desc(this,"map",[t]),this.withHandler(function(e){return this.push(e.fmap(t))}))})},A.Observable.prototype.fold=function(t,e){return wt(new A.Desc(this,"fold",[t,e]),this.scan(t,e).sampledBy(this.filter(!1).mapEnd().toProperty()))},m.prototype.reduce=m.prototype.fold,A.fromPoll=function(t,e){return wt(new A.Desc(A,"fromPoll",[t,e]),A.fromBinder(function(e){var n;return n=A.scheduler.setInterval(e,t),function(){return A.scheduler.clearInterval(n)}},e))},A.Observable.prototype.groupBy=function(t,e){var n,r;return null==e&&(e=A._.id),r={},n=this,n.filter(function(e){return!r[t(e)]}).map(function(i){var o,s,a,g;return s=t(i),g=n.filter(function(e){return t(e)===s}),o=A.once(i).concat(g),a=e(o,i).withHandler(function(t){return this.push(t),t.isEnd()?delete r[s]:void 0}),r[s]=a})},A.fromArray=function(t){var e;return D(t),t.length?(e=0,new p(new A.Desc(A,"fromArray",[t]),function(n){var r,i,o,s,a;return a=!1,s=A.more,o=!1,i=!1,r=function(){var g;if(i=!0,!o){for(o=!0;i;)i=!1,s===A.noMore||a||(g=t[e++],s=n(ft(g)),s!==A.noMore&&(e===t.length?n(H()):B.afterTransaction(r)));return o=!1}},r(),function(){return a=!0}})):wt(new A.Desc(A,"fromArray",t),A.never())},A.EventStream.prototype.holdWhen=function(t){var e,n,r;return n=!1,e=[],r=this,new p(new A.Desc(this,"holdWhen",[t]),function(i){var o,A,s;return o=new g,s=!1,A=function(t){return"function"==typeof t&&t(),o.empty()&&s?i(H()):void 0},o.add(function(r,o){return t.subscribeInternal(function(t){var r,s,a,g,u;if(!t.hasValue())return t.isEnd()?A(o):i(t);if(n=t.value(),!n){for(g=e,e=[],a=[],r=0,s=g.length;s>r;r++)u=g[r],a.push(i(gt(u)));return a}})}),o.add(function(t,o){return r.subscribeInternal(function(t){return n&&t.hasValue()?e.push(t.value()):t.isEnd()&&e.length?A(o):i(t)})}),s=!0,A(),o.unsubscribe})},A.interval=function(t,e){return null==e&&(e={}),wt(new A.Desc(A,"interval",[t,e]),A.fromPoll(t,function(){return gt(e)}))},A.$={},A.$.asEventStream=function(t,e,n){var r;return P.isFunction(e)&&(r=[e,void 0],n=r[0],e=r[1]),wt(new A.Desc(this.selector||this,"asEventStream",[t]),A.fromBinder(function(n){return function(r){return n.on(t,e,r),function(){return n.off(t,e,r)}}}(this),n))},null!=(Ct="undefined"!=typeof jQuery&&null!==jQuery?jQuery:"undefined"!=typeof Zepto&&null!==Zepto?Zepto:void 0)&&(Ct.fn.asEventStream=A.$.asEventStream),A.Observable.prototype.log=function(){var t;return t=1<=arguments.length?Pt.call(arguments,0):[],this.subscribe(function(e){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.log?console.log.apply(console,Pt.call(t).concat([e.log()])):void 0}),this},A.EventStream.prototype.merge=function(t){var e;return R(t),e=this,wt(new A.Desc(e,"merge",[t]),A.mergeAll(this,t))},A.mergeAll=function(){var t;return t=S(arguments),t.length?new p(new A.Desc(A,"mergeAll",t),function(e){var n,r,i;return n=0,i=function(r){return function(i){return r.dispatcher.subscribe(function(r){var o;return r.isEnd()?(n++,n===t.length?e(H()):A.more):(o=e(r),o===A.noMore&&i(),o)})}},r=P.map(i,t),new A.CompositeUnsubscribe(r).unsubscribe}):A.never()},A.repeatedly=function(t,e){var n;return n=0,wt(new A.Desc(A,"repeatedly",[t,e]),A.fromPoll(t,function(){return e[n++%e.length]}))},A.repeat=function(t){var e;return e=0,A.fromBinder(function(n){var r,i,o,s,a;return r=!1,o=A.more,a=function(){},i=function(t){return t.isEnd()?r?s():r=!0:o=n(t)},s=function(){var s;for(r=!0;r&&o!==A.noMore;)s=t(e++),r=!1,s?a=s.subscribeInternal(i):n(H());return r=!0},s(),function(){return a()}})},A.retry=function(t){var e,n,r,i,o,s,a;if(!P.isFunction(t.source))throw new f("'source' option has to be a function");return a=t.source,s=t.retries||0,o=t.maxRetries||s,e=t.delay||function(){return 0},i=t.isRetryable||function(){return!0},r=!1,n=null,wt(new A.Desc(A,"retry",[t]),A.repeat(function(){var t,g,u;return r?null:(u=function(){return a().endOnError().withHandler(function(t){return t.isError()?(n=t,i(n.error)&&s>0?void 0:(r=!0,this.push(t))):(t.hasValue()&&(n=null,r=!0),this.push(t))})},n?(t={error:n.error,retriesDone:o-s},g=A.later(e(t)).filter(!1),s-=1,g.concat(A.once().flatMap(u))):u())}))},A.sequentially=function(t,e){var n;return n=0,wt(new A.Desc(A,"sequentially",[t,e]),A.fromPoll(t,function(){var t;return t=e[n++],n<e.length?t:n===e.length?[t,H()]:H()}))},A.Observable.prototype.skip=function(t){return wt(new A.Desc(this,"skip",[t]),this.withHandler(function(e){return e.hasValue()&&t>0?(t--,A.more):this.push(e)}))},A.Observable.prototype.take=function(t){return 0>=t?A.never():wt(new A.Desc(this,"take",[t]),this.withHandler(function(e){return e.hasValue()?(t--,t>0?this.push(e):(0===t&&this.push(e),this.push(H()),A.noMore)):this.push(e)}))},A.EventStream.prototype.skipUntil=function(t){var e;return e=t.take(1).map(!0).toProperty(!1),wt(new A.Desc(this,"skipUntil",[t]),this.filter(e))},A.EventStream.prototype.skipWhile=function(){var t,e,n;return e=arguments[0],t=2<=arguments.length?Pt.call(arguments,1):[],O(e),n=!1,U(this,e,t,function(t){return wt(new A.Desc(this,"skipWhile",[t]),this.withHandler(function(e){return!n&&e.hasValue()&&t(e.value())?A.more:(e.hasValue()&&(n=!0),this.push(e))}))})},A.Observable.prototype.slidingWindow=function(t,e){return null==e&&(e=0),wt(new A.Desc(this,"slidingWindow",[t,e]),this.scan([],function(e,n){return e.concat([n]).slice(-t)}).filter(function(t){return t.length>=e}))},A.spy=function(t){return ht.push(t)},ht=[],lt=function(t){var e,n,r;if(ht.length&&!lt.running)try{for(lt.running=!0,e=0,n=ht.length;n>e;e++)(r=ht[e])(t)}finally{delete lt.running}return void 0},A.Property.prototype.startWith=function(t){return wt(new A.Desc(this,"startWith",[t]),this.scan(t,function(t,e){return e}))},A.EventStream.prototype.startWith=function(t){return wt(new A.Desc(this,"startWith",[t]),A.once(t).concat(this))},A.Observable.prototype.takeWhile=function(){var t,e;return e=arguments[0],t=2<=arguments.length?Pt.call(arguments,1):[],O(e),U(this,e,t,function(t){return wt(new A.Desc(this,"takeWhile",[t]),this.withHandler(function(e){return e.filter(t)?this.push(e):(this.push(H()),A.noMore)}))})},A.update=function(){var t,e,n,r;for(e=arguments[0],r=2<=arguments.length?Pt.call(arguments,1):[],n=function(t){return function(){var e;return e=1<=arguments.length?Pt.call(arguments,0):[],function(n){return t.apply(null,[n].concat(e))}}},t=r.length-1;t>0;)r[t]instanceof Function||(r[t]=function(t){return function(){return t}}(r[t])),r[t]=n(r[t]),t-=2;return wt(new A.Desc(A,"update",[e].concat(Pt.call(r))),A.when.apply(A,r).scan(e,function(t,e){return e(t)}))},A.zipAsArray=function(){var t;return t=S(arguments),wt(new A.Desc(A,"zipAsArray",t),A.zipWith(t,function(){var t;return t=1<=arguments.length?Pt.call(arguments,0):[]}))},A.zipWith=function(){var t,e,n;return e=M(arguments),n=e[0],t=e[1],n=P.map(function(t){return t.toEventStream()},n),wt(new A.Desc(A,"zipWith",[t].concat(Pt.call(n))),A.when(n,t))},A.Observable.prototype.zip=function(t,e){return null==e&&(e=Array),wt(new A.Desc(this,"zip",[t]),A.zipWith([this,t],e))},A.Observable.prototype.first=function(){return wt(new A.Desc(this,"first",[]),this.take(1))},A.Observable.prototype.last=function(){var t;return wt(new A.Desc(this,"last",[]),this.withHandler(function(e){return e.isEnd()?(t&&this.push(t),this.push(H()),A.noMore):void(t=e)}))},A.EventStream.prototype.throttle=function(t){return wt(new A.Desc(this,"throttle",[t]),this.bufferWithTime(t).map(function(t){return t[t.length-1]}))},A.Property.prototype.throttle=function(t){return this.delayChanges(new A.Desc(this,"throttle",[t]),function(e){return e.throttle(t)})},m.prototype.firstToPromise=function(t){var e=this;if("function"!=typeof t){if("function"!=typeof Promise)throw new f("There isn't default Promise, use shim or parameter");t=Promise}return new t(function(t,n){return e.subscribe(function(e){return e.hasValue()&&t(e.value()),e.isError()&&n(e.error),A.noMore})})},m.prototype.toPromise=function(t){return this.last().firstToPromise(t)},null!==n(124)&&null!=n(125)?(r=[],i=function(){return A}.apply(e,r),!(void 0!==i&&(o.exports=i)),"undefined"!=typeof this&&null!==this&&(this.Bacon=A)):"undefined"!=typeof o&&null!==o&&null!=o.exports?(o.exports=A,A.Bacon=A):this.Bacon=A}).call(this)}).call(e,function(){return this}(),n(126)(t))},function(t,e){var n,r=Object.prototype.hasOwnProperty,i=Object.prototype.toString,o=function(t){return"function"==typeof Array.isArray?Array.isArray(t):"[object Array]"===i.call(t)},A=function(t){"use strict";if(!t||"[object Object]"!==i.call(t))return!1;var e=r.call(t,"constructor"),o=t.constructor&&t.constructor.prototype&&r.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!e&&!o)return!1;var A;for(A in t);return A===n||r.call(t,A)};t.exports=function s(){"use strict";var t,e,r,i,a,g,u=arguments[0],c=1,I=arguments.length,C=!1;for("boolean"==typeof u?(C=u,u=arguments[1]||{},c=2):("object"!=typeof u&&"function"!=typeof u||null==u)&&(u={});I>c;++c)if(t=arguments[c],null!=t)for(e in t)r=u[e],i=t[e],u!==i&&(C&&i&&(A(i)||(a=o(i)))?(a?(a=!1,g=r&&o(r)?r:[]):g=r&&A(r)?r:{},u[e]=s(C,g,i)):i!==n&&(u[e]=i));return u}},function(t,e){t.exports={name:"p2",version:"0.7.0",description:"A JavaScript 2D physics engine.",author:{name:"Stefan Hedman",email:"schteppe@gmail.com",url:"http://steffe.se"},keywords:["p2.js","p2","physics","engine","2d"],main:"./src/p2.js",engines:{node:"*"},repository:{type:"git",url:"https://github.com/schteppe/p2.js.git"},bugs:{url:"https://github.com/schteppe/p2.js/issues"},licenses:[{type:"MIT"}],devDependencies:{grunt:"^0.4.5","grunt-contrib-jshint":"^0.11.2","grunt-contrib-nodeunit":"^0.4.1","grunt-contrib-uglify":"~0.4.0","grunt-contrib-watch":"~0.5.0","grunt-browserify":"~2.0.1","grunt-contrib-concat":"^0.4.0"},dependencies:{"poly-decomp":"0.1.0"},homepage:"https://github.com/schteppe/p2.js",_id:"p2@0.7.0",dist:{shasum:"9c22688084944705a2e8dedb98d7629364572e6b",tarball:"http://registry.npmjs.org/p2/-/p2-0.7.0.tgz"},_from:"p2@>=0.7.0 <0.8.0",_npmVersion:"1.4.3",_npmUser:{name:"schteppe",email:"schteppe@gmail.com"},maintainers:[{name:"schteppe",email:"schteppe@gmail.com"}],directories:{},_shasum:"9c22688084944705a2e8dedb98d7629364572e6b",_resolved:"https://registry.npmjs.org/p2/-/p2-0.7.0.tgz"}},function(t,e){function n(t,e){for(var n=-1,i=t.length,o=-1,A=[];++n<i;)t[n]===e&&(t[n]=r,A[++o]=n);return A}var r="__lodash_placeholder__";t.exports=n},function(t,e){function n(t){return!!t&&"object"==typeof t}function r(t,e){var n=null==t?void 0:t[e];return s(n)?n:void 0}function i(t){return"number"==typeof t&&t>-1&&t%1==0&&f>=t}function o(t){return A(t)&&l.call(t)==g}function A(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function s(t){return null==t?!1:o(t)?h.test(I.call(t)):n(t)&&u.test(t)}var a="[object Array]",g="[object Function]",u=/^\[object .+?Constructor\]$/,c=Object.prototype,I=Function.prototype.toString,C=c.hasOwnProperty,l=c.toString,h=RegExp("^"+I.call(C).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),p=r(Array,"isArray"),f=9007199254740991,d=p||function(t){return n(t)&&i(t.length)&&l.call(t)==a};t.exports=d},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(){return{bullets:[],explosions:[],sounds:{created:[]}}}function o(t){var e=Math.sin(t.body.angle),n=Math.cos(t.body.angle),r=.06*c.HEIGHT,i=new u["default"].Body({mass:0,angle:t.body.angle,position:[t.body.position[0]+(c.WIDTH/2+C)*n+r*e,t.body.position[1]-(c.WIDTH/2+C)*e+r*n]});return i.addShape(new u["default"].Box({width:C,height:l})),{body:i,thrust:t.thrust+1,ticksLived:0,exploded:!1}}function A(t,e,n){t.ticksLived+=n;var r=!0,i=!1,o=void 0;try{for(var A,s=e.impacts[Symbol.iterator]();!(r=(A=s.next()).done);r=!0){var a=A.value,g=a.bodyA,u=a.bodyB;if(t.body===g||t.body===u)return t.exploded=!0,t}}catch(c){i=!0,o=c}finally{try{!r&&s["return"]&&s["return"]()}finally{if(i)throw o}}return t.body.position[0]+=t.thrust*Math.sin(t.body.angle+.25*I.RADIAN)*n,t.body.position[1]+=t.thrust*Math.cos(t.body.angle+.25*I.RADIAN)*n,t}function s(t,e){var n=o(t);return e.addBody(n.body),n}function a(t,e,n,r){var i=t.bullets.map(function(t){return A(t,n,e.delta)}).filter(function(t){return t.ticksLived>h||t.exploded?(n.removeBody(t.body),!1):!0}),o=r.createdBullets.map(function(){return s(r,n)});return{bullets:i.filter(function(t){return!t.exploded}).concat(o),explosions:i.filter(function(t){return t.exploded}),sounds:{created:e.shoot.map(function(){return!0})}}}Object.defineProperty(e,"__esModule",{value:!0}),e.initial=i,e.update=a;var g=n(8),u=r(g),c=n(11),I=n(10),C=.75;e.WIDTH=C;var l=.3;e.HEIGHT=l;var h=25;e.ALIVE_TIME=h;var p=["_interopRequireDefault","initial","initialBullet","updateBullet","create","update"],f,d,v,y,y,m,b,w},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(){var t=arguments.length<=0||void 0===arguments[0]?1:arguments[0];return function(){var e=1e4*Math.sin(t++);return e-Math.floor(e)}}function o(t,e,n){return t()*(n-e)+e}function A(){for(var t=arguments.length,e=Array(t),n=0;t>n;n++)e[n]=arguments[n];return function(){for(var t=arguments.length,n=Array(t),r=0;t>r;r++)n[r]=arguments[r];return l["default"](e,n)}}function s(t,e,n){return Math.min(Math.max(n,t),e)}function a(t){var e=void 0;return function(n){("undefined"==typeof e||e!==n)&&t(n),e=n}}function g(t){return t/(Math.PI/180)}function u(){var t=window.localStorage.getItem("playerId");if(t)return t;var e=Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5);return window.localStorage.setItem("playerId",e),e}function c(t,e){return(t%e+e)%e}function I(t){return function(e){var n=!0,r=!1,i=void 0;try{for(var o,A=e.impacts[Symbol.iterator]();!(n=(o=A.next()).done);n=!0){var s=o.value,a=s.bodyA,g=s.bodyB;if(this.body===a||this.body===g){var u=this.body===a?g:a,c=t.get(u.TYPE);return c(this)}}}catch(I){r=!0,i=I}finally{try{!n&&A["return"]&&A["return"]()}finally{if(r)throw i}}return this}}Object.defineProperty(e,"__esModule",{value:!0}),e.randomGenerator=i,e.random=o,e.toObject=A,e.clamp=s,e.memoizeArgs=a,e.degrees=g,e.getId=u,e.mod=c,e.createCollisionDispatcher=I;var C=n(90),l=r(C),h=n(77),p=r(h);e.radians=p["default"];var f=["_interopRequireDefault","randomGenerator","random","toObject","clamp","memoizeArgs","degrees","getId","mod","createCollisionDispatcher"],d,v,y,m,m,b,w,L},function(t,e){function n(){}t.exports=n,n.area=function(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(n[0]-t[0])*(e[1]-t[1])},n.left=function(t,e,r){return n.area(t,e,r)>0},n.leftOn=function(t,e,r){return n.area(t,e,r)>=0},n.right=function(t,e,r){return n.area(t,e,r)<0},n.rightOn=function(t,e,r){return n.area(t,e,r)<=0};var r=[],i=[];n.collinear=function(t,e,o,A){if(A){var s=r,a=i;s[0]=e[0]-t[0],s[1]=e[1]-t[1],a[0]=o[0]-e[0],a[1]=o[1]-e[1];var g=s[0]*a[0]+s[1]*a[1],u=Math.sqrt(s[0]*s[0]+s[1]*s[1]),c=Math.sqrt(a[0]*a[0]+a[1]*a[1]),I=Math.acos(g/(u*c));return A>I}return 0==n.area(t,e,o)},n.sqdist=function(t,e){var n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r}},function(t,e){function n(){}t.exports=n,n.eq=function(t,e,n){return n=n||0,Math.abs(t-e)<n}},function(t,e,n){t.exports={Polygon:n(104),Point:n(39)}},function(t,e,n){function r(){this.contactEquations=[],this.frictionEquations=[],this.enableFriction=!0,this.enabledEquations=!0,this.slipForce=10,this.frictionCoefficient=.3,this.surfaceVelocity=0,this.contactEquationPool=new u({size:32}),this.frictionEquationPool=new c({size:64}),this.restitution=0,this.stiffness=C.DEFAULT_STIFFNESS,this.relaxation=C.DEFAULT_RELAXATION,this.frictionStiffness=C.DEFAULT_STIFFNESS,this.frictionRelaxation=C.DEFAULT_RELAXATION,this.enableFrictionReduction=!0,this.collidingBodiesLastStep=new I,this.contactSkinSize=.01}function i(t,e){A.set(t.vertices[0],.5*-e.length,-e.radius),A.set(t.vertices[1],.5*e.length,-e.radius),A.set(t.vertices[2],.5*e.length,e.radius),A.set(t.vertices[3],.5*-e.length,e.radius)}function o(t,e,n,r){for(var i=Y,o=z,g=Z,u=Q,c=t,I=e.vertices,C=null,l=0;l!==I.length+1;l++){var h=I[l%I.length],p=I[(l+1)%I.length];A.rotate(i,h,r),A.rotate(o,p,r),a(i,i,n),a(o,o,n),s(g,i,c),s(u,o,c);var f=A.crossLength(g,u);if(null===C&&(C=f),0>=f*C)return!1;C=f}return!0}var A=n(1),s=A.sub,a=A.add,g=A.dot,u=(n(2),n(59)),c=n(60),I=n(62),C=n(3),l=(n(19),n(14),n(21)),h=n(15),p=n(4),f=(n(6),n(55));t.exports=r;var d=A.fromValues(0,1),v=A.fromValues(0,0),y=A.fromValues(0,0),m=A.fromValues(0,0),b=A.fromValues(0,0),w=A.fromValues(0,0),L=A.fromValues(0,0),E=A.fromValues(0,0),B=A.fromValues(0,0),P=A.fromValues(0,0),x=A.fromValues(0,0),S=A.fromValues(0,0),M=A.fromValues(0,0),q=A.fromValues(0,0),D=A.fromValues(0,0),R=A.fromValues(0,0),F=A.fromValues(0,0),T=A.fromValues(0,0),V=A.fromValues(0,0),O=[],N=A.create(),k=A.create();r.prototype.bodiesOverlap=function(t,e){for(var n=N,r=k,i=0,o=t.shapes.length;i!==o;i++){var A=t.shapes[i];t.toWorldFrame(n,A.position);for(var s=0,a=e.shapes.length;s!==a;s++){var g=e.shapes[s];if(e.toWorldFrame(r,g.position),this[A.type|g.type](t,A,n,A.angle+t.angle,e,g,r,g.angle+e.angle,!0))return!0}}return!1},r.prototype.collidedLastStep=function(t,e){var n=0|t.id,r=0|e.id;return!!this.collidingBodiesLastStep.get(n,r)},r.prototype.reset=function(){this.collidingBodiesLastStep.reset();for(var t=this.contactEquations,e=t.length;e--;){var n=t[e],r=n.bodyA.id,i=n.bodyB.id;this.collidingBodiesLastStep.set(r,i,!0)}for(var o=this.contactEquations,A=this.frictionEquations,s=0;s<o.length;s++)this.contactEquationPool.release(o[s]);for(var s=0;s<A.length;s++)this.frictionEquationPool.release(A[s]);this.contactEquations.length=this.frictionEquations.length=0},r.prototype.createContactEquation=function(t,e,n,r){var i=this.contactEquationPool.get();return i.bodyA=t,i.bodyB=e,i.shapeA=n,i.shapeB=r,i.restitution=this.restitution,i.firstImpact=!this.collidedLastStep(t,e),i.stiffness=this.stiffness,i.relaxation=this.relaxation,i.needsUpdate=!0,i.enabled=this.enabledEquations,i.offset=this.contactSkinSize,i},r.prototype.createFrictionEquation=function(t,e,n,r){var i=this.frictionEquationPool.get();return i.bodyA=t,i.bodyB=e,i.shapeA=n,i.shapeB=r,i.setSlipForce(this.slipForce),i.frictionCoefficient=this.frictionCoefficient,i.relativeVelocity=this.surfaceVelocity,i.enabled=this.enabledEquations,i.needsUpdate=!0,i.stiffness=this.frictionStiffness,i.relaxation=this.frictionRelaxation,i.contactEquations.length=0,i},r.prototype.createFrictionFromContact=function(t){var e=this.createFrictionEquation(t.bodyA,t.bodyB,t.shapeA,t.shapeB);return A.copy(e.contactPointA,t.contactPointA),A.copy(e.contactPointB,t.contactPointB),A.rotate90cw(e.t,t.normalA),e.contactEquations.push(t),e},r.prototype.createFrictionFromAverage=function(t){var e=this.contactEquations[this.contactEquations.length-1],n=this.createFrictionEquation(e.bodyA,e.bodyB,e.shapeA,e.shapeB),r=e.bodyA;e.bodyB;A.set(n.contactPointA,0,0),A.set(n.contactPointB,0,0),A.set(n.t,0,0);for(var i=0;i!==t;i++)e=this.contactEquations[this.contactEquations.length-1-i],e.bodyA===r?(A.add(n.t,n.t,e.normalA),A.add(n.contactPointA,n.contactPointA,e.contactPointA),A.add(n.contactPointB,n.contactPointB,e.contactPointB)):(A.sub(n.t,n.t,e.normalA),A.add(n.contactPointA,n.contactPointA,e.contactPointB),A.add(n.contactPointB,n.contactPointB,e.contactPointA)),n.contactEquations.push(e);var o=1/t;return A.scale(n.contactPointA,n.contactPointA,o),A.scale(n.contactPointB,n.contactPointB,o),A.normalize(n.t,n.t),A.rotate90cw(n.t,n.t),
n},r.prototype[p.LINE|p.CONVEX]=r.prototype.convexLine=function(t,e,n,r,i,o,A,s,a){return a?!1:0},r.prototype[p.LINE|p.BOX]=r.prototype.lineBox=function(t,e,n,r,i,o,A,s,a){return a?!1:0};var G=new f({width:1,height:1}),W=A.create();r.prototype[p.CAPSULE|p.CONVEX]=r.prototype[p.CAPSULE|p.BOX]=r.prototype.convexCapsule=function(t,e,n,r,o,s,a,g,u){var c=W;A.set(c,s.length/2,0),A.rotate(c,c,g),A.add(c,c,a);var I=this.circleConvex(o,s,c,g,t,e,n,r,u,s.radius);A.set(c,-s.length/2,0),A.rotate(c,c,g),A.add(c,c,a);var C=this.circleConvex(o,s,c,g,t,e,n,r,u,s.radius);if(u&&(I||C))return!0;var l=G;i(l,s);var h=this.convexConvex(t,e,n,r,o,l,a,g,u);return h+I+C},r.prototype[p.CAPSULE|p.LINE]=r.prototype.lineCapsule=function(t,e,n,r,i,o,A,s,a){return a?!1:0};var U=A.create(),j=A.create(),H=new f({width:1,height:1});r.prototype[p.CAPSULE|p.CAPSULE]=r.prototype.capsuleCapsule=function(t,e,n,r,o,s,a,g,u){for(var c,I=U,C=j,l=0,h=0;2>h;h++){A.set(I,(0===h?-1:1)*e.length/2,0),A.rotate(I,I,r),A.add(I,I,n);for(var p=0;2>p;p++){A.set(C,(0===p?-1:1)*s.length/2,0),A.rotate(C,C,g),A.add(C,C,a),this.enableFrictionReduction&&(c=this.enableFriction,this.enableFriction=!1);var f=this.circleCircle(t,e,I,r,o,s,C,g,u,e.radius,s.radius);if(this.enableFrictionReduction&&(this.enableFriction=c),u&&f)return!0;l+=f}}this.enableFrictionReduction&&(c=this.enableFriction,this.enableFriction=!1);var d=H;i(d,e);var v=this.convexCapsule(t,d,n,r,o,s,a,g,u);if(this.enableFrictionReduction&&(this.enableFriction=c),u&&v)return!0;if(l+=v,this.enableFrictionReduction){var c=this.enableFriction;this.enableFriction=!1}i(d,s);var y=this.convexCapsule(o,d,a,g,t,e,n,r,u);return this.enableFrictionReduction&&(this.enableFriction=c),u&&y?!0:(l+=y,this.enableFrictionReduction&&l&&this.enableFriction&&this.frictionEquations.push(this.createFrictionFromAverage(l)),l)},r.prototype[p.LINE|p.LINE]=r.prototype.lineLine=function(t,e,n,r,i,o,A,s,a){return a?!1:0},r.prototype[p.PLANE|p.LINE]=r.prototype.planeLine=function(t,e,n,r,i,o,u,c,I){var C=v,l=y,h=m,p=b,f=w,x=L,S=E,M=B,q=P,D=O,R=0;A.set(C,-o.length/2,0),A.set(l,o.length/2,0),A.rotate(h,C,c),A.rotate(p,l,c),a(h,h,u),a(p,p,u),A.copy(C,h),A.copy(l,p),s(f,l,C),A.normalize(x,f),A.rotate90cw(q,x),A.rotate(M,d,r),D[0]=C,D[1]=l;for(var F=0;F<D.length;F++){var T=D[F];s(S,T,n);var V=g(S,M);if(0>V){if(I)return!0;var N=this.createContactEquation(t,i,e,o);R++,A.copy(N.normalA,M),A.normalize(N.normalA,N.normalA),A.scale(S,M,V),s(N.contactPointA,T,S),s(N.contactPointA,N.contactPointA,t.position),s(N.contactPointB,T,u),a(N.contactPointB,N.contactPointB,u),s(N.contactPointB,N.contactPointB,i.position),this.contactEquations.push(N),this.enableFrictionReduction||this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(N))}}return I?!1:(this.enableFrictionReduction||R&&this.enableFriction&&this.frictionEquations.push(this.createFrictionFromAverage(R)),R)},r.prototype[p.PARTICLE|p.CAPSULE]=r.prototype.particleCapsule=function(t,e,n,r,i,o,A,s,a){return this.circleLine(t,e,n,r,i,o,A,s,a,o.radius,0)},r.prototype[p.CIRCLE|p.LINE]=r.prototype.circleLine=function(t,e,n,r,i,o,u,c,I,C,l){var C=C||0,l="undefined"!=typeof l?l:e.radius,h=v,p=y,f=m,d=b,R=w,F=L,T=E,V=B,N=P,k=x,G=S,W=M,U=q,j=D,H=O;A.set(V,-o.length/2,0),A.set(N,o.length/2,0),A.rotate(k,V,c),A.rotate(G,N,c),a(k,k,u),a(G,G,u),A.copy(V,k),A.copy(N,G),s(F,N,V),A.normalize(T,F),A.rotate90cw(R,T),s(W,n,V);var Y=g(W,R);s(d,V,u),s(U,n,u);var z=l+C;if(Math.abs(Y)<z){A.scale(h,R,Y),s(f,n,h),A.scale(p,R,g(R,U)),A.normalize(p,p),A.scale(p,p,C),a(f,f,p);var Z=g(T,f),Q=g(T,V),X=g(T,N);if(Z>Q&&X>Z){if(I)return!0;var J=this.createContactEquation(t,i,e,o);return A.scale(J.normalA,h,-1),A.normalize(J.normalA,J.normalA),A.scale(J.contactPointA,J.normalA,l),a(J.contactPointA,J.contactPointA,n),s(J.contactPointA,J.contactPointA,t.position),s(J.contactPointB,f,u),a(J.contactPointB,J.contactPointB,u),s(J.contactPointB,J.contactPointB,i.position),this.contactEquations.push(J),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(J)),1}}H[0]=V,H[1]=N;for(var K=0;K<H.length;K++){var _=H[K];if(s(W,_,n),A.squaredLength(W)<Math.pow(z,2)){if(I)return!0;var J=this.createContactEquation(t,i,e,o);return A.copy(J.normalA,W),A.normalize(J.normalA,J.normalA),A.scale(J.contactPointA,J.normalA,l),a(J.contactPointA,J.contactPointA,n),s(J.contactPointA,J.contactPointA,t.position),s(J.contactPointB,_,u),A.scale(j,J.normalA,-C),a(J.contactPointB,J.contactPointB,j),a(J.contactPointB,J.contactPointB,u),s(J.contactPointB,J.contactPointB,i.position),this.contactEquations.push(J),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(J)),1}}return 0},r.prototype[p.CIRCLE|p.CAPSULE]=r.prototype.circleCapsule=function(t,e,n,r,i,o,A,s,a){return this.circleLine(t,e,n,r,i,o,A,s,a,o.radius)},r.prototype[p.CIRCLE|p.CONVEX]=r.prototype[p.CIRCLE|p.BOX]=r.prototype.circleConvex=function(t,e,n,r,i,g,u,c,I,C){for(var C="number"==typeof C?C:e.radius,l=v,h=y,p=m,f=b,d=w,L=x,E=S,B=q,P=D,M=R,T=F,V=!1,O=Number.MAX_VALUE,N=g.vertices,k=0;k!==N.length+1;k++){var G=N[k%N.length],W=N[(k+1)%N.length];if(A.rotate(l,G,c),A.rotate(h,W,c),a(l,l,u),a(h,h,u),s(p,h,l),A.normalize(f,p),A.rotate90cw(d,f),A.scale(P,d,-e.radius),a(P,P,n),o(P,g,u,c)){A.sub(M,l,P);var U=Math.abs(A.dot(M,d));O>U&&(A.copy(T,P),O=U,A.scale(B,d,U),A.add(B,B,P),V=!0)}}if(V){if(I)return!0;var j=this.createContactEquation(t,i,e,g);return A.sub(j.normalA,T,n),A.normalize(j.normalA,j.normalA),A.scale(j.contactPointA,j.normalA,C),a(j.contactPointA,j.contactPointA,n),s(j.contactPointA,j.contactPointA,t.position),s(j.contactPointB,B,u),a(j.contactPointB,j.contactPointB,u),s(j.contactPointB,j.contactPointB,i.position),this.contactEquations.push(j),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(j)),1}if(C>0)for(var k=0;k<N.length;k++){var H=N[k];if(A.rotate(E,H,c),a(E,E,u),s(L,E,n),A.squaredLength(L)<Math.pow(C,2)){if(I)return!0;var j=this.createContactEquation(t,i,e,g);return A.copy(j.normalA,L),A.normalize(j.normalA,j.normalA),A.scale(j.contactPointA,j.normalA,C),a(j.contactPointA,j.contactPointA,n),s(j.contactPointA,j.contactPointA,t.position),s(j.contactPointB,E,u),a(j.contactPointB,j.contactPointB,u),s(j.contactPointB,j.contactPointB,i.position),this.contactEquations.push(j),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(j)),1}}return 0};var Y=A.create(),z=A.create(),Z=A.create(),Q=A.create();r.prototype[p.PARTICLE|p.CONVEX]=r.prototype[p.PARTICLE|p.BOX]=r.prototype.particleConvex=function(t,e,n,r,i,u,c,I,C){var l=v,h=y,p=m,f=b,d=w,B=L,P=E,S=x,M=q,D=T,R=V,F=Number.MAX_VALUE,O=!1,N=u.vertices;if(!o(n,u,c,I))return 0;if(C)return!0;for(var k=0;k!==N.length+1;k++){var G=N[k%N.length],W=N[(k+1)%N.length];A.rotate(l,G,I),A.rotate(h,W,I),a(l,l,c),a(h,h,c),s(p,h,l),A.normalize(f,p),A.rotate90cw(d,f),s(S,n,l);g(S,d);s(B,l,c),s(P,n,c),A.sub(D,l,n);var U=Math.abs(A.dot(D,d));F>U&&(F=U,A.scale(M,d,U),A.add(M,M,n),A.copy(R,d),O=!0)}if(O){var j=this.createContactEquation(t,i,e,u);return A.scale(j.normalA,R,-1),A.normalize(j.normalA,j.normalA),A.set(j.contactPointA,0,0),a(j.contactPointA,j.contactPointA,n),s(j.contactPointA,j.contactPointA,t.position),s(j.contactPointB,M,c),a(j.contactPointB,j.contactPointB,c),s(j.contactPointB,j.contactPointB,i.position),this.contactEquations.push(j),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(j)),1}return 0},r.prototype[p.CIRCLE]=r.prototype.circleCircle=function(t,e,n,r,i,o,g,u,c,I,C){var l=v,I=I||e.radius,C=C||o.radius;s(l,n,g);var h=I+C;if(A.squaredLength(l)>Math.pow(h,2))return 0;if(c)return!0;var p=this.createContactEquation(t,i,e,o);return s(p.normalA,g,n),A.normalize(p.normalA,p.normalA),A.scale(p.contactPointA,p.normalA,I),A.scale(p.contactPointB,p.normalA,-C),a(p.contactPointA,p.contactPointA,n),s(p.contactPointA,p.contactPointA,t.position),a(p.contactPointB,p.contactPointB,g),s(p.contactPointB,p.contactPointB,i.position),this.contactEquations.push(p),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(p)),1},r.prototype[p.PLANE|p.CONVEX]=r.prototype[p.PLANE|p.BOX]=r.prototype.planeConvex=function(t,e,n,r,i,o,u,c,I){var C=v,l=y,h=m,p=0;A.rotate(l,d,r);for(var f=0;f!==o.vertices.length;f++){var b=o.vertices[f];if(A.rotate(C,b,c),a(C,C,u),s(h,C,n),g(h,l)<=0){if(I)return!0;p++;var w=this.createContactEquation(t,i,e,o);s(h,C,n),A.copy(w.normalA,l);var L=g(h,w.normalA);A.scale(h,w.normalA,L),s(w.contactPointB,C,i.position),s(w.contactPointA,C,h),s(w.contactPointA,w.contactPointA,t.position),this.contactEquations.push(w),this.enableFrictionReduction||this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(w))}}return this.enableFrictionReduction&&this.enableFriction&&p&&this.frictionEquations.push(this.createFrictionFromAverage(p)),p},r.prototype[p.PARTICLE|p.PLANE]=r.prototype.particlePlane=function(t,e,n,r,i,o,a,u,c){var I=v,C=y;u=u||0,s(I,n,a),A.rotate(C,d,u);var l=g(I,C);if(l>0)return 0;if(c)return!0;var h=this.createContactEquation(i,t,o,e);return A.copy(h.normalA,C),A.scale(I,h.normalA,l),s(h.contactPointA,n,I),s(h.contactPointA,h.contactPointA,i.position),s(h.contactPointB,n,t.position),this.contactEquations.push(h),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(h)),1},r.prototype[p.CIRCLE|p.PARTICLE]=r.prototype.circleParticle=function(t,e,n,r,i,o,g,u,c){var I=v;if(s(I,g,n),A.squaredLength(I)>Math.pow(e.radius,2))return 0;if(c)return!0;var C=this.createContactEquation(t,i,e,o);return A.copy(C.normalA,I),A.normalize(C.normalA,C.normalA),A.scale(C.contactPointA,C.normalA,e.radius),a(C.contactPointA,C.contactPointA,n),s(C.contactPointA,C.contactPointA,t.position),s(C.contactPointB,g,i.position),this.contactEquations.push(C),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(C)),1};var X=new l({radius:1}),J=A.create(),K=A.create();A.create();r.prototype[p.PLANE|p.CAPSULE]=r.prototype.planeCapsule=function(t,e,n,r,i,o,s,g,u){var c=J,I=K,C=X;A.set(c,-o.length/2,0),A.rotate(c,c,g),a(c,c,s),A.set(I,o.length/2,0),A.rotate(I,I,g),a(I,I,s),C.radius=o.radius;var l;this.enableFrictionReduction&&(l=this.enableFriction,this.enableFriction=!1);var h=this.circlePlane(i,C,c,0,t,e,n,r,u),p=this.circlePlane(i,C,I,0,t,e,n,r,u);if(this.enableFrictionReduction&&(this.enableFriction=l),u)return h||p;var f=h+p;return this.enableFrictionReduction&&f&&this.frictionEquations.push(this.createFrictionFromAverage(f)),f},r.prototype[p.CIRCLE|p.PLANE]=r.prototype.circlePlane=function(t,e,n,r,i,o,u,c,I){var C=t,l=e,h=n,p=i,f=u,b=c;b=b||0;var w=v,L=y,E=m;s(w,h,f),A.rotate(L,d,b);var B=g(L,w);if(B>l.radius)return 0;if(I)return!0;var P=this.createContactEquation(p,C,o,e);return A.copy(P.normalA,L),A.scale(P.contactPointB,P.normalA,-l.radius),a(P.contactPointB,P.contactPointB,h),s(P.contactPointB,P.contactPointB,C.position),A.scale(E,P.normalA,B),s(P.contactPointA,w,E),a(P.contactPointA,P.contactPointA,f),s(P.contactPointA,P.contactPointA,p.position),this.contactEquations.push(P),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(P)),1},r.prototype[p.CONVEX]=r.prototype[p.CONVEX|p.BOX]=r.prototype[p.BOX]=r.prototype.convexConvex=function(t,e,n,i,o,u,c,I,C,l){var h=v,p=y,f=m,d=b,L=w,x=E,S=B,M=P,q=0,l="number"==typeof l?l:0,D=r.findSeparatingAxis(e,n,i,u,c,I,h);if(!D)return 0;s(S,c,n),g(h,S)>0&&A.scale(h,h,-1);var R=r.getClosestEdge(e,i,h,!0),F=r.getClosestEdge(u,I,h);if(-1===R||-1===F)return 0;for(var T=0;2>T;T++){var V=R,O=F,N=e,k=u,G=n,W=c,U=i,j=I,H=t,Y=o;if(0===T){var z;z=V,V=O,O=z,z=N,N=k,k=z,z=G,G=W,W=z,z=U,U=j,j=z,z=H,H=Y,Y=z}for(var Z=O;O+2>Z;Z++){var Q=k.vertices[(Z+k.vertices.length)%k.vertices.length];A.rotate(p,Q,j),a(p,p,W);for(var X=0,J=V-1;V+2>J;J++){var K=N.vertices[(J+N.vertices.length)%N.vertices.length],_=N.vertices[(J+1+N.vertices.length)%N.vertices.length];A.rotate(f,K,U),A.rotate(d,_,U),a(f,f,G),a(d,d,G),s(L,d,f),A.rotate90cw(M,L),A.normalize(M,M),s(S,p,f);var $=g(M,S);(J===V&&l>=$||J!==V&&0>=$)&&X++}if(X>=3){if(C)return!0;var tt=this.createContactEquation(H,Y,N,k);q++;var K=N.vertices[V%N.vertices.length],_=N.vertices[(V+1)%N.vertices.length];A.rotate(f,K,U),A.rotate(d,_,U),a(f,f,G),a(d,d,G),s(L,d,f),A.rotate90cw(tt.normalA,L),A.normalize(tt.normalA,tt.normalA),s(S,p,f);var $=g(tt.normalA,S);A.scale(x,tt.normalA,$),s(tt.contactPointA,p,G),s(tt.contactPointA,tt.contactPointA,x),a(tt.contactPointA,tt.contactPointA,G),s(tt.contactPointA,tt.contactPointA,H.position),s(tt.contactPointB,p,W),a(tt.contactPointB,tt.contactPointB,W),s(tt.contactPointB,tt.contactPointB,Y.position),this.contactEquations.push(tt),this.enableFrictionReduction||this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(tt))}}}return this.enableFrictionReduction&&this.enableFriction&&q&&this.frictionEquations.push(this.createFrictionFromAverage(q)),q};var _=A.fromValues(0,0);r.projectConvexOntoAxis=function(t,e,n,r,i){var o,s,a=null,u=null,c=_;A.rotate(c,r,-n);for(var I=0;I<t.vertices.length;I++)o=t.vertices[I],s=g(o,c),(null===a||s>a)&&(a=s),(null===u||u>s)&&(u=s);if(u>a){var C=u;u=a,a=C}var l=g(e,r);A.set(i,u+l,a+l)};var $=A.fromValues(0,0),tt=A.fromValues(0,0),et=A.fromValues(0,0),nt=A.fromValues(0,0),rt=A.fromValues(0,0),it=A.fromValues(0,0);r.findSeparatingAxis=function(t,e,n,i,o,a,g){var u=null,c=!1,I=!1,C=$,l=tt,h=et,p=nt,d=rt,v=it;if(t instanceof f&&i instanceof f)for(var y=0;2!==y;y++){var m=t,b=n;1===y&&(m=i,b=a);for(var w=0;2!==w;w++){0===w?A.set(p,0,1):1===w&&A.set(p,1,0),0!==b&&A.rotate(p,p,b),r.projectConvexOntoAxis(t,e,n,p,d),r.projectConvexOntoAxis(i,o,a,p,v);var L=d,E=v,B=!1;d[0]>v[0]&&(E=d,L=v,B=!0);var P=E[0]-L[1];c=0>=P,(null===u||P>u)&&(A.copy(g,p),u=P,I=c)}}else for(var y=0;2!==y;y++){var m=t,b=n;1===y&&(m=i,b=a);for(var w=0;w!==m.vertices.length;w++){A.rotate(l,m.vertices[w],b),A.rotate(h,m.vertices[(w+1)%m.vertices.length],b),s(C,h,l),A.rotate90cw(p,C),A.normalize(p,p),r.projectConvexOntoAxis(t,e,n,p,d),r.projectConvexOntoAxis(i,o,a,p,v);var L=d,E=v,B=!1;d[0]>v[0]&&(E=d,L=v,B=!0);var P=E[0]-L[1];c=0>=P,(null===u||P>u)&&(A.copy(g,p),u=P,I=c)}}return I};var ot=A.fromValues(0,0),At=A.fromValues(0,0),st=A.fromValues(0,0);r.getClosestEdge=function(t,e,n,r){var i=ot,o=At,a=st;A.rotate(i,n,-e),r&&A.scale(i,i,-1);for(var u=-1,c=t.vertices.length,I=-1,C=0;C!==c;C++){s(o,t.vertices[(C+1)%c],t.vertices[C%c]),A.rotate90cw(a,o),A.normalize(a,a);var l=g(a,i);(-1===u||l>I)&&(u=C%c,I=l)}return u};var at=A.create(),gt=A.create(),ut=A.create(),ct=A.create(),It=A.create(),Ct=A.create(),lt=A.create();r.prototype[p.CIRCLE|p.HEIGHTFIELD]=r.prototype.circleHeightfield=function(t,e,n,r,i,o,g,u,c,I){var C=o.heights,I=I||e.radius,l=o.elementWidth,h=gt,p=at,f=It,d=lt,v=Ct,y=ut,m=ct,b=Math.floor((n[0]-I-g[0])/l),w=Math.ceil((n[0]+I-g[0])/l);0>b&&(b=0),w>=C.length&&(w=C.length-1);for(var L=C[b],E=C[w],B=b;w>B;B++)C[B]<E&&(E=C[B]),C[B]>L&&(L=C[B]);if(n[1]-I>L)return c?!1:0;for(var P=!1,B=b;w>B;B++){A.set(y,B*l,C[B]),A.set(m,(B+1)*l,C[B+1]),A.add(y,y,g),A.add(m,m,g),A.sub(v,m,y),A.rotate(v,v,Math.PI/2),A.normalize(v,v),A.scale(p,v,-I),A.add(p,p,n),A.sub(h,p,y);var x=A.dot(h,v);if(p[0]>=y[0]&&p[0]<m[0]&&0>=x){if(c)return!0;P=!0,A.scale(h,v,-x),A.add(f,p,h),A.copy(d,v);var S=this.createContactEquation(i,t,o,e);A.copy(S.normalA,d),A.scale(S.contactPointB,S.normalA,-I),a(S.contactPointB,S.contactPointB,n),s(S.contactPointB,S.contactPointB,t.position),A.copy(S.contactPointA,f),A.sub(S.contactPointA,S.contactPointA,i.position),this.contactEquations.push(S),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(S))}}if(P=!1,I>0)for(var B=b;w>=B;B++)if(A.set(y,B*l,C[B]),A.add(y,y,g),A.sub(h,n,y),A.squaredLength(h)<Math.pow(I,2)){if(c)return!0;P=!0;var S=this.createContactEquation(i,t,o,e);A.copy(S.normalA,h),A.normalize(S.normalA,S.normalA),A.scale(S.contactPointB,S.normalA,-I),a(S.contactPointB,S.contactPointB,n),s(S.contactPointB,S.contactPointB,t.position),s(S.contactPointA,y,g),a(S.contactPointA,S.contactPointA,g),s(S.contactPointA,S.contactPointA,i.position),this.contactEquations.push(S),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(S))}return P?1:0};var ht=A.create(),pt=A.create(),ft=A.create(),dt=new h({vertices:[A.create(),A.create(),A.create(),A.create()]});r.prototype[p.BOX|p.HEIGHTFIELD]=r.prototype[p.CONVEX|p.HEIGHTFIELD]=r.prototype.convexHeightfield=function(t,e,n,r,i,o,s,a,g){var u=o.heights,c=o.elementWidth,I=ht,C=pt,l=ft,h=dt,p=Math.floor((t.aabb.lowerBound[0]-s[0])/c),f=Math.ceil((t.aabb.upperBound[0]-s[0])/c);0>p&&(p=0),f>=u.length&&(f=u.length-1);for(var d=u[p],v=u[f],y=p;f>y;y++)u[y]<v&&(v=u[y]),u[y]>d&&(d=u[y]);if(t.aabb.lowerBound[1]>d)return g?!1:0;for(var m=0,y=p;f>y;y++){A.set(I,y*c,u[y]),A.set(C,(y+1)*c,u[y+1]),A.add(I,I,s),A.add(C,C,s);var b=100;A.set(l,.5*(C[0]+I[0]),.5*(C[1]+I[1]-b)),A.sub(h.vertices[0],C,l),A.sub(h.vertices[1],I,l),A.copy(h.vertices[2],h.vertices[1]),A.copy(h.vertices[3],h.vertices[0]),h.vertices[2][1]-=b,h.vertices[3][1]-=b,m+=this.convexConvex(t,e,n,r,i,h,l,0,g)}return m}},function(t,e,n){function r(){o.call(this,o.SAP),this.axisList=[],this.axisIndex=0;var t=this;this._addBodyHandler=function(e){t.axisList.push(e.body)},this._removeBodyHandler=function(e){var n=t.axisList.indexOf(e.body);-1!==n&&t.axisList.splice(n,1)}}var i=n(2),o=n(17);t.exports=r,r.prototype=new o,r.prototype.constructor=r,r.prototype.setWorld=function(t){this.axisList.length=0,i.appendArray(this.axisList,t.bodies),t.off("addBody",this._addBodyHandler).off("removeBody",this._removeBodyHandler),t.on("addBody",this._addBodyHandler).on("removeBody",this._removeBodyHandler),this.world=t},r.sortAxisList=function(t,e){e=0|e;for(var n=1,r=t.length;r>n;n++){for(var i=t[n],o=n-1;o>=0&&!(t[o].aabb.lowerBound[e]<=i.aabb.lowerBound[e]);o--)t[o+1]=t[o];t[o+1]=i}return t},r.prototype.sortList=function(){var t=this.axisList,e=this.axisIndex;r.sortAxisList(t,e)},r.prototype.getCollisionPairs=function(t){var e=this.axisList,n=this.result,r=this.axisIndex;n.length=0;for(var i=e.length;i--;){var A=e[i];A.aabbNeedsUpdate&&A.updateAABB()}this.sortList();for(var s=0,a=0|e.length;s!==a;s++)for(var g=e[s],u=s+1;a>u;u++){var c=e[u],I=c.aabb.lowerBound[r]<=g.aabb.upperBound[r];if(!I)break;o.canCollide(g,c)&&this.boundingVolumeCheck(g,c)&&n.push(g,c)}return n},r.prototype.aabbQuery=function(t,e,n){n=n||[],this.sortList();var r=this.axisIndex,i="x";1===r&&(i="y"),2===r&&(i="z");for(var o=this.axisList,A=(e.lowerBound[i],e.upperBound[i],0);A<o.length;A++){var s=o[A];s.aabbNeedsUpdate&&s.updateAABB(),s.aabb.overlaps(e)&&n.push(s)}return n}},function(t,e,n){function r(t,e,n){n=s.defaults(n,{localAnchorA:[0,0],localAnchorB:[0,0]}),i.call(this,t,e,i.DISTANCE,n),this.localAnchorA=A.fromValues(n.localAnchorA[0],n.localAnchorA[1]),this.localAnchorB=A.fromValues(n.localAnchorB[0],n.localAnchorB[1]);var r=this.localAnchorA,a=this.localAnchorB;if(this.distance=0,"number"==typeof n.distance)this.distance=n.distance;else{var g=A.create(),u=A.create(),c=A.create();A.rotate(g,r,t.angle),A.rotate(u,a,e.angle),A.add(c,e.position,u),A.sub(c,c,g),A.sub(c,c,t.position),this.distance=A.length(c)}var I;I="undefined"==typeof n.maxForce?Number.MAX_VALUE:n.maxForce;var C=new o(t,e,-I,I);this.equations=[C],this.maxForce=I;var c=A.create(),l=A.create(),h=A.create(),p=this;C.computeGq=function(){var t=this.bodyA,e=this.bodyB,n=t.position,i=e.position;return A.rotate(l,r,t.angle),A.rotate(h,a,e.angle),A.add(c,i,h),A.sub(c,c,l),A.sub(c,c,n),A.length(c)-p.distance},this.setMaxForce(I),this.upperLimitEnabled=!1,this.upperLimit=1,this.lowerLimitEnabled=!1,this.lowerLimit=0,this.position=0}var i=n(5),o=n(3),A=n(1),s=n(2);t.exports=r,r.prototype=new i,r.prototype.constructor=r;var a=A.create(),g=A.create(),u=A.create();r.prototype.update=function(){var t=this.equations[0],e=this.bodyA,n=this.bodyB,r=(this.distance,e.position),i=n.position,o=this.equations[0],s=t.G;A.rotate(g,this.localAnchorA,e.angle),A.rotate(u,this.localAnchorB,n.angle),A.add(a,i,u),A.sub(a,a,g),A.sub(a,a,r),this.position=A.length(a);var c=!1;if(this.upperLimitEnabled&&this.position>this.upperLimit&&(o.maxForce=0,o.minForce=-this.maxForce,this.distance=this.upperLimit,c=!0),this.lowerLimitEnabled&&this.position<this.lowerLimit&&(o.maxForce=this.maxForce,o.minForce=0,this.distance=this.lowerLimit,c=!0),(this.lowerLimitEnabled||this.upperLimitEnabled)&&!c)return void(o.enabled=!1);o.enabled=!0,A.normalize(a,a);var I=A.crossLength(g,a),C=A.crossLength(u,a);s[0]=-a[0],s[1]=-a[1],s[2]=-I,s[3]=a[0],s[4]=a[1],s[5]=C},r.prototype.setMaxForce=function(t){var e=this.equations[0];e.minForce=-t,e.maxForce=t},r.prototype.getMaxForce=function(){var t=this.equations[0];return t.maxForce}},function(t,e,n){function r(t,e,n){n=n||{},i.call(this,t,e,i.GEAR,n),this.ratio=void 0!==n.ratio?n.ratio:1,this.angle=void 0!==n.angle?n.angle:e.angle-this.ratio*t.angle,n.angle=this.angle,n.ratio=this.ratio,this.equations=[new o(t,e,n)],void 0!==n.maxTorque&&this.setMaxTorque(n.maxTorque)}var i=n(5),o=(n(3),n(49));n(1);t.exports=r,r.prototype=new i,r.prototype.constructor=r,r.prototype.update=function(){var t=this.equations[0];t.ratio!==this.ratio&&t.setRatio(this.ratio),t.angle=this.angle},r.prototype.setMaxTorque=function(t){this.equations[0].setMaxTorque(t)},r.prototype.getMaxTorque=function(t){return this.equations[0].maxForce}},function(t,e,n){function r(t,e,n){n=n||{},i.call(this,t,e,i.LOCK,n);var r="undefined"==typeof n.maxForce?Number.MAX_VALUE:n.maxForce,s=(n.localAngleB||0,new A(t,e,-r,r)),a=new A(t,e,-r,r),g=new A(t,e,-r,r),u=o.create(),c=o.create(),I=this;s.computeGq=function(){return o.rotate(u,I.localOffsetB,t.angle),o.sub(c,e.position,t.position),o.sub(c,c,u),c[0]},a.computeGq=function(){return o.rotate(u,I.localOffsetB,t.angle),o.sub(c,e.position,t.position),o.sub(c,c,u),c[1]};var C=o.create(),l=o.create();g.computeGq=function(){return o.rotate(C,I.localOffsetB,e.angle-I.localAngleB),o.scale(C,C,-1),o.sub(c,t.position,e.position),o.add(c,c,C),o.rotate(l,C,-Math.PI/2),o.normalize(l,l),o.dot(c,l)},this.localOffsetB=o.create(),n.localOffsetB?o.copy(this.localOffsetB,n.localOffsetB):(o.sub(this.localOffsetB,e.position,t.position),o.rotate(this.localOffsetB,this.localOffsetB,-t.angle)),this.localAngleB=0,"number"==typeof n.localAngleB?this.localAngleB=n.localAngleB:this.localAngleB=e.angle-t.angle,this.equations.push(s,a,g),this.setMaxForce(r)}var i=n(5),o=n(1),A=n(3);t.exports=r,r.prototype=new i,r.prototype.constructor=r,r.prototype.setMaxForce=function(t){for(var e=this.equations,n=0;n<this.equations.length;n++)e[n].maxForce=t,e[n].minForce=-t},r.prototype.getMaxForce=function(){return this.equations[0].maxForce};var s=o.create(),a=o.create(),g=o.create(),u=o.fromValues(1,0),c=o.fromValues(0,1);r.prototype.update=function(){var t=this.equations[0],e=this.equations[1],n=this.equations[2],r=this.bodyA,i=this.bodyB;o.rotate(s,this.localOffsetB,r.angle),o.rotate(a,this.localOffsetB,i.angle-this.localAngleB),o.scale(a,a,-1),o.rotate(g,a,Math.PI/2),o.normalize(g,g),t.G[0]=-1,t.G[1]=0,t.G[2]=-o.crossLength(s,u),t.G[3]=1,e.G[0]=0,e.G[1]=-1,e.G[2]=-o.crossLength(s,c),e.G[4]=1,n.G[0]=-g[0],n.G[1]=-g[1],n.G[3]=g[0],n.G[4]=g[1],n.G[5]=o.crossLength(a,g)}},function(t,e,n){function r(t,e,n){n=n||{},i.call(this,t,e,i.PRISMATIC,n);var r=s.fromValues(0,0),g=s.fromValues(1,0),u=s.fromValues(0,0);n.localAnchorA&&s.copy(r,n.localAnchorA),n.localAxisA&&s.copy(g,n.localAxisA),n.localAnchorB&&s.copy(u,n.localAnchorB),this.localAnchorA=r,this.localAnchorB=u,this.localAxisA=g;var c=this.maxForce="undefined"!=typeof n.maxForce?n.maxForce:Number.MAX_VALUE,I=new A(t,e,-c,c),C=new s.create,l=new s.create,h=new s.create,p=new s.create;if(I.computeGq=function(){return s.dot(h,p)},I.updateJacobian=function(){var n=this.G,i=t.position,o=e.position;s.rotate(C,r,t.angle),s.rotate(l,u,e.angle),s.add(h,o,l),s.sub(h,h,i),s.sub(h,h,C),s.rotate(p,g,t.angle+Math.PI/2),n[0]=-p[0],n[1]=-p[1],n[2]=-s.crossLength(C,p)+s.crossLength(p,h),n[3]=p[0],n[4]=p[1],n[5]=s.crossLength(l,p)},this.equations.push(I),!n.disableRotationalLock){var f=new a(t,e,-c,c);this.equations.push(f)}this.position=0,this.velocity=0,this.lowerLimitEnabled="undefined"!=typeof n.lowerLimit?!0:!1,this.upperLimitEnabled="undefined"!=typeof n.upperLimit?!0:!1,this.lowerLimit="undefined"!=typeof n.lowerLimit?n.lowerLimit:0,this.upperLimit="undefined"!=typeof n.upperLimit?n.upperLimit:1,this.upperLimitEquation=new o(t,e),this.lowerLimitEquation=new o(t,e),this.upperLimitEquation.minForce=this.lowerLimitEquation.minForce=0,this.upperLimitEquation.maxForce=this.lowerLimitEquation.maxForce=c,this.motorEquation=new A(t,e),this.motorEnabled=!1,this.motorSpeed=0;var d=this,v=this.motorEquation;v.computeGW;v.computeGq=function(){return 0},v.computeGW=function(){var t=this.G,e=this.bodyA,n=this.bodyB,r=e.velocity,i=n.velocity,o=e.angularVelocity,A=n.angularVelocity;return this.gmult(t,r,o,i,A)+d.motorSpeed}}var i=n(5),o=n(19),A=n(3),s=n(1),a=n(50);t.exports=r,r.prototype=new i,r.prototype.constructor=r;var g=s.create(),u=s.create(),c=s.create(),I=s.create(),C=s.create(),l=s.create();r.prototype.update=function(){var t=this.equations,e=t[0],n=this.upperLimit,r=this.lowerLimit,i=this.upperLimitEquation,o=this.lowerLimitEquation,A=this.bodyA,a=this.bodyB,h=this.localAxisA,p=this.localAnchorA,f=this.localAnchorB;e.updateJacobian(),s.rotate(g,h,A.angle),s.rotate(I,p,A.angle),s.add(u,I,A.position),s.rotate(C,f,a.angle),s.add(c,C,a.position);var d=this.position=s.dot(c,g)-s.dot(u,g);if(this.motorEnabled){var v=this.motorEquation.G;v[0]=g[0],v[1]=g[1],v[2]=s.crossLength(g,C),v[3]=-g[0],v[4]=-g[1],v[5]=-s.crossLength(g,I)}if(this.upperLimitEnabled&&d>n)s.scale(i.normalA,g,-1),s.sub(i.contactPointA,u,A.position),s.sub(i.contactPointB,c,a.position),s.scale(l,g,n),s.add(i.contactPointA,i.contactPointA,l),-1===t.indexOf(i)&&t.push(i);else{var y=t.indexOf(i);-1!==y&&t.splice(y,1)}if(this.lowerLimitEnabled&&r>d)s.scale(o.normalA,g,1),s.sub(o.contactPointA,u,A.position),s.sub(o.contactPointB,c,a.position),s.scale(l,g,r),s.sub(o.contactPointB,o.contactPointB,l),-1===t.indexOf(o)&&t.push(o);else{var y=t.indexOf(o);-1!==y&&t.splice(y,1)}},r.prototype.enableMotor=function(){this.motorEnabled||(this.equations.push(this.motorEquation),this.motorEnabled=!0)},r.prototype.disableMotor=function(){if(this.motorEnabled){var t=this.equations.indexOf(this.motorEquation);this.equations.splice(t,1),this.motorEnabled=!1}},r.prototype.setLimits=function(t,e){"number"==typeof t?(this.lowerLimit=t,this.lowerLimitEnabled=!0):(this.lowerLimit=t,this.lowerLimitEnabled=!1),"number"==typeof e?(this.upperLimit=e,this.upperLimitEnabled=!0):(this.upperLimit=e,this.upperLimitEnabled=!1)}},function(t,e,n){function r(t,e,n){n=n||{},i.call(this,t,e,i.REVOLUTE,n);var r=this.maxForce="undefined"!=typeof n.maxForce?n.maxForce:Number.MAX_VALUE;this.pivotA=a.create(),this.pivotB=a.create(),n.worldPivot?(a.sub(this.pivotA,n.worldPivot,t.position),a.sub(this.pivotB,n.worldPivot,e.position),a.rotate(this.pivotA,this.pivotA,-t.angle),a.rotate(this.pivotB,this.pivotB,-e.angle)):(a.copy(this.pivotA,n.localPivotA),a.copy(this.pivotB,n.localPivotB));var l=this.equations=[new o(t,e,-r,r),new o(t,e,-r,r)],h=l[0],p=l[1],f=this;h.computeGq=function(){return a.rotate(g,f.pivotA,t.angle),a.rotate(u,f.pivotB,e.angle),a.add(C,e.position,u),a.sub(C,C,t.position),a.sub(C,C,g),a.dot(C,c)},p.computeGq=function(){return a.rotate(g,f.pivotA,t.angle),a.rotate(u,f.pivotB,e.angle),a.add(C,e.position,u),a.sub(C,C,t.position),a.sub(C,C,g),a.dot(C,I)},p.minForce=h.minForce=-r,p.maxForce=h.maxForce=r,this.motorEquation=new A(t,e),this.motorEnabled=!1,this.angle=0,this.lowerLimitEnabled=!1,this.upperLimitEnabled=!1,this.lowerLimit=0,this.upperLimit=0,this.upperLimitEquation=new s(t,e),this.lowerLimitEquation=new s(t,e),this.upperLimitEquation.minForce=0,this.lowerLimitEquation.maxForce=0}var i=n(5),o=n(3),A=n(51),s=n(50),a=n(1);t.exports=r;var g=a.create(),u=a.create(),c=a.fromValues(1,0),I=a.fromValues(0,1),C=a.create();r.prototype=new i,r.prototype.constructor=r,r.prototype.setLimits=function(t,e){"number"==typeof t?(this.lowerLimit=t,this.lowerLimitEnabled=!0):(this.lowerLimit=t,this.lowerLimitEnabled=!1),"number"==typeof e?(this.upperLimit=e,this.upperLimitEnabled=!0):(this.upperLimit=e,this.upperLimitEnabled=!1)},r.prototype.update=function(){var t=this.bodyA,e=this.bodyB,n=this.pivotA,r=this.pivotB,i=this.equations,o=(i[0],i[1],i[0]),A=i[1],s=this.upperLimit,C=this.lowerLimit,l=this.upperLimitEquation,h=this.lowerLimitEquation,p=this.angle=e.angle-t.angle;if(this.upperLimitEnabled&&p>s)l.angle=s,-1===i.indexOf(l)&&i.push(l);else{var f=i.indexOf(l);-1!==f&&i.splice(f,1)}if(this.lowerLimitEnabled&&C>p)h.angle=C,-1===i.indexOf(h)&&i.push(h);else{var f=i.indexOf(h);-1!==f&&i.splice(f,1)}a.rotate(g,n,t.angle),a.rotate(u,r,e.angle),o.G[0]=-1,o.G[1]=0,o.G[2]=-a.crossLength(g,c),o.G[3]=1,o.G[4]=0,o.G[5]=a.crossLength(u,c),A.G[0]=0,A.G[1]=-1,A.G[2]=-a.crossLength(g,I),A.G[3]=0,A.G[4]=1,A.G[5]=a.crossLength(u,I)},r.prototype.enableMotor=function(){this.motorEnabled||(this.equations.push(this.motorEquation),this.motorEnabled=!0)},r.prototype.disableMotor=function(){if(this.motorEnabled){var t=this.equations.indexOf(this.motorEquation);this.equations.splice(t,1),this.motorEnabled=!1}},r.prototype.motorIsEnabled=function(){return!!this.motorEnabled},r.prototype.setMotorSpeed=function(t){if(this.motorEnabled){var e=this.equations.indexOf(this.motorEquation);this.equations[e].relativeVelocity=t}},r.prototype.getMotorSpeed=function(){return this.motorEnabled?this.motorEquation.relativeVelocity:!1}},function(t,e,n){function r(t,e,n){n=n||{},i.call(this,t,e,-Number.MAX_VALUE,Number.MAX_VALUE),this.angle=n.angle||0,this.ratio="number"==typeof n.ratio?n.ratio:1,this.setRatio(this.ratio)}var i=n(3);n(1);t.exports=r,r.prototype=new i,r.prototype.constructor=r,r.prototype.computeGq=function(){return this.ratio*this.bodyA.angle-this.bodyB.angle+this.angle},r.prototype.setRatio=function(t){var e=this.G;e[2]=t,e[5]=-1,this.ratio=t},r.prototype.setMaxTorque=function(t){this.maxForce=t,this.minForce=-t}},function(t,e,n){function r(t,e,n){n=n||{},i.call(this,t,e,-Number.MAX_VALUE,Number.MAX_VALUE),this.angle=n.angle||0;var r=this.G;r[2]=1,r[5]=-1}var i=n(3),o=n(1);t.exports=r,r.prototype=new i,r.prototype.constructor=r;var A=o.create(),s=o.create(),a=o.fromValues(1,0),g=o.fromValues(0,1);r.prototype.computeGq=function(){return o.rotate(A,a,this.bodyA.angle+this.angle),o.rotate(s,g,this.bodyB.angle),o.dot(A,s)}},function(t,e,n){function r(t,e){i.call(this,t,e,-Number.MAX_VALUE,Number.MAX_VALUE),this.relativeVelocity=1,this.ratio=1}var i=n(3);n(1);t.exports=r,r.prototype=new i,r.prototype.constructor=r,r.prototype.computeB=function(t,e,n){var r=this.G;r[2]=-1,r[5]=this.ratio;var i=this.computeGiMf(),o=this.computeGW(),A=-o*e-n*i;return A}},function(t,e,n){function r(t,e,n){if(n=n||{},!(t instanceof i&&e instanceof i))throw new Error("First two arguments must be Material instances.");this.id=r.idCounter++,this.materialA=t,this.materialB=e,this.friction="undefined"!=typeof n.friction?Number(n.friction):.3,this.restitution="undefined"!=typeof n.restitution?Number(n.restitution):0,this.stiffness="undefined"!=typeof n.stiffness?Number(n.stiffness):o.DEFAULT_STIFFNESS,this.relaxation="undefined"!=typeof n.relaxation?Number(n.relaxation):o.DEFAULT_RELAXATION,this.frictionStiffness="undefined"!=typeof n.frictionStiffness?Number(n.frictionStiffness):o.DEFAULT_STIFFNESS,this.frictionRelaxation="undefined"!=typeof n.frictionRelaxation?Number(n.frictionRelaxation):o.DEFAULT_RELAXATION,this.surfaceVelocity="undefined"!=typeof n.surfaceVelocity?Number(n.surfaceVelocity):0,this.contactSkinSize=.005}var i=n(27),o=n(3);t.exports=r,r.idCounter=0},function(t,e,n){function r(t,e,n){n=n||{},o.call(this,t,e,n),this.localAnchorA=i.fromValues(0,0),this.localAnchorB=i.fromValues(0,0),n.localAnchorA&&i.copy(this.localAnchorA,n.localAnchorA),
n.localAnchorB&&i.copy(this.localAnchorB,n.localAnchorB),n.worldAnchorA&&this.setWorldAnchorA(n.worldAnchorA),n.worldAnchorB&&this.setWorldAnchorB(n.worldAnchorB);var r=i.create(),A=i.create();this.getWorldAnchorA(r),this.getWorldAnchorB(A);var s=i.distance(r,A);this.restLength="number"==typeof n.restLength?n.restLength:s}var i=n(1),o=n(28);n(2);t.exports=r,r.prototype=new o,r.prototype.constructor=r,r.prototype.setWorldAnchorA=function(t){this.bodyA.toLocalFrame(this.localAnchorA,t)},r.prototype.setWorldAnchorB=function(t){this.bodyB.toLocalFrame(this.localAnchorB,t)},r.prototype.getWorldAnchorA=function(t){this.bodyA.toWorldFrame(t,this.localAnchorA)},r.prototype.getWorldAnchorB=function(t){this.bodyB.toWorldFrame(t,this.localAnchorB)};var A=i.create(),s=i.create(),a=i.create(),g=i.create(),u=i.create(),c=i.create(),I=i.create(),C=i.create(),l=i.create();r.prototype.applyForce=function(){var t=this.stiffness,e=this.damping,n=this.restLength,r=this.bodyA,o=this.bodyB,h=A,p=s,f=a,d=g,v=l,y=u,m=c,b=I,w=C;this.getWorldAnchorA(y),this.getWorldAnchorB(m),i.sub(b,y,r.position),i.sub(w,m,o.position),i.sub(h,m,y);var L=i.len(h);i.normalize(p,h),i.sub(f,o.velocity,r.velocity),i.crossZV(v,o.angularVelocity,w),i.add(f,f,v),i.crossZV(v,r.angularVelocity,b),i.sub(f,f,v),i.scale(d,p,-t*(L-n)-e*i.dot(f,p)),i.sub(r.force,r.force,d),i.add(o.force,o.force,d);var E=i.crossLength(b,d),B=i.crossLength(w,d);r.angularForce-=E,o.angularForce+=B}},function(t,e,n){function r(t,e,n){n=n||{},i.call(this,t,e,n),this.restAngle="number"==typeof n.restAngle?n.restAngle:e.angle-t.angle}var i=(n(1),n(28));t.exports=r,r.prototype=new i,r.prototype.constructor=r,r.prototype.applyForce=function(){var t=this.stiffness,e=this.damping,n=this.restAngle,r=this.bodyA,i=this.bodyB,o=i.angle-r.angle,A=i.angularVelocity-r.angularVelocity,s=-t*(o-n)-e*A*0;r.angularForce-=s,i.angularForce+=s}},function(t,e,n){function r(t){"number"==typeof arguments[0]&&"number"==typeof arguments[1]&&(t={width:arguments[0],height:arguments[1]},console.warn("The Rectangle has been renamed to Box and its constructor signature has changed. Please use the following format: new Box({ width: 1, height: 1, ... })")),t=t||{};var e=this.width=t.width||1,n=this.height=t.height||1,r=[i.fromValues(-e/2,-n/2),i.fromValues(e/2,-n/2),i.fromValues(e/2,n/2),i.fromValues(-e/2,n/2)],s=[i.fromValues(1,0),i.fromValues(0,1)];t.vertices=r,t.axes=s,t.type=o.BOX,A.call(this,t)}var i=n(1),o=n(4),A=n(15);t.exports=r,r.prototype=new A,r.prototype.constructor=r,r.prototype.computeMomentOfInertia=function(t){var e=this.width,n=this.height;return t*(n*n+e*e)/12},r.prototype.updateBoundingRadius=function(){var t=this.width,e=this.height;this.boundingRadius=Math.sqrt(t*t+e*e)/2};i.create(),i.create(),i.create(),i.create();r.prototype.computeAABB=function(t,e,n){t.setFromPoints(this.vertices,e,n,0)},r.prototype.updateArea=function(){this.area=this.width*this.height}},function(t,e,n){function r(t){"number"==typeof arguments[0]&&"number"==typeof arguments[1]&&(t={length:arguments[0],radius:arguments[1]},console.warn("The Capsule constructor signature has changed. Please use the following format: new Capsule({ radius: 1, length: 1 })")),t=t||{},this.length=t.length||1,this.radius=t.radius||1,t.type=i.CAPSULE,i.call(this,t)}var i=n(4),o=n(1);t.exports=r,r.prototype=new i,r.prototype.constructor=r,r.prototype.computeMomentOfInertia=function(t){var e=this.radius,n=this.length+e,r=2*e;return t*(r*r+n*n)/12},r.prototype.updateBoundingRadius=function(){this.boundingRadius=this.radius+this.length/2},r.prototype.updateArea=function(){this.area=Math.PI*this.radius*this.radius+2*this.radius*this.length};var A=o.create();r.prototype.computeAABB=function(t,e,n){var r=this.radius;o.set(A,this.length/2,0),0!==n&&o.rotate(A,A,n),o.set(t.upperBound,Math.max(A[0]+r,-A[0]+r),Math.max(A[1]+r,-A[1]+r)),o.set(t.lowerBound,Math.min(A[0]-r,-A[0]-r),Math.min(A[1]-r,-A[1]-r)),o.add(t.lowerBound,t.lowerBound,e),o.add(t.upperBound,t.upperBound,e)};var s=o.create(),a=o.create(),g=o.create(),u=o.create(),c=o.fromValues(0,1);r.prototype.raycast=function(t,e,n,r){for(var i=e.from,A=e.to,I=(e.direction,s),C=a,l=g,h=u,p=this.length/2,f=0;2>f;f++){var d=this.radius*(2*f-1);o.set(l,-p,d),o.set(h,p,d),o.toGlobalFrame(l,l,n,r),o.toGlobalFrame(h,h,n,r);var v=o.getLineSegmentsIntersectionFraction(i,A,l,h);if(v>=0&&(o.rotate(C,c,r),o.scale(C,C,2*f-1),e.reportIntersection(t,v,C,-1),t.shouldStop(e)))return}for(var y=Math.pow(this.radius,2)+Math.pow(p,2),f=0;2>f;f++){o.set(l,p*(2*f-1),0),o.toGlobalFrame(l,l,n,r);var m=Math.pow(A[0]-i[0],2)+Math.pow(A[1]-i[1],2),b=2*((A[0]-i[0])*(i[0]-l[0])+(A[1]-i[1])*(i[1]-l[1])),w=Math.pow(i[0]-l[0],2)+Math.pow(i[1]-l[1],2)-Math.pow(this.radius,2),v=Math.pow(b,2)-4*m*w;if(!(0>v))if(0===v){if(o.lerp(I,i,A,v),o.squaredDistance(I,n)>y&&(o.sub(C,I,l),o.normalize(C,C),e.reportIntersection(t,v,C,-1),t.shouldStop(e)))return}else{var L=Math.sqrt(v),E=1/(2*m),B=(-b-L)*E,P=(-b+L)*E;if(B>=0&&1>=B&&(o.lerp(I,i,A,B),o.squaredDistance(I,n)>y&&(o.sub(C,I,l),o.normalize(C,C),e.reportIntersection(t,B,C,-1),t.shouldStop(e))))return;if(P>=0&&1>=P&&(o.lerp(I,i,A,P),o.squaredDistance(I,n)>y&&(o.sub(C,I,l),o.normalize(C,C),e.reportIntersection(t,P,C,-1),t.shouldStop(e))))return}}}},function(t,e,n){function r(t){"number"==typeof arguments[0]&&(t={length:arguments[0]},console.warn("The Line constructor signature has changed. Please use the following format: new Line({ length: 1, ... })")),t=t||{},this.length=t.length||1,t.type=i.LINE,i.call(this,t)}var i=n(4),o=n(1);t.exports=r,r.prototype=new i,r.prototype.constructor=r,r.prototype.computeMomentOfInertia=function(t){return t*Math.pow(this.length,2)/12},r.prototype.updateBoundingRadius=function(){this.boundingRadius=this.length/2};var A=[o.create(),o.create()];r.prototype.computeAABB=function(t,e,n){var r=this.length/2;o.set(A[0],-r,0),o.set(A[1],r,0),t.setFromPoints(A,e,n,0)};var s=(o.create(),o.create()),a=o.create(),g=o.create(),u=o.fromValues(0,1);r.prototype.raycast=function(t,e,n,r){var i=e.from,A=e.to,c=a,I=g,C=this.length/2;o.set(c,-C,0),o.set(I,C,0),o.toGlobalFrame(c,c,n,r),o.toGlobalFrame(I,I,n,r);var l=o.getLineSegmentsIntersectionFraction(c,I,i,A);if(l>=0){var h=s;o.rotate(h,u,r),e.reportIntersection(t,l,h,-1)}}},function(t,e,n){function r(t){A.call(this,t,A.GS),t=t||{},this.iterations=t.iterations||10,this.tolerance=t.tolerance||1e-7,this.arrayStep=30,this.lambda=new s.ARRAY_TYPE(this.arrayStep),this.Bs=new s.ARRAY_TYPE(this.arrayStep),this.invCs=new s.ARRAY_TYPE(this.arrayStep),this.useZeroRHS=!1,this.frictionIterations=0,this.usedIterations=0}function i(t){for(var e=t.length;e--;)t[e]=0}var o=n(1),A=n(31),s=n(2),a=n(14);t.exports=r,r.prototype=new A,r.prototype.constructor=r,r.prototype.solve=function(t,e){this.sortEquations();var n=0,A=this.iterations,g=this.frictionIterations,u=this.equations,c=u.length,I=Math.pow(this.tolerance*c,2),C=e.bodies,l=e.bodies.length,h=(o.add,o.set,this.useZeroRHS),p=this.lambda;if(this.usedIterations=0,c)for(var f=0;f!==l;f++){var d=C[f];d.updateSolveMassProperties()}p.length<c&&(p=this.lambda=new s.ARRAY_TYPE(c+this.arrayStep),this.Bs=new s.ARRAY_TYPE(c+this.arrayStep),this.invCs=new s.ARRAY_TYPE(c+this.arrayStep)),i(p);for(var v=this.invCs,y=this.Bs,p=this.lambda,f=0;f!==u.length;f++){var m=u[f];(m.timeStep!==t||m.needsUpdate)&&(m.timeStep=t,m.update()),y[f]=m.computeB(m.a,m.b,t),v[f]=m.computeInvC(m.epsilon)}var m,b,f,w;if(0!==c){for(f=0;f!==l;f++){var d=C[f];d.resetConstraintVelocity()}if(g){for(n=0;n!==g;n++){for(b=0,w=0;w!==c;w++){m=u[w];var L=r.iterateEquation(w,m,m.epsilon,y,v,p,h,t,n);b+=Math.abs(L)}if(this.usedIterations++,I>=b*b)break}for(r.updateMultipliers(u,p,1/t),w=0;w!==c;w++){var E=u[w];if(E instanceof a){for(var B=0,P=0;P!==E.contactEquations.length;P++)B+=E.contactEquations[P].multiplier;B*=E.frictionCoefficient/E.contactEquations.length,E.maxForce=B,E.minForce=-B}}}for(n=0;n!==A;n++){for(b=0,w=0;w!==c;w++){m=u[w];var L=r.iterateEquation(w,m,m.epsilon,y,v,p,h,t,n);b+=Math.abs(L)}if(this.usedIterations++,I>=b*b)break}for(f=0;f!==l;f++)C[f].addConstraintVelocity();r.updateMultipliers(u,p,1/t)}},r.updateMultipliers=function(t,e,n){for(var r=t.length;r--;)t[r].multiplier=e[r]*n},r.iterateEquation=function(t,e,n,r,i,o,A,s,a){var g=r[t],u=i[t],c=o[t],I=e.computeGWlambda(),C=e.maxForce,l=e.minForce;A&&(g=0);var h=u*(g-I-n*c),p=c+h;return l*s>p?h=l*s-c:p>C*s&&(h=C*s-c),o[t]+=h,e.addToWlambda(h),h}},function(t,e,n){function r(){o.apply(this,arguments)}var i=n(19),o=n(9);t.exports=r,r.prototype=new o,r.prototype.constructor=r,r.prototype.create=function(){return new i},r.prototype.destroy=function(t){return t.bodyA=t.bodyB=null,this}},function(t,e,n){function r(){o.apply(this,arguments)}var i=n(14),o=n(9);t.exports=r,r.prototype=new o,r.prototype.constructor=r,r.prototype.create=function(){return new i},r.prototype.destroy=function(t){return t.bodyA=t.bodyB=null,this}},function(t,e){function n(t,e,n,r){this.shapeA=e,this.shapeB=r,this.bodyA=t,this.bodyB=n}t.exports=n,n.prototype.set=function(t,e,r,i){n.call(this,t,e,r,i)}},function(t,e,n){function r(){this.data={},this.keys=[]}var i=n(2);t.exports=r,r.prototype.getKey=function(t,e){return t=0|t,e=0|e,(0|t)===(0|e)?-1:0|((0|t)>(0|e)?t<<16|65535&e:e<<16|65535&t)},r.prototype.getByKey=function(t){return t=0|t,this.data[t]},r.prototype.get=function(t,e){return this.data[this.getKey(t,e)]},r.prototype.set=function(t,e,n){if(!n)throw new Error("No data!");var r=this.getKey(t,e);return this.data[r]||this.keys.push(r),this.data[r]=n,r},r.prototype.reset=function(){for(var t=this.data,e=this.keys,n=e.length;n--;)delete t[e[n]];e.length=0},r.prototype.copy=function(t){this.reset(),i.appendArray(this.keys,t.keys);for(var e=t.keys.length;e--;){var n=t.keys[e];this.data[n]=t.data[n]}}},function(t,e,n){function r(){this.equations=[],this.bodies=[]}var i=n(6);t.exports=r,r.prototype.reset=function(){this.equations.length=this.bodies.length=0};var o=[];r.prototype.getBodies=function(t){var e=t||[],n=this.equations;o.length=0;for(var r=0;r!==n.length;r++){var i=n[r];-1===o.indexOf(i.bodyA.id)&&(e.push(i.bodyA),o.push(i.bodyA.id)),-1===o.indexOf(i.bodyB.id)&&(e.push(i.bodyB),o.push(i.bodyB.id))}return e},r.prototype.wantsToSleep=function(){for(var t=0;t<this.bodies.length;t++){var e=this.bodies[t];if(e.type===i.DYNAMIC&&!e.wantsToSleep)return!1}return!0},r.prototype.sleep=function(){for(var t=0;t<this.bodies.length;t++){var e=this.bodies[t];e.sleep()}return!0}},function(t,e){function n(t){this.body=t,this.neighbors=[],this.equations=[],this.visited=!1}t.exports=n,n.prototype.reset=function(){this.equations.length=0,this.neighbors.length=0,this.visited=!1,this.body=null}},function(t,e){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(t){return"function"==typeof t}function i(t){return"number"==typeof t}function o(t){return"object"==typeof t&&null!==t}function A(t){return void 0===t}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(t){if(!i(t)||0>t||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},n.prototype.emit=function(t){var e,n,i,s,a,g;if(this._events||(this._events={}),"error"===t&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[t],A(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(i=arguments.length,s=new Array(i-1),a=1;i>a;a++)s[a-1]=arguments[a];n.apply(this,s)}else if(o(n)){for(i=arguments.length,s=new Array(i-1),a=1;i>a;a++)s[a-1]=arguments[a];for(g=n.slice(),i=g.length,a=0;i>a;a++)g[a].apply(this,s)}return!0},n.prototype.addListener=function(t,e){var i;if(!r(e))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,r(e.listener)?e.listener:e),this._events[t]?o(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,o(this._events[t])&&!this._events[t].warned){var i;i=A(this._maxListeners)?n.defaultMaxListeners:this._maxListeners,i&&i>0&&this._events[t].length>i&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace())}return this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(t,e){function n(){this.removeListener(t,n),i||(i=!0,e.apply(this,arguments))}if(!r(e))throw TypeError("listener must be a function");var i=!1;return n.listener=e,this.on(t,n),this},n.prototype.removeListener=function(t,e){var n,i,A,s;if(!r(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(n=this._events[t],A=n.length,i=-1,n===e||r(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(o(n)){for(s=A;s-->0;)if(n[s]===e||n[s].listener&&n[s].listener===e){i=s;break}if(0>i)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},n.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[t],r(n))this.removeListener(t,n);else for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},n.prototype.listeners=function(t){var e;return e=this._events&&this._events[t]?r(this._events[t])?[this._events[t]]:this._events[t].slice():[]},n.listenerCount=function(t,e){var n;return n=t._events&&t._events[e]?r(t._events[e])?1:t._events[e].length:0}},function(t,e,n){/**
	 * An even better animation frame.
	 *
	 * @copyright Oleg Slobodskoi 2015
	 * @website https://github.com/kof/animationFrame
	 * @license MIT
	 */
t.exports=n(67)},function(t,e,n){"use strict";function r(t){return this instanceof r?(t||(t={}),"number"==typeof t&&(t={frameRate:t}),null!=t.useNative||(t.useNative=!0),this.options=t,this.frameRate=t.frameRate||r.FRAME_RATE,this._frameLength=1e3/this.frameRate,this._isCustomFrameRate=this.frameRate!==r.FRAME_RATE,this._timeoutId=null,this._callbacks={},this._lastTickTime=0,void(this._tickCounter=0)):new r(t)}var i=n(68),o=n(22),A=n(70),s=i.request,a=i.cancel;t.exports=r,r.FRAME_RATE=60,r.shim=function(t){var e=new r(t);return window.requestAnimationFrame=function(t){return e.request(t)},window.cancelAnimationFrame=function(t){return e.cancel(t)},e},r.prototype.request=function(t){var e=this;if(++this._tickCounter,i.supported&&this.options.useNative&&!this._isCustomFrameRate)return s(t);if(!t)throw new TypeError("Not enough arguments");if(null==this._timeoutId){var n=this._frameLength+this._lastTickTime-o();0>n&&(n=0),this._timeoutId=setTimeout(function(){e._lastTickTime=o(),e._timeoutId=null,++e._tickCounter;var t=e._callbacks;e._callbacks={};for(var n in t)t[n]&&(i.supported&&e.options.useNative?s(t[n]):t[n](A.now()))},n)}return this._callbacks[this._tickCounter]=t,this._tickCounter},r.prototype.cancel=function(t){i.supported&&this.options.useNative&&a(t),delete this._callbacks[t]}},function(t,e){"use strict";var n=window;try{n.top.name,n=n.top}catch(r){}e.request=n.requestAnimationFrame,e.cancel=n.cancelAnimationFrame||n.cancelRequestAnimationFrame,e.supported=!1;for(var i=["Webkit","Moz","ms","O"],o=0;o<i.length&&!e.request;o++)e.request=n[i[o]+"RequestAnimationFrame"],e.cancel=n[i[o]+"CancelAnimationFrame"]||n[i[o]+"CancelRequestAnimationFrame"];e.request&&e.request.call(null,function(){e.supported=!0})},function(t,e,n){"use strict";var r=n(22);e.navigationStart=r()},function(t,e,n){"use strict";var r=n(22),i=n(69);e.now=function(){return window.performance&&window.performance.now?window.performance.now():r()-i.navigationStart}},function(t,e,n){var r=n(72);t.exports={create:function(t){return new r(t)},whenLoaded:function(t,e){function n(){r++,r===t.length&&e()}var r=0;Array.isArray(t)||(t=[t]),t.forEach(function(t){"loaded"===t.state?n():t.once("load",n)})}}},function(t,e,n){function r(){}function i(t){a.call(this),this.url=t,this.state="loading",o.load(t,function(){this.state="loaded",this.emit("load")}.bind(this))}var o,A=n(73),s=n(74),a=n(65).EventEmitter,g=window.AudioContext||window.webkitAudioContext;if(g)try{console.log("audio context"),o=new s(g)}catch(u){console.log("error, fallback to audio tag"),o=new A}else o=new A;var c=i.prototype=Object.create(a.prototype);c.play=function(){"loaded"===this.state?o.play(this.url):this.once("load",this.play.bind(this))},c.stop=function(){o.stop(this.url)},Object.defineProperty(c,"duration",{enumerable:!0,get:function(){return o.durationOf(this.url)},set:r}),Object.defineProperty(c,"currentTime",{enumerable:!0,get:function(){return o.time(this.url)},set:r}),t.exports=i},function(t,e){function n(){this.audios={},this.loaded={}}var r=n.prototype;r.load=function(t,e){var n=this.audios[t];if(n)return void(e&&(this.loaded[t]?e():n.addEventListener("loadeddata",e)));n=this.audios[t]=new Audio,n.src=t,n.load();var r=this;n.addEventListener("loadeddata",function(){r.loaded[t]=!0,e&&e()})},r.play=function(t){var e=this.loaded[t];if(!e)return void console.warn("audio: attempting to play file: "+t+" which is not loaded yet.");var n=this.audios[t];n.play()},r.stop=function(t){var e=this.loaded[t];if(e){var n=this.audios[t];n.pause(),n.currentTime=0}},r.loadAll=function(t,e){var n=0,r=this;t.forEach(function(i){r.load(i,function(){n++,n>=t.length&&e()})})},r.durationOf=function(t){return this.loaded[t]?this.audios[t].duration:void 0},r.time=function(t){return this.loaded[t]?this.audios[t].currentTime:void 0},t.exports=n},function(t,e){function n(t){this.context=new t,this.pending={},this.buffers={},this.sources={},this.timers={}}var r=n.prototype;r.load=function(t,e){var n=this.pending[t];if(n){if(e){var r=n.onload;n.onload=function(){r(),e()}}}else{var i=this.buffers[t];if(i)return void(e&&e());n=new XMLHttpRequest,n.open("GET",t,!0),n.responseType="arraybuffer";var o=this;n.onload=function(){o.context.decodeAudioData(n.response,function(n){o.buffers[t]=n,e&&e()},function(e){console.warn("audio: error decoding response for "+t)})},n.send()}},r.play=function(t){var e=this.buffers[t];if(!e)return void console.warn("audio: attempting to play file: "+t+" which is not loaded yet.");var n=this.context.createBufferSource();this.sources[t]=n,n.buffer=e,n.connect(this.context.destination),"function"==typeof n.noteOn?n.noteOn(0):n.start();var r=this.timers;r[t]=this.context.currentTime,n.onended=function(){r[t]=null}},r.stop=function(t){this.sources[t]&&(this.sources[t].stop(0),this.sources[t]=null,this.timers[t]=null)},r.loadAll=function(t,e){var n=0,r=this;t.forEach(function(i){r.load(i,function(){n++,n>=t.length&&e()})})},r.durationOf=function(t){var e=this.buffers[t];return e?e.duration:void 0},r.time=function(t){return null!=this.timers[t]?this.context.currentTime-this.timers[t]:0},t.exports=n},function(t,e){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var n=this[e];n[2]?t.push("@media "+n[2]+"{"+n[1]+"}"):t.push(n[1])}return t.join("")},t}},function(t,e,n){e=t.exports=n(75)(),e.push([t.id,"html,body,canvas{width:100%;height:100%;margin:0;overflow:hidden;font:13px 'Helvetica Neue',Helvetica,Arial}canvas{display:block}.mute{position:fixed;right:1em;top:1em}#debug{box-sizing:border-box;position:absolute;top:0;left:0;background:rgba(255,255,255,.5);padding:1em}#fps:before{content:'fps: '}.frame{position:fixed;left:0;bottom:0;width:100%}",""])},function(t,e,n){var r=n(127);t.exports=function(t){return r("number"==typeof t,"Degrees should be a number"),t*(Math.PI/180)}},function(t,e,n){t.exports=n.p+"608ce990230ee50b962398ed94df2402.mp3"},function(t,e,n){function r(t){return this instanceof r?(i.call(this),t=t||{},this.last=A(),this.rate=0,this.time=0,this.decay=t.decay||1,this.every=t.every||1,void(this.ticks=0)):new r(t)}var i=n(65).EventEmitter,o=n(80);t.exports=r;var A=function(){return this}().performance&&"function"==typeof performance.now?function(){return performance.now()}:Date.now||function(){return+new Date};o(r,i),r.prototype.tick=function(){var t=A(),e=t-this.last,n=e;this.ticks+=1,this.last=t,this.time+=(n-this.time)*this.decay,this.rate=1e3/this.time,this.ticks%this.every||this.emit("data",this.rate)}},function(t,e){function n(t,e,n){n=n||{};var r={};[t.prototype,n].forEach(function(t){Object.getOwnPropertyNames(t).forEach(function(e){r[e]=Object.getOwnPropertyDescriptor(t,e)})}),t.prototype=Object.create(e.prototype,r),t["super"]=e}t.exports=n},function(t,e,n){function r(t){var e=A(function(n,r){var A=o(r,e.placeholder);return i(n,t,void 0,r,A)});return e}var i=n(82),o=n(35),A=n(85),s=64,a=r(s);a.placeholder={},t.exports=a},function(t,e,n){(function(e){function r(t,e,n){for(var r=n.length,i=-1,o=B(t.length-r,0),A=-1,s=e.length,a=Array(s+o);++A<s;)a[A]=e[A];for(;++i<r;)a[n[i]]=t[i];for(;o--;)a[A++]=t[i++];return a}function i(t,e,n){for(var r=-1,i=n.length,o=-1,A=B(t.length-i,0),s=-1,a=e.length,g=Array(A+a);++o<A;)g[o]=t[o];for(var u=o;++s<a;)g[u+s]=e[s];for(;++r<i;)g[u+n[r]]=t[o++];return g}function o(t,n){function r(){var o=this&&this!==e&&this instanceof r?i:t;return o.apply(n,arguments)}var i=A(t);return r}function A(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=l(t.prototype),r=t.apply(n,e);return I(r)?r:n}}function s(t,n,o,a,g,u,I,l,L,E){function P(){for(var d=arguments.length,v=d,y=Array(d);v--;)y[v]=arguments[v];if(a&&(y=r(y,a,g)),u&&(y=i(y,u,I)),q||R){var w=P.placeholder,T=h(y,w);if(d-=T.length,E>d){var V=l?C(l):void 0,O=B(E-d,0),N=q?T:void 0,k=q?void 0:T,G=q?y:void 0,W=q?void 0:y;n|=q?m:b,n&=~(q?b:m),D||(n&=~(p|f));var U=s(t,n,o,G,N,W,k,V,L,O);return U.placeholder=w,U}}var j=S?o:this,H=M?j[t]:t;return l&&(y=c(y,l)),x&&L<y.length&&(y.length=L),this&&this!==e&&this instanceof P&&(H=F||A(t)),H.apply(j,y)}var x=n&w,S=n&p,M=n&f,q=n&v,D=n&d,R=n&y,F=M?void 0:A(t);return P}function a(t,n,r,i){function o(){for(var n=-1,A=arguments.length,g=-1,u=i.length,c=Array(u+A);++g<u;)c[g]=i[g];for(;A--;)c[g++]=arguments[++n];var I=this&&this!==e&&this instanceof o?a:t;return I.apply(s?r:this,c)}var s=n&p,a=A(t);return o}function g(t,e,n,r,i,A,g,u){var c=e&f;if(!c&&"function"!=typeof t)throw new TypeError(L);var I=r?r.length:0;if(I||(e&=~(m|b),r=i=void 0),I-=i?i.length:0,e&b){var C=r,l=i;r=i=void 0}var h=[t,e,n,r,i,C,l,A,g,u];if(h[9]=null==u?c?0:t.length:B(u-I,0)||0,e==p)var d=o(h[0],h[2]);else d=e!=m&&e!=(p|m)||h[4].length?s.apply(void 0,h):a.apply(void 0,h);return d}function u(t,e){return t="number"==typeof t||E.test(t)?+t:-1,e=null==e?x:e,t>-1&&t%1==0&&e>t}function c(t,e){for(var n=t.length,r=P(e.length,n),i=C(t);r--;){var o=e[r];t[r]=u(o,n)?i[o]:void 0}return t}function I(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}var C=n(83),l=n(84),h=n(35),p=1,f=2,d=4,v=8,y=16,m=32,b=64,w=128,L="Expected a function",E=/^\d+$/,B=Math.max,P=Math.min,x=9007199254740991;t.exports=g}).call(e,function(){return this}())},function(t,e){function n(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}t.exports=n},function(t,e){function n(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}var r=function(){function t(){}return function(e){if(n(e)){t.prototype=e;var r=new t;t.prototype=void 0}return r||{}}}();t.exports=r},function(t,e){function n(t,e){if("function"!=typeof t)throw new TypeError(r);return e=i(void 0===e?t.length-1:+e||0,0),function(){for(var n=arguments,r=-1,o=i(n.length-e,0),A=Array(o);++r<o;)A[r]=n[e+r];switch(e){case 0:return t.call(this,A);case 1:return t.call(this,n[0],A);case 2:return t.call(this,n[0],n[1],A)}var s=Array(e+1);for(r=-1;++r<e;)s[r]=n[r];return s[e]=A,t.apply(this,s)}}var r="Expected a function",i=Math.max;t.exports=n},function(t,e,n){function r(t,e,n){n&&i(t,e,n)&&(e=n=void 0),t=+t||0,n=null==n?1:+n||0,null==e?(e=t,t=0):e=+e||0;for(var r=-1,s=A(o((e-t)/(n||1)),0),a=Array(s);++r<s;)a[r]=t,t+=n;return a}var i=n(87),o=Math.ceil,A=Math.max;t.exports=r},function(t,e){function n(t){return function(e){return null==e?void 0:e[t]}}function r(t){return null!=t&&A(u(t))}function i(t,e){return t="number"==typeof t||a.test(t)?+t:-1,e=null==e?g:e,t>-1&&t%1==0&&e>t}function o(t,e,n){if(!s(n))return!1;var o=typeof e;if("number"==o?r(n)&&i(e,n.length):"string"==o&&e in n){var A=n[e];return t===t?t===A:A!==A}return!1}function A(t){return"number"==typeof t&&t>-1&&t%1==0&&g>=t}function s(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}var a=/^\d+$/,g=9007199254740991,u=n("length");t.exports=o},function(t,e,n){function r(t,e){return t="number"==typeof t||I.test(t)?+t:-1,e=null==e?C:e,t>-1&&t%1==0&&e>t}function i(t,e){var n=typeof t;if("string"==n&&c.test(t)||"number"==n)return!0;if(g(t))return!1;var r=!u.test(t);return r||null!=e&&t in o(e)}function o(t){return A(t)?t:Object(t)}function A(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function s(t,e,n){if(null==t)return t;var o=e+"";e=null!=t[o]||i(e,t)?[o]:a(e);for(var s=-1,g=e.length,u=g-1,c=t;null!=c&&++s<g;){var I=e[s];A(c)&&(s==u?c[I]=n:null==c[I]&&(c[I]=r(e[s+1])?[]:{})),c=c[I]}return t}var a=n(89),g=n(36),u=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,c=/^\w*$/,I=/^\d+$/,C=9007199254740991;t.exports=s},function(t,e,n){function r(t){return null==t?"":t+""}function i(t){if(o(t))return t;var e=[];return r(t).replace(A,function(t,n,r,i){e.push(r?i.replace(s,"$1"):n||t)}),e}var o=n(36),A=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,s=/\\(\\)?/g;t.exports=i},function(t,e,n){function r(t,e){var n=-1,r=t?t.length:0,o={};for(!r||e||i(t[0])||(e=[]);++n<r;){var A=t[n];e?o[A]=e[n]:A&&(o[A[0]]=A[1])}return o}var i=n(91);t.exports=r},function(t,e){function n(t){return!!t&&"object"==typeof t}function r(t,e){var n=null==t?void 0:t[e];return s(n)?n:void 0}function i(t){return"number"==typeof t&&t>-1&&t%1==0&&f>=t}function o(t){return A(t)&&l.call(t)==g}function A(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function s(t){return null==t?!1:o(t)?h.test(I.call(t)):n(t)&&u.test(t)}var a="[object Array]",g="[object Function]",u=/^\[object .+?Constructor\]$/,c=Object.prototype,I=Function.prototype.toString,C=c.hasOwnProperty,l=c.toString,h=RegExp("^"+I.call(C).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),p=r(Array,"isArray"),f=9007199254740991,d=p||function(t){return n(t)&&i(t.length)&&l.call(t)==a};t.exports=d},function(t,e,n){"use strict";function r(t){var e=-(t*c.SCALE)/I.HEIGHT;return l.map(function(t,n){return u.clamp(0,255,Math.floor(t-(t-h[n])*e))})}function i(t){var e=C.ctx.createLinearGradient(0,0,0,C.canvas.height),n=C.canvas.height*c.SCALE;return e.addColorStop(0,g.toRGB(r(-t.y))),e.addColorStop(1,g.toRGB(r(-t.y-n))),e}function o(t,e){var n=p,r=1,i=t.strokeStyle,o=t.fillStyle,A=t.maxHeight,s=t.minHeight,a=t.spaceBetween,g=t.parallax;C.ctx.save(),C.ctx.strokeStyle=i,C.ctx.fillStyle=o,C.ctx.lineWidth=3,C.ctx.beginPath();var c=Math.floor(y/a),I=function(t){return C.canvas.height-n-t},l=-e.x*g,h=e.x+l;C.ctx.translate(l,0);var f=Math.floor(-h/t.spaceBetween),d=Math.min(c,f+Math.floor(C.canvas.width/t.spaceBetween)+1+r),v=void 0,m=void 0;if(f>0){var b=2*f;v=u.randomGenerator(t.seed+b-2),m=I(s/2*v()),v=u.randomGenerator(t.seed+b)}else v=u.randomGenerator(t.seed),m=C.canvas.height-n;for(var w=f;d>w;w++){var L=I(w===c-1?0:s/2*v());C.ctx.bezierCurveTo(w*a,m,w*a+a/2,I(Math.max(s,v()*A)),(w+1)*a,L),m=L}C.ctx.lineTo(-h+C.canvas.width,C.canvas.height-n),C.ctx.lineTo(f*a,C.canvas.height-n),C.ctx.closePath(),C.ctx.fill(),C.ctx.stroke(),C.ctx.restore()}function A(t){var e=f.width/2,n=e/f.width,r=e*n,i=Math.ceil(C.canvas.width/e)+1,o=C.canvas.height-p;C.ctx.save(),C.ctx.strokeStyle="#736c61",C.ctx.fillStyle="#7f786f",C.ctx.lineWidth=2,g.rectPath(0,o,y,p),C.ctx.fill(),C.ctx.stroke(),C.ctx.translate(-t.x,0);for(var A=0;i>A;A++){var s=e*A+t.x%e;C.ctx.drawImage(f,s,o,e,r)}C.ctx.restore()}function s(t,e){for(var n=u.randomGenerator(v),r=C.canvas.height-p-200,i=y,o=0;o<I.WIDTH/10;o++){var A=e*n(),s=d[Math.floor(n()*d.length)],a=u.clamp(.2,1,n()),g=s.width*a,c=s.height*a,l=g,h=-g,f=u.mod(n()*i-A,i+l)+h,b=r-n()*(m/2),w=f+t.x*a,L=b+t.y*a;w>C.canvas.width||-g>w||L>C.canvas.height||-c>L||(C.ctx.save(),C.ctx.translate(-(t.x-t.x*a)+f,-(t.y-t.y*a)+b),C.ctx.drawImage(s,0,0,s.width,s.height,0,0,g,c),C.ctx.restore())}}function a(t,e){C.ctx.fillStyle=i(t),C.ctx.fillRect(-t.x,-t.y,C.canvas.width,C.canvas.height),o(b[0],t),o(b[1],t),o(b[2],t),s(t,e),o(b[3],t),A(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.render=a;var g=n(12),u=n(38),c=n(25),I=n(13),C=n(7),l=[168,227,233];e.SKY_COLOR=l;var h=[17,103,125];e.SPACE_COLOR=h;var p=g.scale(c.GROUND_LEVEL),f=g.image(n(122)),d=[g.image(n(118)),g.image(n(119)),g.image(n(120))],v=Math.ceil(100*Math.random()),y=g.scale(I.WIDTH),m=g.scale(I.HEIGHT),b=[{strokeStyle:"#8edbe2",fillStyle:"#8edbe2",maxHeight:250,minHeight:200,spaceBetween:500,parallax:.9},{strokeStyle:"#6cd0d9",fillStyle:"#6cd0d9",maxHeight:200,minHeight:100,spaceBetween:300,parallax:.8},{strokeStyle:"#9e917b",fillStyle:"#b6a78e",maxHeight:120,minHeight:100,spaceBetween:250,parallax:.4},{strokeStyle:"#91856e",fillStyle:"#9e917b",maxHeight:100,minHeight:80,spaceBetween:200,parallax:.3}].map(function(t){return t.seed=Math.ceil(100*Math.random()),t}),w=["hueForHeight","createGradient","renderBackgroundLayer","renderGround","renderClouds","render"],L,E,B,P,P,x,S,M},function(t,e,n){"use strict";function r(t){var e=i.scale(A.WIDTH),n=i.scale(A.HEIGHT),r=i.bodyToCanvas(t.body);o.ctx.save(),o.ctx.translate(r.x,r.y),o.ctx.rotate(t.body.angle),o.ctx.translate(-e/2,-n/2),o.ctx.drawImage(s,0,0,s.width,s.height,0,0,e,n),o.ctx.restore()}Object.defineProperty(e,"__esModule",{value:!0}),e.render=r;var i=n(12),o=n(7),A=n(37),s=i.image(n(117)),a=["render"],g,u,c,I,I,C,l,h},function(t,e,n){"use strict";function r(t){var e=i.scale(A.CRATE_SIZE),n=i.scale(A.CRATE_SIZE),r=i.bodyToCanvas(t.body);o.ctx.save(),o.ctx.translate(r.x,r.y),o.ctx.rotate(t.body.angle),o.ctx.translate(-e/2,-n/2),o.ctx.drawImage(s,0,0,e,n),o.ctx.restore()}Object.defineProperty(e,"__esModule",{value:!0}),e.render=r;var i=n(12),o=n(7),A=n(23),s=i.image(n(121)),a=["render"],g,u,c,I,I,C,l,h},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(){return{explosions:[],sounds:{created:[]}}}function o(t,e,n){var r=t.explosions,i=t.sounds,o=n.explosions.map(function(t){var e=A(t.body.position,2),n=e[0],r=e[1];return{position:{x:n,y:r},aliveTime:0}});return{explosions:r.filter(function(t){return t.aliveTime<c}).map(function(t){return t.aliveTime+=e.delta,t}).concat(o),sounds:{created:i.created.concat(n.explosions)}}}Object.defineProperty(e,"__esModule",{value:!0});var A=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var A,s=t[Symbol.iterator]();!(r=(A=s.next()).done)&&(n.push(A.value),!e||n.length!==e);r=!0);}catch(a){i=!0,o=a}finally{try{!r&&s["return"]&&s["return"]()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();e.initial=i,e.update=o;var s=n(88),a=r(s),g=n(81),u=r(g),c=1e3;e.ALIVE_TIME=c;var I=["_interopRequireDefault","initial","update"],C,l,h,p,p,f,d,v},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){function e(n){return g.request(e),t(a(n))}e(0)}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=i;var o=n(66),A=r(o),s=n(10),a=function(){var t=void 0;return function(e){var n=e/1e3;t=t||n;var r=n-t;return t=n,{current:n,difference:r,delta:r/s.WORLD_SPEED}}}(),g=new A["default"](s.FRAME_RATE);t.exports=e["default"];var u=["_interopRequireDefault","gameLoop"],c,I,C,l,l,h,p,f},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function i(t){return t&&t.__esModule?t:{"default":t}}var o=n(8),A=n(101),s=n(24),a=n(102),g=n(96),u=i(g),c=n(98),I=r(c),C=n(13),l=n(100),h=n(11),p=n(37),f=n(23),d=n(95),v=new o.World({gravity:[0,-9.82]});s.contactMaterials.forEach(function(t){return v.addContactMaterial(t)});var y={world:C.initial(v),player:l.initial(v),bullets:p.initial(v),crates:f.initial(v),explosions:d.initial(v),planes:h.initial(v),elapsedTime:0};u["default"](function(t){var e=t.delta,n=I.getState();n.delta=e,I.flush();var r=C.update(y.world,n),i=l.update(y.player,n,r),o=h.update(y.planes,n,r),s=p.update(y.bullets,n,r,i),g=f.update(y.crates,n,r),u=d.update(y.explosions,n,s);y={world:r,player:i,planes:o,bullets:s,crates:g,explosions:u,elapsedTime:y.elapsedTime+e},A.render(y),a.playSounds(y)});var m=["_interopRequireWildcard","_interopRequireDefault"],b,w,L,E,E,B,P,x},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(){return{keys:{up:!1,down:!1,left:!1,right:!1},shoot:[]}}function A(){return h}function s(){h={keys:h.keys,shoot:[]}}Object.defineProperty(e,"__esModule",{value:!0});var a;e.getState=A,e.flush=s;var g=n(32),u=r(g),c=n(33),I=r(c),C=n(10),l=(a={},i(a,C.UP_KEY,"up"),i(a,C.DOWN_KEY,"down"),i(a,C.LEFT_KEY,"left"),i(a,C.RIGHT_KEY,"right"),a),h=o(),p=u["default"].fromEvent(window,"keydown").map(".keyCode").filter(function(t){return l.hasOwnProperty(t)}).map(function(t){return i({},l[t],!0)}),f=u["default"].fromEvent(window,"keyup").map(".keyCode").filter(function(t){return l.hasOwnProperty(t)}).map(function(t){return i({},l[t],!1)}),d=f.merge(p).scan(h.keys,I["default"]),v=u["default"].fromEvent(window,"keydown").map(".keyCode").filter(function(t){return t===C.SPACE_KEY});d.onValue(function(t){return h.keys=t}),v.onValue(function(){return h.shoot.push(!0)});var y=["_interopRequireDefault","_defineProperty","initialState","getState","flush"],m,b,w,L,L,E,B,P},function(t,e,n){"use strict";function r(t){var e=i.bodyToCanvas(t.body);o.ctx.save();var n=Math.max(0,1-t.body.position[1]/3),r=2/n,A=.15*n;o.ctx.save(),o.ctx.translate(e.x,o.canvas.height-c+u),o.ctx.beginPath(),o.ctx.scale(1,A),o.ctx.arc(0,u/(2*A),g/r,0,2*Math.PI),o.ctx.fillStyle="rgba(0, 0, 0, "+(.2+.4*n)+")",o.ctx.fill(),o.ctx.restore(),o.ctx.translate(e.x,e.y),o.ctx.rotate(t.body.angle),o.ctx.translate(-g/2,-u/2),o.ctx.drawImage(a,0,0,a.width,a.height,0,0,g,u),o.ctx.restore()}Object.defineProperty(e,"__esModule",{value:!0}),e.render=r;var i=n(12),o=n(7),A=n(11),s=n(25),a=i.image(n(123)),g=i.scale(A.WIDTH),u=i.scale(A.HEIGHT),c=i.scale(s.GROUND_LEVEL),I=["render"],C,l,h,p,p,f,d,v},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){return l["default"](u.create(null,t),{createdBullets:[]})}function o(t,e){var n=t.body.position[1];if(2>n){var r=t.thrust/p;return e/10*r}return 4>n?e*n/4*.5:e}function A(t){return this.createdBullets=t.shoot.slice(0,this.bullets).map(function(){return!0}),this.bullets-=this.createdBullets.length,this}function s(t,e,n){var r;e.keys.down?(t.body.angle+=o(t,-f)*e.delta,t.thrust<p&&(t.thrust+=.005*e.delta)):e.keys.up&&(t.body.angle+=o(t,f)*e.delta),t.thrust=Math.min(p,t.thrust);var i=Math.sin(t.body.angle-g.RADIAN/2);return t.thrust-=.005*i,t.body.position[1]<=a.GROUND_LEVEL&&(t.body.position[1]=a.GROUND_LEVEL),t.body.position[0]+=t.thrust*Math.sin(t.body.angle+.25*g.RADIAN)*e.delta,t.body.position[1]+=t.thrust*Math.cos(t.body.angle+.25*g.RADIAN)*e.delta,(r=v.call(t,n),A).call(r,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.initial=i,e.update=s;var a=n(13),g=n(10),u=n(11),c=n(23),I=r(c),C=n(33),l=r(C),h=n(38),p=.7,f=.05,d=new Map;d.set(I["default"],function(t){return t.bullets+=20,t});var v=h.createCollisionDispatcher(d),y=["_interopRequireDefault","initial","rotatePlane","createNewBullets","update"],m,b,w,L,L,E,B,P},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){var e=t.player,n=t.bullets,r=t.crates,i=t.planes,c=t.elapsedTime;o.ctx.save();var I=A.cameraTranslation(e);o.ctx.translate(I.x,I.y),a.render(I,c),o.ctx.translate(0,C),s.render(e),n.bullets.forEach(g.render),r.crates.forEach(u.render);for(var h in i)s.render(i[h]);o.ctx.restore(),l.tick()}Object.defineProperty(e,"__esModule",{value:!0}),e.render=i;var o=n(7),A=n(12),s=n(99),a=n(92),g=n(93),u=n(94),c=n(79),I=r(c);n(116);var C=-30,l=I["default"]({every:10}),h=document.getElementById("fps");l.on("data",function(t){return h.innerHTML=Math.round(t)});var p=["_interopRequireDefault","render"],f,d,v,y,y,m,b,w},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(71),o=r(i),A=n(32),s=r(A),a=o["default"].create(n(78)),g=document.getElementById("mute");g.checked=JSON.parse(window.localStorage.getItem("soundsMuted"));var u=s["default"].fromEvent(g,"change").map(".target").map(".checked").doAction(function(t){window.localStorage.setItem("soundsMuted",t)}).toProperty(g.checked);e.muted$=u;var c=new s["default"].Bus;c.filter(u.not()).onValue(function(t){var e=t.bullets;e.sounds.created.forEach(function(){return a.play()})});var I=c.push.bind(c);e.playSounds=I;var C=["_interopRequireDefault"],l,h,p,f,f,d,v,y},function(t,e,n){function r(){}var i=n(40);t.exports=r,r.lineInt=function(t,e,n){n=n||0;var r,o,A,s,a,g,u,c=[0,0];return r=t[1][1]-t[0][1],o=t[0][0]-t[1][0],A=r*t[0][0]+o*t[0][1],s=e[1][1]-e[0][1],a=e[0][0]-e[1][0],g=s*e[0][0]+a*e[0][1],u=r*a-s*o,i.eq(u,0,n)||(c[0]=(a*A-o*g)/u,c[1]=(r*g-s*A)/u),c},r.segmentsIntersect=function(t,e,n,r){var i=e[0]-t[0],o=e[1]-t[1],A=r[0]-n[0],s=r[1]-n[1];if(A*o-s*i==0)return!1;var a=(i*(n[1]-t[1])+o*(t[0]-n[0]))/(A*o-s*i),g=(A*(t[1]-n[1])+s*(n[0]-t[0]))/(s*i-A*o);return a>=0&&1>=a&&g>=0&&1>=g}},function(t,e,n){function r(){this.vertices=[]}function i(t,e,n,r,i){i=i||0;var o=e[1]-t[1],A=t[0]-e[0],a=o*t[0]+A*t[1],g=r[1]-n[1],u=n[0]-r[0],c=g*n[0]+u*n[1],I=o*u-g*A;return s.eq(I,0,i)?[0,0]:[(u*a-A*c)/I,(o*c-g*a)/I]}var o=n(103),A=n(39),s=n(40);t.exports=r,r.prototype.at=function(t){var e=this.vertices,n=e.length;return e[0>t?t%n+n:t%n]},r.prototype.first=function(){return this.vertices[0]},r.prototype.last=function(){return this.vertices[this.vertices.length-1]},r.prototype.clear=function(){this.vertices.length=0},r.prototype.append=function(t,e,n){if("undefined"==typeof e)throw new Error("From is not given!");if("undefined"==typeof n)throw new Error("To is not given!");if(e>n-1)throw new Error("lol1");if(n>t.vertices.length)throw new Error("lol2");if(0>e)throw new Error("lol3");for(var r=e;n>r;r++)this.vertices.push(t.vertices[r])},r.prototype.makeCCW=function(){for(var t=0,e=this.vertices,n=1;n<this.vertices.length;++n)(e[n][1]<e[t][1]||e[n][1]==e[t][1]&&e[n][0]>e[t][0])&&(t=n);A.left(this.at(t-1),this.at(t),this.at(t+1))||this.reverse()},r.prototype.reverse=function(){for(var t=[],e=0,n=this.vertices.length;e!==n;e++)t.push(this.vertices.pop());this.vertices=t},r.prototype.isReflex=function(t){return A.right(this.at(t-1),this.at(t),this.at(t+1))};var a=[],g=[];r.prototype.canSee=function(t,e){var n,r,i=a,s=g;if(A.leftOn(this.at(t+1),this.at(t),this.at(e))&&A.rightOn(this.at(t-1),this.at(t),this.at(e)))return!1;r=A.sqdist(this.at(t),this.at(e));for(var u=0;u!==this.vertices.length;++u)if((u+1)%this.vertices.length!==t&&u!==t&&A.leftOn(this.at(t),this.at(e),this.at(u+1))&&A.rightOn(this.at(t),this.at(e),this.at(u))&&(i[0]=this.at(t),i[1]=this.at(e),s[0]=this.at(u),s[1]=this.at(u+1),n=o.lineInt(i,s),A.sqdist(this.at(t),n)<r))return!1;return!0},r.prototype.copy=function(t,e,n){var i=n||new r;if(i.clear(),e>t)for(var o=t;e>=o;o++)i.vertices.push(this.vertices[o]);else{for(var o=0;e>=o;o++)i.vertices.push(this.vertices[o]);for(var o=t;o<this.vertices.length;o++)i.vertices.push(this.vertices[o])}return i},r.prototype.getCutEdges=function(){for(var t=[],e=[],n=[],i=new r,o=Number.MAX_VALUE,A=0;A<this.vertices.length;++A)if(this.isReflex(A))for(var s=0;s<this.vertices.length;++s)if(this.canSee(A,s)){e=this.copy(A,s,i).getCutEdges(),n=this.copy(s,A,i).getCutEdges();for(var a=0;a<n.length;a++)e.push(n[a]);e.length<o&&(t=e,o=e.length,t.push([this.at(A),this.at(s)]))}return t},r.prototype.decomp=function(){var t=this.getCutEdges();return t.length>0?this.slice(t):[this]},r.prototype.slice=function(t){if(0==t.length)return[this];if(t instanceof Array&&t.length&&t[0]instanceof Array&&2==t[0].length&&t[0][0]instanceof Array){for(var e=[this],n=0;n<t.length;n++)for(var r=t[n],i=0;i<e.length;i++){var o=e[i],A=o.slice(r);if(A){e.splice(i,1),e.push(A[0],A[1]);break}}return e}var r=t,n=this.vertices.indexOf(r[0]),i=this.vertices.indexOf(r[1]);return-1!=n&&-1!=i?[this.copy(n,i),this.copy(i,n)]:!1},r.prototype.isSimple=function(){for(var t=this.vertices,e=0;e<t.length-1;e++)for(var n=0;e-1>n;n++)if(o.segmentsIntersect(t[e],t[e+1],t[n],t[n+1]))return!1;for(var e=1;e<t.length-2;e++)if(o.segmentsIntersect(t[0],t[t.length-1],t[e],t[e+1]))return!1;return!0},r.prototype.quickDecomp=function(t,e,n,o,s,a){s=s||100,a=a||0,o=o||25,t="undefined"!=typeof t?t:[],e=e||[],n=n||[];var g=[0,0],u=[0,0],c=[0,0],I=0,C=0,l=0,h=0,p=0,f=0,d=0,v=new r,y=new r,m=this,b=this.vertices;if(b.length<3)return t;if(a++,a>s)return console.warn("quickDecomp: max level ("+s+") reached."),t;for(var w=0;w<this.vertices.length;++w)if(m.isReflex(w)){e.push(m.vertices[w]),I=C=Number.MAX_VALUE;for(var L=0;L<this.vertices.length;++L)A.left(m.at(w-1),m.at(w),m.at(L))&&A.rightOn(m.at(w-1),m.at(w),m.at(L-1))&&(c=i(m.at(w-1),m.at(w),m.at(L),m.at(L-1)),A.right(m.at(w+1),m.at(w),c)&&(l=A.sqdist(m.vertices[w],c),C>l&&(C=l,u=c,f=L))),A.left(m.at(w+1),m.at(w),m.at(L+1))&&A.rightOn(m.at(w+1),m.at(w),m.at(L))&&(c=i(m.at(w+1),m.at(w),m.at(L),m.at(L+1)),A.left(m.at(w-1),m.at(w),c)&&(l=A.sqdist(m.vertices[w],c),I>l&&(I=l,g=c,p=L)));if(f==(p+1)%this.vertices.length)c[0]=(u[0]+g[0])/2,c[1]=(u[1]+g[1])/2,n.push(c),p>w?(v.append(m,w,p+1),v.vertices.push(c),y.vertices.push(c),0!=f&&y.append(m,f,m.vertices.length),y.append(m,0,w+1)):(0!=w&&v.append(m,w,m.vertices.length),v.append(m,0,p+1),v.vertices.push(c),y.vertices.push(c),y.append(m,f,w+1));else{if(f>p&&(p+=this.vertices.length),h=Number.MAX_VALUE,f>p)return t;for(var L=f;p>=L;++L)A.leftOn(m.at(w-1),m.at(w),m.at(L))&&A.rightOn(m.at(w+1),m.at(w),m.at(L))&&(l=A.sqdist(m.at(w),m.at(L)),h>l&&(h=l,d=L%this.vertices.length));d>w?(v.append(m,w,d+1),0!=d&&y.append(m,d,b.length),y.append(m,0,w+1)):(0!=w&&v.append(m,w,b.length),v.append(m,0,d+1),y.append(m,d,w+1))}return v.vertices.length<y.vertices.length?(v.quickDecomp(t,e,n,o,s,a),y.quickDecomp(t,e,n,o,s,a)):(y.quickDecomp(t,e,n,o,s,a),v.quickDecomp(t,e,n,o,s,a)),t}return t.push(this),t},r.prototype.removeCollinearPoints=function(t){for(var e=0,n=this.vertices.length-1;this.vertices.length>3&&n>=0;--n)A.collinear(this.at(n-1),this.at(n),this.at(n+1),t)&&(this.vertices.splice(n%this.vertices.length,1),n--,e++);return e}},function(t,e,n){function r(){i.call(this,i.NAIVE)}var i=(n(21),n(30),n(4),n(29),n(17));n(1);t.exports=r,r.prototype=new i,r.prototype.constructor=r,r.prototype.getCollisionPairs=function(t){var e=t.bodies,n=this.result;n.length=0;for(var r=0,o=e.length;r!==o;r++)for(var A=e[r],s=0;r>s;s++){var a=e[s];i.canCollide(A,a)&&this.boundingVolumeCheck(A,a)&&n.push(A,a)}return n},r.prototype.aabbQuery=function(t,e,n){n=n||[];for(var r=t.bodies,i=0;i<r.length;i++){var o=r[i];o.aabbNeedsUpdate&&o.updateAABB(),o.aabb.overlaps(e)&&n.push(o)}return n}},function(t,e){var n={};n.GetArea=function(t){if(t.length<6)return 0;for(var e=t.length-2,n=0,r=0;e>r;r+=2)n+=(t[r+2]-t[r])*(t[r+1]+t[r+3]);return n+=(t[0]-t[e])*(t[e+1]+t[1]),.5*-n},n.Triangulate=function(t){var e=t.length>>1;if(3>e)return[];for(var r=[],i=[],o=0;e>o;o++)i.push(o);for(var o=0,A=e;A>3;){var s=i[(o+0)%A],a=i[(o+1)%A],g=i[(o+2)%A],u=t[2*s],c=t[2*s+1],I=t[2*a],C=t[2*a+1],l=t[2*g],h=t[2*g+1],p=!1;if(n._convex(u,c,I,C,l,h)){p=!0;for(var f=0;A>f;f++){var d=i[f];if(d!=s&&d!=a&&d!=g&&n._PointInTriangle(t[2*d],t[2*d+1],u,c,I,C,l,h)){p=!1;break}}}if(p)r.push(s,a,g),i.splice((o+1)%A,1),A--,o=0;else if(o++>3*A)break}return r.push(i[0],i[1],i[2]),r},n._PointInTriangle=function(t,e,n,r,i,o,A,s){var a=A-n,g=s-r,u=i-n,c=o-r,I=t-n,C=e-r,l=a*a+g*g,h=a*u+g*c,p=a*I+g*C,f=u*u+c*c,d=u*I+c*C,v=1/(l*f-h*h),y=(f*p-h*d)*v,m=(l*d-h*p)*v;return y>=0&&m>=0&&1>y+m},n._convex=function(t,e,n,r,i,o){return(e-r)*(i-n)+(n-t)*(o-r)>=0},t.exports=n},function(t,e,n){function r(t,e){e=e||{},this.chassisBody=t,this.wheels=[],this.groundBody=new a({mass:0}),this.world=null;var n=this;this.preStepCallback=function(){n.update()}}function i(t,e){e=e||{},this.vehicle=t,this.forwardEquation=new s(t.chassisBody,t.groundBody),this.sideEquation=new s(t.chassisBody,t.groundBody),this.steerValue=0,this.engineForce=0,this.setSideFriction(void 0!==e.sideFriction?e.sideFriction:5),this.localForwardVector=o.fromValues(0,1),e.localForwardVector&&o.copy(this.localForwardVector,e.localForwardVector),this.localPosition=o.fromValues(0,0),e.localPosition&&o.copy(this.localPosition,e.localPosition),A.apply(this,t.chassisBody,t.groundBody),this.equations.push(this.forwardEquation,this.sideEquation),this.setBrakeForce(0)}var o=n(1),A=(n(2),n(5)),s=n(14),a=n(6);t.exports=r,r.prototype.addToWorld=function(t){this.world=t,t.addBody(this.groundBody),t.on("preStep",this.preStepCallback);for(var e=0;e<this.wheels.length;e++){var n=this.wheels[e];
t.addConstraint(n)}},r.prototype.removeFromWorld=function(){var t=this.world;t.removeBody(this.groundBody),t.off("preStep",this.preStepCallback);for(var e=0;e<this.wheels.length;e++){var n=this.wheels[e];t.removeConstraint(n)}this.world=null},r.prototype.addWheel=function(t){var e=new i(this,t);return this.wheels.push(e),e},r.prototype.update=function(){for(var t=0;t<this.wheels.length;t++)this.wheels[t].update()},i.prototype=new A,i.prototype.setBrakeForce=function(t){this.forwardEquation.setSlipForce(t)},i.prototype.setSideFriction=function(t){this.sideEquation.setSlipForce(t)};var g=o.create(),u=o.create();i.prototype.getSpeed=function(){return this.vehicle.chassisBody.vectorToWorldFrame(u,this.localForwardVector),this.vehicle.chassisBody.getVelocityAtPoint(g,u),o.dot(g,u)};var c=o.create();i.prototype.update=function(){this.vehicle.chassisBody.vectorToWorldFrame(this.forwardEquation.t,this.localForwardVector),o.rotate(this.sideEquation.t,this.localForwardVector,Math.PI/2),this.vehicle.chassisBody.vectorToWorldFrame(this.sideEquation.t,this.sideEquation.t),o.rotate(this.forwardEquation.t,this.forwardEquation.t,this.steerValue),o.rotate(this.sideEquation.t,this.sideEquation.t,this.steerValue),this.vehicle.chassisBody.toWorldFrame(this.forwardEquation.contactPointB,this.localPosition),o.copy(this.sideEquation.contactPointB,this.forwardEquation.contactPointB),this.vehicle.chassisBody.vectorToWorldFrame(this.forwardEquation.contactPointA,this.localPosition),o.copy(this.sideEquation.contactPointA,this.forwardEquation.contactPointA),o.normalize(c,this.forwardEquation.t),o.scale(c,c,this.engineForce),this.vehicle.chassisBody.applyForce(c,this.forwardEquation.contactPointA)}},function(t,e,n){function r(t){if(Array.isArray(arguments[0])){if(t={heights:arguments[0]},"object"==typeof arguments[1])for(var e in arguments[1])t[e]=arguments[1][e];console.warn("The Heightfield constructor signature has changed. Please use the following format: new Heightfield({ heights: [...], ... })")}t=t||{},this.heights=t.heights?t.heights.slice(0):[],this.maxValue=t.maxValue||null,this.minValue=t.minValue||null,this.elementWidth=t.elementWidth||.1,(void 0===t.maxValue||void 0===t.minValue)&&this.updateMaxMinValues(),t.type=i.HEIGHTFIELD,i.call(this,t)}var i=n(4),o=n(1);n(2);t.exports=r,r.prototype=new i,r.prototype.constructor=r,r.prototype.updateMaxMinValues=function(){for(var t=this.heights,e=t[0],n=t[0],r=0;r!==t.length;r++){var i=t[r];i>e&&(e=i),n>i&&(n=i)}this.maxValue=e,this.minValue=n},r.prototype.computeMomentOfInertia=function(t){return Number.MAX_VALUE},r.prototype.updateBoundingRadius=function(){this.boundingRadius=Number.MAX_VALUE},r.prototype.updateArea=function(){for(var t=this.heights,e=0,n=0;n<t.length-1;n++)e+=(t[n]+t[n+1])/2*this.elementWidth;this.area=e};var A=[o.create(),o.create(),o.create(),o.create()];r.prototype.computeAABB=function(t,e,n){o.set(A[0],0,this.maxValue),o.set(A[1],this.elementWidth*this.heights.length,this.maxValue),o.set(A[2],this.elementWidth*this.heights.length,this.minValue),o.set(A[3],0,this.minValue),t.setFromPoints(A,e,n)},r.prototype.getLineSegment=function(t,e,n){var r=this.heights,i=this.elementWidth;o.set(t,n*i,r[n]),o.set(e,(n+1)*i,r[n+1])},r.prototype.getSegmentIndex=function(t){return Math.floor(t[0]/this.elementWidth)},r.prototype.getClampedSegmentIndex=function(t){var e=this.getSegmentIndex(t);return e=Math.min(this.heights.length,Math.max(e,0))};var s=(o.create(),o.create()),a=o.create(),g=o.create(),u=o.create(),c=o.create();o.fromValues(0,1);r.prototype.raycast=function(t,e,n,r){var i=e.from,A=e.to,I=(e.direction,s),C=a,l=g,h=u,p=c;o.toLocalFrame(h,i,n,r),o.toLocalFrame(p,A,n,r);var f=this.getClampedSegmentIndex(h),d=this.getClampedSegmentIndex(p);if(f>d){var v=f;f=d,d=v}for(var y=0;y<this.heights.length-1;y++){this.getLineSegment(C,l,y);var m=o.getLineSegmentsIntersectionFraction(h,p,C,l);if(m>=0&&(o.sub(I,l,C),o.rotate(I,I,r+Math.PI/2),o.normalize(I,I),e.reportIntersection(t,m,I,-1),t.shouldStop(e)))return}}},function(t,e,n){function r(){o.apply(this,arguments)}var i=n(64),o=n(9);t.exports=r,r.prototype=new o,r.prototype.constructor=r,r.prototype.create=function(){return new i},r.prototype.destroy=function(t){return t.reset(),this}},function(t,e,n){function r(){o.apply(this,arguments)}var i=n(63),o=n(9);t.exports=r,r.prototype=new o,r.prototype.constructor=r,r.prototype.create=function(){return new i},r.prototype.destroy=function(t){return t.reset(),this}},function(t,e,n){function r(){this.overlappingShapesLastState=new i,this.overlappingShapesCurrentState=new i,this.recordPool=new o({size:16}),this.tmpDict=new i,this.tmpArray1=[]}var i=n(62),o=(n(61),n(112));n(2);t.exports=r,r.prototype.tick=function(){for(var t=this.overlappingShapesLastState,e=this.overlappingShapesCurrentState,n=t.keys.length;n--;){var r=t.keys[n],i=t.getByKey(r);e.getByKey(r);i&&this.recordPool.release(i)}t.reset(),t.copy(e),e.reset()},r.prototype.setOverlapping=function(t,e,n,r){var i=(this.overlappingShapesLastState,this.overlappingShapesCurrentState);if(!i.get(e.id,r.id)){var o=this.recordPool.get();o.set(t,e,n,r),i.set(e.id,r.id,o)}},r.prototype.getNewOverlaps=function(t){return this.getDiff(this.overlappingShapesLastState,this.overlappingShapesCurrentState,t)},r.prototype.getEndOverlaps=function(t){return this.getDiff(this.overlappingShapesCurrentState,this.overlappingShapesLastState,t)},r.prototype.bodiesAreOverlapping=function(t,e){for(var n=this.overlappingShapesCurrentState,r=n.keys.length;r--;){var i=n.keys[r],o=n.data[i];if(o.bodyA===t&&o.bodyB===e||o.bodyA===e&&o.bodyB===t)return!0}return!1},r.prototype.getDiff=function(t,e,n){var n=n||[],r=t,i=e;n.length=0;for(var o=i.keys.length;o--;){var A=i.keys[o],s=i.data[A];if(!s)throw new Error("Key "+A+" had no data!");var a=r.data[A];a||n.push(s)}return n},r.prototype.isNewOverlap=function(t,e){var n=0|t.id,r=0|e.id,i=this.overlappingShapesLastState,o=this.overlappingShapesCurrentState;return!i.get(n,r)&&!!o.get(n,r)},r.prototype.getNewBodyOverlaps=function(t){this.tmpArray1.length=0;var e=this.getNewOverlaps(this.tmpArray1);return this.getBodyDiff(e,t)},r.prototype.getEndBodyOverlaps=function(t){this.tmpArray1.length=0;var e=this.getEndOverlaps(this.tmpArray1);return this.getBodyDiff(e,t)},r.prototype.getBodyDiff=function(t,e){e=e||[];for(var n=this.tmpDict,r=t.length;r--;){var i=t[r];n.set(0|i.bodyA.id,0|i.bodyB.id,i)}for(r=n.keys.length;r--;){var i=n.getByKey(n.keys[r]);i&&e.push(i.bodyA,i.bodyB)}return n.reset(),e}},function(t,e,n){function r(){o.apply(this,arguments)}var i=n(61),o=n(9);t.exports=r,r.prototype=new o,r.prototype.constructor=r,r.prototype.create=function(){return new i},r.prototype.destroy=function(t){return t.bodyA=t.bodyB=t.shapeA=t.shapeB=null,this}},function(t,e,n){function r(t){this.nodePool=new i({size:16}),this.islandPool=new o({size:8}),this.equations=[],this.islands=[],this.nodes=[],this.queue=[]}var i=(n(1),n(63),n(64),n(109)),o=n(110),A=n(6);t.exports=r,r.getUnvisitedNode=function(t){for(var e=t.length,n=0;n!==e;n++){var r=t[n];if(!r.visited&&r.body.type===A.DYNAMIC)return r}return!1},r.prototype.visit=function(t,e,n){e.push(t.body);for(var r=t.equations.length,i=0;i!==r;i++){var o=t.equations[i];-1===n.indexOf(o)&&n.push(o)}},r.prototype.bfs=function(t,e,n){var i=this.queue;for(i.length=0,i.push(t),t.visited=!0,this.visit(t,e,n);i.length;)for(var o,s=i.pop();o=r.getUnvisitedNode(s.neighbors);)o.visited=!0,this.visit(o,e,n),o.body.type===A.DYNAMIC&&i.push(o)},r.prototype.split=function(t){for(var e=t.bodies,n=this.nodes,i=this.equations;n.length;)this.nodePool.release(n.pop());for(var o=0;o!==e.length;o++){var A=this.nodePool.get();A.body=e[o],n.push(A)}for(var s=0;s!==i.length;s++){var a=i[s],o=e.indexOf(a.bodyA),g=e.indexOf(a.bodyB),u=n[o],c=n[g];u.neighbors.push(c),c.neighbors.push(u),u.equations.push(a),c.equations.push(a)}for(var I=this.islands,o=0;o<I.length;o++)this.islandPool.release(I[o]);I.length=0;for(var C;C=r.getUnvisitedNode(n);){var l=this.islandPool.get();this.bfs(C,l.bodies,l.equations),I.push(l)}return I}},function(t,e,n){function r(t){c.apply(this),t=t||{},this.springs=[],this.bodies=[],this.disabledBodyCollisionPairs=[],this.solver=t.solver||new i,this.narrowphase=new f(this),this.islandManager=new y,this.gravity=o.fromValues(0,-9.78),t.gravity&&o.copy(this.gravity,t.gravity),this.frictionGravity=o.length(this.gravity)||10,this.useWorldGravityAsFrictionGravity=!0,this.useFrictionGravityOnZeroGravity=!0,this.broadphase=t.broadphase||new p,this.broadphase.setWorld(this),this.constraints=[],this.defaultMaterial=new C,this.defaultContactMaterial=new l(this.defaultMaterial,this.defaultMaterial),this.lastTimeStep=1/60,this.applySpringForces=!0,this.applyDamping=!0,this.applyGravity=!0,this.solveConstraints=!0,this.contactMaterials=[],this.time=0,this.accumulator=0,this.stepping=!1,this.bodiesToBeRemoved=[],this.islandSplit="undefined"!=typeof t.islandSplit?!!t.islandSplit:!0,this.emitImpactEvent=!0,this._constraintIdCounter=0,this._bodyIdCounter=0,this.postStepEvent={type:"postStep"},this.addBodyEvent={type:"addBody",body:null},this.removeBodyEvent={type:"removeBody",body:null},this.addSpringEvent={type:"addSpring",spring:null},this.impactEvent={type:"impact",bodyA:null,bodyB:null,shapeA:null,shapeB:null,contactEquation:null},this.postBroadphaseEvent={type:"postBroadphase",pairs:null},this.sleepMode=r.NO_SLEEPING,this.beginContactEvent={type:"beginContact",shapeA:null,shapeB:null,bodyA:null,bodyB:null,contactEquations:[]},this.endContactEvent={type:"endContact",shapeA:null,shapeB:null,bodyA:null,bodyB:null},this.preSolveEvent={type:"preSolve",contactEquations:null,frictionEquations:null},this.overlappingShapesLastState={keys:[]},this.overlappingShapesCurrentState={keys:[]},this.overlapKeeper=new v}var i=n(58),o=(n(31),n(18),n(1)),A=n(21),s=n(15),a=(n(57),n(30)),g=n(56),u=n(29),c=n(20),I=n(6),C=(n(4),n(53),n(27)),l=n(52),h=(n(44),n(5),n(46),n(48),n(47),n(45),n(34),n(17),n(16)),p=n(43),f=n(42),d=n(2),v=n(111),y=n(113);n(54);t.exports=r,r.prototype=new Object(c.prototype),r.prototype.constructor=r,r.NO_SLEEPING=1,r.BODY_SLEEPING=2,r.ISLAND_SLEEPING=4,r.prototype.addConstraint=function(t){this.constraints.push(t)},r.prototype.addContactMaterial=function(t){this.contactMaterials.push(t)},r.prototype.removeContactMaterial=function(t){var e=this.contactMaterials.indexOf(t);-1!==e&&d.splice(this.contactMaterials,e,1)},r.prototype.getContactMaterial=function(t,e){for(var n=this.contactMaterials,r=0,i=n.length;r!==i;r++){var o=n[r];if(o.materialA.id===t.id&&o.materialB.id===e.id||o.materialA.id===e.id&&o.materialB.id===t.id)return o}return!1},r.prototype.removeConstraint=function(t){var e=this.constraints.indexOf(t);-1!==e&&d.splice(this.constraints,e,1)};var m=(o.create(),o.create(),o.create(),o.create(),o.create(),o.create(),o.create()),b=o.fromValues(0,0),w=o.fromValues(0,0);o.fromValues(0,0),o.fromValues(0,0);r.prototype.step=function(t,e,n){if(n=n||10,e=e||0,0===e)this.internalStep(t),this.time+=t;else{this.accumulator+=e;for(var r=0;this.accumulator>=t&&n>r;)this.internalStep(t),this.time+=t,this.accumulator-=t,r++;for(var i=this.accumulator%t/t,A=0;A!==this.bodies.length;A++){var s=this.bodies[A];o.lerp(s.interpolatedPosition,s.previousPosition,s.position,i),s.interpolatedAngle=s.previousAngle+i*(s.angle-s.previousAngle)}}};var L=[];r.prototype.internalStep=function(t){this.stepping=!0;var e=this.springs.length,n=this.springs,i=this.bodies,A=this.gravity,s=this.solver,a=this.bodies.length,g=this.broadphase,u=this.narrowphase,c=this.constraints,C=m,l=(o.scale,o.add),h=(o.rotate,this.islandManager);if(this.overlapKeeper.tick(),this.lastTimeStep=t,this.useWorldGravityAsFrictionGravity){var p=o.length(this.gravity);0===p&&this.useFrictionGravityOnZeroGravity||(this.frictionGravity=p)}if(this.applyGravity)for(var f=0;f!==a;f++){var v=i[f],y=v.force;v.type===I.DYNAMIC&&v.sleepState!==I.SLEEPING&&(o.scale(C,A,v.mass*v.gravityScale),l(y,y,C))}if(this.applySpringForces)for(var f=0;f!==e;f++){var b=n[f];b.applyForce()}if(this.applyDamping)for(var f=0;f!==a;f++){var v=i[f];v.type===I.DYNAMIC&&v.applyDamping(t)}for(var w=g.getCollisionPairs(this),E=this.disabledBodyCollisionPairs,f=E.length-2;f>=0;f-=2)for(var B=w.length-2;B>=0;B-=2)(E[f]===w[B]&&E[f+1]===w[B+1]||E[f+1]===w[B]&&E[f]===w[B+1])&&w.splice(B,2);var P=c.length;for(f=0;f!==P;f++){var x=c[f];if(!x.collideConnected)for(var B=w.length-2;B>=0;B-=2)(x.bodyA===w[B]&&x.bodyB===w[B+1]||x.bodyB===w[B]&&x.bodyA===w[B+1])&&w.splice(B,2)}this.postBroadphaseEvent.pairs=w,this.emit(this.postBroadphaseEvent),this.postBroadphaseEvent.pairs=null,u.reset(this);for(var f=0,S=w.length;f!==S;f+=2)for(var M=w[f],q=w[f+1],D=0,R=M.shapes.length;D!==R;D++)for(var F=M.shapes[D],T=F.position,V=F.angle,O=0,N=q.shapes.length;O!==N;O++){var k=q.shapes[O],G=k.position,W=k.angle,U=this.defaultContactMaterial;if(F.material&&k.material){var j=this.getContactMaterial(F.material,k.material);j&&(U=j)}this.runNarrowphase(u,M,F,T,V,q,k,G,W,U,this.frictionGravity)}for(var f=0;f!==a;f++){var H=i[f];H._wakeUpAfterNarrowphase&&(H.wakeUp(),H._wakeUpAfterNarrowphase=!1)}if(this.has("endContact")){this.overlapKeeper.getEndOverlaps(L);for(var Y=this.endContactEvent,O=L.length;O--;){var z=L[O];Y.shapeA=z.shapeA,Y.shapeB=z.shapeB,Y.bodyA=z.bodyA,Y.bodyB=z.bodyB,this.emit(Y)}L.length=0}var Z=this.preSolveEvent;Z.contactEquations=u.contactEquations,Z.frictionEquations=u.frictionEquations,this.emit(Z),Z.contactEquations=Z.frictionEquations=null;var P=c.length;for(f=0;f!==P;f++)c[f].update();if(u.contactEquations.length||u.frictionEquations.length||P)if(this.islandSplit){for(h.equations.length=0,d.appendArray(h.equations,u.contactEquations),d.appendArray(h.equations,u.frictionEquations),f=0;f!==P;f++)d.appendArray(h.equations,c[f].equations);h.split(this);for(var f=0;f!==h.islands.length;f++){var Q=h.islands[f];Q.equations.length&&s.solveIsland(t,Q)}}else{for(s.addEquations(u.contactEquations),s.addEquations(u.frictionEquations),f=0;f!==P;f++)s.addEquations(c[f].equations);this.solveConstraints&&s.solve(t,this),s.removeAllEquations()}for(var f=0;f!==a;f++){var H=i[f];H.integrate(t)}for(var f=0;f!==a;f++)i[f].setZeroForce();if(this.emitImpactEvent&&this.has("impact"))for(var X=this.impactEvent,f=0;f!==u.contactEquations.length;f++){var J=u.contactEquations[f];J.firstImpact&&(X.bodyA=J.bodyA,X.bodyB=J.bodyB,X.shapeA=J.shapeA,X.shapeB=J.shapeB,X.contactEquation=J,this.emit(X))}if(this.sleepMode===r.BODY_SLEEPING)for(f=0;f!==a;f++)i[f].sleepTick(this.time,!1,t);else if(this.sleepMode===r.ISLAND_SLEEPING&&this.islandSplit){for(f=0;f!==a;f++)i[f].sleepTick(this.time,!0,t);for(var f=0;f<this.islandManager.islands.length;f++){var Q=this.islandManager.islands[f];Q.wantsToSleep()&&Q.sleep()}}this.stepping=!1;for(var K=this.bodiesToBeRemoved,f=0;f!==K.length;f++)this.removeBody(K[f]);K.length=0,this.emit(this.postStepEvent)},r.prototype.runNarrowphase=function(t,e,n,r,i,A,s,a,g,u,c){if(0!==(n.collisionGroup&s.collisionMask)&&0!==(s.collisionGroup&n.collisionMask)){o.rotate(b,r,e.angle),o.rotate(w,a,A.angle),o.add(b,b,e.position),o.add(w,w,A.position);var C=i+e.angle,l=g+A.angle;t.enableFriction=u.friction>0,t.frictionCoefficient=u.friction;var h;h=e.type===I.STATIC||e.type===I.KINEMATIC?A.mass:A.type===I.STATIC||A.type===I.KINEMATIC?e.mass:e.mass*A.mass/(e.mass+A.mass),t.slipForce=u.friction*c*h,t.restitution=u.restitution,t.surfaceVelocity=u.surfaceVelocity,t.frictionStiffness=u.frictionStiffness,t.frictionRelaxation=u.frictionRelaxation,t.stiffness=u.stiffness,t.relaxation=u.relaxation,t.contactSkinSize=u.contactSkinSize,t.enabledEquations=e.collisionResponse&&A.collisionResponse&&n.collisionResponse&&s.collisionResponse;var p=t[n.type|s.type],f=0;if(p){var d=n.sensor||s.sensor,v=t.frictionEquations.length;f=n.type<s.type?p.call(t,e,n,b,C,A,s,w,l,d):p.call(t,A,s,w,l,e,n,b,C,d);var y=t.frictionEquations.length-v;if(f){if(e.allowSleep&&e.type===I.DYNAMIC&&e.sleepState===I.SLEEPING&&A.sleepState===I.AWAKE&&A.type!==I.STATIC){var m=o.squaredLength(A.velocity)+Math.pow(A.angularVelocity,2),L=Math.pow(A.sleepSpeedLimit,2);m>=2*L&&(e._wakeUpAfterNarrowphase=!0)}if(A.allowSleep&&A.type===I.DYNAMIC&&A.sleepState===I.SLEEPING&&e.sleepState===I.AWAKE&&e.type!==I.STATIC){var E=o.squaredLength(e.velocity)+Math.pow(e.angularVelocity,2),B=Math.pow(e.sleepSpeedLimit,2);E>=2*B&&(A._wakeUpAfterNarrowphase=!0)}if(this.overlapKeeper.setOverlapping(e,n,A,s),this.has("beginContact")&&this.overlapKeeper.isNewOverlap(n,s)){var P=this.beginContactEvent;if(P.shapeA=n,P.shapeB=s,P.bodyA=e,P.bodyB=A,P.contactEquations.length=0,"number"==typeof f)for(var x=t.contactEquations.length-f;x<t.contactEquations.length;x++)P.contactEquations.push(t.contactEquations[x]);this.emit(P)}if("number"==typeof f&&y>1)for(var x=t.frictionEquations.length-y;x<t.frictionEquations.length;x++){var S=t.frictionEquations[x];S.setSlipForce(S.getSlipForce()/y)}}}}},r.prototype.addSpring=function(t){this.springs.push(t);var e=this.addSpringEvent;e.spring=t,this.emit(e),e.spring=null},r.prototype.removeSpring=function(t){var e=this.springs.indexOf(t);-1!==e&&d.splice(this.springs,e,1)},r.prototype.addBody=function(t){if(-1===this.bodies.indexOf(t)){this.bodies.push(t),t.world=this;var e=this.addBodyEvent;e.body=t,this.emit(e),e.body=null}},r.prototype.removeBody=function(t){if(this.stepping)this.bodiesToBeRemoved.push(t);else{t.world=null;var e=this.bodies.indexOf(t);-1!==e&&(d.splice(this.bodies,e,1),this.removeBodyEvent.body=t,t.resetConstraintVelocity(),this.emit(this.removeBodyEvent),this.removeBodyEvent.body=null)}},r.prototype.getBodyById=function(t){for(var e=this.bodies,n=0;n<e.length;n++){var r=e[n];if(r.id===t)return r}return!1},r.prototype.disableBodyCollision=function(t,e){this.disabledBodyCollisionPairs.push(t,e)},r.prototype.enableBodyCollision=function(t,e){for(var n=this.disabledBodyCollisionPairs,r=0;r<n.length;r+=2)if(n[r]===t&&n[r+1]===e||n[r+1]===t&&n[r]===e)return void n.splice(r,2)},r.prototype.clear=function(){this.time=0,this.solver&&this.solver.equations.length&&this.solver.removeAllEquations();for(var t=this.constraints,e=t.length-1;e>=0;e--)this.removeConstraint(t[e]);for(var n=this.bodies,e=n.length-1;e>=0;e--)this.removeBody(n[e]);for(var i=this.springs,e=i.length-1;e>=0;e--)this.removeSpring(i[e]);for(var o=this.contactMaterials,e=o.length-1;e>=0;e--)this.removeContactMaterial(o[e]);r.apply(this)};var E=o.create(),B=(o.fromValues(0,0),o.fromValues(0,0));r.prototype.hitTest=function(t,e,n){n=n||0;var r=new I({position:t}),i=new u,c=t,C=0,l=E,h=B;r.addShape(i);for(var p=this.narrowphase,f=[],d=0,v=e.length;d!==v;d++)for(var y=e[d],m=0,b=y.shapes.length;m!==b;m++){var w=y.shapes[m];o.rotate(l,w.position,y.angle),o.add(l,l,y.position);var L=w.angle+y.angle;(w instanceof A&&p.circleParticle(y,w,l,L,r,i,c,C,!0)||w instanceof s&&p.particleConvex(r,i,c,C,y,w,l,L,!0)||w instanceof a&&p.particlePlane(r,i,c,C,y,w,l,L,!0)||w instanceof g&&p.particleCapsule(r,i,c,C,y,w,l,L,!0)||w instanceof u&&o.squaredLength(o.sub(h,l,t))<n*n)&&f.push(y)}return f},r.prototype.setGlobalStiffness=function(t){for(var e=this.constraints,n=0;n!==e.length;n++)for(var r=e[n],i=0;i!==r.equations.length;i++){var o=r.equations[i];o.stiffness=t,o.needsUpdate=!0}for(var A=this.contactMaterials,n=0;n!==A.length;n++){var r=A[n];r.stiffness=r.frictionStiffness=t}var r=this.defaultContactMaterial;r.stiffness=r.frictionStiffness=t},r.prototype.setGlobalRelaxation=function(t){for(var e=0;e!==this.constraints.length;e++)for(var n=this.constraints[e],r=0;r!==n.equations.length;r++){var i=n.equations[r];i.relaxation=t,i.needsUpdate=!0}for(var e=0;e!==this.contactMaterials.length;e++){var n=this.contactMaterials[e];n.relaxation=n.frictionRelaxation=t}var n=this.defaultContactMaterial;n.relaxation=n.frictionRelaxation=t};var P=new h,x=[];r.prototype.raycast=function(t,e){return e.getAABB(P),this.broadphase.aabbQuery(this,P,x),e.intersectBodies(t,x),x.length=0,t.hasHit()}},function(t,e,n){function r(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=u[r.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](r.parts[o]);for(;o<r.parts.length;o++)i.parts.push(A(r.parts[o],e))}else{for(var s=[],o=0;o<r.parts.length;o++)s.push(A(r.parts[o],e));u[r.id]={id:r.id,refs:1,parts:s}}}}function i(t){for(var e=[],n={},r=0;r<t.length;r++){var i=t[r],o=i[0],A=i[1],s=i[2],a=i[3],g={css:A,media:s,sourceMap:a};n[o]?n[o].parts.push(g):e.push(n[o]={id:o,parts:[g]})}return e}function o(){var t=document.createElement("style"),e=C();return t.type="text/css",e.appendChild(t),t}function A(t,e){var n,r,i;if(e.singleton){var A=h++;n=l||(l=o()),r=a.bind(null,n,A,!1),i=a.bind(null,n,A,!0)}else n=o(),r=g.bind(null,n),i=function(){n.parentNode.removeChild(n)};return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}function s(t,e,n){var r=["/** >>"+e+" **/","/** "+e+"<< **/"],i=t.lastIndexOf(r[0]),o=n?r[0]+n+r[1]:"";if(t.lastIndexOf(r[0])>=0){var A=t.lastIndexOf(r[1])+r[1].length;return t.slice(0,i)+o+t.slice(A)}return t+o}function a(t,e,n,r){var i=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=s(t.styleSheet.cssText,e,i);else{var o=document.createTextNode(i),A=t.childNodes;A[e]&&t.removeChild(A[e]),A.length?t.insertBefore(o,A[e]):t.appendChild(o)}}function g(t,e){var n=e.css,r=e.media,i=e.sourceMap;if(i&&"function"==typeof btoa)try{n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(JSON.stringify(i))+" */",n='@import url("data:text/css;base64,'+btoa(n)+'")'}catch(o){}if(r&&t.setAttribute("media",r),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}var u={},c=function(t){var e;return function(){return"undefined"==typeof e&&(e=t.apply(this,arguments)),e}},I=c(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),C=c(function(){return document.head||document.getElementsByTagName("head")[0]}),l=null,h=0;t.exports=function(t,e){e=e||{},"undefined"==typeof e.singleton&&(e.singleton=I());var n=i(t);return r(n,e),function(t){for(var o=[],A=0;A<n.length;A++){var s=n[A],a=u[s.id];a.refs--,o.push(a)}if(t){var g=i(t);r(g,e)}for(var A=0;A<o.length;A++){var a=o[A];if(0===a.refs){for(var c=0;c<a.parts.length;c++)a.parts[c]();delete u[a.id]}}}}},function(t,e,n){var r=n(76);"string"==typeof r&&(r=[[t.id,r,""]]);n(115)(r,{})},function(t,e){t.exports="data:image/png;base64,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/GMzLdsAADtWaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pgo8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjUtYzAyMSA3OS4xNTU3NzIsIDIwMTQvMDEvMTMtMTk6NDQ6MDAgICAgICAgICI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgICAgICAgICAgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iCiAgICAgICAgICAgIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiCiAgICAgICAgICAgIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iPgogICAgICAgICA8eG1wOkNyZWF0b3JUb29sPkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE0IChNYWNpbnRvc2gpPC94bXA6Q3JlYXRvclRvb2w+CiAgICAgICAgIDx4bXA6Q3JlYXRlRGF0ZT4yMDE1LTA3LTE4VDE0OjAwOjAxKzAzOjAwPC94bXA6Q3JlYXRlRGF0ZT4KICAgICAgICAgPHhtcDpNZXRhZGF0YURhdGU+MjAxNS0wNy0xOFQxNDowMDowMSswMzowMDwveG1wOk1ldGFkYXRhRGF0ZT4KICAgICAgICAgPHhtcDpNb2RpZnlEYXRlPjIwMTUtMDctMThUMTQ6MDA6MDErMDM6MDA8L3htcDpNb2RpZnlEYXRlPgogICAgICAgICA8eG1wTU06SW5zdGFuY2VJRD54bXAuaWlkOjM0NzI0NmNhLTE0NzktNDZhMy1iZmM3LTYxMmM2ZTNjNzYxMTwveG1wTU06SW5zdGFuY2VJRD4KICAgICAgICAgPHhtcE1NOkRvY3VtZW50SUQ+YWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOmFlYzJmMjM1LTZkNjYtMTE3OC04N2M3LWE5YmVkNWM1OTVkYTwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOmViY2MyZDFhLTY5ZTQtNDVmYS04ZjAzLTZiOGRlNmQxNTQ2OTwveG1wTU06T3JpZ2luYWxEb2N1bWVudElEPgogICAgICAgICA8eG1wTU06SGlzdG9yeT4KICAgICAgICAgICAgPHJkZjpTZXE+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPmNyZWF0ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDplYmNjMmQxYS02OWU0LTQ1ZmEtOGYwMy02YjhkZTZkMTU0Njk8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTUtMDctMThUMTQ6MDA6MDErMDM6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE0IChNYWNpbnRvc2gpPC9zdEV2dDpzb2Z0d2FyZUFnZW50PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+c2F2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDozNDcyNDZjYS0xNDc5LTQ2YTMtYmZjNy02MTJjNmUzYzc2MTE8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTUtMDctMThUMTQ6MDA6MDErMDM6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE0IChNYWNpbnRvc2gpPC9zdEV2dDpzb2Z0d2FyZUFnZW50PgogICAgICAgICAgICAgICAgICA8c3RFdnQ6Y2hhbmdlZD4vPC9zdEV2dDpjaGFuZ2VkPgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgPC9yZGY6U2VxPgogICAgICAgICA8L3htcE1NOkhpc3Rvcnk+CiAgICAgICAgIDxwaG90b3Nob3A6RG9jdW1lbnRBbmNlc3RvcnM+CiAgICAgICAgICAgIDxyZGY6QmFnPgogICAgICAgICAgICAgICA8cmRmOmxpPmFkb2JlOmRvY2lkOnBob3Rvc2hvcDozNmNjYmIyYS02YzlhLTExNzgtOGQzMi05ZWUwMjQzNmYyMWI8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaT54bXAuZGlkOjA5ODAxMTc0MDcyMDY4MTE4MjJBQjkwODUyQzE2QkExPC9yZGY6bGk+CiAgICAgICAgICAgIDwvcmRmOkJhZz4KICAgICAgICAgPC9waG90b3Nob3A6RG9jdW1lbnRBbmNlc3RvcnM+CiAgICAgICAgIDxwaG90b3Nob3A6Q29sb3JNb2RlPjM8L3Bob3Rvc2hvcDpDb2xvck1vZGU+CiAgICAgICAgIDxwaG90b3Nob3A6SUNDUHJvZmlsZT5zUkdCIElFQzYxOTY2LTIuMTwvcGhvdG9zaG9wOklDQ1Byb2ZpbGU+CiAgICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2UvcG5nPC9kYzpmb3JtYXQ+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjcyMDAwMC8xMDAwMDwvdGlmZjpYUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6WVJlc29sdXRpb24+NzIwMDAwLzEwMDAwPC90aWZmOllSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpSZXNvbHV0aW9uVW5pdD4yPC90aWZmOlJlc29sdXRpb25Vbml0PgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjE8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjQwPC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjE2PC9leGlmOlBpeGVsWURpbWVuc2lvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz7rvFZEAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAogSURBVHgBABAK7/UB////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA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";
},function(t,e){t.exports="data:image/png;base64,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"},function(t,e){t.exports="data:image/png;base64,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"},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQcAAAB6CAMAAACFvmY+AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAACnVBMVEUAAADy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL19fX5+fn8/Pz9/f3////z8/P+/v74+Pj6+vr29vb7+/v39/f09PQAAAAV0mjAAAAA0HRSTlMAJWKLs9fr/AJBm+FCEXwQhPGFWudcGblA6mT7d251W/46+RNnp8To7hLi4ytsqd8DR5dKaZDpkSwH2sNSctkG5dVIZbckzvZ2KiCG70x/Af2mBEltkrXN4PTe1Mm6C8f4wgrFvcuxIow2qliuJwzmfhWsKOQIpcAX0rIY1h/IrTyDicwc7A5mcRahuzFUM17d93CdFLDywfNhMJm8Yz6vTh2OqztNk0QaDds3b0Of8JiVNIq2eLQ1li31OB7KvkVLPzJPX1m/LjnYo2AmUwWUnlpGWQAAAAFiS0dEAIgFHUgAAAAJcEhZcwAACxIAAAsSAdLdfvwAAAmJSURBVHja3Z3/YxNnHcevlK6wAgVlo9+woWyQUNoVEDrG3HC2ZbUIkUpnK2IZA5zDzbGhUqGdoJuIzsKcVmFufoGh4kCoW4GhqBu6zW1P7ksuySX/i7lLLnme5Lm75+7y3HPp67ckl+c+n/c9z+f5/hzHMaNiRuXMqtuqQfVtVTMrZ1SwM4Qhs2bfXgNQam6fM4u1WR4zd16hCFkp5s1lbZqH1M5fAIxY8Ila1uZ5xScXAjMW3sHaQE+4cxGwYtGdrI2kT129pQwA1M9mbSZtGhphfyO8IEqSJAp8BBWisYG1oXRpgnyN8rKUR+ajiBJNrE2lyWJYBakQVIlPsTaWHs2BfImQpWJkuHQEmlmbS4slLTknYxKeGCREyxLov0vr7qq8e1nV8mAABILLq5bdXXlX3VLWDjkjtCLnIi8ZwUNCtIYyf1zZ1n4Ptlq5p71tJWuv7NOesz8uGROH/GznuI5Vq1tNq9jW1as6WHtmizWWhaK4aHx67TqC1sa6zntZO0fO+vt0sxOSOQkC1wvZcH+59FQ/k6swZQsd5KgDIcADd5SFEg9uJAkOxSEiRzQS4xVBlGVJlkVB4WORQrk++xBrJwn4nG5txFIGSYoUapCIi5jLxHgC1aKrm7WblvTotgoEOgiIdwnFpCQpSDTZ9HAHa0fN6bWTHeAMEY1ZhpMYnCk2fJ61q6b0kUcHJEJYqpBRAhJi8xdY+2qGXiyiRDJIUuYRJ0XCy8VkXojAlq2svTVkaThrZJLQMdWvqEJ4sYoCFY4vPsja3yzbKvq/tH3gkS8HB0FLcOgrOwYGdBNJXVPS4ZGkSECFAwqYX93JWgGOq71/7deGDVs7xG5ZNL5xQFFi16NsRehu2l1t1ugjqy20DGFbBqSv+hjDojG3bQ+wwP5DtgXUEN3bwUiFfdsHrVQgrTWdAxWNrzNR4fFvVFurQB4mHQMFyye8V6F7P4kIaUjbA46B+qqD3/RYhSf7WghlAPaqQico+Zs94m2sfOIpxNVUItM/1p6O1kFOpDzUAS4Z3/JQhacPwNViTMB6KuvzVfRlkMS8OS3PeCZD3bP6TaNJxfRpy0oy6kV+gDPEIq9kaNJriQhRjRj3QgcoQgBvRqgOfjt7uwTJ4IpnQD2uPV50Ped+J6sC9drQHlAfHKyiL8N3D2XqB1/lBRV4SmyEugzfO6zdiHKPwQnw6Gb4CGUZQlpuiPouM0hIzQlAH10ZHh3Vagkv4r9tZFiHp6jO7mwd0wIka48NQNq3z9HU4ft+lgHJD+AoRRnWBICdsSWPQeIDOEZPhh/8UK0vfRkbVNDZsPDztGTYqi4Ejfqs8QTBIzqAOlo6vKCmzru3lxZJVIcfUZLh+GY/BwcJ6V+orKakw4/VxP3YfsqioDKAE3Rk+EnY59mhcFnRYTo6aKvlaY+/u0AskAHUU5FhidatYO2sCUWrzBZQ0WHAzy1JqTg6pKEhwzMBf1eacsobHbYDf9cWmLWXNMrF+s1a0r5tS8aKZaASJ3+aSdqvXQvswksa9eZYJmnW/hqAX4hbqnbUzhd/tmX13h3jwZO5pP2aHwScECVoV2978dSB8XBx0r6NDwJGh+UvNR93I8LPZ7z8C4DHv/UFj7U30NM3x9nk95Mzfplb2JFKxOLaAm9thXc8lkj5t/1gvGlhYu+vbO9j+vVpPSfgZ2/9Gh8k800LjWdesbOL/jcn9D8m/VsADOGBGcOvvtZBpkKvvv0a3WZaPqSAORv7fmutQu3v9H3HRCu8/QgPrGj8/R8sZDirr/Hx2xy2DWRLHdJsWGOiwvpz+mU+rhCsiZAIAXa8biTD+VE9MpRheISwLhgZFvXiA6S+3dbHUxNEKIQ6gMbOPxbLcG/9NJGheITSmJr+Qhm6c7uHqa/9pQ1RoMwS6DyIyBD6k/6LDxe42MWGDgD0wK2JrS/rX1vutvU/dvJDmnV/zutwIfetj2cmSLERHzQm/pKrMSemUXbADkKYsmlOVoc3cl+R7qfzM6TthzwXM+cm9IanU7EgbE8iPKA1JC7lvyj3toNkO0xm+GtahoMX85+nQXiwXyzShC9zXD/0mbUTJcBq/AHPTI67An0s//wQdyQDCOzjzkAfyz4+ODtUJc3DXBX0qezrCyeH7GgMcPBBiOXefnAUJDVWcPBJiH5e6UKA7aZknpNIfijvgiE4DQ6aDnB8KOsOhhsZ0uXiDPLZ+/EHuUQjP4obGcAkV4l+4fl4lFKa4XHnIVLjb0h7EjAYn0zYPgMFg+y4wsyQbkcdLDhU264Qorthfi3G2zoTB4O7MpHmTbS/mRHClmNC1FVs1RuAbmbQRJeZId3Pegsdf8hio8CqxdLFnhRowaPTGVU5ZsNhA6YKxqN0SJ9O9kmknD5MEe4dWp+hhlXBbZFIc19mQuc85mgXkll/OR+jnYX8ohhvd6e44LpEqFy8mh2gPIX50XL9A3rytoP9zQJuqCAVI85bYszZWEMh1+bk5i/2Yi8wWw8jJAuvjthTQjAcR0zFCGoPpUQiADD4Om4+qyBT4NdHqWda4BwgXkIj8xZeRGKKYb4QlZiDsVgj1l1H5jefNbyweL2cmf28dbYWeUI31DtnzmLV7i0KisXdHdDzNjrRe5XkfQxERJNxwShfyEI8WYL4XjIC59B5Xnj9Q0nQjw2CniVf8mfpmhW45UHnb7A2y2Mat2PWgagTGZdYW+Ypf8evC1J5bTlr4zzjxj84E2rXNrq/RRmw7KbVSUK9J9zfxedUjz3HEfDP6a3Exr63SVRQ+dcbm1hbS4nhV//dQaqCSuiFXUQHa5YV1Y81OHh739OvjExYJDwxUrmQyAIf4GQfis62y6f2DwWwyQaG9p96a1tarTE3xu1a2xNw839CnO9Lgth5+Z0tl0ZujAeH0ykOB8f3jFza8s7l/EnZ7zrumNS/m/778eaXDtPUInDY5T41Ymqnwk4MDE/lXjAZujn/llUZdMLgrfk3Q55okGHlTPs2vlnwxqeOq81Hu1rtp2NAa9fR5v90eKhBhscP2MoT4bH/4tMJ1bWdm3yP+NxfDC3vTZ5rq/MyF6B0T10jNfXalMX7W2Ydmd3Q9/6tKoKTwXMMVt16v69h9hH2bwsKtR0jMfhYG/nD2rnv+tkPFs+7crq9a/eh8aFgUI8iE8Hg0Pih3V3tp6/MW/zB2ev7fPCGA4iKplHT5lf1aNP/WNvoEaEPO0eHcRoMj3Z+yK7YMuGjiv4LH0/21KhHBJwM1vRMfnyhv+Ij1lZZ8H94ev/HmmfJEQAAAABJRU5ErkJggg=="},function(t,e){t.exports="data:image/png;base64,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"},function(t,e){t.exports="data:image/png;base64,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"},function(t,e){t.exports="data:image/png;base64,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"},function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},function(t,e){(function(e){t.exports=e}).call(e,{})},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e,n){function r(t,e){return C.isUndefined(e)?""+e:C.isNumber(e)&&!isFinite(e)?e.toString():C.isFunction(e)||C.isRegExp(e)?e.toString():e}function i(t,e){return C.isString(t)?t.length<e?t:t.slice(0,e):t}function o(t){return i(JSON.stringify(t.actual,r),128)+" "+t.operator+" "+i(JSON.stringify(t.expected,r),128)}function A(t,e,n,r,i){throw new p.AssertionError({message:n,actual:t,expected:e,operator:r,stackStartFunction:i})}function s(t,e){t||A(t,!0,e,"==",p.ok)}function a(t,e){if(t===e)return!0;if(C.isBuffer(t)&&C.isBuffer(e)){if(t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return C.isDate(t)&&C.isDate(e)?t.getTime()===e.getTime():C.isRegExp(t)&&C.isRegExp(e)?t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase:C.isObject(t)||C.isObject(e)?u(t,e):t==e}function g(t){return"[object Arguments]"==Object.prototype.toString.call(t);
}function u(t,e){if(C.isNullOrUndefined(t)||C.isNullOrUndefined(e))return!1;if(t.prototype!==e.prototype)return!1;if(C.isPrimitive(t)||C.isPrimitive(e))return t===e;var n=g(t),r=g(e);if(n&&!r||!n&&r)return!1;if(n)return t=l.call(t),e=l.call(e),a(t,e);var i,o,A=f(t),s=f(e);if(A.length!=s.length)return!1;for(A.sort(),s.sort(),o=A.length-1;o>=0;o--)if(A[o]!=s[o])return!1;for(o=A.length-1;o>=0;o--)if(i=A[o],!a(t[i],e[i]))return!1;return!0}function c(t,e){return t&&e?"[object RegExp]"==Object.prototype.toString.call(e)?e.test(t):t instanceof e?!0:e.call({},t)===!0?!0:!1:!1}function I(t,e,n,r){var i;C.isString(n)&&(r=n,n=null);try{e()}catch(o){i=o}if(r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),t&&!i&&A(i,n,"Missing expected exception"+r),!t&&c(i,n)&&A(i,n,"Got unwanted exception"+r),t&&i&&n&&!c(i,n)||!t&&i)throw i}var C=n(131),l=Array.prototype.slice,h=Object.prototype.hasOwnProperty,p=t.exports=s;p.AssertionError=function(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=o(this),this.generatedMessage=!0);var e=t.stackStartFunction||A;if(Error.captureStackTrace)Error.captureStackTrace(this,e);else{var n=new Error;if(n.stack){var r=n.stack,i=e.name,s=r.indexOf("\n"+i);if(s>=0){var a=r.indexOf("\n",s+1);r=r.substring(a+1)}this.stack=r}}},C.inherits(p.AssertionError,Error),p.fail=A,p.ok=s,p.equal=function(t,e,n){t!=e&&A(t,e,n,"==",p.equal)},p.notEqual=function(t,e,n){t==e&&A(t,e,n,"!=",p.notEqual)},p.deepEqual=function(t,e,n){a(t,e)||A(t,e,n,"deepEqual",p.deepEqual)},p.notDeepEqual=function(t,e,n){a(t,e)&&A(t,e,n,"notDeepEqual",p.notDeepEqual)},p.strictEqual=function(t,e,n){t!==e&&A(t,e,n,"===",p.strictEqual)},p.notStrictEqual=function(t,e,n){t===e&&A(t,e,n,"!==",p.notStrictEqual)},p["throws"]=function(t,e,n){I.apply(this,[!0].concat(l.call(arguments)))},p.doesNotThrow=function(t,e){I.apply(this,[!1].concat(l.call(arguments)))},p.ifError=function(t){if(t)throw t};var f=Object.keys||function(t){var e=[];for(var n in t)h.call(t,n)&&e.push(n);return e}},function(t,e){function n(){g=!1,A.length?a=A.concat(a):u=-1,a.length&&r()}function r(){if(!g){var t=setTimeout(n);g=!0;for(var e=a.length;e;){for(A=a,a=[];++u<e;)A&&A[u].run();u=-1,e=a.length}A=null,g=!1,clearTimeout(t)}}function i(t,e){this.fun=t,this.array=e}function o(){}var A,s=t.exports={},a=[],g=!1,u=-1;s.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];a.push(new i(t,e)),1!==a.length||g||setTimeout(r,0)},i.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=o,s.addListener=o,s.once=o,s.off=o,s.removeListener=o,s.removeAllListeners=o,s.emit=o,s.binding=function(t){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(t){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e,n){(function(t,r){function i(t,n){var r={seen:[],stylize:A};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),h(n)?r.showHidden=n:n&&e._extend(r,n),m(r.showHidden)&&(r.showHidden=!1),m(r.depth)&&(r.depth=2),m(r.colors)&&(r.colors=!1),m(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=o),a(r,t,r.depth)}function o(t,e){var n=i.styles[e];return n?"["+i.colors[n][0]+"m"+t+"["+i.colors[n][1]+"m":t}function A(t,e){return t}function s(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}function a(t,n,r){if(t.customInspect&&n&&B(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,t);return v(i)||(i=a(t,i,r)),i}var o=g(t,n);if(o)return o;var A=Object.keys(n),h=s(A);if(t.showHidden&&(A=Object.getOwnPropertyNames(n)),E(n)&&(A.indexOf("message")>=0||A.indexOf("description")>=0))return u(n);if(0===A.length){if(B(n)){var p=n.name?": "+n.name:"";return t.stylize("[Function"+p+"]","special")}if(b(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(L(n))return t.stylize(Date.prototype.toString.call(n),"date");if(E(n))return u(n)}var f="",d=!1,y=["{","}"];if(l(n)&&(d=!0,y=["[","]"]),B(n)){var m=n.name?": "+n.name:"";f=" [Function"+m+"]"}if(b(n)&&(f=" "+RegExp.prototype.toString.call(n)),L(n)&&(f=" "+Date.prototype.toUTCString.call(n)),E(n)&&(f=" "+u(n)),0===A.length&&(!d||0==n.length))return y[0]+f+y[1];if(0>r)return b(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special");t.seen.push(n);var w;return w=d?c(t,n,r,h,A):A.map(function(e){return I(t,n,r,h,e,d)}),t.seen.pop(),C(w,f,y)}function g(t,e){if(m(e))return t.stylize("undefined","undefined");if(v(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return d(e)?t.stylize(""+e,"number"):h(e)?t.stylize(""+e,"boolean"):p(e)?t.stylize("null","null"):void 0}function u(t){return"["+Error.prototype.toString.call(t)+"]"}function c(t,e,n,r,i){for(var o=[],A=0,s=e.length;s>A;++A)q(e,String(A))?o.push(I(t,e,n,r,String(A),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(I(t,e,n,r,i,!0))}),o}function I(t,e,n,r,i,o){var A,s,g;if(g=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]},g.get?s=g.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):g.set&&(s=t.stylize("[Setter]","special")),q(r,i)||(A="["+i+"]"),s||(t.seen.indexOf(g.value)<0?(s=p(n)?a(t,g.value,null):a(t,g.value,n-1),s.indexOf("\n")>-1&&(s=o?s.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+s.split("\n").map(function(t){return"   "+t}).join("\n"))):s=t.stylize("[Circular]","special")),m(A)){if(o&&i.match(/^\d+$/))return s;A=JSON.stringify(""+i),A.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(A=A.substr(1,A.length-2),A=t.stylize(A,"name")):(A=A.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),A=t.stylize(A,"string"))}return A+": "+s}function C(t,e,n){var r=0,i=t.reduce(function(t,e){return r++,e.indexOf("\n")>=0&&r++,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}function l(t){return Array.isArray(t)}function h(t){return"boolean"==typeof t}function p(t){return null===t}function f(t){return null==t}function d(t){return"number"==typeof t}function v(t){return"string"==typeof t}function y(t){return"symbol"==typeof t}function m(t){return void 0===t}function b(t){return w(t)&&"[object RegExp]"===x(t)}function w(t){return"object"==typeof t&&null!==t}function L(t){return w(t)&&"[object Date]"===x(t)}function E(t){return w(t)&&("[object Error]"===x(t)||t instanceof Error)}function B(t){return"function"==typeof t}function P(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||"undefined"==typeof t}function x(t){return Object.prototype.toString.call(t)}function S(t){return 10>t?"0"+t.toString(10):t.toString(10)}function M(){var t=new Date,e=[S(t.getHours()),S(t.getMinutes()),S(t.getSeconds())].join(":");return[t.getDate(),T[t.getMonth()],e].join(" ")}function q(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var D=/%[sdj%]/g;e.format=function(t){if(!v(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(i(arguments[n]));return e.join(" ")}for(var n=1,r=arguments,o=r.length,A=String(t).replace(D,function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return t}}),s=r[n];o>n;s=r[++n])A+=p(s)||!w(s)?" "+s:" "+i(s);return A},e.deprecate=function(n,i){function o(){if(!A){if(r.throwDeprecation)throw new Error(i);r.traceDeprecation?console.trace(i):console.error(i),A=!0}return n.apply(this,arguments)}if(m(t.process))return function(){return e.deprecate(n,i).apply(this,arguments)};if(r.noDeprecation===!0)return n;var A=!1;return o};var R,F={};e.debuglog=function(t){if(m(R)&&(R=r.env.NODE_DEBUG||""),t=t.toUpperCase(),!F[t])if(new RegExp("\\b"+t+"\\b","i").test(R)){var n=r.pid;F[t]=function(){var r=e.format.apply(e,arguments);console.error("%s %d: %s",t,n,r)}}else F[t]=function(){};return F[t]},e.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=l,e.isBoolean=h,e.isNull=p,e.isNullOrUndefined=f,e.isNumber=d,e.isString=v,e.isSymbol=y,e.isUndefined=m,e.isRegExp=b,e.isObject=w,e.isDate=L,e.isError=E,e.isFunction=B,e.isPrimitive=P,e.isBuffer=n(130);var T=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];e.log=function(){console.log("%s - %s",M(),e.format.apply(e,arguments))},e.inherits=n(129),e._extend=function(t,e){if(!e||!w(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}}).call(e,function(){return this}(),n(128))}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vYnVuZGxlLmpzIiwid2VicGFjazovLy93ZWJwYWNrL2Jvb3RzdHJhcCBjZGFkNmU0NDM3YzIwNjk3MzZkYyIsIndlYnBhY2s6Ly8vLi9+L3AyL3NyYy9tYXRoL3ZlYzIuanMiLCJ3ZWJwYWNrOi8vLy4vfi9wMi9zcmMvdXRpbHMvVXRpbHMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9wMi9zcmMvZXF1YXRpb25zL0VxdWF0aW9uLmpzIiwid2VicGFjazovLy8uL34vcDIvc3JjL3NoYXBlcy9TaGFwZS5qcyIsIndlYnBhY2s6Ly8vLi9+L3AyL3NyYy9jb25zdHJhaW50cy9Db25zdHJhaW50LmpzIiwid2VicGFjazovLy8uL34vcDIvc3JjL29iamVjdHMvQm9keS5qcyIsIndlYnBhY2s6Ly8vLi9zY3JpcHRzL3JlbmRlci9jYW52YXMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9wMi9zcmMvcDIuanMiLCJ3ZWJwYWNrOi8vLy4vfi9wMi9zcmMvdXRpbHMvUG9vbC5qcyIsIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly8vLi9zY3JpcHRzL3BsYW5lL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NjcmlwdHMvcmVuZGVyL3V0aWxzLmpzIiwid2VicGFjazovLy8uL3NjcmlwdHMvd29ybGQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vfi9wMi9zcmMvZXF1YXRpb25zL0ZyaWN0aW9uRXF1YXRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vfi9wMi9zcmMvc2hhcGVzL0NvbnZleC5qcyIsIndlYnBhY2s6Ly8vLi9+L3AyL3NyYy9jb2xsaXNpb24vQUFCQi5qcyIsIndlYnBhY2s6Ly8vLi9+L3AyL3NyYy9jb2xsaXNpb24vQnJvYWRwaGFzZS5qcyIsIndlYnBhY2s6Ly8vLi9+L3AyL3NyYy9jb2xsaXNpb24vUmF5LmpzIiwid2VicGFjazovLy8uL34vcDIvc3JjL2VxdWF0aW9ucy9Db250YWN0RXF1YXRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vfi9wMi9zcmMvZXZlbnRzL0V2ZW50RW1pdHRlci5qcyIsIndlYnBhY2s6Ly8vLi9+L3AyL3NyYy9zaGFwZXMvQ2lyY2xlLmpzIiwid2VicGFjazovLy8uL34vYW5pbWF0aW9uLWZyYW1lL2xpYi9ub3cuanMiLCJ3ZWJwYWNrOi8vLy4vc2NyaXB0cy9jcmF0ZS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zY3JpcHRzL21hdGVyaWFscy5qcyIsIndlYnBhY2s6Ly8vLi9zY3JpcHRzL3JlbmRlci9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9wMi9zcmMvY29sbGlzaW9uL1JheWNhc3RSZXN1bHQuanMiLCJ3ZWJwYWNrOi8vLy4vfi9wMi9zcmMvbWF0ZXJpYWwvTWF0ZXJpYWwuanMiLCJ3ZWJwYWNrOi8vLy4vfi9wMi9zcmMvb2JqZWN0cy9TcHJpbmcuanMiLCJ3ZWJwYWNrOi8vLy4vfi9wMi9zcmMvc2hhcGVzL1BhcnRpY2xlLmpzIiwid2VicGFjazovLy8uL34vcDIvc3JjL3NoYXBlcy9QbGFuZS5qcyIsIndlYnBhY2s6Ly8vLi9+L3AyL3NyYy9zb2x2ZXIvU29sdmVyLmpzIiwid2VicGFjazovLy8uL34vYmFjb25qcy9kaXN0L0JhY29uLmpzIiwid2VicGFjazovLy8uL34vZXh0ZW5kL2luZGV4LmpzIiwid2VicGFjazovLy8uL34vcDIvcGFja2FnZS5qc29uIiwid2VicGFjazovLy8uL34vbG9kYXNoLnBhcnRpYWxyaWdodC9+L2xvZGFzaC5fcmVwbGFjZWhvbGRlcnMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vfi9sb2Rhc2guc2V0L34vbG9kYXNoLmlzYXJyYXkvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc2NyaXB0cy9idWxsZXQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc2NyaXB0cy91dGlscy5qcyIsIndlYnBhY2s6Ly8vLi9+L3AyL34vcG9seS1kZWNvbXAvc3JjL1BvaW50LmpzIiwid2VicGFjazovLy8uL34vcDIvfi9wb2x5LWRlY29tcC9zcmMvU2NhbGFyLmpzIiwid2VicGFjazovLy8uL34vcDIvfi9wb2x5LWRlY29tcC9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vfi9wMi9zcmMvY29sbGlzaW9uL05hcnJvd3BoYXNlLmpzIiwid2VicGFjazovLy8uL34vcDIvc3JjL2NvbGxpc2lvbi9TQVBCcm9hZHBoYXNlLmpzIiwid2VicGFjazovLy8uL34vcDIvc3JjL2NvbnN0cmFpbnRzL0Rpc3RhbmNlQ29uc3RyYWludC5qcyIsIndlYnBhY2s6Ly8vLi9+L3AyL3NyYy9jb25zdHJhaW50cy9HZWFyQ29uc3RyYWludC5qcyIsIndlYnBhY2s6Ly8vLi9+L3AyL3NyYy9jb25zdHJhaW50cy9Mb2NrQ29uc3RyYWludC5qcyIsIndlYnBhY2s6Ly8vLi9+L3AyL3NyYy9jb25zdHJhaW50cy9QcmlzbWF0aWNDb25zdHJhaW50LmpzIiwid2VicGFjazovLy8uL34vcDIvc3JjL2NvbnN0cmFpbnRzL1Jldm9sdXRlQ29uc3RyYWludC5qcyIsIndlYnBhY2s6Ly8vLi9+L3AyL3NyYy9lcXVhdGlvbnMvQW5nbGVMb2NrRXF1YXRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vfi9wMi9zcmMvZXF1YXRpb25zL1JvdGF0aW9uYWxMb2NrRXF1YXRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vfi9wMi9zcmMvZXF1YXRpb25zL1JvdGF0aW9uYWxWZWxvY2l0eUVxdWF0aW9uLmpzIiwid2VicGFjazovLy8uL34vcDIvc3JjL21hdGVyaWFsL0NvbnRhY3RNYXRlcmlhbC5qcyIsIndlYnBhY2s6Ly8vLi9+L3AyL3NyYy9vYmplY3RzL0xpbmVhclNwcmluZy5qcyIsIndlYnBhY2s6Ly8vLi9+L3AyL3NyYy9vYmplY3RzL1JvdGF0aW9uYWxTcHJpbmcuanMiLCJ3ZWJwYWNrOi8vLy4vfi9wMi9zcmMvc2hhcGVzL0JveC5qcyIsIndlYnBhY2s6Ly8vLi9+L3AyL3NyYy9zaGFwZXMvQ2Fwc3VsZS5qcyIsIndlYnBhY2s6Ly8vLi9+L3AyL3NyYy9zaGFwZXMvTGluZS5qcyIsIndlYnBhY2s6Ly8vLi9+L3AyL3NyYy9zb2x2ZXIvR1NTb2x2ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vfi9wMi9zcmMvdXRpbHMvQ29udGFjdEVxdWF0aW9uUG9vbC5qcyIsIndlYnBhY2s6Ly8vLi9+L3AyL3NyYy91dGlscy9GcmljdGlvbkVxdWF0aW9uUG9vbC5qcyIsIndlYnBhY2s6Ly8vLi9+L3AyL3NyYy91dGlscy9PdmVybGFwS2VlcGVyUmVjb3JkLmpzIiwid2VicGFjazovLy8uL34vcDIvc3JjL3V0aWxzL1R1cGxlRGljdGlvbmFyeS5qcyIsIndlYnBhY2s6Ly8vLi9+L3AyL3NyYy93b3JsZC9Jc2xhbmQuanMiLCJ3ZWJwYWNrOi8vLy4vfi9wMi9zcmMvd29ybGQvSXNsYW5kTm9kZS5qcyIsIndlYnBhY2s6Ly8vKHdlYnBhY2spL34vbm9kZS1saWJzLWJyb3dzZXIvfi9ldmVudHMvZXZlbnRzLmpzIiwid2VicGFjazovLy8uL34vYW5pbWF0aW9uLWZyYW1lL2luZGV4LmpzIiwid2VicGFjazovLy8uL34vYW5pbWF0aW9uLWZyYW1lL2xpYi9hbmltYXRpb24tZnJhbWUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9hbmltYXRpb24tZnJhbWUvbGliL25hdGl2ZS5qcyIsIndlYnBhY2s6Ly8vLi9+L2FuaW1hdGlvbi1mcmFtZS9saWIvcGVyZm9ybWFuY2UtdGltaW5nLmpzIiwid2VicGFjazovLy8uL34vYW5pbWF0aW9uLWZyYW1lL2xpYi9wZXJmb3JtYW5jZS5qcyIsIndlYnBhY2s6Ly8vLi9+L2Jyb3dzZXItYXVkaW8vaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vfi9icm93c2VyLWF1ZGlvL2xpYi9hdWRpby1vYmplY3QuanMiLCJ3ZWJwYWNrOi8vLy4vfi9icm93c2VyLWF1ZGlvL2xpYi9hdWRpby10YWctcGxheWVyLmpzIiwid2VicGFjazovLy8uL34vYnJvd3Nlci1hdWRpby9saWIvd2ViLWF1ZGlvLXBsYXllci5qcyIsIndlYnBhY2s6Ly8vLi9+L2Nzcy1sb2FkZXIvY3NzVG9TdHJpbmcuanMiLCJ3ZWJwYWNrOi8vLy4vc2NyaXB0cy9zdHlsZS5jc3MiLCJ3ZWJwYWNrOi8vLy4vfi9kZWdyZWVzLXJhZGlhbnMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vYXNzZXRzL3NvdW5kcy9zaG90Lm1wMyIsIndlYnBhY2s6Ly8vLi9+L2Zwcy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9+L2Zwcy9+L2luaGVyaXRzL2luaGVyaXRzLmpzIiwid2VicGFjazovLy8uL34vbG9kYXNoLnBhcnRpYWxyaWdodC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9+L2xvZGFzaC5wYXJ0aWFscmlnaHQvfi9sb2Rhc2guX2NyZWF0ZXdyYXBwZXIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vfi9sb2Rhc2gucGFydGlhbHJpZ2h0L34vbG9kYXNoLl9jcmVhdGV3cmFwcGVyL34vbG9kYXNoLl9hcnJheWNvcHkvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vfi9sb2Rhc2gucGFydGlhbHJpZ2h0L34vbG9kYXNoLl9jcmVhdGV3cmFwcGVyL34vbG9kYXNoLl9iYXNlY3JlYXRlL2luZGV4LmpzIiwid2VicGFjazovLy8uL34vbG9kYXNoLnBhcnRpYWxyaWdodC9+L2xvZGFzaC5yZXN0cGFyYW0vaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vfi9sb2Rhc2gucmFuZ2UvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vfi9sb2Rhc2gucmFuZ2Uvfi9sb2Rhc2guX2lzaXRlcmF0ZWVjYWxsL2luZGV4LmpzIiwid2VicGFjazovLy8uL34vbG9kYXNoLnNldC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9+L2xvZGFzaC5zZXQvfi9sb2Rhc2guX3RvcGF0aC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9+L2xvZGFzaC56aXBvYmplY3QvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vfi9sb2Rhc2guemlwb2JqZWN0L34vbG9kYXNoLmlzYXJyYXkvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc2NyaXB0cy9iYWNrZ3JvdW5kL3JlbmRlci5qcyIsIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2J1bGxldC9yZW5kZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc2NyaXB0cy9jcmF0ZS9yZW5kZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc2NyaXB0cy9leHBsb3Npb24vaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc2NyaXB0cy9nYW1lTG9vcC5qcyIsIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NjcmlwdHMvaW5wdXQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc2NyaXB0cy9wbGFuZS9yZW5kZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc2NyaXB0cy9wbGF5ZXIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc2NyaXB0cy9yZW5kZXIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc2NyaXB0cy9zb3VuZHMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9wMi9+L3BvbHktZGVjb21wL3NyYy9MaW5lLmpzIiwid2VicGFjazovLy8uL34vcDIvfi9wb2x5LWRlY29tcC9zcmMvUG9seWdvbi5qcyIsIndlYnBhY2s6Ly8vLi9+L3AyL3NyYy9jb2xsaXNpb24vTmFpdmVCcm9hZHBoYXNlLmpzIiwid2VicGFjazovLy8uL34vcDIvc3JjL21hdGgvcG9seWsuanMiLCJ3ZWJwYWNrOi8vLy4vfi9wMi9zcmMvb2JqZWN0cy9Ub3BEb3duVmVoaWNsZS5qcyIsIndlYnBhY2s6Ly8vLi9+L3AyL3NyYy9zaGFwZXMvSGVpZ2h0ZmllbGQuanMiLCJ3ZWJwYWNrOi8vLy4vfi9wMi9zcmMvdXRpbHMvSXNsYW5kTm9kZVBvb2wuanMiLCJ3ZWJwYWNrOi8vLy4vfi9wMi9zcmMvdXRpbHMvSXNsYW5kUG9vbC5qcyIsIndlYnBhY2s6Ly8vLi9+L3AyL3NyYy91dGlscy9PdmVybGFwS2VlcGVyLmpzIiwid2VicGFjazovLy8uL34vcDIvc3JjL3V0aWxzL092ZXJsYXBLZWVwZXJSZWNvcmRQb29sLmpzIiwid2VicGFjazovLy8uL34vcDIvc3JjL3dvcmxkL0lzbGFuZE1hbmFnZXIuanMiLCJ3ZWJwYWNrOi8vLy4vfi9wMi9zcmMvd29ybGQvV29ybGQuanMiLCJ3ZWJwYWNrOi8vLy4vfi9zdHlsZS1sb2FkZXIvYWRkU3R5bGVzLmpzIiwid2VicGFjazovLy8uL3NjcmlwdHMvc3R5bGUuY3NzPzY1ZjgiLCJ3ZWJwYWNrOi8vLy4vYXNzZXRzL2J1bGxldC5wbmciLCJ3ZWJwYWNrOi8vLy4vYXNzZXRzL2Nsb3VkMS5wbmciLCJ3ZWJwYWNrOi8vLy4vYXNzZXRzL2Nsb3VkMi5wbmciLCJ3ZWJwYWNrOi8vLy4vYXNzZXRzL2Nsb3VkMy5wbmciLCJ3ZWJwYWNrOi8vLy4vYXNzZXRzL2NyYXRlLnBuZyIsIndlYnBhY2s6Ly8vLi9hc3NldHMvZ3JvdW5kLnBuZyIsIndlYnBhY2s6Ly8vLi9hc3NldHMvcGxhbmUucG5nIiwid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9hbWQtZGVmaW5lLmpzIiwid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9hbWQtb3B0aW9ucy5qcyIsIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vbW9kdWxlLmpzIiwid2VicGFjazovLy8od2VicGFjaykvfi9ub2RlLWxpYnMtYnJvd3Nlci9+L2Fzc2VydC9hc3NlcnQuanMiLCJ3ZWJwYWNrOi8vLyh3ZWJwYWNrKS9+L25vZGUtbGlicy1icm93c2VyL34vcHJvY2Vzcy9icm93c2VyLmpzIiwid2VicGFjazovLy8od2VicGFjaykvfi9ub2RlLWxpYnMtYnJvd3Nlci9+L3V0aWwvfi9pbmhlcml0cy9pbmhlcml0c19icm93c2VyLmpzIiwid2VicGFjazovLy8od2VicGFjaykvfi9ub2RlLWxpYnMtYnJvd3Nlci9+L3V0aWwvc3VwcG9ydC9pc0J1ZmZlckJyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vLyh3ZWJwYWNrKS9+L25vZGUtbGlicy1icm93c2VyL34vdXRpbC91dGlsLmpzIl0sIm5hbWVzIjpbIm1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJpbnN0YWxsZWRNb2R1bGVzIiwiZXhwb3J0cyIsIm1vZHVsZSIsImlkIiwibG9hZGVkIiwiY2FsbCIsIm0iLCJjIiwicCIsInZlYzIiLCJVdGlscyIsImNyb3NzTGVuZ3RoIiwiYSIsImIiLCJjcm9zc1ZaIiwib3V0IiwidmVjIiwiemNvbXAiLCJyb3RhdGUiLCJNYXRoIiwiUEkiLCJzY2FsZSIsImNyb3NzWlYiLCJhbmdsZSIsImNvcyIsInMiLCJzaW4iLCJ4IiwieSIsInJvdGF0ZTkwY3ciLCJ0b0xvY2FsRnJhbWUiLCJ3b3JsZFBvaW50IiwiZnJhbWVQb3NpdGlvbiIsImZyYW1lQW5nbGUiLCJjb3B5Iiwic3ViIiwidG9HbG9iYWxGcmFtZSIsImxvY2FsUG9pbnQiLCJhZGQiLCJ2ZWN0b3JUb0xvY2FsRnJhbWUiLCJ3b3JsZFZlY3RvciIsInZlY3RvclRvR2xvYmFsRnJhbWUiLCJsb2NhbFZlY3RvciIsImNlbnRyb2lkIiwiY3JlYXRlIiwiQVJSQVlfVFlQRSIsImNsb25lIiwiZnJvbVZhbHVlcyIsInNldCIsInN1YnRyYWN0IiwibXVsdGlwbHkiLCJtdWwiLCJkaXZpZGUiLCJkaXYiLCJkaXN0YW5jZSIsInNxcnQiLCJkaXN0Iiwic3F1YXJlZERpc3RhbmNlIiwic3FyRGlzdCIsImxlbmd0aCIsImxlbiIsInNxdWFyZWRMZW5ndGgiLCJzcXJMZW4iLCJuZWdhdGUiLCJub3JtYWxpemUiLCJkb3QiLCJzdHIiLCJsZXJwIiwidCIsImF4IiwiYXkiLCJyZWZsZWN0IiwidmVjdG9yIiwibm9ybWFsIiwiZ2V0TGluZVNlZ21lbnRzSW50ZXJzZWN0aW9uIiwicDAiLCJwMSIsInAyIiwicDMiLCJnZXRMaW5lU2VnbWVudHNJbnRlcnNlY3Rpb25GcmFjdGlvbiIsInMxX3giLCJzMV95IiwiczJfeCIsInMyX3kiLCJhcHBlbmRBcnJheSIsInB1c2giLCJhcHBseSIsImkiLCJzcGxpY2UiLCJhcnJheSIsImluZGV4IiwiaG93bWFueSIsIlAyX0FSUkFZX1RZUEUiLCJGbG9hdDMyQXJyYXkiLCJBcnJheSIsImV4dGVuZCIsImtleSIsImRlZmF1bHRzIiwib3B0aW9ucyIsIkVxdWF0aW9uIiwiYm9keUEiLCJib2R5QiIsIm1pbkZvcmNlIiwibWF4Rm9yY2UiLCJ0aGlzIiwiTnVtYmVyIiwiTUFYX1ZBTFVFIiwic3RpZmZuZXNzIiwiREVGQVVMVF9TVElGRk5FU1MiLCJyZWxheGF0aW9uIiwiREVGQVVMVF9SRUxBWEFUSU9OIiwiRyIsIm9mZnNldCIsImVwc2lsb24iLCJ0aW1lU3RlcCIsIm5lZWRzVXBkYXRlIiwibXVsdGlwbGllciIsInJlbGF0aXZlVmVsb2NpdHkiLCJlbmFibGVkIiwicHJvdG90eXBlIiwiY29uc3RydWN0b3IiLCJ1cGRhdGUiLCJrIiwiZCIsImgiLCJnbXVsdCIsInZpIiwid2kiLCJ2aiIsIndqIiwiY29tcHV0ZUIiLCJHVyIsImNvbXB1dGVHVyIsIkdxIiwiY29tcHV0ZUdxIiwiR2lNZiIsImNvbXB1dGVHaU1mIiwicWkiLCJxaiIsImJpIiwiYmoiLCJhaSIsInBvc2l0aW9uIiwiYWoiLCJ2ZWxvY2l0eSIsImFuZ3VsYXJWZWxvY2l0eSIsImNvbXB1dGVHV2xhbWJkYSIsInZsYW1iZGEiLCJ3bGFtYmRhIiwiaU1maSIsImlNZmoiLCJmaSIsImZvcmNlIiwidGkiLCJhbmd1bGFyRm9yY2UiLCJmaiIsInRqIiwiaW52TWFzc2kiLCJpbnZNYXNzU29sdmUiLCJpbnZNYXNzaiIsImludklpIiwiaW52SW5lcnRpYVNvbHZlIiwiaW52SWoiLCJtYXNzTXVsdGlwbGllciIsImNvbXB1dGVHaU1HdCIsImFkZFRvV2xhbWJkYV90ZW1wIiwiYWRkVG9XbGFtYmRhX0dpIiwiYWRkVG9XbGFtYmRhX0dqIiwiYWRkVG9XbGFtYmRhIiwiZGVsdGFsYW1iZGEiLCJ0ZW1wIiwiR2kiLCJHaiIsImNvbXB1dGVJbnZDIiwiZXBzIiwiU2hhcGUiLCJib2R5IiwidHlwZSIsImlkQ291bnRlciIsImJvdW5kaW5nUmFkaXVzIiwiY29sbGlzaW9uR3JvdXAiLCJ1bmRlZmluZWQiLCJjb2xsaXNpb25SZXNwb25zZSIsImNvbGxpc2lvbk1hc2siLCJtYXRlcmlhbCIsImFyZWEiLCJzZW5zb3IiLCJ1cGRhdGVCb3VuZGluZ1JhZGl1cyIsInVwZGF0ZUFyZWEiLCJDSVJDTEUiLCJQQVJUSUNMRSIsIlBMQU5FIiwiQ09OVkVYIiwiTElORSIsIkJPWCIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0IiwiY29uc29sZSIsIndhcm4iLCJDQVBTVUxFIiwiSEVJR0hURklFTEQiLCJjb21wdXRlTW9tZW50T2ZJbmVydGlhIiwibWFzcyIsImNvbXB1dGVBQUJCIiwicmF5Y2FzdCIsInJlc3VsdCIsInJheSIsIkNvbnN0cmFpbnQiLCJjb2xsaWRlQ29ubmVjdGVkIiwid2FrZVVwQm9kaWVzIiwiZXF1YXRpb25zIiwid2FrZVVwIiwiRXJyb3IiLCJESVNUQU5DRSIsIkdFQVIiLCJMT0NLIiwiUFJJU01BVElDIiwiUkVWT0xVVEUiLCJzZXRTdGlmZm5lc3MiLCJlcXMiLCJlcSIsInNldFJlbGF4YXRpb24iLCJCb2R5IiwiRXZlbnRFbWl0dGVyIiwiX2lkQ291bnRlciIsIndvcmxkIiwic2hhcGVzIiwiaW52TWFzcyIsImluZXJ0aWEiLCJpbnZJbmVydGlhIiwiZml4ZWRSb3RhdGlvbiIsImZpeGVkWCIsImZpeGVkWSIsImludGVycG9sYXRlZFBvc2l0aW9uIiwiaW50ZXJwb2xhdGVkQW5nbGUiLCJwcmV2aW91c1Bvc2l0aW9uIiwicHJldmlvdXNBbmdsZSIsImRhbXBpbmciLCJhbmd1bGFyRGFtcGluZyIsIlNUQVRJQyIsIkRZTkFNSUMiLCJhYWJiIiwiQUFCQiIsImFhYmJOZWVkc1VwZGF0ZSIsImFsbG93U2xlZXAiLCJ3YW50c1RvU2xlZXAiLCJzbGVlcFN0YXRlIiwiQVdBS0UiLCJzbGVlcFNwZWVkTGltaXQiLCJzbGVlcFRpbWVMaW1pdCIsImdyYXZpdHlTY2FsZSIsImlkbGVUaW1lIiwidGltZUxhc3RTbGVlcHkiLCJjY2RTcGVlZFRocmVzaG9sZCIsImNjZEl0ZXJhdGlvbnMiLCJjb25jYXZlUGF0aCIsIl93YWtlVXBBZnRlck5hcnJvd3BoYXNlIiwidXBkYXRlTWFzc1Byb3BlcnRpZXMiLCJkZWNvbXAiLCJDb252ZXgiLCJSYXljYXN0UmVzdWx0IiwiUmF5IiwidXBkYXRlU29sdmVNYXNzUHJvcGVydGllcyIsIlNMRUVQSU5HIiwiS0lORU1BVElDIiwic2V0RGVuc2l0eSIsImRlbnNpdHkiLCJ0b3RhbEFyZWEiLCJnZXRBcmVhIiwiZ2V0QUFCQiIsInVwZGF0ZUFBQkIiLCJzaGFwZUFBQkIiLCJ0bXAiLCJOIiwiYm9keUFuZ2xlIiwic2hhcGUiLCJyYWRpdXMiLCJyIiwiYWRkU2hhcGUiLCJyZW1vdmVTaGFwZSIsImlkeCIsImluZGV4T2YiLCJJIiwicjIiLCJJY20iLCJhcHBseUZvcmNlIiwicmVsYXRpdmVQb2ludCIsInJvdEZvcmNlIiwiQm9keV9hcHBseUZvcmNlX2ZvcmNlV29ybGQiLCJCb2R5X2FwcGx5Rm9yY2VfcG9pbnRXb3JsZCIsIkJvZHlfYXBwbHlGb3JjZV9wb2ludExvY2FsIiwiYXBwbHlGb3JjZUxvY2FsIiwibG9jYWxGb3JjZSIsIndvcmxkRm9yY2UiLCJ2ZWN0b3JUb1dvcmxkRnJhbWUiLCJCb2R5X2FwcGx5SW1wdWxzZV92ZWxvIiwiYXBwbHlJbXB1bHNlIiwiaW1wdWxzZVZlY3RvciIsInZlbG8iLCJyb3RWZWxvIiwiQm9keV9hcHBseUltcHVsc2VfaW1wdWxzZVdvcmxkIiwiQm9keV9hcHBseUltcHVsc2VfcG9pbnRXb3JsZCIsIkJvZHlfYXBwbHlJbXB1bHNlX3BvaW50TG9jYWwiLCJhcHBseUltcHVsc2VMb2NhbCIsImxvY2FsSW1wdWxzZSIsIndvcmxkSW1wdWxzZSIsInRvV29ybGRGcmFtZSIsImZyb21Qb2x5Z29uIiwicGF0aCIsIlBvbHlnb24iLCJ2ZXJ0aWNlcyIsIm1ha2VDQ1ciLCJyZW1vdmVDb2xsaW5lYXJQb2ludHMiLCJpc1NpbXBsZSIsInNsaWNlIiwidiIsImNvbnZleGVzIiwib3B0aW1hbERlY29tcCIsInF1aWNrRGVjb21wIiwiY20iLCJqIiwiY2VudGVyT2ZNYXNzIiwidXBkYXRlVHJpYW5nbGVzIiwidXBkYXRlQ2VudGVyT2ZNYXNzIiwiYWRqdXN0Q2VudGVyT2ZNYXNzIiwiYWRqdXN0Q2VudGVyT2ZNYXNzX3RtcDIiLCJhZGp1c3RDZW50ZXJPZk1hc3NfdG1wMyIsImFkanVzdENlbnRlck9mTWFzc190bXA0Iiwib2Zmc2V0X3RpbWVzX2FyZWEiLCJzdW0iLCJzZXRaZXJvRm9yY2UiLCJyZXNldENvbnN0cmFpbnRWZWxvY2l0eSIsImFkZENvbnN0cmFpbnRWZWxvY2l0eSIsImFwcGx5RGFtcGluZyIsImR0IiwicG93IiwiZW1pdCIsIndha2VVcEV2ZW50Iiwic2xlZXAiLCJzbGVlcEV2ZW50Iiwic2xlZXBUaWNrIiwidGltZSIsImRvbnRTbGVlcCIsInNwZWVkU3F1YXJlZCIsInNwZWVkTGltaXRTcXVhcmVkIiwiU0xFRVBZIiwib3ZlcmxhcHMiLCJvdmVybGFwS2VlcGVyIiwiYm9kaWVzQXJlT3ZlcmxhcHBpbmciLCJpbnRlZ3JhdGVfZmhNaW52IiwiaW50ZWdyYXRlX3ZlbG9kdCIsImludGVncmF0ZSIsIm1pbnYiLCJmIiwicG9zIiwiaW50ZWdyYXRlVG9UaW1lT2ZJbXBhY3QiLCJtb2RlIiwiQUxMIiwiZGlyZWN0aW9uIiwiZW5kIiwic3RhcnRUb0VuZCIsInJlbWVtYmVyUG9zaXRpb24iLCJoaXQiLCJzdGFydFRvRW5kQW5nbGUiLCJ0aW1lT2ZJbXBhY3QiLCJ0aGF0IiwicmVzZXQiLCJjYWxsYmFjayIsImdldEhpdFBvaW50Iiwic3RvcCIsImZyb20iLCJ0byIsInJlbWVtYmVyQW5nbGUiLCJpdGVyIiwidG1pbiIsInRtaWQiLCJ0bWF4IiwibmFycm93cGhhc2UiLCJib2RpZXNPdmVybGFwIiwiZ2V0VmVsb2NpdHlBdFBvaW50Iiwic2xlZXB5RXZlbnQiLCJyZXNpemUiLCJjYW52YXMiLCJ3aWR0aCIsIndpbmRvdyIsImlubmVyV2lkdGgiLCJoZWlnaHQiLCJpbm5lckhlaWdodCIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImN0eCIsImdldENvbnRleHQiLCJhcHBlbmRDaGlsZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJfX21vZHVsZUJpbmRpbmdzIiwiZ2V0RXZhbFNvdXJjZSIsImluamVjdFNjb3BlIiwiYmluZGluZ3MiLCJwYXRjaGVkQmluZGluZ3MiLCJldmFsU2NvcGUiLCJtb2R1bGVFdmFsV2l0aFNjb3BlIiwibW9kdWxlRXZhbCIsIkFuZ2xlTG9ja0VxdWF0aW9uIiwiQnJvYWRwaGFzZSIsIkNhcHN1bGUiLCJDaXJjbGUiLCJDb250YWN0RXF1YXRpb24iLCJDb250YWN0RXF1YXRpb25Qb29sIiwiQ29udGFjdE1hdGVyaWFsIiwiRGlzdGFuY2VDb25zdHJhaW50IiwiRnJpY3Rpb25FcXVhdGlvbiIsIkZyaWN0aW9uRXF1YXRpb25Qb29sIiwiR2VhckNvbnN0cmFpbnQiLCJHU1NvbHZlciIsIkhlaWdodGZpZWxkIiwiTGluZSIsIkxvY2tDb25zdHJhaW50IiwiTWF0ZXJpYWwiLCJOYXJyb3dwaGFzZSIsIk5haXZlQnJvYWRwaGFzZSIsIlBhcnRpY2xlIiwiUGxhbmUiLCJQb29sIiwiUmV2b2x1dGVDb25zdHJhaW50IiwiUHJpc21hdGljQ29uc3RyYWludCIsIkJveCIsIlJvdGF0aW9uYWxWZWxvY2l0eUVxdWF0aW9uIiwiU0FQQnJvYWRwaGFzZSIsIlNvbHZlciIsIlNwcmluZyIsIlRvcERvd25WZWhpY2xlIiwiTGluZWFyU3ByaW5nIiwiUm90YXRpb25hbFNwcmluZyIsIldvcmxkIiwidmVyc2lvbiIsIm9iamVjdHMiLCJzaXplIiwicG9wIiwicmVsZWFzZSIsIm9iamVjdCIsImRlc3Ryb3kiLCJ2YWx1ZSIsIkZSQU1FX1JBVEUiLCJXT1JMRF9TUEVFRCIsIk1BWF9TVUJTVEVQUyIsIlBBVVNFX0tFWSIsIlNQQUNFX0tFWSIsIkxFRlRfS0VZIiwiVVBfS0VZIiwiUklHSFRfS0VZIiwiRE9XTl9LRVkiLCJSQURJQU4iLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0Iiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJ1cGRhdGVQbGFuZSIsInBsYW5lIiwibmV3UGxhbmUiLCJvcHRzIiwiX3AyMiIsIl93b3JsZCIsIkdST1VORF9MRVZFTCIsIkhFSUdIVCIsIlRZUEUiLCJhZGRCb2R5IiwiV0lEVEgiLCJ0aHJ1c3QiLCJ0aHJvdHRsZSIsImhlYWx0IiwiYnVsbGV0cyIsInBsYW5lcyIsImlucHV0IiwiX3AyIiwiaW5pdGlhbCIsIm51bSIsIl9yZW5kZXJDb25zdGFudHMiLCJTQ0FMRSIsImdhbWVUb0NhbnZhcyIsIl9yZWYiLCJfcmVuZGVyQ2FudmFzIiwiYm9keVRvQ2FudmFzIiwiX3JlZjIiLCJfcmVmMiRwb3NpdGlvbiIsIl9zbGljZWRUb0FycmF5IiwicmVjdFBhdGgiLCJ3IiwiYmVnaW5QYXRoIiwibW92ZVRvIiwibGluZVRvIiwiY2xvc2VQYXRoIiwiY2FtZXJhVHJhbnNsYXRpb24iLCJwbGF5ZXIiLCJwbGF5ZXJPbkNhbnZhcyIsIm1heCIsIm1pbiIsInRvUkdCIiwiYXJyIiwiam9pbiIsImltYWdlIiwic3JjIiwiaW1nIiwiSW1hZ2UiLCJzbGljZUl0ZXJhdG9yIiwiX2FyciIsIl9uIiwiX2QiLCJfZSIsIl9zIiwiX2kiLCJTeW1ib2wiLCJpdGVyYXRvciIsIm5leHQiLCJkb25lIiwiZXJyIiwiaXNBcnJheSIsIlR5cGVFcnJvciIsIl9tYXRlcmlhbHMiLCJncm91bmQiLCJzdGVwIiwiX2NvbnN0YW50cyIsImRlbHRhIiwiZW1pdEltcGFjdEV2ZW50IiwiZmlyc3RJbXBhY3RzIiwiY29udGFjdEVxdWF0aW9ucyIsImZpbHRlciIsImZpcnN0SW1wYWN0IiwiaW1wYWN0cyIsInNsaXBGb3JjZSIsImNvbnRhY3RQb2ludEEiLCJjb250YWN0UG9pbnRCIiwic2hhcGVBIiwic2hhcGVCIiwiZnJpY3Rpb25Db2VmZmljaWVudCIsInNldFNsaXBGb3JjZSIsImdldFNsaXBGb3JjZSIsInJpIiwicmoiLCJCIiwiYXJndW1lbnRzIiwiYXhlcyIsImF4aXMiLCJ3b3JsZFBvaW50MCIsIndvcmxkUG9pbnQxIiwidHJpYW5nbGVzIiwicG9seWsiLCJ0bXBWZWMxIiwidG1wVmVjMiIsInByb2plY3RPbnRvTG9jYWxBeGlzIiwibG9jYWxBeGlzIiwicHJvamVjdE9udG9Xb3JsZEF4aXMiLCJzaGFwZU9mZnNldCIsInNoYXBlQW5nbGUiLCJ3b3JsZEF4aXMiLCJwb2x5a1ZlcnRzIiwiVHJpYW5ndWxhdGUiLCJpZDEiLCJpZDIiLCJpZDMiLCJ1cGRhdGVDZW50ZXJPZk1hc3NfY2VudHJvaWQiLCJ1cGRhdGVDZW50ZXJPZk1hc3NfY2VudHJvaWRfdGltZXNfbWFzcyIsInVwZGF0ZUNlbnRlck9mTWFzc19hIiwidXBkYXRlQ2VudGVyT2ZNYXNzX2IiLCJ1cGRhdGVDZW50ZXJPZk1hc3NfYyIsInZlcnRzIiwiY2VudHJvaWRfdGltZXNfbWFzcyIsInRyaWFuZ2xlQXJlYSIsImRlbm9tIiwibnVtZXIiLCJhYnMiLCJsMiIsInNldEZyb21Qb2ludHMiLCJpbnRlcnNlY3RDb252ZXhfcmF5U3RhcnQiLCJpbnRlcnNlY3RDb252ZXhfcmF5RW5kIiwiaW50ZXJzZWN0Q29udmV4X25vcm1hbCIsInJheVN0YXJ0IiwicmF5RW5kIiwibiIsInNob3VsZFN0b3AiLCJxMSIsInEyIiwicmVwb3J0SW50ZXJzZWN0aW9uIiwibG93ZXJCb3VuZCIsInVwcGVyQm91bmQiLCJwb2ludHMiLCJza2luU2l6ZSIsImwiLCJ1IiwiY29zQW5nbGUiLCJzaW5BbmdsZSIsImwxIiwidTEiLCJ1MiIsImNvbnRhaW5zUG9pbnQiLCJwb2ludCIsIm92ZXJsYXBzUmF5IiwiZGlyRnJhY1giLCJkaXJGcmFjWSIsInQxIiwidDIiLCJ0MyIsInQ0IiwiYm91bmRpbmdWb2x1bWVUeXBlIiwiQk9VTkRJTkdfQ0lSQ0xFIiwic2V0V29ybGQiLCJnZXRDb2xsaXNpb25QYWlycyIsImJvdW5kaW5nUmFkaXVzQ2hlY2siLCJkMiIsImFhYmJDaGVjayIsImJvdW5kaW5nVm9sdW1lQ2hlY2siLCJjYW5Db2xsaWRlIiwiTkFJVkUiLCJTQVAiLCJjaGVja0NvbGxpc2lvblJlc3BvbnNlIiwic2tpcEJhY2tmYWNlcyIsIkFOWSIsImRpc3RhbmNlRnJvbUludGVyc2VjdGlvblNxdWFyZWQiLCJ2MCIsImludGVyc2VjdCIsIkNMT1NFU1QiLCJpbnRlcnNlY3RCb2RpZXMiLCJib2RpZXMiLCJpbnRlcnNlY3RCb2R5IiwiaW50ZXJzZWN0Qm9keV93b3JsZFBvc2l0aW9uIiwid29ybGRQb3NpdGlvbiIsIndvcmxkQW5nbGUiLCJpbnRlcnNlY3RTaGFwZSIsIl9jdXJyZW50Qm9keSIsIl9jdXJyZW50U2hhcGUiLCJmcmFjdGlvbiIsImZhY2VJbmRleCIsImhhc0hpdCIsInBlbmV0cmF0aW9uVmVjIiwibm9ybWFsQSIsInJlc3RpdHV0aW9uIiwieGkiLCJ4aiIsInJpeG4iLCJyanhuIiwib24iLCJsaXN0ZW5lciIsImNvbnRleHQiLCJfbGlzdGVuZXJzIiwibGlzdGVuZXJzIiwiaGFzIiwib2ZmIiwiZXZlbnQiLCJsaXN0ZW5lckFycmF5IiwidGFyZ2V0IiwiUmF5X2ludGVyc2VjdFNwaGVyZV9pbnRlcnNlY3Rpb25Qb2ludCIsIlJheV9pbnRlcnNlY3RTcGhlcmVfbm9ybWFsIiwiaW50ZXJzZWN0aW9uUG9pbnQiLCJzcXJ0RGVsdGEiLCJpbnYyYSIsImQxIiwiRGF0ZSIsIm5vdyIsImdldFRpbWUiLCJib3giLCJDUkFURV9TSVpFIiwiY3JhdGUiLCJpbml0aWFsUG9zaXRpb24iLCJsaXZlZCIsImNyYXRlcyIsIl9sb2Rhc2hSYW5nZTIiLCJtYXAiLCJmbG9vciIsInNvdW5kcyIsImZsb2F0QXJvdW5kIiwibW92ZW1lbnQiLCJnZXRQbGFuZUNvbGxpZGluZ0NyYXRlcyIsIl9wbGFuZTIiLCJjcmF0ZXNDb2xsaWRpbmdQbGFuZSIsImZvckVhY2giLCJyZW1vdmVCb2R5IiwiX2xvZGFzaFJhbmdlIiwiX3BsYW5lIiwiY29udGFjdE1hdGVyaWFscyIsImZyaWN0aW9uIiwiaXNTdG9wcGVkIiwiZ2V0SGl0RGlzdGFuY2UiLCJpbnRlcnNlY3RQbGFuZV9wbGFuZVBvaW50VG9Gcm9tIiwiaW50ZXJzZWN0UGxhbmVfbm9ybWFsIiwiaW50ZXJzZWN0UGxhbmVfbGVuIiwicGxhbmVQb2ludFRvRnJvbSIsInBsYW5lVG9Gcm9tIiwicGxhbmVUb1RvIiwibl9kb3RfZGlyIiwiZXF1YXRpb25Tb3J0RnVuY3Rpb24iLCJzb2x2ZSIsIm1vY2tXb3JsZCIsInNvbHZlSXNsYW5kIiwiaXNsYW5kIiwicmVtb3ZlQWxsRXF1YXRpb25zIiwiYWRkRXF1YXRpb25zIiwiZ2V0Qm9kaWVzIiwic29ydEVxdWF0aW9ucyIsInNvcnQiLCJhZGRFcXVhdGlvbiIsInJlbW92ZUVxdWF0aW9uIiwiR1MiLCJJU0xBTkQiLCJfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fIiwiX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18iLCJnbG9iYWwiLCJCYWNvbiIsIkJ1ZmZlcmluZ1NvdXJjZSIsIkJ1cyIsIkNvbXBvc2l0ZVVuc3Vic2NyaWJlIiwiQ29uc3VtaW5nU291cmNlIiwiRGVzYyIsIkRpc3BhdGNoZXIiLCJFbmQiLCJFdmVudCIsIkV2ZW50U3RyZWFtIiwiRXhjZXB0aW9uIiwiSW5pdGlhbCIsIk5leHQiLCJOb25lIiwiT2JzZXJ2YWJsZSIsIlByb3BlcnR5IiwiUHJvcGVydHlEaXNwYXRjaGVyIiwiU29tZSIsIlNvdXJjZSIsIlVwZGF0ZUJhcnJpZXIiLCJfIiwiYWRkUHJvcGVydHlJbml0VmFsdWVUb1N0cmVhbSIsImFyZ3VtZW50c1RvT2JzZXJ2YWJsZXMiLCJhcmd1bWVudHNUb09ic2VydmFibGVzQW5kRnVuY3Rpb24iLCJhc3NlcnQiLCJhc3NlcnRBcnJheSIsImFzc2VydEV2ZW50U3RyZWFtIiwiYXNzZXJ0RnVuY3Rpb24iLCJhc3NlcnROb0FyZ3VtZW50cyIsImFzc2VydE9ic2VydmFibGUiLCJhc3NlcnRPYnNlcnZhYmxlSXNQcm9wZXJ0eSIsImFzc2VydFN0cmluZyIsImNsb25lQXJyYXkiLCJjb25zdGFudFRvRnVuY3Rpb24iLCJjb250YWluc0R1cGxpY2F0ZURlcHMiLCJjb252ZXJ0QXJnc1RvRnVuY3Rpb24iLCJkZXNjcmliZSIsImVuZEV2ZW50IiwiZXZlbnRJZENvdW50ZXIiLCJldmVudE1ldGhvZHMiLCJmaW5kRGVwcyIsImZpbmRIYW5kbGVyTWV0aG9kcyIsImZsYXRNYXBfIiwiZm9ybWVyIiwiaW5pdGlhbEV2ZW50IiwiaXNGaWVsZEtleSIsImlzT2JzZXJ2YWJsZSIsImxhdHRlciIsImxpZnRDYWxsYmFjayIsIm1ha2VGdW5jdGlvbiIsIm1ha2VGdW5jdGlvbkFyZ3MiLCJtYWtlRnVuY3Rpb25fIiwibWFrZU9ic2VydmFibGUiLCJtYWtlU3Bhd25lciIsIm5leHRFdmVudCIsIm5vcCIsInBhcnRpYWxseUFwcGxpZWQiLCJyZWN1cnNpb25EZXB0aCIsInJlZiIsInJlZ2lzdGVyT2JzIiwic3B5cyIsInRvQ29tYmluYXRvciIsInRvRXZlbnQiLCJ0b0ZpZWxkRXh0cmFjdG9yIiwidG9GaWVsZEtleSIsInRvT3B0aW9uIiwidG9TaW1wbGVFeHRyYWN0b3IiLCJ2YWx1ZUFuZEVuZCIsIndpdGhEZXNjIiwid2l0aE1ldGhvZENhbGxTdXBwb3J0IiwiaGFzUHJvcCIsImhhc093blByb3BlcnR5IiwiY2hpbGQiLCJwYXJlbnQiLCJjdG9yIiwiX19zdXBlcl9fIiwiYmluZCIsImZuIiwibWUiLCJ0b1N0cmluZyIsInhzIiwibWVzc2FnZSIsImNvbmRpdGlvbiIsImlzRnVuY3Rpb24iLCJhcmdzIiwibGVuMSIsImluZGV4V2hlcmUiLCJoZWFkIiwiYWx3YXlzIiwiZW1wdHkiLCJ0YWlsIiwiZmlsdGVyZWQiLCJyZXN1bHRzIiwiZWFjaCIsInRvQXJyYXkiLCJjb250YWlucyIsImxhc3QiLCJhbGwiLCJhbnkiLCJ3aXRob3V0IiwicmVtb3ZlIiwiZm9sZCIsInNlZWQiLCJmbGF0TWFwIiwieXMiLCJjb25jYXQiLCJjYWNoZWQiLCJleCIsImludGVybmFscyIsIl9lcnJvciIsImFmdGVyVHJhbnNhY3Rpb24iLCJhZnRlcnMiLCJhZnRlcnNJbmRleCIsImN1cnJlbnRFdmVudElkIiwiZmx1c2giLCJmbHVzaERlcHNPZiIsImZsdXNoV2FpdGVycyIsImhhc1dhaXRlcnMiLCJpblRyYW5zYWN0aW9uIiwicm9vdEV2ZW50Iiwid2FpdGVyT2JzIiwid2FpdGVycyIsIndoZW5Eb25lV2l0aCIsIndyYXBwZWRTdWJzY3JpYmUiLCJvYnMiLCJvYnNXYWl0ZXJzIiwib2JzSWQiLCJkZXAiLCJkZXBzIiwiaW50ZXJuYWxEZXBzIiwiYWZ0ZXIiLCJzaW5rIiwiZG9VbnN1YiIsInNob3VsZFVuc3ViIiwidW5zdWIiLCJ1bnN1YmQiLCJkaXNwYXRjaGVyIiwic3Vic2NyaWJlIiwicmVwbHkiLCJub01vcmUiLCJvYnMxIiwic3luYyIsImxhenkxIiwibGF6eSIsInF1ZXVlIiwibWFya0VuZGVkIiwiZW5kZWQiLCJjb25zdW1lIiwibWF5SGF2ZSIsImhhc0F0TGVhc3QiLCJmbGF0dGVuIiwic3VwZXJDbGFzcyIsInNoaWZ0IiwidmFsdWVzIiwiaXNUcmlnZ2VyIiwiZnJvbU9ic2VydmFibGUiLCJjb250ZXh0MSIsIm1ldGhvZDEiLCJhcmdzMSIsIm1ldGhvZCIsImRlc2MiLCJ3cmFwcGVkIiwibWV0aG9kTmFtZSIsImFwcGxpZWQiLCJmaWVsZFZhbHVlIiwicGFydEZ1bmNzIiwicGFydHMiLCJzcGxpdCIsImNoYXJBdCIsInNhbXBsZWQiLCJzYW1wbGVkQnkiLCJhcmciLCJsZWZ0IiwicmlnaHQiLCJ2YWx1ZTEiLCJnZXRPckVsc2UiLCJpc0RlZmluZWQiLCJpbnNwZWN0IiwibW9yZSIsImlzRXZlbnQiLCJpc0VuZCIsImlzSW5pdGlhbCIsImlzTmV4dCIsImlzRXJyb3IiLCJoYXNWYWx1ZSIsImxvZyIsInZhbHVlRiIsImVhZ2VyIiwidmFsdWVJbnRlcm5hbCIsImZtYXAiLCJ0b05leHQiLCJlcnJvciIsImRlc2MxIiwiaW5pdGlhbERlc2MiLCJzdWJzY3JpYmVJbnRlcm5hbCIsIm9uVmFsdWUiLCJvblZhbHVlcyIsIm9uRXJyb3IiLCJvbkVuZCIsIm5hbWUiLCJfbmFtZSIsIndpdGhEZXNjcmlwdGlvbiIsImFzc2lnbiIsInNzIiwidW5zdWJzY3JpYmUiLCJ1bnN1YnNjcmliZWQiLCJzdWJzY3JpcHRpb25zIiwic3RhcnRpbmciLCJzdWJzY3JpcHRpb24iLCJ1bnN1Yk1lIiwiX3RoaXMiLCJjb3VudCIsIl9zdWJzY3JpYmUiLCJfaGFuZGxlRXZlbnQiLCJoYW5kbGVFdmVudCIsInB1c2hpbmciLCJwcmV2RXJyb3IiLCJ1bnN1YlNyYyIsImhhc1N1YnNjcmliZXJzIiwicmVtb3ZlU3ViIiwicHVzaEl0IiwicHVzaFRvU3Vic2NyaXB0aW9ucyIsImUiLCJ1bnN1YnNjcmliZUZyb21Tb3VyY2UiLCJoYW5kbGVyIiwidG9Qcm9wZXJ0eSIsImluaXRWYWx1ZV8iLCJkaXNwIiwiaW5pdFZhbHVlIiwiaW5pdFNlbnQiLCJzZW5kSW5pdCIsInRvRXZlbnRTdHJlYW0iLCJ3aXRoSGFuZGxlciIsIm5ldmVyIiwid2hlbiIsIml4IiwibGVuMiIsIm5lZWRzQmFycmllciIsInBhdCIsInBhdFNvdXJjZXMiLCJwYXRzIiwicGF0dGVybnMiLCJyZXN1bHRTdHJlYW0iLCJzb3VyY2VzIiwidHJpZ2dlckZvdW5kIiwidXNhZ2UiLCJpeHMiLCJjYW5ub3RNYXRjaCIsImNhbm5vdFN5bmMiLCJlbmRzIiwibWF0Y2giLCJub25GbGF0dGVuZWQiLCJwYXJ0IiwidHJpZ2dlcnMiLCJsZW4zIiwicmVmMSIsInNvdXJjZSIsInRyaWdnZXIiLCJ1bnN1YkFsbCIsImZsdXNoTGF0ZXIiLCJmbHVzaFdoaWxlVHJpZ2dlcnMiLCJldmVudHMiLCJsZW40Iiwib2JzZXJ2YWJsZXMiLCJzdGF0ZSIsImNoZWNrT2JzZXJ2YWJsZSIsImdyb3VwU2ltdWx0YW5lb3VzIiwic3RyZWFtcyIsInByb3BlcnR5MSIsInByb3BlcnR5IiwiY3VycmVudCIsImN1cnJlbnRWYWx1ZVJvb3RJZCIsInByb3BlcnR5RW5kZWQiLCJtYXliZVN1YlNvdXJjZSIsImRpc3BhdGNoaW5nSWQiLCJ2YWxJZCIsImNoYW5nZXMiLCJjb25zdGFudCIsImZyb21CaW5kZXIiLCJiaW5kZXIiLCJldmVudFRyYW5zZm9ybWVyIiwic2hvdWxkVW5iaW5kIiwidW5iaW5kIiwidW5iaW5kZXIiLCJ1bmJvdW5kIiwibWV0aG9kUGFpciIsInBhaXIiLCJmcm9tRXZlbnRUYXJnZXQiLCJldmVudE5hbWUiLCJmcm9tRXZlbnQiLCJjb21iaW5lQXNBcnJheSIsInN0cmVhbSIsImNvbWJpbmVXaXRoIiwiY29tYmluZSIsIm90aGVyIiwiY29tYmluYXRvciIsIndpdGhTdGF0ZU1hY2hpbmUiLCJpbml0U3RhdGUiLCJmcm9tRiIsIm5ld1N0YXRlIiwib3V0cHV0Iiwib3V0cHV0cyIsInNraXBEdXBsaWNhdGVzIiwiaXNFcXVhbCIsInByZXYiLCJhd2FpdGluZyIsIm15VmFsdWVzIiwib3RoZXJWYWx1ZXMiLCJub3QiLCJhbmQiLCJvciIsInNjaGVkdWxlciIsInNldFRpbWVvdXQiLCJzZXRJbnRlcnZhbCIsImNsZWFySW50ZXJ2YWwiLCJjbGVhclRpbWVvdXQiLCJidWZmZXJXaXRoVGltZSIsImRlbGF5IiwiYnVmZmVyV2l0aFRpbWVPckNvdW50IiwiYnVmZmVyV2l0aENvdW50IiwiZmx1c2hPclNjaGVkdWxlIiwiYnVmZmVyIiwic2NoZWR1bGUiLCJvbklucHV0Iiwib25GbHVzaCIsImRlbGF5TXMiLCJzY2hlZHVsZWQiLCJ2YWx1ZXNUb1B1c2giLCJvbmNlIiwidW5zdWJMZWZ0IiwidW5zdWJSaWdodCIsImZsYXRNYXBGaXJzdCIsInJvb3QiLCJmaXJzdE9ubHkiLCJsaW1pdCIsImNoaWxkRGVwcyIsInJvb3REZXAiLCJjaGVja0VuZCIsImNoZWNrUXVldWUiLCJjb21wb3NpdGUiLCJzcGF3biIsIl9fIiwidW5zdWJSb290IiwiZmxhdE1hcFdpdGhDb25jdXJyZW5jeUxpbWl0IiwiZmxhdE1hcENvbmNhdCIsImxhdGVyIiwic2VuZGVyIiwiYnVmZmVyaW5nVGhyb3R0bGUiLCJtaW5pbXVtSW50ZXJ2YWwiLCJndWFyZGVkU2luayIsInN1YnNjcmliZUFsbCIsIm5ld1NpbmsiLCJzdWJzY3JpYmVJbnB1dCIsInVuc3Vic2NyaWJlSW5wdXQiLCJwbHVnIiwiZnJvbUNhbGxiYWNrIiwiZnJvbU5vZGVDYWxsYmFjayIsImNvbWJpbmVUZW1wbGF0ZSIsInRlbXBsYXRlIiwiYXBwbHlTdHJlYW1WYWx1ZSIsImNvbXBpbGUiLCJjb21waWxlVGVtcGxhdGUiLCJjb25zdGFudFZhbHVlIiwiZnVuY3MiLCJta0NvbnRleHQiLCJwdXNoQ29udGV4dCIsInNldFZhbHVlIiwiY3R4U3RhY2siLCJuZXdDb250ZXh0IiwicG9wQ29udGV4dCIsIlJlZ0V4cCIsInJvb3RDb250ZXh0IiwianVzdEluaXRWYWx1ZSIsIm1hcEVuZCIsInNraXBFcnJvcnMiLCJ0YWtlVW50aWwiLCJzdG9wcGVyIiwiZW5kTWFya2VyIiwiZGF0YSIsImZsYXRNYXBMYXRlc3QiLCJkZWxheUNoYW5nZXMiLCJkZWJvdW5jZSIsImRlYm91bmNlSW1tZWRpYXRlIiwiZGVjb2RlIiwiY2FzZXMiLCJzY2FuIiwiYWNjIiwiaW5pdEhhbmRsZWQiLCJyZXN1bHRQcm9wZXJ0eSIsImRpZmYiLCJzdGFydCIsInByZXZUdXBsZSIsInR1cGxlIiwiZG9BY3Rpb24iLCJkb0Vycm9yIiwiZG9Mb2ciLCJlbmRPbkVycm9yIiwiZXJyb3JzIiwiZnJvbVByb21pc2UiLCJwcm9taXNlIiwiYWJvcnQiLCJ0aGVuIiwibWFwRXJyb3IiLCJmbGF0TWFwRXJyb3IiLCJzYW1wbGVyIiwic2FtcGxlclNvdXJjZSIsInRoaXNTb3VyY2UiLCJzYW1wbGUiLCJpbnRlcnZhbCIsInJlZHVjZSIsImZyb21Qb2xsIiwicG9sbCIsImdyb3VwQnkiLCJrZXlGIiwibGltaXRGIiwibGltaXRlZCIsInNpbWlsYXIiLCJmcm9tQXJyYXkiLCJwdXNoTmVlZGVkIiwiaG9sZFdoZW4iLCJ2YWx2ZSIsImJ1ZmZlcmVkVmFsdWVzIiwib25Ib2xkIiwiZW5kSWZCb3RoRW5kZWQiLCJzdWJzY3JpYmVkIiwidG9TZW5kIiwiJCIsImFzRXZlbnRTdHJlYW0iLCJzZWxlY3RvciIsImpRdWVyeSIsIlplcHRvIiwibWVyZ2UiLCJtZXJnZUFsbCIsInNpbmtzIiwic21hcnRTaW5rIiwidW5zdWJCb3RoIiwicmVwZWF0ZWRseSIsInJlcGVhdCIsImdlbmVyYXRvciIsImZsYWciLCJzdWJzY3JpYmVOZXh0IiwicmV0cnkiLCJmaW5pc2hlZCIsImlzUmV0cnlhYmxlIiwibWF4UmV0cmllcyIsInJldHJpZXMiLCJwYXVzZSIsInZhbHVlU3RyZWFtIiwicmV0cmllc0RvbmUiLCJzZXF1ZW50aWFsbHkiLCJza2lwIiwidGFrZSIsInNraXBVbnRpbCIsInN0YXJ0ZXIiLCJzdGFydGVkIiwic2tpcFdoaWxlIiwib2siLCJzbGlkaW5nV2luZG93IiwibWluVmFsdWVzIiwic3B5IiwicnVubmluZyIsInN0YXJ0V2l0aCIsInRha2VXaGlsZSIsImxhdGVCaW5kRmlyc3QiLCJGdW5jdGlvbiIsInppcEFzQXJyYXkiLCJ6aXBXaXRoIiwiemlwIiwiZmlyc3QiLCJsYXN0RXZlbnQiLCJmaXJzdFRvUHJvbWlzZSIsIlByb21pc2VDdHIiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsInRvUHJvbWlzZSIsImhhc093biIsInRvU3RyIiwiaXNQbGFpbk9iamVjdCIsImhhc19vd25fY29uc3RydWN0b3IiLCJoYXNfaXNfcHJvcGVydHlfb2ZfbWV0aG9kIiwiY29weUlzQXJyYXkiLCJkZWVwIiwiZGVzY3JpcHRpb24iLCJhdXRob3IiLCJlbWFpbCIsInVybCIsImtleXdvcmRzIiwibWFpbiIsImVuZ2luZXMiLCJub2RlIiwicmVwb3NpdG9yeSIsImJ1Z3MiLCJsaWNlbnNlcyIsImRldkRlcGVuZGVuY2llcyIsImdydW50IiwiZ3J1bnQtY29udHJpYi1qc2hpbnQiLCJncnVudC1jb250cmliLW5vZGV1bml0IiwiZ3J1bnQtY29udHJpYi11Z2xpZnkiLCJncnVudC1jb250cmliLXdhdGNoIiwiZ3J1bnQtYnJvd3NlcmlmeSIsImdydW50LWNvbnRyaWItY29uY2F0IiwiZGVwZW5kZW5jaWVzIiwicG9seS1kZWNvbXAiLCJob21lcGFnZSIsIl9pZCIsInNoYXN1bSIsInRhcmJhbGwiLCJfZnJvbSIsIl9ucG1WZXJzaW9uIiwiX25wbVVzZXIiLCJtYWludGFpbmVycyIsImRpcmVjdG9yaWVzIiwiX3NoYXN1bSIsIl9yZXNvbHZlZCIsInJlcGxhY2VIb2xkZXJzIiwicGxhY2Vob2xkZXIiLCJyZXNJbmRleCIsIlBMQUNFSE9MREVSIiwiaXNPYmplY3RMaWtlIiwiZ2V0TmF0aXZlIiwiaXNOYXRpdmUiLCJpc0xlbmd0aCIsIk1BWF9TQUZFX0lOVEVHRVIiLCJpc09iamVjdCIsIm9ialRvU3RyaW5nIiwiZnVuY1RhZyIsInJlSXNOYXRpdmUiLCJ0ZXN0IiwiZm5Ub1N0cmluZyIsInJlSXNIb3N0Q3RvciIsImFycmF5VGFnIiwib2JqZWN0UHJvdG8iLCJyZXBsYWNlIiwibmF0aXZlSXNBcnJheSIsImV4cGxvc2lvbnMiLCJjcmVhdGVkIiwiaW5pdGlhbEJ1bGxldCIsInlPZmZzZXQiLCJ0aWNrc0xpdmVkIiwiZXhwbG9kZWQiLCJ1cGRhdGVCdWxsZXQiLCJidWxsZXQiLCJfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uIiwiX2RpZEl0ZXJhdG9yRXJyb3IiLCJfaXRlcmF0b3JFcnJvciIsIl9zdGVwIiwiX2l0ZXJhdG9yIiwiX3N0ZXAkdmFsdWUiLCJ1cGRhdGVkQnVsbGV0cyIsIkFMSVZFX1RJTUUiLCJuZXdCdWxsZXRzIiwiY3JlYXRlZEJ1bGxldHMiLCJzaG9vdCIsInJhbmRvbUdlbmVyYXRvciIsInJhbmRvbSIsInJhbmRvbUZuIiwidG9PYmplY3QiLCJfbGVuIiwia2V5cyIsIl9rZXkiLCJfbGVuMiIsIl9rZXkyIiwiX2xvZGFzaFppcG9iamVjdDIiLCJjbGFtcCIsIm1lbW9pemVBcmdzIiwibGFzdEFyZ3VtZW50IiwiYXJndW1lbnQiLCJkZWdyZWVzIiwicmFkIiwiZ2V0SWQiLCJzdG9yZWRJZCIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJzdWJzdHIiLCJzZXRJdGVtIiwibW9kIiwiY3JlYXRlQ29sbGlzaW9uRGlzcGF0Y2hlciIsImNvbGxpc2lvbkhhbmRsZXJzIiwiX2xvZGFzaFppcG9iamVjdCIsIl9kZWdyZWVzUmFkaWFucyIsIl9kZWdyZWVzUmFkaWFuczIiLCJyYWRpYW5zIiwiUG9pbnQiLCJsZWZ0T24iLCJyaWdodE9uIiwidG1wUG9pbnQxIiwidG1wUG9pbnQyIiwiY29sbGluZWFyIiwidGhyZXNob2xkQW5nbGUiLCJhYiIsImJjIiwibWFnQSIsIm1hZ0IiLCJhY29zIiwic3FkaXN0IiwiZHgiLCJkeSIsIlNjYWxhciIsInByZWNpc2lvbiIsImZyaWN0aW9uRXF1YXRpb25zIiwiZW5hYmxlRnJpY3Rpb24iLCJlbmFibGVkRXF1YXRpb25zIiwic3VyZmFjZVZlbG9jaXR5IiwiY29udGFjdEVxdWF0aW9uUG9vbCIsImZyaWN0aW9uRXF1YXRpb25Qb29sIiwiZnJpY3Rpb25TdGlmZm5lc3MiLCJmcmljdGlvblJlbGF4YXRpb24iLCJlbmFibGVGcmljdGlvblJlZHVjdGlvbiIsImNvbGxpZGluZ0JvZGllc0xhc3RTdGVwIiwiVHVwbGVEaWN0aW9uYXJ5IiwiY29udGFjdFNraW5TaXplIiwic2V0Q29udmV4VG9DYXBzdWxlU2hhcGVNaWRkbGUiLCJjb252ZXhTaGFwZSIsImNhcHN1bGVTaGFwZSIsInBvaW50SW5Db252ZXgiLCJjb252ZXhPZmZzZXQiLCJjb252ZXhBbmdsZSIsIndvcmxkVmVydGV4MCIsInBpY193b3JsZFZlcnRleDAiLCJ3b3JsZFZlcnRleDEiLCJwaWNfd29ybGRWZXJ0ZXgxIiwicjAiLCJwaWNfcjAiLCJyMSIsInBpY19yMSIsImxhc3RDcm9zcyIsInYxIiwiY3Jvc3MiLCJ5QXhpcyIsInRtcDEiLCJ0bXAyIiwidG1wMyIsInRtcDQiLCJ0bXA1IiwidG1wNiIsInRtcDciLCJ0bXA4IiwidG1wOSIsInRtcDEwIiwidG1wMTEiLCJ0bXAxMiIsInRtcDEzIiwidG1wMTQiLCJ0bXAxNSIsInRtcDE2IiwidG1wMTciLCJ0bXAxOCIsInRtcEFycmF5IiwiYm9kaWVzT3ZlcmxhcF9zaGFwZVBvc2l0aW9uQSIsImJvZGllc092ZXJsYXBfc2hhcGVQb3NpdGlvbkIiLCJzaGFwZVBvc2l0aW9uQSIsInNoYXBlUG9zaXRpb25CIiwiTnNoYXBlc2kiLCJOc2hhcGVzaiIsImNvbGxpZGVkTGFzdFN0ZXAiLCJjZSIsImZlIiwiY3JlYXRlQ29udGFjdEVxdWF0aW9uIiwiY3JlYXRlRnJpY3Rpb25FcXVhdGlvbiIsImNyZWF0ZUZyaWN0aW9uRnJvbUNvbnRhY3QiLCJjcmVhdGVGcmljdGlvbkZyb21BdmVyYWdlIiwibnVtQ29udGFjdHMiLCJpbnZOdW1Db250YWN0cyIsImNvbnZleExpbmUiLCJjb252ZXhCb2R5IiwibGluZUJvZHkiLCJsaW5lU2hhcGUiLCJsaW5lT2Zmc2V0IiwibGluZUFuZ2xlIiwianVzdFRlc3QiLCJsaW5lQm94IiwiYm94Qm9keSIsImJveFNoYXBlIiwiYm94T2Zmc2V0IiwiYm94QW5nbGUiLCJjb252ZXhDYXBzdWxlX3RlbXBSZWN0IiwiY29udmV4Q2Fwc3VsZV90ZW1wVmVjIiwiY29udmV4Q2Fwc3VsZSIsImNvbnZleFBvc2l0aW9uIiwiY2Fwc3VsZUJvZHkiLCJjYXBzdWxlUG9zaXRpb24iLCJjYXBzdWxlQW5nbGUiLCJjaXJjbGVQb3MiLCJyZXN1bHQxIiwiY2lyY2xlQ29udmV4IiwicmVzdWx0MiIsImNvbnZleENvbnZleCIsImxpbmVDYXBzdWxlIiwibGluZVBvc2l0aW9uIiwiY2Fwc3VsZUNhcHN1bGVfdGVtcFZlYzEiLCJjYXBzdWxlQ2Fwc3VsZV90ZW1wVmVjMiIsImNhcHN1bGVDYXBzdWxlX3RlbXBSZWN0MSIsImNhcHN1bGVDYXBzdWxlIiwic2kiLCJzaiIsImVuYWJsZUZyaWN0aW9uQmVmb3JlIiwiY2lyY2xlUG9zaSIsImNpcmNsZVBvc2oiLCJjaXJjbGVDaXJjbGUiLCJyZWN0IiwibGluZUxpbmUiLCJwb3NpdGlvbkEiLCJhbmdsZUEiLCJwb3NpdGlvbkIiLCJhbmdsZUIiLCJwbGFuZUxpbmUiLCJwbGFuZUJvZHkiLCJwbGFuZVNoYXBlIiwicGxhbmVPZmZzZXQiLCJwbGFuZUFuZ2xlIiwid29ybGRWZXJ0ZXgwMSIsIndvcmxkVmVydGV4MTEiLCJ3b3JsZEVkZ2UiLCJ3b3JsZEVkZ2VVbml0Iiwid29ybGROb3JtYWwiLCJ3b3JsZFRhbmdlbnQiLCJwYXJ0aWNsZUNhcHN1bGUiLCJwYXJ0aWNsZUJvZHkiLCJwYXJ0aWNsZVNoYXBlIiwicGFydGljbGVQb3NpdGlvbiIsInBhcnRpY2xlQW5nbGUiLCJjaXJjbGVMaW5lIiwiY2lyY2xlQm9keSIsImNpcmNsZVNoYXBlIiwiY2lyY2xlT2Zmc2V0IiwiY2lyY2xlQW5nbGUiLCJsaW5lUmFkaXVzIiwiY2lyY2xlUmFkaXVzIiwib3J0aG9EaXN0IiwibGluZVRvQ2lyY2xlT3J0aG9Vbml0IiwicHJvamVjdGVkUG9pbnQiLCJjZW50ZXJEaXN0IiwibGluZVRvQ2lyY2xlIiwibGluZUVuZFRvTGluZVJhZGl1cyIsInJhZGl1c1N1bSIsInBvczAiLCJwb3MxIiwiY2lyY2xlQ2Fwc3VsZSIsIndvcmxkVmVydGV4IiwiY2xvc2VzdEVkZ2VQcm9qZWN0ZWRQb2ludCIsImNhbmRpZGF0ZSIsImNhbmRpZGF0ZURpc3QiLCJtaW5DYW5kaWRhdGUiLCJmb3VuZCIsIm1pbkNhbmRpZGF0ZURpc3RhbmNlIiwiY2FuZGlkYXRlRGlzdGFuY2UiLCJsb2NhbFZlcnRleCIsInBhcnRpY2xlQ29udmV4IiwicGFydGljbGVPZmZzZXQiLCJjb252ZXhUb3BhcnRpY2xlIiwibWluRWRnZU5vcm1hbCIsIm9mZnNldEEiLCJvZmZzZXRCIiwicmFkaXVzQSIsInJhZGl1c0IiLCJwbGFuZUNvbnZleCIsIm51bVJlcG9ydGVkIiwicGFydGljbGVQbGFuZSIsImNpcmNsZVBhcnRpY2xlIiwicGxhbmVDYXBzdWxlX3RtcENpcmNsZSIsInBsYW5lQ2Fwc3VsZV90bXAxIiwicGxhbmVDYXBzdWxlX3RtcDIiLCJwbGFuZUNhcHN1bGUiLCJjYXBzdWxlT2Zmc2V0IiwiZW5kMSIsImVuZDIiLCJjaXJjbGUiLCJudW1Db250YWN0czEiLCJjaXJjbGVQbGFuZSIsIm51bUNvbnRhY3RzMiIsIm51bVRvdGFsIiwicGxhbmVUb0NpcmNsZSIsImNvbnRhY3QiLCJzZXBBeGlzIiwiZmluZFNlcGFyYXRpbmdBeGlzIiwiY2xvc2VzdEVkZ2UxIiwiZ2V0Q2xvc2VzdEVkZ2UiLCJjbG9zZXN0RWRnZTIiLCJjbG9zZXN0RWRnZUEiLCJjbG9zZXN0RWRnZUIiLCJpbnNpZGVOdW1FZGdlcyIsInBjb2FfdG1wMSIsInByb2plY3RDb252ZXhPbnRvQXhpcyIsImZzYV90bXAxIiwiZnNhX3RtcDIiLCJmc2FfdG1wMyIsImZzYV90bXA0IiwiZnNhX3RtcDUiLCJmc2FfdG1wNiIsImMxIiwib2Zmc2V0MSIsImFuZ2xlMSIsImMyIiwib2Zmc2V0MiIsImFuZ2xlMiIsIm1heERpc3QiLCJvdmVybGFwIiwiZWRnZSIsInNwYW4xIiwic3BhbjIiLCJzd2FwcGVkIiwiZ2NlX3RtcDEiLCJnY2VfdG1wMiIsImdjZV90bXAzIiwiZmxpcCIsImNsb3Nlc3RFZGdlIiwibWF4RG90IiwiY2lyY2xlSGVpZ2h0ZmllbGRfY2FuZGlkYXRlIiwiY2lyY2xlSGVpZ2h0ZmllbGRfZGlzdCIsImNpcmNsZUhlaWdodGZpZWxkX3YwIiwiY2lyY2xlSGVpZ2h0ZmllbGRfdjEiLCJjaXJjbGVIZWlnaHRmaWVsZF9taW5DYW5kaWRhdGUiLCJjaXJjbGVIZWlnaHRmaWVsZF93b3JsZE5vcm1hbCIsImNpcmNsZUhlaWdodGZpZWxkX21pbkNhbmRpZGF0ZU5vcm1hbCIsImNpcmNsZUhlaWdodGZpZWxkIiwiaGZCb2R5IiwiaGZTaGFwZSIsImhmUG9zIiwiaGZBbmdsZSIsImhlaWdodHMiLCJlbGVtZW50V2lkdGgiLCJtaW5DYW5kaWRhdGVOb3JtYWwiLCJpZHhBIiwiaWR4QiIsImNlaWwiLCJjb252ZXhIZWlnaHRmaWVsZF92MCIsImNvbnZleEhlaWdodGZpZWxkX3YxIiwiY29udmV4SGVpZ2h0ZmllbGRfdGlsZVBvcyIsImNvbnZleEhlaWdodGZpZWxkX3RlbXBDb252ZXhTaGFwZSIsImNvbnZleEhlaWdodGZpZWxkIiwiY29udmV4UG9zIiwidGlsZVBvcyIsInRpbGVDb252ZXgiLCJ0aWxlSGVpZ2h0IiwiYXhpc0xpc3QiLCJheGlzSW5kZXgiLCJfYWRkQm9keUhhbmRsZXIiLCJfcmVtb3ZlQm9keUhhbmRsZXIiLCJzb3J0QXhpc0xpc3QiLCJzb3J0TGlzdCIsImFhYmJRdWVyeSIsImxvY2FsQW5jaG9yQSIsImxvY2FsQW5jaG9yQiIsIndvcmxkQW5jaG9yQSIsIndvcmxkQW5jaG9yQiIsInNldE1heEZvcmNlIiwidXBwZXJMaW1pdEVuYWJsZWQiLCJ1cHBlckxpbWl0IiwibG93ZXJMaW1pdEVuYWJsZWQiLCJsb3dlckxpbWl0Iiwibm9ybWFsRXF1YXRpb24iLCJ2aW9sYXRpbmciLCJnZXRNYXhGb3JjZSIsInJhdGlvIiwibWF4VG9ycXVlIiwic2V0TWF4VG9ycXVlIiwic2V0UmF0aW8iLCJ0b3JxdWUiLCJnZXRNYXhUb3JxdWUiLCJsb2NhbEFuZ2xlQiIsInJvdCIsImciLCJsb2NhbE9mZnNldEIiLCJ4QXhpcyIsImxvY2FsQXhpc0EiLCJ0cmFucyIsImdnIiwidXBkYXRlSmFjb2JpYW4iLCJkaXNhYmxlUm90YXRpb25hbExvY2siLCJSb3RhdGlvbmFsTG9ja0VxdWF0aW9uIiwidXBwZXJMaW1pdEVxdWF0aW9uIiwibG93ZXJMaW1pdEVxdWF0aW9uIiwibW90b3JFcXVhdGlvbiIsIm1vdG9yRW5hYmxlZCIsIm1vdG9yU3BlZWQiLCJ3b3JsZEF4aXNBIiwib3JpZW50ZWRBbmNob3JBIiwib3JpZW50ZWRBbmNob3JCIiwicmVsUG9zaXRpb24iLCJlbmFibGVNb3RvciIsImRpc2FibGVNb3RvciIsInNldExpbWl0cyIsImxvd2VyIiwidXBwZXIiLCJwaXZvdEEiLCJwaXZvdEIiLCJ3b3JsZFBpdm90IiwibG9jYWxQaXZvdEEiLCJsb2NhbFBpdm90QiIsIndvcmxkUGl2b3RBIiwid29ybGRQaXZvdEIiLCJyZWxBbmdsZSIsIm1vdG9ySXNFbmFibGVkIiwic2V0TW90b3JTcGVlZCIsInNwZWVkIiwiZ2V0TW90b3JTcGVlZCIsIndvcmxkVmVjdG9yQSIsIndvcmxkVmVjdG9yQiIsIm1hdGVyaWFsQSIsIm1hdGVyaWFsQiIsInNldFdvcmxkQW5jaG9yQSIsInNldFdvcmxkQW5jaG9yQiIsImdldFdvcmxkQW5jaG9yQSIsImdldFdvcmxkQW5jaG9yQiIsIndvcmxkRGlzdGFuY2UiLCJyZXN0TGVuZ3RoIiwiYXBwbHlGb3JjZV9yIiwiYXBwbHlGb3JjZV9yX3VuaXQiLCJhcHBseUZvcmNlX3UiLCJhcHBseUZvcmNlX2YiLCJhcHBseUZvcmNlX3dvcmxkQW5jaG9yQSIsImFwcGx5Rm9yY2Vfd29ybGRBbmNob3JCIiwiYXBwbHlGb3JjZV9yaSIsImFwcGx5Rm9yY2VfcmoiLCJhcHBseUZvcmNlX3RtcCIsInJfdW5pdCIsInJsZW4iLCJyaV94X2YiLCJyal94X2YiLCJyZXN0QW5nbGUiLCJpbnRlcnNlY3RDYXBzdWxlX2hpdFBvaW50V29ybGQiLCJpbnRlcnNlY3RDYXBzdWxlX25vcm1hbCIsImludGVyc2VjdENhcHN1bGVfbDAiLCJpbnRlcnNlY3RDYXBzdWxlX2wxIiwiaW50ZXJzZWN0Q2Fwc3VsZV91bml0X3kiLCJoaXRQb2ludFdvcmxkIiwibDAiLCJoYWxmTGVuIiwiZGlhZ29uYWxMZW5ndGhTcXVhcmVkIiwicmF5Y2FzdF9ub3JtYWwiLCJyYXljYXN0X2wwIiwicmF5Y2FzdF9sMSIsInJheWNhc3RfdW5pdF95IiwiaXRlcmF0aW9ucyIsInRvbGVyYW5jZSIsImFycmF5U3RlcCIsImxhbWJkYSIsIkJzIiwiaW52Q3MiLCJ1c2VaZXJvUkhTIiwiZnJpY3Rpb25JdGVyYXRpb25zIiwidXNlZEl0ZXJhdGlvbnMiLCJzZXRBcnJheVplcm8iLCJtYXhJdGVyIiwibWF4RnJpY3Rpb25JdGVyIiwiTmVxIiwidG9sU3F1YXJlZCIsIk5ib2RpZXMiLCJkZWx0YWxhbWJkYVRvdCIsIml0ZXJhdGVFcXVhdGlvbiIsInVwZGF0ZU11bHRpcGxpZXJzIiwiaW52RHQiLCJpbnZDIiwibGFtYmRhaiIsIkdXbGFtYmRhIiwibGFtYmRhal9wbHVzX2RlbHRhbGFtYmRhIiwiZXF1YXRpb24iLCJPdmVybGFwS2VlcGVyUmVjb3JkIiwiZ2V0S2V5IiwiZ2V0QnlLZXkiLCJkaWN0IiwiSXNsYW5kIiwiYm9keUlkcyIsIklzbGFuZE5vZGUiLCJuZWlnaGJvcnMiLCJ2aXNpdGVkIiwiX2V2ZW50cyIsIl9tYXhMaXN0ZW5lcnMiLCJpc051bWJlciIsImlzVW5kZWZpbmVkIiwiZGVmYXVsdE1heExpc3RlbmVycyIsInNldE1heExpc3RlbmVycyIsImlzTmFOIiwiZXIiLCJhZGRMaXN0ZW5lciIsIm5ld0xpc3RlbmVyIiwid2FybmVkIiwidHJhY2UiLCJyZW1vdmVMaXN0ZW5lciIsImZpcmVkIiwibGlzdCIsInJlbW92ZUFsbExpc3RlbmVycyIsInJldCIsImxpc3RlbmVyQ291bnQiLCJlbWl0dGVyIiwiQW5pbWF0aW9uRnJhbWUiLCJmcmFtZVJhdGUiLCJ1c2VOYXRpdmUiLCJfZnJhbWVMZW5ndGgiLCJfaXNDdXN0b21GcmFtZVJhdGUiLCJfdGltZW91dElkIiwiX2NhbGxiYWNrcyIsIl9sYXN0VGlja1RpbWUiLCJfdGlja0NvdW50ZXIiLCJuYXRpdmVJbXBsIiwicGVyZm9ybWFuY2UiLCJuYXRpdmVSZXF1ZXN0IiwicmVxdWVzdCIsIm5hdGl2ZUNhbmNlbCIsImNhbmNlbCIsInNoaW0iLCJhbmltYXRpb25GcmFtZSIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwic2VsZiIsInN1cHBvcnRlZCIsImNhbGxiYWNrcyIsInRvcCIsImNhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZSIsInZlbmRvcnMiLCJuYXZpZ2F0aW9uU3RhcnQiLCJQZXJmb3JtYW5jZVRpbWluZyIsIkF1ZGlvT2JqZWN0Iiwid2hlbkxvYWRlZCIsImNiIiwiY2hlY2siLCJvIiwibm9vcCIsIkVtaXR0ZXIiLCJsb2FkIiwiQXVkaW9UYWdQbGF5ZXIiLCJXZWJBdWRpb1BsYXllciIsIkF1ZGlvQ29udGV4dCIsIndlYmtpdEF1ZGlvQ29udGV4dCIsInBsYXkiLCJlbnVtZXJhYmxlIiwiZHVyYXRpb25PZiIsImF1ZGlvcyIsImF1ZGlvIiwiQXVkaW8iLCJjdXJyZW50VGltZSIsImxvYWRBbGwiLCJmaWxlcyIsImZpbGUiLCJkdXJhdGlvbiIsIkFkdWlvQ29udGV4dCIsInBlbmRpbmciLCJidWZmZXJzIiwidGltZXJzIiwib2NiIiwib25sb2FkIiwiWE1MSHR0cFJlcXVlc3QiLCJvcGVuIiwicmVzcG9uc2VUeXBlIiwiZGVjb2RlQXVkaW9EYXRhIiwicmVzcG9uc2UiLCJzZW5kIiwiY3JlYXRlQnVmZmVyU291cmNlIiwiY29ubmVjdCIsImRlc3RpbmF0aW9uIiwibm90ZU9uIiwib25lbmRlZCIsIml0ZW0iLCJmcHMiLCJyYXRlIiwiZGVjYXkiLCJldmVyeSIsInRpY2tzIiwiaW5oZXJpdHMiLCJ0aWNrIiwicHJvdG8iLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiY3JlYXRlUGFydGlhbCIsInBhcnRpYWxGdW5jIiwicmVzdFBhcmFtIiwiZnVuYyIsInBhcnRpYWxzIiwiaG9sZGVycyIsImNyZWF0ZVdyYXBwZXIiLCJQQVJUSUFMX1JJR0hUX0ZMQUciLCJwYXJ0aWFsUmlnaHQiLCJjb21wb3NlQXJncyIsImhvbGRlcnNMZW5ndGgiLCJhcmdzSW5kZXgiLCJhcmdzTGVuZ3RoIiwibmF0aXZlTWF4IiwibGVmdEluZGV4IiwibGVmdExlbmd0aCIsImNvbXBvc2VBcmdzUmlnaHQiLCJob2xkZXJzSW5kZXgiLCJyaWdodEluZGV4IiwicmlnaHRMZW5ndGgiLCJjcmVhdGVCaW5kV3JhcHBlciIsInRoaXNBcmciLCJ3cmFwcGVyIiwiQ3RvciIsImNyZWF0ZUN0b3JXcmFwcGVyIiwidGhpc0JpbmRpbmciLCJiYXNlQ3JlYXRlIiwiY3JlYXRlSHlicmlkV3JhcHBlciIsImJpdG1hc2siLCJwYXJ0aWFsc1JpZ2h0IiwiaG9sZGVyc1JpZ2h0IiwiYXJnUG9zIiwiYXJ5IiwiYXJpdHkiLCJpc0N1cnJ5IiwiaXNDdXJyeVJpZ2h0IiwiYXJnc0hvbGRlcnMiLCJuZXdBcmdQb3MiLCJhcnJheUNvcHkiLCJuZXdBcml0eSIsIm5ld3NIb2xkZXJzIiwibmV3SG9sZGVyc1JpZ2h0IiwibmV3UGFydGlhbHMiLCJuZXdQYXJ0aWFsc1JpZ2h0IiwiUEFSVElBTF9GTEFHIiwiaXNDdXJyeUJvdW5kIiwiQklORF9GTEFHIiwiQklORF9LRVlfRkxBRyIsImlzQmluZCIsImlzQmluZEtleSIsInJlb3JkZXIiLCJpc0FyeSIsIkFSWV9GTEFHIiwiQ1VSUllfRkxBRyIsIkNVUlJZX0JPVU5EX0ZMQUciLCJDVVJSWV9SSUdIVF9GTEFHIiwiY3JlYXRlUGFydGlhbFdyYXBwZXIiLCJGVU5DX0VSUk9SX1RFWFQiLCJuZXdEYXRhIiwiaXNJbmRleCIsInJlSXNVaW50IiwiaW5kZXhlcyIsImFyckxlbmd0aCIsIm5hdGl2ZU1pbiIsIm9sZEFycmF5IiwicmVzdCIsIm90aGVyQXJncyIsInJhbmdlIiwiaXNJdGVyYXRlZUNhbGwiLCJuYXRpdmVDZWlsIiwiYmFzZVByb3BlcnR5IiwiaXNBcnJheUxpa2UiLCJnZXRMZW5ndGgiLCJpc0tleSIsInJlSXNQbGFpblByb3AiLCJyZUlzRGVlcFByb3AiLCJwYXRoS2V5IiwidG9QYXRoIiwibGFzdEluZGV4IiwibmVzdGVkIiwiYmFzZVRvU3RyaW5nIiwicmVQcm9wTmFtZSIsIm51bWJlciIsInF1b3RlIiwic3RyaW5nIiwicmVFc2NhcGVDaGFyIiwiemlwT2JqZWN0IiwicHJvcHMiLCJodWVGb3JIZWlnaHQiLCJjYW1lcmFQb3NpdGlvbiIsIm1vZGlmaWVyIiwiU0tZX0NPTE9SIiwiX3V0aWxzIiwiU1BBQ0VfQ09MT1IiLCJjcmVhdGVHcmFkaWVudCIsInRyYW5zbGF0aW9uIiwiZ3JhZGllbnQiLCJjcmVhdGVMaW5lYXJHcmFkaWVudCIsImNhbnZhc0luR2FtZSIsImFkZENvbG9yU3RvcCIsIl9yZW5kZXJVdGlscyIsInJlbmRlckJhY2tncm91bmRMYXllciIsImxheWVyIiwiZ3JvdW5kTGV2ZWwiLCJTQ0FMRURfR1JPVU5EX0xFVkVMIiwibmV4dE9mZnNldCIsInN0cm9rZVN0eWxlIiwiZmlsbFN0eWxlIiwibWF4SGVpZ2h0IiwibWluSGVpZ2h0Iiwic3BhY2VCZXR3ZWVuIiwicGFyYWxsYXgiLCJzYXZlIiwibGluZVdpZHRoIiwiYm91bmNlcyIsIlNDQUxFRF9XT1JMRF9XSURUSCIsInZhbCIsInRyYW5zbGF0aW9uT2Zmc2V0IiwidG90YWxUcmFuc2xhdGlvbiIsInRyYW5zbGF0ZSIsInN0YXJ0Qm91bmNlIiwiZW5kQm91bmNlIiwic3RhcnRGcm9tIiwic2VlZE9mZnNldCIsImVuZEhlaWdodCIsImJlemllckN1cnZlVG8iLCJmaWxsIiwic3Ryb2tlIiwicmVzdG9yZSIsInJlbmRlckdyb3VuZCIsIkdST1VORCIsInBpZWNlcyIsImRyYXdJbWFnZSIsInJlbmRlckNsb3VkcyIsImVsYXBzZWRUaW1lIiwiQ0xPVURfU0VFRCIsImJhc2UiLCJtYXhYIiwic3ByaXRlIiwiQ0xPVURTIiwiZGVwdGgiLCJvZmZzZXRSaWdodCIsIm9mZnNldExlZnQiLCJTQ0FMRURfV09STERfSEVJR0hUIiwiY2FudmFzWCIsImNhbnZhc1kiLCJyZW5kZXIiLCJmaWxsUmVjdCIsImxheWVycyIsIl9idWxsZXQiLCJjYW52YXNDb29yZGluYXRlcyIsIlNQUklURSIsIl9jcmF0ZSIsIkNSQVRFX1NQUklURSIsIm5ld0V4cGxvc2lvbnMiLCJfcmVmMiRib2R5JHBvc2l0aW9uIiwiYWxpdmVUaW1lIiwiX2xvZGFzaFNldCIsIl9sb2Rhc2hTZXQyIiwiX2xvZGFzaFBhcnRpYWxyaWdodCIsIl9sb2Rhc2hQYXJ0aWFscmlnaHQyIiwiZ2FtZUxvb3AiLCJsb29wIiwidGltZXN0YW1wIiwiZGVsdGFUaW1lIiwiX2FuaW1hdGlvbkZyYW1lIiwiX2FuaW1hdGlvbkZyYW1lMiIsImxhc3RUaW1lIiwiZGlmZmVyZW5jZSIsIl9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkIiwibmV3T2JqIiwiX3JlbmRlciIsIl9zb3VuZHMiLCJfZ2FtZUxvb3AiLCJfZ2FtZUxvb3AyIiwiX2lucHV0IiwiX3BsYXllciIsIl9leHBsb3Npb24iLCJlbmdpbmUiLCJncmF2aXR5IiwiYWRkQ29udGFjdE1hdGVyaWFsIiwiaW5wdXRTdGF0ZSIsImdldFN0YXRlIiwicGxheVNvdW5kcyIsIl9kZWZpbmVQcm9wZXJ0eSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiaW5pdGlhbFN0YXRlIiwidXAiLCJkb3duIiwiX2tleXMiLCJfYmFjb25qcyIsIl9iYWNvbmpzMiIsIl9leHRlbmQiLCJfZXh0ZW5kMiIsImtleURvd24kIiwia2V5Q29kZSIsImtleVVwJCIsImtleXNEb3duJCIsInNob290JCIsInNjYWxlWCIsInNjYWxlWSIsImFyYyIsInJvdGF0ZVBsYW5lIiwiZGVsdGFTcGVlZCIsIk1BWF9TUEVFRCIsImNyZWF0ZU5ld0J1bGxldHMiLCJfY29udGV4dCIsIktFWV9ST1RBVElPTiIsImRlbHRhQW5nbGUiLCJoYW5kbGVDb2xsaXNpb25zIiwiX2NyYXRlMiIsIk1hcCIsIl9iYWNrZ3JvdW5kUmVuZGVyIiwiX3BsYW5lUmVuZGVyIiwiX2J1bGxldFJlbmRlciIsIl9jcmF0ZVJlbmRlciIsInRpY2tlciIsIl9mcHMiLCJfZnBzMiIsIiRmcHMiLCJnZXRFbGVtZW50QnlJZCIsImZyYW1lcmF0ZSIsImlubmVySFRNTCIsInJvdW5kIiwiX2Jyb3dzZXJBdWRpbyIsIl9icm93c2VyQXVkaW8yIiwic2hvb3RTb3VuZCIsIiRtdXRlIiwiY2hlY2tlZCIsIkpTT04iLCJwYXJzZSIsIm11dGVkJCIsInNvdW5kQnVzJCIsImxpbmVJbnQiLCJhMSIsImIxIiwiYTIiLCJiMiIsImRldCIsInNlZ21lbnRzSW50ZXJzZWN0IiwiZGEiLCJkYiIsImdldEludGVyc2VjdGlvblBvaW50IiwiYXQiLCJjbGVhciIsImFwcGVuZCIsInBvbHkiLCJiciIsInJldmVyc2UiLCJpc1JlZmxleCIsInRtcExpbmUxIiwidG1wTGluZTIiLCJjYW5TZWUiLCJ0YXJnZXRQb2x5IiwiZ2V0Q3V0RWRnZXMiLCJ0bXBQb2x5IiwibkRpYWdzIiwiZWRnZXMiLCJjdXRFZGdlcyIsInBvbHlzIiwiY3V0RWRnZSIsInJlZmxleFZlcnRpY2VzIiwic3RlaW5lclBvaW50cyIsIm1heGxldmVsIiwibGV2ZWwiLCJ1cHBlckludCIsImxvd2VySW50IiwidXBwZXJEaXN0IiwibG93ZXJEaXN0IiwiY2xvc2VzdERpc3QiLCJ1cHBlckluZGV4IiwibG93ZXJJbmRleCIsImNsb3Nlc3RJbmRleCIsImxvd2VyUG9seSIsInVwcGVyUG9seSIsIk5jb2xsaWRpbmciLCJQb2x5SyIsIkdldEFyZWEiLCJ0Z3MiLCJhdmwiLCJhbCIsImkwIiwiaTEiLCJpMiIsImJ4IiwiYnkiLCJjeCIsImN5IiwiZWFyRm91bmQiLCJfY29udmV4IiwiX1BvaW50SW5UcmlhbmdsZSIsInB4IiwicHkiLCJ2MHgiLCJ2MHkiLCJ2MXgiLCJ2MXkiLCJ2MngiLCJ2MnkiLCJkb3QwMCIsImRvdDAxIiwiZG90MDIiLCJkb3QxMSIsImRvdDEyIiwiaW52RGVub20iLCJjaGFzc2lzQm9keSIsIndoZWVscyIsImdyb3VuZEJvZHkiLCJwcmVTdGVwQ2FsbGJhY2siLCJXaGVlbENvbnN0cmFpbnQiLCJ2ZWhpY2xlIiwiZm9yd2FyZEVxdWF0aW9uIiwic2lkZUVxdWF0aW9uIiwic3RlZXJWYWx1ZSIsImVuZ2luZUZvcmNlIiwic2V0U2lkZUZyaWN0aW9uIiwic2lkZUZyaWN0aW9uIiwibG9jYWxGb3J3YXJkVmVjdG9yIiwibG9jYWxQb3NpdGlvbiIsInNldEJyYWtlRm9yY2UiLCJhZGRUb1dvcmxkIiwid2hlZWwiLCJhZGRDb25zdHJhaW50IiwicmVtb3ZlRnJvbVdvcmxkIiwicmVtb3ZlQ29uc3RyYWludCIsImFkZFdoZWVsIiwid2hlZWxPcHRpb25zIiwid29ybGRWZWxvY2l0eSIsImdldFNwZWVkIiwidG1wVmVjIiwibWF4VmFsdWUiLCJtaW5WYWx1ZSIsInVwZGF0ZU1heE1pblZhbHVlcyIsImdldExpbmVTZWdtZW50IiwiZ2V0U2VnbWVudEluZGV4IiwiZ2V0Q2xhbXBlZFNlZ21lbnRJbmRleCIsImludGVyc2VjdEhlaWdodGZpZWxkX3dvcmxkTm9ybWFsIiwiaW50ZXJzZWN0SGVpZ2h0ZmllbGRfbDAiLCJpbnRlcnNlY3RIZWlnaHRmaWVsZF9sMSIsImludGVyc2VjdEhlaWdodGZpZWxkX2xvY2FsRnJvbSIsImludGVyc2VjdEhlaWdodGZpZWxkX2xvY2FsVG8iLCJsb2NhbEZyb20iLCJsb2NhbFRvIiwiSXNsYW5kTm9kZVBvb2wiLCJJc2xhbmRQb29sIiwiT3ZlcmxhcEtlZXBlciIsIm92ZXJsYXBwaW5nU2hhcGVzTGFzdFN0YXRlIiwib3ZlcmxhcHBpbmdTaGFwZXNDdXJyZW50U3RhdGUiLCJyZWNvcmRQb29sIiwiT3ZlcmxhcEtlZXBlclJlY29yZFBvb2wiLCJ0bXBEaWN0IiwidG1wQXJyYXkxIiwibGFzdE9iamVjdCIsInNldE92ZXJsYXBwaW5nIiwiZ2V0TmV3T3ZlcmxhcHMiLCJnZXREaWZmIiwiZ2V0RW5kT3ZlcmxhcHMiLCJkaWN0QSIsImRpY3RCIiwibGFzdERhdGEiLCJpc05ld092ZXJsYXAiLCJpZEEiLCJpZEIiLCJnZXROZXdCb2R5T3ZlcmxhcHMiLCJnZXRCb2R5RGlmZiIsImdldEVuZEJvZHlPdmVybGFwcyIsImFjY3VtdWxhdG9yIiwicmVjb3JkIiwiSXNsYW5kTWFuYWdlciIsIm5vZGVQb29sIiwiaXNsYW5kUG9vbCIsImlzbGFuZHMiLCJub2RlcyIsImdldFVudmlzaXRlZE5vZGUiLCJObm9kZXMiLCJ2aXNpdCIsImJkcyIsIk5lcXMiLCJiZnMiLCJuaSIsIm5qIiwic3ByaW5ncyIsImRpc2FibGVkQm9keUNvbGxpc2lvblBhaXJzIiwic29sdmVyIiwiaXNsYW5kTWFuYWdlciIsImZyaWN0aW9uR3Jhdml0eSIsInVzZVdvcmxkR3Jhdml0eUFzRnJpY3Rpb25HcmF2aXR5IiwidXNlRnJpY3Rpb25HcmF2aXR5T25aZXJvR3Jhdml0eSIsImJyb2FkcGhhc2UiLCJjb25zdHJhaW50cyIsImRlZmF1bHRNYXRlcmlhbCIsImRlZmF1bHRDb250YWN0TWF0ZXJpYWwiLCJsYXN0VGltZVN0ZXAiLCJhcHBseVNwcmluZ0ZvcmNlcyIsImFwcGx5R3Jhdml0eSIsInNvbHZlQ29uc3RyYWludHMiLCJzdGVwcGluZyIsImJvZGllc1RvQmVSZW1vdmVkIiwiaXNsYW5kU3BsaXQiLCJfY29uc3RyYWludElkQ291bnRlciIsIl9ib2R5SWRDb3VudGVyIiwicG9zdFN0ZXBFdmVudCIsImFkZEJvZHlFdmVudCIsInJlbW92ZUJvZHlFdmVudCIsImFkZFNwcmluZ0V2ZW50Iiwic3ByaW5nIiwiaW1wYWN0RXZlbnQiLCJjb250YWN0RXF1YXRpb24iLCJwb3N0QnJvYWRwaGFzZUV2ZW50IiwicGFpcnMiLCJzbGVlcE1vZGUiLCJOT19TTEVFUElORyIsImJlZ2luQ29udGFjdEV2ZW50IiwiZW5kQ29udGFjdEV2ZW50IiwicHJlU29sdmVFdmVudCIsIkJPRFlfU0xFRVBJTkciLCJJU0xBTkRfU0xFRVBJTkciLCJjb25zdHJhaW50IiwiY29udGFjdE1hdGVyaWFsIiwicmVtb3ZlQ29udGFjdE1hdGVyaWFsIiwiZ2V0Q29udGFjdE1hdGVyaWFsIiwiY21hdHMiLCJzdGVwX21nIiwieGl3IiwieGp3IiwidGltZVNpbmNlTGFzdENhbGxlZCIsIm1heFN1YlN0ZXBzIiwiaW50ZXJuYWxTdGVwIiwic3Vic3RlcHMiLCJlbmRPdmVybGFwcyIsIk5zcHJpbmdzIiwibnAiLCJtZyIsImdyYXZpdHlMZW4iLCJpZ25vcmVkUGFpcnMiLCJOY29uc3RyYWludHMiLCJOcmVzdWx0cyIsInJ1bk5hcnJvd3BoYXNlIiwiZXYiLCJnbGVuIiwiYWl3IiwiYWp3IiwicmVkdWNlZE1hc3MiLCJyZXNvbHZlciIsIm51bUZyaWN0aW9uQmVmb3JlIiwibnVtRnJpY3Rpb25FcXVhdGlvbnMiLCJzcGVlZFNxdWFyZWRCIiwic3BlZWRMaW1pdFNxdWFyZWRCIiwic3BlZWRTcXVhcmVkQSIsInNwZWVkTGltaXRTcXVhcmVkQSIsImFkZFNwcmluZyIsImV2dCIsInJlbW92ZVNwcmluZyIsImdldEJvZHlCeUlkIiwiZGlzYWJsZUJvZHlDb2xsaXNpb24iLCJlbmFibGVCb2R5Q29sbGlzaW9uIiwiY3MiLCJjbXMiLCJoaXRUZXN0X3RtcDEiLCJoaXRUZXN0X3RtcDIiLCJoaXRUZXN0IiwicGIiLCJwcyIsInBhIiwiTlMiLCJzZXRHbG9iYWxTdGlmZm5lc3MiLCJzZXRHbG9iYWxSZWxheGF0aW9uIiwidG1wQUFCQiIsImFkZFN0eWxlc1RvRG9tIiwic3R5bGVzIiwiZG9tU3R5bGUiLCJzdHlsZXNJbkRvbSIsInJlZnMiLCJhZGRTdHlsZSIsImxpc3RUb1N0eWxlcyIsIm5ld1N0eWxlcyIsImNzcyIsIm1lZGlhIiwic291cmNlTWFwIiwiY3JlYXRlU3R5bGVFbGVtZW50Iiwic3R5bGVFbGVtZW50IiwiZ2V0SGVhZEVsZW1lbnQiLCJzaW5nbGV0b24iLCJzdHlsZUluZGV4Iiwic2luZ2xldG9uQ291bnRlciIsInNpbmdsZXRvbkVsZW1lbnQiLCJhcHBseVRvU2luZ2xldG9uVGFnIiwiYXBwbHlUb1RhZyIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsInJlcGxhY2VUZXh0IiwicmVwbGFjZW1lbnQiLCJib3VuZGFyaWVzIiwibGFzdEluZGV4T2YiLCJ3cmFwcGVkUmVwbGFjZW1lbnQiLCJzdHlsZVNoZWV0IiwiY3NzVGV4dCIsImNzc05vZGUiLCJjcmVhdGVUZXh0Tm9kZSIsImNoaWxkTm9kZXMiLCJpbnNlcnRCZWZvcmUiLCJidG9hIiwic3RyaW5naWZ5Iiwic2V0QXR0cmlidXRlIiwiZmlyc3RDaGlsZCIsIm1lbW9pemUiLCJtZW1vIiwiaXNPbGRJRSIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsInRvTG93ZXJDYXNlIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJuZXdMaXN0IiwibWF5UmVtb3ZlIiwiY29udGVudCIsIl9fd2VicGFja19hbWRfb3B0aW9uc19fIiwid2VicGFja1BvbHlmaWxsIiwiZGVwcmVjYXRlIiwicGF0aHMiLCJjaGlsZHJlbiIsInJlcGxhY2VyIiwidXRpbCIsImlzRmluaXRlIiwiaXNSZWdFeHAiLCJ0cnVuY2F0ZSIsImlzU3RyaW5nIiwiZ2V0TWVzc2FnZSIsImFjdHVhbCIsIm9wZXJhdG9yIiwiZXhwZWN0ZWQiLCJmYWlsIiwic3RhY2tTdGFydEZ1bmN0aW9uIiwiQXNzZXJ0aW9uRXJyb3IiLCJfZGVlcEVxdWFsIiwiaXNCdWZmZXIiLCJpc0RhdGUiLCJtdWx0aWxpbmUiLCJpZ25vcmVDYXNlIiwib2JqRXF1aXYiLCJpc0FyZ3VtZW50cyIsImlzTnVsbE9yVW5kZWZpbmVkIiwiaXNQcmltaXRpdmUiLCJhSXNBcmdzIiwiYklzQXJncyIsInBTbGljZSIsImthIiwib2JqZWN0S2V5cyIsImtiIiwiZXhwZWN0ZWRFeGNlcHRpb24iLCJfdGhyb3dzIiwic2hvdWxkVGhyb3ciLCJibG9jayIsImdlbmVyYXRlZE1lc3NhZ2UiLCJjYXB0dXJlU3RhY2tUcmFjZSIsInN0YWNrIiwiZm5fbmFtZSIsIm5leHRfbGluZSIsInN1YnN0cmluZyIsImVxdWFsIiwibm90RXF1YWwiLCJkZWVwRXF1YWwiLCJub3REZWVwRXF1YWwiLCJzdHJpY3RFcXVhbCIsIm5vdFN0cmljdEVxdWFsIiwiZG9lc05vdFRocm93IiwiaWZFcnJvciIsImNsZWFuVXBOZXh0VGljayIsImRyYWluaW5nIiwiY3VycmVudFF1ZXVlIiwicXVldWVJbmRleCIsImRyYWluUXVldWUiLCJ0aW1lb3V0IiwicnVuIiwiSXRlbSIsImZ1biIsInByb2Nlc3MiLCJuZXh0VGljayIsInRpdGxlIiwiYnJvd3NlciIsImVudiIsImFyZ3YiLCJ2ZXJzaW9ucyIsImJpbmRpbmciLCJjd2QiLCJjaGRpciIsImRpciIsInVtYXNrIiwic3VwZXJDdG9yIiwic3VwZXJfIiwiVGVtcEN0b3IiLCJyZWFkVUludDgiLCJzZWVuIiwic3R5bGl6ZSIsInN0eWxpemVOb0NvbG9yIiwiY29sb3JzIiwiaXNCb29sZWFuIiwic2hvd0hpZGRlbiIsImN1c3RvbUluc3BlY3QiLCJzdHlsaXplV2l0aENvbG9yIiwiZm9ybWF0VmFsdWUiLCJzdHlsZVR5cGUiLCJzdHlsZSIsImFycmF5VG9IYXNoIiwiaGFzaCIsInJlY3Vyc2VUaW1lcyIsInByaW1pdGl2ZSIsImZvcm1hdFByaW1pdGl2ZSIsInZpc2libGVLZXlzIiwiZm9ybWF0RXJyb3IiLCJicmFjZXMiLCJ0b1VUQ1N0cmluZyIsImZvcm1hdEFycmF5IiwiZm9ybWF0UHJvcGVydHkiLCJyZWR1Y2VUb1NpbmdsZVN0cmluZyIsInNpbXBsZSIsImlzTnVsbCIsIlN0cmluZyIsImxpbmUiLCJudW1MaW5lc0VzdCIsImN1ciIsImFyIiwiaXNTeW1ib2wiLCJyZSIsIm9iamVjdFRvU3RyaW5nIiwicGFkIiwiZ2V0SG91cnMiLCJnZXRNaW51dGVzIiwiZ2V0U2Vjb25kcyIsImdldERhdGUiLCJtb250aHMiLCJnZXRNb250aCIsInByb3AiLCJmb3JtYXRSZWdFeHAiLCJmb3JtYXQiLCJtc2ciLCJkZXByZWNhdGVkIiwidGhyb3dEZXByZWNhdGlvbiIsInRyYWNlRGVwcmVjYXRpb24iLCJub0RlcHJlY2F0aW9uIiwiZGVidWdFbnZpcm9uIiwiZGVidWdzIiwiZGVidWdsb2ciLCJOT0RFX0RFQlVHIiwidG9VcHBlckNhc2UiLCJwaWQiLCJib2xkIiwiaXRhbGljIiwidW5kZXJsaW5lIiwiaW52ZXJzZSIsIndoaXRlIiwiZ3JleSIsImJsYWNrIiwiYmx1ZSIsImN5YW4iLCJncmVlbiIsIm1hZ2VudGEiLCJyZWQiLCJ5ZWxsb3ciLCJzcGVjaWFsIiwiYm9vbGVhbiIsIm51bGwiLCJkYXRlIiwicmVnZXhwIiwib3JpZ2luIl0sIm1hcHBpbmdzIjoiQ0FBUyxTQUFVQSxHQ0luQixRQUFBQyxHQUFBQyxHQUdBLEdBQUFDLEVBQUFELEdBQ0EsTUFBQUMsR0FBQUQsR0FBQUUsT0FHQSxJQUFBQyxHQUFBRixFQUFBRCxJQUNBRSxXQUNBRSxHQUFBSixFQUNBSyxRQUFBLEVBVUEsT0FOQVAsR0FBQUUsR0FBQU0sS0FBQUgsRUFBQUQsUUFBQUMsSUFBQUQsUUFBQUgsR0FHQUksRUFBQUUsUUFBQSxFQUdBRixFQUFBRCxRQXZCQSxHQUFBRCxLQXFDQSxPQVRBRixHQUFBUSxFQUFBVCxFQUdBQyxFQUFBUyxFQUFBUCxFQUdBRixFQUFBVSxFQUFBLFNBR0FWLEVBQUEsS0RNTSxTQUFTSSxFQUFRRCxFQUFTSCxHQUUvQkksRUFBT0QsUUFB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QUFtMkUsT0FBQTl3RSxNQUFBckYsRUFBQTJoQixhQWlCQTNoQixFQUFBb3VELFNBQUF2dUQsRUFBQSxLQUVBRyxFQUFBMDZELFFBQUEsU0FBQXVkLEVBQUE1MUUsR0FFQSxJQUFBQSxJQUFBd3FDLEVBQUF4cUMsR0FBQSxNQUFBNDFFLEVBSUEsS0FGQSxHQUFBanBDLEdBQUE5aUMsT0FBQThpQyxLQUFBM3NDLEdBQ0FpRCxFQUFBMHBDLEVBQUF0ckMsT0FDQTRCLEtBQ0EyeUUsRUFBQWpwQyxFQUFBMXBDLElBQUFqRCxFQUFBMnNDLEVBQUExcEMsR0FFQSxPQUFBMnlFLE1wSWdveEI4QjczRSxLQUFLSixFQUFVLFdBQWEsTUFBT3VHLFNBQVkxRyxFQUFvQiIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKioqKioqLyAoZnVuY3Rpb24obW9kdWxlcykgeyAvLyB3ZWJwYWNrQm9vdHN0cmFwXG4vKioqKioqLyBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4vKioqKioqLyBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4vKioqKioqLyBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pXG4vKioqKioqLyBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbi8qKioqKiovIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4vKioqKioqLyBcdFx0XHRleHBvcnRzOiB7fSxcbi8qKioqKiovIFx0XHRcdGlkOiBtb2R1bGVJZCxcbi8qKioqKiovIFx0XHRcdGxvYWRlZDogZmFsc2Vcbi8qKioqKiovIFx0XHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbi8qKioqKiovIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuLyoqKioqKi8gXHRcdG1vZHVsZS5sb2FkZWQgPSB0cnVlO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuLyoqKioqKi8gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbi8qKioqKiovIFx0fVxuLyoqKioqKi9cbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCIvZGlzdC9cIjtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLyoqKioqKi8gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcbi8qKioqKiovIH0pXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKioqKi8gKFtcbi8qIDAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5Nyk7XG5cblxuLyoqKi8gfSxcbi8qIDEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qIENvcHlyaWdodCAoYykgMjAxMywgQnJhbmRvbiBKb25lcywgQ29saW4gTWFjS2VuemllIElWLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuXHRcblx0UmVkaXN0cmlidXRpb24gYW5kIHVzZSBpbiBzb3VyY2UgYW5kIGJpbmFyeSBmb3Jtcywgd2l0aCBvciB3aXRob3V0IG1vZGlmaWNhdGlvbixcblx0YXJlIHBlcm1pdHRlZCBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucyBhcmUgbWV0OlxuXHRcblx0ICAqIFJlZGlzdHJpYnV0aW9ucyBvZiBzb3VyY2UgY29kZSBtdXN0IHJldGFpbiB0aGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSwgdGhpc1xuXHQgICAgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIuXG5cdCAgKiBSZWRpc3RyaWJ1dGlvbnMgaW4gYmluYXJ5IGZvcm0gbXVzdCByZXByb2R1Y2UgdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsXG5cdCAgICB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyIGluIHRoZSBkb2N1bWVudGF0aW9uXG5cdCAgICBhbmQvb3Igb3RoZXIgbWF0ZXJpYWxzIHByb3ZpZGVkIHdpdGggdGhlIGRpc3RyaWJ1dGlvbi5cblx0XG5cdFRISVMgU09GVFdBUkUgSVMgUFJPVklERUQgQlkgVEhFIENPUFlSSUdIVCBIT0xERVJTIEFORCBDT05UUklCVVRPUlMgXCJBUyBJU1wiIEFORFxuXHRBTlkgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBUSEUgSU1QTElFRFxuXHRXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSBBTkQgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQVJFXG5cdERJU0NMQUlNRUQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBDT1BZUklHSFQgSE9MREVSIE9SIENPTlRSSUJVVE9SUyBCRSBMSUFCTEUgRk9SXG5cdEFOWSBESVJFQ1QsIElORElSRUNULCBJTkNJREVOVEFMLCBTUEVDSUFMLCBFWEVNUExBUlksIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFU1xuXHQoSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sIFBST0NVUkVNRU5UIE9GIFNVQlNUSVRVVEUgR09PRFMgT1IgU0VSVklDRVM7XG5cdExPU1MgT0YgVVNFLCBEQVRBLCBPUiBQUk9GSVRTOyBPUiBCVVNJTkVTUyBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORCBPTlxuXHRBTlkgVEhFT1JZIE9GIExJQUJJTElUWSwgV0hFVEhFUiBJTiBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSwgT1IgVE9SVFxuXHQoSU5DTFVESU5HIE5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKSBBUklTSU5HIElOIEFOWSBXQVkgT1VUIE9GIFRIRSBVU0UgT0YgVEhJU1xuXHRTT0ZUV0FSRSwgRVZFTiBJRiBBRFZJU0VEIE9GIFRIRSBQT1NTSUJJTElUWSBPRiBTVUNIIERBTUFHRS4gKi9cblx0XG5cdC8qKlxuXHQgKiBUaGUgdmVjMiBvYmplY3QgZnJvbSBnbE1hdHJpeCwgd2l0aCBzb21lIGV4dGVuc2lvbnMgYW5kIHNvbWUgcmVtb3ZlZCBtZXRob2RzLiBTZWUgaHR0cDovL2dsbWF0cml4Lm5ldC5cblx0ICogQGNsYXNzIHZlYzJcblx0ICovXG5cdFxuXHR2YXIgdmVjMiA9IG1vZHVsZS5leHBvcnRzID0ge307XG5cdFxuXHR2YXIgVXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHRcblx0LyoqXG5cdCAqIE1ha2UgYSBjcm9zcyBwcm9kdWN0IGFuZCBvbmx5IHJldHVybiB0aGUgeiBjb21wb25lbnRcblx0ICogQG1ldGhvZCBjcm9zc0xlbmd0aFxuXHQgKiBAc3RhdGljXG5cdCAqIEBwYXJhbSAge0FycmF5fSBhXG5cdCAqIEBwYXJhbSAge0FycmF5fSBiXG5cdCAqIEByZXR1cm4ge051bWJlcn1cblx0ICovXG5cdHZlYzIuY3Jvc3NMZW5ndGggPSBmdW5jdGlvbihhLGIpe1xuXHQgICAgcmV0dXJuIGFbMF0gKiBiWzFdIC0gYVsxXSAqIGJbMF07XG5cdH07XG5cdFxuXHQvKipcblx0ICogQ3Jvc3MgcHJvZHVjdCBiZXR3ZWVuIGEgdmVjdG9yIGFuZCB0aGUgWiBjb21wb25lbnQgb2YgYSB2ZWN0b3Jcblx0ICogQG1ldGhvZCBjcm9zc1ZaXG5cdCAqIEBzdGF0aWNcblx0ICogQHBhcmFtICB7QXJyYXl9IG91dFxuXHQgKiBAcGFyYW0gIHtBcnJheX0gdmVjXG5cdCAqIEBwYXJhbSAge051bWJlcn0gemNvbXBcblx0ICogQHJldHVybiB7TnVtYmVyfVxuXHQgKi9cblx0dmVjMi5jcm9zc1ZaID0gZnVuY3Rpb24ob3V0LCB2ZWMsIHpjb21wKXtcblx0ICAgIHZlYzIucm90YXRlKG91dCx2ZWMsLU1hdGguUEkvMik7Ly8gUm90YXRlIGFjY29yZGluZyB0byB0aGUgcmlnaHQgaGFuZCBydWxlXG5cdCAgICB2ZWMyLnNjYWxlKG91dCxvdXQsemNvbXApOyAgICAgIC8vIFNjYWxlIHdpdGggelxuXHQgICAgcmV0dXJuIG91dDtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBDcm9zcyBwcm9kdWN0IGJldHdlZW4gYSB2ZWN0b3IgYW5kIHRoZSBaIGNvbXBvbmVudCBvZiBhIHZlY3RvclxuXHQgKiBAbWV0aG9kIGNyb3NzWlZcblx0ICogQHN0YXRpY1xuXHQgKiBAcGFyYW0gIHtBcnJheX0gb3V0XG5cdCAqIEBwYXJhbSAge051bWJlcn0gemNvbXBcblx0ICogQHBhcmFtICB7QXJyYXl9IHZlY1xuXHQgKiBAcmV0dXJuIHtOdW1iZXJ9XG5cdCAqL1xuXHR2ZWMyLmNyb3NzWlYgPSBmdW5jdGlvbihvdXQsIHpjb21wLCB2ZWMpe1xuXHQgICAgdmVjMi5yb3RhdGUob3V0LHZlYyxNYXRoLlBJLzIpOyAvLyBSb3RhdGUgYWNjb3JkaW5nIHRvIHRoZSByaWdodCBoYW5kIHJ1bGVcblx0ICAgIHZlYzIuc2NhbGUob3V0LG91dCx6Y29tcCk7ICAgICAgLy8gU2NhbGUgd2l0aCB6XG5cdCAgICByZXR1cm4gb3V0O1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIFJvdGF0ZSBhIHZlY3RvciBieSBhbiBhbmdsZVxuXHQgKiBAbWV0aG9kIHJvdGF0ZVxuXHQgKiBAc3RhdGljXG5cdCAqIEBwYXJhbSAge0FycmF5fSBvdXRcblx0ICogQHBhcmFtICB7QXJyYXl9IGFcblx0ICogQHBhcmFtICB7TnVtYmVyfSBhbmdsZVxuXHQgKi9cblx0dmVjMi5yb3RhdGUgPSBmdW5jdGlvbihvdXQsYSxhbmdsZSl7XG5cdCAgICBpZihhbmdsZSAhPT0gMCl7XG5cdCAgICAgICAgdmFyIGMgPSBNYXRoLmNvcyhhbmdsZSksXG5cdCAgICAgICAgICAgIHMgPSBNYXRoLnNpbihhbmdsZSksXG5cdCAgICAgICAgICAgIHggPSBhWzBdLFxuXHQgICAgICAgICAgICB5ID0gYVsxXTtcblx0ICAgICAgICBvdXRbMF0gPSBjKnggLXMqeTtcblx0ICAgICAgICBvdXRbMV0gPSBzKnggK2MqeTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgb3V0WzBdID0gYVswXTtcblx0ICAgICAgICBvdXRbMV0gPSBhWzFdO1xuXHQgICAgfVxuXHR9O1xuXHRcblx0LyoqXG5cdCAqIFJvdGF0ZSBhIHZlY3RvciA5MCBkZWdyZWVzIGNsb2Nrd2lzZVxuXHQgKiBAbWV0aG9kIHJvdGF0ZTkwY3dcblx0ICogQHN0YXRpY1xuXHQgKiBAcGFyYW0gIHtBcnJheX0gb3V0XG5cdCAqIEBwYXJhbSAge0FycmF5fSBhXG5cdCAqIEBwYXJhbSAge051bWJlcn0gYW5nbGVcblx0ICovXG5cdHZlYzIucm90YXRlOTBjdyA9IGZ1bmN0aW9uKG91dCwgYSkge1xuXHQgICAgdmFyIHggPSBhWzBdO1xuXHQgICAgdmFyIHkgPSBhWzFdO1xuXHQgICAgb3V0WzBdID0geTtcblx0ICAgIG91dFsxXSA9IC14O1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIFRyYW5zZm9ybSBhIHBvaW50IHBvc2l0aW9uIHRvIGxvY2FsIGZyYW1lLlxuXHQgKiBAbWV0aG9kIHRvTG9jYWxGcmFtZVxuXHQgKiBAcGFyYW0gIHtBcnJheX0gb3V0XG5cdCAqIEBwYXJhbSAge0FycmF5fSB3b3JsZFBvaW50XG5cdCAqIEBwYXJhbSAge0FycmF5fSBmcmFtZVBvc2l0aW9uXG5cdCAqIEBwYXJhbSAge051bWJlcn0gZnJhbWVBbmdsZVxuXHQgKi9cblx0dmVjMi50b0xvY2FsRnJhbWUgPSBmdW5jdGlvbihvdXQsIHdvcmxkUG9pbnQsIGZyYW1lUG9zaXRpb24sIGZyYW1lQW5nbGUpe1xuXHQgICAgdmVjMi5jb3B5KG91dCwgd29ybGRQb2ludCk7XG5cdCAgICB2ZWMyLnN1YihvdXQsIG91dCwgZnJhbWVQb3NpdGlvbik7XG5cdCAgICB2ZWMyLnJvdGF0ZShvdXQsIG91dCwgLWZyYW1lQW5nbGUpO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIFRyYW5zZm9ybSBhIHBvaW50IHBvc2l0aW9uIHRvIGdsb2JhbCBmcmFtZS5cblx0ICogQG1ldGhvZCB0b0dsb2JhbEZyYW1lXG5cdCAqIEBwYXJhbSAge0FycmF5fSBvdXRcblx0ICogQHBhcmFtICB7QXJyYXl9IGxvY2FsUG9pbnRcblx0ICogQHBhcmFtICB7QXJyYXl9IGZyYW1lUG9zaXRpb25cblx0ICogQHBhcmFtICB7TnVtYmVyfSBmcmFtZUFuZ2xlXG5cdCAqL1xuXHR2ZWMyLnRvR2xvYmFsRnJhbWUgPSBmdW5jdGlvbihvdXQsIGxvY2FsUG9pbnQsIGZyYW1lUG9zaXRpb24sIGZyYW1lQW5nbGUpe1xuXHQgICAgdmVjMi5jb3B5KG91dCwgbG9jYWxQb2ludCk7XG5cdCAgICB2ZWMyLnJvdGF0ZShvdXQsIG91dCwgZnJhbWVBbmdsZSk7XG5cdCAgICB2ZWMyLmFkZChvdXQsIG91dCwgZnJhbWVQb3NpdGlvbik7XG5cdH07XG5cdFxuXHQvKipcblx0ICogVHJhbnNmb3JtIGEgdmVjdG9yIHRvIGxvY2FsIGZyYW1lLlxuXHQgKiBAbWV0aG9kIHZlY3RvclRvTG9jYWxGcmFtZVxuXHQgKiBAcGFyYW0gIHtBcnJheX0gb3V0XG5cdCAqIEBwYXJhbSAge0FycmF5fSB3b3JsZFZlY3RvclxuXHQgKiBAcGFyYW0gIHtOdW1iZXJ9IGZyYW1lQW5nbGVcblx0ICovXG5cdHZlYzIudmVjdG9yVG9Mb2NhbEZyYW1lID0gZnVuY3Rpb24ob3V0LCB3b3JsZFZlY3RvciwgZnJhbWVBbmdsZSl7XG5cdCAgICB2ZWMyLnJvdGF0ZShvdXQsIHdvcmxkVmVjdG9yLCAtZnJhbWVBbmdsZSk7XG5cdH07XG5cdFxuXHQvKipcblx0ICogVHJhbnNmb3JtIGEgcG9pbnQgcG9zaXRpb24gdG8gZ2xvYmFsIGZyYW1lLlxuXHQgKiBAbWV0aG9kIHRvR2xvYmFsRnJhbWVcblx0ICogQHBhcmFtICB7QXJyYXl9IG91dFxuXHQgKiBAcGFyYW0gIHtBcnJheX0gbG9jYWxWZWN0b3Jcblx0ICogQHBhcmFtICB7TnVtYmVyfSBmcmFtZUFuZ2xlXG5cdCAqL1xuXHR2ZWMyLnZlY3RvclRvR2xvYmFsRnJhbWUgPSBmdW5jdGlvbihvdXQsIGxvY2FsVmVjdG9yLCBmcmFtZUFuZ2xlKXtcblx0ICAgIHZlYzIucm90YXRlKG91dCwgbG9jYWxWZWN0b3IsIGZyYW1lQW5nbGUpO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIENvbXB1dGUgY2VudHJvaWQgb2YgYSB0cmlhbmdsZSBzcGFubmVkIGJ5IHZlY3RvcnMgYSxiLGMuIFNlZSBodHRwOi8vZWFzeWNhbGN1bGF0aW9uLmNvbS9hbmFseXRpY2FsL2xlYXJuLWNlbnRyb2lkLnBocFxuXHQgKiBAbWV0aG9kIGNlbnRyb2lkXG5cdCAqIEBzdGF0aWNcblx0ICogQHBhcmFtICB7QXJyYXl9IG91dFxuXHQgKiBAcGFyYW0gIHtBcnJheX0gYVxuXHQgKiBAcGFyYW0gIHtBcnJheX0gYlxuXHQgKiBAcGFyYW0gIHtBcnJheX0gY1xuXHQgKiBAcmV0dXJuICB7QXJyYXl9IFRoZSBvdXQgb2JqZWN0XG5cdCAqL1xuXHR2ZWMyLmNlbnRyb2lkID0gZnVuY3Rpb24ob3V0LCBhLCBiLCBjKXtcblx0ICAgIHZlYzIuYWRkKG91dCwgYSwgYik7XG5cdCAgICB2ZWMyLmFkZChvdXQsIG91dCwgYyk7XG5cdCAgICB2ZWMyLnNjYWxlKG91dCwgb3V0LCAxLzMpO1xuXHQgICAgcmV0dXJuIG91dDtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBDcmVhdGVzIGEgbmV3LCBlbXB0eSB2ZWMyXG5cdCAqIEBzdGF0aWNcblx0ICogQG1ldGhvZCBjcmVhdGVcblx0ICogQHJldHVybiB7QXJyYXl9IGEgbmV3IDJEIHZlY3RvclxuXHQgKi9cblx0dmVjMi5jcmVhdGUgPSBmdW5jdGlvbigpIHtcblx0ICAgIHZhciBvdXQgPSBuZXcgVXRpbHMuQVJSQVlfVFlQRSgyKTtcblx0ICAgIG91dFswXSA9IDA7XG5cdCAgICBvdXRbMV0gPSAwO1xuXHQgICAgcmV0dXJuIG91dDtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBDcmVhdGVzIGEgbmV3IHZlYzIgaW5pdGlhbGl6ZWQgd2l0aCB2YWx1ZXMgZnJvbSBhbiBleGlzdGluZyB2ZWN0b3Jcblx0ICogQHN0YXRpY1xuXHQgKiBAbWV0aG9kIGNsb25lXG5cdCAqIEBwYXJhbSB7QXJyYXl9IGEgdmVjdG9yIHRvIGNsb25lXG5cdCAqIEByZXR1cm4ge0FycmF5fSBhIG5ldyAyRCB2ZWN0b3Jcblx0ICovXG5cdHZlYzIuY2xvbmUgPSBmdW5jdGlvbihhKSB7XG5cdCAgICB2YXIgb3V0ID0gbmV3IFV0aWxzLkFSUkFZX1RZUEUoMik7XG5cdCAgICBvdXRbMF0gPSBhWzBdO1xuXHQgICAgb3V0WzFdID0gYVsxXTtcblx0ICAgIHJldHVybiBvdXQ7XG5cdH07XG5cdFxuXHQvKipcblx0ICogQ3JlYXRlcyBhIG5ldyB2ZWMyIGluaXRpYWxpemVkIHdpdGggdGhlIGdpdmVuIHZhbHVlc1xuXHQgKiBAc3RhdGljXG5cdCAqIEBtZXRob2QgZnJvbVZhbHVlc1xuXHQgKiBAcGFyYW0ge051bWJlcn0geCBYIGNvbXBvbmVudFxuXHQgKiBAcGFyYW0ge051bWJlcn0geSBZIGNvbXBvbmVudFxuXHQgKiBAcmV0dXJuIHtBcnJheX0gYSBuZXcgMkQgdmVjdG9yXG5cdCAqL1xuXHR2ZWMyLmZyb21WYWx1ZXMgPSBmdW5jdGlvbih4LCB5KSB7XG5cdCAgICB2YXIgb3V0ID0gbmV3IFV0aWxzLkFSUkFZX1RZUEUoMik7XG5cdCAgICBvdXRbMF0gPSB4O1xuXHQgICAgb3V0WzFdID0geTtcblx0ICAgIHJldHVybiBvdXQ7XG5cdH07XG5cdFxuXHQvKipcblx0ICogQ29weSB0aGUgdmFsdWVzIGZyb20gb25lIHZlYzIgdG8gYW5vdGhlclxuXHQgKiBAc3RhdGljXG5cdCAqIEBtZXRob2QgY29weVxuXHQgKiBAcGFyYW0ge0FycmF5fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3Jcblx0ICogQHBhcmFtIHtBcnJheX0gYSB0aGUgc291cmNlIHZlY3RvclxuXHQgKiBAcmV0dXJuIHtBcnJheX0gb3V0XG5cdCAqL1xuXHR2ZWMyLmNvcHkgPSBmdW5jdGlvbihvdXQsIGEpIHtcblx0ICAgIG91dFswXSA9IGFbMF07XG5cdCAgICBvdXRbMV0gPSBhWzFdO1xuXHQgICAgcmV0dXJuIG91dDtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBTZXQgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWMyIHRvIHRoZSBnaXZlbiB2YWx1ZXNcblx0ICogQHN0YXRpY1xuXHQgKiBAbWV0aG9kIHNldFxuXHQgKiBAcGFyYW0ge0FycmF5fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3Jcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHggWCBjb21wb25lbnRcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHkgWSBjb21wb25lbnRcblx0ICogQHJldHVybiB7QXJyYXl9IG91dFxuXHQgKi9cblx0dmVjMi5zZXQgPSBmdW5jdGlvbihvdXQsIHgsIHkpIHtcblx0ICAgIG91dFswXSA9IHg7XG5cdCAgICBvdXRbMV0gPSB5O1xuXHQgICAgcmV0dXJuIG91dDtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBBZGRzIHR3byB2ZWMyJ3Ncblx0ICogQHN0YXRpY1xuXHQgKiBAbWV0aG9kIGFkZFxuXHQgKiBAcGFyYW0ge0FycmF5fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3Jcblx0ICogQHBhcmFtIHtBcnJheX0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuXHQgKiBAcGFyYW0ge0FycmF5fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuXHQgKiBAcmV0dXJuIHtBcnJheX0gb3V0XG5cdCAqL1xuXHR2ZWMyLmFkZCA9IGZ1bmN0aW9uKG91dCwgYSwgYikge1xuXHQgICAgb3V0WzBdID0gYVswXSArIGJbMF07XG5cdCAgICBvdXRbMV0gPSBhWzFdICsgYlsxXTtcblx0ICAgIHJldHVybiBvdXQ7XG5cdH07XG5cdFxuXHQvKipcblx0ICogU3VidHJhY3RzIHR3byB2ZWMyJ3Ncblx0ICogQHN0YXRpY1xuXHQgKiBAbWV0aG9kIHN1YnRyYWN0XG5cdCAqIEBwYXJhbSB7QXJyYXl9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuXHQgKiBAcGFyYW0ge0FycmF5fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG5cdCAqIEBwYXJhbSB7QXJyYXl9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG5cdCAqIEByZXR1cm4ge0FycmF5fSBvdXRcblx0ICovXG5cdHZlYzIuc3VidHJhY3QgPSBmdW5jdGlvbihvdXQsIGEsIGIpIHtcblx0ICAgIG91dFswXSA9IGFbMF0gLSBiWzBdO1xuXHQgICAgb3V0WzFdID0gYVsxXSAtIGJbMV07XG5cdCAgICByZXR1cm4gb3V0O1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIEFsaWFzIGZvciB2ZWMyLnN1YnRyYWN0XG5cdCAqIEBzdGF0aWNcblx0ICogQG1ldGhvZCBzdWJcblx0ICovXG5cdHZlYzIuc3ViID0gdmVjMi5zdWJ0cmFjdDtcblx0XG5cdC8qKlxuXHQgKiBNdWx0aXBsaWVzIHR3byB2ZWMyJ3Ncblx0ICogQHN0YXRpY1xuXHQgKiBAbWV0aG9kIG11bHRpcGx5XG5cdCAqIEBwYXJhbSB7QXJyYXl9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuXHQgKiBAcGFyYW0ge0FycmF5fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG5cdCAqIEBwYXJhbSB7QXJyYXl9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG5cdCAqIEByZXR1cm4ge0FycmF5fSBvdXRcblx0ICovXG5cdHZlYzIubXVsdGlwbHkgPSBmdW5jdGlvbihvdXQsIGEsIGIpIHtcblx0ICAgIG91dFswXSA9IGFbMF0gKiBiWzBdO1xuXHQgICAgb3V0WzFdID0gYVsxXSAqIGJbMV07XG5cdCAgICByZXR1cm4gb3V0O1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIEFsaWFzIGZvciB2ZWMyLm11bHRpcGx5XG5cdCAqIEBzdGF0aWNcblx0ICogQG1ldGhvZCBtdWxcblx0ICovXG5cdHZlYzIubXVsID0gdmVjMi5tdWx0aXBseTtcblx0XG5cdC8qKlxuXHQgKiBEaXZpZGVzIHR3byB2ZWMyJ3Ncblx0ICogQHN0YXRpY1xuXHQgKiBAbWV0aG9kIGRpdmlkZVxuXHQgKiBAcGFyYW0ge0FycmF5fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3Jcblx0ICogQHBhcmFtIHtBcnJheX0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuXHQgKiBAcGFyYW0ge0FycmF5fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuXHQgKiBAcmV0dXJuIHtBcnJheX0gb3V0XG5cdCAqL1xuXHR2ZWMyLmRpdmlkZSA9IGZ1bmN0aW9uKG91dCwgYSwgYikge1xuXHQgICAgb3V0WzBdID0gYVswXSAvIGJbMF07XG5cdCAgICBvdXRbMV0gPSBhWzFdIC8gYlsxXTtcblx0ICAgIHJldHVybiBvdXQ7XG5cdH07XG5cdFxuXHQvKipcblx0ICogQWxpYXMgZm9yIHZlYzIuZGl2aWRlXG5cdCAqIEBzdGF0aWNcblx0ICogQG1ldGhvZCBkaXZcblx0ICovXG5cdHZlYzIuZGl2ID0gdmVjMi5kaXZpZGU7XG5cdFxuXHQvKipcblx0ICogU2NhbGVzIGEgdmVjMiBieSBhIHNjYWxhciBudW1iZXJcblx0ICogQHN0YXRpY1xuXHQgKiBAbWV0aG9kIHNjYWxlXG5cdCAqIEBwYXJhbSB7QXJyYXl9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuXHQgKiBAcGFyYW0ge0FycmF5fSBhIHRoZSB2ZWN0b3IgdG8gc2NhbGVcblx0ICogQHBhcmFtIHtOdW1iZXJ9IGIgYW1vdW50IHRvIHNjYWxlIHRoZSB2ZWN0b3IgYnlcblx0ICogQHJldHVybiB7QXJyYXl9IG91dFxuXHQgKi9cblx0dmVjMi5zY2FsZSA9IGZ1bmN0aW9uKG91dCwgYSwgYikge1xuXHQgICAgb3V0WzBdID0gYVswXSAqIGI7XG5cdCAgICBvdXRbMV0gPSBhWzFdICogYjtcblx0ICAgIHJldHVybiBvdXQ7XG5cdH07XG5cdFxuXHQvKipcblx0ICogQ2FsY3VsYXRlcyB0aGUgZXVjbGlkaWFuIGRpc3RhbmNlIGJldHdlZW4gdHdvIHZlYzInc1xuXHQgKiBAc3RhdGljXG5cdCAqIEBtZXRob2QgZGlzdGFuY2Vcblx0ICogQHBhcmFtIHtBcnJheX0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuXHQgKiBAcGFyYW0ge0FycmF5fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuXHQgKiBAcmV0dXJuIHtOdW1iZXJ9IGRpc3RhbmNlIGJldHdlZW4gYSBhbmQgYlxuXHQgKi9cblx0dmVjMi5kaXN0YW5jZSA9IGZ1bmN0aW9uKGEsIGIpIHtcblx0ICAgIHZhciB4ID0gYlswXSAtIGFbMF0sXG5cdCAgICAgICAgeSA9IGJbMV0gLSBhWzFdO1xuXHQgICAgcmV0dXJuIE1hdGguc3FydCh4KnggKyB5KnkpO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIEFsaWFzIGZvciB2ZWMyLmRpc3RhbmNlXG5cdCAqIEBzdGF0aWNcblx0ICogQG1ldGhvZCBkaXN0XG5cdCAqL1xuXHR2ZWMyLmRpc3QgPSB2ZWMyLmRpc3RhbmNlO1xuXHRcblx0LyoqXG5cdCAqIENhbGN1bGF0ZXMgdGhlIHNxdWFyZWQgZXVjbGlkaWFuIGRpc3RhbmNlIGJldHdlZW4gdHdvIHZlYzInc1xuXHQgKiBAc3RhdGljXG5cdCAqIEBtZXRob2Qgc3F1YXJlZERpc3RhbmNlXG5cdCAqIEBwYXJhbSB7QXJyYXl9IGEgdGhlIGZpcnN0IG9wZXJhbmRcblx0ICogQHBhcmFtIHtBcnJheX0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcblx0ICogQHJldHVybiB7TnVtYmVyfSBzcXVhcmVkIGRpc3RhbmNlIGJldHdlZW4gYSBhbmQgYlxuXHQgKi9cblx0dmVjMi5zcXVhcmVkRGlzdGFuY2UgPSBmdW5jdGlvbihhLCBiKSB7XG5cdCAgICB2YXIgeCA9IGJbMF0gLSBhWzBdLFxuXHQgICAgICAgIHkgPSBiWzFdIC0gYVsxXTtcblx0ICAgIHJldHVybiB4KnggKyB5Knk7XG5cdH07XG5cdFxuXHQvKipcblx0ICogQWxpYXMgZm9yIHZlYzIuc3F1YXJlZERpc3RhbmNlXG5cdCAqIEBzdGF0aWNcblx0ICogQG1ldGhvZCBzcXJEaXN0XG5cdCAqL1xuXHR2ZWMyLnNxckRpc3QgPSB2ZWMyLnNxdWFyZWREaXN0YW5jZTtcblx0XG5cdC8qKlxuXHQgKiBDYWxjdWxhdGVzIHRoZSBsZW5ndGggb2YgYSB2ZWMyXG5cdCAqIEBzdGF0aWNcblx0ICogQG1ldGhvZCBsZW5ndGhcblx0ICogQHBhcmFtIHtBcnJheX0gYSB2ZWN0b3IgdG8gY2FsY3VsYXRlIGxlbmd0aCBvZlxuXHQgKiBAcmV0dXJuIHtOdW1iZXJ9IGxlbmd0aCBvZiBhXG5cdCAqL1xuXHR2ZWMyLmxlbmd0aCA9IGZ1bmN0aW9uIChhKSB7XG5cdCAgICB2YXIgeCA9IGFbMF0sXG5cdCAgICAgICAgeSA9IGFbMV07XG5cdCAgICByZXR1cm4gTWF0aC5zcXJ0KHgqeCArIHkqeSk7XG5cdH07XG5cdFxuXHQvKipcblx0ICogQWxpYXMgZm9yIHZlYzIubGVuZ3RoXG5cdCAqIEBtZXRob2QgbGVuXG5cdCAqIEBzdGF0aWNcblx0ICovXG5cdHZlYzIubGVuID0gdmVjMi5sZW5ndGg7XG5cdFxuXHQvKipcblx0ICogQ2FsY3VsYXRlcyB0aGUgc3F1YXJlZCBsZW5ndGggb2YgYSB2ZWMyXG5cdCAqIEBzdGF0aWNcblx0ICogQG1ldGhvZCBzcXVhcmVkTGVuZ3RoXG5cdCAqIEBwYXJhbSB7QXJyYXl9IGEgdmVjdG9yIHRvIGNhbGN1bGF0ZSBzcXVhcmVkIGxlbmd0aCBvZlxuXHQgKiBAcmV0dXJuIHtOdW1iZXJ9IHNxdWFyZWQgbGVuZ3RoIG9mIGFcblx0ICovXG5cdHZlYzIuc3F1YXJlZExlbmd0aCA9IGZ1bmN0aW9uIChhKSB7XG5cdCAgICB2YXIgeCA9IGFbMF0sXG5cdCAgICAgICAgeSA9IGFbMV07XG5cdCAgICByZXR1cm4geCp4ICsgeSp5O1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIEFsaWFzIGZvciB2ZWMyLnNxdWFyZWRMZW5ndGhcblx0ICogQHN0YXRpY1xuXHQgKiBAbWV0aG9kIHNxckxlblxuXHQgKi9cblx0dmVjMi5zcXJMZW4gPSB2ZWMyLnNxdWFyZWRMZW5ndGg7XG5cdFxuXHQvKipcblx0ICogTmVnYXRlcyB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzJcblx0ICogQHN0YXRpY1xuXHQgKiBAbWV0aG9kIG5lZ2F0ZVxuXHQgKiBAcGFyYW0ge0FycmF5fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3Jcblx0ICogQHBhcmFtIHtBcnJheX0gYSB2ZWN0b3IgdG8gbmVnYXRlXG5cdCAqIEByZXR1cm4ge0FycmF5fSBvdXRcblx0ICovXG5cdHZlYzIubmVnYXRlID0gZnVuY3Rpb24ob3V0LCBhKSB7XG5cdCAgICBvdXRbMF0gPSAtYVswXTtcblx0ICAgIG91dFsxXSA9IC1hWzFdO1xuXHQgICAgcmV0dXJuIG91dDtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBOb3JtYWxpemUgYSB2ZWMyXG5cdCAqIEBzdGF0aWNcblx0ICogQG1ldGhvZCBub3JtYWxpemVcblx0ICogQHBhcmFtIHtBcnJheX0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG5cdCAqIEBwYXJhbSB7QXJyYXl9IGEgdmVjdG9yIHRvIG5vcm1hbGl6ZVxuXHQgKiBAcmV0dXJuIHtBcnJheX0gb3V0XG5cdCAqL1xuXHR2ZWMyLm5vcm1hbGl6ZSA9IGZ1bmN0aW9uKG91dCwgYSkge1xuXHQgICAgdmFyIHggPSBhWzBdLFxuXHQgICAgICAgIHkgPSBhWzFdO1xuXHQgICAgdmFyIGxlbiA9IHgqeCArIHkqeTtcblx0ICAgIGlmIChsZW4gPiAwKSB7XG5cdCAgICAgICAgLy9UT0RPOiBldmFsdWF0ZSB1c2Ugb2YgZ2xtX2ludnNxcnQgaGVyZT9cblx0ICAgICAgICBsZW4gPSAxIC8gTWF0aC5zcXJ0KGxlbik7XG5cdCAgICAgICAgb3V0WzBdID0gYVswXSAqIGxlbjtcblx0ICAgICAgICBvdXRbMV0gPSBhWzFdICogbGVuO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIG91dDtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBDYWxjdWxhdGVzIHRoZSBkb3QgcHJvZHVjdCBvZiB0d28gdmVjMidzXG5cdCAqIEBzdGF0aWNcblx0ICogQG1ldGhvZCBkb3Rcblx0ICogQHBhcmFtIHtBcnJheX0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuXHQgKiBAcGFyYW0ge0FycmF5fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuXHQgKiBAcmV0dXJuIHtOdW1iZXJ9IGRvdCBwcm9kdWN0IG9mIGEgYW5kIGJcblx0ICovXG5cdHZlYzIuZG90ID0gZnVuY3Rpb24gKGEsIGIpIHtcblx0ICAgIHJldHVybiBhWzBdICogYlswXSArIGFbMV0gKiBiWzFdO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIFJldHVybnMgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYSB2ZWN0b3Jcblx0ICogQHN0YXRpY1xuXHQgKiBAbWV0aG9kIHN0clxuXHQgKiBAcGFyYW0ge0FycmF5fSB2ZWMgdmVjdG9yIHRvIHJlcHJlc2VudCBhcyBhIHN0cmluZ1xuXHQgKiBAcmV0dXJuIHtTdHJpbmd9IHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgdmVjdG9yXG5cdCAqL1xuXHR2ZWMyLnN0ciA9IGZ1bmN0aW9uIChhKSB7XG5cdCAgICByZXR1cm4gJ3ZlYzIoJyArIGFbMF0gKyAnLCAnICsgYVsxXSArICcpJztcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBMaW5lYXJseSBpbnRlcnBvbGF0ZS9taXggdHdvIHZlY3RvcnMuXG5cdCAqIEBzdGF0aWNcblx0ICogQG1ldGhvZCBsZXJwXG5cdCAqIEBwYXJhbSB7QXJyYXl9IG91dFxuXHQgKiBAcGFyYW0ge0FycmF5fSBhIEZpcnN0IHZlY3RvclxuXHQgKiBAcGFyYW0ge0FycmF5fSBiIFNlY29uZCB2ZWN0b3Jcblx0ICogQHBhcmFtIHtudW1iZXJ9IHQgTGVycCBmYWN0b3Jcblx0ICovXG5cdHZlYzIubGVycCA9IGZ1bmN0aW9uIChvdXQsIGEsIGIsIHQpIHtcblx0ICAgIHZhciBheCA9IGFbMF0sXG5cdCAgICAgICAgYXkgPSBhWzFdO1xuXHQgICAgb3V0WzBdID0gYXggKyB0ICogKGJbMF0gLSBheCk7XG5cdCAgICBvdXRbMV0gPSBheSArIHQgKiAoYlsxXSAtIGF5KTtcblx0ICAgIHJldHVybiBvdXQ7XG5cdH07XG5cdFxuXHQvKipcblx0ICogUmVmbGVjdCBhIHZlY3RvciBhbG9uZyBhIG5vcm1hbC5cblx0ICogQHN0YXRpY1xuXHQgKiBAbWV0aG9kIHJlZmxlY3Rcblx0ICogQHBhcmFtIHtBcnJheX0gb3V0XG5cdCAqIEBwYXJhbSB7QXJyYXl9IHZlY3RvclxuXHQgKiBAcGFyYW0ge0FycmF5fSBub3JtYWxcblx0ICovXG5cdHZlYzIucmVmbGVjdCA9IGZ1bmN0aW9uKG91dCwgdmVjdG9yLCBub3JtYWwpe1xuXHQgICAgdmFyIGRvdCA9IHZlY3RvclswXSAqIG5vcm1hbFswXSArIHZlY3RvclsxXSAqIG5vcm1hbFsxXTtcblx0ICAgIG91dFswXSA9IHZlY3RvclswXSAtIDIgKiBub3JtYWxbMF0gKiBkb3Q7XG5cdCAgICBvdXRbMV0gPSB2ZWN0b3JbMV0gLSAyICogbm9ybWFsWzFdICogZG90O1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIEdldCB0aGUgaW50ZXJzZWN0aW9uIHBvaW50IGJldHdlZW4gdHdvIGxpbmUgc2VnbWVudHMuXG5cdCAqIEBzdGF0aWNcblx0ICogQG1ldGhvZCBnZXRMaW5lU2VnbWVudHNJbnRlcnNlY3Rpb25cblx0ICogQHBhcmFtICB7QXJyYXl9IG91dFxuXHQgKiBAcGFyYW0gIHtBcnJheX0gcDBcblx0ICogQHBhcmFtICB7QXJyYXl9IHAxXG5cdCAqIEBwYXJhbSAge0FycmF5fSBwMlxuXHQgKiBAcGFyYW0gIHtBcnJheX0gcDNcblx0ICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGVyZSB3YXMgYW4gaW50ZXJzZWN0aW9uLCBvdGhlcndpc2UgZmFsc2UuXG5cdCAqL1xuXHR2ZWMyLmdldExpbmVTZWdtZW50c0ludGVyc2VjdGlvbiA9IGZ1bmN0aW9uKG91dCwgcDAsIHAxLCBwMiwgcDMpIHtcblx0ICAgIHZhciB0ID0gdmVjMi5nZXRMaW5lU2VnbWVudHNJbnRlcnNlY3Rpb25GcmFjdGlvbihwMCwgcDEsIHAyLCBwMyk7XG5cdCAgICBpZih0IDwgMCl7XG5cdCAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICBvdXRbMF0gPSBwMFswXSArICh0ICogKHAxWzBdIC0gcDBbMF0pKTtcblx0ICAgICAgICBvdXRbMV0gPSBwMFsxXSArICh0ICogKHAxWzFdIC0gcDBbMV0pKTtcblx0ICAgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgIH1cblx0fTtcblx0XG5cdC8qKlxuXHQgKiBHZXQgdGhlIGludGVyc2VjdGlvbiBmcmFjdGlvbiBiZXR3ZWVuIHR3byBsaW5lIHNlZ21lbnRzLiBJZiBzdWNjZXNzZnVsLCB0aGUgaW50ZXJzZWN0aW9uIGlzIGF0IHAwICsgdCAqIChwMSAtIHAwKVxuXHQgKiBAc3RhdGljXG5cdCAqIEBtZXRob2QgZ2V0TGluZVNlZ21lbnRzSW50ZXJzZWN0aW9uRnJhY3Rpb25cblx0ICogQHBhcmFtICB7QXJyYXl9IHAwXG5cdCAqIEBwYXJhbSAge0FycmF5fSBwMVxuXHQgKiBAcGFyYW0gIHtBcnJheX0gcDJcblx0ICogQHBhcmFtICB7QXJyYXl9IHAzXG5cdCAqIEByZXR1cm4ge251bWJlcn0gQSBudW1iZXIgYmV0d2VlbiAwIGFuZCAxIGlmIHRoZXJlIHdhcyBhbiBpbnRlcnNlY3Rpb24sIG90aGVyd2lzZSAtMS5cblx0ICovXG5cdHZlYzIuZ2V0TGluZVNlZ21lbnRzSW50ZXJzZWN0aW9uRnJhY3Rpb24gPSBmdW5jdGlvbihwMCwgcDEsIHAyLCBwMykge1xuXHQgICAgdmFyIHMxX3ggPSBwMVswXSAtIHAwWzBdO1xuXHQgICAgdmFyIHMxX3kgPSBwMVsxXSAtIHAwWzFdO1xuXHQgICAgdmFyIHMyX3ggPSBwM1swXSAtIHAyWzBdO1xuXHQgICAgdmFyIHMyX3kgPSBwM1sxXSAtIHAyWzFdO1xuXHRcblx0ICAgIHZhciBzLCB0O1xuXHQgICAgcyA9ICgtczFfeSAqIChwMFswXSAtIHAyWzBdKSArIHMxX3ggKiAocDBbMV0gLSBwMlsxXSkpIC8gKC1zMl94ICogczFfeSArIHMxX3ggKiBzMl95KTtcblx0ICAgIHQgPSAoIHMyX3ggKiAocDBbMV0gLSBwMlsxXSkgLSBzMl95ICogKHAwWzBdIC0gcDJbMF0pKSAvICgtczJfeCAqIHMxX3kgKyBzMV94ICogczJfeSk7XG5cdCAgICBpZiAocyA+PSAwICYmIHMgPD0gMSAmJiB0ID49IDAgJiYgdCA8PSAxKSB7IC8vIENvbGxpc2lvbiBkZXRlY3RlZFxuXHQgICAgICAgIHJldHVybiB0O1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIC0xOyAvLyBObyBjb2xsaXNpb25cblx0fTtcblxuXG4vKioqLyB9LFxuLyogMiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0LyogZ2xvYmFsIFAyX0FSUkFZX1RZUEUgKi9cblx0XG5cdG1vZHVsZS5leHBvcnRzID0gVXRpbHM7XG5cdFxuXHQvKipcblx0ICogTWlzYyB1dGlsaXR5IGZ1bmN0aW9uc1xuXHQgKiBAY2xhc3MgVXRpbHNcblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqL1xuXHRmdW5jdGlvbiBVdGlscygpe31cblx0XG5cdC8qKlxuXHQgKiBBcHBlbmQgdGhlIHZhbHVlcyBpbiBhcnJheSBiIHRvIHRoZSBhcnJheSBhLiBTZWUgPGEgaHJlZj1cImh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTM3NDEyNi9ob3ctdG8tYXBwZW5kLWFuLWFycmF5LXRvLWFuLWV4aXN0aW5nLWphdmFzY3JpcHQtYXJyYXkvMTM3NDEzMSMxMzc0MTMxXCI+dGhpczwvYT4gZm9yIGFuIGV4cGxhbmF0aW9uLlxuXHQgKiBAbWV0aG9kIGFwcGVuZEFycmF5XG5cdCAqIEBzdGF0aWNcblx0ICogQHBhcmFtICB7QXJyYXl9IGFcblx0ICogQHBhcmFtICB7QXJyYXl9IGJcblx0ICovXG5cdFV0aWxzLmFwcGVuZEFycmF5ID0gZnVuY3Rpb24oYSxiKXtcblx0ICAgIGlmIChiLmxlbmd0aCA8IDE1MDAwMCkge1xuXHQgICAgICAgIGEucHVzaC5hcHBseShhLCBiKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGIubGVuZ3RoOyBpICE9PSBsZW47ICsraSkge1xuXHQgICAgICAgICAgICBhLnB1c2goYltpXSk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHR9O1xuXHRcblx0LyoqXG5cdCAqIEdhcmJhZ2UgZnJlZSBBcnJheS5zcGxpY2UoKS4gRG9lcyBub3QgYWxsb2NhdGUgYSBuZXcgYXJyYXkuXG5cdCAqIEBtZXRob2Qgc3BsaWNlXG5cdCAqIEBzdGF0aWNcblx0ICogQHBhcmFtICB7QXJyYXl9IGFycmF5XG5cdCAqIEBwYXJhbSAge051bWJlcn0gaW5kZXhcblx0ICogQHBhcmFtICB7TnVtYmVyfSBob3dtYW55XG5cdCAqL1xuXHRVdGlscy5zcGxpY2UgPSBmdW5jdGlvbihhcnJheSxpbmRleCxob3dtYW55KXtcblx0ICAgIGhvd21hbnkgPSBob3dtYW55IHx8IDE7XG5cdCAgICBmb3IgKHZhciBpPWluZGV4LCBsZW49YXJyYXkubGVuZ3RoLWhvd21hbnk7IGkgPCBsZW47IGkrKyl7XG5cdCAgICAgICAgYXJyYXlbaV0gPSBhcnJheVtpICsgaG93bWFueV07XG5cdCAgICB9XG5cdCAgICBhcnJheS5sZW5ndGggPSBsZW47XG5cdH07XG5cdFxuXHQvKipcblx0ICogVGhlIGFycmF5IHR5cGUgdG8gdXNlIGZvciBpbnRlcm5hbCBudW1lcmljIGNvbXB1dGF0aW9ucyB0aHJvdWdob3V0IHRoZSBsaWJyYXJ5LiBGbG9hdDMyQXJyYXkgaXMgdXNlZCBpZiBpdCBpcyBhdmFpbGFibGUsIGJ1dCBmYWxscyBiYWNrIG9uIEFycmF5LiBJZiB5b3Ugd2FudCB0byBzZXQgYXJyYXkgdHlwZSBtYW51YWxseSwgaW5qZWN0IGl0IHZpYSB0aGUgZ2xvYmFsIHZhcmlhYmxlIFAyX0FSUkFZX1RZUEUuIFNlZSBleGFtcGxlIGJlbG93LlxuXHQgKiBAc3RhdGljXG5cdCAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb259IEFSUkFZX1RZUEVcblx0ICogQGV4YW1wbGVcblx0ICogICAgIDxzY3JpcHQ+XG5cdCAqICAgICAgICAgPCEtLSBJbmplY3QgeW91ciBwcmVmZXJyZWQgYXJyYXkgdHlwZSBiZWZvcmUgbG9hZGluZyBwMi5qcyAtLT5cblx0ICogICAgICAgICBQMl9BUlJBWV9UWVBFID0gQXJyYXk7XG5cdCAqICAgICA8L3NjcmlwdD5cblx0ICogICAgIDxzY3JpcHQgc3JjPVwicDIuanNcIj48L3NjcmlwdD5cblx0ICovXG5cdGlmKHR5cGVvZiBQMl9BUlJBWV9UWVBFICE9PSAndW5kZWZpbmVkJykge1xuXHQgICAgVXRpbHMuQVJSQVlfVFlQRSA9IFAyX0FSUkFZX1RZUEU7XG5cdH0gZWxzZSBpZiAodHlwZW9mIEZsb2F0MzJBcnJheSAhPT0gJ3VuZGVmaW5lZCcpe1xuXHQgICAgVXRpbHMuQVJSQVlfVFlQRSA9IEZsb2F0MzJBcnJheTtcblx0fSBlbHNlIHtcblx0ICAgIFV0aWxzLkFSUkFZX1RZUEUgPSBBcnJheTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIEV4dGVuZCBhbiBvYmplY3Qgd2l0aCB0aGUgcHJvcGVydGllcyBvZiBhbm90aGVyXG5cdCAqIEBzdGF0aWNcblx0ICogQG1ldGhvZCBleHRlbmRcblx0ICogQHBhcmFtICB7b2JqZWN0fSBhXG5cdCAqIEBwYXJhbSAge29iamVjdH0gYlxuXHQgKi9cblx0VXRpbHMuZXh0ZW5kID0gZnVuY3Rpb24oYSxiKXtcblx0ICAgIGZvcih2YXIga2V5IGluIGIpe1xuXHQgICAgICAgIGFba2V5XSA9IGJba2V5XTtcblx0ICAgIH1cblx0fTtcblx0XG5cdC8qKlxuXHQgKiBFeHRlbmQgYW4gb3B0aW9ucyBvYmplY3Qgd2l0aCBkZWZhdWx0IHZhbHVlcy5cblx0ICogQHN0YXRpY1xuXHQgKiBAbWV0aG9kIGRlZmF1bHRzXG5cdCAqIEBwYXJhbSAge29iamVjdH0gb3B0aW9ucyBUaGUgb3B0aW9ucyBvYmplY3QuIE1heSBiZSBmYWxzeTogaW4gdGhpcyBjYXNlLCBhIG5ldyBvYmplY3QgaXMgY3JlYXRlZCBhbmQgcmV0dXJuZWQuXG5cdCAqIEBwYXJhbSAge29iamVjdH0gZGVmYXVsdHMgQW4gb2JqZWN0IGNvbnRhaW5pbmcgZGVmYXVsdCB2YWx1ZXMuXG5cdCAqIEByZXR1cm4ge29iamVjdH0gVGhlIG1vZGlmaWVkIG9wdGlvbnMgb2JqZWN0LlxuXHQgKi9cblx0VXRpbHMuZGVmYXVsdHMgPSBmdW5jdGlvbihvcHRpb25zLCBkZWZhdWx0cyl7XG5cdCAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblx0ICAgIGZvcih2YXIga2V5IGluIGRlZmF1bHRzKXtcblx0ICAgICAgICBpZighKGtleSBpbiBvcHRpb25zKSl7XG5cdCAgICAgICAgICAgIG9wdGlvbnNba2V5XSA9IGRlZmF1bHRzW2tleV07XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQgICAgcmV0dXJuIG9wdGlvbnM7XG5cdH07XG5cblxuLyoqKi8gfSxcbi8qIDMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gRXF1YXRpb247XG5cdFxuXHR2YXIgdmVjMiA9IF9fd2VicGFja19yZXF1aXJlX18oMSksXG5cdCAgICBVdGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMiksXG5cdCAgICBCb2R5ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblx0XG5cdC8qKlxuXHQgKiBCYXNlIGNsYXNzIGZvciBjb25zdHJhaW50IGVxdWF0aW9ucy5cblx0ICogQGNsYXNzIEVxdWF0aW9uXG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKiBAcGFyYW0ge0JvZHl9IGJvZHlBIEZpcnN0IGJvZHkgcGFydGljaXBhdGluZyBpbiB0aGUgZXF1YXRpb25cblx0ICogQHBhcmFtIHtCb2R5fSBib2R5QiBTZWNvbmQgYm9keSBwYXJ0aWNpcGF0aW5nIGluIHRoZSBlcXVhdGlvblxuXHQgKiBAcGFyYW0ge251bWJlcn0gbWluRm9yY2UgTWluaW11bSBmb3JjZSB0byBhcHBseS4gRGVmYXVsdDogLU51bWJlci5NQVhfVkFMVUVcblx0ICogQHBhcmFtIHtudW1iZXJ9IG1heEZvcmNlIE1heGltdW0gZm9yY2UgdG8gYXBwbHkuIERlZmF1bHQ6IE51bWJlci5NQVhfVkFMVUVcblx0ICovXG5cdGZ1bmN0aW9uIEVxdWF0aW9uKGJvZHlBLCBib2R5QiwgbWluRm9yY2UsIG1heEZvcmNlKXtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIE1pbmltdW0gZm9yY2UgdG8gYXBwbHkgd2hlbiBzb2x2aW5nLlxuXHQgICAgICogQHByb3BlcnR5IG1pbkZvcmNlXG5cdCAgICAgKiBAdHlwZSB7TnVtYmVyfVxuXHQgICAgICovXG5cdCAgICB0aGlzLm1pbkZvcmNlID0gdHlwZW9mKG1pbkZvcmNlKT09PVwidW5kZWZpbmVkXCIgPyAtTnVtYmVyLk1BWF9WQUxVRSA6IG1pbkZvcmNlO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogTWF4IGZvcmNlIHRvIGFwcGx5IHdoZW4gc29sdmluZy5cblx0ICAgICAqIEBwcm9wZXJ0eSBtYXhGb3JjZVxuXHQgICAgICogQHR5cGUge051bWJlcn1cblx0ICAgICAqL1xuXHQgICAgdGhpcy5tYXhGb3JjZSA9IHR5cGVvZihtYXhGb3JjZSk9PT1cInVuZGVmaW5lZFwiID8gTnVtYmVyLk1BWF9WQUxVRSA6IG1heEZvcmNlO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogRmlyc3QgYm9keSBwYXJ0aWNpcGF0aW5nIGluIHRoZSBjb25zdHJhaW50XG5cdCAgICAgKiBAcHJvcGVydHkgYm9keUFcblx0ICAgICAqIEB0eXBlIHtCb2R5fVxuXHQgICAgICovXG5cdCAgICB0aGlzLmJvZHlBID0gYm9keUE7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBTZWNvbmQgYm9keSBwYXJ0aWNpcGF0aW5nIGluIHRoZSBjb25zdHJhaW50XG5cdCAgICAgKiBAcHJvcGVydHkgYm9keUJcblx0ICAgICAqIEB0eXBlIHtCb2R5fVxuXHQgICAgICovXG5cdCAgICB0aGlzLmJvZHlCID0gYm9keUI7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGUgc3RpZmZuZXNzIG9mIHRoaXMgZXF1YXRpb24uIFR5cGljYWxseSBjaG9zZW4gdG8gYSBsYXJnZSBudW1iZXIgKH4xZTcpLCBidXQgY2FuIGJlIGNob3NlbiBzb21ld2hhdCBmcmVlbHkgdG8gZ2V0IGEgc3RhYmxlIHNpbXVsYXRpb24uXG5cdCAgICAgKiBAcHJvcGVydHkgc3RpZmZuZXNzXG5cdCAgICAgKiBAdHlwZSB7TnVtYmVyfVxuXHQgICAgICovXG5cdCAgICB0aGlzLnN0aWZmbmVzcyA9IEVxdWF0aW9uLkRFRkFVTFRfU1RJRkZORVNTO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVGhlIG51bWJlciBvZiB0aW1lIHN0ZXBzIG5lZWRlZCB0byBzdGFiaWxpemUgdGhlIGNvbnN0cmFpbnQgZXF1YXRpb24uIFR5cGljYWxseSBiZXR3ZWVuIDMgYW5kIDUgdGltZSBzdGVwcy5cblx0ICAgICAqIEBwcm9wZXJ0eSByZWxheGF0aW9uXG5cdCAgICAgKiBAdHlwZSB7TnVtYmVyfVxuXHQgICAgICovXG5cdCAgICB0aGlzLnJlbGF4YXRpb24gPSBFcXVhdGlvbi5ERUZBVUxUX1JFTEFYQVRJT047XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGUgSmFjb2JpYW4gZW50cnkgb2YgdGhpcyBlcXVhdGlvbi4gNiBudW1iZXJzLCAzIHBlciBib2R5ICh4LHksYW5nbGUpLlxuXHQgICAgICogQHByb3BlcnR5IEdcblx0ICAgICAqIEB0eXBlIHtBcnJheX1cblx0ICAgICAqL1xuXHQgICAgdGhpcy5HID0gbmV3IFV0aWxzLkFSUkFZX1RZUEUoNik7XG5cdCAgICBmb3IodmFyIGk9MDsgaTw2OyBpKyspe1xuXHQgICAgICAgIHRoaXMuR1tpXT0wO1xuXHQgICAgfVxuXHRcblx0ICAgIHRoaXMub2Zmc2V0ID0gMDtcblx0XG5cdCAgICB0aGlzLmEgPSAwO1xuXHQgICAgdGhpcy5iID0gMDtcblx0ICAgIHRoaXMuZXBzaWxvbiA9IDA7XG5cdCAgICB0aGlzLnRpbWVTdGVwID0gMS82MDtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIEluZGljYXRlcyBpZiBzdGlmZm5lc3Mgb3IgcmVsYXhhdGlvbiB3YXMgY2hhbmdlZC5cblx0ICAgICAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gbmVlZHNVcGRhdGVcblx0ICAgICAqL1xuXHQgICAgdGhpcy5uZWVkc1VwZGF0ZSA9IHRydWU7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGUgcmVzdWx0aW5nIGNvbnN0cmFpbnQgbXVsdGlwbGllciBmcm9tIHRoZSBsYXN0IHNvbHZlLiBUaGlzIGlzIG1vc3RseSBlcXVpdmFsZW50IHRvIHRoZSBmb3JjZSBwcm9kdWNlZCBieSB0aGUgY29uc3RyYWludC5cblx0ICAgICAqIEBwcm9wZXJ0eSBtdWx0aXBsaWVyXG5cdCAgICAgKiBAdHlwZSB7TnVtYmVyfVxuXHQgICAgICovXG5cdCAgICB0aGlzLm11bHRpcGxpZXIgPSAwO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogUmVsYXRpdmUgdmVsb2NpdHkuXG5cdCAgICAgKiBAcHJvcGVydHkge051bWJlcn0gcmVsYXRpdmVWZWxvY2l0eVxuXHQgICAgICovXG5cdCAgICB0aGlzLnJlbGF0aXZlVmVsb2NpdHkgPSAwO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogV2hldGhlciB0aGlzIGVxdWF0aW9uIGlzIGVuYWJsZWQgb3Igbm90LiBJZiB0cnVlLCBpdCB3aWxsIGJlIGFkZGVkIHRvIHRoZSBzb2x2ZXIuXG5cdCAgICAgKiBAcHJvcGVydHkge0Jvb2xlYW59IGVuYWJsZWRcblx0ICAgICAqL1xuXHQgICAgdGhpcy5lbmFibGVkID0gdHJ1ZTtcblx0fVxuXHRFcXVhdGlvbi5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBFcXVhdGlvbjtcblx0XG5cdC8qKlxuXHQgKiBUaGUgZGVmYXVsdCBzdGlmZm5lc3Mgd2hlbiBjcmVhdGluZyBhIG5ldyBFcXVhdGlvbi5cblx0ICogQHN0YXRpY1xuXHQgKiBAcHJvcGVydHkge051bWJlcn0gREVGQVVMVF9TVElGRk5FU1Ncblx0ICogQGRlZmF1bHQgMWU2XG5cdCAqL1xuXHRFcXVhdGlvbi5ERUZBVUxUX1NUSUZGTkVTUyA9IDFlNjtcblx0XG5cdC8qKlxuXHQgKiBUaGUgZGVmYXVsdCByZWxheGF0aW9uIHdoZW4gY3JlYXRpbmcgYSBuZXcgRXF1YXRpb24uXG5cdCAqIEBzdGF0aWNcblx0ICogQHByb3BlcnR5IHtOdW1iZXJ9IERFRkFVTFRfUkVMQVhBVElPTlxuXHQgKiBAZGVmYXVsdCA0XG5cdCAqL1xuXHRFcXVhdGlvbi5ERUZBVUxUX1JFTEFYQVRJT04gPSA0O1xuXHRcblx0LyoqXG5cdCAqIENvbXB1dGUgU1BPT0sgcGFyYW1ldGVycyAuYSwgLmIgYW5kIC5lcHNpbG9uIGFjY29yZGluZyB0byB0aGUgY3VycmVudCBwYXJhbWV0ZXJzLiBTZWUgZXF1YXRpb25zIDksIDEwIGFuZCAxMSBpbiB0aGUgPGEgaHJlZj1cImh0dHA6Ly93d3c4LmNzLnVtdS5zZS9rdXJzZXIvNURWMDU4L1ZUMDkvbGVjdHVyZXMvc3Bvb2tub3Rlcy5wZGZcIj5TUE9PSyBub3RlczwvYT4uXG5cdCAqIEBtZXRob2QgdXBkYXRlXG5cdCAqL1xuXHRFcXVhdGlvbi5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24oKXtcblx0ICAgIHZhciBrID0gdGhpcy5zdGlmZm5lc3MsXG5cdCAgICAgICAgZCA9IHRoaXMucmVsYXhhdGlvbixcblx0ICAgICAgICBoID0gdGhpcy50aW1lU3RlcDtcblx0XG5cdCAgICB0aGlzLmEgPSA0LjAgLyAoaCAqICgxICsgNCAqIGQpKTtcblx0ICAgIHRoaXMuYiA9ICg0LjAgKiBkKSAvICgxICsgNCAqIGQpO1xuXHQgICAgdGhpcy5lcHNpbG9uID0gNC4wIC8gKGggKiBoICogayAqICgxICsgNCAqIGQpKTtcblx0XG5cdCAgICB0aGlzLm5lZWRzVXBkYXRlID0gZmFsc2U7XG5cdH07XG5cdFxuXHQvKipcblx0ICogTXVsdGlwbHkgYSBqYWNvYmlhbiBlbnRyeSB3aXRoIGNvcnJlc3BvbmRpbmcgcG9zaXRpb25zIG9yIHZlbG9jaXRpZXNcblx0ICogQG1ldGhvZCBnbXVsdFxuXHQgKiBAcmV0dXJuIHtOdW1iZXJ9XG5cdCAqL1xuXHRFcXVhdGlvbi5wcm90b3R5cGUuZ211bHQgPSBmdW5jdGlvbihHLHZpLHdpLHZqLHdqKXtcblx0ICAgIHJldHVybiAgR1swXSAqIHZpWzBdICtcblx0ICAgICAgICAgICAgR1sxXSAqIHZpWzFdICtcblx0ICAgICAgICAgICAgR1syXSAqIHdpICtcblx0ICAgICAgICAgICAgR1szXSAqIHZqWzBdICtcblx0ICAgICAgICAgICAgR1s0XSAqIHZqWzFdICtcblx0ICAgICAgICAgICAgR1s1XSAqIHdqO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIENvbXB1dGVzIHRoZSBSSFMgb2YgdGhlIFNQT09LIGVxdWF0aW9uXG5cdCAqIEBtZXRob2QgY29tcHV0ZUJcblx0ICogQHJldHVybiB7TnVtYmVyfVxuXHQgKi9cblx0RXF1YXRpb24ucHJvdG90eXBlLmNvbXB1dGVCID0gZnVuY3Rpb24oYSxiLGgpe1xuXHQgICAgdmFyIEdXID0gdGhpcy5jb21wdXRlR1coKTtcblx0ICAgIHZhciBHcSA9IHRoaXMuY29tcHV0ZUdxKCk7XG5cdCAgICB2YXIgR2lNZiA9IHRoaXMuY29tcHV0ZUdpTWYoKTtcblx0ICAgIHJldHVybiAtIEdxICogYSAtIEdXICogYiAtIEdpTWYqaDtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBDb21wdXRlcyBHXFwqcSwgd2hlcmUgcSBhcmUgdGhlIGdlbmVyYWxpemVkIGJvZHkgY29vcmRpbmF0ZXNcblx0ICogQG1ldGhvZCBjb21wdXRlR3Fcblx0ICogQHJldHVybiB7TnVtYmVyfVxuXHQgKi9cblx0dmFyIHFpID0gdmVjMi5jcmVhdGUoKSxcblx0ICAgIHFqID0gdmVjMi5jcmVhdGUoKTtcblx0RXF1YXRpb24ucHJvdG90eXBlLmNvbXB1dGVHcSA9IGZ1bmN0aW9uKCl7XG5cdCAgICB2YXIgRyA9IHRoaXMuRyxcblx0ICAgICAgICBiaSA9IHRoaXMuYm9keUEsXG5cdCAgICAgICAgYmogPSB0aGlzLmJvZHlCLFxuXHQgICAgICAgIHhpID0gYmkucG9zaXRpb24sXG5cdCAgICAgICAgeGogPSBiai5wb3NpdGlvbixcblx0ICAgICAgICBhaSA9IGJpLmFuZ2xlLFxuXHQgICAgICAgIGFqID0gYmouYW5nbGU7XG5cdFxuXHQgICAgcmV0dXJuIHRoaXMuZ211bHQoRywgcWksIGFpLCBxaiwgYWopICsgdGhpcy5vZmZzZXQ7XG5cdH07XG5cdFxuXHQvKipcblx0ICogQ29tcHV0ZXMgR1xcKlcsIHdoZXJlIFcgYXJlIHRoZSBib2R5IHZlbG9jaXRpZXNcblx0ICogQG1ldGhvZCBjb21wdXRlR1dcblx0ICogQHJldHVybiB7TnVtYmVyfVxuXHQgKi9cblx0RXF1YXRpb24ucHJvdG90eXBlLmNvbXB1dGVHVyA9IGZ1bmN0aW9uKCl7XG5cdCAgICB2YXIgRyA9IHRoaXMuRyxcblx0ICAgICAgICBiaSA9IHRoaXMuYm9keUEsXG5cdCAgICAgICAgYmogPSB0aGlzLmJvZHlCLFxuXHQgICAgICAgIHZpID0gYmkudmVsb2NpdHksXG5cdCAgICAgICAgdmogPSBiai52ZWxvY2l0eSxcblx0ICAgICAgICB3aSA9IGJpLmFuZ3VsYXJWZWxvY2l0eSxcblx0ICAgICAgICB3aiA9IGJqLmFuZ3VsYXJWZWxvY2l0eTtcblx0ICAgIHJldHVybiB0aGlzLmdtdWx0KEcsdmksd2ksdmosd2opICsgdGhpcy5yZWxhdGl2ZVZlbG9jaXR5O1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIENvbXB1dGVzIEdcXCpXbGFtYmRhLCB3aGVyZSBXIGFyZSB0aGUgYm9keSB2ZWxvY2l0aWVzXG5cdCAqIEBtZXRob2QgY29tcHV0ZUdXbGFtYmRhXG5cdCAqIEByZXR1cm4ge051bWJlcn1cblx0ICovXG5cdEVxdWF0aW9uLnByb3RvdHlwZS5jb21wdXRlR1dsYW1iZGEgPSBmdW5jdGlvbigpe1xuXHQgICAgdmFyIEcgPSB0aGlzLkcsXG5cdCAgICAgICAgYmkgPSB0aGlzLmJvZHlBLFxuXHQgICAgICAgIGJqID0gdGhpcy5ib2R5Qixcblx0ICAgICAgICB2aSA9IGJpLnZsYW1iZGEsXG5cdCAgICAgICAgdmogPSBiai52bGFtYmRhLFxuXHQgICAgICAgIHdpID0gYmkud2xhbWJkYSxcblx0ICAgICAgICB3aiA9IGJqLndsYW1iZGE7XG5cdCAgICByZXR1cm4gdGhpcy5nbXVsdChHLHZpLHdpLHZqLHdqKTtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBDb21wdXRlcyBHXFwqaW52KE0pXFwqZiwgd2hlcmUgTSBpcyB0aGUgbWFzcyBtYXRyaXggd2l0aCBkaWFnb25hbCBibG9ja3MgZm9yIGVhY2ggYm9keSwgYW5kIGYgYXJlIHRoZSBmb3JjZXMgb24gdGhlIGJvZGllcy5cblx0ICogQG1ldGhvZCBjb21wdXRlR2lNZlxuXHQgKiBAcmV0dXJuIHtOdW1iZXJ9XG5cdCAqL1xuXHR2YXIgaU1maSA9IHZlYzIuY3JlYXRlKCksXG5cdCAgICBpTWZqID0gdmVjMi5jcmVhdGUoKTtcblx0RXF1YXRpb24ucHJvdG90eXBlLmNvbXB1dGVHaU1mID0gZnVuY3Rpb24oKXtcblx0ICAgIHZhciBiaSA9IHRoaXMuYm9keUEsXG5cdCAgICAgICAgYmogPSB0aGlzLmJvZHlCLFxuXHQgICAgICAgIGZpID0gYmkuZm9yY2UsXG5cdCAgICAgICAgdGkgPSBiaS5hbmd1bGFyRm9yY2UsXG5cdCAgICAgICAgZmogPSBiai5mb3JjZSxcblx0ICAgICAgICB0aiA9IGJqLmFuZ3VsYXJGb3JjZSxcblx0ICAgICAgICBpbnZNYXNzaSA9IGJpLmludk1hc3NTb2x2ZSxcblx0ICAgICAgICBpbnZNYXNzaiA9IGJqLmludk1hc3NTb2x2ZSxcblx0ICAgICAgICBpbnZJaSA9IGJpLmludkluZXJ0aWFTb2x2ZSxcblx0ICAgICAgICBpbnZJaiA9IGJqLmludkluZXJ0aWFTb2x2ZSxcblx0ICAgICAgICBHID0gdGhpcy5HO1xuXHRcblx0ICAgIHZlYzIuc2NhbGUoaU1maSwgZmksIGludk1hc3NpKTtcblx0ICAgIHZlYzIubXVsdGlwbHkoaU1maSwgYmkubWFzc011bHRpcGxpZXIsIGlNZmkpO1xuXHQgICAgdmVjMi5zY2FsZShpTWZqLCBmaixpbnZNYXNzaik7XG5cdCAgICB2ZWMyLm11bHRpcGx5KGlNZmosIGJqLm1hc3NNdWx0aXBsaWVyLCBpTWZqKTtcblx0XG5cdCAgICByZXR1cm4gdGhpcy5nbXVsdChHLGlNZmksdGkqaW52SWksaU1maix0aippbnZJaik7XG5cdH07XG5cdFxuXHQvKipcblx0ICogQ29tcHV0ZXMgR1xcKmludihNKVxcKkcnXG5cdCAqIEBtZXRob2QgY29tcHV0ZUdpTUd0XG5cdCAqIEByZXR1cm4ge051bWJlcn1cblx0ICovXG5cdEVxdWF0aW9uLnByb3RvdHlwZS5jb21wdXRlR2lNR3QgPSBmdW5jdGlvbigpe1xuXHQgICAgdmFyIGJpID0gdGhpcy5ib2R5QSxcblx0ICAgICAgICBiaiA9IHRoaXMuYm9keUIsXG5cdCAgICAgICAgaW52TWFzc2kgPSBiaS5pbnZNYXNzU29sdmUsXG5cdCAgICAgICAgaW52TWFzc2ogPSBiai5pbnZNYXNzU29sdmUsXG5cdCAgICAgICAgaW52SWkgPSBiaS5pbnZJbmVydGlhU29sdmUsXG5cdCAgICAgICAgaW52SWogPSBiai5pbnZJbmVydGlhU29sdmUsXG5cdCAgICAgICAgRyA9IHRoaXMuRztcblx0XG5cdCAgICByZXR1cm4gIEdbMF0gKiBHWzBdICogaW52TWFzc2kgKiBiaS5tYXNzTXVsdGlwbGllclswXSArXG5cdCAgICAgICAgICAgIEdbMV0gKiBHWzFdICogaW52TWFzc2kgKiBiaS5tYXNzTXVsdGlwbGllclsxXSArXG5cdCAgICAgICAgICAgIEdbMl0gKiBHWzJdICogICAgaW52SWkgK1xuXHQgICAgICAgICAgICBHWzNdICogR1szXSAqIGludk1hc3NqICogYmoubWFzc011bHRpcGxpZXJbMF0gK1xuXHQgICAgICAgICAgICBHWzRdICogR1s0XSAqIGludk1hc3NqICogYmoubWFzc011bHRpcGxpZXJbMV0gK1xuXHQgICAgICAgICAgICBHWzVdICogR1s1XSAqICAgIGludklqO1xuXHR9O1xuXHRcblx0dmFyIGFkZFRvV2xhbWJkYV90ZW1wID0gdmVjMi5jcmVhdGUoKSxcblx0ICAgIGFkZFRvV2xhbWJkYV9HaSA9IHZlYzIuY3JlYXRlKCksXG5cdCAgICBhZGRUb1dsYW1iZGFfR2ogPSB2ZWMyLmNyZWF0ZSgpLFxuXHQgICAgYWRkVG9XbGFtYmRhX3JpID0gdmVjMi5jcmVhdGUoKSxcblx0ICAgIGFkZFRvV2xhbWJkYV9yaiA9IHZlYzIuY3JlYXRlKCksXG5cdCAgICBhZGRUb1dsYW1iZGFfTWRpYWcgPSB2ZWMyLmNyZWF0ZSgpO1xuXHRcblx0LyoqXG5cdCAqIEFkZCBjb25zdHJhaW50IHZlbG9jaXR5IHRvIHRoZSBib2RpZXMuXG5cdCAqIEBtZXRob2QgYWRkVG9XbGFtYmRhXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBkZWx0YWxhbWJkYVxuXHQgKi9cblx0RXF1YXRpb24ucHJvdG90eXBlLmFkZFRvV2xhbWJkYSA9IGZ1bmN0aW9uKGRlbHRhbGFtYmRhKXtcblx0ICAgIHZhciBiaSA9IHRoaXMuYm9keUEsXG5cdCAgICAgICAgYmogPSB0aGlzLmJvZHlCLFxuXHQgICAgICAgIHRlbXAgPSBhZGRUb1dsYW1iZGFfdGVtcCxcblx0ICAgICAgICBHaSA9IGFkZFRvV2xhbWJkYV9HaSxcblx0ICAgICAgICBHaiA9IGFkZFRvV2xhbWJkYV9Haixcblx0ICAgICAgICByaSA9IGFkZFRvV2xhbWJkYV9yaSxcblx0ICAgICAgICByaiA9IGFkZFRvV2xhbWJkYV9yaixcblx0ICAgICAgICBpbnZNYXNzaSA9IGJpLmludk1hc3NTb2x2ZSxcblx0ICAgICAgICBpbnZNYXNzaiA9IGJqLmludk1hc3NTb2x2ZSxcblx0ICAgICAgICBpbnZJaSA9IGJpLmludkluZXJ0aWFTb2x2ZSxcblx0ICAgICAgICBpbnZJaiA9IGJqLmludkluZXJ0aWFTb2x2ZSxcblx0ICAgICAgICBNZGlhZyA9IGFkZFRvV2xhbWJkYV9NZGlhZyxcblx0ICAgICAgICBHID0gdGhpcy5HO1xuXHRcblx0ICAgIEdpWzBdID0gR1swXTtcblx0ICAgIEdpWzFdID0gR1sxXTtcblx0ICAgIEdqWzBdID0gR1szXTtcblx0ICAgIEdqWzFdID0gR1s0XTtcblx0XG5cdCAgICAvLyBBZGQgdG8gbGluZWFyIHZlbG9jaXR5XG5cdCAgICAvLyB2X2xhbWJkYSArPSBpbnYoTSkgKiBkZWx0YV9sYW1iYSAqIEdcblx0ICAgIHZlYzIuc2NhbGUodGVtcCwgR2ksIGludk1hc3NpKmRlbHRhbGFtYmRhKTtcblx0ICAgIHZlYzIubXVsdGlwbHkodGVtcCwgdGVtcCwgYmkubWFzc011bHRpcGxpZXIpO1xuXHQgICAgdmVjMi5hZGQoIGJpLnZsYW1iZGEsIGJpLnZsYW1iZGEsIHRlbXApO1xuXHQgICAgLy8gVGhpcyBpbXB1bHNlIGlzIGluIHRoZSBvZmZzZXQgZnJhbWVcblx0ICAgIC8vIEFsc28gYWRkIGNvbnRyaWJ1dGlvbiB0byBhbmd1bGFyXG5cdCAgICAvL2JpLndsYW1iZGEgLT0gdmVjMi5jcm9zc0xlbmd0aCh0ZW1wLHJpKTtcblx0ICAgIGJpLndsYW1iZGEgKz0gaW52SWkgKiBHWzJdICogZGVsdGFsYW1iZGE7XG5cdFxuXHRcblx0ICAgIHZlYzIuc2NhbGUodGVtcCwgR2osIGludk1hc3NqKmRlbHRhbGFtYmRhKTtcblx0ICAgIHZlYzIubXVsdGlwbHkodGVtcCwgdGVtcCwgYmoubWFzc011bHRpcGxpZXIpO1xuXHQgICAgdmVjMi5hZGQoIGJqLnZsYW1iZGEsIGJqLnZsYW1iZGEsIHRlbXApO1xuXHQgICAgLy9iai53bGFtYmRhIC09IHZlYzIuY3Jvc3NMZW5ndGgodGVtcCxyaik7XG5cdCAgICBiai53bGFtYmRhICs9IGludklqICogR1s1XSAqIGRlbHRhbGFtYmRhO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIENvbXB1dGUgdGhlIGRlbm9taW5hdG9yIHBhcnQgb2YgdGhlIFNQT09LIGVxdWF0aW9uOiBDID0gR1xcKmludihNKVxcKkcnICsgZXBzXG5cdCAqIEBtZXRob2QgY29tcHV0ZUludkNcblx0ICogQHBhcmFtICB7TnVtYmVyfSBlcHNcblx0ICogQHJldHVybiB7TnVtYmVyfVxuXHQgKi9cblx0RXF1YXRpb24ucHJvdG90eXBlLmNvbXB1dGVJbnZDID0gZnVuY3Rpb24oZXBzKXtcblx0ICAgIHJldHVybiAxLjAgLyAodGhpcy5jb21wdXRlR2lNR3QoKSArIGVwcyk7XG5cdH07XG5cblxuLyoqKi8gfSxcbi8qIDQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gU2hhcGU7XG5cdFxuXHR2YXIgdmVjMiA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHQvKipcblx0ICogQmFzZSBjbGFzcyBmb3Igc2hhcGVzLlxuXHQgKiBAY2xhc3MgU2hhcGVcblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc11cblx0ICogQHBhcmFtIHthcnJheX0gW29wdGlvbnMucG9zaXRpb25dXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5hbmdsZT0wXVxuXHQgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuY29sbGlzaW9uR3JvdXA9MV1cblx0ICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmNvbGxpc2lvbk1hc2s9MV1cblx0ICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5zZW5zb3I9ZmFsc2VdXG5cdCAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY29sbGlzaW9uUmVzcG9uc2U9dHJ1ZV1cblx0ICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zLnR5cGU9MF1cblx0ICovXG5cdGZ1bmN0aW9uIFNoYXBlKG9wdGlvbnMpe1xuXHQgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGUgYm9keSB0aGlzIHNoYXBlIGlzIGF0dGFjaGVkIHRvLiBBIHNoYXBlIGNhbiBvbmx5IGJlIGF0dGFjaGVkIHRvIGEgc2luZ2xlIGJvZHkuXG5cdCAgICAgKiBAcHJvcGVydHkge0JvZHl9IGJvZHlcblx0ICAgICAqL1xuXHQgICAgdGhpcy5ib2R5ID0gbnVsbDtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIEJvZHktbG9jYWwgcG9zaXRpb24gb2YgdGhlIHNoYXBlLlxuXHQgICAgICogQHByb3BlcnR5IHtBcnJheX0gcG9zaXRpb25cblx0ICAgICAqL1xuXHQgICAgdGhpcy5wb3NpdGlvbiA9IHZlYzIuZnJvbVZhbHVlcygwLDApO1xuXHQgICAgaWYob3B0aW9ucy5wb3NpdGlvbil7XG5cdCAgICAgICAgdmVjMi5jb3B5KHRoaXMucG9zaXRpb24sIG9wdGlvbnMucG9zaXRpb24pO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQm9keS1sb2NhbCBhbmdsZSBvZiB0aGUgc2hhcGUuXG5cdCAgICAgKiBAcHJvcGVydHkge251bWJlcn0gYW5nbGVcblx0ICAgICAqL1xuXHQgICAgdGhpcy5hbmdsZSA9IG9wdGlvbnMuYW5nbGUgfHwgMDtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIFRoZSB0eXBlIG9mIHRoZSBzaGFwZS4gT25lIG9mOlxuXHQgICAgICpcblx0ICAgICAqICoge3sjY3Jvc3NMaW5rIFwiU2hhcGUvQ0lSQ0xFOnByb3BlcnR5XCJ9fVNoYXBlLkNJUkNMRXt7L2Nyb3NzTGlua319XG5cdCAgICAgKiAqIHt7I2Nyb3NzTGluayBcIlNoYXBlL1BBUlRJQ0xFOnByb3BlcnR5XCJ9fVNoYXBlLlBBUlRJQ0xFe3svY3Jvc3NMaW5rfX1cblx0ICAgICAqICoge3sjY3Jvc3NMaW5rIFwiU2hhcGUvUExBTkU6cHJvcGVydHlcIn19U2hhcGUuUExBTkV7ey9jcm9zc0xpbmt9fVxuXHQgICAgICogKiB7eyNjcm9zc0xpbmsgXCJTaGFwZS9DT05WRVg6cHJvcGVydHlcIn19U2hhcGUuQ09OVkVYe3svY3Jvc3NMaW5rfX1cblx0ICAgICAqICoge3sjY3Jvc3NMaW5rIFwiU2hhcGUvTElORTpwcm9wZXJ0eVwifX1TaGFwZS5MSU5Fe3svY3Jvc3NMaW5rfX1cblx0ICAgICAqICoge3sjY3Jvc3NMaW5rIFwiU2hhcGUvQk9YOnByb3BlcnR5XCJ9fVNoYXBlLkJPWHt7L2Nyb3NzTGlua319XG5cdCAgICAgKiAqIHt7I2Nyb3NzTGluayBcIlNoYXBlL0NBUFNVTEU6cHJvcGVydHlcIn19U2hhcGUuQ0FQU1VMRXt7L2Nyb3NzTGlua319XG5cdCAgICAgKiAqIHt7I2Nyb3NzTGluayBcIlNoYXBlL0hFSUdIVEZJRUxEOnByb3BlcnR5XCJ9fVNoYXBlLkhFSUdIVEZJRUxEe3svY3Jvc3NMaW5rfX1cblx0ICAgICAqXG5cdCAgICAgKiBAcHJvcGVydHkge251bWJlcn0gdHlwZVxuXHQgICAgICovXG5cdCAgICB0aGlzLnR5cGUgPSBvcHRpb25zLnR5cGUgfHwgMDtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIFNoYXBlIG9iamVjdCBpZGVudGlmaWVyLlxuXHQgICAgICogQHR5cGUge051bWJlcn1cblx0ICAgICAqIEBwcm9wZXJ0eSBpZFxuXHQgICAgICovXG5cdCAgICB0aGlzLmlkID0gU2hhcGUuaWRDb3VudGVyKys7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBCb3VuZGluZyBjaXJjbGUgcmFkaXVzIG9mIHRoaXMgc2hhcGVcblx0ICAgICAqIEBwcm9wZXJ0eSBib3VuZGluZ1JhZGl1c1xuXHQgICAgICogQHR5cGUge051bWJlcn1cblx0ICAgICAqL1xuXHQgICAgdGhpcy5ib3VuZGluZ1JhZGl1cyA9IDA7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDb2xsaXNpb24gZ3JvdXAgdGhhdCB0aGlzIHNoYXBlIGJlbG9uZ3MgdG8gKGJpdCBtYXNrKS4gU2VlIDxhIGhyZWY9XCJodHRwOi8vd3d3LmF1cmVsaWVucmlib24uY29tL2Jsb2cvMjAxMS8wNy9ib3gyZC10dXRvcmlhbC1jb2xsaXNpb24tZmlsdGVyaW5nL1wiPnRoaXMgdHV0b3JpYWw8L2E+LlxuXHQgICAgICogQHByb3BlcnR5IGNvbGxpc2lvbkdyb3VwXG5cdCAgICAgKiBAdHlwZSB7TnVtYmVyfVxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqICAgICAvLyBTZXR1cCBiaXRzIGZvciBlYWNoIGF2YWlsYWJsZSBncm91cFxuXHQgICAgICogICAgIHZhciBQTEFZRVIgPSBNYXRoLnBvdygyLDApLFxuXHQgICAgICogICAgICAgICBFTkVNWSA9ICBNYXRoLnBvdygyLDEpLFxuXHQgICAgICogICAgICAgICBHUk9VTkQgPSBNYXRoLnBvdygyLDIpXG5cdCAgICAgKlxuXHQgICAgICogICAgIC8vIFB1dCBzaGFwZXMgaW50byB0aGVpciBncm91cHNcblx0ICAgICAqICAgICBwbGF5ZXIxU2hhcGUuY29sbGlzaW9uR3JvdXAgPSBQTEFZRVI7XG5cdCAgICAgKiAgICAgcGxheWVyMlNoYXBlLmNvbGxpc2lvbkdyb3VwID0gUExBWUVSO1xuXHQgICAgICogICAgIGVuZW15U2hhcGUgIC5jb2xsaXNpb25Hcm91cCA9IEVORU1ZO1xuXHQgICAgICogICAgIGdyb3VuZFNoYXBlIC5jb2xsaXNpb25Hcm91cCA9IEdST1VORDtcblx0ICAgICAqXG5cdCAgICAgKiAgICAgLy8gQXNzaWduIGdyb3VwcyB0aGF0IGVhY2ggc2hhcGUgY29sbGlkZSB3aXRoLlxuXHQgICAgICogICAgIC8vIE5vdGUgdGhhdCB0aGUgcGxheWVycyBjYW4gY29sbGlkZSB3aXRoIGdyb3VuZCBhbmQgZW5lbWllcywgYnV0IG5vdCB3aXRoIG90aGVyIHBsYXllcnMuXG5cdCAgICAgKiAgICAgcGxheWVyMVNoYXBlLmNvbGxpc2lvbk1hc2sgPSBFTkVNWSB8IEdST1VORDtcblx0ICAgICAqICAgICBwbGF5ZXIyU2hhcGUuY29sbGlzaW9uTWFzayA9IEVORU1ZIHwgR1JPVU5EO1xuXHQgICAgICogICAgIGVuZW15U2hhcGUgIC5jb2xsaXNpb25NYXNrID0gUExBWUVSIHwgR1JPVU5EO1xuXHQgICAgICogICAgIGdyb3VuZFNoYXBlIC5jb2xsaXNpb25NYXNrID0gUExBWUVSIHwgRU5FTVk7XG5cdCAgICAgKlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqICAgICAvLyBIb3cgY29sbGlzaW9uIGNoZWNrIGlzIGRvbmVcblx0ICAgICAqICAgICBpZihzaGFwZUEuY29sbGlzaW9uR3JvdXAgJiBzaGFwZUIuY29sbGlzaW9uTWFzaykhPTAgJiYgKHNoYXBlQi5jb2xsaXNpb25Hcm91cCAmIHNoYXBlQS5jb2xsaXNpb25NYXNrKSE9MCl7XG5cdCAgICAgKiAgICAgICAgIC8vIFRoZSBzaGFwZXMgd2lsbCBjb2xsaWRlXG5cdCAgICAgKiAgICAgfVxuXHQgICAgICovXG5cdCAgICB0aGlzLmNvbGxpc2lvbkdyb3VwID0gb3B0aW9ucy5jb2xsaXNpb25Hcm91cCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5jb2xsaXNpb25Hcm91cCA6IDE7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBXaGV0aGVyIHRvIHByb2R1Y2UgY29udGFjdCBmb3JjZXMgd2hlbiBpbiBjb250YWN0IHdpdGggb3RoZXIgYm9kaWVzLiBOb3RlIHRoYXQgY29udGFjdHMgd2lsbCBiZSBnZW5lcmF0ZWQsIGJ1dCB0aGV5IHdpbGwgYmUgZGlzYWJsZWQuIFRoYXQgbWVhbnMgdGhhdCB0aGlzIHNoYXBlIHdpbGwgbW92ZSB0aHJvdWdoIG90aGVyIGJvZHkgc2hhcGVzLCBidXQgaXQgd2lsbCBzdGlsbCB0cmlnZ2VyIGNvbnRhY3QgZXZlbnRzLCBldGMuXG5cdCAgICAgKiBAcHJvcGVydHkge0Jvb2xlYW59IGNvbGxpc2lvblJlc3BvbnNlXG5cdCAgICAgKi9cblx0ICAgIHRoaXMuY29sbGlzaW9uUmVzcG9uc2UgPSBvcHRpb25zLmNvbGxpc2lvblJlc3BvbnNlICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmNvbGxpc2lvblJlc3BvbnNlIDogdHJ1ZTtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIENvbGxpc2lvbiBtYXNrIG9mIHRoaXMgc2hhcGUuIFNlZSAuY29sbGlzaW9uR3JvdXAuXG5cdCAgICAgKiBAcHJvcGVydHkgY29sbGlzaW9uTWFza1xuXHQgICAgICogQHR5cGUge051bWJlcn1cblx0ICAgICAqL1xuXHQgICAgdGhpcy5jb2xsaXNpb25NYXNrID0gb3B0aW9ucy5jb2xsaXNpb25NYXNrICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmNvbGxpc2lvbk1hc2sgOiAxO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogTWF0ZXJpYWwgdG8gdXNlIGluIGNvbGxpc2lvbnMgZm9yIHRoaXMgU2hhcGUuIElmIHRoaXMgaXMgc2V0IHRvIG51bGwsIHRoZSB3b3JsZCB3aWxsIHVzZSBkZWZhdWx0IG1hdGVyaWFsIHByb3BlcnRpZXMgaW5zdGVhZC5cblx0ICAgICAqIEBwcm9wZXJ0eSBtYXRlcmlhbFxuXHQgICAgICogQHR5cGUge01hdGVyaWFsfVxuXHQgICAgICovXG5cdCAgICB0aGlzLm1hdGVyaWFsID0gb3B0aW9ucy5tYXRlcmlhbCB8fCBudWxsO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQXJlYSBvZiB0aGlzIHNoYXBlLlxuXHQgICAgICogQHByb3BlcnR5IGFyZWFcblx0ICAgICAqIEB0eXBlIHtOdW1iZXJ9XG5cdCAgICAgKi9cblx0ICAgIHRoaXMuYXJlYSA9IDA7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBTZXQgdG8gdHJ1ZSBpZiB5b3Ugd2FudCB0aGlzIHNoYXBlIHRvIGJlIGEgc2Vuc29yLiBBIHNlbnNvciBkb2VzIG5vdCBnZW5lcmF0ZSBjb250YWN0cywgYnV0IGl0IHN0aWxsIHJlcG9ydHMgY29udGFjdCBldmVudHMuIFRoaXMgaXMgZ29vZCBpZiB5b3Ugd2FudCB0byBrbm93IGlmIGEgc2hhcGUgaXMgb3ZlcmxhcHBpbmcgYW5vdGhlciBzaGFwZSwgd2l0aG91dCB0aGVtIGdlbmVyYXRpbmcgY29udGFjdHMuXG5cdCAgICAgKiBAcHJvcGVydHkge0Jvb2xlYW59IHNlbnNvclxuXHQgICAgICovXG5cdCAgICB0aGlzLnNlbnNvciA9IG9wdGlvbnMuc2Vuc29yICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnNlbnNvciA6IGZhbHNlO1xuXHRcblx0ICAgIGlmKHRoaXMudHlwZSl7XG5cdCAgICAgICAgdGhpcy51cGRhdGVCb3VuZGluZ1JhZGl1cygpO1xuXHQgICAgfVxuXHRcblx0ICAgIHRoaXMudXBkYXRlQXJlYSgpO1xuXHR9XG5cdFxuXHRTaGFwZS5pZENvdW50ZXIgPSAwO1xuXHRcblx0LyoqXG5cdCAqIEBzdGF0aWNcblx0ICogQHByb3BlcnR5IHtOdW1iZXJ9IENJUkNMRVxuXHQgKi9cblx0U2hhcGUuQ0lSQ0xFID0gICAgICAxO1xuXHRcblx0LyoqXG5cdCAqIEBzdGF0aWNcblx0ICogQHByb3BlcnR5IHtOdW1iZXJ9IFBBUlRJQ0xFXG5cdCAqL1xuXHRTaGFwZS5QQVJUSUNMRSA9ICAgIDI7XG5cdFxuXHQvKipcblx0ICogQHN0YXRpY1xuXHQgKiBAcHJvcGVydHkge051bWJlcn0gUExBTkVcblx0ICovXG5cdFNoYXBlLlBMQU5FID0gICAgICAgNDtcblx0XG5cdC8qKlxuXHQgKiBAc3RhdGljXG5cdCAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBDT05WRVhcblx0ICovXG5cdFNoYXBlLkNPTlZFWCA9ICAgICAgODtcblx0XG5cdC8qKlxuXHQgKiBAc3RhdGljXG5cdCAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBMSU5FXG5cdCAqL1xuXHRTaGFwZS5MSU5FID0gICAgICAgIDE2O1xuXHRcblx0LyoqXG5cdCAqIEBzdGF0aWNcblx0ICogQHByb3BlcnR5IHtOdW1iZXJ9IEJPWFxuXHQgKi9cblx0U2hhcGUuQk9YID0gICAzMjtcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTaGFwZSwgJ1JFQ1RBTkdMRScsIHtcblx0ICAgIGdldDogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgY29uc29sZS53YXJuKCdTaGFwZS5SRUNUQU5HTEUgaXMgZGVwcmVjYXRlZCwgdXNlIFNoYXBlLkJPWCBpbnN0ZWFkLicpO1xuXHQgICAgICAgIHJldHVybiBTaGFwZS5CT1g7XG5cdCAgICB9XG5cdH0pO1xuXHRcblx0LyoqXG5cdCAqIEBzdGF0aWNcblx0ICogQHByb3BlcnR5IHtOdW1iZXJ9IENBUFNVTEVcblx0ICovXG5cdFNoYXBlLkNBUFNVTEUgPSAgICAgNjQ7XG5cdFxuXHQvKipcblx0ICogQHN0YXRpY1xuXHQgKiBAcHJvcGVydHkge051bWJlcn0gSEVJR0hURklFTERcblx0ICovXG5cdFNoYXBlLkhFSUdIVEZJRUxEID0gMTI4O1xuXHRcblx0LyoqXG5cdCAqIFNob3VsZCByZXR1cm4gdGhlIG1vbWVudCBvZiBpbmVydGlhIGFyb3VuZCB0aGUgWiBheGlzIG9mIHRoZSBib2R5IGdpdmVuIHRoZSB0b3RhbCBtYXNzLiBTZWUgPGEgaHJlZj1cImh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTGlzdF9vZl9tb21lbnRzX29mX2luZXJ0aWFcIj5XaWtpcGVkaWEncyBsaXN0IG9mIG1vbWVudHMgb2YgaW5lcnRpYTwvYT4uXG5cdCAqIEBtZXRob2QgY29tcHV0ZU1vbWVudE9mSW5lcnRpYVxuXHQgKiBAcGFyYW0gIHtOdW1iZXJ9IG1hc3Ncblx0ICogQHJldHVybiB7TnVtYmVyfSBJZiB0aGUgaW5lcnRpYSBpcyBpbmZpbml0eSBvciBpZiB0aGUgb2JqZWN0IHNpbXBseSBpc24ndCBwb3NzaWJsZSB0byByb3RhdGUsIHJldHVybiAwLlxuXHQgKi9cblx0U2hhcGUucHJvdG90eXBlLmNvbXB1dGVNb21lbnRPZkluZXJ0aWEgPSBmdW5jdGlvbihtYXNzKXt9O1xuXHRcblx0LyoqXG5cdCAqIFJldHVybnMgdGhlIGJvdW5kaW5nIGNpcmNsZSByYWRpdXMgb2YgdGhpcyBzaGFwZS5cblx0ICogQG1ldGhvZCB1cGRhdGVCb3VuZGluZ1JhZGl1c1xuXHQgKiBAcmV0dXJuIHtOdW1iZXJ9XG5cdCAqL1xuXHRTaGFwZS5wcm90b3R5cGUudXBkYXRlQm91bmRpbmdSYWRpdXMgPSBmdW5jdGlvbigpe307XG5cdFxuXHQvKipcblx0ICogVXBkYXRlIHRoZSAuYXJlYSBwcm9wZXJ0eSBvZiB0aGUgc2hhcGUuXG5cdCAqIEBtZXRob2QgdXBkYXRlQXJlYVxuXHQgKi9cblx0U2hhcGUucHJvdG90eXBlLnVwZGF0ZUFyZWEgPSBmdW5jdGlvbigpe1xuXHQgICAgLy8gVG8gYmUgaW1wbGVtZW50ZWQgaW4gYWxsIHN1YmNsYXNzZXNcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBDb21wdXRlIHRoZSB3b3JsZCBheGlzLWFsaWduZWQgYm91bmRpbmcgYm94IChBQUJCKSBvZiB0aGlzIHNoYXBlLlxuXHQgKiBAbWV0aG9kIGNvbXB1dGVBQUJCXG5cdCAqIEBwYXJhbSAge0FBQkJ9IG91dCBUaGUgcmVzdWx0aW5nIEFBQkIuXG5cdCAqIEBwYXJhbSAge0FycmF5fSBwb3NpdGlvbiBXb3JsZCBwb3NpdGlvbiBvZiB0aGUgc2hhcGUuXG5cdCAqIEBwYXJhbSAge051bWJlcn0gYW5nbGUgV29ybGQgYW5nbGUgb2YgdGhlIHNoYXBlLlxuXHQgKi9cblx0U2hhcGUucHJvdG90eXBlLmNvbXB1dGVBQUJCID0gZnVuY3Rpb24ob3V0LCBwb3NpdGlvbiwgYW5nbGUpe1xuXHQgICAgLy8gVG8gYmUgaW1wbGVtZW50ZWQgaW4gZWFjaCBzdWJjbGFzc1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIFBlcmZvcm0gcmF5Y2FzdGluZyBvbiB0aGlzIHNoYXBlLlxuXHQgKiBAbWV0aG9kIHJheWNhc3Rcblx0ICogQHBhcmFtICB7UmF5UmVzdWx0fSByZXN1bHQgV2hlcmUgdG8gc3RvcmUgdGhlIHJlc3VsdGluZyBkYXRhLlxuXHQgKiBAcGFyYW0gIHtSYXl9IHJheSBUaGUgUmF5IHRoYXQgeW91IHdhbnQgdG8gdXNlIGZvciByYXljYXN0aW5nLlxuXHQgKiBAcGFyYW0gIHthcnJheX0gcG9zaXRpb24gV29ybGQgcG9zaXRpb24gb2YgdGhlIHNoYXBlICh0aGUgLnBvc2l0aW9uIHByb3BlcnR5IHdpbGwgYmUgaWdub3JlZCkuXG5cdCAqIEBwYXJhbSAge251bWJlcn0gYW5nbGUgV29ybGQgYW5nbGUgb2YgdGhlIHNoYXBlICh0aGUgLmFuZ2xlIHByb3BlcnR5IHdpbGwgYmUgaWdub3JlZCkuXG5cdCAqL1xuXHRTaGFwZS5wcm90b3R5cGUucmF5Y2FzdCA9IGZ1bmN0aW9uKHJlc3VsdCwgcmF5LCBwb3NpdGlvbiwgYW5nbGUpe1xuXHQgICAgLy8gVG8gYmUgaW1wbGVtZW50ZWQgaW4gZWFjaCBzdWJjbGFzc1xuXHR9O1xuXG4vKioqLyB9LFxuLyogNSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBDb25zdHJhaW50O1xuXHRcblx0dmFyIFV0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0XG5cdC8qKlxuXHQgKiBCYXNlIGNvbnN0cmFpbnQgY2xhc3MuXG5cdCAqXG5cdCAqIEBjbGFzcyBDb25zdHJhaW50XG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKiBAYXV0aG9yIHNjaHRlcHBlXG5cdCAqIEBwYXJhbSB7Qm9keX0gYm9keUFcblx0ICogQHBhcmFtIHtCb2R5fSBib2R5QlxuXHQgKiBAcGFyYW0ge051bWJlcn0gdHlwZVxuXHQgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucy5jb2xsaWRlQ29ubmVjdGVkPXRydWVdXG5cdCAqL1xuXHRmdW5jdGlvbiBDb25zdHJhaW50KGJvZHlBLCBib2R5QiwgdHlwZSwgb3B0aW9ucyl7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGUgdHlwZSBvZiBjb25zdHJhaW50LiBNYXkgYmUgb25lIG9mIENvbnN0cmFpbnQuRElTVEFOQ0UsIENvbnN0cmFpbnQuR0VBUiwgQ29uc3RyYWludC5MT0NLLCBDb25zdHJhaW50LlBSSVNNQVRJQyBvciBDb25zdHJhaW50LlJFVk9MVVRFLlxuXHQgICAgICogQHByb3BlcnR5IHtudW1iZXJ9IHR5cGVcblx0ICAgICAqL1xuXHQgICAgdGhpcy50eXBlID0gdHlwZTtcblx0XG5cdCAgICBvcHRpb25zID0gVXRpbHMuZGVmYXVsdHMob3B0aW9ucyx7XG5cdCAgICAgICAgY29sbGlkZUNvbm5lY3RlZCA6IHRydWUsXG5cdCAgICAgICAgd2FrZVVwQm9kaWVzIDogdHJ1ZSxcblx0ICAgIH0pO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogRXF1YXRpb25zIHRvIGJlIHNvbHZlZCBpbiB0aGlzIGNvbnN0cmFpbnRcblx0ICAgICAqXG5cdCAgICAgKiBAcHJvcGVydHkgZXF1YXRpb25zXG5cdCAgICAgKiBAdHlwZSB7QXJyYXl9XG5cdCAgICAgKi9cblx0ICAgIHRoaXMuZXF1YXRpb25zID0gW107XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBGaXJzdCBib2R5IHBhcnRpY2lwYXRpbmcgaW4gdGhlIGNvbnN0cmFpbnQuXG5cdCAgICAgKiBAcHJvcGVydHkgYm9keUFcblx0ICAgICAqIEB0eXBlIHtCb2R5fVxuXHQgICAgICovXG5cdCAgICB0aGlzLmJvZHlBID0gYm9keUE7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBTZWNvbmQgYm9keSBwYXJ0aWNpcGF0aW5nIGluIHRoZSBjb25zdHJhaW50LlxuXHQgICAgICogQHByb3BlcnR5IGJvZHlCXG5cdCAgICAgKiBAdHlwZSB7Qm9keX1cblx0ICAgICAqL1xuXHQgICAgdGhpcy5ib2R5QiA9IGJvZHlCO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogU2V0IHRvIHRydWUgaWYgeW91IHdhbnQgdGhlIGNvbm5lY3RlZCBib2RpZXMgdG8gY29sbGlkZS5cblx0ICAgICAqIEBwcm9wZXJ0eSBjb2xsaWRlQ29ubmVjdGVkXG5cdCAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cblx0ICAgICAqIEBkZWZhdWx0IHRydWVcblx0ICAgICAqL1xuXHQgICAgdGhpcy5jb2xsaWRlQ29ubmVjdGVkID0gb3B0aW9ucy5jb2xsaWRlQ29ubmVjdGVkO1xuXHRcblx0ICAgIC8vIFdha2UgdXAgYm9kaWVzIHdoZW4gY29ubmVjdGVkXG5cdCAgICBpZihvcHRpb25zLndha2VVcEJvZGllcyl7XG5cdCAgICAgICAgaWYoYm9keUEpe1xuXHQgICAgICAgICAgICBib2R5QS53YWtlVXAoKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYoYm9keUIpe1xuXHQgICAgICAgICAgICBib2R5Qi53YWtlVXAoKTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBVcGRhdGVzIHRoZSBpbnRlcm5hbCBjb25zdHJhaW50IHBhcmFtZXRlcnMgYmVmb3JlIHNvbHZlLlxuXHQgKiBAbWV0aG9kIHVwZGF0ZVxuXHQgKi9cblx0Q29uc3RyYWludC5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24oKXtcblx0ICAgIHRocm93IG5ldyBFcnJvcihcIm1ldGhvZCB1cGRhdGUoKSBub3QgaW1wbG1lbWVudGVkIGluIHRoaXMgQ29uc3RyYWludCBzdWJjbGFzcyFcIik7XG5cdH07XG5cdFxuXHQvKipcblx0ICogQHN0YXRpY1xuXHQgKiBAcHJvcGVydHkge251bWJlcn0gRElTVEFOQ0Vcblx0ICovXG5cdENvbnN0cmFpbnQuRElTVEFOQ0UgPSAxO1xuXHRcblx0LyoqXG5cdCAqIEBzdGF0aWNcblx0ICogQHByb3BlcnR5IHtudW1iZXJ9IEdFQVJcblx0ICovXG5cdENvbnN0cmFpbnQuR0VBUiA9IDI7XG5cdFxuXHQvKipcblx0ICogQHN0YXRpY1xuXHQgKiBAcHJvcGVydHkge251bWJlcn0gTE9DS1xuXHQgKi9cblx0Q29uc3RyYWludC5MT0NLID0gMztcblx0XG5cdC8qKlxuXHQgKiBAc3RhdGljXG5cdCAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBQUklTTUFUSUNcblx0ICovXG5cdENvbnN0cmFpbnQuUFJJU01BVElDID0gNDtcblx0XG5cdC8qKlxuXHQgKiBAc3RhdGljXG5cdCAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBSRVZPTFVURVxuXHQgKi9cblx0Q29uc3RyYWludC5SRVZPTFVURSA9IDU7XG5cdFxuXHQvKipcblx0ICogU2V0IHN0aWZmbmVzcyBmb3IgdGhpcyBjb25zdHJhaW50LlxuXHQgKiBAbWV0aG9kIHNldFN0aWZmbmVzc1xuXHQgKiBAcGFyYW0ge051bWJlcn0gc3RpZmZuZXNzXG5cdCAqL1xuXHRDb25zdHJhaW50LnByb3RvdHlwZS5zZXRTdGlmZm5lc3MgPSBmdW5jdGlvbihzdGlmZm5lc3Mpe1xuXHQgICAgdmFyIGVxcyA9IHRoaXMuZXF1YXRpb25zO1xuXHQgICAgZm9yKHZhciBpPTA7IGkgIT09IGVxcy5sZW5ndGg7IGkrKyl7XG5cdCAgICAgICAgdmFyIGVxID0gZXFzW2ldO1xuXHQgICAgICAgIGVxLnN0aWZmbmVzcyA9IHN0aWZmbmVzcztcblx0ICAgICAgICBlcS5uZWVkc1VwZGF0ZSA9IHRydWU7XG5cdCAgICB9XG5cdH07XG5cdFxuXHQvKipcblx0ICogU2V0IHJlbGF4YXRpb24gZm9yIHRoaXMgY29uc3RyYWludC5cblx0ICogQG1ldGhvZCBzZXRSZWxheGF0aW9uXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSByZWxheGF0aW9uXG5cdCAqL1xuXHRDb25zdHJhaW50LnByb3RvdHlwZS5zZXRSZWxheGF0aW9uID0gZnVuY3Rpb24ocmVsYXhhdGlvbil7XG5cdCAgICB2YXIgZXFzID0gdGhpcy5lcXVhdGlvbnM7XG5cdCAgICBmb3IodmFyIGk9MDsgaSAhPT0gZXFzLmxlbmd0aDsgaSsrKXtcblx0ICAgICAgICB2YXIgZXEgPSBlcXNbaV07XG5cdCAgICAgICAgZXEucmVsYXhhdGlvbiA9IHJlbGF4YXRpb247XG5cdCAgICAgICAgZXEubmVlZHNVcGRhdGUgPSB0cnVlO1xuXHQgICAgfVxuXHR9O1xuXG5cbi8qKiovIH0sXG4vKiA2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgdmVjMiA9IF9fd2VicGFja19yZXF1aXJlX18oMSlcblx0LCAgIGRlY29tcCA9IF9fd2VicGFja19yZXF1aXJlX18oNDEpXG5cdCwgICBDb252ZXggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1KVxuXHQsICAgUmF5Y2FzdFJlc3VsdCA9IF9fd2VicGFja19yZXF1aXJlX18oMjYpXG5cdCwgICBSYXkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4KVxuXHQsICAgQUFCQiA9IF9fd2VicGFja19yZXF1aXJlX18oMTYpXG5cdCwgICBFdmVudEVtaXR0ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIwKTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gQm9keTtcblx0XG5cdC8qKlxuXHQgKiBBIHJpZ2lkIGJvZHkuIEhhcyBnb3QgYSBjZW50ZXIgb2YgbWFzcywgcG9zaXRpb24sIHZlbG9jaXR5IGFuZCBhIG51bWJlciBvZlxuXHQgKiBzaGFwZXMgdGhhdCBhcmUgdXNlZCBmb3IgY29sbGlzaW9ucy5cblx0ICpcblx0ICogQGNsYXNzIEJvZHlcblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqIEBleHRlbmRzIEV2ZW50RW1pdHRlclxuXHQgKiBAcGFyYW0ge0FycmF5fSBbb3B0aW9ucy5mb3JjZV1cblx0ICogQHBhcmFtIHtBcnJheX0gW29wdGlvbnMucG9zaXRpb25dXG5cdCAqIEBwYXJhbSB7QXJyYXl9IFtvcHRpb25zLnZlbG9jaXR5XVxuXHQgKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLmFsbG93U2xlZXBdXG5cdCAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuY29sbGlzaW9uUmVzcG9uc2VdXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5hbmdsZT0wXVxuXHQgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMuYW5ndWxhckZvcmNlPTBdXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5hbmd1bGFyVmVsb2NpdHk9MF1cblx0ICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLmNjZEl0ZXJhdGlvbnM9MTBdXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5jY2RTcGVlZFRocmVzaG9sZD0tMV1cblx0ICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLmZpeGVkUm90YXRpb249ZmFsc2VdXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5ncmF2aXR5U2NhbGVdXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5pZF1cblx0ICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLm1hc3M9MF0gQSBudW1iZXIgPj0gMC4gSWYgemVybywgdGhlIC50eXBlIHdpbGwgYmUgc2V0IHRvIEJvZHkuU1RBVElDLlxuXHQgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMuc2xlZXBTcGVlZExpbWl0XVxuXHQgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMuc2xlZXBUaW1lTGltaXRdXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cblx0ICpcblx0ICogQGV4YW1wbGVcblx0ICpcblx0ICogICAgIC8vIENyZWF0ZSBhIHR5cGljYWwgZHluYW1pYyBib2R5XG5cdCAqICAgICB2YXIgYm9keSA9IG5ldyBCb2R5KHtcblx0ICogICAgICAgICBtYXNzOiAxLFxuXHQgKiAgICAgICAgIHBvc2l0aW9uOiBbMCwgMF0sXG5cdCAqICAgICAgICAgYW5nbGU6IDAsXG5cdCAqICAgICAgICAgdmVsb2NpdHk6IFswLCAwXSxcblx0ICogICAgICAgICBhbmd1bGFyVmVsb2NpdHk6IDBcblx0ICogICAgIH0pO1xuXHQgKlxuXHQgKiAgICAgLy8gQWRkIGEgY2lyY3VsYXIgc2hhcGUgdG8gdGhlIGJvZHlcblx0ICogICAgIGJvZHkuYWRkU2hhcGUobmV3IENpcmNsZSh7IHJhZGl1czogMSB9KSk7XG5cdCAqXG5cdCAqICAgICAvLyBBZGQgdGhlIGJvZHkgdG8gdGhlIHdvcmxkXG5cdCAqICAgICB3b3JsZC5hZGRCb2R5KGJvZHkpO1xuXHQgKi9cblx0ZnVuY3Rpb24gQm9keShvcHRpb25zKXtcblx0ICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXHRcblx0ICAgIEV2ZW50RW1pdHRlci5jYWxsKHRoaXMpO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVGhlIGJvZHkgaWRlbnRpZnllclxuXHQgICAgICogQHByb3BlcnR5IGlkXG5cdCAgICAgKiBAdHlwZSB7TnVtYmVyfVxuXHQgICAgICovXG5cdCAgICB0aGlzLmlkID0gb3B0aW9ucy5pZCB8fCArK0JvZHkuX2lkQ291bnRlcjtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIFRoZSB3b3JsZCB0aGF0IHRoaXMgYm9keSBpcyBhZGRlZCB0by4gVGhpcyBwcm9wZXJ0eSBpcyBzZXQgdG8gTlVMTCBpZiB0aGUgYm9keSBpcyBub3QgYWRkZWQgdG8gYW55IHdvcmxkLlxuXHQgICAgICogQHByb3BlcnR5IHdvcmxkXG5cdCAgICAgKiBAdHlwZSB7V29ybGR9XG5cdCAgICAgKi9cblx0ICAgIHRoaXMud29ybGQgPSBudWxsO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVGhlIHNoYXBlcyBvZiB0aGUgYm9keS5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJvcGVydHkgc2hhcGVzXG5cdCAgICAgKiBAdHlwZSB7QXJyYXl9XG5cdCAgICAgKi9cblx0ICAgIHRoaXMuc2hhcGVzID0gW107XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGUgbWFzcyBvZiB0aGUgYm9keS5cblx0ICAgICAqIEBwcm9wZXJ0eSBtYXNzXG5cdCAgICAgKiBAdHlwZSB7bnVtYmVyfVxuXHQgICAgICovXG5cdCAgICB0aGlzLm1hc3MgPSBvcHRpb25zLm1hc3MgfHwgMDtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIFRoZSBpbnZlcnNlIG1hc3Mgb2YgdGhlIGJvZHkuXG5cdCAgICAgKiBAcHJvcGVydHkgaW52TWFzc1xuXHQgICAgICogQHR5cGUge251bWJlcn1cblx0ICAgICAqL1xuXHQgICAgdGhpcy5pbnZNYXNzID0gMDtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIFRoZSBpbmVydGlhIG9mIHRoZSBib2R5IGFyb3VuZCB0aGUgWiBheGlzLlxuXHQgICAgICogQHByb3BlcnR5IGluZXJ0aWFcblx0ICAgICAqIEB0eXBlIHtudW1iZXJ9XG5cdCAgICAgKi9cblx0ICAgIHRoaXMuaW5lcnRpYSA9IDA7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGUgaW52ZXJzZSBpbmVydGlhIG9mIHRoZSBib2R5LlxuXHQgICAgICogQHByb3BlcnR5IGludkluZXJ0aWFcblx0ICAgICAqIEB0eXBlIHtudW1iZXJ9XG5cdCAgICAgKi9cblx0ICAgIHRoaXMuaW52SW5lcnRpYSA9IDA7XG5cdFxuXHQgICAgdGhpcy5pbnZNYXNzU29sdmUgPSAwO1xuXHQgICAgdGhpcy5pbnZJbmVydGlhU29sdmUgPSAwO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogU2V0IHRvIHRydWUgaWYgeW91IHdhbnQgdG8gZml4IHRoZSByb3RhdGlvbiBvZiB0aGUgYm9keS5cblx0ICAgICAqIEBwcm9wZXJ0eSBmaXhlZFJvdGF0aW9uXG5cdCAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cblx0ICAgICAqL1xuXHQgICAgdGhpcy5maXhlZFJvdGF0aW9uID0gISFvcHRpb25zLmZpeGVkUm90YXRpb247XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBTZXQgdG8gdHJ1ZSBpZiB5b3Ugd2FudCB0byBmaXggdGhlIGJvZHkgbW92ZW1lbnQgYWxvbmcgdGhlIFggYXhpcy4gVGhlIGJvZHkgd2lsbCBzdGlsbCBiZSBhYmxlIHRvIG1vdmUgYWxvbmcgWS5cblx0ICAgICAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gZml4ZWRYXG5cdCAgICAgKi9cblx0ICAgIHRoaXMuZml4ZWRYID0gISFvcHRpb25zLmZpeGVkWDtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIFNldCB0byB0cnVlIGlmIHlvdSB3YW50IHRvIGZpeCB0aGUgYm9keSBtb3ZlbWVudCBhbG9uZyB0aGUgWSBheGlzLiBUaGUgYm9keSB3aWxsIHN0aWxsIGJlIGFibGUgdG8gbW92ZSBhbG9uZyBYLlxuXHQgICAgICogQHByb3BlcnR5IHtCb29sZWFufSBmaXhlZFlcblx0ICAgICAqL1xuXHQgICAgdGhpcy5maXhlZFkgPSAhIW9wdGlvbnMuZml4ZWRZO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQHByaXZhdGVcblx0ICAgICAqIEBwcm9wZXJ0eSB7YXJyYXl9IG1hc3NNdWx0aXBsaWVyXG5cdCAgICAgKi9cblx0ICAgIHRoaXMubWFzc011bHRpcGxpZXIgPSB2ZWMyLmNyZWF0ZSgpO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVGhlIHBvc2l0aW9uIG9mIHRoZSBib2R5XG5cdCAgICAgKiBAcHJvcGVydHkgcG9zaXRpb25cblx0ICAgICAqIEB0eXBlIHtBcnJheX1cblx0ICAgICAqL1xuXHQgICAgdGhpcy5wb3NpdGlvbiA9IHZlYzIuZnJvbVZhbHVlcygwLDApO1xuXHQgICAgaWYob3B0aW9ucy5wb3NpdGlvbil7XG5cdCAgICAgICAgdmVjMi5jb3B5KHRoaXMucG9zaXRpb24sIG9wdGlvbnMucG9zaXRpb24pO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVGhlIGludGVycG9sYXRlZCBwb3NpdGlvbiBvZiB0aGUgYm9keS4gVXNlIHRoaXMgZm9yIHJlbmRlcmluZy5cblx0ICAgICAqIEBwcm9wZXJ0eSBpbnRlcnBvbGF0ZWRQb3NpdGlvblxuXHQgICAgICogQHR5cGUge0FycmF5fVxuXHQgICAgICovXG5cdCAgICB0aGlzLmludGVycG9sYXRlZFBvc2l0aW9uID0gdmVjMi5mcm9tVmFsdWVzKDAsMCk7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGUgaW50ZXJwb2xhdGVkIGFuZ2xlIG9mIHRoZSBib2R5LiBVc2UgdGhpcyBmb3IgcmVuZGVyaW5nLlxuXHQgICAgICogQHByb3BlcnR5IGludGVycG9sYXRlZEFuZ2xlXG5cdCAgICAgKiBAdHlwZSB7TnVtYmVyfVxuXHQgICAgICovXG5cdCAgICB0aGlzLmludGVycG9sYXRlZEFuZ2xlID0gMDtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIFRoZSBwcmV2aW91cyBwb3NpdGlvbiBvZiB0aGUgYm9keS5cblx0ICAgICAqIEBwcm9wZXJ0eSBwcmV2aW91c1Bvc2l0aW9uXG5cdCAgICAgKiBAdHlwZSB7QXJyYXl9XG5cdCAgICAgKi9cblx0ICAgIHRoaXMucHJldmlvdXNQb3NpdGlvbiA9IHZlYzIuZnJvbVZhbHVlcygwLDApO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVGhlIHByZXZpb3VzIGFuZ2xlIG9mIHRoZSBib2R5LlxuXHQgICAgICogQHByb3BlcnR5IHByZXZpb3VzQW5nbGVcblx0ICAgICAqIEB0eXBlIHtOdW1iZXJ9XG5cdCAgICAgKi9cblx0ICAgIHRoaXMucHJldmlvdXNBbmdsZSA9IDA7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGUgY3VycmVudCB2ZWxvY2l0eSBvZiB0aGUgYm9keS5cblx0ICAgICAqIEBwcm9wZXJ0eSB2ZWxvY2l0eVxuXHQgICAgICogQHR5cGUge0FycmF5fVxuXHQgICAgICovXG5cdCAgICB0aGlzLnZlbG9jaXR5ID0gdmVjMi5mcm9tVmFsdWVzKDAsMCk7XG5cdCAgICBpZihvcHRpb25zLnZlbG9jaXR5KXtcblx0ICAgICAgICB2ZWMyLmNvcHkodGhpcy52ZWxvY2l0eSwgb3B0aW9ucy52ZWxvY2l0eSk7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDb25zdHJhaW50IHZlbG9jaXR5IHRoYXQgd2FzIGFkZGVkIHRvIHRoZSBib2R5IGR1cmluZyB0aGUgbGFzdCBzdGVwLlxuXHQgICAgICogQHByb3BlcnR5IHZsYW1iZGFcblx0ICAgICAqIEB0eXBlIHtBcnJheX1cblx0ICAgICAqL1xuXHQgICAgdGhpcy52bGFtYmRhID0gdmVjMi5mcm9tVmFsdWVzKDAsMCk7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBBbmd1bGFyIGNvbnN0cmFpbnQgdmVsb2NpdHkgdGhhdCB3YXMgYWRkZWQgdG8gdGhlIGJvZHkgZHVyaW5nIGxhc3Qgc3RlcC5cblx0ICAgICAqIEBwcm9wZXJ0eSB3bGFtYmRhXG5cdCAgICAgKiBAdHlwZSB7QXJyYXl9XG5cdCAgICAgKi9cblx0ICAgIHRoaXMud2xhbWJkYSA9IDA7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGUgYW5nbGUgb2YgdGhlIGJvZHksIGluIHJhZGlhbnMuXG5cdCAgICAgKiBAcHJvcGVydHkgYW5nbGVcblx0ICAgICAqIEB0eXBlIHtudW1iZXJ9XG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICogICAgIC8vIFRoZSBhbmdsZSBwcm9wZXJ0eSBpcyBub3Qgbm9ybWFsaXplZCB0byB0aGUgaW50ZXJ2YWwgMCB0byAyKnBpLCBpdCBjYW4gYmUgYW55IHZhbHVlLlxuXHQgICAgICogICAgIC8vIElmIHlvdSBuZWVkIGEgdmFsdWUgYmV0d2VlbiAwIGFuZCAyKnBpLCB1c2UgdGhlIGZvbGxvd2luZyBmdW5jdGlvbiB0byBub3JtYWxpemUgaXQuXG5cdCAgICAgKiAgICAgZnVuY3Rpb24gbm9ybWFsaXplQW5nbGUoYW5nbGUpe1xuXHQgICAgICogICAgICAgICBhbmdsZSA9IGFuZ2xlICUgKDIqTWF0aC5QSSk7XG5cdCAgICAgKiAgICAgICAgIGlmKGFuZ2xlIDwgMCl7XG5cdCAgICAgKiAgICAgICAgICAgICBhbmdsZSArPSAoMipNYXRoLlBJKTtcblx0ICAgICAqICAgICAgICAgfVxuXHQgICAgICogICAgICAgICByZXR1cm4gYW5nbGU7XG5cdCAgICAgKiAgICAgfVxuXHQgICAgICovXG5cdCAgICB0aGlzLmFuZ2xlID0gb3B0aW9ucy5hbmdsZSB8fCAwO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVGhlIGFuZ3VsYXIgdmVsb2NpdHkgb2YgdGhlIGJvZHksIGluIHJhZGlhbnMgcGVyIHNlY29uZC5cblx0ICAgICAqIEBwcm9wZXJ0eSBhbmd1bGFyVmVsb2NpdHlcblx0ICAgICAqIEB0eXBlIHtudW1iZXJ9XG5cdCAgICAgKi9cblx0ICAgIHRoaXMuYW5ndWxhclZlbG9jaXR5ID0gb3B0aW9ucy5hbmd1bGFyVmVsb2NpdHkgfHwgMDtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIFRoZSBmb3JjZSBhY3Rpbmcgb24gdGhlIGJvZHkuIFNpbmNlIHRoZSBib2R5IGZvcmNlIChhbmQge3sjY3Jvc3NMaW5rIFwiQm9keS9hbmd1bGFyRm9yY2U6cHJvcGVydHlcIn19e3svY3Jvc3NMaW5rfX0pIHdpbGwgYmUgemVyb2VkIGFmdGVyIGVhY2ggc3RlcCwgc28geW91IG5lZWQgdG8gc2V0IHRoZSBmb3JjZSBiZWZvcmUgZWFjaCBzdGVwLlxuXHQgICAgICogQHByb3BlcnR5IGZvcmNlXG5cdCAgICAgKiBAdHlwZSB7QXJyYXl9XG5cdCAgICAgKlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqICAgICAvLyBUaGlzIHByb2R1Y2VzIGEgZm9yY2VmaWVsZCBvZiAxIE5ld3RvbiBpbiB0aGUgcG9zaXRpdmUgeCBkaXJlY3Rpb24uXG5cdCAgICAgKiAgICAgZm9yKHZhciBpPTA7IGk8bnVtU3RlcHM7IGkrKyl7XG5cdCAgICAgKiAgICAgICAgIGJvZHkuZm9yY2VbMF0gPSAxO1xuXHQgICAgICogICAgICAgICB3b3JsZC5zdGVwKDEvNjApO1xuXHQgICAgICogICAgIH1cblx0ICAgICAqXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICogICAgIC8vIFRoaXMgd2lsbCBhcHBseSBhIHJvdGF0aW9uYWwgZm9yY2Ugb24gdGhlIGJvZHlcblx0ICAgICAqICAgICBmb3IodmFyIGk9MDsgaTxudW1TdGVwczsgaSsrKXtcblx0ICAgICAqICAgICAgICAgYm9keS5hbmd1bGFyRm9yY2UgPSAtMztcblx0ICAgICAqICAgICAgICAgd29ybGQuc3RlcCgxLzYwKTtcblx0ICAgICAqICAgICB9XG5cdCAgICAgKi9cblx0ICAgIHRoaXMuZm9yY2UgPSB2ZWMyLmNyZWF0ZSgpO1xuXHQgICAgaWYob3B0aW9ucy5mb3JjZSl7XG5cdCAgICAgICAgdmVjMi5jb3B5KHRoaXMuZm9yY2UsIG9wdGlvbnMuZm9yY2UpO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVGhlIGFuZ3VsYXIgZm9yY2UgYWN0aW5nIG9uIHRoZSBib2R5LiBTZWUge3sjY3Jvc3NMaW5rIFwiQm9keS9mb3JjZTpwcm9wZXJ0eVwifX17ey9jcm9zc0xpbmt9fS5cblx0ICAgICAqIEBwcm9wZXJ0eSBhbmd1bGFyRm9yY2Vcblx0ICAgICAqIEB0eXBlIHtudW1iZXJ9XG5cdCAgICAgKi9cblx0ICAgIHRoaXMuYW5ndWxhckZvcmNlID0gb3B0aW9ucy5hbmd1bGFyRm9yY2UgfHwgMDtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIFRoZSBsaW5lYXIgZGFtcGluZyBhY3Rpbmcgb24gdGhlIGJvZHkgaW4gdGhlIHZlbG9jaXR5IGRpcmVjdGlvbi4gU2hvdWxkIGJlIGEgdmFsdWUgYmV0d2VlbiAwIGFuZCAxLlxuXHQgICAgICogQHByb3BlcnR5IGRhbXBpbmdcblx0ICAgICAqIEB0eXBlIHtOdW1iZXJ9XG5cdCAgICAgKiBAZGVmYXVsdCAwLjFcblx0ICAgICAqL1xuXHQgICAgdGhpcy5kYW1waW5nID0gdHlwZW9mKG9wdGlvbnMuZGFtcGluZykgPT09IFwibnVtYmVyXCIgPyBvcHRpb25zLmRhbXBpbmcgOiAwLjE7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGUgYW5ndWxhciBmb3JjZSBhY3Rpbmcgb24gdGhlIGJvZHkuIFNob3VsZCBiZSBhIHZhbHVlIGJldHdlZW4gMCBhbmQgMS5cblx0ICAgICAqIEBwcm9wZXJ0eSBhbmd1bGFyRGFtcGluZ1xuXHQgICAgICogQHR5cGUge051bWJlcn1cblx0ICAgICAqIEBkZWZhdWx0IDAuMVxuXHQgICAgICovXG5cdCAgICB0aGlzLmFuZ3VsYXJEYW1waW5nID0gdHlwZW9mKG9wdGlvbnMuYW5ndWxhckRhbXBpbmcpID09PSBcIm51bWJlclwiID8gb3B0aW9ucy5hbmd1bGFyRGFtcGluZyA6IDAuMTtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIFRoZSB0eXBlIG9mIG1vdGlvbiB0aGlzIGJvZHkgaGFzLiBTaG91bGQgYmUgb25lIG9mOiB7eyNjcm9zc0xpbmsgXCJCb2R5L1NUQVRJQzpwcm9wZXJ0eVwifX1Cb2R5LlNUQVRJQ3t7L2Nyb3NzTGlua319LCB7eyNjcm9zc0xpbmsgXCJCb2R5L0RZTkFNSUM6cHJvcGVydHlcIn19Qm9keS5EWU5BTUlDe3svY3Jvc3NMaW5rfX0gYW5kIHt7I2Nyb3NzTGluayBcIkJvZHkvS0lORU1BVElDOnByb3BlcnR5XCJ9fUJvZHkuS0lORU1BVElDe3svY3Jvc3NMaW5rfX0uXG5cdCAgICAgKlxuXHQgICAgICogKiBTdGF0aWMgYm9kaWVzIGRvIG5vdCBtb3ZlLCBhbmQgdGhleSBkbyBub3QgcmVzcG9uZCB0byBmb3JjZXMgb3IgY29sbGlzaW9uLlxuXHQgICAgICogKiBEeW5hbWljIGJvZGllcyBib2R5IGNhbiBtb3ZlIGFuZCByZXNwb25kIHRvIGNvbGxpc2lvbnMgYW5kIGZvcmNlcy5cblx0ICAgICAqICogS2luZW1hdGljIGJvZGllcyBvbmx5IG1vdmVzIGFjY29yZGluZyB0byBpdHMgLnZlbG9jaXR5LCBhbmQgZG9lcyBub3QgcmVzcG9uZCB0byBjb2xsaXNpb25zIG9yIGZvcmNlLlxuXHQgICAgICpcblx0ICAgICAqIEBwcm9wZXJ0eSB0eXBlXG5cdCAgICAgKiBAdHlwZSB7bnVtYmVyfVxuXHQgICAgICpcblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKiAgICAgLy8gQm9kaWVzIGFyZSBzdGF0aWMgYnkgZGVmYXVsdC4gU3RhdGljIGJvZGllcyB3aWxsIG5ldmVyIG1vdmUuXG5cdCAgICAgKiAgICAgdmFyIGJvZHkgPSBuZXcgQm9keSgpO1xuXHQgICAgICogICAgIGNvbnNvbGUubG9nKGJvZHkudHlwZSA9PSBCb2R5LlNUQVRJQyk7IC8vIHRydWVcblx0ICAgICAqXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICogICAgIC8vIEJ5IHNldHRpbmcgdGhlIG1hc3Mgb2YgYSBib2R5IHRvIGEgbm9uemVybyBudW1iZXIsIHRoZSBib2R5XG5cdCAgICAgKiAgICAgLy8gd2lsbCBiZWNvbWUgZHluYW1pYyBhbmQgd2lsbCBtb3ZlIGFuZCBpbnRlcmFjdCB3aXRoIG90aGVyIGJvZGllcy5cblx0ICAgICAqICAgICB2YXIgZHluYW1pY0JvZHkgPSBuZXcgQm9keSh7XG5cdCAgICAgKiAgICAgICAgIG1hc3MgOiAxXG5cdCAgICAgKiAgICAgfSk7XG5cdCAgICAgKiAgICAgY29uc29sZS5sb2coZHluYW1pY0JvZHkudHlwZSA9PSBCb2R5LkRZTkFNSUMpOyAvLyB0cnVlXG5cdCAgICAgKlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqICAgICAvLyBLaW5lbWF0aWMgYm9kaWVzIHdpbGwgb25seSBtb3ZlIGlmIHlvdSBjaGFuZ2UgdGhlaXIgdmVsb2NpdHkuXG5cdCAgICAgKiAgICAgdmFyIGtpbmVtYXRpY0JvZHkgPSBuZXcgQm9keSh7XG5cdCAgICAgKiAgICAgICAgIHR5cGU6IEJvZHkuS0lORU1BVElDIC8vIFR5cGUgY2FuIGJlIHNldCB2aWEgdGhlIG9wdGlvbnMgb2JqZWN0LlxuXHQgICAgICogICAgIH0pO1xuXHQgICAgICovXG5cdCAgICB0aGlzLnR5cGUgPSBCb2R5LlNUQVRJQztcblx0XG5cdCAgICBpZih0eXBlb2Yob3B0aW9ucy50eXBlKSAhPT0gJ3VuZGVmaW5lZCcpe1xuXHQgICAgICAgIHRoaXMudHlwZSA9IG9wdGlvbnMudHlwZTtcblx0ICAgIH0gZWxzZSBpZighb3B0aW9ucy5tYXNzKXtcblx0ICAgICAgICB0aGlzLnR5cGUgPSBCb2R5LlNUQVRJQztcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgdGhpcy50eXBlID0gQm9keS5EWU5BTUlDO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQm91bmRpbmcgY2lyY2xlIHJhZGl1cy5cblx0ICAgICAqIEBwcm9wZXJ0eSBib3VuZGluZ1JhZGl1c1xuXHQgICAgICogQHR5cGUge051bWJlcn1cblx0ICAgICAqL1xuXHQgICAgdGhpcy5ib3VuZGluZ1JhZGl1cyA9IDA7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBCb3VuZGluZyBib3ggb2YgdGhpcyBib2R5LlxuXHQgICAgICogQHByb3BlcnR5IGFhYmJcblx0ICAgICAqIEB0eXBlIHtBQUJCfVxuXHQgICAgICovXG5cdCAgICB0aGlzLmFhYmIgPSBuZXcgQUFCQigpO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogSW5kaWNhdGVzIGlmIHRoZSBBQUJCIG5lZWRzIHVwZGF0ZS4gVXBkYXRlIGl0IHdpdGgge3sjY3Jvc3NMaW5rIFwiQm9keS91cGRhdGVBQUJCOm1ldGhvZFwifX0udXBkYXRlQUFCQigpe3svY3Jvc3NMaW5rfX0uXG5cdCAgICAgKiBAcHJvcGVydHkgYWFiYk5lZWRzVXBkYXRlXG5cdCAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cblx0ICAgICAqIEBzZWUgdXBkYXRlQUFCQlxuXHQgICAgICpcblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKiAgICAgLy8gRm9yY2UgdXBkYXRlIHRoZSBBQUJCXG5cdCAgICAgKiAgICAgYm9keS5hYWJiTmVlZHNVcGRhdGUgPSB0cnVlO1xuXHQgICAgICogICAgIGJvZHkudXBkYXRlQUFCQigpO1xuXHQgICAgICogICAgIGNvbnNvbGUubG9nKGJvZHkuYWFiYk5lZWRzVXBkYXRlKTsgLy8gZmFsc2Vcblx0ICAgICAqL1xuXHQgICAgdGhpcy5hYWJiTmVlZHNVcGRhdGUgPSB0cnVlO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogSWYgdHJ1ZSwgdGhlIGJvZHkgd2lsbCBhdXRvbWF0aWNhbGx5IGZhbGwgdG8gc2xlZXAuIE5vdGUgdGhhdCB5b3UgbmVlZCB0byBlbmFibGUgc2xlZXBpbmcgaW4gdGhlIHt7I2Nyb3NzTGluayBcIldvcmxkXCJ9fXt7L2Nyb3NzTGlua319IGJlZm9yZSBhbnl0aGluZyB3aWxsIGhhcHBlbi5cblx0ICAgICAqIEBwcm9wZXJ0eSBhbGxvd1NsZWVwXG5cdCAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cblx0ICAgICAqIEBkZWZhdWx0IHRydWVcblx0ICAgICAqL1xuXHQgICAgdGhpcy5hbGxvd1NsZWVwID0gb3B0aW9ucy5hbGxvd1NsZWVwICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmFsbG93U2xlZXAgOiB0cnVlO1xuXHRcblx0ICAgIHRoaXMud2FudHNUb1NsZWVwID0gZmFsc2U7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBPbmUgb2Yge3sjY3Jvc3NMaW5rIFwiQm9keS9BV0FLRTpwcm9wZXJ0eVwifX1Cb2R5LkFXQUtFe3svY3Jvc3NMaW5rfX0sIHt7I2Nyb3NzTGluayBcIkJvZHkvU0xFRVBZOnByb3BlcnR5XCJ9fUJvZHkuU0xFRVBZe3svY3Jvc3NMaW5rfX0gYW5kIHt7I2Nyb3NzTGluayBcIkJvZHkvU0xFRVBJTkc6cHJvcGVydHlcIn19Qm9keS5TTEVFUElOR3t7L2Nyb3NzTGlua319LlxuXHQgICAgICpcblx0ICAgICAqIFRoZSBib2R5IGlzIGluaXRpYWxseSBCb2R5LkFXQUtFLiBJZiBpdHMgdmVsb2NpdHkgbm9ybSBpcyBiZWxvdyAuc2xlZXBTcGVlZExpbWl0LCB0aGUgc2xlZXBTdGF0ZSB3aWxsIGJlY29tZSBCb2R5LlNMRUVQWS4gSWYgdGhlIGJvZHkgY29udGludWVzIHRvIGJlIEJvZHkuU0xFRVBZIGZvciAuc2xlZXBUaW1lTGltaXQgc2Vjb25kcywgaXQgd2lsbCBmYWxsIGFzbGVlcCAoQm9keS5TTEVFUFkpLlxuXHQgICAgICpcblx0ICAgICAqIEBwcm9wZXJ0eSBzbGVlcFN0YXRlXG5cdCAgICAgKiBAdHlwZSB7TnVtYmVyfVxuXHQgICAgICogQGRlZmF1bHQgQm9keS5BV0FLRVxuXHQgICAgICovXG5cdCAgICB0aGlzLnNsZWVwU3RhdGUgPSBCb2R5LkFXQUtFO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogSWYgdGhlIHNwZWVkICh0aGUgbm9ybSBvZiB0aGUgdmVsb2NpdHkpIGlzIHNtYWxsZXIgdGhhbiB0aGlzIHZhbHVlLCB0aGUgYm9keSBpcyBjb25zaWRlcmVkIHNsZWVweS5cblx0ICAgICAqIEBwcm9wZXJ0eSBzbGVlcFNwZWVkTGltaXRcblx0ICAgICAqIEB0eXBlIHtOdW1iZXJ9XG5cdCAgICAgKiBAZGVmYXVsdCAwLjJcblx0ICAgICAqL1xuXHQgICAgdGhpcy5zbGVlcFNwZWVkTGltaXQgPSBvcHRpb25zLnNsZWVwU3BlZWRMaW1pdCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5zbGVlcFNwZWVkTGltaXQgOiAwLjI7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBJZiB0aGUgYm9keSBoYXMgYmVlbiBzbGVlcHkgZm9yIHRoaXMgc2xlZXBUaW1lTGltaXQgc2Vjb25kcywgaXQgaXMgY29uc2lkZXJlZCBzbGVlcGluZy5cblx0ICAgICAqIEBwcm9wZXJ0eSBzbGVlcFRpbWVMaW1pdFxuXHQgICAgICogQHR5cGUge051bWJlcn1cblx0ICAgICAqIEBkZWZhdWx0IDFcblx0ICAgICAqL1xuXHQgICAgdGhpcy5zbGVlcFRpbWVMaW1pdCA9IG9wdGlvbnMuc2xlZXBUaW1lTGltaXQgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuc2xlZXBUaW1lTGltaXQgOiAxO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogR3Jhdml0eSBzY2FsaW5nIGZhY3Rvci4gSWYgeW91IHdhbnQgdGhlIGJvZHkgdG8gaWdub3JlIGdyYXZpdHksIHNldCB0aGlzIHRvIHplcm8uIElmIHlvdSB3YW50IHRvIHJldmVyc2UgZ3Jhdml0eSwgc2V0IGl0IHRvIC0xLlxuXHQgICAgICogQHByb3BlcnR5IHtOdW1iZXJ9IGdyYXZpdHlTY2FsZVxuXHQgICAgICogQGRlZmF1bHQgMVxuXHQgICAgICovXG5cdCAgICB0aGlzLmdyYXZpdHlTY2FsZSA9IG9wdGlvbnMuZ3Jhdml0eVNjYWxlICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmdyYXZpdHlTY2FsZSA6IDE7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBXaGV0aGVyIHRvIHByb2R1Y2UgY29udGFjdCBmb3JjZXMgd2hlbiBpbiBjb250YWN0IHdpdGggb3RoZXIgYm9kaWVzLiBOb3RlIHRoYXQgY29udGFjdHMgd2lsbCBiZSBnZW5lcmF0ZWQsIGJ1dCB0aGV5IHdpbGwgYmUgZGlzYWJsZWQuIFRoYXQgbWVhbnMgdGhhdCB0aGlzIGJvZHkgd2lsbCBtb3ZlIHRocm91Z2ggb3RoZXIgYm9kaWVzLCBidXQgaXQgd2lsbCBzdGlsbCB0cmlnZ2VyIGNvbnRhY3QgZXZlbnRzLCBldGMuXG5cdCAgICAgKiBAcHJvcGVydHkge0Jvb2xlYW59IGNvbGxpc2lvblJlc3BvbnNlXG5cdCAgICAgKi9cblx0ICAgIHRoaXMuY29sbGlzaW9uUmVzcG9uc2UgPSBvcHRpb25zLmNvbGxpc2lvblJlc3BvbnNlICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmNvbGxpc2lvblJlc3BvbnNlIDogdHJ1ZTtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIEhvdyBsb25nIHRoZSBib2R5IGhhcyBiZWVuIHNsZWVwaW5nLlxuXHQgICAgICogQHByb3BlcnR5IHtOdW1iZXJ9IGlkbGVUaW1lXG5cdCAgICAgKi9cblx0ICAgIHRoaXMuaWRsZVRpbWUgPSAwO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVGhlIGxhc3QgdGltZSB3aGVuIHRoZSBib2R5IHdlbnQgdG8gU0xFRVBZIHN0YXRlLlxuXHQgICAgICogQHByb3BlcnR5IHtOdW1iZXJ9IHRpbWVMYXN0U2xlZXB5XG5cdCAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICovXG5cdCAgICB0aGlzLnRpbWVMYXN0U2xlZXB5ID0gMDtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIElmIHRoZSBib2R5IHNwZWVkIGV4Y2VlZHMgdGhpcyB0aHJlc2hvbGQsIENDRCAoY29udGludW91cyBjb2xsaXNpb24gZGV0ZWN0aW9uKSB3aWxsIGJlIGVuYWJsZWQuIFNldCBpdCB0byBhIG5lZ2F0aXZlIG51bWJlciB0byBkaXNhYmxlIENDRCBjb21wbGV0ZWx5IGZvciB0aGlzIGJvZHkuXG5cdCAgICAgKiBAcHJvcGVydHkge251bWJlcn0gY2NkU3BlZWRUaHJlc2hvbGRcblx0ICAgICAqIEBkZWZhdWx0IC0xXG5cdCAgICAgKi9cblx0ICAgIHRoaXMuY2NkU3BlZWRUaHJlc2hvbGQgPSBvcHRpb25zLmNjZFNwZWVkVGhyZXNob2xkICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmNjZFNwZWVkVGhyZXNob2xkIDogLTE7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGUgbnVtYmVyIG9mIGl0ZXJhdGlvbnMgdGhhdCBzaG91bGQgYmUgdXNlZCB3aGVuIHNlYXJjaGluZyBmb3IgdGhlIHRpbWUgb2YgaW1wYWN0IGR1cmluZyBDQ0QuIEEgbGFyZ2VyIG51bWJlciB3aWxsIGFzc3VyZSB0aGF0IHRoZXJlJ3MgYSBzbWFsbCBwZW5ldHJhdGlvbiBvbiBDQ0QgY29sbGlzaW9uLCBidXQgYSBzbWFsbCBudW1iZXIgd2lsbCBnaXZlIG1vcmUgcGVyZm9ybWFuY2UuXG5cdCAgICAgKiBAcHJvcGVydHkge251bWJlcn0gY2NkSXRlcmF0aW9uc1xuXHQgICAgICogQGRlZmF1bHQgMTBcblx0ICAgICAqL1xuXHQgICAgdGhpcy5jY2RJdGVyYXRpb25zID0gb3B0aW9ucy5jY2RJdGVyYXRpb25zICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmNjZEl0ZXJhdGlvbnMgOiAxMDtcblx0XG5cdCAgICB0aGlzLmNvbmNhdmVQYXRoID0gbnVsbDtcblx0XG5cdCAgICB0aGlzLl93YWtlVXBBZnRlck5hcnJvd3BoYXNlID0gZmFsc2U7XG5cdFxuXHQgICAgdGhpcy51cGRhdGVNYXNzUHJvcGVydGllcygpO1xuXHR9XG5cdEJvZHkucHJvdG90eXBlID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuXHRCb2R5LnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEJvZHk7XG5cdFxuXHRCb2R5Ll9pZENvdW50ZXIgPSAwO1xuXHRcblx0LyoqXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBtZXRob2QgdXBkYXRlU29sdmVNYXNzUHJvcGVydGllc1xuXHQgKi9cblx0Qm9keS5wcm90b3R5cGUudXBkYXRlU29sdmVNYXNzUHJvcGVydGllcyA9IGZ1bmN0aW9uKCl7XG5cdCAgICBpZih0aGlzLnNsZWVwU3RhdGUgPT09IEJvZHkuU0xFRVBJTkcgfHwgdGhpcy50eXBlID09PSBCb2R5LktJTkVNQVRJQyl7XG5cdCAgICAgICAgdGhpcy5pbnZNYXNzU29sdmUgPSAwO1xuXHQgICAgICAgIHRoaXMuaW52SW5lcnRpYVNvbHZlID0gMDtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgdGhpcy5pbnZNYXNzU29sdmUgPSB0aGlzLmludk1hc3M7XG5cdCAgICAgICAgdGhpcy5pbnZJbmVydGlhU29sdmUgPSB0aGlzLmludkluZXJ0aWE7XG5cdCAgICB9XG5cdH07XG5cdFxuXHQvKipcblx0ICogU2V0IHRoZSB0b3RhbCBkZW5zaXR5IG9mIHRoZSBib2R5XG5cdCAqIEBtZXRob2Qgc2V0RGVuc2l0eVxuXHQgKiBAcGFyYW0ge251bWJlcn0gZGVuc2l0eVxuXHQgKi9cblx0Qm9keS5wcm90b3R5cGUuc2V0RGVuc2l0eSA9IGZ1bmN0aW9uKGRlbnNpdHkpIHtcblx0ICAgIHZhciB0b3RhbEFyZWEgPSB0aGlzLmdldEFyZWEoKTtcblx0ICAgIHRoaXMubWFzcyA9IHRvdGFsQXJlYSAqIGRlbnNpdHk7XG5cdCAgICB0aGlzLnVwZGF0ZU1hc3NQcm9wZXJ0aWVzKCk7XG5cdH07XG5cdFxuXHQvKipcblx0ICogR2V0IHRoZSB0b3RhbCBhcmVhIG9mIGFsbCBzaGFwZXMgaW4gdGhlIGJvZHlcblx0ICogQG1ldGhvZCBnZXRBcmVhXG5cdCAqIEByZXR1cm4ge051bWJlcn1cblx0ICovXG5cdEJvZHkucHJvdG90eXBlLmdldEFyZWEgPSBmdW5jdGlvbigpIHtcblx0ICAgIHZhciB0b3RhbEFyZWEgPSAwO1xuXHQgICAgZm9yKHZhciBpPTA7IGk8dGhpcy5zaGFwZXMubGVuZ3RoOyBpKyspe1xuXHQgICAgICAgIHRvdGFsQXJlYSArPSB0aGlzLnNoYXBlc1tpXS5hcmVhO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIHRvdGFsQXJlYTtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBHZXQgdGhlIEFBQkIgZnJvbSB0aGUgYm9keS4gVGhlIEFBQkIgaXMgdXBkYXRlZCBpZiBuZWNlc3NhcnkuXG5cdCAqIEBtZXRob2QgZ2V0QUFCQlxuXHQgKiBAcmV0dXJuIHtBQUJCfSBUaGUgQUFCQiBpbnN0YW5jZSAodGhpcy5hYWJiKVxuXHQgKi9cblx0Qm9keS5wcm90b3R5cGUuZ2V0QUFCQiA9IGZ1bmN0aW9uKCl7XG5cdCAgICBpZih0aGlzLmFhYmJOZWVkc1VwZGF0ZSl7XG5cdCAgICAgICAgdGhpcy51cGRhdGVBQUJCKCk7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gdGhpcy5hYWJiO1xuXHR9O1xuXHRcblx0dmFyIHNoYXBlQUFCQiA9IG5ldyBBQUJCKCksXG5cdCAgICB0bXAgPSB2ZWMyLmNyZWF0ZSgpO1xuXHRcblx0LyoqXG5cdCAqIFVwZGF0ZXMgdGhlIEFBQkIgb2YgdGhlIEJvZHksIGFuZCBzZXQgLmFhYmJOZWVkc1VwZGF0ZSA9IGZhbHNlLlxuXHQgKiBAbWV0aG9kIHVwZGF0ZUFBQkJcblx0ICovXG5cdEJvZHkucHJvdG90eXBlLnVwZGF0ZUFBQkIgPSBmdW5jdGlvbigpIHtcblx0ICAgIHZhciBzaGFwZXMgPSB0aGlzLnNoYXBlcyxcblx0ICAgICAgICBOID0gc2hhcGVzLmxlbmd0aCxcblx0ICAgICAgICBvZmZzZXQgPSB0bXAsXG5cdCAgICAgICAgYm9keUFuZ2xlID0gdGhpcy5hbmdsZTtcblx0XG5cdCAgICBmb3IodmFyIGk9MDsgaSE9PU47IGkrKyl7XG5cdCAgICAgICAgdmFyIHNoYXBlID0gc2hhcGVzW2ldLFxuXHQgICAgICAgICAgICBhbmdsZSA9IHNoYXBlLmFuZ2xlICsgYm9keUFuZ2xlO1xuXHRcblx0ICAgICAgICAvLyBHZXQgc2hhcGUgd29ybGQgb2Zmc2V0XG5cdCAgICAgICAgdmVjMi5yb3RhdGUob2Zmc2V0LCBzaGFwZS5wb3NpdGlvbiwgYm9keUFuZ2xlKTtcblx0ICAgICAgICB2ZWMyLmFkZChvZmZzZXQsIG9mZnNldCwgdGhpcy5wb3NpdGlvbik7XG5cdFxuXHQgICAgICAgIC8vIEdldCBzaGFwZSBBQUJCXG5cdCAgICAgICAgc2hhcGUuY29tcHV0ZUFBQkIoc2hhcGVBQUJCLCBvZmZzZXQsIGFuZ2xlKTtcblx0XG5cdCAgICAgICAgaWYoaT09PTApe1xuXHQgICAgICAgICAgICB0aGlzLmFhYmIuY29weShzaGFwZUFBQkIpO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIHRoaXMuYWFiYi5leHRlbmQoc2hhcGVBQUJCKTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgdGhpcy5hYWJiTmVlZHNVcGRhdGUgPSBmYWxzZTtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBVcGRhdGUgdGhlIGJvdW5kaW5nIHJhZGl1cyBvZiB0aGUgYm9keSAodGhpcy5ib3VuZGluZ1JhZGl1cykuIFNob3VsZCBiZSBkb25lIGlmIGFueSBvZiB0aGUgc2hhcGUgZGltZW5zaW9ucyBvciBwb3NpdGlvbnMgYXJlIGNoYW5nZWQuXG5cdCAqIEBtZXRob2QgdXBkYXRlQm91bmRpbmdSYWRpdXNcblx0ICovXG5cdEJvZHkucHJvdG90eXBlLnVwZGF0ZUJvdW5kaW5nUmFkaXVzID0gZnVuY3Rpb24oKXtcblx0ICAgIHZhciBzaGFwZXMgPSB0aGlzLnNoYXBlcyxcblx0ICAgICAgICBOID0gc2hhcGVzLmxlbmd0aCxcblx0ICAgICAgICByYWRpdXMgPSAwO1xuXHRcblx0ICAgIGZvcih2YXIgaT0wOyBpIT09TjsgaSsrKXtcblx0ICAgICAgICB2YXIgc2hhcGUgPSBzaGFwZXNbaV0sXG5cdCAgICAgICAgICAgIG9mZnNldCA9IHZlYzIubGVuZ3RoKHNoYXBlLnBvc2l0aW9uKSxcblx0ICAgICAgICAgICAgciA9IHNoYXBlLmJvdW5kaW5nUmFkaXVzO1xuXHQgICAgICAgIGlmKG9mZnNldCArIHIgPiByYWRpdXMpe1xuXHQgICAgICAgICAgICByYWRpdXMgPSBvZmZzZXQgKyByO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICB0aGlzLmJvdW5kaW5nUmFkaXVzID0gcmFkaXVzO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIEFkZCBhIHNoYXBlIHRvIHRoZSBib2R5LiBZb3UgY2FuIHBhc3MgYSBsb2NhbCB0cmFuc2Zvcm0gd2hlbiBhZGRpbmcgYSBzaGFwZSxcblx0ICogc28gdGhhdCB0aGUgc2hhcGUgZ2V0cyBhbiBvZmZzZXQgYW5kIGFuZ2xlIHJlbGF0aXZlIHRvIHRoZSBib2R5IGNlbnRlciBvZiBtYXNzLlxuXHQgKiBXaWxsIGF1dG9tYXRpY2FsbHkgdXBkYXRlIHRoZSBtYXNzIHByb3BlcnRpZXMgYW5kIGJvdW5kaW5nIHJhZGl1cy5cblx0ICpcblx0ICogQG1ldGhvZCBhZGRTaGFwZVxuXHQgKiBAcGFyYW0gIHtTaGFwZX0gICAgICAgICAgICAgIHNoYXBlXG5cdCAqIEBwYXJhbSAge0FycmF5fSBbb2Zmc2V0XSBMb2NhbCBib2R5IG9mZnNldCBvZiB0aGUgc2hhcGUuXG5cdCAqIEBwYXJhbSAge051bWJlcn0gICAgICAgICAgICAgW2FuZ2xlXSAgTG9jYWwgYm9keSBhbmdsZS5cblx0ICpcblx0ICogQGV4YW1wbGVcblx0ICogICAgIHZhciBib2R5ID0gbmV3IEJvZHkoKSxcblx0ICogICAgICAgICBzaGFwZSA9IG5ldyBDaXJjbGUoeyByYWRpdXM6IDEgfSk7XG5cdCAqXG5cdCAqICAgICAvLyBBZGQgdGhlIHNoYXBlIHRvIHRoZSBib2R5LCBwb3NpdGlvbmVkIGluIHRoZSBjZW50ZXJcblx0ICogICAgIGJvZHkuYWRkU2hhcGUoc2hhcGUpO1xuXHQgKlxuXHQgKiAgICAgLy8gQWRkIGFub3RoZXIgc2hhcGUgdG8gdGhlIGJvZHksIHBvc2l0aW9uZWQgMSB1bml0IGxlbmd0aCBmcm9tIHRoZSBib2R5IGNlbnRlciBvZiBtYXNzIGFsb25nIHRoZSBsb2NhbCB4LWF4aXMuXG5cdCAqICAgICBib2R5LmFkZFNoYXBlKHNoYXBlLFsxLDBdKTtcblx0ICpcblx0ICogICAgIC8vIEFkZCBhbm90aGVyIHNoYXBlIHRvIHRoZSBib2R5LCBwb3NpdGlvbmVkIDEgdW5pdCBsZW5ndGggZnJvbSB0aGUgYm9keSBjZW50ZXIgb2YgbWFzcyBhbG9uZyB0aGUgbG9jYWwgeS1heGlzLCBhbmQgcm90YXRlZCA5MCBkZWdyZWVzIENDVy5cblx0ICogICAgIGJvZHkuYWRkU2hhcGUoc2hhcGUsWzAsMV0sTWF0aC5QSS8yKTtcblx0ICovXG5cdEJvZHkucHJvdG90eXBlLmFkZFNoYXBlID0gZnVuY3Rpb24oc2hhcGUsIG9mZnNldCwgYW5nbGUpe1xuXHQgICAgaWYoc2hhcGUuYm9keSl7XG5cdCAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBIHNoYXBlIGNhbiBvbmx5IGJlIGFkZGVkIHRvIG9uZSBib2R5LicpO1xuXHQgICAgfVxuXHQgICAgc2hhcGUuYm9keSA9IHRoaXM7XG5cdFxuXHQgICAgLy8gQ29weSB0aGUgb2Zmc2V0IHZlY3RvclxuXHQgICAgaWYob2Zmc2V0KXtcblx0ICAgICAgICB2ZWMyLmNvcHkoc2hhcGUucG9zaXRpb24sIG9mZnNldCk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIHZlYzIuc2V0KHNoYXBlLnBvc2l0aW9uLCAwLCAwKTtcblx0ICAgIH1cblx0XG5cdCAgICBzaGFwZS5hbmdsZSA9IGFuZ2xlIHx8IDA7XG5cdFxuXHQgICAgdGhpcy5zaGFwZXMucHVzaChzaGFwZSk7XG5cdCAgICB0aGlzLnVwZGF0ZU1hc3NQcm9wZXJ0aWVzKCk7XG5cdCAgICB0aGlzLnVwZGF0ZUJvdW5kaW5nUmFkaXVzKCk7XG5cdFxuXHQgICAgdGhpcy5hYWJiTmVlZHNVcGRhdGUgPSB0cnVlO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIFJlbW92ZSBhIHNoYXBlXG5cdCAqIEBtZXRob2QgcmVtb3ZlU2hhcGVcblx0ICogQHBhcmFtICB7U2hhcGV9IHNoYXBlXG5cdCAqIEByZXR1cm4ge0Jvb2xlYW59IFRydWUgaWYgdGhlIHNoYXBlIHdhcyBmb3VuZCBhbmQgcmVtb3ZlZCwgZWxzZSBmYWxzZS5cblx0ICovXG5cdEJvZHkucHJvdG90eXBlLnJlbW92ZVNoYXBlID0gZnVuY3Rpb24oc2hhcGUpe1xuXHQgICAgdmFyIGlkeCA9IHRoaXMuc2hhcGVzLmluZGV4T2Yoc2hhcGUpO1xuXHRcblx0ICAgIGlmKGlkeCAhPT0gLTEpe1xuXHQgICAgICAgIHRoaXMuc2hhcGVzLnNwbGljZShpZHgsMSk7XG5cdCAgICAgICAgdGhpcy5hYWJiTmVlZHNVcGRhdGUgPSB0cnVlO1xuXHQgICAgICAgIHNoYXBlLmJvZHkgPSBudWxsO1xuXHQgICAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICB9XG5cdH07XG5cdFxuXHQvKipcblx0ICogVXBkYXRlcyAuaW5lcnRpYSwgLmludk1hc3MsIC5pbnZJbmVydGlhIGZvciB0aGlzIEJvZHkuIFNob3VsZCBiZSBjYWxsZWQgd2hlblxuXHQgKiBjaGFuZ2luZyB0aGUgc3RydWN0dXJlIG9yIG1hc3Mgb2YgdGhlIEJvZHkuXG5cdCAqXG5cdCAqIEBtZXRob2QgdXBkYXRlTWFzc1Byb3BlcnRpZXNcblx0ICpcblx0ICogQGV4YW1wbGVcblx0ICogICAgIGJvZHkubWFzcyArPSAxO1xuXHQgKiAgICAgYm9keS51cGRhdGVNYXNzUHJvcGVydGllcygpO1xuXHQgKi9cblx0Qm9keS5wcm90b3R5cGUudXBkYXRlTWFzc1Byb3BlcnRpZXMgPSBmdW5jdGlvbigpe1xuXHQgICAgaWYodGhpcy50eXBlID09PSBCb2R5LlNUQVRJQyB8fCB0aGlzLnR5cGUgPT09IEJvZHkuS0lORU1BVElDKXtcblx0XG5cdCAgICAgICAgdGhpcy5tYXNzID0gTnVtYmVyLk1BWF9WQUxVRTtcblx0ICAgICAgICB0aGlzLmludk1hc3MgPSAwO1xuXHQgICAgICAgIHRoaXMuaW5lcnRpYSA9IE51bWJlci5NQVhfVkFMVUU7XG5cdCAgICAgICAgdGhpcy5pbnZJbmVydGlhID0gMDtcblx0XG5cdCAgICB9IGVsc2Uge1xuXHRcblx0ICAgICAgICB2YXIgc2hhcGVzID0gdGhpcy5zaGFwZXMsXG5cdCAgICAgICAgICAgIE4gPSBzaGFwZXMubGVuZ3RoLFxuXHQgICAgICAgICAgICBtID0gdGhpcy5tYXNzIC8gTixcblx0ICAgICAgICAgICAgSSA9IDA7XG5cdFxuXHQgICAgICAgIGlmKCF0aGlzLmZpeGVkUm90YXRpb24pe1xuXHQgICAgICAgICAgICBmb3IodmFyIGk9MDsgaTxOOyBpKyspe1xuXHQgICAgICAgICAgICAgICAgdmFyIHNoYXBlID0gc2hhcGVzW2ldLFxuXHQgICAgICAgICAgICAgICAgICAgIHIyID0gdmVjMi5zcXVhcmVkTGVuZ3RoKHNoYXBlLnBvc2l0aW9uKSxcblx0ICAgICAgICAgICAgICAgICAgICBJY20gPSBzaGFwZS5jb21wdXRlTW9tZW50T2ZJbmVydGlhKG0pO1xuXHQgICAgICAgICAgICAgICAgSSArPSBJY20gKyBtKnIyO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHRoaXMuaW5lcnRpYSA9IEk7XG5cdCAgICAgICAgICAgIHRoaXMuaW52SW5lcnRpYSA9IEk+MCA/IDEvSSA6IDA7XG5cdFxuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIHRoaXMuaW5lcnRpYSA9IE51bWJlci5NQVhfVkFMVUU7XG5cdCAgICAgICAgICAgIHRoaXMuaW52SW5lcnRpYSA9IDA7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICAvLyBJbnZlcnNlIG1hc3MgcHJvcGVydGllcyBhcmUgZWFzeVxuXHQgICAgICAgIHRoaXMuaW52TWFzcyA9IDEgLyB0aGlzLm1hc3M7XG5cdFxuXHQgICAgICAgIHZlYzIuc2V0KFxuXHQgICAgICAgICAgICB0aGlzLm1hc3NNdWx0aXBsaWVyLFxuXHQgICAgICAgICAgICB0aGlzLmZpeGVkWCA/IDAgOiAxLFxuXHQgICAgICAgICAgICB0aGlzLmZpeGVkWSA/IDAgOiAxXG5cdCAgICAgICAgKTtcblx0ICAgIH1cblx0fTtcblx0XG5cdHZhciBCb2R5X2FwcGx5Rm9yY2VfciA9IHZlYzIuY3JlYXRlKCk7XG5cdFxuXHQvKipcblx0ICogQXBwbHkgZm9yY2UgdG8gYSBwb2ludCByZWxhdGl2ZSB0byB0aGUgY2VudGVyIG9mIG1hc3Mgb2YgdGhlIGJvZHkuIFRoaXMgY291bGQgZm9yIGV4YW1wbGUgYmUgYSBwb2ludCBvbiB0aGUgUmlnaWRCb2R5IHN1cmZhY2UuIEFwcGx5aW5nIGZvcmNlIHRoaXMgd2F5IHdpbGwgYWRkIHRvIEJvZHkuZm9yY2UgYW5kIEJvZHkuYW5ndWxhckZvcmNlLiBJZiByZWxhdGl2ZVBvaW50IGlzIHplcm8sIHRoZSBmb3JjZSB3aWxsIGJlIGFwcGxpZWQgZGlyZWN0bHkgb24gdGhlIGNlbnRlciBvZiBtYXNzLCBhbmQgdGhlIHRvcnF1ZSBwcm9kdWNlZCB3aWxsIGJlIHplcm8uXG5cdCAqIEBtZXRob2QgYXBwbHlGb3JjZVxuXHQgKiBAcGFyYW0ge0FycmF5fSBmb3JjZSBUaGUgZm9yY2UgdG8gYWRkLlxuXHQgKiBAcGFyYW0ge0FycmF5fSBbcmVsYXRpdmVQb2ludF0gQSB3b3JsZCBwb2ludCB0byBhcHBseSB0aGUgZm9yY2Ugb24uXG5cdCAqL1xuXHRCb2R5LnByb3RvdHlwZS5hcHBseUZvcmNlID0gZnVuY3Rpb24oZm9yY2UsIHJlbGF0aXZlUG9pbnQpe1xuXHRcblx0ICAgIC8vIEFkZCBsaW5lYXIgZm9yY2Vcblx0ICAgIHZlYzIuYWRkKHRoaXMuZm9yY2UsIHRoaXMuZm9yY2UsIGZvcmNlKTtcblx0XG5cdCAgICBpZihyZWxhdGl2ZVBvaW50KXtcblx0XG5cdCAgICAgICAgLy8gQ29tcHV0ZSBwcm9kdWNlZCByb3RhdGlvbmFsIGZvcmNlXG5cdCAgICAgICAgdmFyIHJvdEZvcmNlID0gdmVjMi5jcm9zc0xlbmd0aChyZWxhdGl2ZVBvaW50LGZvcmNlKTtcblx0XG5cdCAgICAgICAgLy8gQWRkIHJvdGF0aW9uYWwgZm9yY2Vcblx0ICAgICAgICB0aGlzLmFuZ3VsYXJGb3JjZSArPSByb3RGb3JjZTtcblx0ICAgIH1cblx0fTtcblx0XG5cdC8qKlxuXHQgKiBBcHBseSBmb3JjZSB0byBhIGJvZHktbG9jYWwgcG9pbnQuXG5cdCAqIEBtZXRob2QgYXBwbHlGb3JjZUxvY2FsXG5cdCAqIEBwYXJhbSAge0FycmF5fSBsb2NhbEZvcmNlIFRoZSBmb3JjZSB2ZWN0b3IgdG8gYWRkLCBvcmllbnRlZCBpbiBsb2NhbCBib2R5IHNwYWNlLlxuXHQgKiBAcGFyYW0gIHtBcnJheX0gbG9jYWxQb2ludCBBIHBvaW50IHJlbGF0aXZlIHRvIHRoZSBib2R5IGluIHdvcmxkIHNwYWNlLiBJZiBub3QgZ2l2ZW4sIGl0IGlzIHNldCB0byB6ZXJvIGFuZCBhbGwgb2YgdGhlIGltcHVsc2Ugd2lsbCBiZSBleGNlcnRlZCBvbiB0aGUgY2VudGVyIG9mIG1hc3MuXG5cdCAqL1xuXHR2YXIgQm9keV9hcHBseUZvcmNlX2ZvcmNlV29ybGQgPSB2ZWMyLmNyZWF0ZSgpO1xuXHR2YXIgQm9keV9hcHBseUZvcmNlX3BvaW50V29ybGQgPSB2ZWMyLmNyZWF0ZSgpO1xuXHR2YXIgQm9keV9hcHBseUZvcmNlX3BvaW50TG9jYWwgPSB2ZWMyLmNyZWF0ZSgpO1xuXHRCb2R5LnByb3RvdHlwZS5hcHBseUZvcmNlTG9jYWwgPSBmdW5jdGlvbihsb2NhbEZvcmNlLCBsb2NhbFBvaW50KXtcblx0ICAgIGxvY2FsUG9pbnQgPSBsb2NhbFBvaW50IHx8IEJvZHlfYXBwbHlGb3JjZV9wb2ludExvY2FsO1xuXHQgICAgdmFyIHdvcmxkRm9yY2UgPSBCb2R5X2FwcGx5Rm9yY2VfZm9yY2VXb3JsZDtcblx0ICAgIHZhciB3b3JsZFBvaW50ID0gQm9keV9hcHBseUZvcmNlX3BvaW50V29ybGQ7XG5cdCAgICB0aGlzLnZlY3RvclRvV29ybGRGcmFtZSh3b3JsZEZvcmNlLCBsb2NhbEZvcmNlKTtcblx0ICAgIHRoaXMudmVjdG9yVG9Xb3JsZEZyYW1lKHdvcmxkUG9pbnQsIGxvY2FsUG9pbnQpO1xuXHQgICAgdGhpcy5hcHBseUZvcmNlKHdvcmxkRm9yY2UsIHdvcmxkUG9pbnQpO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIEFwcGx5IGltcHVsc2UgdG8gYSBwb2ludCByZWxhdGl2ZSB0byB0aGUgYm9keS4gVGhpcyBjb3VsZCBmb3IgZXhhbXBsZSBiZSBhIHBvaW50IG9uIHRoZSBCb2R5IHN1cmZhY2UuIEFuIGltcHVsc2UgaXMgYSBmb3JjZSBhZGRlZCB0byBhIGJvZHkgZHVyaW5nIGEgc2hvcnQgcGVyaW9kIG9mIHRpbWUgKGltcHVsc2UgPSBmb3JjZSAqIHRpbWUpLiBJbXB1bHNlcyB3aWxsIGJlIGFkZGVkIHRvIEJvZHkudmVsb2NpdHkgYW5kIEJvZHkuYW5ndWxhclZlbG9jaXR5LlxuXHQgKiBAbWV0aG9kIGFwcGx5SW1wdWxzZVxuXHQgKiBAcGFyYW0gIHtBcnJheX0gaW1wdWxzZSBUaGUgaW1wdWxzZSB2ZWN0b3IgdG8gYWRkLCBvcmllbnRlZCBpbiB3b3JsZCBzcGFjZS5cblx0ICogQHBhcmFtICB7QXJyYXl9IFtyZWxhdGl2ZVBvaW50XSBBIHBvaW50IHJlbGF0aXZlIHRvIHRoZSBib2R5IGluIHdvcmxkIHNwYWNlLiBJZiBub3QgZ2l2ZW4sIGl0IGlzIHNldCB0byB6ZXJvIGFuZCBhbGwgb2YgdGhlIGltcHVsc2Ugd2lsbCBiZSBleGNlcnRlZCBvbiB0aGUgY2VudGVyIG9mIG1hc3MuXG5cdCAqL1xuXHR2YXIgQm9keV9hcHBseUltcHVsc2VfdmVsbyA9IHZlYzIuY3JlYXRlKCk7XG5cdEJvZHkucHJvdG90eXBlLmFwcGx5SW1wdWxzZSA9IGZ1bmN0aW9uKGltcHVsc2VWZWN0b3IsIHJlbGF0aXZlUG9pbnQpe1xuXHQgICAgaWYodGhpcy50eXBlICE9PSBCb2R5LkRZTkFNSUMpe1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgIH1cblx0XG5cdCAgICAvLyBDb21wdXRlIHByb2R1Y2VkIGNlbnRyYWwgaW1wdWxzZSB2ZWxvY2l0eVxuXHQgICAgdmFyIHZlbG8gPSBCb2R5X2FwcGx5SW1wdWxzZV92ZWxvO1xuXHQgICAgdmVjMi5zY2FsZSh2ZWxvLCBpbXB1bHNlVmVjdG9yLCB0aGlzLmludk1hc3MpO1xuXHQgICAgdmVjMi5tdWx0aXBseSh2ZWxvLCB0aGlzLm1hc3NNdWx0aXBsaWVyLCB2ZWxvKTtcblx0XG5cdCAgICAvLyBBZGQgbGluZWFyIGltcHVsc2Vcblx0ICAgIHZlYzIuYWRkKHRoaXMudmVsb2NpdHksIHZlbG8sIHRoaXMudmVsb2NpdHkpO1xuXHRcblx0ICAgIGlmKHJlbGF0aXZlUG9pbnQpe1xuXHQgICAgICAgIC8vIENvbXB1dGUgcHJvZHVjZWQgcm90YXRpb25hbCBpbXB1bHNlIHZlbG9jaXR5XG5cdCAgICAgICAgdmFyIHJvdFZlbG8gPSB2ZWMyLmNyb3NzTGVuZ3RoKHJlbGF0aXZlUG9pbnQsIGltcHVsc2VWZWN0b3IpO1xuXHQgICAgICAgIHJvdFZlbG8gKj0gdGhpcy5pbnZJbmVydGlhO1xuXHRcblx0ICAgICAgICAvLyBBZGQgcm90YXRpb25hbCBJbXB1bHNlXG5cdCAgICAgICAgdGhpcy5hbmd1bGFyVmVsb2NpdHkgKz0gcm90VmVsbztcblx0ICAgIH1cblx0fTtcblx0XG5cdC8qKlxuXHQgKiBBcHBseSBpbXB1bHNlIHRvIGEgcG9pbnQgcmVsYXRpdmUgdG8gdGhlIGJvZHkuIFRoaXMgY291bGQgZm9yIGV4YW1wbGUgYmUgYSBwb2ludCBvbiB0aGUgQm9keSBzdXJmYWNlLiBBbiBpbXB1bHNlIGlzIGEgZm9yY2UgYWRkZWQgdG8gYSBib2R5IGR1cmluZyBhIHNob3J0IHBlcmlvZCBvZiB0aW1lIChpbXB1bHNlID0gZm9yY2UgKiB0aW1lKS4gSW1wdWxzZXMgd2lsbCBiZSBhZGRlZCB0byBCb2R5LnZlbG9jaXR5IGFuZCBCb2R5LmFuZ3VsYXJWZWxvY2l0eS5cblx0ICogQG1ldGhvZCBhcHBseUltcHVsc2VMb2NhbFxuXHQgKiBAcGFyYW0gIHtBcnJheX0gaW1wdWxzZSBUaGUgaW1wdWxzZSB2ZWN0b3IgdG8gYWRkLCBvcmllbnRlZCBpbiB3b3JsZCBzcGFjZS5cblx0ICogQHBhcmFtICB7QXJyYXl9IFtyZWxhdGl2ZVBvaW50XSBBIHBvaW50IHJlbGF0aXZlIHRvIHRoZSBib2R5IGluIHdvcmxkIHNwYWNlLiBJZiBub3QgZ2l2ZW4sIGl0IGlzIHNldCB0byB6ZXJvIGFuZCBhbGwgb2YgdGhlIGltcHVsc2Ugd2lsbCBiZSBleGNlcnRlZCBvbiB0aGUgY2VudGVyIG9mIG1hc3MuXG5cdCAqL1xuXHR2YXIgQm9keV9hcHBseUltcHVsc2VfaW1wdWxzZVdvcmxkID0gdmVjMi5jcmVhdGUoKTtcblx0dmFyIEJvZHlfYXBwbHlJbXB1bHNlX3BvaW50V29ybGQgPSB2ZWMyLmNyZWF0ZSgpO1xuXHR2YXIgQm9keV9hcHBseUltcHVsc2VfcG9pbnRMb2NhbCA9IHZlYzIuY3JlYXRlKCk7XG5cdEJvZHkucHJvdG90eXBlLmFwcGx5SW1wdWxzZUxvY2FsID0gZnVuY3Rpb24obG9jYWxJbXB1bHNlLCBsb2NhbFBvaW50KXtcblx0ICAgIGxvY2FsUG9pbnQgPSBsb2NhbFBvaW50IHx8IEJvZHlfYXBwbHlJbXB1bHNlX3BvaW50TG9jYWw7XG5cdCAgICB2YXIgd29ybGRJbXB1bHNlID0gQm9keV9hcHBseUltcHVsc2VfaW1wdWxzZVdvcmxkO1xuXHQgICAgdmFyIHdvcmxkUG9pbnQgPSBCb2R5X2FwcGx5SW1wdWxzZV9wb2ludFdvcmxkO1xuXHQgICAgdGhpcy52ZWN0b3JUb1dvcmxkRnJhbWUod29ybGRJbXB1bHNlLCBsb2NhbEltcHVsc2UpO1xuXHQgICAgdGhpcy52ZWN0b3JUb1dvcmxkRnJhbWUod29ybGRQb2ludCwgbG9jYWxQb2ludCk7XG5cdCAgICB0aGlzLmFwcGx5SW1wdWxzZSh3b3JsZEltcHVsc2UsIHdvcmxkUG9pbnQpO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIFRyYW5zZm9ybSBhIHdvcmxkIHBvaW50IHRvIGxvY2FsIGJvZHkgZnJhbWUuXG5cdCAqIEBtZXRob2QgdG9Mb2NhbEZyYW1lXG5cdCAqIEBwYXJhbSAge0FycmF5fSBvdXQgICAgICAgICAgVGhlIHZlY3RvciB0byBzdG9yZSB0aGUgcmVzdWx0IGluXG5cdCAqIEBwYXJhbSAge0FycmF5fSB3b3JsZFBvaW50ICAgVGhlIGlucHV0IHdvcmxkIHBvaW50XG5cdCAqL1xuXHRCb2R5LnByb3RvdHlwZS50b0xvY2FsRnJhbWUgPSBmdW5jdGlvbihvdXQsIHdvcmxkUG9pbnQpe1xuXHQgICAgdmVjMi50b0xvY2FsRnJhbWUob3V0LCB3b3JsZFBvaW50LCB0aGlzLnBvc2l0aW9uLCB0aGlzLmFuZ2xlKTtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBUcmFuc2Zvcm0gYSBsb2NhbCBwb2ludCB0byB3b3JsZCBmcmFtZS5cblx0ICogQG1ldGhvZCB0b1dvcmxkRnJhbWVcblx0ICogQHBhcmFtICB7QXJyYXl9IG91dCAgICAgICAgICBUaGUgdmVjdG9yIHRvIHN0b3JlIHRoZSByZXN1bHQgaW5cblx0ICogQHBhcmFtICB7QXJyYXl9IGxvY2FsUG9pbnQgICBUaGUgaW5wdXQgbG9jYWwgcG9pbnRcblx0ICovXG5cdEJvZHkucHJvdG90eXBlLnRvV29ybGRGcmFtZSA9IGZ1bmN0aW9uKG91dCwgbG9jYWxQb2ludCl7XG5cdCAgICB2ZWMyLnRvR2xvYmFsRnJhbWUob3V0LCBsb2NhbFBvaW50LCB0aGlzLnBvc2l0aW9uLCB0aGlzLmFuZ2xlKTtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBUcmFuc2Zvcm0gYSB3b3JsZCBwb2ludCB0byBsb2NhbCBib2R5IGZyYW1lLlxuXHQgKiBAbWV0aG9kIHZlY3RvclRvTG9jYWxGcmFtZVxuXHQgKiBAcGFyYW0gIHtBcnJheX0gb3V0ICAgICAgICAgIFRoZSB2ZWN0b3IgdG8gc3RvcmUgdGhlIHJlc3VsdCBpblxuXHQgKiBAcGFyYW0gIHtBcnJheX0gd29ybGRWZWN0b3IgIFRoZSBpbnB1dCB3b3JsZCB2ZWN0b3Jcblx0ICovXG5cdEJvZHkucHJvdG90eXBlLnZlY3RvclRvTG9jYWxGcmFtZSA9IGZ1bmN0aW9uKG91dCwgd29ybGRWZWN0b3Ipe1xuXHQgICAgdmVjMi52ZWN0b3JUb0xvY2FsRnJhbWUob3V0LCB3b3JsZFZlY3RvciwgdGhpcy5hbmdsZSk7XG5cdH07XG5cdFxuXHQvKipcblx0ICogVHJhbnNmb3JtIGEgbG9jYWwgcG9pbnQgdG8gd29ybGQgZnJhbWUuXG5cdCAqIEBtZXRob2QgdmVjdG9yVG9Xb3JsZEZyYW1lXG5cdCAqIEBwYXJhbSAge0FycmF5fSBvdXQgICAgICAgICAgVGhlIHZlY3RvciB0byBzdG9yZSB0aGUgcmVzdWx0IGluXG5cdCAqIEBwYXJhbSAge0FycmF5fSBsb2NhbFZlY3RvciAgVGhlIGlucHV0IGxvY2FsIHZlY3RvclxuXHQgKi9cblx0Qm9keS5wcm90b3R5cGUudmVjdG9yVG9Xb3JsZEZyYW1lID0gZnVuY3Rpb24ob3V0LCBsb2NhbFZlY3Rvcil7XG5cdCAgICB2ZWMyLnZlY3RvclRvR2xvYmFsRnJhbWUob3V0LCBsb2NhbFZlY3RvciwgdGhpcy5hbmdsZSk7XG5cdH07XG5cdFxuXHQvKipcblx0ICogUmVhZHMgYSBwb2x5Z29uIHNoYXBlIHBhdGgsIGFuZCBhc3NlbWJsZXMgY29udmV4IHNoYXBlcyBmcm9tIHRoYXQgYW5kIHB1dHMgdGhlbSBhdCBwcm9wZXIgb2Zmc2V0IHBvaW50cy5cblx0ICogQG1ldGhvZCBmcm9tUG9seWdvblxuXHQgKiBAcGFyYW0ge0FycmF5fSBwYXRoIEFuIGFycmF5IG9mIDJkIHZlY3RvcnMsIGUuZy4gW1swLDBdLFswLDFdLC4uLl0gdGhhdCByZXNlbWJsZXMgYSBjb25jYXZlIG9yIGNvbnZleCBwb2x5Z29uLiBUaGUgc2hhcGUgbXVzdCBiZSBzaW1wbGUgYW5kIHdpdGhvdXQgaG9sZXMuXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cblx0ICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5vcHRpbWFsRGVjb21wPWZhbHNlXSAgIFNldCB0byB0cnVlIGlmIHlvdSBuZWVkIG9wdGltYWwgZGVjb21wb3NpdGlvbi4gV2FybmluZzogdmVyeSBzbG93IGZvciBwb2x5Z29ucyB3aXRoIG1vcmUgdGhhbiAxMCB2ZXJ0aWNlcy5cblx0ICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5za2lwU2ltcGxlQ2hlY2s9ZmFsc2VdIFNldCB0byB0cnVlIGlmIHlvdSBhbHJlYWR5IGtub3cgdGhhdCB0aGUgcGF0aCBpcyBub3QgaW50ZXJzZWN0aW5nIGl0c2VsZi5cblx0ICogQHBhcmFtIHtCb29sZWFufE51bWJlcn0gW29wdGlvbnMucmVtb3ZlQ29sbGluZWFyUG9pbnRzPWZhbHNlXSBTZXQgdG8gYSBudW1iZXIgKGFuZ2xlIHRocmVzaG9sZCB2YWx1ZSkgdG8gcmVtb3ZlIGNvbGxpbmVhciBwb2ludHMsIG9yIGZhbHNlIHRvIGtlZXAgYWxsIHBvaW50cy5cblx0ICogQHJldHVybiB7Qm9vbGVhbn0gVHJ1ZSBvbiBzdWNjZXNzLCBlbHNlIGZhbHNlLlxuXHQgKi9cblx0Qm9keS5wcm90b3R5cGUuZnJvbVBvbHlnb24gPSBmdW5jdGlvbihwYXRoLG9wdGlvbnMpe1xuXHQgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cdFxuXHQgICAgLy8gUmVtb3ZlIGFsbCBzaGFwZXNcblx0ICAgIGZvcih2YXIgaT10aGlzLnNoYXBlcy5sZW5ndGg7IGk+PTA7IC0taSl7XG5cdCAgICAgICAgdGhpcy5yZW1vdmVTaGFwZSh0aGlzLnNoYXBlc1tpXSk7XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIHAgPSBuZXcgZGVjb21wLlBvbHlnb24oKTtcblx0ICAgIHAudmVydGljZXMgPSBwYXRoO1xuXHRcblx0ICAgIC8vIE1ha2UgaXQgY291bnRlci1jbG9ja3dpc2Vcblx0ICAgIHAubWFrZUNDVygpO1xuXHRcblx0ICAgIGlmKHR5cGVvZihvcHRpb25zLnJlbW92ZUNvbGxpbmVhclBvaW50cykgPT09IFwibnVtYmVyXCIpe1xuXHQgICAgICAgIHAucmVtb3ZlQ29sbGluZWFyUG9pbnRzKG9wdGlvbnMucmVtb3ZlQ29sbGluZWFyUG9pbnRzKTtcblx0ICAgIH1cblx0XG5cdCAgICAvLyBDaGVjayBpZiBhbnkgbGluZSBzZWdtZW50IGludGVyc2VjdHMgdGhlIHBhdGggaXRzZWxmXG5cdCAgICBpZih0eXBlb2Yob3B0aW9ucy5za2lwU2ltcGxlQ2hlY2spID09PSBcInVuZGVmaW5lZFwiKXtcblx0ICAgICAgICBpZighcC5pc1NpbXBsZSgpKXtcblx0ICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICAvLyBTYXZlIHRoaXMgcGF0aCBmb3IgbGF0ZXJcblx0ICAgIHRoaXMuY29uY2F2ZVBhdGggPSBwLnZlcnRpY2VzLnNsaWNlKDApO1xuXHQgICAgZm9yKHZhciBpPTA7IGk8dGhpcy5jb25jYXZlUGF0aC5sZW5ndGg7IGkrKyl7XG5cdCAgICAgICAgdmFyIHYgPSBbMCwwXTtcblx0ICAgICAgICB2ZWMyLmNvcHkodix0aGlzLmNvbmNhdmVQYXRoW2ldKTtcblx0ICAgICAgICB0aGlzLmNvbmNhdmVQYXRoW2ldID0gdjtcblx0ICAgIH1cblx0XG5cdCAgICAvLyBTbG93IG9yIGZhc3QgZGVjb21wP1xuXHQgICAgdmFyIGNvbnZleGVzO1xuXHQgICAgaWYob3B0aW9ucy5vcHRpbWFsRGVjb21wKXtcblx0ICAgICAgICBjb252ZXhlcyA9IHAuZGVjb21wKCk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIGNvbnZleGVzID0gcC5xdWlja0RlY29tcCgpO1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciBjbSA9IHZlYzIuY3JlYXRlKCk7XG5cdFxuXHQgICAgLy8gQWRkIGNvbnZleGVzXG5cdCAgICBmb3IodmFyIGk9MDsgaSE9PWNvbnZleGVzLmxlbmd0aDsgaSsrKXtcblx0ICAgICAgICAvLyBDcmVhdGUgY29udmV4XG5cdCAgICAgICAgdmFyIGMgPSBuZXcgQ29udmV4KHsgdmVydGljZXM6IGNvbnZleGVzW2ldLnZlcnRpY2VzIH0pO1xuXHRcblx0ICAgICAgICAvLyBNb3ZlIGFsbCB2ZXJ0aWNlcyBzbyBpdHMgY2VudGVyIG9mIG1hc3MgaXMgaW4gdGhlIGxvY2FsIGNlbnRlciBvZiB0aGUgY29udmV4XG5cdCAgICAgICAgZm9yKHZhciBqPTA7IGohPT1jLnZlcnRpY2VzLmxlbmd0aDsgaisrKXtcblx0ICAgICAgICAgICAgdmFyIHYgPSBjLnZlcnRpY2VzW2pdO1xuXHQgICAgICAgICAgICB2ZWMyLnN1Yih2LHYsYy5jZW50ZXJPZk1hc3MpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgdmVjMi5zY2FsZShjbSxjLmNlbnRlck9mTWFzcywxKTtcblx0ICAgICAgICBjLnVwZGF0ZVRyaWFuZ2xlcygpO1xuXHQgICAgICAgIGMudXBkYXRlQ2VudGVyT2ZNYXNzKCk7XG5cdCAgICAgICAgYy51cGRhdGVCb3VuZGluZ1JhZGl1cygpO1xuXHRcblx0ICAgICAgICAvLyBBZGQgdGhlIHNoYXBlXG5cdCAgICAgICAgdGhpcy5hZGRTaGFwZShjLGNtKTtcblx0ICAgIH1cblx0XG5cdCAgICB0aGlzLmFkanVzdENlbnRlck9mTWFzcygpO1xuXHRcblx0ICAgIHRoaXMuYWFiYk5lZWRzVXBkYXRlID0gdHJ1ZTtcblx0XG5cdCAgICByZXR1cm4gdHJ1ZTtcblx0fTtcblx0XG5cdHZhciBhZGp1c3RDZW50ZXJPZk1hc3NfdG1wMSA9IHZlYzIuZnJvbVZhbHVlcygwLDApLFxuXHQgICAgYWRqdXN0Q2VudGVyT2ZNYXNzX3RtcDIgPSB2ZWMyLmZyb21WYWx1ZXMoMCwwKSxcblx0ICAgIGFkanVzdENlbnRlck9mTWFzc190bXAzID0gdmVjMi5mcm9tVmFsdWVzKDAsMCksXG5cdCAgICBhZGp1c3RDZW50ZXJPZk1hc3NfdG1wNCA9IHZlYzIuZnJvbVZhbHVlcygwLDApO1xuXHRcblx0LyoqXG5cdCAqIE1vdmVzIHRoZSBzaGFwZSBvZmZzZXRzIHNvIHRoZWlyIGNlbnRlciBvZiBtYXNzIGJlY29tZXMgdGhlIGJvZHkgY2VudGVyIG9mIG1hc3MuXG5cdCAqIEBtZXRob2QgYWRqdXN0Q2VudGVyT2ZNYXNzXG5cdCAqL1xuXHRCb2R5LnByb3RvdHlwZS5hZGp1c3RDZW50ZXJPZk1hc3MgPSBmdW5jdGlvbigpe1xuXHQgICAgdmFyIG9mZnNldF90aW1lc19hcmVhID0gYWRqdXN0Q2VudGVyT2ZNYXNzX3RtcDIsXG5cdCAgICAgICAgc3VtID0gICAgICAgICAgICAgICBhZGp1c3RDZW50ZXJPZk1hc3NfdG1wMyxcblx0ICAgICAgICBjbSA9ICAgICAgICAgICAgICAgIGFkanVzdENlbnRlck9mTWFzc190bXA0LFxuXHQgICAgICAgIHRvdGFsQXJlYSA9ICAgICAgICAgMDtcblx0ICAgIHZlYzIuc2V0KHN1bSwwLDApO1xuXHRcblx0ICAgIGZvcih2YXIgaT0wOyBpIT09dGhpcy5zaGFwZXMubGVuZ3RoOyBpKyspe1xuXHQgICAgICAgIHZhciBzID0gdGhpcy5zaGFwZXNbaV07XG5cdCAgICAgICAgdmVjMi5zY2FsZShvZmZzZXRfdGltZXNfYXJlYSwgcy5wb3NpdGlvbiwgcy5hcmVhKTtcblx0ICAgICAgICB2ZWMyLmFkZChzdW0sIHN1bSwgb2Zmc2V0X3RpbWVzX2FyZWEpO1xuXHQgICAgICAgIHRvdGFsQXJlYSArPSBzLmFyZWE7XG5cdCAgICB9XG5cdFxuXHQgICAgdmVjMi5zY2FsZShjbSxzdW0sMS90b3RhbEFyZWEpO1xuXHRcblx0ICAgIC8vIE5vdyBtb3ZlIGFsbCBzaGFwZXNcblx0ICAgIGZvcih2YXIgaT0wOyBpIT09dGhpcy5zaGFwZXMubGVuZ3RoOyBpKyspe1xuXHQgICAgICAgIHZhciBzID0gdGhpcy5zaGFwZXNbaV07XG5cdCAgICAgICAgdmVjMi5zdWIocy5wb3NpdGlvbiwgcy5wb3NpdGlvbiwgY20pO1xuXHQgICAgfVxuXHRcblx0ICAgIC8vIE1vdmUgdGhlIGJvZHkgcG9zaXRpb24gdG9vXG5cdCAgICB2ZWMyLmFkZCh0aGlzLnBvc2l0aW9uLHRoaXMucG9zaXRpb24sY20pO1xuXHRcblx0ICAgIC8vIEFuZCBjb25jYXZlIHBhdGhcblx0ICAgIGZvcih2YXIgaT0wOyB0aGlzLmNvbmNhdmVQYXRoICYmIGk8dGhpcy5jb25jYXZlUGF0aC5sZW5ndGg7IGkrKyl7XG5cdCAgICAgICAgdmVjMi5zdWIodGhpcy5jb25jYXZlUGF0aFtpXSwgdGhpcy5jb25jYXZlUGF0aFtpXSwgY20pO1xuXHQgICAgfVxuXHRcblx0ICAgIHRoaXMudXBkYXRlTWFzc1Byb3BlcnRpZXMoKTtcblx0ICAgIHRoaXMudXBkYXRlQm91bmRpbmdSYWRpdXMoKTtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBTZXRzIHRoZSBmb3JjZSBvbiB0aGUgYm9keSB0byB6ZXJvLlxuXHQgKiBAbWV0aG9kIHNldFplcm9Gb3JjZVxuXHQgKi9cblx0Qm9keS5wcm90b3R5cGUuc2V0WmVyb0ZvcmNlID0gZnVuY3Rpb24oKXtcblx0ICAgIHZlYzIuc2V0KHRoaXMuZm9yY2UsMC4wLDAuMCk7XG5cdCAgICB0aGlzLmFuZ3VsYXJGb3JjZSA9IDAuMDtcblx0fTtcblx0XG5cdEJvZHkucHJvdG90eXBlLnJlc2V0Q29uc3RyYWludFZlbG9jaXR5ID0gZnVuY3Rpb24oKXtcblx0ICAgIHZhciBiID0gdGhpcyxcblx0ICAgICAgICB2bGFtYmRhID0gYi52bGFtYmRhO1xuXHQgICAgdmVjMi5zZXQodmxhbWJkYSwwLDApO1xuXHQgICAgYi53bGFtYmRhID0gMDtcblx0fTtcblx0XG5cdEJvZHkucHJvdG90eXBlLmFkZENvbnN0cmFpbnRWZWxvY2l0eSA9IGZ1bmN0aW9uKCl7XG5cdCAgICB2YXIgYiA9IHRoaXMsXG5cdCAgICAgICAgdiA9IGIudmVsb2NpdHk7XG5cdCAgICB2ZWMyLmFkZCggdiwgdiwgYi52bGFtYmRhKTtcblx0ICAgIGIuYW5ndWxhclZlbG9jaXR5ICs9IGIud2xhbWJkYTtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBBcHBseSBkYW1waW5nLCBzZWUgPGEgaHJlZj1cImh0dHA6Ly9jb2RlLmdvb2dsZS5jb20vcC9idWxsZXQvaXNzdWVzL2RldGFpbD9pZD03NFwiPnRoaXM8L2E+IGZvciBkZXRhaWxzLlxuXHQgKiBAbWV0aG9kIGFwcGx5RGFtcGluZ1xuXHQgKiBAcGFyYW0gIHtudW1iZXJ9IGR0IEN1cnJlbnQgdGltZSBzdGVwXG5cdCAqL1xuXHRCb2R5LnByb3RvdHlwZS5hcHBseURhbXBpbmcgPSBmdW5jdGlvbihkdCl7XG5cdCAgICBpZih0aGlzLnR5cGUgPT09IEJvZHkuRFlOQU1JQyl7IC8vIE9ubHkgZm9yIGR5bmFtaWMgYm9kaWVzXG5cdCAgICAgICAgdmFyIHYgPSB0aGlzLnZlbG9jaXR5O1xuXHQgICAgICAgIHZlYzIuc2NhbGUodiwgdiwgTWF0aC5wb3coMS4wIC0gdGhpcy5kYW1waW5nLGR0KSk7XG5cdCAgICAgICAgdGhpcy5hbmd1bGFyVmVsb2NpdHkgKj0gTWF0aC5wb3coMS4wIC0gdGhpcy5hbmd1bGFyRGFtcGluZyxkdCk7XG5cdCAgICB9XG5cdH07XG5cdFxuXHQvKipcblx0ICogV2FrZSB0aGUgYm9keSB1cC4gTm9ybWFsbHkgeW91IHNob3VsZCBub3QgbmVlZCB0aGlzLCBhcyB0aGUgYm9keSBpcyBhdXRvbWF0aWNhbGx5IGF3b2tlbiBhdCBldmVudHMgc3VjaCBhcyBjb2xsaXNpb25zLlxuXHQgKiBTZXRzIHRoZSBzbGVlcFN0YXRlIHRvIHt7I2Nyb3NzTGluayBcIkJvZHkvQVdBS0U6cHJvcGVydHlcIn19Qm9keS5BV0FLRXt7L2Nyb3NzTGlua319IGFuZCBlbWl0cyB0aGUgd2FrZVVwIGV2ZW50IGlmIHRoZSBib2R5IHdhc24ndCBhd2FrZSBiZWZvcmUuXG5cdCAqIEBtZXRob2Qgd2FrZVVwXG5cdCAqL1xuXHRCb2R5LnByb3RvdHlwZS53YWtlVXAgPSBmdW5jdGlvbigpe1xuXHQgICAgdmFyIHMgPSB0aGlzLnNsZWVwU3RhdGU7XG5cdCAgICB0aGlzLnNsZWVwU3RhdGUgPSBCb2R5LkFXQUtFO1xuXHQgICAgdGhpcy5pZGxlVGltZSA9IDA7XG5cdCAgICBpZihzICE9PSBCb2R5LkFXQUtFKXtcblx0ICAgICAgICB0aGlzLmVtaXQoQm9keS53YWtlVXBFdmVudCk7XG5cdCAgICB9XG5cdH07XG5cdFxuXHQvKipcblx0ICogRm9yY2UgYm9keSBzbGVlcFxuXHQgKiBAbWV0aG9kIHNsZWVwXG5cdCAqL1xuXHRCb2R5LnByb3RvdHlwZS5zbGVlcCA9IGZ1bmN0aW9uKCl7XG5cdCAgICB0aGlzLnNsZWVwU3RhdGUgPSBCb2R5LlNMRUVQSU5HO1xuXHQgICAgdGhpcy5hbmd1bGFyVmVsb2NpdHkgPSAwO1xuXHQgICAgdGhpcy5hbmd1bGFyRm9yY2UgPSAwO1xuXHQgICAgdmVjMi5zZXQodGhpcy52ZWxvY2l0eSwwLDApO1xuXHQgICAgdmVjMi5zZXQodGhpcy5mb3JjZSwwLDApO1xuXHQgICAgdGhpcy5lbWl0KEJvZHkuc2xlZXBFdmVudCk7XG5cdH07XG5cdFxuXHQvKipcblx0ICogQ2FsbGVkIGV2ZXJ5IHRpbWVzdGVwIHRvIHVwZGF0ZSBpbnRlcm5hbCBzbGVlcCB0aW1lciBhbmQgY2hhbmdlIHNsZWVwIHN0YXRlIGlmIG5lZWRlZC5cblx0ICogQG1ldGhvZCBzbGVlcFRpY2tcblx0ICogQHBhcmFtIHtudW1iZXJ9IHRpbWUgVGhlIHdvcmxkIHRpbWUgaW4gc2Vjb25kc1xuXHQgKiBAcGFyYW0ge2Jvb2xlYW59IGRvbnRTbGVlcFxuXHQgKiBAcGFyYW0ge251bWJlcn0gZHRcblx0ICovXG5cdEJvZHkucHJvdG90eXBlLnNsZWVwVGljayA9IGZ1bmN0aW9uKHRpbWUsIGRvbnRTbGVlcCwgZHQpe1xuXHQgICAgaWYoIXRoaXMuYWxsb3dTbGVlcCB8fCB0aGlzLnR5cGUgPT09IEJvZHkuU0xFRVBJTkcpe1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgIH1cblx0XG5cdCAgICB0aGlzLndhbnRzVG9TbGVlcCA9IGZhbHNlO1xuXHRcblx0ICAgIHZhciBzbGVlcFN0YXRlID0gdGhpcy5zbGVlcFN0YXRlLFxuXHQgICAgICAgIHNwZWVkU3F1YXJlZCA9IHZlYzIuc3F1YXJlZExlbmd0aCh0aGlzLnZlbG9jaXR5KSArIE1hdGgucG93KHRoaXMuYW5ndWxhclZlbG9jaXR5LDIpLFxuXHQgICAgICAgIHNwZWVkTGltaXRTcXVhcmVkID0gTWF0aC5wb3codGhpcy5zbGVlcFNwZWVkTGltaXQsMik7XG5cdFxuXHQgICAgLy8gQWRkIHRvIGlkbGUgdGltZVxuXHQgICAgaWYoc3BlZWRTcXVhcmVkID49IHNwZWVkTGltaXRTcXVhcmVkKXtcblx0ICAgICAgICB0aGlzLmlkbGVUaW1lID0gMDtcblx0ICAgICAgICB0aGlzLnNsZWVwU3RhdGUgPSBCb2R5LkFXQUtFO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICB0aGlzLmlkbGVUaW1lICs9IGR0O1xuXHQgICAgICAgIHRoaXMuc2xlZXBTdGF0ZSA9IEJvZHkuU0xFRVBZO1xuXHQgICAgfVxuXHQgICAgaWYodGhpcy5pZGxlVGltZSA+IHRoaXMuc2xlZXBUaW1lTGltaXQpe1xuXHQgICAgICAgIGlmKCFkb250U2xlZXApe1xuXHQgICAgICAgICAgICB0aGlzLnNsZWVwKCk7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgdGhpcy53YW50c1RvU2xlZXAgPSB0cnVlO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0fTtcblx0XG5cdC8qKlxuXHQgKiBDaGVjayBpZiB0aGUgYm9keSBpcyBvdmVybGFwcGluZyBhbm90aGVyIGJvZHkuIE5vdGUgdGhhdCB0aGlzIG1ldGhvZCBvbmx5IHdvcmtzIGlmIHRoZSBib2R5IHdhcyBhZGRlZCB0byBhIFdvcmxkIGFuZCBpZiBhdCBsZWFzdCBvbmUgc3RlcCB3YXMgdGFrZW4uXG5cdCAqIEBtZXRob2Qgb3ZlcmxhcHNcblx0ICogQHBhcmFtICB7Qm9keX0gYm9keVxuXHQgKiBAcmV0dXJuIHtib29sZWFufVxuXHQgKi9cblx0Qm9keS5wcm90b3R5cGUub3ZlcmxhcHMgPSBmdW5jdGlvbihib2R5KXtcblx0ICAgIHJldHVybiB0aGlzLndvcmxkLm92ZXJsYXBLZWVwZXIuYm9kaWVzQXJlT3ZlcmxhcHBpbmcodGhpcywgYm9keSk7XG5cdH07XG5cdFxuXHR2YXIgaW50ZWdyYXRlX2ZoTWludiA9IHZlYzIuY3JlYXRlKCk7XG5cdHZhciBpbnRlZ3JhdGVfdmVsb2R0ID0gdmVjMi5jcmVhdGUoKTtcblx0XG5cdC8qKlxuXHQgKiBNb3ZlIHRoZSBib2R5IGZvcndhcmQgaW4gdGltZSBnaXZlbiBpdHMgY3VycmVudCB2ZWxvY2l0eS5cblx0ICogQG1ldGhvZCBpbnRlZ3JhdGVcblx0ICogQHBhcmFtICB7TnVtYmVyfSBkdFxuXHQgKi9cblx0Qm9keS5wcm90b3R5cGUuaW50ZWdyYXRlID0gZnVuY3Rpb24oZHQpe1xuXHQgICAgdmFyIG1pbnYgPSB0aGlzLmludk1hc3MsXG5cdCAgICAgICAgZiA9IHRoaXMuZm9yY2UsXG5cdCAgICAgICAgcG9zID0gdGhpcy5wb3NpdGlvbixcblx0ICAgICAgICB2ZWxvID0gdGhpcy52ZWxvY2l0eTtcblx0XG5cdCAgICAvLyBTYXZlIG9sZCBwb3NpdGlvblxuXHQgICAgdmVjMi5jb3B5KHRoaXMucHJldmlvdXNQb3NpdGlvbiwgdGhpcy5wb3NpdGlvbik7XG5cdCAgICB0aGlzLnByZXZpb3VzQW5nbGUgPSB0aGlzLmFuZ2xlO1xuXHRcblx0ICAgIC8vIFZlbG9jaXR5IHVwZGF0ZVxuXHQgICAgaWYoIXRoaXMuZml4ZWRSb3RhdGlvbil7XG5cdCAgICAgICAgdGhpcy5hbmd1bGFyVmVsb2NpdHkgKz0gdGhpcy5hbmd1bGFyRm9yY2UgKiB0aGlzLmludkluZXJ0aWEgKiBkdDtcblx0ICAgIH1cblx0ICAgIHZlYzIuc2NhbGUoaW50ZWdyYXRlX2ZoTWludiwgZiwgZHQgKiBtaW52KTtcblx0ICAgIHZlYzIubXVsdGlwbHkoaW50ZWdyYXRlX2ZoTWludiwgdGhpcy5tYXNzTXVsdGlwbGllciwgaW50ZWdyYXRlX2ZoTWludik7XG5cdCAgICB2ZWMyLmFkZCh2ZWxvLCBpbnRlZ3JhdGVfZmhNaW52LCB2ZWxvKTtcblx0XG5cdCAgICAvLyBDQ0Rcblx0ICAgIGlmKCF0aGlzLmludGVncmF0ZVRvVGltZU9mSW1wYWN0KGR0KSl7XG5cdFxuXHQgICAgICAgIC8vIFJlZ3VsYXIgcG9zaXRpb24gdXBkYXRlXG5cdCAgICAgICAgdmVjMi5zY2FsZShpbnRlZ3JhdGVfdmVsb2R0LCB2ZWxvLCBkdCk7XG5cdCAgICAgICAgdmVjMi5hZGQocG9zLCBwb3MsIGludGVncmF0ZV92ZWxvZHQpO1xuXHQgICAgICAgIGlmKCF0aGlzLmZpeGVkUm90YXRpb24pe1xuXHQgICAgICAgICAgICB0aGlzLmFuZ2xlICs9IHRoaXMuYW5ndWxhclZlbG9jaXR5ICogZHQ7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIHRoaXMuYWFiYk5lZWRzVXBkYXRlID0gdHJ1ZTtcblx0fTtcblx0XG5cdHZhciByZXN1bHQgPSBuZXcgUmF5Y2FzdFJlc3VsdCgpO1xuXHR2YXIgcmF5ID0gbmV3IFJheSh7XG5cdCAgICBtb2RlOiBSYXkuQUxMXG5cdH0pO1xuXHR2YXIgZGlyZWN0aW9uID0gdmVjMi5jcmVhdGUoKTtcblx0dmFyIGVuZCA9IHZlYzIuY3JlYXRlKCk7XG5cdHZhciBzdGFydFRvRW5kID0gdmVjMi5jcmVhdGUoKTtcblx0dmFyIHJlbWVtYmVyUG9zaXRpb24gPSB2ZWMyLmNyZWF0ZSgpO1xuXHRCb2R5LnByb3RvdHlwZS5pbnRlZ3JhdGVUb1RpbWVPZkltcGFjdCA9IGZ1bmN0aW9uKGR0KXtcblx0XG5cdCAgICBpZih0aGlzLmNjZFNwZWVkVGhyZXNob2xkIDwgMCB8fCB2ZWMyLnNxdWFyZWRMZW5ndGgodGhpcy52ZWxvY2l0eSkgPCBNYXRoLnBvdyh0aGlzLmNjZFNwZWVkVGhyZXNob2xkLCAyKSl7XG5cdCAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgfVxuXHRcblx0ICAgIHZlYzIubm9ybWFsaXplKGRpcmVjdGlvbiwgdGhpcy52ZWxvY2l0eSk7XG5cdFxuXHQgICAgdmVjMi5zY2FsZShlbmQsIHRoaXMudmVsb2NpdHksIGR0KTtcblx0ICAgIHZlYzIuYWRkKGVuZCwgZW5kLCB0aGlzLnBvc2l0aW9uKTtcblx0XG5cdCAgICB2ZWMyLnN1YihzdGFydFRvRW5kLCBlbmQsIHRoaXMucG9zaXRpb24pO1xuXHQgICAgdmFyIHN0YXJ0VG9FbmRBbmdsZSA9IHRoaXMuYW5ndWxhclZlbG9jaXR5ICogZHQ7XG5cdCAgICB2YXIgbGVuID0gdmVjMi5sZW5ndGgoc3RhcnRUb0VuZCk7XG5cdFxuXHQgICAgdmFyIHRpbWVPZkltcGFjdCA9IDE7XG5cdFxuXHQgICAgdmFyIGhpdDtcblx0ICAgIHZhciB0aGF0ID0gdGhpcztcblx0ICAgIHJlc3VsdC5yZXNldCgpO1xuXHQgICAgcmF5LmNhbGxiYWNrID0gZnVuY3Rpb24gKHJlc3VsdCkge1xuXHQgICAgICAgIGlmKHJlc3VsdC5ib2R5ID09PSB0aGF0KXtcblx0ICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBoaXQgPSByZXN1bHQuYm9keTtcblx0ICAgICAgICByZXN1bHQuZ2V0SGl0UG9pbnQoZW5kLCByYXkpO1xuXHQgICAgICAgIHZlYzIuc3ViKHN0YXJ0VG9FbmQsIGVuZCwgdGhhdC5wb3NpdGlvbik7XG5cdCAgICAgICAgdGltZU9mSW1wYWN0ID0gdmVjMi5sZW5ndGgoc3RhcnRUb0VuZCkgLyBsZW47XG5cdCAgICAgICAgcmVzdWx0LnN0b3AoKTtcblx0ICAgIH07XG5cdCAgICB2ZWMyLmNvcHkocmF5LmZyb20sIHRoaXMucG9zaXRpb24pO1xuXHQgICAgdmVjMi5jb3B5KHJheS50bywgZW5kKTtcblx0ICAgIHJheS51cGRhdGUoKTtcblx0ICAgIHRoaXMud29ybGQucmF5Y2FzdChyZXN1bHQsIHJheSk7XG5cdFxuXHQgICAgaWYoIWhpdCl7XG5cdCAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciByZW1lbWJlckFuZ2xlID0gdGhpcy5hbmdsZTtcblx0ICAgIHZlYzIuY29weShyZW1lbWJlclBvc2l0aW9uLCB0aGlzLnBvc2l0aW9uKTtcblx0XG5cdCAgICAvLyBHb3QgYSBzdGFydCBhbmQgZW5kIHBvaW50LiBBcHByb3hpbWF0ZSB0aW1lIG9mIGltcGFjdCB1c2luZyBiaW5hcnkgc2VhcmNoXG5cdCAgICB2YXIgaXRlciA9IDA7XG5cdCAgICB2YXIgdG1pbiA9IDA7XG5cdCAgICB2YXIgdG1pZCA9IDA7XG5cdCAgICB2YXIgdG1heCA9IHRpbWVPZkltcGFjdDtcblx0ICAgIHdoaWxlICh0bWF4ID49IHRtaW4gJiYgaXRlciA8IHRoaXMuY2NkSXRlcmF0aW9ucykge1xuXHQgICAgICAgIGl0ZXIrKztcblx0XG5cdCAgICAgICAgLy8gY2FsY3VsYXRlIHRoZSBtaWRwb2ludFxuXHQgICAgICAgIHRtaWQgPSAodG1heCAtIHRtaW4pIC8gMjtcblx0XG5cdCAgICAgICAgLy8gTW92ZSB0aGUgYm9keSB0byB0aGF0IHBvaW50XG5cdCAgICAgICAgdmVjMi5zY2FsZShpbnRlZ3JhdGVfdmVsb2R0LCBzdGFydFRvRW5kLCB0aW1lT2ZJbXBhY3QpO1xuXHQgICAgICAgIHZlYzIuYWRkKHRoaXMucG9zaXRpb24sIHJlbWVtYmVyUG9zaXRpb24sIGludGVncmF0ZV92ZWxvZHQpO1xuXHQgICAgICAgIHRoaXMuYW5nbGUgPSByZW1lbWJlckFuZ2xlICsgc3RhcnRUb0VuZEFuZ2xlICogdGltZU9mSW1wYWN0O1xuXHQgICAgICAgIHRoaXMudXBkYXRlQUFCQigpO1xuXHRcblx0ICAgICAgICAvLyBjaGVjayBvdmVybGFwXG5cdCAgICAgICAgdmFyIG92ZXJsYXBzID0gdGhpcy5hYWJiLm92ZXJsYXBzKGhpdC5hYWJiKSAmJiB0aGlzLndvcmxkLm5hcnJvd3BoYXNlLmJvZGllc092ZXJsYXAodGhpcywgaGl0KTtcblx0XG5cdCAgICAgICAgaWYgKG92ZXJsYXBzKSB7XG5cdCAgICAgICAgICAgIC8vIGNoYW5nZSBtaW4gdG8gc2VhcmNoIHVwcGVyIGludGVydmFsXG5cdCAgICAgICAgICAgIHRtaW4gPSB0bWlkO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIC8vIGNoYW5nZSBtYXggdG8gc2VhcmNoIGxvd2VyIGludGVydmFsXG5cdCAgICAgICAgICAgIHRtYXggPSB0bWlkO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICB0aW1lT2ZJbXBhY3QgPSB0bWlkO1xuXHRcblx0ICAgIHZlYzIuY29weSh0aGlzLnBvc2l0aW9uLCByZW1lbWJlclBvc2l0aW9uKTtcblx0ICAgIHRoaXMuYW5nbGUgPSByZW1lbWJlckFuZ2xlO1xuXHRcblx0ICAgIC8vIG1vdmUgdG8gVE9JXG5cdCAgICB2ZWMyLnNjYWxlKGludGVncmF0ZV92ZWxvZHQsIHN0YXJ0VG9FbmQsIHRpbWVPZkltcGFjdCk7XG5cdCAgICB2ZWMyLmFkZCh0aGlzLnBvc2l0aW9uLCB0aGlzLnBvc2l0aW9uLCBpbnRlZ3JhdGVfdmVsb2R0KTtcblx0ICAgIGlmKCF0aGlzLmZpeGVkUm90YXRpb24pe1xuXHQgICAgICAgIHRoaXMuYW5nbGUgKz0gc3RhcnRUb0VuZEFuZ2xlICogdGltZU9mSW1wYWN0O1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiB0cnVlO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIEdldCB2ZWxvY2l0eSBvZiBhIHBvaW50IGluIHRoZSBib2R5LlxuXHQgKiBAbWV0aG9kIGdldFZlbG9jaXR5QXRQb2ludFxuXHQgKiBAcGFyYW0gIHtBcnJheX0gcmVzdWx0IEEgdmVjdG9yIHRvIHN0b3JlIHRoZSByZXN1bHQgaW5cblx0ICogQHBhcmFtICB7QXJyYXl9IHJlbGF0aXZlUG9pbnQgQSB3b3JsZCBvcmllbnRlZCB2ZWN0b3IsIGluZGljYXRpbmcgdGhlIHBvc2l0aW9uIG9mIHRoZSBwb2ludCB0byBnZXQgdGhlIHZlbG9jaXR5IGZyb21cblx0ICogQHJldHVybiB7QXJyYXl9IFRoZSByZXN1bHQgdmVjdG9yXG5cdCAqL1xuXHRCb2R5LnByb3RvdHlwZS5nZXRWZWxvY2l0eUF0UG9pbnQgPSBmdW5jdGlvbihyZXN1bHQsIHJlbGF0aXZlUG9pbnQpe1xuXHQgICAgdmVjMi5jcm9zc1ZaKHJlc3VsdCwgcmVsYXRpdmVQb2ludCwgdGhpcy5hbmd1bGFyVmVsb2NpdHkpO1xuXHQgICAgdmVjMi5zdWJ0cmFjdChyZXN1bHQsIHRoaXMudmVsb2NpdHksIHJlc3VsdCk7XG5cdCAgICByZXR1cm4gcmVzdWx0O1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIEBldmVudCBzbGVlcHlcblx0ICovXG5cdEJvZHkuc2xlZXB5RXZlbnQgPSB7XG5cdCAgICB0eXBlOiBcInNsZWVweVwiXG5cdH07XG5cdFxuXHQvKipcblx0ICogQGV2ZW50IHNsZWVwXG5cdCAqL1xuXHRCb2R5LnNsZWVwRXZlbnQgPSB7XG5cdCAgICB0eXBlOiBcInNsZWVwXCJcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBAZXZlbnQgd2FrZXVwXG5cdCAqL1xuXHRCb2R5Lndha2VVcEV2ZW50ID0ge1xuXHQgICAgdHlwZTogXCJ3YWtldXBcIlxuXHR9O1xuXHRcblx0LyoqXG5cdCAqIER5bmFtaWMgYm9keS5cblx0ICogQHByb3BlcnR5IERZTkFNSUNcblx0ICogQHR5cGUge051bWJlcn1cblx0ICogQHN0YXRpY1xuXHQgKi9cblx0Qm9keS5EWU5BTUlDID0gMTtcblx0XG5cdC8qKlxuXHQgKiBTdGF0aWMgYm9keS5cblx0ICogQHByb3BlcnR5IFNUQVRJQ1xuXHQgKiBAdHlwZSB7TnVtYmVyfVxuXHQgKiBAc3RhdGljXG5cdCAqL1xuXHRCb2R5LlNUQVRJQyA9IDI7XG5cdFxuXHQvKipcblx0ICogS2luZW1hdGljIGJvZHkuXG5cdCAqIEBwcm9wZXJ0eSBLSU5FTUFUSUNcblx0ICogQHR5cGUge051bWJlcn1cblx0ICogQHN0YXRpY1xuXHQgKi9cblx0Qm9keS5LSU5FTUFUSUMgPSA0O1xuXHRcblx0LyoqXG5cdCAqIEBwcm9wZXJ0eSBBV0FLRVxuXHQgKiBAdHlwZSB7TnVtYmVyfVxuXHQgKiBAc3RhdGljXG5cdCAqL1xuXHRCb2R5LkFXQUtFID0gMDtcblx0XG5cdC8qKlxuXHQgKiBAcHJvcGVydHkgU0xFRVBZXG5cdCAqIEB0eXBlIHtOdW1iZXJ9XG5cdCAqIEBzdGF0aWNcblx0ICovXG5cdEJvZHkuU0xFRVBZID0gMTtcblx0XG5cdC8qKlxuXHQgKiBAcHJvcGVydHkgU0xFRVBJTkdcblx0ICogQHR5cGUge051bWJlcn1cblx0ICogQHN0YXRpY1xuXHQgKi9cblx0Qm9keS5TTEVFUElORyA9IDI7XG5cdFxuXG5cbi8qKiovIH0sXG4vKiA3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG5cdHZhciBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcblx0XG5cdGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoY2FudmFzKTtcblx0XG5cdGZ1bmN0aW9uIHJlc2l6ZSgpIHtcblx0ICBjYW52YXMud2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcblx0ICBjYW52YXMuaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xuXHR9XG5cdFxuXHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgcmVzaXplKTtcblx0cmVzaXplKCk7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IHsgY2FudmFzOiBjYW52YXMsIGN0eDogY3R4IH07XG5cdFxuXHQvKiBIT1QgUEFUQ0ggTE9BREVSICovIHZhciBfX21vZHVsZUJpbmRpbmdzID0gW1wicmVzaXplXCJdOyBpZihmYWxzZSkge1xuXHQgIG1vZHVsZS5ob3QuYWNjZXB0KGZ1bmN0aW9uKGVycikge1xuXHQgICAgY29uc29sZS5sb2coJ1tITVJdIEVycm9yIGFjY2VwdGluZzogJyArIGVycik7XG5cdCAgfSk7XG5cblx0ICB2YXIgZ2V0RXZhbFNvdXJjZSA9IGZ1bmN0aW9uKGZ1bmMpIHtcblx0ICAgIHZhciBjb2RlID0gZnVuYy50b1N0cmluZygpO1xuXHQgICAgdmFyIG0gPSBjb2RlLm1hdGNoKC9eZnVuY3Rpb25cXHMrX19ldmFsXFxzKlxcKCguKilcXClcXHMqXFx7KFtcXHNcXFNdKilcXH0kL2kpO1xuXHQgICAgaWYoIW0pIHtcblx0ICAgICAgcmV0dXJuIG51bGw7XG5cdCAgICB9XG5cdCAgICB2YXIgYXJncyA9IG1bMV07XG5cdCAgICB2YXIgYm9keSA9IG1bMl07XG5cdCAgICB2YXIgc2NvcGUgPSB7fTtcblxuXHQgICAgaWYoYXJncy50cmltKCkpIHtcblx0ICAgICAgYXJncy5zcGxpdCgnLCcpLmZvckVhY2goZnVuY3Rpb24oYXJnKSB7XG5cdCAgICAgICAgaWYoYXJnLmluZGV4T2YoJz0nKSAhPT0gLTEpIHtcblx0ICAgICAgICAgIHZhciBwID0gYXJnLnNwbGl0KCc9Jyk7XG5cdCAgICAgICAgICBzY29wZVtwWzBdLnRyaW0oKV0gPSBKU09OLnBhcnNlKHBbMV0pO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBlbHNlIHtcblx0ICAgICAgICAgIHNjb3BlW2FyZy50cmltKCldID0gdW5kZWZpbmVkO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSk7XG5cdCAgICB9XG5cblx0ICAgIHJldHVybiB7IGJvZHk6IGJvZHksIHNjb3BlOiBzY29wZSB9O1xuXHQgIH1cblxuXHQgIHZhciBpbmplY3RTY29wZSA9IGZ1bmN0aW9uKHNjb3BlLCBjb2RlKSB7XG5cdCAgICAvLyBUYWtlIGFuIGV4cGxpY2l0IHNjb3BlIG9iamVjdCBhbmQgaW5qZWN0IGl0IHNvIHRoYXRcblx0ICAgIC8vIGBjb2RlYCBydW5zIGluIGNvbnRleHQgb2YgaXRcblx0ICAgIHZhciBpbmplY3RlZCA9IE9iamVjdC5rZXlzKHNjb3BlKS5tYXAoZnVuY3Rpb24oYmluZGluZykge1xuXHQgICAgICByZXR1cm4gJ3ZhciAnICsgYmluZGluZyArICcgPSBldmFsU2NvcGUuJyArIGJpbmRpbmcgKyAnOydcblx0ICAgIH0pLmpvaW4oJyAnKTtcblxuXHQgICAgLy8gVXBkYXRlIG91ciBzY29wZSBvYmplY3Qgd2l0aCBhbnkgbW9kaWZpY2F0aW9uc1xuXHQgICAgdmFyIGV4dHJhY3RlZCA9IE9iamVjdC5rZXlzKHNjb3BlKS5tYXAoZnVuY3Rpb24oYmluZGluZykge1xuXHQgICAgICByZXR1cm4gJ2V2YWxTY29wZS4nICsgYmluZGluZyArICcgPSAnICsgYmluZGluZyArICc7Jztcblx0ICAgIH0pLmpvaW4oJyAnKTtcblxuXHQgICAgcmV0dXJuIGluamVjdGVkICsgY29kZSArIGV4dHJhY3RlZDtcblx0ICB9XG5cblx0ICB2YXIgYmluZGluZ3MgPSBfX21vZHVsZUJpbmRpbmdzO1xuXG5cdCAgaWYoIW1vZHVsZS5ob3QuZGF0YSkge1xuXHQgICAgLy8gRmlyc3QgdGltZSBsb2FkaW5nLiBUcnkgYW5kIHBhdGNoIHNvbWV0aGluZy5cblx0ICAgIHZhciBwYXRjaGVkQmluZGluZ3MgPSB7fTtcblx0ICAgIHZhciBldmFsU2NvcGUgPSB7fTtcblxuXHQgICAgdmFyIG1vZHVsZUV2YWxXaXRoU2NvcGUgPSBmdW5jdGlvbihmcmFtZSkge1xuXHQgICAgICAvLyBVcGRhdGUgdGhlIHNjb3BlIHRvIHJlZmxlY3Qgb25seSB0aGUgdmFsdWVzIHNwZWNpZmllZCBhc1xuXHQgICAgICAvLyBhcmd1bWVudHMgdG8gdGhlIF9fZXZhbCBmdW5jdGlvbi4gQ29weSBvdmVyIHZhbHVlcyBmcm9tIHRoZVxuXHQgICAgICAvLyBleGlzdGluZyBzY29wZSBhbmQgaWdub3JlIHRoZSByZXN0LlxuXHQgICAgICBPYmplY3Qua2V5cyhldmFsU2NvcGUpLmZvckVhY2goZnVuY3Rpb24oYXJnKSB7XG5cdCAgICAgICAgaWYoYXJnIGluIGZyYW1lLnNjb3BlKSB7XG5cdCAgICAgICAgICBmcmFtZS5zY29wZVthcmddID0gZXZhbFNjb3BlW2FyZ107XG5cdCAgICAgICAgfVxuXHQgICAgICB9KTtcblx0ICAgICAgZXZhbFNjb3BlID0gZnJhbWUuc2NvcGU7XG5cblx0ICAgICAgdmFyIGNvZGUgPSBpbmplY3RTY29wZShldmFsU2NvcGUsIGZyYW1lLmJvZHkpO1xuXHQgICAgICByZXR1cm4gZXZhbChjb2RlKTtcblx0ICAgIH1cblxuXHQgICAgdmFyIG1vZHVsZUV2YWwgPSBmdW5jdGlvbihjb2RlKSB7XG5cdCAgICAgIHJldHVybiBldmFsKGNvZGUpO1xuXHQgICAgfVxuXG5cdCAgICBiaW5kaW5ncy5mb3JFYWNoKGZ1bmN0aW9uKGJpbmRpbmcpIHtcblx0ICAgICAgdmFyIGYgPSBldmFsKGJpbmRpbmcpO1xuXG5cdCAgICAgIGlmKHR5cGVvZiBmID09PSAnZnVuY3Rpb24nICYmIGJpbmRpbmcgIT09ICdfX2V2YWwnKSB7XG5cdCAgICAgICAgdmFyIHBhdGNoZWQgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgIGlmKHBhdGNoZWRCaW5kaW5nc1tiaW5kaW5nXSkge1xuXHQgICAgICAgICAgICByZXR1cm4gcGF0Y2hlZEJpbmRpbmdzW2JpbmRpbmddLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICBlbHNlIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGYuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9O1xuXHQgICAgICAgIHBhdGNoZWQucHJvdG90eXBlID0gZi5wcm90b3R5cGU7XG5cblx0ICAgICAgICBldmFsKGJpbmRpbmcgKyAnID0gcGF0Y2hlZDtcXG4nKTtcblxuXHQgICAgICAgIGlmKG1vZHVsZS5leHBvcnRzW2JpbmRpbmddKSB7XG5cdCAgICAgICAgICBtb2R1bGUuZXhwb3J0c1tiaW5kaW5nXSA9IHBhdGNoZWQ7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9KTtcblxuXHQgICAgbW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKGRhdGEpIHtcblx0ICAgICAgZGF0YS5wYXRjaGVkQmluZGluZ3MgPSBwYXRjaGVkQmluZGluZ3M7XG5cdCAgICAgIGRhdGEubW9kdWxlRXZhbCA9IG1vZHVsZUV2YWw7XG5cdCAgICAgIGRhdGEubW9kdWxlRXZhbFdpdGhTY29wZSA9IG1vZHVsZUV2YWxXaXRoU2NvcGU7XG5cdCAgICB9KTtcblx0ICB9XG5cdCAgZWxzZSB7XG5cdCAgICB2YXIgcGF0Y2hlZEJpbmRpbmdzID0gbW9kdWxlLmhvdC5kYXRhLnBhdGNoZWRCaW5kaW5ncztcblxuXHQgICAgYmluZGluZ3MuZm9yRWFjaChmdW5jdGlvbihiaW5kaW5nKSB7XG5cdCAgICAgIHZhciBmID0gZXZhbChiaW5kaW5nKTtcblxuXHQgICAgICBpZih0eXBlb2YgZiA9PT0gJ2Z1bmN0aW9uJyAmJiBiaW5kaW5nICE9PSAnX19ldmFsJykge1xuXHQgICAgICAgIC8vIFdlIG5lZWQgdG8gcmVpZnkgdGhlIGZ1bmN0aW9uIGluIHRoZSBvcmlnaW5hbCBtb2R1bGUgc29cblx0ICAgICAgICAvLyBpdCByZWZlcmVuY2VzIGFueSBvZiB0aGUgb3JpZ2luYWwgc3RhdGUuIFN0cmlwIHRoZSBuYW1lXG5cdCAgICAgICAgLy8gYW5kIHNpbXBseSBldmFsIGl0LlxuXHQgICAgICAgIHZhciBmdW5jQ29kZSA9IChcblx0ICAgICAgICAgICcoJyArIGYudG9TdHJpbmcoKS5yZXBsYWNlKC9eZnVuY3Rpb24gXFx3K1xcKC8sICdmdW5jdGlvbiAoJykgKyAnKSdcblx0ICAgICAgICApO1xuXHQgICAgICAgIHBhdGNoZWRCaW5kaW5nc1tiaW5kaW5nXSA9IG1vZHVsZS5ob3QuZGF0YS5tb2R1bGVFdmFsKGZ1bmNDb2RlKTtcblx0ICAgICAgfVxuXHQgICAgfSk7XG5cblx0ICAgIGlmKHR5cGVvZiBfX2V2YWwgPT09ICdmdW5jdGlvbicpIHtcblx0ICAgICAgdHJ5IHtcblx0ICAgICAgICBtb2R1bGUuaG90LmRhdGEubW9kdWxlRXZhbFdpdGhTY29wZShnZXRFdmFsU291cmNlKF9fZXZhbCkpO1xuXHQgICAgICB9XG5cdCAgICAgIGNhdGNoKGUpIHtcblx0ICAgICAgICBjb25zb2xlLmxvZygnZXJyb3IgZXZhbGluZzogJyArIGUpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cblx0ICAgIG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbihkYXRhKSB7XG5cdCAgICAgIGRhdGEucGF0Y2hlZEJpbmRpbmdzID0gcGF0Y2hlZEJpbmRpbmdzO1xuXHQgICAgICBkYXRhLm1vZHVsZUV2YWwgPSBtb2R1bGUuaG90LmRhdGEubW9kdWxlRXZhbDtcblx0ICAgICAgZGF0YS5tb2R1bGVFdmFsV2l0aFNjb3BlID0gbW9kdWxlLmhvdC5kYXRhLm1vZHVsZUV2YWxXaXRoU2NvcGU7XG5cdCAgICB9KTtcblx0ICB9XG5cdH1cblxuXG4vKioqLyB9LFxuLyogOCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gRXhwb3J0IHAyIGNsYXNzZXNcblx0dmFyIHAyID0gbW9kdWxlLmV4cG9ydHMgPSB7XG5cdCAgICBBQUJCIDogICAgICAgICAgICAgICAgICAgICAgICAgIF9fd2VicGFja19yZXF1aXJlX18oMTYpLFxuXHQgICAgQW5nbGVMb2NrRXF1YXRpb24gOiAgICAgICAgICAgICBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ5KSxcblx0ICAgIEJvZHkgOiAgICAgICAgICAgICAgICAgICAgICAgICAgX193ZWJwYWNrX3JlcXVpcmVfXyg2KSxcblx0ICAgIEJyb2FkcGhhc2UgOiAgICAgICAgICAgICAgICAgICAgX193ZWJwYWNrX3JlcXVpcmVfXygxNyksXG5cdCAgICBDYXBzdWxlIDogICAgICAgICAgICAgICAgICAgICAgIF9fd2VicGFja19yZXF1aXJlX18oNTYpLFxuXHQgICAgQ2lyY2xlIDogICAgICAgICAgICAgICAgICAgICAgICBfX3dlYnBhY2tfcmVxdWlyZV9fKDIxKSxcblx0ICAgIENvbnN0cmFpbnQgOiAgICAgICAgICAgICAgICAgICAgX193ZWJwYWNrX3JlcXVpcmVfXyg1KSxcblx0ICAgIENvbnRhY3RFcXVhdGlvbiA6ICAgICAgICAgICAgICAgX193ZWJwYWNrX3JlcXVpcmVfXygxOSksXG5cdCAgICBDb250YWN0RXF1YXRpb25Qb29sIDogICAgICAgICAgIF9fd2VicGFja19yZXF1aXJlX18oNTkpLFxuXHQgICAgQ29udGFjdE1hdGVyaWFsIDogICAgICAgICAgICAgICBfX3dlYnBhY2tfcmVxdWlyZV9fKDUyKSxcblx0ICAgIENvbnZleCA6ICAgICAgICAgICAgICAgICAgICAgICAgX193ZWJwYWNrX3JlcXVpcmVfXygxNSksXG5cdCAgICBEaXN0YW5jZUNvbnN0cmFpbnQgOiAgICAgICAgICAgIF9fd2VicGFja19yZXF1aXJlX18oNDQpLFxuXHQgICAgRXF1YXRpb24gOiAgICAgICAgICAgICAgICAgICAgICBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpLFxuXHQgICAgRXZlbnRFbWl0dGVyIDogICAgICAgICAgICAgICAgICBfX3dlYnBhY2tfcmVxdWlyZV9fKDIwKSxcblx0ICAgIEZyaWN0aW9uRXF1YXRpb24gOiAgICAgICAgICAgICAgX193ZWJwYWNrX3JlcXVpcmVfXygxNCksXG5cdCAgICBGcmljdGlvbkVxdWF0aW9uUG9vbCA6ICAgICAgICAgIF9fd2VicGFja19yZXF1aXJlX18oNjApLFxuXHQgICAgR2VhckNvbnN0cmFpbnQgOiAgICAgICAgICAgICAgICBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ1KSxcblx0ICAgIEdTU29sdmVyIDogICAgICAgICAgICAgICAgICAgICAgX193ZWJwYWNrX3JlcXVpcmVfXyg1OCksXG5cdCAgICBIZWlnaHRmaWVsZCA6ICAgICAgICAgICAgICAgICAgIF9fd2VicGFja19yZXF1aXJlX18oMTA4KSxcblx0ICAgIExpbmUgOiAgICAgICAgICAgICAgICAgICAgICAgICAgX193ZWJwYWNrX3JlcXVpcmVfXyg1NyksXG5cdCAgICBMb2NrQ29uc3RyYWludCA6ICAgICAgICAgICAgICAgIF9fd2VicGFja19yZXF1aXJlX18oNDYpLFxuXHQgICAgTWF0ZXJpYWwgOiAgICAgICAgICAgICAgICAgICAgICBfX3dlYnBhY2tfcmVxdWlyZV9fKDI3KSxcblx0ICAgIE5hcnJvd3BoYXNlIDogICAgICAgICAgICAgICAgICAgX193ZWJwYWNrX3JlcXVpcmVfXyg0MiksXG5cdCAgICBOYWl2ZUJyb2FkcGhhc2UgOiAgICAgICAgICAgICAgIF9fd2VicGFja19yZXF1aXJlX18oMTA1KSxcblx0ICAgIFBhcnRpY2xlIDogICAgICAgICAgICAgICAgICAgICAgX193ZWJwYWNrX3JlcXVpcmVfXygyOSksXG5cdCAgICBQbGFuZSA6ICAgICAgICAgICAgICAgICAgICAgICAgIF9fd2VicGFja19yZXF1aXJlX18oMzApLFxuXHQgICAgUG9vbCA6ICAgICAgICAgICAgICAgICAgICAgICAgICBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpLFxuXHQgICAgUmV2b2x1dGVDb25zdHJhaW50IDogICAgICAgICAgICBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ4KSxcblx0ICAgIFByaXNtYXRpY0NvbnN0cmFpbnQgOiAgICAgICAgICAgX193ZWJwYWNrX3JlcXVpcmVfXyg0NyksXG5cdCAgICBSYXkgOiAgICAgICAgICAgICAgICAgICAgICAgICAgIF9fd2VicGFja19yZXF1aXJlX18oMTgpLFxuXHQgICAgUmF5Y2FzdFJlc3VsdCA6ICAgICAgICAgICAgICAgICBfX3dlYnBhY2tfcmVxdWlyZV9fKDI2KSxcblx0ICAgIEJveCA6ICAgICAgICAgICAgICAgICAgICAgICAgICAgX193ZWJwYWNrX3JlcXVpcmVfXyg1NSksXG5cdCAgICBSb3RhdGlvbmFsVmVsb2NpdHlFcXVhdGlvbiA6ICAgIF9fd2VicGFja19yZXF1aXJlX18oNTEpLFxuXHQgICAgU0FQQnJvYWRwaGFzZSA6ICAgICAgICAgICAgICAgICBfX3dlYnBhY2tfcmVxdWlyZV9fKDQzKSxcblx0ICAgIFNoYXBlIDogICAgICAgICAgICAgICAgICAgICAgICAgX193ZWJwYWNrX3JlcXVpcmVfXyg0KSxcblx0ICAgIFNvbHZlciA6ICAgICAgICAgICAgICAgICAgICAgICAgX193ZWJwYWNrX3JlcXVpcmVfXygzMSksXG5cdCAgICBTcHJpbmcgOiAgICAgICAgICAgICAgICAgICAgICAgIF9fd2VicGFja19yZXF1aXJlX18oMjgpLFxuXHQgICAgVG9wRG93blZlaGljbGUgOiAgICAgICAgICAgICAgICBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwNyksXG5cdCAgICBMaW5lYXJTcHJpbmcgOiAgICAgICAgICAgICAgICAgIF9fd2VicGFja19yZXF1aXJlX18oNTMpLFxuXHQgICAgUm90YXRpb25hbFNwcmluZyA6ICAgICAgICAgICAgICBfX3dlYnBhY2tfcmVxdWlyZV9fKDU0KSxcblx0ICAgIFV0aWxzIDogICAgICAgICAgICAgICAgICAgICAgICAgX193ZWJwYWNrX3JlcXVpcmVfXygyKSxcblx0ICAgIFdvcmxkIDogICAgICAgICAgICAgICAgICAgICAgICAgX193ZWJwYWNrX3JlcXVpcmVfXygxMTQpLFxuXHQgICAgdmVjMiA6ICAgICAgICAgICAgICAgICAgICAgICAgICBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpLFxuXHQgICAgdmVyc2lvbiA6ICAgICAgICAgICAgICAgICAgICAgICBfX3dlYnBhY2tfcmVxdWlyZV9fKDM0KS52ZXJzaW9uLFxuXHR9O1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KHAyLCAnUmVjdGFuZ2xlJywge1xuXHQgICAgZ2V0OiBmdW5jdGlvbigpIHtcblx0ICAgICAgICBjb25zb2xlLndhcm4oJ1RoZSBSZWN0YW5nbGUgY2xhc3MgaGFzIGJlZW4gcmVuYW1lZCB0byBCb3guJyk7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuQm94O1xuXHQgICAgfVxuXHR9KTtcblxuLyoqKi8gfSxcbi8qIDkgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gUG9vbDtcblx0XG5cdC8qKlxuXHQgKiBAY2xhc3MgT2JqZWN0IHBvb2xpbmcgdXRpbGl0eS5cblx0ICovXG5cdGZ1bmN0aW9uIFBvb2wob3B0aW9ucykge1xuXHRcdG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXHRcblx0XHQvKipcblx0XHQgKiBAcHJvcGVydHkge0FycmF5fSBvYmplY3RzXG5cdFx0ICogQHR5cGUge0FycmF5fVxuXHRcdCAqL1xuXHRcdHRoaXMub2JqZWN0cyA9IFtdO1xuXHRcblx0XHRpZihvcHRpb25zLnNpemUgIT09IHVuZGVmaW5lZCl7XG5cdFx0XHR0aGlzLnJlc2l6ZShvcHRpb25zLnNpemUpO1xuXHRcdH1cblx0fVxuXHRcblx0LyoqXG5cdCAqIEBtZXRob2QgcmVzaXplXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBzaXplXG5cdCAqIEByZXR1cm4ge1Bvb2x9IFNlbGYsIGZvciBjaGFpbmluZ1xuXHQgKi9cblx0UG9vbC5wcm90b3R5cGUucmVzaXplID0gZnVuY3Rpb24gKHNpemUpIHtcblx0XHR2YXIgb2JqZWN0cyA9IHRoaXMub2JqZWN0cztcblx0XG5cdFx0d2hpbGUgKG9iamVjdHMubGVuZ3RoID4gc2l6ZSkge1xuXHRcdFx0b2JqZWN0cy5wb3AoKTtcblx0XHR9XG5cdFxuXHRcdHdoaWxlIChvYmplY3RzLmxlbmd0aCA8IHNpemUpIHtcblx0XHRcdG9iamVjdHMucHVzaCh0aGlzLmNyZWF0ZSgpKTtcblx0XHR9XG5cdFxuXHRcdHJldHVybiB0aGlzO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIEdldCBhbiBvYmplY3QgZnJvbSB0aGUgcG9vbCBvciBjcmVhdGUgYSBuZXcgaW5zdGFuY2UuXG5cdCAqIEBtZXRob2QgZ2V0XG5cdCAqIEByZXR1cm4ge09iamVjdH1cblx0ICovXG5cdFBvb2wucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uICgpIHtcblx0XHR2YXIgb2JqZWN0cyA9IHRoaXMub2JqZWN0cztcblx0XHRyZXR1cm4gb2JqZWN0cy5sZW5ndGggPyBvYmplY3RzLnBvcCgpIDogdGhpcy5jcmVhdGUoKTtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBDbGVhbiB1cCBhbmQgcHV0IHRoZSBvYmplY3QgYmFjayBpbnRvIHRoZSBwb29sIGZvciBsYXRlciB1c2UuXG5cdCAqIEBtZXRob2QgcmVsZWFzZVxuXHQgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0XG5cdCAqIEByZXR1cm4ge1Bvb2x9IFNlbGYgZm9yIGNoYWluaW5nXG5cdCAqL1xuXHRQb29sLnByb3RvdHlwZS5yZWxlYXNlID0gZnVuY3Rpb24gKG9iamVjdCkge1xuXHRcdHRoaXMuZGVzdHJveShvYmplY3QpO1xuXHRcdHRoaXMub2JqZWN0cy5wdXNoKG9iamVjdCk7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH07XG5cblxuLyoqKi8gfSxcbi8qIDEwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHR2YXIgRlJBTUVfUkFURSA9IDYwO1xuXHRleHBvcnRzLkZSQU1FX1JBVEUgPSBGUkFNRV9SQVRFO1xuXHR2YXIgV09STERfU1BFRUQgPSAxIC8gMzA7XG5cdGV4cG9ydHMuV09STERfU1BFRUQgPSBXT1JMRF9TUEVFRDtcblx0dmFyIE1BWF9TVUJTVEVQUyA9IDEwO1xuXHRleHBvcnRzLk1BWF9TVUJTVEVQUyA9IE1BWF9TVUJTVEVQUztcblx0dmFyIFBBVVNFX0tFWSA9IDgwO1xuXHRleHBvcnRzLlBBVVNFX0tFWSA9IFBBVVNFX0tFWTtcblx0dmFyIFNQQUNFX0tFWSA9IDMyO1xuXHRleHBvcnRzLlNQQUNFX0tFWSA9IFNQQUNFX0tFWTtcblx0dmFyIExFRlRfS0VZID0gNjU7XG5cdGV4cG9ydHMuTEVGVF9LRVkgPSBMRUZUX0tFWTtcblx0dmFyIFVQX0tFWSA9IDg3O1xuXHRleHBvcnRzLlVQX0tFWSA9IFVQX0tFWTtcblx0dmFyIFJJR0hUX0tFWSA9IDY4O1xuXHRleHBvcnRzLlJJR0hUX0tFWSA9IFJJR0hUX0tFWTtcblx0dmFyIERPV05fS0VZID0gODM7XG5cdGV4cG9ydHMuRE9XTl9LRVkgPSBET1dOX0tFWTtcblx0dmFyIFJBRElBTiA9IE1hdGguUEkgKiAyO1xuXHRleHBvcnRzLlJBRElBTiA9IFJBRElBTjtcblxuXHQvKiBIT1QgUEFUQ0ggTE9BREVSICovIHZhciBfX21vZHVsZUJpbmRpbmdzID0gW107IGlmKGZhbHNlKSB7XG5cdCAgbW9kdWxlLmhvdC5hY2NlcHQoZnVuY3Rpb24oZXJyKSB7XG5cdCAgICBjb25zb2xlLmxvZygnW0hNUl0gRXJyb3IgYWNjZXB0aW5nOiAnICsgZXJyKTtcblx0ICB9KTtcblxuXHQgIHZhciBnZXRFdmFsU291cmNlID0gZnVuY3Rpb24oZnVuYykge1xuXHQgICAgdmFyIGNvZGUgPSBmdW5jLnRvU3RyaW5nKCk7XG5cdCAgICB2YXIgbSA9IGNvZGUubWF0Y2goL15mdW5jdGlvblxccytfX2V2YWxcXHMqXFwoKC4qKVxcKVxccypcXHsoW1xcc1xcU10qKVxcfSQvaSk7XG5cdCAgICBpZighbSkge1xuXHQgICAgICByZXR1cm4gbnVsbDtcblx0ICAgIH1cblx0ICAgIHZhciBhcmdzID0gbVsxXTtcblx0ICAgIHZhciBib2R5ID0gbVsyXTtcblx0ICAgIHZhciBzY29wZSA9IHt9O1xuXG5cdCAgICBpZihhcmdzLnRyaW0oKSkge1xuXHQgICAgICBhcmdzLnNwbGl0KCcsJykuZm9yRWFjaChmdW5jdGlvbihhcmcpIHtcblx0ICAgICAgICBpZihhcmcuaW5kZXhPZignPScpICE9PSAtMSkge1xuXHQgICAgICAgICAgdmFyIHAgPSBhcmcuc3BsaXQoJz0nKTtcblx0ICAgICAgICAgIHNjb3BlW3BbMF0udHJpbSgpXSA9IEpTT04ucGFyc2UocFsxXSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGVsc2Uge1xuXHQgICAgICAgICAgc2NvcGVbYXJnLnRyaW0oKV0gPSB1bmRlZmluZWQ7XG5cdCAgICAgICAgfVxuXHQgICAgICB9KTtcblx0ICAgIH1cblxuXHQgICAgcmV0dXJuIHsgYm9keTogYm9keSwgc2NvcGU6IHNjb3BlIH07XG5cdCAgfVxuXG5cdCAgdmFyIGluamVjdFNjb3BlID0gZnVuY3Rpb24oc2NvcGUsIGNvZGUpIHtcblx0ICAgIC8vIFRha2UgYW4gZXhwbGljaXQgc2NvcGUgb2JqZWN0IGFuZCBpbmplY3QgaXQgc28gdGhhdFxuXHQgICAgLy8gYGNvZGVgIHJ1bnMgaW4gY29udGV4dCBvZiBpdFxuXHQgICAgdmFyIGluamVjdGVkID0gT2JqZWN0LmtleXMoc2NvcGUpLm1hcChmdW5jdGlvbihiaW5kaW5nKSB7XG5cdCAgICAgIHJldHVybiAndmFyICcgKyBiaW5kaW5nICsgJyA9IGV2YWxTY29wZS4nICsgYmluZGluZyArICc7J1xuXHQgICAgfSkuam9pbignICcpO1xuXG5cdCAgICAvLyBVcGRhdGUgb3VyIHNjb3BlIG9iamVjdCB3aXRoIGFueSBtb2RpZmljYXRpb25zXG5cdCAgICB2YXIgZXh0cmFjdGVkID0gT2JqZWN0LmtleXMoc2NvcGUpLm1hcChmdW5jdGlvbihiaW5kaW5nKSB7XG5cdCAgICAgIHJldHVybiAnZXZhbFNjb3BlLicgKyBiaW5kaW5nICsgJyA9ICcgKyBiaW5kaW5nICsgJzsnO1xuXHQgICAgfSkuam9pbignICcpO1xuXG5cdCAgICByZXR1cm4gaW5qZWN0ZWQgKyBjb2RlICsgZXh0cmFjdGVkO1xuXHQgIH1cblxuXHQgIHZhciBiaW5kaW5ncyA9IF9fbW9kdWxlQmluZGluZ3M7XG5cblx0ICBpZighbW9kdWxlLmhvdC5kYXRhKSB7XG5cdCAgICAvLyBGaXJzdCB0aW1lIGxvYWRpbmcuIFRyeSBhbmQgcGF0Y2ggc29tZXRoaW5nLlxuXHQgICAgdmFyIHBhdGNoZWRCaW5kaW5ncyA9IHt9O1xuXHQgICAgdmFyIGV2YWxTY29wZSA9IHt9O1xuXG5cdCAgICB2YXIgbW9kdWxlRXZhbFdpdGhTY29wZSA9IGZ1bmN0aW9uKGZyYW1lKSB7XG5cdCAgICAgIC8vIFVwZGF0ZSB0aGUgc2NvcGUgdG8gcmVmbGVjdCBvbmx5IHRoZSB2YWx1ZXMgc3BlY2lmaWVkIGFzXG5cdCAgICAgIC8vIGFyZ3VtZW50cyB0byB0aGUgX19ldmFsIGZ1bmN0aW9uLiBDb3B5IG92ZXIgdmFsdWVzIGZyb20gdGhlXG5cdCAgICAgIC8vIGV4aXN0aW5nIHNjb3BlIGFuZCBpZ25vcmUgdGhlIHJlc3QuXG5cdCAgICAgIE9iamVjdC5rZXlzKGV2YWxTY29wZSkuZm9yRWFjaChmdW5jdGlvbihhcmcpIHtcblx0ICAgICAgICBpZihhcmcgaW4gZnJhbWUuc2NvcGUpIHtcblx0ICAgICAgICAgIGZyYW1lLnNjb3BlW2FyZ10gPSBldmFsU2NvcGVbYXJnXTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0pO1xuXHQgICAgICBldmFsU2NvcGUgPSBmcmFtZS5zY29wZTtcblxuXHQgICAgICB2YXIgY29kZSA9IGluamVjdFNjb3BlKGV2YWxTY29wZSwgZnJhbWUuYm9keSk7XG5cdCAgICAgIHJldHVybiBldmFsKGNvZGUpO1xuXHQgICAgfVxuXG5cdCAgICB2YXIgbW9kdWxlRXZhbCA9IGZ1bmN0aW9uKGNvZGUpIHtcblx0ICAgICAgcmV0dXJuIGV2YWwoY29kZSk7XG5cdCAgICB9XG5cblx0ICAgIGJpbmRpbmdzLmZvckVhY2goZnVuY3Rpb24oYmluZGluZykge1xuXHQgICAgICB2YXIgZiA9IGV2YWwoYmluZGluZyk7XG5cblx0ICAgICAgaWYodHlwZW9mIGYgPT09ICdmdW5jdGlvbicgJiYgYmluZGluZyAhPT0gJ19fZXZhbCcpIHtcblx0ICAgICAgICB2YXIgcGF0Y2hlZCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgaWYocGF0Y2hlZEJpbmRpbmdzW2JpbmRpbmddKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBwYXRjaGVkQmluZGluZ3NbYmluZGluZ10uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIGVsc2Uge1xuXHQgICAgICAgICAgICByZXR1cm4gZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH07XG5cdCAgICAgICAgcGF0Y2hlZC5wcm90b3R5cGUgPSBmLnByb3RvdHlwZTtcblxuXHQgICAgICAgIGV2YWwoYmluZGluZyArICcgPSBwYXRjaGVkO1xcbicpO1xuXG5cdCAgICAgICAgaWYobW9kdWxlLmV4cG9ydHNbYmluZGluZ10pIHtcblx0ICAgICAgICAgIG1vZHVsZS5leHBvcnRzW2JpbmRpbmddID0gcGF0Y2hlZDtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXG5cdCAgICBtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oZGF0YSkge1xuXHQgICAgICBkYXRhLnBhdGNoZWRCaW5kaW5ncyA9IHBhdGNoZWRCaW5kaW5ncztcblx0ICAgICAgZGF0YS5tb2R1bGVFdmFsID0gbW9kdWxlRXZhbDtcblx0ICAgICAgZGF0YS5tb2R1bGVFdmFsV2l0aFNjb3BlID0gbW9kdWxlRXZhbFdpdGhTY29wZTtcblx0ICAgIH0pO1xuXHQgIH1cblx0ICBlbHNlIHtcblx0ICAgIHZhciBwYXRjaGVkQmluZGluZ3MgPSBtb2R1bGUuaG90LmRhdGEucGF0Y2hlZEJpbmRpbmdzO1xuXG5cdCAgICBiaW5kaW5ncy5mb3JFYWNoKGZ1bmN0aW9uKGJpbmRpbmcpIHtcblx0ICAgICAgdmFyIGYgPSBldmFsKGJpbmRpbmcpO1xuXG5cdCAgICAgIGlmKHR5cGVvZiBmID09PSAnZnVuY3Rpb24nICYmIGJpbmRpbmcgIT09ICdfX2V2YWwnKSB7XG5cdCAgICAgICAgLy8gV2UgbmVlZCB0byByZWlmeSB0aGUgZnVuY3Rpb24gaW4gdGhlIG9yaWdpbmFsIG1vZHVsZSBzb1xuXHQgICAgICAgIC8vIGl0IHJlZmVyZW5jZXMgYW55IG9mIHRoZSBvcmlnaW5hbCBzdGF0ZS4gU3RyaXAgdGhlIG5hbWVcblx0ICAgICAgICAvLyBhbmQgc2ltcGx5IGV2YWwgaXQuXG5cdCAgICAgICAgdmFyIGZ1bmNDb2RlID0gKFxuXHQgICAgICAgICAgJygnICsgZi50b1N0cmluZygpLnJlcGxhY2UoL15mdW5jdGlvbiBcXHcrXFwoLywgJ2Z1bmN0aW9uICgnKSArICcpJ1xuXHQgICAgICAgICk7XG5cdCAgICAgICAgcGF0Y2hlZEJpbmRpbmdzW2JpbmRpbmddID0gbW9kdWxlLmhvdC5kYXRhLm1vZHVsZUV2YWwoZnVuY0NvZGUpO1xuXHQgICAgICB9XG5cdCAgICB9KTtcblxuXHQgICAgaWYodHlwZW9mIF9fZXZhbCA9PT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICB0cnkge1xuXHQgICAgICAgIG1vZHVsZS5ob3QuZGF0YS5tb2R1bGVFdmFsV2l0aFNjb3BlKGdldEV2YWxTb3VyY2UoX19ldmFsKSk7XG5cdCAgICAgIH1cblx0ICAgICAgY2F0Y2goZSkge1xuXHQgICAgICAgIGNvbnNvbGUubG9nKCdlcnJvciBldmFsaW5nOiAnICsgZSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblxuXHQgICAgbW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKGRhdGEpIHtcblx0ICAgICAgZGF0YS5wYXRjaGVkQmluZGluZ3MgPSBwYXRjaGVkQmluZGluZ3M7XG5cdCAgICAgIGRhdGEubW9kdWxlRXZhbCA9IG1vZHVsZS5ob3QuZGF0YS5tb2R1bGVFdmFsO1xuXHQgICAgICBkYXRhLm1vZHVsZUV2YWxXaXRoU2NvcGUgPSBtb2R1bGUuaG90LmRhdGEubW9kdWxlRXZhbFdpdGhTY29wZTtcblx0ICAgIH0pO1xuXHQgIH1cblx0fVxuXG5cbi8qKiovIH0sXG4vKiAxMSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLmNyZWF0ZSA9IGNyZWF0ZTtcblx0ZXhwb3J0cy51cGRhdGUgPSB1cGRhdGU7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cdFxuXHR2YXIgX3AyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblx0XG5cdHZhciBfcDIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcDIpO1xuXHRcblx0dmFyIF93b3JsZCA9IF9fd2VicGFja19yZXF1aXJlX18oMTMpO1xuXHRcblx0dmFyIFRZUEUgPSB7fTtcblx0ZXhwb3J0c1snZGVmYXVsdCddID0gVFlQRTtcblx0dmFyIFdJRFRIID0gMS42O1xuXHRleHBvcnRzLldJRFRIID0gV0lEVEg7XG5cdHZhciBIRUlHSFQgPSAxO1xuXHRcblx0ZXhwb3J0cy5IRUlHSFQgPSBIRUlHSFQ7XG5cdGZ1bmN0aW9uIHVwZGF0ZVBsYW5lKHBsYW5lLCBuZXdQbGFuZSkge1xuXHQgIHBsYW5lLmJvZHkucG9zaXRpb25bMF0gPSBuZXdQbGFuZS5ib2R5LnBvc2l0aW9uWzBdO1xuXHQgIHBsYW5lLmJvZHkucG9zaXRpb25bMV0gPSBuZXdQbGFuZS5ib2R5LnBvc2l0aW9uWzFdO1xuXHQgIHBsYW5lLmJvZHkuYW5nbGUgPSBuZXdQbGFuZS5ib2R5LmFuZ2xlO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBjcmVhdGUob3B0cywgd29ybGQpIHtcblx0ICB2YXIgYm9keSA9IG5ldyBfcDIyWydkZWZhdWx0J10uQm9keSh7XG5cdCAgICBtYXNzOiAwLFxuXHQgICAgYW5nbGU6IDAsXG5cdCAgICBwb3NpdGlvbjogWzMsIF93b3JsZC5HUk9VTkRfTEVWRUwgKyBIRUlHSFQgLyAyXVxuXHQgIH0pO1xuXHRcblx0ICBib2R5LlRZUEUgPSBUWVBFO1xuXHQgIHdvcmxkLmFkZEJvZHkoYm9keSk7XG5cdFxuXHQgIGJvZHkuYWRkU2hhcGUobmV3IF9wMjJbJ2RlZmF1bHQnXS5Cb3goe1xuXHQgICAgd2lkdGg6IFdJRFRILFxuXHQgICAgaGVpZ2h0OiBIRUlHSFRcblx0ICB9KSk7XG5cdFxuXHQgIHZhciBwbGFuZSA9IHtcblx0ICAgIGJvZHk6IGJvZHksXG5cdCAgICB0aHJ1c3Q6IDAsXG5cdCAgICB0aHJvdHRsZTogMCxcblx0ICAgIGhlYWx0OiAxLFxuXHQgICAgYnVsbGV0czogMjBcblx0ICB9O1xuXHRcblx0ICBpZiAoIW9wdHMpIHtcblx0ICAgIHJldHVybiBwbGFuZTtcblx0ICB9XG5cdFxuXHQgIHVwZGF0ZVBsYW5lKHBsYW5lLCBvcHRzKTtcblx0XG5cdCAgcmV0dXJuIHBsYW5lO1xuXHR9XG5cdFxuXHR2YXIgaW5pdGlhbCA9IGZ1bmN0aW9uIGluaXRpYWwoKSB7XG5cdCAgcmV0dXJuIHt9O1xuXHR9O1xuXHRcblx0ZXhwb3J0cy5pbml0aWFsID0gaW5pdGlhbDtcblx0XG5cdGZ1bmN0aW9uIHVwZGF0ZShwbGFuZXMsIGlucHV0LCB3b3JsZCkge1xuXHQgIGZvciAodmFyIGlkIGluIGlucHV0LnBsYW5lcykge1xuXHQgICAgdmFyIHBsYW5lID0gcGxhbmVzW2lkXTtcblx0XG5cdCAgICBpZiAoIXBsYW5lKSB7XG5cdCAgICAgIHBsYW5lc1tpZF0gPSBjcmVhdGUoaW5wdXQucGxhbmVzW2lkXSwgd29ybGQpO1xuXHQgICAgICBjb250aW51ZTtcblx0ICAgIH1cblx0XG5cdCAgICB1cGRhdGVQbGFuZShwbGFuZSwgaW5wdXQucGxhbmVzW2lkXSk7XG5cdCAgfVxuXHQgIHJldHVybiBwbGFuZXM7XG5cdH1cblxuXHQvKiBIT1QgUEFUQ0ggTE9BREVSICovIHZhciBfX21vZHVsZUJpbmRpbmdzID0gW1wiX2ludGVyb3BSZXF1aXJlRGVmYXVsdFwiLFwidXBkYXRlUGxhbmVcIixcImNyZWF0ZVwiLFwidXBkYXRlXCJdOyBpZihmYWxzZSkge1xuXHQgIG1vZHVsZS5ob3QuYWNjZXB0KGZ1bmN0aW9uKGVycikge1xuXHQgICAgY29uc29sZS5sb2coJ1tITVJdIEVycm9yIGFjY2VwdGluZzogJyArIGVycik7XG5cdCAgfSk7XG5cblx0ICB2YXIgZ2V0RXZhbFNvdXJjZSA9IGZ1bmN0aW9uKGZ1bmMpIHtcblx0ICAgIHZhciBjb2RlID0gZnVuYy50b1N0cmluZygpO1xuXHQgICAgdmFyIG0gPSBjb2RlLm1hdGNoKC9eZnVuY3Rpb25cXHMrX19ldmFsXFxzKlxcKCguKilcXClcXHMqXFx7KFtcXHNcXFNdKilcXH0kL2kpO1xuXHQgICAgaWYoIW0pIHtcblx0ICAgICAgcmV0dXJuIG51bGw7XG5cdCAgICB9XG5cdCAgICB2YXIgYXJncyA9IG1bMV07XG5cdCAgICB2YXIgYm9keSA9IG1bMl07XG5cdCAgICB2YXIgc2NvcGUgPSB7fTtcblxuXHQgICAgaWYoYXJncy50cmltKCkpIHtcblx0ICAgICAgYXJncy5zcGxpdCgnLCcpLmZvckVhY2goZnVuY3Rpb24oYXJnKSB7XG5cdCAgICAgICAgaWYoYXJnLmluZGV4T2YoJz0nKSAhPT0gLTEpIHtcblx0ICAgICAgICAgIHZhciBwID0gYXJnLnNwbGl0KCc9Jyk7XG5cdCAgICAgICAgICBzY29wZVtwWzBdLnRyaW0oKV0gPSBKU09OLnBhcnNlKHBbMV0pO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBlbHNlIHtcblx0ICAgICAgICAgIHNjb3BlW2FyZy50cmltKCldID0gdW5kZWZpbmVkO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSk7XG5cdCAgICB9XG5cblx0ICAgIHJldHVybiB7IGJvZHk6IGJvZHksIHNjb3BlOiBzY29wZSB9O1xuXHQgIH1cblxuXHQgIHZhciBpbmplY3RTY29wZSA9IGZ1bmN0aW9uKHNjb3BlLCBjb2RlKSB7XG5cdCAgICAvLyBUYWtlIGFuIGV4cGxpY2l0IHNjb3BlIG9iamVjdCBhbmQgaW5qZWN0IGl0IHNvIHRoYXRcblx0ICAgIC8vIGBjb2RlYCBydW5zIGluIGNvbnRleHQgb2YgaXRcblx0ICAgIHZhciBpbmplY3RlZCA9IE9iamVjdC5rZXlzKHNjb3BlKS5tYXAoZnVuY3Rpb24oYmluZGluZykge1xuXHQgICAgICByZXR1cm4gJ3ZhciAnICsgYmluZGluZyArICcgPSBldmFsU2NvcGUuJyArIGJpbmRpbmcgKyAnOydcblx0ICAgIH0pLmpvaW4oJyAnKTtcblxuXHQgICAgLy8gVXBkYXRlIG91ciBzY29wZSBvYmplY3Qgd2l0aCBhbnkgbW9kaWZpY2F0aW9uc1xuXHQgICAgdmFyIGV4dHJhY3RlZCA9IE9iamVjdC5rZXlzKHNjb3BlKS5tYXAoZnVuY3Rpb24oYmluZGluZykge1xuXHQgICAgICByZXR1cm4gJ2V2YWxTY29wZS4nICsgYmluZGluZyArICcgPSAnICsgYmluZGluZyArICc7Jztcblx0ICAgIH0pLmpvaW4oJyAnKTtcblxuXHQgICAgcmV0dXJuIGluamVjdGVkICsgY29kZSArIGV4dHJhY3RlZDtcblx0ICB9XG5cblx0ICB2YXIgYmluZGluZ3MgPSBfX21vZHVsZUJpbmRpbmdzO1xuXG5cdCAgaWYoIW1vZHVsZS5ob3QuZGF0YSkge1xuXHQgICAgLy8gRmlyc3QgdGltZSBsb2FkaW5nLiBUcnkgYW5kIHBhdGNoIHNvbWV0aGluZy5cblx0ICAgIHZhciBwYXRjaGVkQmluZGluZ3MgPSB7fTtcblx0ICAgIHZhciBldmFsU2NvcGUgPSB7fTtcblxuXHQgICAgdmFyIG1vZHVsZUV2YWxXaXRoU2NvcGUgPSBmdW5jdGlvbihmcmFtZSkge1xuXHQgICAgICAvLyBVcGRhdGUgdGhlIHNjb3BlIHRvIHJlZmxlY3Qgb25seSB0aGUgdmFsdWVzIHNwZWNpZmllZCBhc1xuXHQgICAgICAvLyBhcmd1bWVudHMgdG8gdGhlIF9fZXZhbCBmdW5jdGlvbi4gQ29weSBvdmVyIHZhbHVlcyBmcm9tIHRoZVxuXHQgICAgICAvLyBleGlzdGluZyBzY29wZSBhbmQgaWdub3JlIHRoZSByZXN0LlxuXHQgICAgICBPYmplY3Qua2V5cyhldmFsU2NvcGUpLmZvckVhY2goZnVuY3Rpb24oYXJnKSB7XG5cdCAgICAgICAgaWYoYXJnIGluIGZyYW1lLnNjb3BlKSB7XG5cdCAgICAgICAgICBmcmFtZS5zY29wZVthcmddID0gZXZhbFNjb3BlW2FyZ107XG5cdCAgICAgICAgfVxuXHQgICAgICB9KTtcblx0ICAgICAgZXZhbFNjb3BlID0gZnJhbWUuc2NvcGU7XG5cblx0ICAgICAgdmFyIGNvZGUgPSBpbmplY3RTY29wZShldmFsU2NvcGUsIGZyYW1lLmJvZHkpO1xuXHQgICAgICByZXR1cm4gZXZhbChjb2RlKTtcblx0ICAgIH1cblxuXHQgICAgdmFyIG1vZHVsZUV2YWwgPSBmdW5jdGlvbihjb2RlKSB7XG5cdCAgICAgIHJldHVybiBldmFsKGNvZGUpO1xuXHQgICAgfVxuXG5cdCAgICBiaW5kaW5ncy5mb3JFYWNoKGZ1bmN0aW9uKGJpbmRpbmcpIHtcblx0ICAgICAgdmFyIGYgPSBldmFsKGJpbmRpbmcpO1xuXG5cdCAgICAgIGlmKHR5cGVvZiBmID09PSAnZnVuY3Rpb24nICYmIGJpbmRpbmcgIT09ICdfX2V2YWwnKSB7XG5cdCAgICAgICAgdmFyIHBhdGNoZWQgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgIGlmKHBhdGNoZWRCaW5kaW5nc1tiaW5kaW5nXSkge1xuXHQgICAgICAgICAgICByZXR1cm4gcGF0Y2hlZEJpbmRpbmdzW2JpbmRpbmddLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICBlbHNlIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGYuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9O1xuXHQgICAgICAgIHBhdGNoZWQucHJvdG90eXBlID0gZi5wcm90b3R5cGU7XG5cblx0ICAgICAgICBldmFsKGJpbmRpbmcgKyAnID0gcGF0Y2hlZDtcXG4nKTtcblxuXHQgICAgICAgIGlmKG1vZHVsZS5leHBvcnRzW2JpbmRpbmddKSB7XG5cdCAgICAgICAgICBtb2R1bGUuZXhwb3J0c1tiaW5kaW5nXSA9IHBhdGNoZWQ7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9KTtcblxuXHQgICAgbW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKGRhdGEpIHtcblx0ICAgICAgZGF0YS5wYXRjaGVkQmluZGluZ3MgPSBwYXRjaGVkQmluZGluZ3M7XG5cdCAgICAgIGRhdGEubW9kdWxlRXZhbCA9IG1vZHVsZUV2YWw7XG5cdCAgICAgIGRhdGEubW9kdWxlRXZhbFdpdGhTY29wZSA9IG1vZHVsZUV2YWxXaXRoU2NvcGU7XG5cdCAgICB9KTtcblx0ICB9XG5cdCAgZWxzZSB7XG5cdCAgICB2YXIgcGF0Y2hlZEJpbmRpbmdzID0gbW9kdWxlLmhvdC5kYXRhLnBhdGNoZWRCaW5kaW5ncztcblxuXHQgICAgYmluZGluZ3MuZm9yRWFjaChmdW5jdGlvbihiaW5kaW5nKSB7XG5cdCAgICAgIHZhciBmID0gZXZhbChiaW5kaW5nKTtcblxuXHQgICAgICBpZih0eXBlb2YgZiA9PT0gJ2Z1bmN0aW9uJyAmJiBiaW5kaW5nICE9PSAnX19ldmFsJykge1xuXHQgICAgICAgIC8vIFdlIG5lZWQgdG8gcmVpZnkgdGhlIGZ1bmN0aW9uIGluIHRoZSBvcmlnaW5hbCBtb2R1bGUgc29cblx0ICAgICAgICAvLyBpdCByZWZlcmVuY2VzIGFueSBvZiB0aGUgb3JpZ2luYWwgc3RhdGUuIFN0cmlwIHRoZSBuYW1lXG5cdCAgICAgICAgLy8gYW5kIHNpbXBseSBldmFsIGl0LlxuXHQgICAgICAgIHZhciBmdW5jQ29kZSA9IChcblx0ICAgICAgICAgICcoJyArIGYudG9TdHJpbmcoKS5yZXBsYWNlKC9eZnVuY3Rpb24gXFx3K1xcKC8sICdmdW5jdGlvbiAoJykgKyAnKSdcblx0ICAgICAgICApO1xuXHQgICAgICAgIHBhdGNoZWRCaW5kaW5nc1tiaW5kaW5nXSA9IG1vZHVsZS5ob3QuZGF0YS5tb2R1bGVFdmFsKGZ1bmNDb2RlKTtcblx0ICAgICAgfVxuXHQgICAgfSk7XG5cblx0ICAgIGlmKHR5cGVvZiBfX2V2YWwgPT09ICdmdW5jdGlvbicpIHtcblx0ICAgICAgdHJ5IHtcblx0ICAgICAgICBtb2R1bGUuaG90LmRhdGEubW9kdWxlRXZhbFdpdGhTY29wZShnZXRFdmFsU291cmNlKF9fZXZhbCkpO1xuXHQgICAgICB9XG5cdCAgICAgIGNhdGNoKGUpIHtcblx0ICAgICAgICBjb25zb2xlLmxvZygnZXJyb3IgZXZhbGluZzogJyArIGUpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cblx0ICAgIG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbihkYXRhKSB7XG5cdCAgICAgIGRhdGEucGF0Y2hlZEJpbmRpbmdzID0gcGF0Y2hlZEJpbmRpbmdzO1xuXHQgICAgICBkYXRhLm1vZHVsZUV2YWwgPSBtb2R1bGUuaG90LmRhdGEubW9kdWxlRXZhbDtcblx0ICAgICAgZGF0YS5tb2R1bGVFdmFsV2l0aFNjb3BlID0gbW9kdWxlLmhvdC5kYXRhLm1vZHVsZUV2YWxXaXRoU2NvcGU7XG5cdCAgICB9KTtcblx0ICB9XG5cdH1cblxuXG4vKioqLyB9LFxuLyogMTIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfc2xpY2VkVG9BcnJheSA9IChmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIHNsaWNlSXRlcmF0b3IoYXJyLCBpKSB7IHZhciBfYXJyID0gW107IHZhciBfbiA9IHRydWU7IHZhciBfZCA9IGZhbHNlOyB2YXIgX2UgPSB1bmRlZmluZWQ7IHRyeSB7IGZvciAodmFyIF9pID0gYXJyW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3M7ICEoX24gPSAoX3MgPSBfaS5uZXh0KCkpLmRvbmUpOyBfbiA9IHRydWUpIHsgX2Fyci5wdXNoKF9zLnZhbHVlKTsgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrOyB9IH0gY2F0Y2ggKGVycikgeyBfZCA9IHRydWU7IF9lID0gZXJyOyB9IGZpbmFsbHkgeyB0cnkgeyBpZiAoIV9uICYmIF9pWydyZXR1cm4nXSkgX2lbJ3JldHVybiddKCk7IH0gZmluYWxseSB7IGlmIChfZCkgdGhyb3cgX2U7IH0gfSByZXR1cm4gX2FycjsgfSByZXR1cm4gZnVuY3Rpb24gKGFyciwgaSkgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7IHJldHVybiBhcnI7IH0gZWxzZSBpZiAoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChhcnIpKSB7IHJldHVybiBzbGljZUl0ZXJhdG9yKGFyciwgaSk7IH0gZWxzZSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UnKTsgfSB9OyB9KSgpO1xuXHRcblx0ZXhwb3J0cy5zY2FsZSA9IHNjYWxlO1xuXHRleHBvcnRzLmdhbWVUb0NhbnZhcyA9IGdhbWVUb0NhbnZhcztcblx0ZXhwb3J0cy5ib2R5VG9DYW52YXMgPSBib2R5VG9DYW52YXM7XG5cdGV4cG9ydHMucmVjdFBhdGggPSByZWN0UGF0aDtcblx0ZXhwb3J0cy5jYW1lcmFUcmFuc2xhdGlvbiA9IGNhbWVyYVRyYW5zbGF0aW9uO1xuXHRleHBvcnRzLnRvUkdCID0gdG9SR0I7XG5cdGV4cG9ydHMuaW1hZ2UgPSBpbWFnZTtcblx0XG5cdHZhciBfcmVuZGVyQ2FudmFzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblx0XG5cdHZhciBfcmVuZGVyQ29uc3RhbnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNSk7XG5cdFxuXHR2YXIgX3dvcmxkID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMyk7XG5cdFxuXHRmdW5jdGlvbiBzY2FsZShudW0pIHtcblx0ICByZXR1cm4gbnVtIC8gX3JlbmRlckNvbnN0YW50cy5TQ0FMRTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZ2FtZVRvQ2FudmFzKF9yZWYpIHtcblx0ICB2YXIgeCA9IF9yZWYueDtcblx0ICB2YXIgeSA9IF9yZWYueTtcblx0XG5cdCAgcmV0dXJuIHtcblx0ICAgIHg6IHNjYWxlKHgpLFxuXHQgICAgeTogX3JlbmRlckNhbnZhcy5jYW52YXMuaGVpZ2h0IC0gc2NhbGUoeSlcblx0ICB9O1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBib2R5VG9DYW52YXMoX3JlZjIpIHtcblx0ICB2YXIgX3JlZjIkcG9zaXRpb24gPSBfc2xpY2VkVG9BcnJheShfcmVmMi5wb3NpdGlvbiwgMik7XG5cdFxuXHQgIHZhciB4ID0gX3JlZjIkcG9zaXRpb25bMF07XG5cdCAgdmFyIHkgPSBfcmVmMiRwb3NpdGlvblsxXTtcblx0XG5cdCAgcmV0dXJuIHtcblx0ICAgIHg6IHNjYWxlKHgpLFxuXHQgICAgeTogX3JlbmRlckNhbnZhcy5jYW52YXMuaGVpZ2h0IC0gc2NhbGUoeSlcblx0ICB9O1xuXHR9XG5cdFxuXHRmdW5jdGlvbiByZWN0UGF0aCh4LCB5LCB3LCBoKSB7XG5cdCAgX3JlbmRlckNhbnZhcy5jdHguYmVnaW5QYXRoKCk7XG5cdCAgX3JlbmRlckNhbnZhcy5jdHgubW92ZVRvKHgsIHkpO1xuXHQgIF9yZW5kZXJDYW52YXMuY3R4LmxpbmVUbyh4ICsgdywgeSk7XG5cdCAgX3JlbmRlckNhbnZhcy5jdHgubGluZVRvKHggKyB3LCB5ICsgaCk7XG5cdCAgX3JlbmRlckNhbnZhcy5jdHgubGluZVRvKHgsIHkgKyBoKTtcblx0ICBfcmVuZGVyQ2FudmFzLmN0eC5jbG9zZVBhdGgoKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gY2FtZXJhVHJhbnNsYXRpb24ocGxheWVyKSB7XG5cdCAgdmFyIHBsYXllck9uQ2FudmFzID0gYm9keVRvQ2FudmFzKHBsYXllci5ib2R5KTtcblx0XG5cdCAgcmV0dXJuIHtcblx0ICAgIHg6IE1hdGgubWF4KC0oc2NhbGUoX3dvcmxkLldJRFRIKSAtIF9yZW5kZXJDYW52YXMuY2FudmFzLndpZHRoKSwgTWF0aC5taW4oMCwgX3JlbmRlckNhbnZhcy5jYW52YXMud2lkdGggLyAyIC0gcGxheWVyT25DYW52YXMueCkpLFxuXHQgICAgeTogTWF0aC5tYXgoMCwgX3JlbmRlckNhbnZhcy5jYW52YXMuaGVpZ2h0IC8gMiAtIHBsYXllck9uQ2FudmFzLnkpXG5cdCAgfTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gdG9SR0IoYXJyKSB7XG5cdCAgcmV0dXJuICdyZ2IoJyArIGFyci5qb2luKCcsJykgKyAnKSc7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGltYWdlKHNyYykge1xuXHQgIHZhciBpbWcgPSBuZXcgSW1hZ2UoKTtcblx0ICBpbWcuc3JjID0gc3JjO1xuXHQgIHJldHVybiBpbWc7XG5cdH1cblxuXHQvKiBIT1QgUEFUQ0ggTE9BREVSICovIHZhciBfX21vZHVsZUJpbmRpbmdzID0gW1wic2NhbGVcIixcImdhbWVUb0NhbnZhc1wiLFwiYm9keVRvQ2FudmFzXCIsXCJyZWN0UGF0aFwiLFwiY2FtZXJhVHJhbnNsYXRpb25cIixcInRvUkdCXCIsXCJpbWFnZVwiXTsgaWYoZmFsc2UpIHtcblx0ICBtb2R1bGUuaG90LmFjY2VwdChmdW5jdGlvbihlcnIpIHtcblx0ICAgIGNvbnNvbGUubG9nKCdbSE1SXSBFcnJvciBhY2NlcHRpbmc6ICcgKyBlcnIpO1xuXHQgIH0pO1xuXG5cdCAgdmFyIGdldEV2YWxTb3VyY2UgPSBmdW5jdGlvbihmdW5jKSB7XG5cdCAgICB2YXIgY29kZSA9IGZ1bmMudG9TdHJpbmcoKTtcblx0ICAgIHZhciBtID0gY29kZS5tYXRjaCgvXmZ1bmN0aW9uXFxzK19fZXZhbFxccypcXCgoLiopXFwpXFxzKlxceyhbXFxzXFxTXSopXFx9JC9pKTtcblx0ICAgIGlmKCFtKSB7XG5cdCAgICAgIHJldHVybiBudWxsO1xuXHQgICAgfVxuXHQgICAgdmFyIGFyZ3MgPSBtWzFdO1xuXHQgICAgdmFyIGJvZHkgPSBtWzJdO1xuXHQgICAgdmFyIHNjb3BlID0ge307XG5cblx0ICAgIGlmKGFyZ3MudHJpbSgpKSB7XG5cdCAgICAgIGFyZ3Muc3BsaXQoJywnKS5mb3JFYWNoKGZ1bmN0aW9uKGFyZykge1xuXHQgICAgICAgIGlmKGFyZy5pbmRleE9mKCc9JykgIT09IC0xKSB7XG5cdCAgICAgICAgICB2YXIgcCA9IGFyZy5zcGxpdCgnPScpO1xuXHQgICAgICAgICAgc2NvcGVbcFswXS50cmltKCldID0gSlNPTi5wYXJzZShwWzFdKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgZWxzZSB7XG5cdCAgICAgICAgICBzY29wZVthcmcudHJpbSgpXSA9IHVuZGVmaW5lZDtcblx0ICAgICAgICB9XG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXG5cdCAgICByZXR1cm4geyBib2R5OiBib2R5LCBzY29wZTogc2NvcGUgfTtcblx0ICB9XG5cblx0ICB2YXIgaW5qZWN0U2NvcGUgPSBmdW5jdGlvbihzY29wZSwgY29kZSkge1xuXHQgICAgLy8gVGFrZSBhbiBleHBsaWNpdCBzY29wZSBvYmplY3QgYW5kIGluamVjdCBpdCBzbyB0aGF0XG5cdCAgICAvLyBgY29kZWAgcnVucyBpbiBjb250ZXh0IG9mIGl0XG5cdCAgICB2YXIgaW5qZWN0ZWQgPSBPYmplY3Qua2V5cyhzY29wZSkubWFwKGZ1bmN0aW9uKGJpbmRpbmcpIHtcblx0ICAgICAgcmV0dXJuICd2YXIgJyArIGJpbmRpbmcgKyAnID0gZXZhbFNjb3BlLicgKyBiaW5kaW5nICsgJzsnXG5cdCAgICB9KS5qb2luKCcgJyk7XG5cblx0ICAgIC8vIFVwZGF0ZSBvdXIgc2NvcGUgb2JqZWN0IHdpdGggYW55IG1vZGlmaWNhdGlvbnNcblx0ICAgIHZhciBleHRyYWN0ZWQgPSBPYmplY3Qua2V5cyhzY29wZSkubWFwKGZ1bmN0aW9uKGJpbmRpbmcpIHtcblx0ICAgICAgcmV0dXJuICdldmFsU2NvcGUuJyArIGJpbmRpbmcgKyAnID0gJyArIGJpbmRpbmcgKyAnOyc7XG5cdCAgICB9KS5qb2luKCcgJyk7XG5cblx0ICAgIHJldHVybiBpbmplY3RlZCArIGNvZGUgKyBleHRyYWN0ZWQ7XG5cdCAgfVxuXG5cdCAgdmFyIGJpbmRpbmdzID0gX19tb2R1bGVCaW5kaW5ncztcblxuXHQgIGlmKCFtb2R1bGUuaG90LmRhdGEpIHtcblx0ICAgIC8vIEZpcnN0IHRpbWUgbG9hZGluZy4gVHJ5IGFuZCBwYXRjaCBzb21ldGhpbmcuXG5cdCAgICB2YXIgcGF0Y2hlZEJpbmRpbmdzID0ge307XG5cdCAgICB2YXIgZXZhbFNjb3BlID0ge307XG5cblx0ICAgIHZhciBtb2R1bGVFdmFsV2l0aFNjb3BlID0gZnVuY3Rpb24oZnJhbWUpIHtcblx0ICAgICAgLy8gVXBkYXRlIHRoZSBzY29wZSB0byByZWZsZWN0IG9ubHkgdGhlIHZhbHVlcyBzcGVjaWZpZWQgYXNcblx0ICAgICAgLy8gYXJndW1lbnRzIHRvIHRoZSBfX2V2YWwgZnVuY3Rpb24uIENvcHkgb3ZlciB2YWx1ZXMgZnJvbSB0aGVcblx0ICAgICAgLy8gZXhpc3Rpbmcgc2NvcGUgYW5kIGlnbm9yZSB0aGUgcmVzdC5cblx0ICAgICAgT2JqZWN0LmtleXMoZXZhbFNjb3BlKS5mb3JFYWNoKGZ1bmN0aW9uKGFyZykge1xuXHQgICAgICAgIGlmKGFyZyBpbiBmcmFtZS5zY29wZSkge1xuXHQgICAgICAgICAgZnJhbWUuc2NvcGVbYXJnXSA9IGV2YWxTY29wZVthcmddO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSk7XG5cdCAgICAgIGV2YWxTY29wZSA9IGZyYW1lLnNjb3BlO1xuXG5cdCAgICAgIHZhciBjb2RlID0gaW5qZWN0U2NvcGUoZXZhbFNjb3BlLCBmcmFtZS5ib2R5KTtcblx0ICAgICAgcmV0dXJuIGV2YWwoY29kZSk7XG5cdCAgICB9XG5cblx0ICAgIHZhciBtb2R1bGVFdmFsID0gZnVuY3Rpb24oY29kZSkge1xuXHQgICAgICByZXR1cm4gZXZhbChjb2RlKTtcblx0ICAgIH1cblxuXHQgICAgYmluZGluZ3MuZm9yRWFjaChmdW5jdGlvbihiaW5kaW5nKSB7XG5cdCAgICAgIHZhciBmID0gZXZhbChiaW5kaW5nKTtcblxuXHQgICAgICBpZih0eXBlb2YgZiA9PT0gJ2Z1bmN0aW9uJyAmJiBiaW5kaW5nICE9PSAnX19ldmFsJykge1xuXHQgICAgICAgIHZhciBwYXRjaGVkID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICBpZihwYXRjaGVkQmluZGluZ3NbYmluZGluZ10pIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHBhdGNoZWRCaW5kaW5nc1tiaW5kaW5nXS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgICAgZWxzZSB7XG5cdCAgICAgICAgICAgIHJldHVybiBmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfTtcblx0ICAgICAgICBwYXRjaGVkLnByb3RvdHlwZSA9IGYucHJvdG90eXBlO1xuXG5cdCAgICAgICAgZXZhbChiaW5kaW5nICsgJyA9IHBhdGNoZWQ7XFxuJyk7XG5cblx0ICAgICAgICBpZihtb2R1bGUuZXhwb3J0c1tiaW5kaW5nXSkge1xuXHQgICAgICAgICAgbW9kdWxlLmV4cG9ydHNbYmluZGluZ10gPSBwYXRjaGVkO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfSk7XG5cblx0ICAgIG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbihkYXRhKSB7XG5cdCAgICAgIGRhdGEucGF0Y2hlZEJpbmRpbmdzID0gcGF0Y2hlZEJpbmRpbmdzO1xuXHQgICAgICBkYXRhLm1vZHVsZUV2YWwgPSBtb2R1bGVFdmFsO1xuXHQgICAgICBkYXRhLm1vZHVsZUV2YWxXaXRoU2NvcGUgPSBtb2R1bGVFdmFsV2l0aFNjb3BlO1xuXHQgICAgfSk7XG5cdCAgfVxuXHQgIGVsc2Uge1xuXHQgICAgdmFyIHBhdGNoZWRCaW5kaW5ncyA9IG1vZHVsZS5ob3QuZGF0YS5wYXRjaGVkQmluZGluZ3M7XG5cblx0ICAgIGJpbmRpbmdzLmZvckVhY2goZnVuY3Rpb24oYmluZGluZykge1xuXHQgICAgICB2YXIgZiA9IGV2YWwoYmluZGluZyk7XG5cblx0ICAgICAgaWYodHlwZW9mIGYgPT09ICdmdW5jdGlvbicgJiYgYmluZGluZyAhPT0gJ19fZXZhbCcpIHtcblx0ICAgICAgICAvLyBXZSBuZWVkIHRvIHJlaWZ5IHRoZSBmdW5jdGlvbiBpbiB0aGUgb3JpZ2luYWwgbW9kdWxlIHNvXG5cdCAgICAgICAgLy8gaXQgcmVmZXJlbmNlcyBhbnkgb2YgdGhlIG9yaWdpbmFsIHN0YXRlLiBTdHJpcCB0aGUgbmFtZVxuXHQgICAgICAgIC8vIGFuZCBzaW1wbHkgZXZhbCBpdC5cblx0ICAgICAgICB2YXIgZnVuY0NvZGUgPSAoXG5cdCAgICAgICAgICAnKCcgKyBmLnRvU3RyaW5nKCkucmVwbGFjZSgvXmZ1bmN0aW9uIFxcdytcXCgvLCAnZnVuY3Rpb24gKCcpICsgJyknXG5cdCAgICAgICAgKTtcblx0ICAgICAgICBwYXRjaGVkQmluZGluZ3NbYmluZGluZ10gPSBtb2R1bGUuaG90LmRhdGEubW9kdWxlRXZhbChmdW5jQ29kZSk7XG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXG5cdCAgICBpZih0eXBlb2YgX19ldmFsID09PSAnZnVuY3Rpb24nKSB7XG5cdCAgICAgIHRyeSB7XG5cdCAgICAgICAgbW9kdWxlLmhvdC5kYXRhLm1vZHVsZUV2YWxXaXRoU2NvcGUoZ2V0RXZhbFNvdXJjZShfX2V2YWwpKTtcblx0ICAgICAgfVxuXHQgICAgICBjYXRjaChlKSB7XG5cdCAgICAgICAgY29uc29sZS5sb2coJ2Vycm9yIGV2YWxpbmc6ICcgKyBlKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXG5cdCAgICBtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oZGF0YSkge1xuXHQgICAgICBkYXRhLnBhdGNoZWRCaW5kaW5ncyA9IHBhdGNoZWRCaW5kaW5ncztcblx0ICAgICAgZGF0YS5tb2R1bGVFdmFsID0gbW9kdWxlLmhvdC5kYXRhLm1vZHVsZUV2YWw7XG5cdCAgICAgIGRhdGEubW9kdWxlRXZhbFdpdGhTY29wZSA9IG1vZHVsZS5ob3QuZGF0YS5tb2R1bGVFdmFsV2l0aFNjb3BlO1xuXHQgICAgfSk7XG5cdCAgfVxuXHR9XG5cblxuLyoqKi8gfSxcbi8qIDEzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMuaW5pdGlhbCA9IGluaXRpYWw7XG5cdGV4cG9ydHMudXBkYXRlID0gdXBkYXRlO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXHRcblx0dmFyIF9wMiA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cdFxuXHR2YXIgX3AyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3AyKTtcblx0XG5cdHZhciBfY29uc3RhbnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMCk7XG5cdFxuXHR2YXIgX21hdGVyaWFscyA9IF9fd2VicGFja19yZXF1aXJlX18oMjQpO1xuXHRcblx0dmFyIFdJRFRIID0gMTAwMDtcblx0ZXhwb3J0cy5XSURUSCA9IFdJRFRIO1xuXHR2YXIgSEVJR0hUID0gMTAwO1xuXHRleHBvcnRzLkhFSUdIVCA9IEhFSUdIVDtcblx0dmFyIEdST1VORF9MRVZFTCA9IDA7XG5cdFxuXHRleHBvcnRzLkdST1VORF9MRVZFTCA9IEdST1VORF9MRVZFTDtcblx0XG5cdGZ1bmN0aW9uIGluaXRpYWwod29ybGQpIHtcblx0ICB2YXIgYm9keSA9IG5ldyBfcDIyWydkZWZhdWx0J10uQm9keSh7IG1hc3M6IDAgfSk7XG5cdCAgdmFyIHNoYXBlID0gbmV3IF9wMjJbJ2RlZmF1bHQnXS5QbGFuZSgpO1xuXHQgIHNoYXBlLm1hdGVyaWFsID0gX21hdGVyaWFscy5ncm91bmQ7XG5cdCAgYm9keS5hZGRTaGFwZShzaGFwZSk7XG5cdCAgd29ybGQuYWRkQm9keShib2R5KTtcblx0XG5cdCAgcmV0dXJuIHdvcmxkO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiB1cGRhdGUod29ybGQsIGlucHV0KSB7XG5cdCAgd29ybGQuc3RlcChfY29uc3RhbnRzLldPUkxEX1NQRUVELCBpbnB1dC5kZWx0YSAqIF9jb25zdGFudHMuV09STERfU1BFRUQsIF9jb25zdGFudHMuTUFYX1NVQlNURVBTKTtcblx0XG5cdCAgdmFyIGVtaXRJbXBhY3RFdmVudCA9IHdvcmxkLmVtaXRJbXBhY3RFdmVudDtcblx0ICB2YXIgbmFycm93cGhhc2UgPSB3b3JsZC5uYXJyb3dwaGFzZTtcblx0XG5cdCAgaWYgKCFlbWl0SW1wYWN0RXZlbnQpIHtcblx0ICAgIHdvcmxkLmltcGFjdHMgPSBbXTtcblx0ICB9IGVsc2Uge1xuXHQgICAgKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgdmFyIGZpcnN0SW1wYWN0cyA9IG5hcnJvd3BoYXNlLmNvbnRhY3RFcXVhdGlvbnMuZmlsdGVyKGZ1bmN0aW9uIChfcmVmKSB7XG5cdCAgICAgICAgdmFyIGZpcnN0SW1wYWN0ID0gX3JlZi5maXJzdEltcGFjdDtcblx0ICAgICAgICB2YXIgYm9keUEgPSBfcmVmLmJvZHlBO1xuXHQgICAgICAgIHZhciBib2R5QiA9IF9yZWYuYm9keUI7XG5cdCAgICAgICAgcmV0dXJuIGZpcnN0SW1wYWN0ICYmIGJvZHlBLndvcmxkICYmIGJvZHlCLndvcmxkO1xuXHQgICAgICB9KTtcblx0XG5cdCAgICAgIHdvcmxkLmltcGFjdHMgPSBmaXJzdEltcGFjdHMuZmlsdGVyKGZ1bmN0aW9uIHVuaXF1ZVBhaXIoX3JlZjIsIGluZGV4KSB7XG5cdCAgICAgICAgdmFyIGJvZHlBID0gX3JlZjIuYm9keUE7XG5cdCAgICAgICAgdmFyIGJvZHlCID0gX3JlZjIuYm9keUI7XG5cdFxuXHQgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW5kZXg7IGkrKykge1xuXHQgICAgICAgICAgaWYgKGZpcnN0SW1wYWN0c1tpXS5ib2R5QSA9PT0gYm9keUEgJiYgZmlyc3RJbXBhY3RzW2ldLmJvZHlCID09PSBib2R5QiB8fCBmaXJzdEltcGFjdHNbaV0uYm9keUIgPT09IGJvZHlBICYmIGZpcnN0SW1wYWN0c1tpXS5ib2R5QSA9PT0gYm9keUIpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgICAgfSk7XG5cdCAgICB9KSgpO1xuXHQgIH1cblx0XG5cdCAgcmV0dXJuIHdvcmxkO1xuXHR9XG5cblx0LyogSE9UIFBBVENIIExPQURFUiAqLyB2YXIgX19tb2R1bGVCaW5kaW5ncyA9IFtcIl9pbnRlcm9wUmVxdWlyZURlZmF1bHRcIixcImluaXRpYWxcIixcInVwZGF0ZVwiXTsgaWYoZmFsc2UpIHtcblx0ICBtb2R1bGUuaG90LmFjY2VwdChmdW5jdGlvbihlcnIpIHtcblx0ICAgIGNvbnNvbGUubG9nKCdbSE1SXSBFcnJvciBhY2NlcHRpbmc6ICcgKyBlcnIpO1xuXHQgIH0pO1xuXG5cdCAgdmFyIGdldEV2YWxTb3VyY2UgPSBmdW5jdGlvbihmdW5jKSB7XG5cdCAgICB2YXIgY29kZSA9IGZ1bmMudG9TdHJpbmcoKTtcblx0ICAgIHZhciBtID0gY29kZS5tYXRjaCgvXmZ1bmN0aW9uXFxzK19fZXZhbFxccypcXCgoLiopXFwpXFxzKlxceyhbXFxzXFxTXSopXFx9JC9pKTtcblx0ICAgIGlmKCFtKSB7XG5cdCAgICAgIHJldHVybiBudWxsO1xuXHQgICAgfVxuXHQgICAgdmFyIGFyZ3MgPSBtWzFdO1xuXHQgICAgdmFyIGJvZHkgPSBtWzJdO1xuXHQgICAgdmFyIHNjb3BlID0ge307XG5cblx0ICAgIGlmKGFyZ3MudHJpbSgpKSB7XG5cdCAgICAgIGFyZ3Muc3BsaXQoJywnKS5mb3JFYWNoKGZ1bmN0aW9uKGFyZykge1xuXHQgICAgICAgIGlmKGFyZy5pbmRleE9mKCc9JykgIT09IC0xKSB7XG5cdCAgICAgICAgICB2YXIgcCA9IGFyZy5zcGxpdCgnPScpO1xuXHQgICAgICAgICAgc2NvcGVbcFswXS50cmltKCldID0gSlNPTi5wYXJzZShwWzFdKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgZWxzZSB7XG5cdCAgICAgICAgICBzY29wZVthcmcudHJpbSgpXSA9IHVuZGVmaW5lZDtcblx0ICAgICAgICB9XG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXG5cdCAgICByZXR1cm4geyBib2R5OiBib2R5LCBzY29wZTogc2NvcGUgfTtcblx0ICB9XG5cblx0ICB2YXIgaW5qZWN0U2NvcGUgPSBmdW5jdGlvbihzY29wZSwgY29kZSkge1xuXHQgICAgLy8gVGFrZSBhbiBleHBsaWNpdCBzY29wZSBvYmplY3QgYW5kIGluamVjdCBpdCBzbyB0aGF0XG5cdCAgICAvLyBgY29kZWAgcnVucyBpbiBjb250ZXh0IG9mIGl0XG5cdCAgICB2YXIgaW5qZWN0ZWQgPSBPYmplY3Qua2V5cyhzY29wZSkubWFwKGZ1bmN0aW9uKGJpbmRpbmcpIHtcblx0ICAgICAgcmV0dXJuICd2YXIgJyArIGJpbmRpbmcgKyAnID0gZXZhbFNjb3BlLicgKyBiaW5kaW5nICsgJzsnXG5cdCAgICB9KS5qb2luKCcgJyk7XG5cblx0ICAgIC8vIFVwZGF0ZSBvdXIgc2NvcGUgb2JqZWN0IHdpdGggYW55IG1vZGlmaWNhdGlvbnNcblx0ICAgIHZhciBleHRyYWN0ZWQgPSBPYmplY3Qua2V5cyhzY29wZSkubWFwKGZ1bmN0aW9uKGJpbmRpbmcpIHtcblx0ICAgICAgcmV0dXJuICdldmFsU2NvcGUuJyArIGJpbmRpbmcgKyAnID0gJyArIGJpbmRpbmcgKyAnOyc7XG5cdCAgICB9KS5qb2luKCcgJyk7XG5cblx0ICAgIHJldHVybiBpbmplY3RlZCArIGNvZGUgKyBleHRyYWN0ZWQ7XG5cdCAgfVxuXG5cdCAgdmFyIGJpbmRpbmdzID0gX19tb2R1bGVCaW5kaW5ncztcblxuXHQgIGlmKCFtb2R1bGUuaG90LmRhdGEpIHtcblx0ICAgIC8vIEZpcnN0IHRpbWUgbG9hZGluZy4gVHJ5IGFuZCBwYXRjaCBzb21ldGhpbmcuXG5cdCAgICB2YXIgcGF0Y2hlZEJpbmRpbmdzID0ge307XG5cdCAgICB2YXIgZXZhbFNjb3BlID0ge307XG5cblx0ICAgIHZhciBtb2R1bGVFdmFsV2l0aFNjb3BlID0gZnVuY3Rpb24oZnJhbWUpIHtcblx0ICAgICAgLy8gVXBkYXRlIHRoZSBzY29wZSB0byByZWZsZWN0IG9ubHkgdGhlIHZhbHVlcyBzcGVjaWZpZWQgYXNcblx0ICAgICAgLy8gYXJndW1lbnRzIHRvIHRoZSBfX2V2YWwgZnVuY3Rpb24uIENvcHkgb3ZlciB2YWx1ZXMgZnJvbSB0aGVcblx0ICAgICAgLy8gZXhpc3Rpbmcgc2NvcGUgYW5kIGlnbm9yZSB0aGUgcmVzdC5cblx0ICAgICAgT2JqZWN0LmtleXMoZXZhbFNjb3BlKS5mb3JFYWNoKGZ1bmN0aW9uKGFyZykge1xuXHQgICAgICAgIGlmKGFyZyBpbiBmcmFtZS5zY29wZSkge1xuXHQgICAgICAgICAgZnJhbWUuc2NvcGVbYXJnXSA9IGV2YWxTY29wZVthcmddO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSk7XG5cdCAgICAgIGV2YWxTY29wZSA9IGZyYW1lLnNjb3BlO1xuXG5cdCAgICAgIHZhciBjb2RlID0gaW5qZWN0U2NvcGUoZXZhbFNjb3BlLCBmcmFtZS5ib2R5KTtcblx0ICAgICAgcmV0dXJuIGV2YWwoY29kZSk7XG5cdCAgICB9XG5cblx0ICAgIHZhciBtb2R1bGVFdmFsID0gZnVuY3Rpb24oY29kZSkge1xuXHQgICAgICByZXR1cm4gZXZhbChjb2RlKTtcblx0ICAgIH1cblxuXHQgICAgYmluZGluZ3MuZm9yRWFjaChmdW5jdGlvbihiaW5kaW5nKSB7XG5cdCAgICAgIHZhciBmID0gZXZhbChiaW5kaW5nKTtcblxuXHQgICAgICBpZih0eXBlb2YgZiA9PT0gJ2Z1bmN0aW9uJyAmJiBiaW5kaW5nICE9PSAnX19ldmFsJykge1xuXHQgICAgICAgIHZhciBwYXRjaGVkID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICBpZihwYXRjaGVkQmluZGluZ3NbYmluZGluZ10pIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHBhdGNoZWRCaW5kaW5nc1tiaW5kaW5nXS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgICAgZWxzZSB7XG5cdCAgICAgICAgICAgIHJldHVybiBmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfTtcblx0ICAgICAgICBwYXRjaGVkLnByb3RvdHlwZSA9IGYucHJvdG90eXBlO1xuXG5cdCAgICAgICAgZXZhbChiaW5kaW5nICsgJyA9IHBhdGNoZWQ7XFxuJyk7XG5cblx0ICAgICAgICBpZihtb2R1bGUuZXhwb3J0c1tiaW5kaW5nXSkge1xuXHQgICAgICAgICAgbW9kdWxlLmV4cG9ydHNbYmluZGluZ10gPSBwYXRjaGVkO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfSk7XG5cblx0ICAgIG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbihkYXRhKSB7XG5cdCAgICAgIGRhdGEucGF0Y2hlZEJpbmRpbmdzID0gcGF0Y2hlZEJpbmRpbmdzO1xuXHQgICAgICBkYXRhLm1vZHVsZUV2YWwgPSBtb2R1bGVFdmFsO1xuXHQgICAgICBkYXRhLm1vZHVsZUV2YWxXaXRoU2NvcGUgPSBtb2R1bGVFdmFsV2l0aFNjb3BlO1xuXHQgICAgfSk7XG5cdCAgfVxuXHQgIGVsc2Uge1xuXHQgICAgdmFyIHBhdGNoZWRCaW5kaW5ncyA9IG1vZHVsZS5ob3QuZGF0YS5wYXRjaGVkQmluZGluZ3M7XG5cblx0ICAgIGJpbmRpbmdzLmZvckVhY2goZnVuY3Rpb24oYmluZGluZykge1xuXHQgICAgICB2YXIgZiA9IGV2YWwoYmluZGluZyk7XG5cblx0ICAgICAgaWYodHlwZW9mIGYgPT09ICdmdW5jdGlvbicgJiYgYmluZGluZyAhPT0gJ19fZXZhbCcpIHtcblx0ICAgICAgICAvLyBXZSBuZWVkIHRvIHJlaWZ5IHRoZSBmdW5jdGlvbiBpbiB0aGUgb3JpZ2luYWwgbW9kdWxlIHNvXG5cdCAgICAgICAgLy8gaXQgcmVmZXJlbmNlcyBhbnkgb2YgdGhlIG9yaWdpbmFsIHN0YXRlLiBTdHJpcCB0aGUgbmFtZVxuXHQgICAgICAgIC8vIGFuZCBzaW1wbHkgZXZhbCBpdC5cblx0ICAgICAgICB2YXIgZnVuY0NvZGUgPSAoXG5cdCAgICAgICAgICAnKCcgKyBmLnRvU3RyaW5nKCkucmVwbGFjZSgvXmZ1bmN0aW9uIFxcdytcXCgvLCAnZnVuY3Rpb24gKCcpICsgJyknXG5cdCAgICAgICAgKTtcblx0ICAgICAgICBwYXRjaGVkQmluZGluZ3NbYmluZGluZ10gPSBtb2R1bGUuaG90LmRhdGEubW9kdWxlRXZhbChmdW5jQ29kZSk7XG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXG5cdCAgICBpZih0eXBlb2YgX19ldmFsID09PSAnZnVuY3Rpb24nKSB7XG5cdCAgICAgIHRyeSB7XG5cdCAgICAgICAgbW9kdWxlLmhvdC5kYXRhLm1vZHVsZUV2YWxXaXRoU2NvcGUoZ2V0RXZhbFNvdXJjZShfX2V2YWwpKTtcblx0ICAgICAgfVxuXHQgICAgICBjYXRjaChlKSB7XG5cdCAgICAgICAgY29uc29sZS5sb2coJ2Vycm9yIGV2YWxpbmc6ICcgKyBlKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXG5cdCAgICBtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oZGF0YSkge1xuXHQgICAgICBkYXRhLnBhdGNoZWRCaW5kaW5ncyA9IHBhdGNoZWRCaW5kaW5ncztcblx0ICAgICAgZGF0YS5tb2R1bGVFdmFsID0gbW9kdWxlLmhvdC5kYXRhLm1vZHVsZUV2YWw7XG5cdCAgICAgIGRhdGEubW9kdWxlRXZhbFdpdGhTY29wZSA9IG1vZHVsZS5ob3QuZGF0YS5tb2R1bGVFdmFsV2l0aFNjb3BlO1xuXHQgICAgfSk7XG5cdCAgfVxuXHR9XG5cblxuLyoqKi8gfSxcbi8qIDE0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgdmVjMiA9IF9fd2VicGFja19yZXF1aXJlX18oMSlcblx0LCAgIEVxdWF0aW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKVxuXHQsICAgVXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBGcmljdGlvbkVxdWF0aW9uO1xuXHRcblx0LyoqXG5cdCAqIENvbnN0cmFpbnMgdGhlIHNsaXBwaW5nIGluIGEgY29udGFjdCBhbG9uZyBhIHRhbmdlbnRcblx0ICpcblx0ICogQGNsYXNzIEZyaWN0aW9uRXF1YXRpb25cblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqIEBwYXJhbSB7Qm9keX0gYm9keUFcblx0ICogQHBhcmFtIHtCb2R5fSBib2R5QlxuXHQgKiBAcGFyYW0ge051bWJlcn0gc2xpcEZvcmNlXG5cdCAqIEBleHRlbmRzIEVxdWF0aW9uXG5cdCAqL1xuXHRmdW5jdGlvbiBGcmljdGlvbkVxdWF0aW9uKGJvZHlBLCBib2R5Qiwgc2xpcEZvcmNlKXtcblx0ICAgIEVxdWF0aW9uLmNhbGwodGhpcywgYm9keUEsIGJvZHlCLCAtc2xpcEZvcmNlLCBzbGlwRm9yY2UpO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogUmVsYXRpdmUgdmVjdG9yIGZyb20gY2VudGVyIG9mIGJvZHkgQSB0byB0aGUgY29udGFjdCBwb2ludCwgd29ybGQgb3JpZW50ZWQuXG5cdCAgICAgKiBAcHJvcGVydHkgY29udGFjdFBvaW50QVxuXHQgICAgICogQHR5cGUge0FycmF5fVxuXHQgICAgICovXG5cdCAgICB0aGlzLmNvbnRhY3RQb2ludEEgPSB2ZWMyLmNyZWF0ZSgpO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogUmVsYXRpdmUgdmVjdG9yIGZyb20gY2VudGVyIG9mIGJvZHkgQiB0byB0aGUgY29udGFjdCBwb2ludCwgd29ybGQgb3JpZW50ZWQuXG5cdCAgICAgKiBAcHJvcGVydHkgY29udGFjdFBvaW50QlxuXHQgICAgICogQHR5cGUge0FycmF5fVxuXHQgICAgICovXG5cdCAgICB0aGlzLmNvbnRhY3RQb2ludEIgPSB2ZWMyLmNyZWF0ZSgpO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVGFuZ2VudCB2ZWN0b3IgdGhhdCB0aGUgZnJpY3Rpb24gZm9yY2Ugd2lsbCBhY3QgYWxvbmcuIFdvcmxkIG9yaWVudGVkLlxuXHQgICAgICogQHByb3BlcnR5IHRcblx0ICAgICAqIEB0eXBlIHtBcnJheX1cblx0ICAgICAqL1xuXHQgICAgdGhpcy50ID0gdmVjMi5jcmVhdGUoKTtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIENvbnRhY3RFcXVhdGlvbnMgY29ubmVjdGVkIHRvIHRoaXMgZnJpY3Rpb24gZXF1YXRpb24uIFRoZSBjb250YWN0IGVxdWF0aW9ucyBjYW4gYmUgdXNlZCB0byByZXNjYWxlIHRoZSBtYXggZm9yY2UgZm9yIHRoZSBmcmljdGlvbi4gSWYgbW9yZSB0aGFuIG9uZSBjb250YWN0IGVxdWF0aW9uIGlzIGdpdmVuLCB0aGVuIHRoZSBtYXggZm9yY2UgY2FuIGJlIHNldCB0byB0aGUgYXZlcmFnZS5cblx0ICAgICAqIEBwcm9wZXJ0eSBjb250YWN0RXF1YXRpb25zXG5cdCAgICAgKiBAdHlwZSB7Q29udGFjdEVxdWF0aW9ufVxuXHQgICAgICovXG5cdCAgICB0aGlzLmNvbnRhY3RFcXVhdGlvbnMgPSBbXTtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIFRoZSBzaGFwZSBpbiBib2R5IGkgdGhhdCB0cmlnZ2VyZWQgdGhpcyBmcmljdGlvbi5cblx0ICAgICAqIEBwcm9wZXJ0eSBzaGFwZUFcblx0ICAgICAqIEB0eXBlIHtTaGFwZX1cblx0ICAgICAqIEB0b2RvIE5lZWRlZD8gVGhlIHNoYXBlIGNhbiBiZSBsb29rZWQgdXAgdmlhIGNvbnRhY3RFcXVhdGlvbi5zaGFwZUEuLi5cblx0ICAgICAqL1xuXHQgICAgdGhpcy5zaGFwZUEgPSBudWxsO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVGhlIHNoYXBlIGluIGJvZHkgaiB0aGF0IHRyaWdnZXJlZCB0aGlzIGZyaWN0aW9uLlxuXHQgICAgICogQHByb3BlcnR5IHNoYXBlQlxuXHQgICAgICogQHR5cGUge1NoYXBlfVxuXHQgICAgICogQHRvZG8gTmVlZGVkPyBUaGUgc2hhcGUgY2FuIGJlIGxvb2tlZCB1cCB2aWEgY29udGFjdEVxdWF0aW9uLnNoYXBlQi4uLlxuXHQgICAgICovXG5cdCAgICB0aGlzLnNoYXBlQiA9IG51bGw7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGUgZnJpY3Rpb24gY29lZmZpY2llbnQgdG8gdXNlLlxuXHQgICAgICogQHByb3BlcnR5IGZyaWN0aW9uQ29lZmZpY2llbnRcblx0ICAgICAqIEB0eXBlIHtOdW1iZXJ9XG5cdCAgICAgKi9cblx0ICAgIHRoaXMuZnJpY3Rpb25Db2VmZmljaWVudCA9IDAuMztcblx0fVxuXHRGcmljdGlvbkVxdWF0aW9uLnByb3RvdHlwZSA9IG5ldyBFcXVhdGlvbigpO1xuXHRGcmljdGlvbkVxdWF0aW9uLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEZyaWN0aW9uRXF1YXRpb247XG5cdFxuXHQvKipcblx0ICogU2V0IHRoZSBzbGlwcGluZyBjb25kaXRpb24gZm9yIHRoZSBjb25zdHJhaW50LiBUaGUgZnJpY3Rpb24gZm9yY2UgY2Fubm90IGJlXG5cdCAqIGxhcmdlciB0aGFuIHRoaXMgdmFsdWUuXG5cdCAqIEBtZXRob2Qgc2V0U2xpcEZvcmNlXG5cdCAqIEBwYXJhbSAge051bWJlcn0gc2xpcEZvcmNlXG5cdCAqL1xuXHRGcmljdGlvbkVxdWF0aW9uLnByb3RvdHlwZS5zZXRTbGlwRm9yY2UgPSBmdW5jdGlvbihzbGlwRm9yY2Upe1xuXHQgICAgdGhpcy5tYXhGb3JjZSA9IHNsaXBGb3JjZTtcblx0ICAgIHRoaXMubWluRm9yY2UgPSAtc2xpcEZvcmNlO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIEdldCB0aGUgbWF4IGZvcmNlIGZvciB0aGUgY29uc3RyYWludC5cblx0ICogQG1ldGhvZCBnZXRTbGlwRm9yY2Vcblx0ICogQHJldHVybiB7TnVtYmVyfVxuXHQgKi9cblx0RnJpY3Rpb25FcXVhdGlvbi5wcm90b3R5cGUuZ2V0U2xpcEZvcmNlID0gZnVuY3Rpb24oKXtcblx0ICAgIHJldHVybiB0aGlzLm1heEZvcmNlO1xuXHR9O1xuXHRcblx0RnJpY3Rpb25FcXVhdGlvbi5wcm90b3R5cGUuY29tcHV0ZUIgPSBmdW5jdGlvbihhLGIsaCl7XG5cdCAgICB2YXIgYmkgPSB0aGlzLmJvZHlBLFxuXHQgICAgICAgIGJqID0gdGhpcy5ib2R5Qixcblx0ICAgICAgICByaSA9IHRoaXMuY29udGFjdFBvaW50QSxcblx0ICAgICAgICByaiA9IHRoaXMuY29udGFjdFBvaW50Qixcblx0ICAgICAgICB0ID0gdGhpcy50LFxuXHQgICAgICAgIEcgPSB0aGlzLkc7XG5cdFxuXHQgICAgLy8gRyA9IFstdCAtcml4dCB0IHJqeHRdXG5cdCAgICAvLyBBbmQgcmVtZW1iZXIsIHRoaXMgaXMgYSBwdXJlIHZlbG9jaXR5IGNvbnN0cmFpbnQsIGcgaXMgYWx3YXlzIHplcm8hXG5cdCAgICBHWzBdID0gLXRbMF07XG5cdCAgICBHWzFdID0gLXRbMV07XG5cdCAgICBHWzJdID0gLXZlYzIuY3Jvc3NMZW5ndGgocmksdCk7XG5cdCAgICBHWzNdID0gdFswXTtcblx0ICAgIEdbNF0gPSB0WzFdO1xuXHQgICAgR1s1XSA9IHZlYzIuY3Jvc3NMZW5ndGgocmosdCk7XG5cdFxuXHQgICAgdmFyIEdXID0gdGhpcy5jb21wdXRlR1coKSxcblx0ICAgICAgICBHaU1mID0gdGhpcy5jb21wdXRlR2lNZigpO1xuXHRcblx0ICAgIHZhciBCID0gLyogLSBnICogYSAgKi8gLSBHVyAqIGIgLSBoKkdpTWY7XG5cdFxuXHQgICAgcmV0dXJuIEI7XG5cdH07XG5cblxuLyoqKi8gfSxcbi8qIDE1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgU2hhcGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpXG5cdCwgICB2ZWMyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKVxuXHQsICAgcG9seWsgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwNilcblx0LCAgIGRlY29tcCA9IF9fd2VicGFja19yZXF1aXJlX18oNDEpO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBDb252ZXg7XG5cdFxuXHQvKipcblx0ICogQ29udmV4IHNoYXBlIGNsYXNzLlxuXHQgKiBAY2xhc3MgQ29udmV4XG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKiBAZXh0ZW5kcyBTaGFwZVxuXHQgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIChOb3RlIHRoYXQgdGhpcyBvcHRpb25zIG9iamVjdCB3aWxsIGJlIHBhc3NlZCBvbiB0byB0aGUge3sjY3Jvc3NMaW5rIFwiU2hhcGVcIn19e3svY3Jvc3NMaW5rfX0gY29uc3RydWN0b3IuKVxuXHQgKiBAcGFyYW0ge0FycmF5fSBbb3B0aW9ucy52ZXJ0aWNlc10gQW4gYXJyYXkgb2YgdmVydGljZXMgdGhhdCBzcGFuIHRoaXMgc2hhcGUuIFZlcnRpY2VzIGFyZSBnaXZlbiBpbiBjb3VudGVyLWNsb2Nrd2lzZSAoQ0NXKSBkaXJlY3Rpb24uXG5cdCAqIEBwYXJhbSB7QXJyYXl9IFtvcHRpb25zLmF4ZXNdIEFuIGFycmF5IG9mIHVuaXQgbGVuZ3RoIHZlY3RvcnMsIHJlcHJlc2VudGluZyB0aGUgc3ltbWV0cnkgYXhlcyBpbiB0aGUgY29udmV4LlxuXHQgKiBAZXhhbXBsZVxuXHQgKiAgICAgLy8gQ3JlYXRlIGEgYm94XG5cdCAqICAgICB2YXIgdmVydGljZXMgPSBbWy0xLC0xXSwgWzEsLTFdLCBbMSwxXSwgWy0xLDFdXTtcblx0ICogICAgIHZhciBjb252ZXhTaGFwZSA9IG5ldyBDb252ZXgoeyB2ZXJ0aWNlczogdmVydGljZXMgfSk7XG5cdCAqICAgICBib2R5LmFkZFNoYXBlKGNvbnZleFNoYXBlKTtcblx0ICovXG5cdGZ1bmN0aW9uIENvbnZleChvcHRpb25zKXtcblx0ICAgIGlmKEFycmF5LmlzQXJyYXkoYXJndW1lbnRzWzBdKSl7XG5cdCAgICAgICAgb3B0aW9ucyA9IHtcblx0ICAgICAgICAgICAgdmVydGljZXM6IGFyZ3VtZW50c1swXSxcblx0ICAgICAgICAgICAgYXhlczogYXJndW1lbnRzWzFdXG5cdCAgICAgICAgfTtcblx0ICAgICAgICBjb25zb2xlLndhcm4oJ1RoZSBDb252ZXggY29uc3RydWN0b3Igc2lnbmF0dXJlIGhhcyBjaGFuZ2VkLiBQbGVhc2UgdXNlIHRoZSBmb2xsb3dpbmcgZm9ybWF0OiBuZXcgQ29udmV4KHsgdmVydGljZXM6IFsuLi5dLCAuLi4gfSknKTtcblx0ICAgIH1cblx0ICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVmVydGljZXMgZGVmaW5lZCBpbiB0aGUgbG9jYWwgZnJhbWUuXG5cdCAgICAgKiBAcHJvcGVydHkgdmVydGljZXNcblx0ICAgICAqIEB0eXBlIHtBcnJheX1cblx0ICAgICAqL1xuXHQgICAgdGhpcy52ZXJ0aWNlcyA9IFtdO1xuXHRcblx0ICAgIC8vIENvcHkgdGhlIHZlcnRzXG5cdCAgICB2YXIgdmVydGljZXMgPSBvcHRpb25zLnZlcnRpY2VzICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnZlcnRpY2VzIDogW107XG5cdCAgICBmb3IodmFyIGk9MDsgaSA8IHZlcnRpY2VzLmxlbmd0aDsgaSsrKXtcblx0ICAgICAgICB2YXIgdiA9IHZlYzIuY3JlYXRlKCk7XG5cdCAgICAgICAgdmVjMi5jb3B5KHYsIHZlcnRpY2VzW2ldKTtcblx0ICAgICAgICB0aGlzLnZlcnRpY2VzLnB1c2godik7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBBeGVzIGRlZmluZWQgaW4gdGhlIGxvY2FsIGZyYW1lLlxuXHQgICAgICogQHByb3BlcnR5IGF4ZXNcblx0ICAgICAqIEB0eXBlIHtBcnJheX1cblx0ICAgICAqL1xuXHQgICAgdGhpcy5heGVzID0gW107XG5cdFxuXHQgICAgaWYob3B0aW9ucy5heGVzKXtcblx0XG5cdCAgICAgICAgLy8gQ29weSB0aGUgYXhlc1xuXHQgICAgICAgIGZvcih2YXIgaT0wOyBpIDwgb3B0aW9ucy5heGVzLmxlbmd0aDsgaSsrKXtcblx0ICAgICAgICAgICAgdmFyIGF4aXMgPSB2ZWMyLmNyZWF0ZSgpO1xuXHQgICAgICAgICAgICB2ZWMyLmNvcHkoYXhpcywgb3B0aW9ucy5heGVzW2ldKTtcblx0ICAgICAgICAgICAgdGhpcy5heGVzLnB1c2goYXhpcyk7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgIH0gZWxzZSB7XG5cdFxuXHQgICAgICAgIC8vIENvbnN0cnVjdCBheGVzIGZyb20gdGhlIHZlcnRleCBkYXRhXG5cdCAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IHRoaXMudmVydGljZXMubGVuZ3RoOyBpKyspe1xuXHQgICAgICAgICAgICAvLyBHZXQgdGhlIHdvcmxkIGVkZ2Vcblx0ICAgICAgICAgICAgdmFyIHdvcmxkUG9pbnQwID0gdGhpcy52ZXJ0aWNlc1tpXTtcblx0ICAgICAgICAgICAgdmFyIHdvcmxkUG9pbnQxID0gdGhpcy52ZXJ0aWNlc1soaSsxKSAlIHRoaXMudmVydGljZXMubGVuZ3RoXTtcblx0XG5cdCAgICAgICAgICAgIHZhciBub3JtYWwgPSB2ZWMyLmNyZWF0ZSgpO1xuXHQgICAgICAgICAgICB2ZWMyLnN1Yihub3JtYWwsIHdvcmxkUG9pbnQxLCB3b3JsZFBvaW50MCk7XG5cdFxuXHQgICAgICAgICAgICAvLyBHZXQgbm9ybWFsIC0ganVzdCByb3RhdGUgOTAgZGVncmVlcyBzaW5jZSB2ZXJ0aWNlcyBhcmUgZ2l2ZW4gaW4gQ0NXXG5cdCAgICAgICAgICAgIHZlYzIucm90YXRlOTBjdyhub3JtYWwsIG5vcm1hbCk7XG5cdCAgICAgICAgICAgIHZlYzIubm9ybWFsaXplKG5vcm1hbCwgbm9ybWFsKTtcblx0XG5cdCAgICAgICAgICAgIHRoaXMuYXhlcy5wdXNoKG5vcm1hbCk7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIFRoZSBjZW50ZXIgb2YgbWFzcyBvZiB0aGUgQ29udmV4XG5cdCAgICAgKiBAcHJvcGVydHkgY2VudGVyT2ZNYXNzXG5cdCAgICAgKiBAdHlwZSB7QXJyYXl9XG5cdCAgICAgKi9cblx0ICAgIHRoaXMuY2VudGVyT2ZNYXNzID0gdmVjMi5mcm9tVmFsdWVzKDAsMCk7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUcmlhbmd1bGF0ZWQgdmVyc2lvbiBvZiB0aGlzIGNvbnZleC4gVGhlIHN0cnVjdHVyZSBpcyBBcnJheSBvZiAzLUFycmF5cywgYW5kIGVhY2ggc3ViYXJyYXkgY29udGFpbnMgMyBpbnRlZ2VycywgcmVmZXJlbmNpbmcgdGhlIHZlcnRpY2VzLlxuXHQgICAgICogQHByb3BlcnR5IHRyaWFuZ2xlc1xuXHQgICAgICogQHR5cGUge0FycmF5fVxuXHQgICAgICovXG5cdCAgICB0aGlzLnRyaWFuZ2xlcyA9IFtdO1xuXHRcblx0ICAgIGlmKHRoaXMudmVydGljZXMubGVuZ3RoKXtcblx0ICAgICAgICB0aGlzLnVwZGF0ZVRyaWFuZ2xlcygpO1xuXHQgICAgICAgIHRoaXMudXBkYXRlQ2VudGVyT2ZNYXNzKCk7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGUgYm91bmRpbmcgcmFkaXVzIG9mIHRoZSBjb252ZXhcblx0ICAgICAqIEBwcm9wZXJ0eSBib3VuZGluZ1JhZGl1c1xuXHQgICAgICogQHR5cGUge051bWJlcn1cblx0ICAgICAqL1xuXHQgICAgdGhpcy5ib3VuZGluZ1JhZGl1cyA9IDA7XG5cdFxuXHQgICAgb3B0aW9ucy50eXBlID0gU2hhcGUuQ09OVkVYO1xuXHQgICAgU2hhcGUuY2FsbCh0aGlzLCBvcHRpb25zKTtcblx0XG5cdCAgICB0aGlzLnVwZGF0ZUJvdW5kaW5nUmFkaXVzKCk7XG5cdCAgICB0aGlzLnVwZGF0ZUFyZWEoKTtcblx0ICAgIGlmKHRoaXMuYXJlYSA8IDApe1xuXHQgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvbnZleCB2ZXJ0aWNlcyBtdXN0IGJlIGdpdmVuIGluIGNvbnRlci1jbG9ja3dpc2Ugd2luZGluZy5cIik7XG5cdCAgICB9XG5cdH1cblx0Q29udmV4LnByb3RvdHlwZSA9IG5ldyBTaGFwZSgpO1xuXHRDb252ZXgucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQ29udmV4O1xuXHRcblx0dmFyIHRtcFZlYzEgPSB2ZWMyLmNyZWF0ZSgpO1xuXHR2YXIgdG1wVmVjMiA9IHZlYzIuY3JlYXRlKCk7XG5cdFxuXHQvKipcblx0ICogUHJvamVjdCBhIENvbnZleCBvbnRvIGEgd29ybGQtb3JpZW50ZWQgYXhpc1xuXHQgKiBAbWV0aG9kIHByb2plY3RPbnRvQXhpc1xuXHQgKiBAc3RhdGljXG5cdCAqIEBwYXJhbSAge0FycmF5fSBvZmZzZXRcblx0ICogQHBhcmFtICB7QXJyYXl9IGxvY2FsQXhpc1xuXHQgKiBAcGFyYW0gIHtBcnJheX0gcmVzdWx0XG5cdCAqL1xuXHRDb252ZXgucHJvdG90eXBlLnByb2plY3RPbnRvTG9jYWxBeGlzID0gZnVuY3Rpb24obG9jYWxBeGlzLCByZXN1bHQpe1xuXHQgICAgdmFyIG1heD1udWxsLFxuXHQgICAgICAgIG1pbj1udWxsLFxuXHQgICAgICAgIHYsXG5cdCAgICAgICAgdmFsdWUsXG5cdCAgICAgICAgbG9jYWxBeGlzID0gdG1wVmVjMTtcblx0XG5cdCAgICAvLyBHZXQgcHJvamVjdGVkIHBvc2l0aW9uIG9mIGFsbCB2ZXJ0aWNlc1xuXHQgICAgZm9yKHZhciBpPTA7IGk8dGhpcy52ZXJ0aWNlcy5sZW5ndGg7IGkrKyl7XG5cdCAgICAgICAgdiA9IHRoaXMudmVydGljZXNbaV07XG5cdCAgICAgICAgdmFsdWUgPSB2ZWMyLmRvdCh2LCBsb2NhbEF4aXMpO1xuXHQgICAgICAgIGlmKG1heCA9PT0gbnVsbCB8fCB2YWx1ZSA+IG1heCl7XG5cdCAgICAgICAgICAgIG1heCA9IHZhbHVlO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZihtaW4gPT09IG51bGwgfHwgdmFsdWUgPCBtaW4pe1xuXHQgICAgICAgICAgICBtaW4gPSB2YWx1ZTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgaWYobWluID4gbWF4KXtcblx0ICAgICAgICB2YXIgdCA9IG1pbjtcblx0ICAgICAgICBtaW4gPSBtYXg7XG5cdCAgICAgICAgbWF4ID0gdDtcblx0ICAgIH1cblx0XG5cdCAgICB2ZWMyLnNldChyZXN1bHQsIG1pbiwgbWF4KTtcblx0fTtcblx0XG5cdENvbnZleC5wcm90b3R5cGUucHJvamVjdE9udG9Xb3JsZEF4aXMgPSBmdW5jdGlvbihsb2NhbEF4aXMsIHNoYXBlT2Zmc2V0LCBzaGFwZUFuZ2xlLCByZXN1bHQpe1xuXHQgICAgdmFyIHdvcmxkQXhpcyA9IHRtcFZlYzI7XG5cdFxuXHQgICAgdGhpcy5wcm9qZWN0T250b0xvY2FsQXhpcyhsb2NhbEF4aXMsIHJlc3VsdCk7XG5cdFxuXHQgICAgLy8gUHJvamVjdCB0aGUgcG9zaXRpb24gb2YgdGhlIGJvZHkgb250byB0aGUgYXhpcyAtIG5lZWQgdG8gYWRkIHRoaXMgdG8gdGhlIHJlc3VsdFxuXHQgICAgaWYoc2hhcGVBbmdsZSAhPT0gMCl7XG5cdCAgICAgICAgdmVjMi5yb3RhdGUod29ybGRBeGlzLCBsb2NhbEF4aXMsIHNoYXBlQW5nbGUpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICB3b3JsZEF4aXMgPSBsb2NhbEF4aXM7XG5cdCAgICB9XG5cdCAgICB2YXIgb2Zmc2V0ID0gdmVjMi5kb3Qoc2hhcGVPZmZzZXQsIHdvcmxkQXhpcyk7XG5cdFxuXHQgICAgdmVjMi5zZXQocmVzdWx0LCByZXN1bHRbMF0gKyBvZmZzZXQsIHJlc3VsdFsxXSArIG9mZnNldCk7XG5cdH07XG5cdFxuXHRcblx0LyoqXG5cdCAqIFVwZGF0ZSB0aGUgLnRyaWFuZ2xlcyBwcm9wZXJ0eVxuXHQgKiBAbWV0aG9kIHVwZGF0ZVRyaWFuZ2xlc1xuXHQgKi9cblx0Q29udmV4LnByb3RvdHlwZS51cGRhdGVUcmlhbmdsZXMgPSBmdW5jdGlvbigpe1xuXHRcblx0ICAgIHRoaXMudHJpYW5nbGVzLmxlbmd0aCA9IDA7XG5cdFxuXHQgICAgLy8gUmV3cml0ZSBvbiBwb2x5ayBub3RhdGlvbiwgYXJyYXkgb2YgbnVtYmVyc1xuXHQgICAgdmFyIHBvbHlrVmVydHMgPSBbXTtcblx0ICAgIGZvcih2YXIgaT0wOyBpPHRoaXMudmVydGljZXMubGVuZ3RoOyBpKyspe1xuXHQgICAgICAgIHZhciB2ID0gdGhpcy52ZXJ0aWNlc1tpXTtcblx0ICAgICAgICBwb2x5a1ZlcnRzLnB1c2godlswXSx2WzFdKTtcblx0ICAgIH1cblx0XG5cdCAgICAvLyBUcmlhbmd1bGF0ZVxuXHQgICAgdmFyIHRyaWFuZ2xlcyA9IHBvbHlrLlRyaWFuZ3VsYXRlKHBvbHlrVmVydHMpO1xuXHRcblx0ICAgIC8vIExvb3Agb3ZlciBhbGwgdHJpYW5nbGVzLCBhZGQgdGhlaXIgaW5lcnRpYSBjb250cmlidXRpb25zIHRvIElcblx0ICAgIGZvcih2YXIgaT0wOyBpPHRyaWFuZ2xlcy5sZW5ndGg7IGkrPTMpe1xuXHQgICAgICAgIHZhciBpZDEgPSB0cmlhbmdsZXNbaV0sXG5cdCAgICAgICAgICAgIGlkMiA9IHRyaWFuZ2xlc1tpKzFdLFxuXHQgICAgICAgICAgICBpZDMgPSB0cmlhbmdsZXNbaSsyXTtcblx0XG5cdCAgICAgICAgLy8gQWRkIHRvIHRyaWFuZ2xlc1xuXHQgICAgICAgIHRoaXMudHJpYW5nbGVzLnB1c2goW2lkMSxpZDIsaWQzXSk7XG5cdCAgICB9XG5cdH07XG5cdFxuXHR2YXIgdXBkYXRlQ2VudGVyT2ZNYXNzX2NlbnRyb2lkID0gdmVjMi5jcmVhdGUoKSxcblx0ICAgIHVwZGF0ZUNlbnRlck9mTWFzc19jZW50cm9pZF90aW1lc19tYXNzID0gdmVjMi5jcmVhdGUoKSxcblx0ICAgIHVwZGF0ZUNlbnRlck9mTWFzc19hID0gdmVjMi5jcmVhdGUoKSxcblx0ICAgIHVwZGF0ZUNlbnRlck9mTWFzc19iID0gdmVjMi5jcmVhdGUoKSxcblx0ICAgIHVwZGF0ZUNlbnRlck9mTWFzc19jID0gdmVjMi5jcmVhdGUoKSxcblx0ICAgIHVwZGF0ZUNlbnRlck9mTWFzc19hYyA9IHZlYzIuY3JlYXRlKCksXG5cdCAgICB1cGRhdGVDZW50ZXJPZk1hc3NfY2EgPSB2ZWMyLmNyZWF0ZSgpLFxuXHQgICAgdXBkYXRlQ2VudGVyT2ZNYXNzX2NiID0gdmVjMi5jcmVhdGUoKSxcblx0ICAgIHVwZGF0ZUNlbnRlck9mTWFzc19uID0gdmVjMi5jcmVhdGUoKTtcblx0XG5cdC8qKlxuXHQgKiBVcGRhdGUgdGhlIC5jZW50ZXJPZk1hc3MgcHJvcGVydHkuXG5cdCAqIEBtZXRob2QgdXBkYXRlQ2VudGVyT2ZNYXNzXG5cdCAqL1xuXHRDb252ZXgucHJvdG90eXBlLnVwZGF0ZUNlbnRlck9mTWFzcyA9IGZ1bmN0aW9uKCl7XG5cdCAgICB2YXIgdHJpYW5nbGVzID0gdGhpcy50cmlhbmdsZXMsXG5cdCAgICAgICAgdmVydHMgPSB0aGlzLnZlcnRpY2VzLFxuXHQgICAgICAgIGNtID0gdGhpcy5jZW50ZXJPZk1hc3MsXG5cdCAgICAgICAgY2VudHJvaWQgPSB1cGRhdGVDZW50ZXJPZk1hc3NfY2VudHJvaWQsXG5cdCAgICAgICAgbiA9IHVwZGF0ZUNlbnRlck9mTWFzc19uLFxuXHQgICAgICAgIGEgPSB1cGRhdGVDZW50ZXJPZk1hc3NfYSxcblx0ICAgICAgICBiID0gdXBkYXRlQ2VudGVyT2ZNYXNzX2IsXG5cdCAgICAgICAgYyA9IHVwZGF0ZUNlbnRlck9mTWFzc19jLFxuXHQgICAgICAgIGFjID0gdXBkYXRlQ2VudGVyT2ZNYXNzX2FjLFxuXHQgICAgICAgIGNhID0gdXBkYXRlQ2VudGVyT2ZNYXNzX2NhLFxuXHQgICAgICAgIGNiID0gdXBkYXRlQ2VudGVyT2ZNYXNzX2NiLFxuXHQgICAgICAgIGNlbnRyb2lkX3RpbWVzX21hc3MgPSB1cGRhdGVDZW50ZXJPZk1hc3NfY2VudHJvaWRfdGltZXNfbWFzcztcblx0XG5cdCAgICB2ZWMyLnNldChjbSwwLDApO1xuXHQgICAgdmFyIHRvdGFsQXJlYSA9IDA7XG5cdFxuXHQgICAgZm9yKHZhciBpPTA7IGkhPT10cmlhbmdsZXMubGVuZ3RoOyBpKyspe1xuXHQgICAgICAgIHZhciB0ID0gdHJpYW5nbGVzW2ldLFxuXHQgICAgICAgICAgICBhID0gdmVydHNbdFswXV0sXG5cdCAgICAgICAgICAgIGIgPSB2ZXJ0c1t0WzFdXSxcblx0ICAgICAgICAgICAgYyA9IHZlcnRzW3RbMl1dO1xuXHRcblx0ICAgICAgICB2ZWMyLmNlbnRyb2lkKGNlbnRyb2lkLGEsYixjKTtcblx0XG5cdCAgICAgICAgLy8gR2V0IG1hc3MgZm9yIHRoZSB0cmlhbmdsZSAoZGVuc2l0eT0xIGluIHRoaXMgY2FzZSlcblx0ICAgICAgICAvLyBodHRwOi8vbWF0aC5zdGFja2V4Y2hhbmdlLmNvbS9xdWVzdGlvbnMvODAxOTgvYXJlYS1vZi10cmlhbmdsZS12aWEtdmVjdG9yc1xuXHQgICAgICAgIHZhciBtID0gQ29udmV4LnRyaWFuZ2xlQXJlYShhLGIsYyk7XG5cdCAgICAgICAgdG90YWxBcmVhICs9IG07XG5cdFxuXHQgICAgICAgIC8vIEFkZCB0byBjZW50ZXIgb2YgbWFzc1xuXHQgICAgICAgIHZlYzIuc2NhbGUoY2VudHJvaWRfdGltZXNfbWFzcywgY2VudHJvaWQsIG0pO1xuXHQgICAgICAgIHZlYzIuYWRkKGNtLCBjbSwgY2VudHJvaWRfdGltZXNfbWFzcyk7XG5cdCAgICB9XG5cdFxuXHQgICAgdmVjMi5zY2FsZShjbSxjbSwxL3RvdGFsQXJlYSk7XG5cdH07XG5cdFxuXHQvKipcblx0ICogQ29tcHV0ZSB0aGUgbWFzcyBtb21lbnQgb2YgaW5lcnRpYSBvZiB0aGUgQ29udmV4LlxuXHQgKiBAbWV0aG9kIGNvbXB1dGVNb21lbnRPZkluZXJ0aWFcblx0ICogQHBhcmFtICB7TnVtYmVyfSBtYXNzXG5cdCAqIEByZXR1cm4ge051bWJlcn1cblx0ICogQHNlZSBodHRwOi8vd3d3LmdhbWVkZXYubmV0L3RvcGljLzM0MjgyMi1tb21lbnQtb2YtaW5lcnRpYS1vZi1hLXBvbHlnb24tMmQvXG5cdCAqL1xuXHRDb252ZXgucHJvdG90eXBlLmNvbXB1dGVNb21lbnRPZkluZXJ0aWEgPSBmdW5jdGlvbihtYXNzKXtcblx0ICAgIHZhciBkZW5vbSA9IDAuMCxcblx0ICAgICAgICBudW1lciA9IDAuMCxcblx0ICAgICAgICBOID0gdGhpcy52ZXJ0aWNlcy5sZW5ndGg7XG5cdCAgICBmb3IodmFyIGogPSBOLTEsIGkgPSAwOyBpIDwgTjsgaiA9IGksIGkgKyspe1xuXHQgICAgICAgIHZhciBwMCA9IHRoaXMudmVydGljZXNbal07XG5cdCAgICAgICAgdmFyIHAxID0gdGhpcy52ZXJ0aWNlc1tpXTtcblx0ICAgICAgICB2YXIgYSA9IE1hdGguYWJzKHZlYzIuY3Jvc3NMZW5ndGgocDAscDEpKTtcblx0ICAgICAgICB2YXIgYiA9IHZlYzIuZG90KHAxLHAxKSArIHZlYzIuZG90KHAxLHAwKSArIHZlYzIuZG90KHAwLHAwKTtcblx0ICAgICAgICBkZW5vbSArPSBhICogYjtcblx0ICAgICAgICBudW1lciArPSBhO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIChtYXNzIC8gNi4wKSAqIChkZW5vbSAvIG51bWVyKTtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBVcGRhdGVzIHRoZSAuYm91bmRpbmdSYWRpdXMgcHJvcGVydHlcblx0ICogQG1ldGhvZCB1cGRhdGVCb3VuZGluZ1JhZGl1c1xuXHQgKi9cblx0Q29udmV4LnByb3RvdHlwZS51cGRhdGVCb3VuZGluZ1JhZGl1cyA9IGZ1bmN0aW9uKCl7XG5cdCAgICB2YXIgdmVydHMgPSB0aGlzLnZlcnRpY2VzLFxuXHQgICAgICAgIHIyID0gMDtcblx0XG5cdCAgICBmb3IodmFyIGk9MDsgaSE9PXZlcnRzLmxlbmd0aDsgaSsrKXtcblx0ICAgICAgICB2YXIgbDIgPSB2ZWMyLnNxdWFyZWRMZW5ndGgodmVydHNbaV0pO1xuXHQgICAgICAgIGlmKGwyID4gcjIpe1xuXHQgICAgICAgICAgICByMiA9IGwyO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICB0aGlzLmJvdW5kaW5nUmFkaXVzID0gTWF0aC5zcXJ0KHIyKTtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBHZXQgdGhlIGFyZWEgb2YgdGhlIHRyaWFuZ2xlIHNwYW5uZWQgYnkgdGhlIHRocmVlIHBvaW50cyBhLCBiLCBjLiBUaGUgYXJlYSBpcyBwb3NpdGl2ZSBpZiB0aGUgcG9pbnRzIGFyZSBnaXZlbiBpbiBjb3VudGVyLWNsb2Nrd2lzZSBvcmRlciwgb3RoZXJ3aXNlIG5lZ2F0aXZlLlxuXHQgKiBAc3RhdGljXG5cdCAqIEBtZXRob2QgdHJpYW5nbGVBcmVhXG5cdCAqIEBwYXJhbSB7QXJyYXl9IGFcblx0ICogQHBhcmFtIHtBcnJheX0gYlxuXHQgKiBAcGFyYW0ge0FycmF5fSBjXG5cdCAqIEByZXR1cm4ge051bWJlcn1cblx0ICovXG5cdENvbnZleC50cmlhbmdsZUFyZWEgPSBmdW5jdGlvbihhLGIsYyl7XG5cdCAgICByZXR1cm4gKCgoYlswXSAtIGFbMF0pKihjWzFdIC0gYVsxXSkpLSgoY1swXSAtIGFbMF0pKihiWzFdIC0gYVsxXSkpKSAqIDAuNTtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBVcGRhdGUgdGhlIC5hcmVhXG5cdCAqIEBtZXRob2QgdXBkYXRlQXJlYVxuXHQgKi9cblx0Q29udmV4LnByb3RvdHlwZS51cGRhdGVBcmVhID0gZnVuY3Rpb24oKXtcblx0ICAgIHRoaXMudXBkYXRlVHJpYW5nbGVzKCk7XG5cdCAgICB0aGlzLmFyZWEgPSAwO1xuXHRcblx0ICAgIHZhciB0cmlhbmdsZXMgPSB0aGlzLnRyaWFuZ2xlcyxcblx0ICAgICAgICB2ZXJ0cyA9IHRoaXMudmVydGljZXM7XG5cdCAgICBmb3IodmFyIGk9MDsgaSE9PXRyaWFuZ2xlcy5sZW5ndGg7IGkrKyl7XG5cdCAgICAgICAgdmFyIHQgPSB0cmlhbmdsZXNbaV0sXG5cdCAgICAgICAgICAgIGEgPSB2ZXJ0c1t0WzBdXSxcblx0ICAgICAgICAgICAgYiA9IHZlcnRzW3RbMV1dLFxuXHQgICAgICAgICAgICBjID0gdmVydHNbdFsyXV07XG5cdFxuXHQgICAgICAgIC8vIEdldCBtYXNzIGZvciB0aGUgdHJpYW5nbGUgKGRlbnNpdHk9MSBpbiB0aGlzIGNhc2UpXG5cdCAgICAgICAgdmFyIG0gPSBDb252ZXgudHJpYW5nbGVBcmVhKGEsYixjKTtcblx0ICAgICAgICB0aGlzLmFyZWEgKz0gbTtcblx0ICAgIH1cblx0fTtcblx0XG5cdC8qKlxuXHQgKiBAbWV0aG9kIGNvbXB1dGVBQUJCXG5cdCAqIEBwYXJhbSAge0FBQkJ9ICAgb3V0XG5cdCAqIEBwYXJhbSAge0FycmF5fSAgcG9zaXRpb25cblx0ICogQHBhcmFtICB7TnVtYmVyfSBhbmdsZVxuXHQgKi9cblx0Q29udmV4LnByb3RvdHlwZS5jb21wdXRlQUFCQiA9IGZ1bmN0aW9uKG91dCwgcG9zaXRpb24sIGFuZ2xlKXtcblx0ICAgIG91dC5zZXRGcm9tUG9pbnRzKHRoaXMudmVydGljZXMsIHBvc2l0aW9uLCBhbmdsZSwgMCk7XG5cdH07XG5cdFxuXHR2YXIgaW50ZXJzZWN0Q29udmV4X3JheVN0YXJ0ID0gdmVjMi5jcmVhdGUoKTtcblx0dmFyIGludGVyc2VjdENvbnZleF9yYXlFbmQgPSB2ZWMyLmNyZWF0ZSgpO1xuXHR2YXIgaW50ZXJzZWN0Q29udmV4X25vcm1hbCA9IHZlYzIuY3JlYXRlKCk7XG5cdFxuXHQvKipcblx0ICogQG1ldGhvZCByYXljYXN0XG5cdCAqIEBwYXJhbSAge1JheWNhc3RSZXN1bHR9IHJlc3VsdFxuXHQgKiBAcGFyYW0gIHtSYXl9IHJheVxuXHQgKiBAcGFyYW0gIHthcnJheX0gcG9zaXRpb25cblx0ICogQHBhcmFtICB7bnVtYmVyfSBhbmdsZVxuXHQgKi9cblx0Q29udmV4LnByb3RvdHlwZS5yYXljYXN0ID0gZnVuY3Rpb24ocmVzdWx0LCByYXksIHBvc2l0aW9uLCBhbmdsZSl7XG5cdCAgICB2YXIgcmF5U3RhcnQgPSBpbnRlcnNlY3RDb252ZXhfcmF5U3RhcnQ7XG5cdCAgICB2YXIgcmF5RW5kID0gaW50ZXJzZWN0Q29udmV4X3JheUVuZDtcblx0ICAgIHZhciBub3JtYWwgPSBpbnRlcnNlY3RDb252ZXhfbm9ybWFsO1xuXHQgICAgdmFyIHZlcnRpY2VzID0gdGhpcy52ZXJ0aWNlcztcblx0XG5cdCAgICAvLyBUcmFuc2Zvcm0gdG8gbG9jYWwgc2hhcGUgc3BhY2Vcblx0ICAgIHZlYzIudG9Mb2NhbEZyYW1lKHJheVN0YXJ0LCByYXkuZnJvbSwgcG9zaXRpb24sIGFuZ2xlKTtcblx0ICAgIHZlYzIudG9Mb2NhbEZyYW1lKHJheUVuZCwgcmF5LnRvLCBwb3NpdGlvbiwgYW5nbGUpO1xuXHRcblx0ICAgIHZhciBuID0gdmVydGljZXMubGVuZ3RoO1xuXHRcblx0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbiAmJiAhcmVzdWx0LnNob3VsZFN0b3AocmF5KTsgaSsrKSB7XG5cdCAgICAgICAgdmFyIHExID0gdmVydGljZXNbaV07XG5cdCAgICAgICAgdmFyIHEyID0gdmVydGljZXNbKGkrMSkgJSBuXTtcblx0ICAgICAgICB2YXIgZGVsdGEgPSB2ZWMyLmdldExpbmVTZWdtZW50c0ludGVyc2VjdGlvbkZyYWN0aW9uKHJheVN0YXJ0LCByYXlFbmQsIHExLCBxMik7XG5cdFxuXHQgICAgICAgIGlmKGRlbHRhID49IDApe1xuXHQgICAgICAgICAgICB2ZWMyLnN1Yihub3JtYWwsIHEyLCBxMSk7XG5cdCAgICAgICAgICAgIHZlYzIucm90YXRlKG5vcm1hbCwgbm9ybWFsLCAtTWF0aC5QSSAvIDIgKyBhbmdsZSk7XG5cdCAgICAgICAgICAgIHZlYzIubm9ybWFsaXplKG5vcm1hbCwgbm9ybWFsKTtcblx0ICAgICAgICAgICAgcmF5LnJlcG9ydEludGVyc2VjdGlvbihyZXN1bHQsIGRlbHRhLCBub3JtYWwsIGkpO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0fTtcblxuXG4vKioqLyB9LFxuLyogMTYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciB2ZWMyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKVxuXHQsICAgVXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBBQUJCO1xuXHRcblx0LyoqXG5cdCAqIEF4aXMgYWxpZ25lZCBib3VuZGluZyBib3ggY2xhc3MuXG5cdCAqIEBjbGFzcyBBQUJCXG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKiBAcGFyYW0ge09iamVjdH0gIFtvcHRpb25zXVxuXHQgKiBAcGFyYW0ge0FycmF5fSAgIFtvcHRpb25zLnVwcGVyQm91bmRdXG5cdCAqIEBwYXJhbSB7QXJyYXl9ICAgW29wdGlvbnMubG93ZXJCb3VuZF1cblx0ICovXG5cdGZ1bmN0aW9uIEFBQkIob3B0aW9ucyl7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGUgbG93ZXIgYm91bmQgb2YgdGhlIGJvdW5kaW5nIGJveC5cblx0ICAgICAqIEBwcm9wZXJ0eSBsb3dlckJvdW5kXG5cdCAgICAgKiBAdHlwZSB7QXJyYXl9XG5cdCAgICAgKi9cblx0ICAgIHRoaXMubG93ZXJCb3VuZCA9IHZlYzIuY3JlYXRlKCk7XG5cdCAgICBpZihvcHRpb25zICYmIG9wdGlvbnMubG93ZXJCb3VuZCl7XG5cdCAgICAgICAgdmVjMi5jb3B5KHRoaXMubG93ZXJCb3VuZCwgb3B0aW9ucy5sb3dlckJvdW5kKTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIFRoZSB1cHBlciBib3VuZCBvZiB0aGUgYm91bmRpbmcgYm94LlxuXHQgICAgICogQHByb3BlcnR5IHVwcGVyQm91bmRcblx0ICAgICAqIEB0eXBlIHtBcnJheX1cblx0ICAgICAqL1xuXHQgICAgdGhpcy51cHBlckJvdW5kID0gdmVjMi5jcmVhdGUoKTtcblx0ICAgIGlmKG9wdGlvbnMgJiYgb3B0aW9ucy51cHBlckJvdW5kKXtcblx0ICAgICAgICB2ZWMyLmNvcHkodGhpcy51cHBlckJvdW5kLCBvcHRpb25zLnVwcGVyQm91bmQpO1xuXHQgICAgfVxuXHR9XG5cdFxuXHR2YXIgdG1wID0gdmVjMi5jcmVhdGUoKTtcblx0XG5cdC8qKlxuXHQgKiBTZXQgdGhlIEFBQkIgYm91bmRzIGZyb20gYSBzZXQgb2YgcG9pbnRzLCB0cmFuc2Zvcm1lZCBieSB0aGUgZ2l2ZW4gcG9zaXRpb24gYW5kIGFuZ2xlLlxuXHQgKiBAbWV0aG9kIHNldEZyb21Qb2ludHNcblx0ICogQHBhcmFtIHtBcnJheX0gcG9pbnRzIEFuIGFycmF5IG9mIHZlYzIncy5cblx0ICogQHBhcmFtIHtBcnJheX0gcG9zaXRpb25cblx0ICogQHBhcmFtIHtudW1iZXJ9IGFuZ2xlXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBza2luU2l6ZSBTb21lIG1hcmdpbiB0byBiZSBhZGRlZCB0byB0aGUgQUFCQi5cblx0ICovXG5cdEFBQkIucHJvdG90eXBlLnNldEZyb21Qb2ludHMgPSBmdW5jdGlvbihwb2ludHMsIHBvc2l0aW9uLCBhbmdsZSwgc2tpblNpemUpe1xuXHQgICAgdmFyIGwgPSB0aGlzLmxvd2VyQm91bmQsXG5cdCAgICAgICAgdSA9IHRoaXMudXBwZXJCb3VuZDtcblx0XG5cdCAgICBpZih0eXBlb2YoYW5nbGUpICE9PSBcIm51bWJlclwiKXtcblx0ICAgICAgICBhbmdsZSA9IDA7XG5cdCAgICB9XG5cdFxuXHQgICAgLy8gU2V0IHRvIHRoZSBmaXJzdCBwb2ludFxuXHQgICAgaWYoYW5nbGUgIT09IDApe1xuXHQgICAgICAgIHZlYzIucm90YXRlKGwsIHBvaW50c1swXSwgYW5nbGUpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICB2ZWMyLmNvcHkobCwgcG9pbnRzWzBdKTtcblx0ICAgIH1cblx0ICAgIHZlYzIuY29weSh1LCBsKTtcblx0XG5cdCAgICAvLyBDb21wdXRlIGNvc2luZXMgYW5kIHNpbmVzIGp1c3Qgb25jZVxuXHQgICAgdmFyIGNvc0FuZ2xlID0gTWF0aC5jb3MoYW5nbGUpLFxuXHQgICAgICAgIHNpbkFuZ2xlID0gTWF0aC5zaW4oYW5nbGUpO1xuXHQgICAgZm9yKHZhciBpID0gMTsgaTxwb2ludHMubGVuZ3RoOyBpKyspe1xuXHQgICAgICAgIHZhciBwID0gcG9pbnRzW2ldO1xuXHRcblx0ICAgICAgICBpZihhbmdsZSAhPT0gMCl7XG5cdCAgICAgICAgICAgIHZhciB4ID0gcFswXSxcblx0ICAgICAgICAgICAgICAgIHkgPSBwWzFdO1xuXHQgICAgICAgICAgICB0bXBbMF0gPSBjb3NBbmdsZSAqIHggLXNpbkFuZ2xlICogeTtcblx0ICAgICAgICAgICAgdG1wWzFdID0gc2luQW5nbGUgKiB4ICtjb3NBbmdsZSAqIHk7XG5cdCAgICAgICAgICAgIHAgPSB0bXA7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBmb3IodmFyIGo9MDsgajwyOyBqKyspe1xuXHQgICAgICAgICAgICBpZihwW2pdID4gdVtqXSl7XG5cdCAgICAgICAgICAgICAgICB1W2pdID0gcFtqXTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBpZihwW2pdIDwgbFtqXSl7XG5cdCAgICAgICAgICAgICAgICBsW2pdID0gcFtqXTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICAvLyBBZGQgb2Zmc2V0XG5cdCAgICBpZihwb3NpdGlvbil7XG5cdCAgICAgICAgdmVjMi5hZGQodGhpcy5sb3dlckJvdW5kLCB0aGlzLmxvd2VyQm91bmQsIHBvc2l0aW9uKTtcblx0ICAgICAgICB2ZWMyLmFkZCh0aGlzLnVwcGVyQm91bmQsIHRoaXMudXBwZXJCb3VuZCwgcG9zaXRpb24pO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmKHNraW5TaXplKXtcblx0ICAgICAgICB0aGlzLmxvd2VyQm91bmRbMF0gLT0gc2tpblNpemU7XG5cdCAgICAgICAgdGhpcy5sb3dlckJvdW5kWzFdIC09IHNraW5TaXplO1xuXHQgICAgICAgIHRoaXMudXBwZXJCb3VuZFswXSArPSBza2luU2l6ZTtcblx0ICAgICAgICB0aGlzLnVwcGVyQm91bmRbMV0gKz0gc2tpblNpemU7XG5cdCAgICB9XG5cdH07XG5cdFxuXHQvKipcblx0ICogQ29weSBib3VuZHMgZnJvbSBhbiBBQUJCIHRvIHRoaXMgQUFCQlxuXHQgKiBAbWV0aG9kIGNvcHlcblx0ICogQHBhcmFtICB7QUFCQn0gYWFiYlxuXHQgKi9cblx0QUFCQi5wcm90b3R5cGUuY29weSA9IGZ1bmN0aW9uKGFhYmIpe1xuXHQgICAgdmVjMi5jb3B5KHRoaXMubG93ZXJCb3VuZCwgYWFiYi5sb3dlckJvdW5kKTtcblx0ICAgIHZlYzIuY29weSh0aGlzLnVwcGVyQm91bmQsIGFhYmIudXBwZXJCb3VuZCk7XG5cdH07XG5cdFxuXHQvKipcblx0ICogRXh0ZW5kIHRoaXMgQUFCQiBzbyB0aGF0IGl0IGNvdmVycyB0aGUgZ2l2ZW4gQUFCQiB0b28uXG5cdCAqIEBtZXRob2QgZXh0ZW5kXG5cdCAqIEBwYXJhbSAge0FBQkJ9IGFhYmJcblx0ICovXG5cdEFBQkIucHJvdG90eXBlLmV4dGVuZCA9IGZ1bmN0aW9uKGFhYmIpe1xuXHQgICAgLy8gTG9vcCBvdmVyIHggYW5kIHlcblx0ICAgIHZhciBpID0gMjtcblx0ICAgIHdoaWxlKGktLSl7XG5cdCAgICAgICAgLy8gRXh0ZW5kIGxvd2VyIGJvdW5kXG5cdCAgICAgICAgdmFyIGwgPSBhYWJiLmxvd2VyQm91bmRbaV07XG5cdCAgICAgICAgaWYodGhpcy5sb3dlckJvdW5kW2ldID4gbCl7XG5cdCAgICAgICAgICAgIHRoaXMubG93ZXJCb3VuZFtpXSA9IGw7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICAvLyBVcHBlclxuXHQgICAgICAgIHZhciB1ID0gYWFiYi51cHBlckJvdW5kW2ldO1xuXHQgICAgICAgIGlmKHRoaXMudXBwZXJCb3VuZFtpXSA8IHUpe1xuXHQgICAgICAgICAgICB0aGlzLnVwcGVyQm91bmRbaV0gPSB1O1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0fTtcblx0XG5cdC8qKlxuXHQgKiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIEFBQkIgb3ZlcmxhcHMgdGhpcyBBQUJCLlxuXHQgKiBAbWV0aG9kIG92ZXJsYXBzXG5cdCAqIEBwYXJhbSAge0FBQkJ9IGFhYmJcblx0ICogQHJldHVybiB7Qm9vbGVhbn1cblx0ICovXG5cdEFBQkIucHJvdG90eXBlLm92ZXJsYXBzID0gZnVuY3Rpb24oYWFiYil7XG5cdCAgICB2YXIgbDEgPSB0aGlzLmxvd2VyQm91bmQsXG5cdCAgICAgICAgdTEgPSB0aGlzLnVwcGVyQm91bmQsXG5cdCAgICAgICAgbDIgPSBhYWJiLmxvd2VyQm91bmQsXG5cdCAgICAgICAgdTIgPSBhYWJiLnVwcGVyQm91bmQ7XG5cdFxuXHQgICAgLy8gICAgICBsMiAgICAgICAgdTJcblx0ICAgIC8vICAgICAgfC0tLS0tLS0tLXxcblx0ICAgIC8vIHwtLS0tLS0tLXxcblx0ICAgIC8vIGwxICAgICAgIHUxXG5cdFxuXHQgICAgcmV0dXJuICgobDJbMF0gPD0gdTFbMF0gJiYgdTFbMF0gPD0gdTJbMF0pIHx8IChsMVswXSA8PSB1MlswXSAmJiB1MlswXSA8PSB1MVswXSkpICYmXG5cdCAgICAgICAgICAgKChsMlsxXSA8PSB1MVsxXSAmJiB1MVsxXSA8PSB1MlsxXSkgfHwgKGwxWzFdIDw9IHUyWzFdICYmIHUyWzFdIDw9IHUxWzFdKSk7XG5cdH07XG5cdFxuXHQvKipcblx0ICogQG1ldGhvZCBjb250YWluc1BvaW50XG5cdCAqIEBwYXJhbSAge0FycmF5fSBwb2ludFxuXHQgKiBAcmV0dXJuIHtib29sZWFufVxuXHQgKi9cblx0QUFCQi5wcm90b3R5cGUuY29udGFpbnNQb2ludCA9IGZ1bmN0aW9uKHBvaW50KXtcblx0ICAgIHZhciBsID0gdGhpcy5sb3dlckJvdW5kLFxuXHQgICAgICAgIHUgPSB0aGlzLnVwcGVyQm91bmQ7XG5cdCAgICByZXR1cm4gbFswXSA8PSBwb2ludFswXSAmJiBwb2ludFswXSA8PSB1WzBdICYmIGxbMV0gPD0gcG9pbnRbMV0gJiYgcG9pbnRbMV0gPD0gdVsxXTtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBDaGVjayBpZiB0aGUgQUFCQiBpcyBoaXQgYnkgYSByYXkuXG5cdCAqIEBtZXRob2Qgb3ZlcmxhcHNSYXlcblx0ICogQHBhcmFtICB7UmF5fSByYXlcblx0ICogQHJldHVybiB7bnVtYmVyfSAtMSBpZiBubyBoaXQsIGEgbnVtYmVyIGJldHdlZW4gMCBhbmQgMSBpZiBoaXQuXG5cdCAqL1xuXHRBQUJCLnByb3RvdHlwZS5vdmVybGFwc1JheSA9IGZ1bmN0aW9uKHJheSl7XG5cdCAgICB2YXIgdCA9IDA7XG5cdFxuXHQgICAgLy8gcmF5LmRpcmVjdGlvbiBpcyB1bml0IGRpcmVjdGlvbiB2ZWN0b3Igb2YgcmF5XG5cdCAgICB2YXIgZGlyRnJhY1ggPSAxIC8gcmF5LmRpcmVjdGlvblswXTtcblx0ICAgIHZhciBkaXJGcmFjWSA9IDEgLyByYXkuZGlyZWN0aW9uWzFdO1xuXHRcblx0ICAgIC8vIHRoaXMubG93ZXJCb3VuZCBpcyB0aGUgY29ybmVyIG9mIEFBQkIgd2l0aCBtaW5pbWFsIGNvb3JkaW5hdGVzIC0gbGVmdCBib3R0b20sIHJ0IGlzIG1heGltYWwgY29ybmVyXG5cdCAgICB2YXIgdDEgPSAodGhpcy5sb3dlckJvdW5kWzBdIC0gcmF5LmZyb21bMF0pICogZGlyRnJhY1g7XG5cdCAgICB2YXIgdDIgPSAodGhpcy51cHBlckJvdW5kWzBdIC0gcmF5LmZyb21bMF0pICogZGlyRnJhY1g7XG5cdCAgICB2YXIgdDMgPSAodGhpcy5sb3dlckJvdW5kWzFdIC0gcmF5LmZyb21bMV0pICogZGlyRnJhY1k7XG5cdCAgICB2YXIgdDQgPSAodGhpcy51cHBlckJvdW5kWzFdIC0gcmF5LmZyb21bMV0pICogZGlyRnJhY1k7XG5cdFxuXHQgICAgdmFyIHRtaW4gPSBNYXRoLm1heChNYXRoLm1heChNYXRoLm1pbih0MSwgdDIpLCBNYXRoLm1pbih0MywgdDQpKSk7XG5cdCAgICB2YXIgdG1heCA9IE1hdGgubWluKE1hdGgubWluKE1hdGgubWF4KHQxLCB0MiksIE1hdGgubWF4KHQzLCB0NCkpKTtcblx0XG5cdCAgICAvLyBpZiB0bWF4IDwgMCwgcmF5IChsaW5lKSBpcyBpbnRlcnNlY3RpbmcgQUFCQiwgYnV0IHdob2xlIEFBQkIgaXMgYmVoaW5nIHVzXG5cdCAgICBpZiAodG1heCA8IDApe1xuXHQgICAgICAgIC8vdCA9IHRtYXg7XG5cdCAgICAgICAgcmV0dXJuIC0xO1xuXHQgICAgfVxuXHRcblx0ICAgIC8vIGlmIHRtaW4gPiB0bWF4LCByYXkgZG9lc24ndCBpbnRlcnNlY3QgQUFCQlxuXHQgICAgaWYgKHRtaW4gPiB0bWF4KXtcblx0ICAgICAgICAvL3QgPSB0bWF4O1xuXHQgICAgICAgIHJldHVybiAtMTtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gdG1pbjtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDE3ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgdmVjMiA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdHZhciBCb2R5ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gQnJvYWRwaGFzZTtcblx0XG5cdC8qKlxuXHQgKiBCYXNlIGNsYXNzIGZvciBicm9hZHBoYXNlIGltcGxlbWVudGF0aW9ucy5cblx0ICogQGNsYXNzIEJyb2FkcGhhc2Vcblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqL1xuXHRmdW5jdGlvbiBCcm9hZHBoYXNlKHR5cGUpe1xuXHRcblx0ICAgIHRoaXMudHlwZSA9IHR5cGU7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGUgcmVzdWx0aW5nIG92ZXJsYXBwaW5nIHBhaXJzLiBXaWxsIGJlIGZpbGxlZCB3aXRoIHJlc3VsdHMgZHVyaW5nIC5nZXRDb2xsaXNpb25QYWlycygpLlxuXHQgICAgICogQHByb3BlcnR5IHJlc3VsdFxuXHQgICAgICogQHR5cGUge0FycmF5fVxuXHQgICAgICovXG5cdCAgICB0aGlzLnJlc3VsdCA9IFtdO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVGhlIHdvcmxkIHRvIHNlYXJjaCBmb3IgY29sbGlzaW9uIHBhaXJzIGluLiBUbyBjaGFuZ2UgaXQsIHVzZSAuc2V0V29ybGQoKVxuXHQgICAgICogQHByb3BlcnR5IHdvcmxkXG5cdCAgICAgKiBAdHlwZSB7V29ybGR9XG5cdCAgICAgKiBAcmVhZE9ubHlcblx0ICAgICAqL1xuXHQgICAgdGhpcy53b3JsZCA9IG51bGw7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGUgYm91bmRpbmcgdm9sdW1lIHR5cGUgdG8gdXNlIGluIHRoZSBicm9hZHBoYXNlIGFsZ29yaXRobXMuIFNob3VsZCBiZSBzZXQgdG8gQnJvYWRwaGFzZS5BQUJCIG9yIEJyb2FkcGhhc2UuQk9VTkRJTkdfQ0lSQ0xFLlxuXHQgICAgICogQHByb3BlcnR5IHtOdW1iZXJ9IGJvdW5kaW5nVm9sdW1lVHlwZVxuXHQgICAgICovXG5cdCAgICB0aGlzLmJvdW5kaW5nVm9sdW1lVHlwZSA9IEJyb2FkcGhhc2UuQUFCQjtcblx0fVxuXHRcblx0LyoqXG5cdCAqIEF4aXMgYWxpZ25lZCBib3VuZGluZyBib3ggdHlwZS5cblx0ICogQHN0YXRpY1xuXHQgKiBAcHJvcGVydHkge051bWJlcn0gQUFCQlxuXHQgKi9cblx0QnJvYWRwaGFzZS5BQUJCID0gMTtcblx0XG5cdC8qKlxuXHQgKiBCb3VuZGluZyBjaXJjbGUgdHlwZS5cblx0ICogQHN0YXRpY1xuXHQgKiBAcHJvcGVydHkge051bWJlcn0gQk9VTkRJTkdfQ0lSQ0xFXG5cdCAqL1xuXHRCcm9hZHBoYXNlLkJPVU5ESU5HX0NJUkNMRSA9IDI7XG5cdFxuXHQvKipcblx0ICogU2V0IHRoZSB3b3JsZCB0aGF0IHdlIGFyZSBzZWFyY2hpbmcgZm9yIGNvbGxpc2lvbiBwYWlycyBpbi5cblx0ICogQG1ldGhvZCBzZXRXb3JsZFxuXHQgKiBAcGFyYW0gIHtXb3JsZH0gd29ybGRcblx0ICovXG5cdEJyb2FkcGhhc2UucHJvdG90eXBlLnNldFdvcmxkID0gZnVuY3Rpb24od29ybGQpe1xuXHQgICAgdGhpcy53b3JsZCA9IHdvcmxkO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIEdldCBhbGwgcG90ZW50aWFsIGludGVyc2VjdGluZyBib2R5IHBhaXJzLlxuXHQgKiBAbWV0aG9kIGdldENvbGxpc2lvblBhaXJzXG5cdCAqIEBwYXJhbSAge1dvcmxkfSB3b3JsZCBUaGUgd29ybGQgdG8gc2VhcmNoIGluLlxuXHQgKiBAcmV0dXJuIHtBcnJheX0gQW4gYXJyYXkgb2YgdGhlIGJvZGllcywgb3JkZXJlZCBpbiBwYWlycy4gRXhhbXBsZTogQSByZXN1bHQgb2YgW2EsYixjLGRdIG1lYW5zIHRoYXQgdGhlIHBvdGVudGlhbCBwYWlycyBhcmU6IChhLGIpLCAoYyxkKS5cblx0ICovXG5cdEJyb2FkcGhhc2UucHJvdG90eXBlLmdldENvbGxpc2lvblBhaXJzID0gZnVuY3Rpb24od29ybGQpe307XG5cdFxuXHR2YXIgZGlzdCA9IHZlYzIuY3JlYXRlKCk7XG5cdFxuXHQvKipcblx0ICogQ2hlY2sgd2hldGhlciB0aGUgYm91bmRpbmcgcmFkaXVzIG9mIHR3byBib2RpZXMgb3ZlcmxhcC5cblx0ICogQG1ldGhvZCAgYm91bmRpbmdSYWRpdXNDaGVja1xuXHQgKiBAcGFyYW0gIHtCb2R5fSBib2R5QVxuXHQgKiBAcGFyYW0gIHtCb2R5fSBib2R5QlxuXHQgKiBAcmV0dXJuIHtCb29sZWFufVxuXHQgKi9cblx0QnJvYWRwaGFzZS5ib3VuZGluZ1JhZGl1c0NoZWNrID0gZnVuY3Rpb24oYm9keUEsIGJvZHlCKXtcblx0ICAgIHZlYzIuc3ViKGRpc3QsIGJvZHlBLnBvc2l0aW9uLCBib2R5Qi5wb3NpdGlvbik7XG5cdCAgICB2YXIgZDIgPSB2ZWMyLnNxdWFyZWRMZW5ndGgoZGlzdCksXG5cdCAgICAgICAgciA9IGJvZHlBLmJvdW5kaW5nUmFkaXVzICsgYm9keUIuYm91bmRpbmdSYWRpdXM7XG5cdCAgICByZXR1cm4gZDIgPD0gcipyO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIENoZWNrIHdoZXRoZXIgdGhlIGJvdW5kaW5nIHJhZGl1cyBvZiB0d28gYm9kaWVzIG92ZXJsYXAuXG5cdCAqIEBtZXRob2QgIGJvdW5kaW5nUmFkaXVzQ2hlY2tcblx0ICogQHBhcmFtICB7Qm9keX0gYm9keUFcblx0ICogQHBhcmFtICB7Qm9keX0gYm9keUJcblx0ICogQHJldHVybiB7Qm9vbGVhbn1cblx0ICovXG5cdEJyb2FkcGhhc2UuYWFiYkNoZWNrID0gZnVuY3Rpb24oYm9keUEsIGJvZHlCKXtcblx0ICAgIHJldHVybiBib2R5QS5nZXRBQUJCKCkub3ZlcmxhcHMoYm9keUIuZ2V0QUFCQigpKTtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBDaGVjayB3aGV0aGVyIHRoZSBib3VuZGluZyByYWRpdXMgb2YgdHdvIGJvZGllcyBvdmVybGFwLlxuXHQgKiBAbWV0aG9kICBib3VuZGluZ1JhZGl1c0NoZWNrXG5cdCAqIEBwYXJhbSAge0JvZHl9IGJvZHlBXG5cdCAqIEBwYXJhbSAge0JvZHl9IGJvZHlCXG5cdCAqIEByZXR1cm4ge0Jvb2xlYW59XG5cdCAqL1xuXHRCcm9hZHBoYXNlLnByb3RvdHlwZS5ib3VuZGluZ1ZvbHVtZUNoZWNrID0gZnVuY3Rpb24oYm9keUEsIGJvZHlCKXtcblx0ICAgIHZhciByZXN1bHQ7XG5cdFxuXHQgICAgc3dpdGNoKHRoaXMuYm91bmRpbmdWb2x1bWVUeXBlKXtcblx0ICAgIGNhc2UgQnJvYWRwaGFzZS5CT1VORElOR19DSVJDTEU6XG5cdCAgICAgICAgcmVzdWx0ID0gIEJyb2FkcGhhc2UuYm91bmRpbmdSYWRpdXNDaGVjayhib2R5QSxib2R5Qik7XG5cdCAgICAgICAgYnJlYWs7XG5cdCAgICBjYXNlIEJyb2FkcGhhc2UuQUFCQjpcblx0ICAgICAgICByZXN1bHQgPSBCcm9hZHBoYXNlLmFhYmJDaGVjayhib2R5QSxib2R5Qik7XG5cdCAgICAgICAgYnJlYWs7XG5cdCAgICBkZWZhdWx0OlxuXHQgICAgICAgIHRocm93IG5ldyBFcnJvcignQm91bmRpbmcgdm9sdW1lIHR5cGUgbm90IHJlY29nbml6ZWQ6ICcrdGhpcy5ib3VuZGluZ1ZvbHVtZVR5cGUpO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIHJlc3VsdDtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBDaGVjayB3aGV0aGVyIHR3byBib2RpZXMgYXJlIGFsbG93ZWQgdG8gY29sbGlkZSBhdCBhbGwuXG5cdCAqIEBtZXRob2QgIGNhbkNvbGxpZGVcblx0ICogQHBhcmFtICB7Qm9keX0gYm9keUFcblx0ICogQHBhcmFtICB7Qm9keX0gYm9keUJcblx0ICogQHJldHVybiB7Qm9vbGVhbn1cblx0ICovXG5cdEJyb2FkcGhhc2UuY2FuQ29sbGlkZSA9IGZ1bmN0aW9uKGJvZHlBLCBib2R5Qil7XG5cdCAgICB2YXIgS0lORU1BVElDID0gQm9keS5LSU5FTUFUSUM7XG5cdCAgICB2YXIgU1RBVElDID0gQm9keS5TVEFUSUM7XG5cdFxuXHQgICAgLy8gQ2Fubm90IGNvbGxpZGUgc3RhdGljIGJvZGllc1xuXHQgICAgaWYoYm9keUEudHlwZSA9PT0gU1RBVElDICYmIGJvZHlCLnR5cGUgPT09IFNUQVRJQyl7XG5cdCAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgfVxuXHRcblx0ICAgIC8vIENhbm5vdCBjb2xsaWRlIHN0YXRpYyB2cyBraW5lbWF0aWMgYm9kaWVzXG5cdCAgICBpZiggKGJvZHlBLnR5cGUgPT09IEtJTkVNQVRJQyAmJiBib2R5Qi50eXBlID09PSBTVEFUSUMpIHx8XG5cdCAgICAgICAgKGJvZHlBLnR5cGUgPT09IFNUQVRJQyAgICAmJiBib2R5Qi50eXBlID09PSBLSU5FTUFUSUMpKXtcblx0ICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICB9XG5cdFxuXHQgICAgLy8gQ2Fubm90IGNvbGxpZGUga2luZW1hdGljIHZzIGtpbmVtYXRpY1xuXHQgICAgaWYoYm9keUEudHlwZSA9PT0gS0lORU1BVElDICYmIGJvZHlCLnR5cGUgPT09IEtJTkVNQVRJQyl7XG5cdCAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgfVxuXHRcblx0ICAgIC8vIENhbm5vdCBjb2xsaWRlIGJvdGggc2xlZXBpbmcgYm9kaWVzXG5cdCAgICBpZihib2R5QS5zbGVlcFN0YXRlID09PSBCb2R5LlNMRUVQSU5HICYmIGJvZHlCLnNsZWVwU3RhdGUgPT09IEJvZHkuU0xFRVBJTkcpe1xuXHQgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgIH1cblx0XG5cdCAgICAvLyBDYW5ub3QgY29sbGlkZSBpZiBvbmUgaXMgc3RhdGljIGFuZCB0aGUgb3RoZXIgaXMgc2xlZXBpbmdcblx0ICAgIGlmKCAoYm9keUEuc2xlZXBTdGF0ZSA9PT0gQm9keS5TTEVFUElORyAmJiBib2R5Qi50eXBlID09PSBTVEFUSUMpIHx8XG5cdCAgICAgICAgKGJvZHlCLnNsZWVwU3RhdGUgPT09IEJvZHkuU0xFRVBJTkcgJiYgYm9keUEudHlwZSA9PT0gU1RBVElDKSl7XG5cdCAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiB0cnVlO1xuXHR9O1xuXHRcblx0QnJvYWRwaGFzZS5OQUlWRSA9IDE7XG5cdEJyb2FkcGhhc2UuU0FQID0gMjtcblxuXG4vKioqLyB9LFxuLyogMTggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gUmF5O1xuXHRcblx0dmFyIHZlYzIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHR2YXIgUmF5Y2FzdFJlc3VsdCA9IF9fd2VicGFja19yZXF1aXJlX18oMjYpO1xuXHR2YXIgU2hhcGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXHR2YXIgQUFCQiA9IF9fd2VicGFja19yZXF1aXJlX18oMTYpO1xuXHRcblx0LyoqXG5cdCAqIEEgbGluZSB3aXRoIGEgc3RhcnQgYW5kIGVuZCBwb2ludCB0aGF0IGlzIHVzZWQgdG8gaW50ZXJzZWN0IHNoYXBlcy4gRm9yIGFuIGV4YW1wbGUsIHNlZSB7eyNjcm9zc0xpbmsgXCJXb3JsZC9yYXljYXN0Om1ldGhvZFwifX1Xb3JsZC5yYXljYXN0e3svY3Jvc3NMaW5rfX1cblx0ICogQGNsYXNzIFJheVxuXHQgKiBAY29uc3RydWN0b3Jcblx0ICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXVxuXHQgKiBAcGFyYW0ge2FycmF5fSBbb3B0aW9ucy5mcm9tXVxuXHQgKiBAcGFyYW0ge2FycmF5fSBbb3B0aW9ucy50b11cblx0ICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jaGVja0NvbGxpc2lvblJlc3BvbnNlPXRydWVdXG5cdCAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuc2tpcEJhY2tmYWNlcz1mYWxzZV1cblx0ICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmNvbGxpc2lvbk1hc2s9LTFdXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5jb2xsaXNpb25Hcm91cD0tMV1cblx0ICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLm1vZGU9UmF5LkFOWV1cblx0ICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmNhbGxiYWNrXVxuXHQgKi9cblx0ZnVuY3Rpb24gUmF5KG9wdGlvbnMpe1xuXHQgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBSYXkgc3RhcnQgcG9pbnQuXG5cdCAgICAgKiBAcHJvcGVydHkge2FycmF5fSBmcm9tXG5cdCAgICAgKi9cblx0ICAgIHRoaXMuZnJvbSA9IG9wdGlvbnMuZnJvbSA/IHZlYzIuZnJvbVZhbHVlcyhvcHRpb25zLmZyb21bMF0sIG9wdGlvbnMuZnJvbVsxXSkgOiB2ZWMyLmNyZWF0ZSgpO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogUmF5IGVuZCBwb2ludFxuXHQgICAgICogQHByb3BlcnR5IHthcnJheX0gdG9cblx0ICAgICAqL1xuXHQgICAgdGhpcy50byA9IG9wdGlvbnMudG8gPyB2ZWMyLmZyb21WYWx1ZXMob3B0aW9ucy50b1swXSwgb3B0aW9ucy50b1sxXSkgOiB2ZWMyLmNyZWF0ZSgpO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogU2V0IHRvIHRydWUgaWYgeW91IHdhbnQgdGhlIFJheSB0byB0YWtlIC5jb2xsaXNpb25SZXNwb25zZSBmbGFncyBpbnRvIGFjY291bnQgb24gYm9kaWVzIGFuZCBzaGFwZXMuXG5cdCAgICAgKiBAcHJvcGVydHkge0Jvb2xlYW59IGNoZWNrQ29sbGlzaW9uUmVzcG9uc2Vcblx0ICAgICAqL1xuXHQgICAgdGhpcy5jaGVja0NvbGxpc2lvblJlc3BvbnNlID0gb3B0aW9ucy5jaGVja0NvbGxpc2lvblJlc3BvbnNlICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmNoZWNrQ29sbGlzaW9uUmVzcG9uc2UgOiB0cnVlO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogSWYgc2V0IHRvIHRydWUsIHRoZSByYXkgc2tpcHMgYW55IGhpdHMgd2l0aCBub3JtYWwuZG90KHJheURpcmVjdGlvbikgPCAwLlxuXHQgICAgICogQHByb3BlcnR5IHtCb29sZWFufSBza2lwQmFja2ZhY2VzXG5cdCAgICAgKi9cblx0ICAgIHRoaXMuc2tpcEJhY2tmYWNlcyA9ICEhb3B0aW9ucy5za2lwQmFja2ZhY2VzO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQHByb3BlcnR5IHtudW1iZXJ9IGNvbGxpc2lvbk1hc2tcblx0ICAgICAqIEBkZWZhdWx0IC0xXG5cdCAgICAgKi9cblx0ICAgIHRoaXMuY29sbGlzaW9uTWFzayA9IG9wdGlvbnMuY29sbGlzaW9uTWFzayAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5jb2xsaXNpb25NYXNrIDogLTE7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBAcHJvcGVydHkge251bWJlcn0gY29sbGlzaW9uR3JvdXBcblx0ICAgICAqIEBkZWZhdWx0IC0xXG5cdCAgICAgKi9cblx0ICAgIHRoaXMuY29sbGlzaW9uR3JvdXAgPSBvcHRpb25zLmNvbGxpc2lvbkdyb3VwICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmNvbGxpc2lvbkdyb3VwIDogLTE7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGUgaW50ZXJzZWN0aW9uIG1vZGUuIFNob3VsZCBiZSB7eyNjcm9zc0xpbmsgXCJSYXkvQU5ZOnByb3BlcnR5XCJ9fVJheS5BTll7ey9jcm9zc0xpbmt9fSwge3sjY3Jvc3NMaW5rIFwiUmF5L0FMTDpwcm9wZXJ0eVwifX1SYXkuQUxMe3svY3Jvc3NMaW5rfX0gb3Ige3sjY3Jvc3NMaW5rIFwiUmF5L0NMT1NFU1Q6cHJvcGVydHlcIn19UmF5LkNMT1NFU1R7ey9jcm9zc0xpbmt9fS5cblx0ICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBtb2RlXG5cdCAgICAgKi9cblx0ICAgIHRoaXMubW9kZSA9IG9wdGlvbnMubW9kZSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5tb2RlIDogUmF5LkFOWTtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIEN1cnJlbnQsIHVzZXItcHJvdmlkZWQgcmVzdWx0IGNhbGxiYWNrLiBXaWxsIGJlIHVzZWQgaWYgbW9kZSBpcyBSYXkuQUxMLlxuXHQgICAgICogQHByb3BlcnR5IHtGdW5jdGlvbn0gY2FsbGJhY2tcblx0ICAgICAqL1xuXHQgICAgdGhpcy5jYWxsYmFjayA9IG9wdGlvbnMuY2FsbGJhY2sgfHwgZnVuY3Rpb24ocmVzdWx0KXt9O1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQHJlYWRPbmx5XG5cdCAgICAgKiBAcHJvcGVydHkge2FycmF5fSBkaXJlY3Rpb25cblx0ICAgICAqL1xuXHQgICAgdGhpcy5kaXJlY3Rpb24gPSB2ZWMyLmNyZWF0ZSgpO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogTGVuZ3RoIG9mIHRoZSByYXlcblx0ICAgICAqIEByZWFkT25seVxuXHQgICAgICogQHByb3BlcnR5IHtudW1iZXJ9IGxlbmd0aFxuXHQgICAgICovXG5cdCAgICB0aGlzLmxlbmd0aCA9IDE7XG5cdFxuXHQgICAgdGhpcy51cGRhdGUoKTtcblx0fVxuXHRSYXkucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gUmF5O1xuXHRcblx0LyoqXG5cdCAqIFRoaXMgcmF5Y2FzdGluZyBtb2RlIHdpbGwgbWFrZSB0aGUgUmF5IHRyYXZlcnNlIHRocm91Z2ggYWxsIGludGVyc2VjdGlvbiBwb2ludHMgYW5kIG9ubHkgcmV0dXJuIHRoZSBjbG9zZXN0IG9uZS5cblx0ICogQHN0YXRpY1xuXHQgKiBAcHJvcGVydHkge051bWJlcn0gQ0xPU0VTVFxuXHQgKi9cblx0UmF5LkNMT1NFU1QgPSAxO1xuXHRcblx0LyoqXG5cdCAqIFRoaXMgcmF5Y2FzdGluZyBtb2RlIHdpbGwgbWFrZSB0aGUgUmF5IHN0b3Agd2hlbiBpdCBmaW5kcyB0aGUgZmlyc3QgaW50ZXJzZWN0aW9uIHBvaW50LlxuXHQgKiBAc3RhdGljXG5cdCAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBBTllcblx0ICovXG5cdFJheS5BTlkgPSAyO1xuXHRcblx0LyoqXG5cdCAqIFRoaXMgcmF5Y2FzdGluZyBtb2RlIHdpbGwgdHJhdmVyc2UgYWxsIGludGVyc2VjdGlvbiBwb2ludHMgYW5kIGV4ZWN1dGVzIGEgY2FsbGJhY2sgZm9yIGVhY2ggb25lLlxuXHQgKiBAc3RhdGljXG5cdCAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBBTExcblx0ICovXG5cdFJheS5BTEwgPSA0O1xuXHRcblx0LyoqXG5cdCAqIFNob3VsZCBiZSBjYWxsZWQgaWYgeW91IGNoYW5nZSB0aGUgZnJvbSBvciB0byBwb2ludC5cblx0ICogQG1ldGhvZCB1cGRhdGVcblx0ICovXG5cdFJheS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24oKXtcblx0XG5cdCAgICAvLyBVcGRhdGUgLmRpcmVjdGlvbiBhbmQgLmxlbmd0aFxuXHQgICAgdmFyIGQgPSB0aGlzLmRpcmVjdGlvbjtcblx0ICAgIHZlYzIuc3ViKGQsIHRoaXMudG8sIHRoaXMuZnJvbSk7XG5cdCAgICB0aGlzLmxlbmd0aCA9IHZlYzIubGVuZ3RoKGQpO1xuXHQgICAgdmVjMi5ub3JtYWxpemUoZCwgZCk7XG5cdFxuXHR9O1xuXHRcblx0LyoqXG5cdCAqIEBtZXRob2QgaW50ZXJzZWN0Qm9kaWVzXG5cdCAqIEBwYXJhbSB7QXJyYXl9IGJvZGllcyBBbiBhcnJheSBvZiBCb2R5IG9iamVjdHMuXG5cdCAqL1xuXHRSYXkucHJvdG90eXBlLmludGVyc2VjdEJvZGllcyA9IGZ1bmN0aW9uIChyZXN1bHQsIGJvZGllcykge1xuXHQgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBib2RpZXMubGVuZ3RoOyAhcmVzdWx0LnNob3VsZFN0b3AodGhpcykgJiYgaSA8IGw7IGkrKykge1xuXHQgICAgICAgIHZhciBib2R5ID0gYm9kaWVzW2ldO1xuXHQgICAgICAgIHZhciBhYWJiID0gYm9keS5nZXRBQUJCKCk7XG5cdCAgICAgICAgaWYoYWFiYi5vdmVybGFwc1JheSh0aGlzKSA+PSAwIHx8IGFhYmIuY29udGFpbnNQb2ludCh0aGlzLmZyb20pKXtcblx0ICAgICAgICAgICAgdGhpcy5pbnRlcnNlY3RCb2R5KHJlc3VsdCwgYm9keSk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHR9O1xuXHRcblx0dmFyIGludGVyc2VjdEJvZHlfd29ybGRQb3NpdGlvbiA9IHZlYzIuY3JlYXRlKCk7XG5cdFxuXHQvKipcblx0ICogU2hvb3QgYSByYXkgYXQgYSBib2R5LCBnZXQgYmFjayBpbmZvcm1hdGlvbiBhYm91dCB0aGUgaGl0LlxuXHQgKiBAbWV0aG9kIGludGVyc2VjdEJvZHlcblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHtCb2R5fSBib2R5XG5cdCAqL1xuXHRSYXkucHJvdG90eXBlLmludGVyc2VjdEJvZHkgPSBmdW5jdGlvbiAocmVzdWx0LCBib2R5KSB7XG5cdCAgICB2YXIgY2hlY2tDb2xsaXNpb25SZXNwb25zZSA9IHRoaXMuY2hlY2tDb2xsaXNpb25SZXNwb25zZTtcblx0XG5cdCAgICBpZihjaGVja0NvbGxpc2lvblJlc3BvbnNlICYmICFib2R5LmNvbGxpc2lvblJlc3BvbnNlKXtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIHdvcmxkUG9zaXRpb24gPSBpbnRlcnNlY3RCb2R5X3dvcmxkUG9zaXRpb247XG5cdFxuXHQgICAgZm9yICh2YXIgaSA9IDAsIE4gPSBib2R5LnNoYXBlcy5sZW5ndGg7IGkgPCBOOyBpKyspIHtcblx0ICAgICAgICB2YXIgc2hhcGUgPSBib2R5LnNoYXBlc1tpXTtcblx0XG5cdCAgICAgICAgaWYoY2hlY2tDb2xsaXNpb25SZXNwb25zZSAmJiAhc2hhcGUuY29sbGlzaW9uUmVzcG9uc2Upe1xuXHQgICAgICAgICAgICBjb250aW51ZTsgLy8gU2tpcFxuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgaWYoKHRoaXMuY29sbGlzaW9uR3JvdXAgJiBzaGFwZS5jb2xsaXNpb25NYXNrKSA9PT0gMCB8fCAoc2hhcGUuY29sbGlzaW9uR3JvdXAgJiB0aGlzLmNvbGxpc2lvbk1hc2spID09PSAwKXtcblx0ICAgICAgICAgICAgY29udGludWU7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICAvLyBHZXQgd29ybGQgYW5nbGUgYW5kIHBvc2l0aW9uIG9mIHRoZSBzaGFwZVxuXHQgICAgICAgIHZlYzIucm90YXRlKHdvcmxkUG9zaXRpb24sIHNoYXBlLnBvc2l0aW9uLCBib2R5LmFuZ2xlKTtcblx0ICAgICAgICB2ZWMyLmFkZCh3b3JsZFBvc2l0aW9uLCB3b3JsZFBvc2l0aW9uLCBib2R5LnBvc2l0aW9uKTtcblx0ICAgICAgICB2YXIgd29ybGRBbmdsZSA9IHNoYXBlLmFuZ2xlICsgYm9keS5hbmdsZTtcblx0XG5cdCAgICAgICAgdGhpcy5pbnRlcnNlY3RTaGFwZShcblx0ICAgICAgICAgICAgcmVzdWx0LFxuXHQgICAgICAgICAgICBzaGFwZSxcblx0ICAgICAgICAgICAgd29ybGRBbmdsZSxcblx0ICAgICAgICAgICAgd29ybGRQb3NpdGlvbixcblx0ICAgICAgICAgICAgYm9keVxuXHQgICAgICAgICk7XG5cdFxuXHQgICAgICAgIGlmKHJlc3VsdC5zaG91bGRTdG9wKHRoaXMpKXtcblx0ICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHR9O1xuXHRcblx0LyoqXG5cdCAqIEBtZXRob2QgaW50ZXJzZWN0U2hhcGVcblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHtTaGFwZX0gc2hhcGVcblx0ICogQHBhcmFtIHtudW1iZXJ9IGFuZ2xlXG5cdCAqIEBwYXJhbSB7YXJyYXl9IHBvc2l0aW9uXG5cdCAqIEBwYXJhbSB7Qm9keX0gYm9keVxuXHQgKi9cblx0UmF5LnByb3RvdHlwZS5pbnRlcnNlY3RTaGFwZSA9IGZ1bmN0aW9uKHJlc3VsdCwgc2hhcGUsIGFuZ2xlLCBwb3NpdGlvbiwgYm9keSl7XG5cdCAgICB2YXIgZnJvbSA9IHRoaXMuZnJvbTtcblx0XG5cdCAgICAvLyBDaGVja2luZyByYWRpdXNcblx0ICAgIHZhciBkaXN0YW5jZSA9IGRpc3RhbmNlRnJvbUludGVyc2VjdGlvblNxdWFyZWQoZnJvbSwgdGhpcy5kaXJlY3Rpb24sIHBvc2l0aW9uKTtcblx0ICAgIGlmIChkaXN0YW5jZSA+IHNoYXBlLmJvdW5kaW5nUmFkaXVzICogc2hhcGUuYm91bmRpbmdSYWRpdXMpIHtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICB9XG5cdFxuXHQgICAgdGhpcy5fY3VycmVudEJvZHkgPSBib2R5O1xuXHQgICAgdGhpcy5fY3VycmVudFNoYXBlID0gc2hhcGU7XG5cdFxuXHQgICAgc2hhcGUucmF5Y2FzdChyZXN1bHQsIHRoaXMsIHBvc2l0aW9uLCBhbmdsZSk7XG5cdFxuXHQgICAgdGhpcy5fY3VycmVudEJvZHkgPSB0aGlzLl9jdXJyZW50U2hhcGUgPSBudWxsO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIEdldCB0aGUgQUFCQiBvZiB0aGUgcmF5LlxuXHQgKiBAbWV0aG9kIGdldEFBQkJcblx0ICogQHBhcmFtICB7QUFCQn0gYWFiYlxuXHQgKi9cblx0UmF5LnByb3RvdHlwZS5nZXRBQUJCID0gZnVuY3Rpb24ocmVzdWx0KXtcblx0ICAgIHZhciB0byA9IHRoaXMudG87XG5cdCAgICB2YXIgZnJvbSA9IHRoaXMuZnJvbTtcblx0ICAgIHZlYzIuc2V0KFxuXHQgICAgICAgIHJlc3VsdC5sb3dlckJvdW5kLFxuXHQgICAgICAgIE1hdGgubWluKHRvWzBdLCBmcm9tWzBdKSxcblx0ICAgICAgICBNYXRoLm1pbih0b1sxXSwgZnJvbVsxXSlcblx0ICAgICk7XG5cdCAgICB2ZWMyLnNldChcblx0ICAgICAgICByZXN1bHQudXBwZXJCb3VuZCxcblx0ICAgICAgICBNYXRoLm1heCh0b1swXSwgZnJvbVswXSksXG5cdCAgICAgICAgTWF0aC5tYXgodG9bMV0sIGZyb21bMV0pXG5cdCAgICApO1xuXHR9O1xuXHRcblx0dmFyIGhpdFBvaW50V29ybGQgPSB2ZWMyLmNyZWF0ZSgpO1xuXHRcblx0LyoqXG5cdCAqIEBtZXRob2QgcmVwb3J0SW50ZXJzZWN0aW9uXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSAge251bWJlcn0gZnJhY3Rpb25cblx0ICogQHBhcmFtICB7YXJyYXl9IG5vcm1hbFxuXHQgKiBAcGFyYW0gIHtudW1iZXJ9IFtmYWNlSW5kZXg9LTFdXG5cdCAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIGludGVyc2VjdGlvbnMgc2hvdWxkIGNvbnRpbnVlXG5cdCAqL1xuXHRSYXkucHJvdG90eXBlLnJlcG9ydEludGVyc2VjdGlvbiA9IGZ1bmN0aW9uKHJlc3VsdCwgZnJhY3Rpb24sIG5vcm1hbCwgZmFjZUluZGV4KXtcblx0ICAgIHZhciBmcm9tID0gdGhpcy5mcm9tO1xuXHQgICAgdmFyIHRvID0gdGhpcy50bztcblx0ICAgIHZhciBzaGFwZSA9IHRoaXMuX2N1cnJlbnRTaGFwZTtcblx0ICAgIHZhciBib2R5ID0gdGhpcy5fY3VycmVudEJvZHk7XG5cdFxuXHQgICAgLy8gU2tpcCBiYWNrIGZhY2VzP1xuXHQgICAgaWYodGhpcy5za2lwQmFja2ZhY2VzICYmIHZlYzIuZG90KG5vcm1hbCwgdGhpcy5kaXJlY3Rpb24pID4gMCl7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHRcblx0ICAgIHN3aXRjaCh0aGlzLm1vZGUpe1xuXHRcblx0ICAgIGNhc2UgUmF5LkFMTDpcblx0ICAgICAgICByZXN1bHQuc2V0KFxuXHQgICAgICAgICAgICBub3JtYWwsXG5cdCAgICAgICAgICAgIHNoYXBlLFxuXHQgICAgICAgICAgICBib2R5LFxuXHQgICAgICAgICAgICBmcmFjdGlvbixcblx0ICAgICAgICAgICAgZmFjZUluZGV4XG5cdCAgICAgICAgKTtcblx0ICAgICAgICB0aGlzLmNhbGxiYWNrKHJlc3VsdCk7XG5cdCAgICAgICAgYnJlYWs7XG5cdFxuXHQgICAgY2FzZSBSYXkuQ0xPU0VTVDpcblx0XG5cdCAgICAgICAgLy8gU3RvcmUgaWYgY2xvc2VyIHRoYW4gY3VycmVudCBjbG9zZXN0XG5cdCAgICAgICAgaWYoZnJhY3Rpb24gPCByZXN1bHQuZnJhY3Rpb24gfHwgIXJlc3VsdC5oYXNIaXQoKSl7XG5cdCAgICAgICAgICAgIHJlc3VsdC5zZXQoXG5cdCAgICAgICAgICAgICAgICBub3JtYWwsXG5cdCAgICAgICAgICAgICAgICBzaGFwZSxcblx0ICAgICAgICAgICAgICAgIGJvZHksXG5cdCAgICAgICAgICAgICAgICBmcmFjdGlvbixcblx0ICAgICAgICAgICAgICAgIGZhY2VJbmRleFxuXHQgICAgICAgICAgICApO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBicmVhaztcblx0XG5cdCAgICBjYXNlIFJheS5BTlk6XG5cdFxuXHQgICAgICAgIC8vIFJlcG9ydCBhbmQgc3RvcC5cblx0ICAgICAgICByZXN1bHQuc2V0KFxuXHQgICAgICAgICAgICBub3JtYWwsXG5cdCAgICAgICAgICAgIHNoYXBlLFxuXHQgICAgICAgICAgICBib2R5LFxuXHQgICAgICAgICAgICBmcmFjdGlvbixcblx0ICAgICAgICAgICAgZmFjZUluZGV4XG5cdCAgICAgICAgKTtcblx0ICAgICAgICBicmVhaztcblx0ICAgIH1cblx0fTtcblx0XG5cdHZhciB2MCA9IHZlYzIuY3JlYXRlKCksXG5cdCAgICBpbnRlcnNlY3QgPSB2ZWMyLmNyZWF0ZSgpO1xuXHRmdW5jdGlvbiBkaXN0YW5jZUZyb21JbnRlcnNlY3Rpb25TcXVhcmVkKGZyb20sIGRpcmVjdGlvbiwgcG9zaXRpb24pIHtcblx0XG5cdCAgICAvLyB2MCBpcyB2ZWN0b3IgZnJvbSBmcm9tIHRvIHBvc2l0aW9uXG5cdCAgICB2ZWMyLnN1Yih2MCwgcG9zaXRpb24sIGZyb20pO1xuXHQgICAgdmFyIGRvdCA9IHZlYzIuZG90KHYwLCBkaXJlY3Rpb24pO1xuXHRcblx0ICAgIC8vIGludGVyc2VjdCA9IGRpcmVjdGlvbiAqIGRvdCArIGZyb21cblx0ICAgIHZlYzIuc2NhbGUoaW50ZXJzZWN0LCBkaXJlY3Rpb24sIGRvdCk7XG5cdCAgICB2ZWMyLmFkZChpbnRlcnNlY3QsIGludGVyc2VjdCwgZnJvbSk7XG5cdFxuXHQgICAgcmV0dXJuIHZlYzIuc3F1YXJlZERpc3RhbmNlKHBvc2l0aW9uLCBpbnRlcnNlY3QpO1xuXHR9XG5cdFxuXG5cbi8qKiovIH0sXG4vKiAxOSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIEVxdWF0aW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKSxcblx0ICAgIHZlYzIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBDb250YWN0RXF1YXRpb247XG5cdFxuXHQvKipcblx0ICogTm9uLXBlbmV0cmF0aW9uIGNvbnN0cmFpbnQgZXF1YXRpb24uIFRyaWVzIHRvIG1ha2UgdGhlIGNvbnRhY3RQb2ludEEgYW5kIGNvbnRhY3RQb2ludEIgdmVjdG9ycyBjb2luY2lkZSwgd2hpbGUga2VlcGluZyB0aGUgYXBwbGllZCBmb3JjZSByZXB1bHNpdmUuXG5cdCAqXG5cdCAqIEBjbGFzcyBDb250YWN0RXF1YXRpb25cblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqIEBleHRlbmRzIEVxdWF0aW9uXG5cdCAqIEBwYXJhbSB7Qm9keX0gYm9keUFcblx0ICogQHBhcmFtIHtCb2R5fSBib2R5QlxuXHQgKi9cblx0ZnVuY3Rpb24gQ29udGFjdEVxdWF0aW9uKGJvZHlBLCBib2R5Qil7XG5cdCAgICBFcXVhdGlvbi5jYWxsKHRoaXMsIGJvZHlBLCBib2R5QiwgMCwgTnVtYmVyLk1BWF9WQUxVRSk7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBWZWN0b3IgZnJvbSBib2R5IGkgY2VudGVyIG9mIG1hc3MgdG8gdGhlIGNvbnRhY3QgcG9pbnQuXG5cdCAgICAgKiBAcHJvcGVydHkgY29udGFjdFBvaW50QVxuXHQgICAgICogQHR5cGUge0FycmF5fVxuXHQgICAgICovXG5cdCAgICB0aGlzLmNvbnRhY3RQb2ludEEgPSB2ZWMyLmNyZWF0ZSgpO1xuXHQgICAgdGhpcy5wZW5ldHJhdGlvblZlYyA9IHZlYzIuY3JlYXRlKCk7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBXb3JsZC1vcmllbnRlZCB2ZWN0b3IgZnJvbSBib2R5IEEgY2VudGVyIG9mIG1hc3MgdG8gdGhlIGNvbnRhY3QgcG9pbnQuXG5cdCAgICAgKiBAcHJvcGVydHkgY29udGFjdFBvaW50QlxuXHQgICAgICogQHR5cGUge0FycmF5fVxuXHQgICAgICovXG5cdCAgICB0aGlzLmNvbnRhY3RQb2ludEIgPSB2ZWMyLmNyZWF0ZSgpO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVGhlIG5vcm1hbCB2ZWN0b3IsIHBvaW50aW5nIG91dCBvZiBib2R5IGlcblx0ICAgICAqIEBwcm9wZXJ0eSBub3JtYWxBXG5cdCAgICAgKiBAdHlwZSB7QXJyYXl9XG5cdCAgICAgKi9cblx0ICAgIHRoaXMubm9ybWFsQSA9IHZlYzIuY3JlYXRlKCk7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGUgcmVzdGl0dXRpb24gdG8gdXNlICgwPW5vIGJvdW5jaW5lc3MsIDE9bWF4IGJvdW5jaW5lc3MpLlxuXHQgICAgICogQHByb3BlcnR5IHJlc3RpdHV0aW9uXG5cdCAgICAgKiBAdHlwZSB7TnVtYmVyfVxuXHQgICAgICovXG5cdCAgICB0aGlzLnJlc3RpdHV0aW9uID0gMDtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIFRoaXMgcHJvcGVydHkgaXMgc2V0IHRvIHRydWUgaWYgdGhpcyBpcyB0aGUgZmlyc3QgaW1wYWN0IGJldHdlZW4gdGhlIGJvZGllcyAobm90IHBlcnNpc3RhbnQgY29udGFjdCkuXG5cdCAgICAgKiBAcHJvcGVydHkgZmlyc3RJbXBhY3Rcblx0ICAgICAqIEB0eXBlIHtCb29sZWFufVxuXHQgICAgICogQHJlYWRPbmx5XG5cdCAgICAgKi9cblx0ICAgIHRoaXMuZmlyc3RJbXBhY3QgPSBmYWxzZTtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIFRoZSBzaGFwZSBpbiBib2R5IGkgdGhhdCB0cmlnZ2VyZWQgdGhpcyBjb250YWN0LlxuXHQgICAgICogQHByb3BlcnR5IHNoYXBlQVxuXHQgICAgICogQHR5cGUge1NoYXBlfVxuXHQgICAgICovXG5cdCAgICB0aGlzLnNoYXBlQSA9IG51bGw7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGUgc2hhcGUgaW4gYm9keSBqIHRoYXQgdHJpZ2dlcmVkIHRoaXMgY29udGFjdC5cblx0ICAgICAqIEBwcm9wZXJ0eSBzaGFwZUJcblx0ICAgICAqIEB0eXBlIHtTaGFwZX1cblx0ICAgICAqL1xuXHQgICAgdGhpcy5zaGFwZUIgPSBudWxsO1xuXHR9XG5cdENvbnRhY3RFcXVhdGlvbi5wcm90b3R5cGUgPSBuZXcgRXF1YXRpb24oKTtcblx0Q29udGFjdEVxdWF0aW9uLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IENvbnRhY3RFcXVhdGlvbjtcblx0Q29udGFjdEVxdWF0aW9uLnByb3RvdHlwZS5jb21wdXRlQiA9IGZ1bmN0aW9uKGEsYixoKXtcblx0ICAgIHZhciBiaSA9IHRoaXMuYm9keUEsXG5cdCAgICAgICAgYmogPSB0aGlzLmJvZHlCLFxuXHQgICAgICAgIHJpID0gdGhpcy5jb250YWN0UG9pbnRBLFxuXHQgICAgICAgIHJqID0gdGhpcy5jb250YWN0UG9pbnRCLFxuXHQgICAgICAgIHhpID0gYmkucG9zaXRpb24sXG5cdCAgICAgICAgeGogPSBiai5wb3NpdGlvbjtcblx0XG5cdCAgICB2YXIgcGVuZXRyYXRpb25WZWMgPSB0aGlzLnBlbmV0cmF0aW9uVmVjLFxuXHQgICAgICAgIG4gPSB0aGlzLm5vcm1hbEEsXG5cdCAgICAgICAgRyA9IHRoaXMuRztcblx0XG5cdCAgICAvLyBDYWx1Y2xhdGUgY3Jvc3MgcHJvZHVjdHNcblx0ICAgIHZhciByaXhuID0gdmVjMi5jcm9zc0xlbmd0aChyaSxuKSxcblx0ICAgICAgICByanhuID0gdmVjMi5jcm9zc0xlbmd0aChyaixuKTtcblx0XG5cdCAgICAvLyBHID0gWy1uIC1yaXhuIG4gcmp4bl1cblx0ICAgIEdbMF0gPSAtblswXTtcblx0ICAgIEdbMV0gPSAtblsxXTtcblx0ICAgIEdbMl0gPSAtcml4bjtcblx0ICAgIEdbM10gPSBuWzBdO1xuXHQgICAgR1s0XSA9IG5bMV07XG5cdCAgICBHWzVdID0gcmp4bjtcblx0XG5cdCAgICAvLyBDYWxjdWxhdGUgcSA9IHhqK3JqIC0oeGkrcmkpIGkuZS4gdGhlIHBlbmV0cmF0aW9uIHZlY3RvclxuXHQgICAgdmVjMi5hZGQocGVuZXRyYXRpb25WZWMseGoscmopO1xuXHQgICAgdmVjMi5zdWIocGVuZXRyYXRpb25WZWMscGVuZXRyYXRpb25WZWMseGkpO1xuXHQgICAgdmVjMi5zdWIocGVuZXRyYXRpb25WZWMscGVuZXRyYXRpb25WZWMscmkpO1xuXHRcblx0ICAgIC8vIENvbXB1dGUgaXRlcmF0aW9uXG5cdCAgICB2YXIgR1csIEdxO1xuXHQgICAgaWYodGhpcy5maXJzdEltcGFjdCAmJiB0aGlzLnJlc3RpdHV0aW9uICE9PSAwKXtcblx0ICAgICAgICBHcSA9IDA7XG5cdCAgICAgICAgR1cgPSAoMS9iKSooMSt0aGlzLnJlc3RpdHV0aW9uKSAqIHRoaXMuY29tcHV0ZUdXKCk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIEdxID0gdmVjMi5kb3QobixwZW5ldHJhdGlvblZlYykgKyB0aGlzLm9mZnNldDtcblx0ICAgICAgICBHVyA9IHRoaXMuY29tcHV0ZUdXKCk7XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIEdpTWYgPSB0aGlzLmNvbXB1dGVHaU1mKCk7XG5cdCAgICB2YXIgQiA9IC0gR3EgKiBhIC0gR1cgKiBiIC0gaCpHaU1mO1xuXHRcblx0ICAgIHJldHVybiBCO1xuXHR9O1xuXG5cbi8qKiovIH0sXG4vKiAyMCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0LyoqXG5cdCAqIEJhc2UgY2xhc3MgZm9yIG9iamVjdHMgdGhhdCBkaXNwYXRjaGVzIGV2ZW50cy5cblx0ICogQGNsYXNzIEV2ZW50RW1pdHRlclxuXHQgKiBAY29uc3RydWN0b3Jcblx0ICovXG5cdHZhciBFdmVudEVtaXR0ZXIgPSBmdW5jdGlvbiAoKSB7fTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gRXZlbnRFbWl0dGVyO1xuXHRcblx0RXZlbnRFbWl0dGVyLnByb3RvdHlwZSA9IHtcblx0ICAgIGNvbnN0cnVjdG9yOiBFdmVudEVtaXR0ZXIsXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBBZGQgYW4gZXZlbnQgbGlzdGVuZXJcblx0ICAgICAqIEBtZXRob2Qgb25cblx0ICAgICAqIEBwYXJhbSAge1N0cmluZ30gdHlwZVxuXHQgICAgICogQHBhcmFtICB7RnVuY3Rpb259IGxpc3RlbmVyXG5cdCAgICAgKiBAcmV0dXJuIHtFdmVudEVtaXR0ZXJ9IFRoZSBzZWxmIG9iamVjdCwgZm9yIGNoYWluYWJpbGl0eS5cblx0ICAgICAqL1xuXHQgICAgb246IGZ1bmN0aW9uICggdHlwZSwgbGlzdGVuZXIsIGNvbnRleHQgKSB7XG5cdCAgICAgICAgbGlzdGVuZXIuY29udGV4dCA9IGNvbnRleHQgfHwgdGhpcztcblx0ICAgICAgICBpZiAoIHRoaXMuX2xpc3RlbmVycyA9PT0gdW5kZWZpbmVkICl7XG5cdCAgICAgICAgICAgIHRoaXMuX2xpc3RlbmVycyA9IHt9O1xuXHQgICAgICAgIH1cblx0ICAgICAgICB2YXIgbGlzdGVuZXJzID0gdGhpcy5fbGlzdGVuZXJzO1xuXHQgICAgICAgIGlmICggbGlzdGVuZXJzWyB0eXBlIF0gPT09IHVuZGVmaW5lZCApIHtcblx0ICAgICAgICAgICAgbGlzdGVuZXJzWyB0eXBlIF0gPSBbXTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYgKCBsaXN0ZW5lcnNbIHR5cGUgXS5pbmRleE9mKCBsaXN0ZW5lciApID09PSAtIDEgKSB7XG5cdCAgICAgICAgICAgIGxpc3RlbmVyc1sgdHlwZSBdLnB1c2goIGxpc3RlbmVyICk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgfSxcblx0XG5cdCAgICAvKipcblx0ICAgICAqIENoZWNrIGlmIGFuIGV2ZW50IGxpc3RlbmVyIGlzIGFkZGVkXG5cdCAgICAgKiBAbWV0aG9kIGhhc1xuXHQgICAgICogQHBhcmFtICB7U3RyaW5nfSB0eXBlXG5cdCAgICAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gbGlzdGVuZXJcblx0ICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XG5cdCAgICAgKi9cblx0ICAgIGhhczogZnVuY3Rpb24gKCB0eXBlLCBsaXN0ZW5lciApIHtcblx0ICAgICAgICBpZiAoIHRoaXMuX2xpc3RlbmVycyA9PT0gdW5kZWZpbmVkICl7XG5cdCAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2xpc3RlbmVycztcblx0ICAgICAgICBpZihsaXN0ZW5lcil7XG5cdCAgICAgICAgICAgIGlmICggbGlzdGVuZXJzWyB0eXBlIF0gIT09IHVuZGVmaW5lZCAmJiBsaXN0ZW5lcnNbIHR5cGUgXS5pbmRleE9mKCBsaXN0ZW5lciApICE9PSAtIDEgKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIGlmICggbGlzdGVuZXJzWyB0eXBlIF0gIT09IHVuZGVmaW5lZCApIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICB9LFxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogUmVtb3ZlIGFuIGV2ZW50IGxpc3RlbmVyXG5cdCAgICAgKiBAbWV0aG9kIG9mZlxuXHQgICAgICogQHBhcmFtICB7U3RyaW5nfSB0eXBlXG5cdCAgICAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gbGlzdGVuZXJcblx0ICAgICAqIEByZXR1cm4ge0V2ZW50RW1pdHRlcn0gVGhlIHNlbGYgb2JqZWN0LCBmb3IgY2hhaW5hYmlsaXR5LlxuXHQgICAgICovXG5cdCAgICBvZmY6IGZ1bmN0aW9uICggdHlwZSwgbGlzdGVuZXIgKSB7XG5cdCAgICAgICAgaWYgKCB0aGlzLl9saXN0ZW5lcnMgPT09IHVuZGVmaW5lZCApe1xuXHQgICAgICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgICAgICB9XG5cdCAgICAgICAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2xpc3RlbmVycztcblx0ICAgICAgICB2YXIgaW5kZXggPSBsaXN0ZW5lcnNbIHR5cGUgXS5pbmRleE9mKCBsaXN0ZW5lciApO1xuXHQgICAgICAgIGlmICggaW5kZXggIT09IC0gMSApIHtcblx0ICAgICAgICAgICAgbGlzdGVuZXJzWyB0eXBlIF0uc3BsaWNlKCBpbmRleCwgMSApO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgIH0sXG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBFbWl0IGFuIGV2ZW50LlxuXHQgICAgICogQG1ldGhvZCBlbWl0XG5cdCAgICAgKiBAcGFyYW0gIHtPYmplY3R9IGV2ZW50XG5cdCAgICAgKiBAcGFyYW0gIHtTdHJpbmd9IGV2ZW50LnR5cGVcblx0ICAgICAqIEByZXR1cm4ge0V2ZW50RW1pdHRlcn0gVGhlIHNlbGYgb2JqZWN0LCBmb3IgY2hhaW5hYmlsaXR5LlxuXHQgICAgICovXG5cdCAgICBlbWl0OiBmdW5jdGlvbiAoIGV2ZW50ICkge1xuXHQgICAgICAgIGlmICggdGhpcy5fbGlzdGVuZXJzID09PSB1bmRlZmluZWQgKXtcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHZhciBsaXN0ZW5lcnMgPSB0aGlzLl9saXN0ZW5lcnM7XG5cdCAgICAgICAgdmFyIGxpc3RlbmVyQXJyYXkgPSBsaXN0ZW5lcnNbIGV2ZW50LnR5cGUgXTtcblx0ICAgICAgICBpZiAoIGxpc3RlbmVyQXJyYXkgIT09IHVuZGVmaW5lZCApIHtcblx0ICAgICAgICAgICAgZXZlbnQudGFyZ2V0ID0gdGhpcztcblx0ICAgICAgICAgICAgZm9yICggdmFyIGkgPSAwLCBsID0gbGlzdGVuZXJBcnJheS5sZW5ndGg7IGkgPCBsOyBpICsrICkge1xuXHQgICAgICAgICAgICAgICAgdmFyIGxpc3RlbmVyID0gbGlzdGVuZXJBcnJheVsgaSBdO1xuXHQgICAgICAgICAgICAgICAgbGlzdGVuZXIuY2FsbCggbGlzdGVuZXIuY29udGV4dCwgZXZlbnQgKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgIH1cblx0fTtcblxuXG4vKioqLyB9LFxuLyogMjEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBTaGFwZSA9IF9fd2VicGFja19yZXF1aXJlX18oNClcblx0LCAgICB2ZWMyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gQ2lyY2xlO1xuXHRcblx0LyoqXG5cdCAqIENpcmNsZSBzaGFwZSBjbGFzcy5cblx0ICogQGNsYXNzIENpcmNsZVxuXHQgKiBAZXh0ZW5kcyBTaGFwZVxuXHQgKiBAY29uc3RydWN0b3Jcblx0ICogQHBhcmFtIHtvcHRpb25zfSBbb3B0aW9uc10gKE5vdGUgdGhhdCB0aGlzIG9wdGlvbnMgb2JqZWN0IHdpbGwgYmUgcGFzc2VkIG9uIHRvIHRoZSB7eyNjcm9zc0xpbmsgXCJTaGFwZVwifX17ey9jcm9zc0xpbmt9fSBjb25zdHJ1Y3Rvci4pXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5yYWRpdXM9MV0gVGhlIHJhZGl1cyBvZiB0aGlzIGNpcmNsZVxuXHQgKlxuXHQgKiBAZXhhbXBsZVxuXHQgKiAgICAgdmFyIGNpcmNsZVNoYXBlID0gbmV3IENpcmNsZSh7IHJhZGl1czogMSB9KTtcblx0ICogICAgIGJvZHkuYWRkU2hhcGUoY2lyY2xlU2hhcGUpO1xuXHQgKi9cblx0ZnVuY3Rpb24gQ2lyY2xlKG9wdGlvbnMpe1xuXHQgICAgaWYodHlwZW9mKGFyZ3VtZW50c1swXSkgPT09ICdudW1iZXInKXtcblx0ICAgICAgICBvcHRpb25zID0ge1xuXHQgICAgICAgICAgICByYWRpdXM6IGFyZ3VtZW50c1swXVxuXHQgICAgICAgIH07XG5cdCAgICAgICAgY29uc29sZS53YXJuKCdUaGUgQ2lyY2xlIGNvbnN0cnVjdG9yIHNpZ25hdHVyZSBoYXMgY2hhbmdlZC4gUGxlYXNlIHVzZSB0aGUgZm9sbG93aW5nIGZvcm1hdDogbmV3IENpcmNsZSh7IHJhZGl1czogMSB9KScpO1xuXHQgICAgfVxuXHQgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGUgcmFkaXVzIG9mIHRoZSBjaXJjbGUuXG5cdCAgICAgKiBAcHJvcGVydHkgcmFkaXVzXG5cdCAgICAgKiBAdHlwZSB7bnVtYmVyfVxuXHQgICAgICovXG5cdCAgICB0aGlzLnJhZGl1cyA9IG9wdGlvbnMucmFkaXVzIHx8IDE7XG5cdFxuXHQgICAgb3B0aW9ucy50eXBlID0gU2hhcGUuQ0lSQ0xFO1xuXHQgICAgU2hhcGUuY2FsbCh0aGlzLCBvcHRpb25zKTtcblx0fVxuXHRDaXJjbGUucHJvdG90eXBlID0gbmV3IFNoYXBlKCk7XG5cdENpcmNsZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBDaXJjbGU7XG5cdFxuXHQvKipcblx0ICogQG1ldGhvZCBjb21wdXRlTW9tZW50T2ZJbmVydGlhXG5cdCAqIEBwYXJhbSAge051bWJlcn0gbWFzc1xuXHQgKiBAcmV0dXJuIHtOdW1iZXJ9XG5cdCAqL1xuXHRDaXJjbGUucHJvdG90eXBlLmNvbXB1dGVNb21lbnRPZkluZXJ0aWEgPSBmdW5jdGlvbihtYXNzKXtcblx0ICAgIHZhciByID0gdGhpcy5yYWRpdXM7XG5cdCAgICByZXR1cm4gbWFzcyAqIHIgKiByIC8gMjtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBAbWV0aG9kIHVwZGF0ZUJvdW5kaW5nUmFkaXVzXG5cdCAqIEByZXR1cm4ge051bWJlcn1cblx0ICovXG5cdENpcmNsZS5wcm90b3R5cGUudXBkYXRlQm91bmRpbmdSYWRpdXMgPSBmdW5jdGlvbigpe1xuXHQgICAgdGhpcy5ib3VuZGluZ1JhZGl1cyA9IHRoaXMucmFkaXVzO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIEBtZXRob2QgdXBkYXRlQXJlYVxuXHQgKiBAcmV0dXJuIHtOdW1iZXJ9XG5cdCAqL1xuXHRDaXJjbGUucHJvdG90eXBlLnVwZGF0ZUFyZWEgPSBmdW5jdGlvbigpe1xuXHQgICAgdGhpcy5hcmVhID0gTWF0aC5QSSAqIHRoaXMucmFkaXVzICogdGhpcy5yYWRpdXM7XG5cdH07XG5cdFxuXHQvKipcblx0ICogQG1ldGhvZCBjb21wdXRlQUFCQlxuXHQgKiBAcGFyYW0gIHtBQUJCfSAgIG91dCAgICAgIFRoZSByZXN1bHRpbmcgQUFCQi5cblx0ICogQHBhcmFtICB7QXJyYXl9ICBwb3NpdGlvblxuXHQgKiBAcGFyYW0gIHtOdW1iZXJ9IGFuZ2xlXG5cdCAqL1xuXHRDaXJjbGUucHJvdG90eXBlLmNvbXB1dGVBQUJCID0gZnVuY3Rpb24ob3V0LCBwb3NpdGlvbiwgYW5nbGUpe1xuXHQgICAgdmFyIHIgPSB0aGlzLnJhZGl1cztcblx0ICAgIHZlYzIuc2V0KG91dC51cHBlckJvdW5kLCAgciwgIHIpO1xuXHQgICAgdmVjMi5zZXQob3V0Lmxvd2VyQm91bmQsIC1yLCAtcik7XG5cdCAgICBpZihwb3NpdGlvbil7XG5cdCAgICAgICAgdmVjMi5hZGQob3V0Lmxvd2VyQm91bmQsIG91dC5sb3dlckJvdW5kLCBwb3NpdGlvbik7XG5cdCAgICAgICAgdmVjMi5hZGQob3V0LnVwcGVyQm91bmQsIG91dC51cHBlckJvdW5kLCBwb3NpdGlvbik7XG5cdCAgICB9XG5cdH07XG5cdFxuXHR2YXIgUmF5X2ludGVyc2VjdFNwaGVyZV9pbnRlcnNlY3Rpb25Qb2ludCA9IHZlYzIuY3JlYXRlKCk7XG5cdHZhciBSYXlfaW50ZXJzZWN0U3BoZXJlX25vcm1hbCA9IHZlYzIuY3JlYXRlKCk7XG5cdFxuXHQvKipcblx0ICogQG1ldGhvZCByYXljYXN0XG5cdCAqIEBwYXJhbSAge1JheWNhc3RSZXN1bHR9IHJlc3VsdFxuXHQgKiBAcGFyYW0gIHtSYXl9IHJheVxuXHQgKiBAcGFyYW0gIHthcnJheX0gcG9zaXRpb25cblx0ICogQHBhcmFtICB7bnVtYmVyfSBhbmdsZVxuXHQgKi9cblx0Q2lyY2xlLnByb3RvdHlwZS5yYXljYXN0ID0gZnVuY3Rpb24ocmVzdWx0LCByYXksIHBvc2l0aW9uLCBhbmdsZSl7XG5cdCAgICB2YXIgZnJvbSA9IHJheS5mcm9tLFxuXHQgICAgICAgIHRvID0gcmF5LnRvLFxuXHQgICAgICAgIHIgPSB0aGlzLnJhZGl1cztcblx0XG5cdCAgICB2YXIgYSA9IE1hdGgucG93KHRvWzBdIC0gZnJvbVswXSwgMikgKyBNYXRoLnBvdyh0b1sxXSAtIGZyb21bMV0sIDIpO1xuXHQgICAgdmFyIGIgPSAyICogKCh0b1swXSAtIGZyb21bMF0pICogKGZyb21bMF0gLSBwb3NpdGlvblswXSkgKyAodG9bMV0gLSBmcm9tWzFdKSAqIChmcm9tWzFdIC0gcG9zaXRpb25bMV0pKTtcblx0ICAgIHZhciBjID0gTWF0aC5wb3coZnJvbVswXSAtIHBvc2l0aW9uWzBdLCAyKSArIE1hdGgucG93KGZyb21bMV0gLSBwb3NpdGlvblsxXSwgMikgLSBNYXRoLnBvdyhyLCAyKTtcblx0ICAgIHZhciBkZWx0YSA9IE1hdGgucG93KGIsIDIpIC0gNCAqIGEgKiBjO1xuXHRcblx0ICAgIHZhciBpbnRlcnNlY3Rpb25Qb2ludCA9IFJheV9pbnRlcnNlY3RTcGhlcmVfaW50ZXJzZWN0aW9uUG9pbnQ7XG5cdCAgICB2YXIgbm9ybWFsID0gUmF5X2ludGVyc2VjdFNwaGVyZV9ub3JtYWw7XG5cdFxuXHQgICAgaWYoZGVsdGEgPCAwKXtcblx0ICAgICAgICAvLyBObyBpbnRlcnNlY3Rpb25cblx0ICAgICAgICByZXR1cm47XG5cdFxuXHQgICAgfSBlbHNlIGlmKGRlbHRhID09PSAwKXtcblx0ICAgICAgICAvLyBzaW5nbGUgaW50ZXJzZWN0aW9uIHBvaW50XG5cdCAgICAgICAgdmVjMi5sZXJwKGludGVyc2VjdGlvblBvaW50LCBmcm9tLCB0bywgZGVsdGEpO1xuXHRcblx0ICAgICAgICB2ZWMyLnN1Yihub3JtYWwsIGludGVyc2VjdGlvblBvaW50LCBwb3NpdGlvbik7XG5cdCAgICAgICAgdmVjMi5ub3JtYWxpemUobm9ybWFsLG5vcm1hbCk7XG5cdFxuXHQgICAgICAgIHJheS5yZXBvcnRJbnRlcnNlY3Rpb24ocmVzdWx0LCBkZWx0YSwgbm9ybWFsLCAtMSk7XG5cdFxuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICB2YXIgc3FydERlbHRhID0gTWF0aC5zcXJ0KGRlbHRhKTtcblx0ICAgICAgICB2YXIgaW52MmEgPSAxIC8gKDIgKiBhKTtcblx0ICAgICAgICB2YXIgZDEgPSAoLSBiIC0gc3FydERlbHRhKSAqIGludjJhO1xuXHQgICAgICAgIHZhciBkMiA9ICgtIGIgKyBzcXJ0RGVsdGEpICogaW52MmE7XG5cdFxuXHQgICAgICAgIGlmKGQxID49IDAgJiYgZDEgPD0gMSl7XG5cdCAgICAgICAgICAgIHZlYzIubGVycChpbnRlcnNlY3Rpb25Qb2ludCwgZnJvbSwgdG8sIGQxKTtcblx0XG5cdCAgICAgICAgICAgIHZlYzIuc3ViKG5vcm1hbCwgaW50ZXJzZWN0aW9uUG9pbnQsIHBvc2l0aW9uKTtcblx0ICAgICAgICAgICAgdmVjMi5ub3JtYWxpemUobm9ybWFsLG5vcm1hbCk7XG5cdFxuXHQgICAgICAgICAgICByYXkucmVwb3J0SW50ZXJzZWN0aW9uKHJlc3VsdCwgZDEsIG5vcm1hbCwgLTEpO1xuXHRcblx0ICAgICAgICAgICAgaWYocmVzdWx0LnNob3VsZFN0b3AocmF5KSl7XG5cdCAgICAgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIGlmKGQyID49IDAgJiYgZDIgPD0gMSl7XG5cdCAgICAgICAgICAgIHZlYzIubGVycChpbnRlcnNlY3Rpb25Qb2ludCwgZnJvbSwgdG8sIGQyKTtcblx0XG5cdCAgICAgICAgICAgIHZlYzIuc3ViKG5vcm1hbCwgaW50ZXJzZWN0aW9uUG9pbnQsIHBvc2l0aW9uKTtcblx0ICAgICAgICAgICAgdmVjMi5ub3JtYWxpemUobm9ybWFsLG5vcm1hbCk7XG5cdFxuXHQgICAgICAgICAgICByYXkucmVwb3J0SW50ZXJzZWN0aW9uKHJlc3VsdCwgZDIsIG5vcm1hbCwgLTEpO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0fTtcblxuLyoqKi8gfSxcbi8qIDIyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCdcblx0XG5cdC8qKlxuXHQgKiBDcm9zc3BsYXRmb3JtIERhdGUubm93KClcblx0ICpcblx0ICogQHJldHVybiB7TnVtYmVyfSB0aW1lIGluIG1zXG5cdCAqIEBhcGkgcHJpdmF0ZVxuXHQgKi9cblx0bW9kdWxlLmV4cG9ydHMgPSBEYXRlLm5vdyB8fCBmdW5jdGlvbigpIHtcblx0ICAgIHJldHVybiAobmV3IERhdGUpLmdldFRpbWUoKVxuXHR9XG5cblxuLyoqKi8gfSxcbi8qIDIzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMuaW5pdGlhbCA9IGluaXRpYWw7XG5cdGV4cG9ydHMudXBkYXRlID0gdXBkYXRlO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXHRcblx0dmFyIF9wMiA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cdFxuXHR2YXIgX21hdGVyaWFscyA9IF9fd2VicGFja19yZXF1aXJlX18oMjQpO1xuXHRcblx0dmFyIF9sb2Rhc2hSYW5nZSA9IF9fd2VicGFja19yZXF1aXJlX18oODYpO1xuXHRcblx0dmFyIF9sb2Rhc2hSYW5nZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9sb2Rhc2hSYW5nZSk7XG5cdFxuXHR2YXIgX3BsYW5lID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMSk7XG5cdFxuXHR2YXIgX3BsYW5lMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3BsYW5lKTtcblx0XG5cdHZhciBUWVBFID0ge307XG5cdGV4cG9ydHNbJ2RlZmF1bHQnXSA9IFRZUEU7XG5cdHZhciBDUkFURV9TSVpFID0gMTtcblx0ZXhwb3J0cy5DUkFURV9TSVpFID0gQ1JBVEVfU0laRTtcblx0XG5cdGZ1bmN0aW9uIGluaXRpYWwod29ybGQpIHtcblx0XG5cdCAgZnVuY3Rpb24gYm94KHgsIHkpIHtcblx0XG5cdCAgICB2YXIgYm9keSA9IG5ldyBfcDIuQm9keSh7XG5cdCAgICAgIG1hc3M6IDAuMDAwMSxcblx0ICAgICAgcG9zaXRpb246IFt4LCB5XVxuXHQgICAgfSk7XG5cdFxuXHQgICAgYm9keS5UWVBFID0gVFlQRTtcblx0XG5cdCAgICB2YXIgc2hhcGUgPSBuZXcgX3AyLkJveCh7XG5cdCAgICAgIHdpZHRoOiBDUkFURV9TSVpFLFxuXHQgICAgICBoZWlnaHQ6IENSQVRFX1NJWkUsXG5cdCAgICAgIG1hdGVyaWFsOiBfbWF0ZXJpYWxzLmNyYXRlXG5cdCAgICB9KTtcblx0XG5cdCAgICBib2R5LmFkZFNoYXBlKHNoYXBlKTtcblx0ICAgIHdvcmxkLmFkZEJvZHkoYm9keSk7XG5cdFxuXHQgICAgcmV0dXJuIGJvZHk7XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBjcmVhdGUoeCwgeSkge1xuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgYm9keTogYm94KHgsIHkpLFxuXHQgICAgICBpbml0aWFsUG9zaXRpb246IHsgeDogeCwgeTogeSB9LFxuXHQgICAgICBsaXZlZDogMFxuXHQgICAgfTtcblx0ICB9XG5cdFxuXHQgIHZhciBjcmF0ZXMgPSAoMCwgX2xvZGFzaFJhbmdlMlsnZGVmYXVsdCddKSg2MCkubWFwKGZ1bmN0aW9uIChpKSB7XG5cdCAgICByZXR1cm4gY3JlYXRlKDIwICsgaSAlIDEyICogMiwgQ1JBVEVfU0laRSAvIDIgKyA1ICsgTWF0aC5mbG9vcihpIC8gMTIpICogMik7XG5cdCAgfSk7XG5cdFxuXHQgIHJldHVybiB7XG5cdCAgICBjcmF0ZXM6IGNyYXRlcyxcblx0ICAgIHNvdW5kczogW11cblx0ICB9O1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBmbG9hdEFyb3VuZCgpIHtcblx0ICB2YXIgbW92ZW1lbnQgPSBNYXRoLnNpbih0aGlzLmxpdmVkIC8gMzAgJSAoTWF0aC5QSSAqIDIpKSAqIDAuMzM7XG5cdCAgdGhpcy5ib2R5LnBvc2l0aW9uWzFdID0gdGhpcy5pbml0aWFsUG9zaXRpb24ueSArIG1vdmVtZW50O1xuXHQgIHJldHVybiB0aGlzO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBnZXRQbGFuZUNvbGxpZGluZ0NyYXRlcyhpbXBhY3RzKSB7XG5cdCAgcmV0dXJuIGltcGFjdHMuZmlsdGVyKGZ1bmN0aW9uIChfcmVmKSB7XG5cdCAgICB2YXIgYm9keUEgPSBfcmVmLmJvZHlBO1xuXHQgICAgdmFyIGJvZHlCID0gX3JlZi5ib2R5Qjtcblx0XG5cdCAgICByZXR1cm4gYm9keUEuVFlQRSA9PT0gVFlQRSAmJiBib2R5Qi5UWVBFID09PSBfcGxhbmUyWydkZWZhdWx0J10gfHwgYm9keUEuVFlQRSA9PT0gX3BsYW5lMlsnZGVmYXVsdCddICYmIGJvZHlCLlRZUEUgPT09IFRZUEU7XG5cdCAgfSkubWFwKGZ1bmN0aW9uIChfcmVmMikge1xuXHQgICAgdmFyIGJvZHlBID0gX3JlZjIuYm9keUE7XG5cdCAgICB2YXIgYm9keUIgPSBfcmVmMi5ib2R5Qjtcblx0XG5cdCAgICByZXR1cm4gYm9keUEuVFlQRSA9PT0gVFlQRSA/IGJvZHlBIDogYm9keUI7XG5cdCAgfSk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHVwZGF0ZShjcmF0ZXMsIGlucHV0LCB3b3JsZCkge1xuXHRcblx0ICB2YXIgY3JhdGVzQ29sbGlkaW5nUGxhbmUgPSBnZXRQbGFuZUNvbGxpZGluZ0NyYXRlcyh3b3JsZC5pbXBhY3RzKTtcblx0XG5cdCAgY3JhdGVzQ29sbGlkaW5nUGxhbmUuZm9yRWFjaChmdW5jdGlvbiAoYikge1xuXHQgICAgcmV0dXJuIHdvcmxkLnJlbW92ZUJvZHkoYik7XG5cdCAgfSk7XG5cdFxuXHQgIHJldHVybiB7XG5cdCAgICBjcmF0ZXM6IGNyYXRlcy5jcmF0ZXMuZmlsdGVyKGZ1bmN0aW9uIChjcmF0ZSkge1xuXHQgICAgICByZXR1cm4gY3JhdGVzQ29sbGlkaW5nUGxhbmUuaW5kZXhPZihjcmF0ZS5ib2R5KSA9PT0gLTE7XG5cdCAgICB9KS5tYXAoZnVuY3Rpb24gKGNyYXRlKSB7XG5cdCAgICAgIGNyYXRlLmxpdmVkICs9IGlucHV0LmRlbHRhO1xuXHQgICAgICByZXR1cm4gZmxvYXRBcm91bmQuY2FsbChjcmF0ZSk7XG5cdCAgICB9KSxcblx0ICAgIHNvdW5kczogY3JhdGVzQ29sbGlkaW5nUGxhbmUubGVuZ3RoID09PSAwID8gW10gOiBbJ2Rlc3Ryb3knXVxuXHQgIH07XG5cdH1cblxuXHQvKiBIT1QgUEFUQ0ggTE9BREVSICovIHZhciBfX21vZHVsZUJpbmRpbmdzID0gW1wiX2ludGVyb3BSZXF1aXJlRGVmYXVsdFwiLFwiaW5pdGlhbFwiLFwiZmxvYXRBcm91bmRcIixcImdldFBsYW5lQ29sbGlkaW5nQ3JhdGVzXCIsXCJ1cGRhdGVcIl07IGlmKGZhbHNlKSB7XG5cdCAgbW9kdWxlLmhvdC5hY2NlcHQoZnVuY3Rpb24oZXJyKSB7XG5cdCAgICBjb25zb2xlLmxvZygnW0hNUl0gRXJyb3IgYWNjZXB0aW5nOiAnICsgZXJyKTtcblx0ICB9KTtcblxuXHQgIHZhciBnZXRFdmFsU291cmNlID0gZnVuY3Rpb24oZnVuYykge1xuXHQgICAgdmFyIGNvZGUgPSBmdW5jLnRvU3RyaW5nKCk7XG5cdCAgICB2YXIgbSA9IGNvZGUubWF0Y2goL15mdW5jdGlvblxccytfX2V2YWxcXHMqXFwoKC4qKVxcKVxccypcXHsoW1xcc1xcU10qKVxcfSQvaSk7XG5cdCAgICBpZighbSkge1xuXHQgICAgICByZXR1cm4gbnVsbDtcblx0ICAgIH1cblx0ICAgIHZhciBhcmdzID0gbVsxXTtcblx0ICAgIHZhciBib2R5ID0gbVsyXTtcblx0ICAgIHZhciBzY29wZSA9IHt9O1xuXG5cdCAgICBpZihhcmdzLnRyaW0oKSkge1xuXHQgICAgICBhcmdzLnNwbGl0KCcsJykuZm9yRWFjaChmdW5jdGlvbihhcmcpIHtcblx0ICAgICAgICBpZihhcmcuaW5kZXhPZignPScpICE9PSAtMSkge1xuXHQgICAgICAgICAgdmFyIHAgPSBhcmcuc3BsaXQoJz0nKTtcblx0ICAgICAgICAgIHNjb3BlW3BbMF0udHJpbSgpXSA9IEpTT04ucGFyc2UocFsxXSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGVsc2Uge1xuXHQgICAgICAgICAgc2NvcGVbYXJnLnRyaW0oKV0gPSB1bmRlZmluZWQ7XG5cdCAgICAgICAgfVxuXHQgICAgICB9KTtcblx0ICAgIH1cblxuXHQgICAgcmV0dXJuIHsgYm9keTogYm9keSwgc2NvcGU6IHNjb3BlIH07XG5cdCAgfVxuXG5cdCAgdmFyIGluamVjdFNjb3BlID0gZnVuY3Rpb24oc2NvcGUsIGNvZGUpIHtcblx0ICAgIC8vIFRha2UgYW4gZXhwbGljaXQgc2NvcGUgb2JqZWN0IGFuZCBpbmplY3QgaXQgc28gdGhhdFxuXHQgICAgLy8gYGNvZGVgIHJ1bnMgaW4gY29udGV4dCBvZiBpdFxuXHQgICAgdmFyIGluamVjdGVkID0gT2JqZWN0LmtleXMoc2NvcGUpLm1hcChmdW5jdGlvbihiaW5kaW5nKSB7XG5cdCAgICAgIHJldHVybiAndmFyICcgKyBiaW5kaW5nICsgJyA9IGV2YWxTY29wZS4nICsgYmluZGluZyArICc7J1xuXHQgICAgfSkuam9pbignICcpO1xuXG5cdCAgICAvLyBVcGRhdGUgb3VyIHNjb3BlIG9iamVjdCB3aXRoIGFueSBtb2RpZmljYXRpb25zXG5cdCAgICB2YXIgZXh0cmFjdGVkID0gT2JqZWN0LmtleXMoc2NvcGUpLm1hcChmdW5jdGlvbihiaW5kaW5nKSB7XG5cdCAgICAgIHJldHVybiAnZXZhbFNjb3BlLicgKyBiaW5kaW5nICsgJyA9ICcgKyBiaW5kaW5nICsgJzsnO1xuXHQgICAgfSkuam9pbignICcpO1xuXG5cdCAgICByZXR1cm4gaW5qZWN0ZWQgKyBjb2RlICsgZXh0cmFjdGVkO1xuXHQgIH1cblxuXHQgIHZhciBiaW5kaW5ncyA9IF9fbW9kdWxlQmluZGluZ3M7XG5cblx0ICBpZighbW9kdWxlLmhvdC5kYXRhKSB7XG5cdCAgICAvLyBGaXJzdCB0aW1lIGxvYWRpbmcuIFRyeSBhbmQgcGF0Y2ggc29tZXRoaW5nLlxuXHQgICAgdmFyIHBhdGNoZWRCaW5kaW5ncyA9IHt9O1xuXHQgICAgdmFyIGV2YWxTY29wZSA9IHt9O1xuXG5cdCAgICB2YXIgbW9kdWxlRXZhbFdpdGhTY29wZSA9IGZ1bmN0aW9uKGZyYW1lKSB7XG5cdCAgICAgIC8vIFVwZGF0ZSB0aGUgc2NvcGUgdG8gcmVmbGVjdCBvbmx5IHRoZSB2YWx1ZXMgc3BlY2lmaWVkIGFzXG5cdCAgICAgIC8vIGFyZ3VtZW50cyB0byB0aGUgX19ldmFsIGZ1bmN0aW9uLiBDb3B5IG92ZXIgdmFsdWVzIGZyb20gdGhlXG5cdCAgICAgIC8vIGV4aXN0aW5nIHNjb3BlIGFuZCBpZ25vcmUgdGhlIHJlc3QuXG5cdCAgICAgIE9iamVjdC5rZXlzKGV2YWxTY29wZSkuZm9yRWFjaChmdW5jdGlvbihhcmcpIHtcblx0ICAgICAgICBpZihhcmcgaW4gZnJhbWUuc2NvcGUpIHtcblx0ICAgICAgICAgIGZyYW1lLnNjb3BlW2FyZ10gPSBldmFsU2NvcGVbYXJnXTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0pO1xuXHQgICAgICBldmFsU2NvcGUgPSBmcmFtZS5zY29wZTtcblxuXHQgICAgICB2YXIgY29kZSA9IGluamVjdFNjb3BlKGV2YWxTY29wZSwgZnJhbWUuYm9keSk7XG5cdCAgICAgIHJldHVybiBldmFsKGNvZGUpO1xuXHQgICAgfVxuXG5cdCAgICB2YXIgbW9kdWxlRXZhbCA9IGZ1bmN0aW9uKGNvZGUpIHtcblx0ICAgICAgcmV0dXJuIGV2YWwoY29kZSk7XG5cdCAgICB9XG5cblx0ICAgIGJpbmRpbmdzLmZvckVhY2goZnVuY3Rpb24oYmluZGluZykge1xuXHQgICAgICB2YXIgZiA9IGV2YWwoYmluZGluZyk7XG5cblx0ICAgICAgaWYodHlwZW9mIGYgPT09ICdmdW5jdGlvbicgJiYgYmluZGluZyAhPT0gJ19fZXZhbCcpIHtcblx0ICAgICAgICB2YXIgcGF0Y2hlZCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgaWYocGF0Y2hlZEJpbmRpbmdzW2JpbmRpbmddKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBwYXRjaGVkQmluZGluZ3NbYmluZGluZ10uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIGVsc2Uge1xuXHQgICAgICAgICAgICByZXR1cm4gZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH07XG5cdCAgICAgICAgcGF0Y2hlZC5wcm90b3R5cGUgPSBmLnByb3RvdHlwZTtcblxuXHQgICAgICAgIGV2YWwoYmluZGluZyArICcgPSBwYXRjaGVkO1xcbicpO1xuXG5cdCAgICAgICAgaWYobW9kdWxlLmV4cG9ydHNbYmluZGluZ10pIHtcblx0ICAgICAgICAgIG1vZHVsZS5leHBvcnRzW2JpbmRpbmddID0gcGF0Y2hlZDtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXG5cdCAgICBtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oZGF0YSkge1xuXHQgICAgICBkYXRhLnBhdGNoZWRCaW5kaW5ncyA9IHBhdGNoZWRCaW5kaW5ncztcblx0ICAgICAgZGF0YS5tb2R1bGVFdmFsID0gbW9kdWxlRXZhbDtcblx0ICAgICAgZGF0YS5tb2R1bGVFdmFsV2l0aFNjb3BlID0gbW9kdWxlRXZhbFdpdGhTY29wZTtcblx0ICAgIH0pO1xuXHQgIH1cblx0ICBlbHNlIHtcblx0ICAgIHZhciBwYXRjaGVkQmluZGluZ3MgPSBtb2R1bGUuaG90LmRhdGEucGF0Y2hlZEJpbmRpbmdzO1xuXG5cdCAgICBiaW5kaW5ncy5mb3JFYWNoKGZ1bmN0aW9uKGJpbmRpbmcpIHtcblx0ICAgICAgdmFyIGYgPSBldmFsKGJpbmRpbmcpO1xuXG5cdCAgICAgIGlmKHR5cGVvZiBmID09PSAnZnVuY3Rpb24nICYmIGJpbmRpbmcgIT09ICdfX2V2YWwnKSB7XG5cdCAgICAgICAgLy8gV2UgbmVlZCB0byByZWlmeSB0aGUgZnVuY3Rpb24gaW4gdGhlIG9yaWdpbmFsIG1vZHVsZSBzb1xuXHQgICAgICAgIC8vIGl0IHJlZmVyZW5jZXMgYW55IG9mIHRoZSBvcmlnaW5hbCBzdGF0ZS4gU3RyaXAgdGhlIG5hbWVcblx0ICAgICAgICAvLyBhbmQgc2ltcGx5IGV2YWwgaXQuXG5cdCAgICAgICAgdmFyIGZ1bmNDb2RlID0gKFxuXHQgICAgICAgICAgJygnICsgZi50b1N0cmluZygpLnJlcGxhY2UoL15mdW5jdGlvbiBcXHcrXFwoLywgJ2Z1bmN0aW9uICgnKSArICcpJ1xuXHQgICAgICAgICk7XG5cdCAgICAgICAgcGF0Y2hlZEJpbmRpbmdzW2JpbmRpbmddID0gbW9kdWxlLmhvdC5kYXRhLm1vZHVsZUV2YWwoZnVuY0NvZGUpO1xuXHQgICAgICB9XG5cdCAgICB9KTtcblxuXHQgICAgaWYodHlwZW9mIF9fZXZhbCA9PT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICB0cnkge1xuXHQgICAgICAgIG1vZHVsZS5ob3QuZGF0YS5tb2R1bGVFdmFsV2l0aFNjb3BlKGdldEV2YWxTb3VyY2UoX19ldmFsKSk7XG5cdCAgICAgIH1cblx0ICAgICAgY2F0Y2goZSkge1xuXHQgICAgICAgIGNvbnNvbGUubG9nKCdlcnJvciBldmFsaW5nOiAnICsgZSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblxuXHQgICAgbW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKGRhdGEpIHtcblx0ICAgICAgZGF0YS5wYXRjaGVkQmluZGluZ3MgPSBwYXRjaGVkQmluZGluZ3M7XG5cdCAgICAgIGRhdGEubW9kdWxlRXZhbCA9IG1vZHVsZS5ob3QuZGF0YS5tb2R1bGVFdmFsO1xuXHQgICAgICBkYXRhLm1vZHVsZUV2YWxXaXRoU2NvcGUgPSBtb2R1bGUuaG90LmRhdGEubW9kdWxlRXZhbFdpdGhTY29wZTtcblx0ICAgIH0pO1xuXHQgIH1cblx0fVxuXG5cbi8qKiovIH0sXG4vKiAyNCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9wMiA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cdFxuXHR2YXIgY3JhdGUgPSBuZXcgX3AyLk1hdGVyaWFsKCk7XG5cdGV4cG9ydHMuY3JhdGUgPSBjcmF0ZTtcblx0dmFyIGdyb3VuZCA9IG5ldyBfcDIuTWF0ZXJpYWwoKTtcblx0XG5cdGV4cG9ydHMuZ3JvdW5kID0gZ3JvdW5kO1xuXHR2YXIgY29udGFjdE1hdGVyaWFscyA9IFtuZXcgX3AyLkNvbnRhY3RNYXRlcmlhbChncm91bmQsIGNyYXRlLCB7XG5cdCAgZnJpY3Rpb246IDUwLFxuXHQgIHJlc3RpdHV0aW9uOiAwLjFcblx0fSldO1xuXHRleHBvcnRzLmNvbnRhY3RNYXRlcmlhbHMgPSBjb250YWN0TWF0ZXJpYWxzO1xuXG5cdC8qIEhPVCBQQVRDSCBMT0FERVIgKi8gdmFyIF9fbW9kdWxlQmluZGluZ3MgPSBbXTsgaWYoZmFsc2UpIHtcblx0ICBtb2R1bGUuaG90LmFjY2VwdChmdW5jdGlvbihlcnIpIHtcblx0ICAgIGNvbnNvbGUubG9nKCdbSE1SXSBFcnJvciBhY2NlcHRpbmc6ICcgKyBlcnIpO1xuXHQgIH0pO1xuXG5cdCAgdmFyIGdldEV2YWxTb3VyY2UgPSBmdW5jdGlvbihmdW5jKSB7XG5cdCAgICB2YXIgY29kZSA9IGZ1bmMudG9TdHJpbmcoKTtcblx0ICAgIHZhciBtID0gY29kZS5tYXRjaCgvXmZ1bmN0aW9uXFxzK19fZXZhbFxccypcXCgoLiopXFwpXFxzKlxceyhbXFxzXFxTXSopXFx9JC9pKTtcblx0ICAgIGlmKCFtKSB7XG5cdCAgICAgIHJldHVybiBudWxsO1xuXHQgICAgfVxuXHQgICAgdmFyIGFyZ3MgPSBtWzFdO1xuXHQgICAgdmFyIGJvZHkgPSBtWzJdO1xuXHQgICAgdmFyIHNjb3BlID0ge307XG5cblx0ICAgIGlmKGFyZ3MudHJpbSgpKSB7XG5cdCAgICAgIGFyZ3Muc3BsaXQoJywnKS5mb3JFYWNoKGZ1bmN0aW9uKGFyZykge1xuXHQgICAgICAgIGlmKGFyZy5pbmRleE9mKCc9JykgIT09IC0xKSB7XG5cdCAgICAgICAgICB2YXIgcCA9IGFyZy5zcGxpdCgnPScpO1xuXHQgICAgICAgICAgc2NvcGVbcFswXS50cmltKCldID0gSlNPTi5wYXJzZShwWzFdKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgZWxzZSB7XG5cdCAgICAgICAgICBzY29wZVthcmcudHJpbSgpXSA9IHVuZGVmaW5lZDtcblx0ICAgICAgICB9XG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXG5cdCAgICByZXR1cm4geyBib2R5OiBib2R5LCBzY29wZTogc2NvcGUgfTtcblx0ICB9XG5cblx0ICB2YXIgaW5qZWN0U2NvcGUgPSBmdW5jdGlvbihzY29wZSwgY29kZSkge1xuXHQgICAgLy8gVGFrZSBhbiBleHBsaWNpdCBzY29wZSBvYmplY3QgYW5kIGluamVjdCBpdCBzbyB0aGF0XG5cdCAgICAvLyBgY29kZWAgcnVucyBpbiBjb250ZXh0IG9mIGl0XG5cdCAgICB2YXIgaW5qZWN0ZWQgPSBPYmplY3Qua2V5cyhzY29wZSkubWFwKGZ1bmN0aW9uKGJpbmRpbmcpIHtcblx0ICAgICAgcmV0dXJuICd2YXIgJyArIGJpbmRpbmcgKyAnID0gZXZhbFNjb3BlLicgKyBiaW5kaW5nICsgJzsnXG5cdCAgICB9KS5qb2luKCcgJyk7XG5cblx0ICAgIC8vIFVwZGF0ZSBvdXIgc2NvcGUgb2JqZWN0IHdpdGggYW55IG1vZGlmaWNhdGlvbnNcblx0ICAgIHZhciBleHRyYWN0ZWQgPSBPYmplY3Qua2V5cyhzY29wZSkubWFwKGZ1bmN0aW9uKGJpbmRpbmcpIHtcblx0ICAgICAgcmV0dXJuICdldmFsU2NvcGUuJyArIGJpbmRpbmcgKyAnID0gJyArIGJpbmRpbmcgKyAnOyc7XG5cdCAgICB9KS5qb2luKCcgJyk7XG5cblx0ICAgIHJldHVybiBpbmplY3RlZCArIGNvZGUgKyBleHRyYWN0ZWQ7XG5cdCAgfVxuXG5cdCAgdmFyIGJpbmRpbmdzID0gX19tb2R1bGVCaW5kaW5ncztcblxuXHQgIGlmKCFtb2R1bGUuaG90LmRhdGEpIHtcblx0ICAgIC8vIEZpcnN0IHRpbWUgbG9hZGluZy4gVHJ5IGFuZCBwYXRjaCBzb21ldGhpbmcuXG5cdCAgICB2YXIgcGF0Y2hlZEJpbmRpbmdzID0ge307XG5cdCAgICB2YXIgZXZhbFNjb3BlID0ge307XG5cblx0ICAgIHZhciBtb2R1bGVFdmFsV2l0aFNjb3BlID0gZnVuY3Rpb24oZnJhbWUpIHtcblx0ICAgICAgLy8gVXBkYXRlIHRoZSBzY29wZSB0byByZWZsZWN0IG9ubHkgdGhlIHZhbHVlcyBzcGVjaWZpZWQgYXNcblx0ICAgICAgLy8gYXJndW1lbnRzIHRvIHRoZSBfX2V2YWwgZnVuY3Rpb24uIENvcHkgb3ZlciB2YWx1ZXMgZnJvbSB0aGVcblx0ICAgICAgLy8gZXhpc3Rpbmcgc2NvcGUgYW5kIGlnbm9yZSB0aGUgcmVzdC5cblx0ICAgICAgT2JqZWN0LmtleXMoZXZhbFNjb3BlKS5mb3JFYWNoKGZ1bmN0aW9uKGFyZykge1xuXHQgICAgICAgIGlmKGFyZyBpbiBmcmFtZS5zY29wZSkge1xuXHQgICAgICAgICAgZnJhbWUuc2NvcGVbYXJnXSA9IGV2YWxTY29wZVthcmddO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSk7XG5cdCAgICAgIGV2YWxTY29wZSA9IGZyYW1lLnNjb3BlO1xuXG5cdCAgICAgIHZhciBjb2RlID0gaW5qZWN0U2NvcGUoZXZhbFNjb3BlLCBmcmFtZS5ib2R5KTtcblx0ICAgICAgcmV0dXJuIGV2YWwoY29kZSk7XG5cdCAgICB9XG5cblx0ICAgIHZhciBtb2R1bGVFdmFsID0gZnVuY3Rpb24oY29kZSkge1xuXHQgICAgICByZXR1cm4gZXZhbChjb2RlKTtcblx0ICAgIH1cblxuXHQgICAgYmluZGluZ3MuZm9yRWFjaChmdW5jdGlvbihiaW5kaW5nKSB7XG5cdCAgICAgIHZhciBmID0gZXZhbChiaW5kaW5nKTtcblxuXHQgICAgICBpZih0eXBlb2YgZiA9PT0gJ2Z1bmN0aW9uJyAmJiBiaW5kaW5nICE9PSAnX19ldmFsJykge1xuXHQgICAgICAgIHZhciBwYXRjaGVkID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICBpZihwYXRjaGVkQmluZGluZ3NbYmluZGluZ10pIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHBhdGNoZWRCaW5kaW5nc1tiaW5kaW5nXS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgICAgZWxzZSB7XG5cdCAgICAgICAgICAgIHJldHVybiBmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfTtcblx0ICAgICAgICBwYXRjaGVkLnByb3RvdHlwZSA9IGYucHJvdG90eXBlO1xuXG5cdCAgICAgICAgZXZhbChiaW5kaW5nICsgJyA9IHBhdGNoZWQ7XFxuJyk7XG5cblx0ICAgICAgICBpZihtb2R1bGUuZXhwb3J0c1tiaW5kaW5nXSkge1xuXHQgICAgICAgICAgbW9kdWxlLmV4cG9ydHNbYmluZGluZ10gPSBwYXRjaGVkO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfSk7XG5cblx0ICAgIG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbihkYXRhKSB7XG5cdCAgICAgIGRhdGEucGF0Y2hlZEJpbmRpbmdzID0gcGF0Y2hlZEJpbmRpbmdzO1xuXHQgICAgICBkYXRhLm1vZHVsZUV2YWwgPSBtb2R1bGVFdmFsO1xuXHQgICAgICBkYXRhLm1vZHVsZUV2YWxXaXRoU2NvcGUgPSBtb2R1bGVFdmFsV2l0aFNjb3BlO1xuXHQgICAgfSk7XG5cdCAgfVxuXHQgIGVsc2Uge1xuXHQgICAgdmFyIHBhdGNoZWRCaW5kaW5ncyA9IG1vZHVsZS5ob3QuZGF0YS5wYXRjaGVkQmluZGluZ3M7XG5cblx0ICAgIGJpbmRpbmdzLmZvckVhY2goZnVuY3Rpb24oYmluZGluZykge1xuXHQgICAgICB2YXIgZiA9IGV2YWwoYmluZGluZyk7XG5cblx0ICAgICAgaWYodHlwZW9mIGYgPT09ICdmdW5jdGlvbicgJiYgYmluZGluZyAhPT0gJ19fZXZhbCcpIHtcblx0ICAgICAgICAvLyBXZSBuZWVkIHRvIHJlaWZ5IHRoZSBmdW5jdGlvbiBpbiB0aGUgb3JpZ2luYWwgbW9kdWxlIHNvXG5cdCAgICAgICAgLy8gaXQgcmVmZXJlbmNlcyBhbnkgb2YgdGhlIG9yaWdpbmFsIHN0YXRlLiBTdHJpcCB0aGUgbmFtZVxuXHQgICAgICAgIC8vIGFuZCBzaW1wbHkgZXZhbCBpdC5cblx0ICAgICAgICB2YXIgZnVuY0NvZGUgPSAoXG5cdCAgICAgICAgICAnKCcgKyBmLnRvU3RyaW5nKCkucmVwbGFjZSgvXmZ1bmN0aW9uIFxcdytcXCgvLCAnZnVuY3Rpb24gKCcpICsgJyknXG5cdCAgICAgICAgKTtcblx0ICAgICAgICBwYXRjaGVkQmluZGluZ3NbYmluZGluZ10gPSBtb2R1bGUuaG90LmRhdGEubW9kdWxlRXZhbChmdW5jQ29kZSk7XG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXG5cdCAgICBpZih0eXBlb2YgX19ldmFsID09PSAnZnVuY3Rpb24nKSB7XG5cdCAgICAgIHRyeSB7XG5cdCAgICAgICAgbW9kdWxlLmhvdC5kYXRhLm1vZHVsZUV2YWxXaXRoU2NvcGUoZ2V0RXZhbFNvdXJjZShfX2V2YWwpKTtcblx0ICAgICAgfVxuXHQgICAgICBjYXRjaChlKSB7XG5cdCAgICAgICAgY29uc29sZS5sb2coJ2Vycm9yIGV2YWxpbmc6ICcgKyBlKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXG5cdCAgICBtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oZGF0YSkge1xuXHQgICAgICBkYXRhLnBhdGNoZWRCaW5kaW5ncyA9IHBhdGNoZWRCaW5kaW5ncztcblx0ICAgICAgZGF0YS5tb2R1bGVFdmFsID0gbW9kdWxlLmhvdC5kYXRhLm1vZHVsZUV2YWw7XG5cdCAgICAgIGRhdGEubW9kdWxlRXZhbFdpdGhTY29wZSA9IG1vZHVsZS5ob3QuZGF0YS5tb2R1bGVFdmFsV2l0aFNjb3BlO1xuXHQgICAgfSk7XG5cdCAgfVxuXHR9XG5cblxuLyoqKi8gfSxcbi8qIDI1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHR2YXIgU0NBTEUgPSAxIC8gMzU7XG5cdGV4cG9ydHMuU0NBTEUgPSBTQ0FMRTtcblx0dmFyIEdST1VORF9MRVZFTCA9IDEuNTtcblx0ZXhwb3J0cy5HUk9VTkRfTEVWRUwgPSBHUk9VTkRfTEVWRUw7XG5cblx0LyogSE9UIFBBVENIIExPQURFUiAqLyB2YXIgX19tb2R1bGVCaW5kaW5ncyA9IFtdOyBpZihmYWxzZSkge1xuXHQgIG1vZHVsZS5ob3QuYWNjZXB0KGZ1bmN0aW9uKGVycikge1xuXHQgICAgY29uc29sZS5sb2coJ1tITVJdIEVycm9yIGFjY2VwdGluZzogJyArIGVycik7XG5cdCAgfSk7XG5cblx0ICB2YXIgZ2V0RXZhbFNvdXJjZSA9IGZ1bmN0aW9uKGZ1bmMpIHtcblx0ICAgIHZhciBjb2RlID0gZnVuYy50b1N0cmluZygpO1xuXHQgICAgdmFyIG0gPSBjb2RlLm1hdGNoKC9eZnVuY3Rpb25cXHMrX19ldmFsXFxzKlxcKCguKilcXClcXHMqXFx7KFtcXHNcXFNdKilcXH0kL2kpO1xuXHQgICAgaWYoIW0pIHtcblx0ICAgICAgcmV0dXJuIG51bGw7XG5cdCAgICB9XG5cdCAgICB2YXIgYXJncyA9IG1bMV07XG5cdCAgICB2YXIgYm9keSA9IG1bMl07XG5cdCAgICB2YXIgc2NvcGUgPSB7fTtcblxuXHQgICAgaWYoYXJncy50cmltKCkpIHtcblx0ICAgICAgYXJncy5zcGxpdCgnLCcpLmZvckVhY2goZnVuY3Rpb24oYXJnKSB7XG5cdCAgICAgICAgaWYoYXJnLmluZGV4T2YoJz0nKSAhPT0gLTEpIHtcblx0ICAgICAgICAgIHZhciBwID0gYXJnLnNwbGl0KCc9Jyk7XG5cdCAgICAgICAgICBzY29wZVtwWzBdLnRyaW0oKV0gPSBKU09OLnBhcnNlKHBbMV0pO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBlbHNlIHtcblx0ICAgICAgICAgIHNjb3BlW2FyZy50cmltKCldID0gdW5kZWZpbmVkO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSk7XG5cdCAgICB9XG5cblx0ICAgIHJldHVybiB7IGJvZHk6IGJvZHksIHNjb3BlOiBzY29wZSB9O1xuXHQgIH1cblxuXHQgIHZhciBpbmplY3RTY29wZSA9IGZ1bmN0aW9uKHNjb3BlLCBjb2RlKSB7XG5cdCAgICAvLyBUYWtlIGFuIGV4cGxpY2l0IHNjb3BlIG9iamVjdCBhbmQgaW5qZWN0IGl0IHNvIHRoYXRcblx0ICAgIC8vIGBjb2RlYCBydW5zIGluIGNvbnRleHQgb2YgaXRcblx0ICAgIHZhciBpbmplY3RlZCA9IE9iamVjdC5rZXlzKHNjb3BlKS5tYXAoZnVuY3Rpb24oYmluZGluZykge1xuXHQgICAgICByZXR1cm4gJ3ZhciAnICsgYmluZGluZyArICcgPSBldmFsU2NvcGUuJyArIGJpbmRpbmcgKyAnOydcblx0ICAgIH0pLmpvaW4oJyAnKTtcblxuXHQgICAgLy8gVXBkYXRlIG91ciBzY29wZSBvYmplY3Qgd2l0aCBhbnkgbW9kaWZpY2F0aW9uc1xuXHQgICAgdmFyIGV4dHJhY3RlZCA9IE9iamVjdC5rZXlzKHNjb3BlKS5tYXAoZnVuY3Rpb24oYmluZGluZykge1xuXHQgICAgICByZXR1cm4gJ2V2YWxTY29wZS4nICsgYmluZGluZyArICcgPSAnICsgYmluZGluZyArICc7Jztcblx0ICAgIH0pLmpvaW4oJyAnKTtcblxuXHQgICAgcmV0dXJuIGluamVjdGVkICsgY29kZSArIGV4dHJhY3RlZDtcblx0ICB9XG5cblx0ICB2YXIgYmluZGluZ3MgPSBfX21vZHVsZUJpbmRpbmdzO1xuXG5cdCAgaWYoIW1vZHVsZS5ob3QuZGF0YSkge1xuXHQgICAgLy8gRmlyc3QgdGltZSBsb2FkaW5nLiBUcnkgYW5kIHBhdGNoIHNvbWV0aGluZy5cblx0ICAgIHZhciBwYXRjaGVkQmluZGluZ3MgPSB7fTtcblx0ICAgIHZhciBldmFsU2NvcGUgPSB7fTtcblxuXHQgICAgdmFyIG1vZHVsZUV2YWxXaXRoU2NvcGUgPSBmdW5jdGlvbihmcmFtZSkge1xuXHQgICAgICAvLyBVcGRhdGUgdGhlIHNjb3BlIHRvIHJlZmxlY3Qgb25seSB0aGUgdmFsdWVzIHNwZWNpZmllZCBhc1xuXHQgICAgICAvLyBhcmd1bWVudHMgdG8gdGhlIF9fZXZhbCBmdW5jdGlvbi4gQ29weSBvdmVyIHZhbHVlcyBmcm9tIHRoZVxuXHQgICAgICAvLyBleGlzdGluZyBzY29wZSBhbmQgaWdub3JlIHRoZSByZXN0LlxuXHQgICAgICBPYmplY3Qua2V5cyhldmFsU2NvcGUpLmZvckVhY2goZnVuY3Rpb24oYXJnKSB7XG5cdCAgICAgICAgaWYoYXJnIGluIGZyYW1lLnNjb3BlKSB7XG5cdCAgICAgICAgICBmcmFtZS5zY29wZVthcmddID0gZXZhbFNjb3BlW2FyZ107XG5cdCAgICAgICAgfVxuXHQgICAgICB9KTtcblx0ICAgICAgZXZhbFNjb3BlID0gZnJhbWUuc2NvcGU7XG5cblx0ICAgICAgdmFyIGNvZGUgPSBpbmplY3RTY29wZShldmFsU2NvcGUsIGZyYW1lLmJvZHkpO1xuXHQgICAgICByZXR1cm4gZXZhbChjb2RlKTtcblx0ICAgIH1cblxuXHQgICAgdmFyIG1vZHVsZUV2YWwgPSBmdW5jdGlvbihjb2RlKSB7XG5cdCAgICAgIHJldHVybiBldmFsKGNvZGUpO1xuXHQgICAgfVxuXG5cdCAgICBiaW5kaW5ncy5mb3JFYWNoKGZ1bmN0aW9uKGJpbmRpbmcpIHtcblx0ICAgICAgdmFyIGYgPSBldmFsKGJpbmRpbmcpO1xuXG5cdCAgICAgIGlmKHR5cGVvZiBmID09PSAnZnVuY3Rpb24nICYmIGJpbmRpbmcgIT09ICdfX2V2YWwnKSB7XG5cdCAgICAgICAgdmFyIHBhdGNoZWQgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgIGlmKHBhdGNoZWRCaW5kaW5nc1tiaW5kaW5nXSkge1xuXHQgICAgICAgICAgICByZXR1cm4gcGF0Y2hlZEJpbmRpbmdzW2JpbmRpbmddLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICBlbHNlIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGYuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9O1xuXHQgICAgICAgIHBhdGNoZWQucHJvdG90eXBlID0gZi5wcm90b3R5cGU7XG5cblx0ICAgICAgICBldmFsKGJpbmRpbmcgKyAnID0gcGF0Y2hlZDtcXG4nKTtcblxuXHQgICAgICAgIGlmKG1vZHVsZS5leHBvcnRzW2JpbmRpbmddKSB7XG5cdCAgICAgICAgICBtb2R1bGUuZXhwb3J0c1tiaW5kaW5nXSA9IHBhdGNoZWQ7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9KTtcblxuXHQgICAgbW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKGRhdGEpIHtcblx0ICAgICAgZGF0YS5wYXRjaGVkQmluZGluZ3MgPSBwYXRjaGVkQmluZGluZ3M7XG5cdCAgICAgIGRhdGEubW9kdWxlRXZhbCA9IG1vZHVsZUV2YWw7XG5cdCAgICAgIGRhdGEubW9kdWxlRXZhbFdpdGhTY29wZSA9IG1vZHVsZUV2YWxXaXRoU2NvcGU7XG5cdCAgICB9KTtcblx0ICB9XG5cdCAgZWxzZSB7XG5cdCAgICB2YXIgcGF0Y2hlZEJpbmRpbmdzID0gbW9kdWxlLmhvdC5kYXRhLnBhdGNoZWRCaW5kaW5ncztcblxuXHQgICAgYmluZGluZ3MuZm9yRWFjaChmdW5jdGlvbihiaW5kaW5nKSB7XG5cdCAgICAgIHZhciBmID0gZXZhbChiaW5kaW5nKTtcblxuXHQgICAgICBpZih0eXBlb2YgZiA9PT0gJ2Z1bmN0aW9uJyAmJiBiaW5kaW5nICE9PSAnX19ldmFsJykge1xuXHQgICAgICAgIC8vIFdlIG5lZWQgdG8gcmVpZnkgdGhlIGZ1bmN0aW9uIGluIHRoZSBvcmlnaW5hbCBtb2R1bGUgc29cblx0ICAgICAgICAvLyBpdCByZWZlcmVuY2VzIGFueSBvZiB0aGUgb3JpZ2luYWwgc3RhdGUuIFN0cmlwIHRoZSBuYW1lXG5cdCAgICAgICAgLy8gYW5kIHNpbXBseSBldmFsIGl0LlxuXHQgICAgICAgIHZhciBmdW5jQ29kZSA9IChcblx0ICAgICAgICAgICcoJyArIGYudG9TdHJpbmcoKS5yZXBsYWNlKC9eZnVuY3Rpb24gXFx3K1xcKC8sICdmdW5jdGlvbiAoJykgKyAnKSdcblx0ICAgICAgICApO1xuXHQgICAgICAgIHBhdGNoZWRCaW5kaW5nc1tiaW5kaW5nXSA9IG1vZHVsZS5ob3QuZGF0YS5tb2R1bGVFdmFsKGZ1bmNDb2RlKTtcblx0ICAgICAgfVxuXHQgICAgfSk7XG5cblx0ICAgIGlmKHR5cGVvZiBfX2V2YWwgPT09ICdmdW5jdGlvbicpIHtcblx0ICAgICAgdHJ5IHtcblx0ICAgICAgICBtb2R1bGUuaG90LmRhdGEubW9kdWxlRXZhbFdpdGhTY29wZShnZXRFdmFsU291cmNlKF9fZXZhbCkpO1xuXHQgICAgICB9XG5cdCAgICAgIGNhdGNoKGUpIHtcblx0ICAgICAgICBjb25zb2xlLmxvZygnZXJyb3IgZXZhbGluZzogJyArIGUpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cblx0ICAgIG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbihkYXRhKSB7XG5cdCAgICAgIGRhdGEucGF0Y2hlZEJpbmRpbmdzID0gcGF0Y2hlZEJpbmRpbmdzO1xuXHQgICAgICBkYXRhLm1vZHVsZUV2YWwgPSBtb2R1bGUuaG90LmRhdGEubW9kdWxlRXZhbDtcblx0ICAgICAgZGF0YS5tb2R1bGVFdmFsV2l0aFNjb3BlID0gbW9kdWxlLmhvdC5kYXRhLm1vZHVsZUV2YWxXaXRoU2NvcGU7XG5cdCAgICB9KTtcblx0ICB9XG5cdH1cblxuXG4vKioqLyB9LFxuLyogMjYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciB2ZWMyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0dmFyIFJheSA9IF9fd2VicGFja19yZXF1aXJlX18oMTgpO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBSYXljYXN0UmVzdWx0O1xuXHRcblx0LyoqXG5cdCAqIFN0b3JhZ2UgZm9yIFJheSBjYXN0aW5nIGhpdCBkYXRhLlxuXHQgKiBAY2xhc3MgUmF5Y2FzdFJlc3VsdFxuXHQgKiBAY29uc3RydWN0b3Jcblx0ICovXG5cdGZ1bmN0aW9uIFJheWNhc3RSZXN1bHQoKXtcblx0XG5cdFx0LyoqXG5cdFx0ICogVGhlIG5vcm1hbCBvZiB0aGUgaGl0LCBvcmllbnRlZCBpbiB3b3JsZCBzcGFjZS5cblx0XHQgKiBAcHJvcGVydHkge2FycmF5fSBub3JtYWxcblx0XHQgKi9cblx0XHR0aGlzLm5vcm1hbCA9IHZlYzIuY3JlYXRlKCk7XG5cdFxuXHRcdC8qKlxuXHRcdCAqIFRoZSBoaXQgc2hhcGUsIG9yIG51bGwuXG5cdFx0ICogQHByb3BlcnR5IHtTaGFwZX0gc2hhcGVcblx0XHQgKi9cblx0XHR0aGlzLnNoYXBlID0gbnVsbDtcblx0XG5cdFx0LyoqXG5cdFx0ICogVGhlIGhpdCBib2R5LCBvciBudWxsLlxuXHRcdCAqIEBwcm9wZXJ0eSB7Qm9keX0gYm9keVxuXHRcdCAqL1xuXHRcdHRoaXMuYm9keSA9IG51bGw7XG5cdFxuXHRcdC8qKlxuXHRcdCAqIFRoZSBpbmRleCBvZiB0aGUgaGl0IHRyaWFuZ2xlLCBpZiB0aGUgaGl0IHNoYXBlIHdhcyBpbmRleGFibGUuXG5cdFx0ICogQHByb3BlcnR5IHtudW1iZXJ9IGZhY2VJbmRleFxuXHRcdCAqIEBkZWZhdWx0IC0xXG5cdFx0ICovXG5cdFx0dGhpcy5mYWNlSW5kZXggPSAtMTtcblx0XG5cdFx0LyoqXG5cdFx0ICogRGlzdGFuY2UgdG8gdGhlIGhpdCwgYXMgYSBmcmFjdGlvbi4gMCBpcyBhdCB0aGUgXCJmcm9tXCIgcG9pbnQsIDEgaXMgYXQgdGhlIFwidG9cIiBwb2ludC4gV2lsbCBiZSBzZXQgdG8gLTEgaWYgdGhlcmUgd2FzIG5vIGhpdCB5ZXQuXG5cdFx0ICogQHByb3BlcnR5IHtudW1iZXJ9IGZyYWN0aW9uXG5cdFx0ICogQGRlZmF1bHQgLTFcblx0XHQgKi9cblx0XHR0aGlzLmZyYWN0aW9uID0gLTE7XG5cdFxuXHRcdC8qKlxuXHRcdCAqIElmIHRoZSByYXkgc2hvdWxkIHN0b3AgdHJhdmVyc2luZy5cblx0XHQgKiBAcmVhZG9ubHlcblx0XHQgKiBAcHJvcGVydHkge0Jvb2xlYW59IGlzU3RvcHBlZFxuXHRcdCAqL1xuXHRcdHRoaXMuaXNTdG9wcGVkID0gZmFsc2U7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBSZXNldCBhbGwgcmVzdWx0IGRhdGEuIE11c3QgYmUgZG9uZSBiZWZvcmUgcmUtdXNpbmcgdGhlIHJlc3VsdCBvYmplY3QuXG5cdCAqIEBtZXRob2QgcmVzZXRcblx0ICovXG5cdFJheWNhc3RSZXN1bHQucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuXHRcdHZlYzIuc2V0KHRoaXMubm9ybWFsLCAwLCAwKTtcblx0XHR0aGlzLnNoYXBlID0gbnVsbDtcblx0XHR0aGlzLmJvZHkgPSBudWxsO1xuXHRcdHRoaXMuZmFjZUluZGV4ID0gLTE7XG5cdFx0dGhpcy5mcmFjdGlvbiA9IC0xO1xuXHRcdHRoaXMuaXNTdG9wcGVkID0gZmFsc2U7XG5cdH07XG5cdFxuXHQvKipcblx0ICogR2V0IHRoZSBkaXN0YW5jZSB0byB0aGUgaGl0IHBvaW50LlxuXHQgKiBAbWV0aG9kIGdldEhpdERpc3RhbmNlXG5cdCAqIEBwYXJhbSB7UmF5fSByYXlcblx0ICovXG5cdFJheWNhc3RSZXN1bHQucHJvdG90eXBlLmdldEhpdERpc3RhbmNlID0gZnVuY3Rpb24gKHJheSkge1xuXHRcdHJldHVybiB2ZWMyLmRpc3RhbmNlKHJheS5mcm9tLCByYXkudG8pICogdGhpcy5mcmFjdGlvbjtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBSZXR1cm5zIHRydWUgaWYgdGhlIHJheSBoaXQgc29tZXRoaW5nIHNpbmNlIHRoZSBsYXN0IHJlc2V0KCkuXG5cdCAqIEBtZXRob2QgaGFzSGl0XG5cdCAqL1xuXHRSYXljYXN0UmVzdWx0LnByb3RvdHlwZS5oYXNIaXQgPSBmdW5jdGlvbiAoKSB7XG5cdFx0cmV0dXJuIHRoaXMuZnJhY3Rpb24gIT09IC0xO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIEdldCB3b3JsZCBoaXQgcG9pbnQuXG5cdCAqIEBtZXRob2QgZ2V0SGl0UG9pbnRcblx0ICogQHBhcmFtIHthcnJheX0gb3V0XG5cdCAqIEBwYXJhbSB7UmF5fSByYXlcblx0ICovXG5cdFJheWNhc3RSZXN1bHQucHJvdG90eXBlLmdldEhpdFBvaW50ID0gZnVuY3Rpb24gKG91dCwgcmF5KSB7XG5cdFx0dmVjMi5sZXJwKG91dCwgcmF5LmZyb20sIHJheS50bywgdGhpcy5mcmFjdGlvbik7XG5cdH07XG5cdFxuXHQvKipcblx0ICogQ2FuIGJlIGNhbGxlZCB3aGlsZSBpdGVyYXRpbmcgb3ZlciBoaXRzIHRvIHN0b3Agc2VhcmNoaW5nIGZvciBoaXQgcG9pbnRzLlxuXHQgKiBAbWV0aG9kIHN0b3Bcblx0ICovXG5cdFJheWNhc3RSZXN1bHQucHJvdG90eXBlLnN0b3AgPSBmdW5jdGlvbigpe1xuXHRcdHRoaXMuaXNTdG9wcGVkID0gdHJ1ZTtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBAbWV0aG9kIHNob3VsZFN0b3Bcblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHtSYXl9IHJheVxuXHQgKiBAcmV0dXJuIHtib29sZWFufVxuXHQgKi9cblx0UmF5Y2FzdFJlc3VsdC5wcm90b3R5cGUuc2hvdWxkU3RvcCA9IGZ1bmN0aW9uKHJheSl7XG5cdFx0cmV0dXJuIHRoaXMuaXNTdG9wcGVkIHx8ICh0aGlzLmZyYWN0aW9uICE9PSAtMSAmJiByYXkubW9kZSA9PT0gUmF5LkFOWSk7XG5cdH07XG5cdFxuXHQvKipcblx0ICogQG1ldGhvZCBzZXRcblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHthcnJheX0gbm9ybWFsXG5cdCAqIEBwYXJhbSB7U2hhcGV9IHNoYXBlXG5cdCAqIEBwYXJhbSB7Qm9keX0gYm9keVxuXHQgKiBAcGFyYW0ge251bWJlcn0gZnJhY3Rpb25cblx0ICovXG5cdFJheWNhc3RSZXN1bHQucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uKFxuXHRcdG5vcm1hbCxcblx0XHRzaGFwZSxcblx0XHRib2R5LFxuXHRcdGZyYWN0aW9uLFxuXHRcdGZhY2VJbmRleFxuXHQpe1xuXHRcdHZlYzIuY29weSh0aGlzLm5vcm1hbCwgbm9ybWFsKTtcblx0XHR0aGlzLnNoYXBlID0gc2hhcGU7XG5cdFx0dGhpcy5ib2R5ID0gYm9keTtcblx0XHR0aGlzLmZyYWN0aW9uID0gZnJhY3Rpb247XG5cdFx0dGhpcy5mYWNlSW5kZXggPSBmYWNlSW5kZXg7XG5cdH07XG5cbi8qKiovIH0sXG4vKiAyNyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBNYXRlcmlhbDtcblx0XG5cdC8qKlxuXHQgKiBEZWZpbmVzIGEgcGh5c2ljcyBtYXRlcmlhbC5cblx0ICogQGNsYXNzIE1hdGVyaWFsXG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKiBAcGFyYW0ge251bWJlcn0gaWQgTWF0ZXJpYWwgaWRlbnRpZmllclxuXHQgKiBAYXV0aG9yIHNjaHRlcHBlXG5cdCAqL1xuXHRmdW5jdGlvbiBNYXRlcmlhbChpZCl7XG5cdCAgICAvKipcblx0ICAgICAqIFRoZSBtYXRlcmlhbCBpZGVudGlmaWVyXG5cdCAgICAgKiBAcHJvcGVydHkgaWRcblx0ICAgICAqIEB0eXBlIHtOdW1iZXJ9XG5cdCAgICAgKi9cblx0ICAgIHRoaXMuaWQgPSBpZCB8fCBNYXRlcmlhbC5pZENvdW50ZXIrKztcblx0fVxuXHRcblx0TWF0ZXJpYWwuaWRDb3VudGVyID0gMDtcblxuXG4vKioqLyB9LFxuLyogMjggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciB2ZWMyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0dmFyIFV0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gU3ByaW5nO1xuXHRcblx0LyoqXG5cdCAqIEEgc3ByaW5nLCBjb25uZWN0aW5nIHR3byBib2RpZXMuIFRoZSBTcHJpbmcgZXhwbGljaXRseSBhZGRzIGZvcmNlIGFuZCBhbmd1bGFyRm9yY2UgdG8gdGhlIGJvZGllcyBhbmQgZG9lcyB0aGVyZWZvcmUgbm90IHB1dCBsb2FkIG9uIHRoZSBjb25zdHJhaW50IHNvbHZlci5cblx0ICpcblx0ICogQGNsYXNzIFNwcmluZ1xuXHQgKiBAY29uc3RydWN0b3Jcblx0ICogQHBhcmFtIHtCb2R5fSBib2R5QVxuXHQgKiBAcGFyYW0ge0JvZHl9IGJvZHlCXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cblx0ICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnN0aWZmbmVzcz0xMDBdICBTcHJpbmcgY29uc3RhbnQgKHNlZSBIb29rZXMgTGF3KS4gQSBudW1iZXIgPj0gMC5cblx0ICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmRhbXBpbmc9MV0gICAgICBBIG51bWJlciA+PSAwLiBEZWZhdWx0OiAxXG5cdCAqIEBwYXJhbSB7QXJyYXl9ICBbb3B0aW9ucy5sb2NhbEFuY2hvckFdICAgV2hlcmUgdG8gaG9vayB0aGUgc3ByaW5nIHRvIGJvZHkgQSwgaW4gbG9jYWwgYm9keSBjb29yZGluYXRlcy4gRGVmYXVsdHMgdG8gdGhlIGJvZHkgY2VudGVyLlxuXHQgKiBAcGFyYW0ge0FycmF5fSAgW29wdGlvbnMubG9jYWxBbmNob3JCXVxuXHQgKiBAcGFyYW0ge0FycmF5fSAgW29wdGlvbnMud29ybGRBbmNob3JBXSAgIFdoZXJlIHRvIGhvb2sgdGhlIHNwcmluZyB0byBib2R5IEEsIGluIHdvcmxkIGNvb3JkaW5hdGVzLiBPdmVycmlkZXMgdGhlIG9wdGlvbiBcImxvY2FsQW5jaG9yQVwiIGlmIGdpdmVuLlxuXHQgKiBAcGFyYW0ge0FycmF5fSAgW29wdGlvbnMud29ybGRBbmNob3JCXVxuXHQgKi9cblx0ZnVuY3Rpb24gU3ByaW5nKGJvZHlBLCBib2R5Qiwgb3B0aW9ucyl7XG5cdCAgICBvcHRpb25zID0gVXRpbHMuZGVmYXVsdHMob3B0aW9ucyx7XG5cdCAgICAgICAgc3RpZmZuZXNzOiAxMDAsXG5cdCAgICAgICAgZGFtcGluZzogMSxcblx0ICAgIH0pO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogU3RpZmZuZXNzIG9mIHRoZSBzcHJpbmcuXG5cdCAgICAgKiBAcHJvcGVydHkgc3RpZmZuZXNzXG5cdCAgICAgKiBAdHlwZSB7bnVtYmVyfVxuXHQgICAgICovXG5cdCAgICB0aGlzLnN0aWZmbmVzcyA9IG9wdGlvbnMuc3RpZmZuZXNzO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogRGFtcGluZyBvZiB0aGUgc3ByaW5nLlxuXHQgICAgICogQHByb3BlcnR5IGRhbXBpbmdcblx0ICAgICAqIEB0eXBlIHtudW1iZXJ9XG5cdCAgICAgKi9cblx0ICAgIHRoaXMuZGFtcGluZyA9IG9wdGlvbnMuZGFtcGluZztcblx0XG5cdCAgICAvKipcblx0ICAgICAqIEZpcnN0IGNvbm5lY3RlZCBib2R5LlxuXHQgICAgICogQHByb3BlcnR5IGJvZHlBXG5cdCAgICAgKiBAdHlwZSB7Qm9keX1cblx0ICAgICAqL1xuXHQgICAgdGhpcy5ib2R5QSA9IGJvZHlBO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogU2Vjb25kIGNvbm5lY3RlZCBib2R5LlxuXHQgICAgICogQHByb3BlcnR5IGJvZHlCXG5cdCAgICAgKiBAdHlwZSB7Qm9keX1cblx0ICAgICAqL1xuXHQgICAgdGhpcy5ib2R5QiA9IGJvZHlCO1xuXHR9XG5cdFxuXHQvKipcblx0ICogQXBwbHkgdGhlIHNwcmluZyBmb3JjZSB0byB0aGUgY29ubmVjdGVkIGJvZGllcy5cblx0ICogQG1ldGhvZCBhcHBseUZvcmNlXG5cdCAqL1xuXHRTcHJpbmcucHJvdG90eXBlLmFwcGx5Rm9yY2UgPSBmdW5jdGlvbigpe1xuXHQgICAgLy8gVG8gYmUgaW1wbGVtZW50ZWQgYnkgc3ViY2xhc3Nlc1xuXHR9O1xuXG5cbi8qKiovIH0sXG4vKiAyOSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIFNoYXBlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KVxuXHQsICAgdmVjMiA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IFBhcnRpY2xlO1xuXHRcblx0LyoqXG5cdCAqIFBhcnRpY2xlIHNoYXBlIGNsYXNzLlxuXHQgKiBAY2xhc3MgUGFydGljbGVcblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gKE5vdGUgdGhhdCB0aGlzIG9wdGlvbnMgb2JqZWN0IHdpbGwgYmUgcGFzc2VkIG9uIHRvIHRoZSB7eyNjcm9zc0xpbmsgXCJTaGFwZVwifX17ey9jcm9zc0xpbmt9fSBjb25zdHJ1Y3Rvci4pXG5cdCAqIEBleHRlbmRzIFNoYXBlXG5cdCAqL1xuXHRmdW5jdGlvbiBQYXJ0aWNsZShvcHRpb25zKXtcblx0ICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXHRcdG9wdGlvbnMudHlwZSA9IFNoYXBlLlBBUlRJQ0xFO1xuXHQgICAgU2hhcGUuY2FsbCh0aGlzLCBvcHRpb25zKTtcblx0fVxuXHRQYXJ0aWNsZS5wcm90b3R5cGUgPSBuZXcgU2hhcGUoKTtcblx0UGFydGljbGUucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gUGFydGljbGU7XG5cdFxuXHRQYXJ0aWNsZS5wcm90b3R5cGUuY29tcHV0ZU1vbWVudE9mSW5lcnRpYSA9IGZ1bmN0aW9uKG1hc3Mpe1xuXHQgICAgcmV0dXJuIDA7IC8vIENhbid0IHJvdGF0ZSBhIHBhcnRpY2xlXG5cdH07XG5cdFxuXHRQYXJ0aWNsZS5wcm90b3R5cGUudXBkYXRlQm91bmRpbmdSYWRpdXMgPSBmdW5jdGlvbigpe1xuXHQgICAgdGhpcy5ib3VuZGluZ1JhZGl1cyA9IDA7XG5cdH07XG5cdFxuXHQvKipcblx0ICogQG1ldGhvZCBjb21wdXRlQUFCQlxuXHQgKiBAcGFyYW0gIHtBQUJCfSAgIG91dFxuXHQgKiBAcGFyYW0gIHtBcnJheX0gIHBvc2l0aW9uXG5cdCAqIEBwYXJhbSAge051bWJlcn0gYW5nbGVcblx0ICovXG5cdFBhcnRpY2xlLnByb3RvdHlwZS5jb21wdXRlQUFCQiA9IGZ1bmN0aW9uKG91dCwgcG9zaXRpb24sIGFuZ2xlKXtcblx0ICAgIHZlYzIuY29weShvdXQubG93ZXJCb3VuZCwgcG9zaXRpb24pO1xuXHQgICAgdmVjMi5jb3B5KG91dC51cHBlckJvdW5kLCBwb3NpdGlvbik7XG5cdH07XG5cblxuLyoqKi8gfSxcbi8qIDMwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgU2hhcGUgPSAgX193ZWJwYWNrX3JlcXVpcmVfXyg0KVxuXHQsICAgIHZlYzIgPSAgX193ZWJwYWNrX3JlcXVpcmVfXygxKVxuXHQsICAgIFV0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gUGxhbmU7XG5cdFxuXHQvKipcblx0ICogUGxhbmUgc2hhcGUgY2xhc3MuIFRoZSBwbGFuZSBpcyBmYWNpbmcgaW4gdGhlIFkgZGlyZWN0aW9uLlxuXHQgKiBAY2xhc3MgUGxhbmVcblx0ICogQGV4dGVuZHMgU2hhcGVcblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gKE5vdGUgdGhhdCB0aGlzIG9wdGlvbnMgb2JqZWN0IHdpbGwgYmUgcGFzc2VkIG9uIHRvIHRoZSB7eyNjcm9zc0xpbmsgXCJTaGFwZVwifX17ey9jcm9zc0xpbmt9fSBjb25zdHJ1Y3Rvci4pXG5cdCAqL1xuXHRmdW5jdGlvbiBQbGFuZShvcHRpb25zKXtcblx0ICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXHQgICAgb3B0aW9ucy50eXBlID0gU2hhcGUuUExBTkU7XG5cdCAgICBTaGFwZS5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuXHR9XG5cdFBsYW5lLnByb3RvdHlwZSA9IG5ldyBTaGFwZSgpO1xuXHRQbGFuZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBQbGFuZTtcblx0XG5cdC8qKlxuXHQgKiBDb21wdXRlIG1vbWVudCBvZiBpbmVydGlhXG5cdCAqIEBtZXRob2QgY29tcHV0ZU1vbWVudE9mSW5lcnRpYVxuXHQgKi9cblx0UGxhbmUucHJvdG90eXBlLmNvbXB1dGVNb21lbnRPZkluZXJ0aWEgPSBmdW5jdGlvbihtYXNzKXtcblx0ICAgIHJldHVybiAwOyAvLyBQbGFuZSBpcyBpbmZpbml0ZS4gVGhlIGluZXJ0aWEgc2hvdWxkIHRoZXJlZm9yZSBiZSBpbmZpbnR5IGJ1dCBieSBjb252ZW50aW9uIHdlIHNldCAwIGhlcmVcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBVcGRhdGUgdGhlIGJvdW5kaW5nIHJhZGl1c1xuXHQgKiBAbWV0aG9kIHVwZGF0ZUJvdW5kaW5nUmFkaXVzXG5cdCAqL1xuXHRQbGFuZS5wcm90b3R5cGUudXBkYXRlQm91bmRpbmdSYWRpdXMgPSBmdW5jdGlvbigpe1xuXHQgICAgdGhpcy5ib3VuZGluZ1JhZGl1cyA9IE51bWJlci5NQVhfVkFMVUU7XG5cdH07XG5cdFxuXHQvKipcblx0ICogQG1ldGhvZCBjb21wdXRlQUFCQlxuXHQgKiBAcGFyYW0gIHtBQUJCfSAgIG91dFxuXHQgKiBAcGFyYW0gIHtBcnJheX0gIHBvc2l0aW9uXG5cdCAqIEBwYXJhbSAge051bWJlcn0gYW5nbGVcblx0ICovXG5cdFBsYW5lLnByb3RvdHlwZS5jb21wdXRlQUFCQiA9IGZ1bmN0aW9uKG91dCwgcG9zaXRpb24sIGFuZ2xlKXtcblx0ICAgIHZhciBhID0gYW5nbGUgJSAoMiAqIE1hdGguUEkpO1xuXHQgICAgdmFyIHNldCA9IHZlYzIuc2V0O1xuXHQgICAgdmFyIG1heCA9IE51bWJlci5NQVhfVkFMVUU7XG5cdCAgICB2YXIgbG93ZXJCb3VuZCA9IG91dC5sb3dlckJvdW5kO1xuXHQgICAgdmFyIHVwcGVyQm91bmQgPSBvdXQudXBwZXJCb3VuZDtcblx0XG5cdCAgICBpZihhID09PSAwKXtcblx0ICAgICAgICAvLyB5IGdvZXMgZnJvbSAtaW5mIHRvIDBcblx0ICAgICAgICBzZXQobG93ZXJCb3VuZCwgLW1heCwgLW1heCk7XG5cdCAgICAgICAgc2V0KHVwcGVyQm91bmQsICBtYXgsICAwKTtcblx0XG5cdCAgICB9IGVsc2UgaWYoYSA9PT0gTWF0aC5QSSAvIDIpe1xuXHRcblx0ICAgICAgICAvLyB4IGdvZXMgZnJvbSAwIHRvIGluZlxuXHQgICAgICAgIHNldChsb3dlckJvdW5kLCAwLCAtbWF4KTtcblx0ICAgICAgICBzZXQodXBwZXJCb3VuZCwgICAgICBtYXgsICBtYXgpO1xuXHRcblx0ICAgIH0gZWxzZSBpZihhID09PSBNYXRoLlBJKXtcblx0XG5cdCAgICAgICAgLy8geSBnb2VzIGZyb20gMCB0byBpbmZcblx0ICAgICAgICBzZXQobG93ZXJCb3VuZCwgLW1heCwgMCk7XG5cdCAgICAgICAgc2V0KHVwcGVyQm91bmQsICBtYXgsIG1heCk7XG5cdFxuXHQgICAgfSBlbHNlIGlmKGEgPT09IDMqTWF0aC5QSS8yKXtcblx0XG5cdCAgICAgICAgLy8geCBnb2VzIGZyb20gLWluZiB0byAwXG5cdCAgICAgICAgc2V0KGxvd2VyQm91bmQsIC1tYXgsICAgICAtbWF4KTtcblx0ICAgICAgICBzZXQodXBwZXJCb3VuZCwgIDAsICBtYXgpO1xuXHRcblx0ICAgIH0gZWxzZSB7XG5cdFxuXHQgICAgICAgIC8vIFNldCBtYXggYm91bmRzXG5cdCAgICAgICAgc2V0KGxvd2VyQm91bmQsIC1tYXgsIC1tYXgpO1xuXHQgICAgICAgIHNldCh1cHBlckJvdW5kLCAgbWF4LCAgbWF4KTtcblx0ICAgIH1cblx0XG5cdCAgICB2ZWMyLmFkZChsb3dlckJvdW5kLCBsb3dlckJvdW5kLCBwb3NpdGlvbik7XG5cdCAgICB2ZWMyLmFkZCh1cHBlckJvdW5kLCB1cHBlckJvdW5kLCBwb3NpdGlvbik7XG5cdH07XG5cdFxuXHRQbGFuZS5wcm90b3R5cGUudXBkYXRlQXJlYSA9IGZ1bmN0aW9uKCl7XG5cdCAgICB0aGlzLmFyZWEgPSBOdW1iZXIuTUFYX1ZBTFVFO1xuXHR9O1xuXHRcblx0dmFyIGludGVyc2VjdFBsYW5lX3BsYW5lUG9pbnRUb0Zyb20gPSB2ZWMyLmNyZWF0ZSgpO1xuXHR2YXIgaW50ZXJzZWN0UGxhbmVfZGlyX3NjYWxlZF93aXRoX3QgPSB2ZWMyLmNyZWF0ZSgpO1xuXHR2YXIgaW50ZXJzZWN0UGxhbmVfaGl0UG9pbnQgPSB2ZWMyLmNyZWF0ZSgpO1xuXHR2YXIgaW50ZXJzZWN0UGxhbmVfbm9ybWFsID0gdmVjMi5jcmVhdGUoKTtcblx0dmFyIGludGVyc2VjdFBsYW5lX2xlbiA9IHZlYzIuY3JlYXRlKCk7XG5cdFxuXHQvKipcblx0ICogQG1ldGhvZCByYXljYXN0XG5cdCAqIEBwYXJhbSAge1JheVJlc3VsdH0gcmVzdWx0XG5cdCAqIEBwYXJhbSAge1JheX0gcmF5XG5cdCAqIEBwYXJhbSAge2FycmF5fSBwb3NpdGlvblxuXHQgKiBAcGFyYW0gIHtudW1iZXJ9IGFuZ2xlXG5cdCAqL1xuXHRQbGFuZS5wcm90b3R5cGUucmF5Y2FzdCA9IGZ1bmN0aW9uKHJlc3VsdCwgcmF5LCBwb3NpdGlvbiwgYW5nbGUpe1xuXHQgICAgdmFyIGZyb20gPSByYXkuZnJvbTtcblx0ICAgIHZhciB0byA9IHJheS50bztcblx0ICAgIHZhciBkaXJlY3Rpb24gPSByYXkuZGlyZWN0aW9uO1xuXHQgICAgdmFyIHBsYW5lUG9pbnRUb0Zyb20gPSBpbnRlcnNlY3RQbGFuZV9wbGFuZVBvaW50VG9Gcm9tO1xuXHQgICAgdmFyIGRpcl9zY2FsZWRfd2l0aF90ID0gaW50ZXJzZWN0UGxhbmVfZGlyX3NjYWxlZF93aXRoX3Q7XG5cdCAgICB2YXIgaGl0UG9pbnQgPSBpbnRlcnNlY3RQbGFuZV9oaXRQb2ludDtcblx0ICAgIHZhciBub3JtYWwgPSBpbnRlcnNlY3RQbGFuZV9ub3JtYWw7XG5cdCAgICB2YXIgbGVuID0gaW50ZXJzZWN0UGxhbmVfbGVuO1xuXHRcblx0ICAgIC8vIEdldCBwbGFuZSBub3JtYWxcblx0ICAgIHZlYzIuc2V0KG5vcm1hbCwgMCwgMSk7XG5cdCAgICB2ZWMyLnJvdGF0ZShub3JtYWwsIG5vcm1hbCwgYW5nbGUpO1xuXHRcblx0ICAgIHZlYzIuc3ViKGxlbiwgZnJvbSwgcG9zaXRpb24pO1xuXHQgICAgdmFyIHBsYW5lVG9Gcm9tID0gdmVjMi5kb3QobGVuLCBub3JtYWwpO1xuXHQgICAgdmVjMi5zdWIobGVuLCB0bywgcG9zaXRpb24pO1xuXHQgICAgdmFyIHBsYW5lVG9UbyA9IHZlYzIuZG90KGxlbiwgbm9ybWFsKTtcblx0XG5cdCAgICBpZihwbGFuZVRvRnJvbSAqIHBsYW5lVG9UbyA+IDApe1xuXHQgICAgICAgIC8vIFwiZnJvbVwiIGFuZCBcInRvXCIgYXJlIG9uIHRoZSBzYW1lIHNpZGUgb2YgdGhlIHBsYW5lLi4uIGJhaWwgb3V0XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmKHZlYzIuc3F1YXJlZERpc3RhbmNlKGZyb20sIHRvKSA8IHBsYW5lVG9Gcm9tICogcGxhbmVUb0Zyb20pe1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgbl9kb3RfZGlyID0gdmVjMi5kb3Qobm9ybWFsLCBkaXJlY3Rpb24pO1xuXHRcblx0ICAgIHZlYzIuc3ViKHBsYW5lUG9pbnRUb0Zyb20sIGZyb20sIHBvc2l0aW9uKTtcblx0ICAgIHZhciB0ID0gLXZlYzIuZG90KG5vcm1hbCwgcGxhbmVQb2ludFRvRnJvbSkgLyBuX2RvdF9kaXIgLyByYXkubGVuZ3RoO1xuXHRcblx0ICAgIHJheS5yZXBvcnRJbnRlcnNlY3Rpb24ocmVzdWx0LCB0LCBub3JtYWwsIC0xKTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDMxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgVXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpXG5cdCwgICBFdmVudEVtaXR0ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIwKTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gU29sdmVyO1xuXHRcblx0LyoqXG5cdCAqIEJhc2UgY2xhc3MgZm9yIGNvbnN0cmFpbnQgc29sdmVycy5cblx0ICogQGNsYXNzIFNvbHZlclxuXHQgKiBAY29uc3RydWN0b3Jcblx0ICogQGV4dGVuZHMgRXZlbnRFbWl0dGVyXG5cdCAqL1xuXHRmdW5jdGlvbiBTb2x2ZXIob3B0aW9ucyx0eXBlKXtcblx0ICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXHRcblx0ICAgIEV2ZW50RW1pdHRlci5jYWxsKHRoaXMpO1xuXHRcblx0ICAgIHRoaXMudHlwZSA9IHR5cGU7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDdXJyZW50IGVxdWF0aW9ucyBpbiB0aGUgc29sdmVyLlxuXHQgICAgICpcblx0ICAgICAqIEBwcm9wZXJ0eSBlcXVhdGlvbnNcblx0ICAgICAqIEB0eXBlIHtBcnJheX1cblx0ICAgICAqL1xuXHQgICAgdGhpcy5lcXVhdGlvbnMgPSBbXTtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIEZ1bmN0aW9uIHRoYXQgaXMgdXNlZCB0byBzb3J0IGFsbCBlcXVhdGlvbnMgYmVmb3JlIGVhY2ggc29sdmUuXG5cdCAgICAgKiBAcHJvcGVydHkgZXF1YXRpb25Tb3J0RnVuY3Rpb25cblx0ICAgICAqIEB0eXBlIHtmdW5jdGlvbnxib29sZWFufVxuXHQgICAgICovXG5cdCAgICB0aGlzLmVxdWF0aW9uU29ydEZ1bmN0aW9uID0gb3B0aW9ucy5lcXVhdGlvblNvcnRGdW5jdGlvbiB8fCBmYWxzZTtcblx0fVxuXHRTb2x2ZXIucHJvdG90eXBlID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuXHRTb2x2ZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gU29sdmVyO1xuXHRcblx0LyoqXG5cdCAqIE1ldGhvZCB0byBiZSBpbXBsZW1lbnRlZCBpbiBlYWNoIHN1YmNsYXNzXG5cdCAqIEBtZXRob2Qgc29sdmVcblx0ICogQHBhcmFtICB7TnVtYmVyfSBkdFxuXHQgKiBAcGFyYW0gIHtXb3JsZH0gd29ybGRcblx0ICovXG5cdFNvbHZlci5wcm90b3R5cGUuc29sdmUgPSBmdW5jdGlvbihkdCx3b3JsZCl7XG5cdCAgICB0aHJvdyBuZXcgRXJyb3IoXCJTb2x2ZXIuc29sdmUgc2hvdWxkIGJlIGltcGxlbWVudGVkIGJ5IHN1YmNsYXNzZXMhXCIpO1xuXHR9O1xuXHRcblx0dmFyIG1vY2tXb3JsZCA9IHtib2RpZXM6W119O1xuXHRcblx0LyoqXG5cdCAqIFNvbHZlcyBhbGwgY29uc3RyYWludHMgaW4gYW4gaXNsYW5kLlxuXHQgKiBAbWV0aG9kIHNvbHZlSXNsYW5kXG5cdCAqIEBwYXJhbSAge051bWJlcn0gZHRcblx0ICogQHBhcmFtICB7SXNsYW5kfSBpc2xhbmRcblx0ICovXG5cdFNvbHZlci5wcm90b3R5cGUuc29sdmVJc2xhbmQgPSBmdW5jdGlvbihkdCxpc2xhbmQpe1xuXHRcblx0ICAgIHRoaXMucmVtb3ZlQWxsRXF1YXRpb25zKCk7XG5cdFxuXHQgICAgaWYoaXNsYW5kLmVxdWF0aW9ucy5sZW5ndGgpe1xuXHQgICAgICAgIC8vIEFkZCBlcXVhdGlvbnMgdG8gc29sdmVyXG5cdCAgICAgICAgdGhpcy5hZGRFcXVhdGlvbnMoaXNsYW5kLmVxdWF0aW9ucyk7XG5cdCAgICAgICAgbW9ja1dvcmxkLmJvZGllcy5sZW5ndGggPSAwO1xuXHQgICAgICAgIGlzbGFuZC5nZXRCb2RpZXMobW9ja1dvcmxkLmJvZGllcyk7XG5cdFxuXHQgICAgICAgIC8vIFNvbHZlXG5cdCAgICAgICAgaWYobW9ja1dvcmxkLmJvZGllcy5sZW5ndGgpe1xuXHQgICAgICAgICAgICB0aGlzLnNvbHZlKGR0LG1vY2tXb3JsZCk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHR9O1xuXHRcblx0LyoqXG5cdCAqIFNvcnQgYWxsIGVxdWF0aW9ucyB1c2luZyB0aGUgLmVxdWF0aW9uU29ydEZ1bmN0aW9uLiBTaG91bGQgYmUgY2FsbGVkIGJ5IHN1YmNsYXNzZXMgYmVmb3JlIHNvbHZpbmcuXG5cdCAqIEBtZXRob2Qgc29ydEVxdWF0aW9uc1xuXHQgKi9cblx0U29sdmVyLnByb3RvdHlwZS5zb3J0RXF1YXRpb25zID0gZnVuY3Rpb24oKXtcblx0ICAgIGlmKHRoaXMuZXF1YXRpb25Tb3J0RnVuY3Rpb24pe1xuXHQgICAgICAgIHRoaXMuZXF1YXRpb25zLnNvcnQodGhpcy5lcXVhdGlvblNvcnRGdW5jdGlvbik7XG5cdCAgICB9XG5cdH07XG5cdFxuXHQvKipcblx0ICogQWRkIGFuIGVxdWF0aW9uIHRvIGJlIHNvbHZlZC5cblx0ICpcblx0ICogQG1ldGhvZCBhZGRFcXVhdGlvblxuXHQgKiBAcGFyYW0ge0VxdWF0aW9ufSBlcVxuXHQgKi9cblx0U29sdmVyLnByb3RvdHlwZS5hZGRFcXVhdGlvbiA9IGZ1bmN0aW9uKGVxKXtcblx0ICAgIGlmKGVxLmVuYWJsZWQpe1xuXHQgICAgICAgIHRoaXMuZXF1YXRpb25zLnB1c2goZXEpO1xuXHQgICAgfVxuXHR9O1xuXHRcblx0LyoqXG5cdCAqIEFkZCBlcXVhdGlvbnMuIFNhbWUgYXMgLmFkZEVxdWF0aW9uLCBidXQgdGhpcyB0aW1lIHRoZSBhcmd1bWVudCBpcyBhbiBhcnJheSBvZiBFcXVhdGlvbnNcblx0ICpcblx0ICogQG1ldGhvZCBhZGRFcXVhdGlvbnNcblx0ICogQHBhcmFtIHtBcnJheX0gZXFzXG5cdCAqL1xuXHRTb2x2ZXIucHJvdG90eXBlLmFkZEVxdWF0aW9ucyA9IGZ1bmN0aW9uKGVxcyl7XG5cdCAgICAvL1V0aWxzLmFwcGVuZEFycmF5KHRoaXMuZXF1YXRpb25zLGVxcyk7XG5cdCAgICBmb3IodmFyIGk9MCwgTj1lcXMubGVuZ3RoOyBpIT09TjsgaSsrKXtcblx0ICAgICAgICB2YXIgZXEgPSBlcXNbaV07XG5cdCAgICAgICAgaWYoZXEuZW5hYmxlZCl7XG5cdCAgICAgICAgICAgIHRoaXMuZXF1YXRpb25zLnB1c2goZXEpO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0fTtcblx0XG5cdC8qKlxuXHQgKiBSZW1vdmUgYW4gZXF1YXRpb24uXG5cdCAqXG5cdCAqIEBtZXRob2QgcmVtb3ZlRXF1YXRpb25cblx0ICogQHBhcmFtIHtFcXVhdGlvbn0gZXFcblx0ICovXG5cdFNvbHZlci5wcm90b3R5cGUucmVtb3ZlRXF1YXRpb24gPSBmdW5jdGlvbihlcSl7XG5cdCAgICB2YXIgaSA9IHRoaXMuZXF1YXRpb25zLmluZGV4T2YoZXEpO1xuXHQgICAgaWYoaSAhPT0gLTEpe1xuXHQgICAgICAgIHRoaXMuZXF1YXRpb25zLnNwbGljZShpLDEpO1xuXHQgICAgfVxuXHR9O1xuXHRcblx0LyoqXG5cdCAqIFJlbW92ZSBhbGwgY3VycmVudGx5IGFkZGVkIGVxdWF0aW9ucy5cblx0ICpcblx0ICogQG1ldGhvZCByZW1vdmVBbGxFcXVhdGlvbnNcblx0ICovXG5cdFNvbHZlci5wcm90b3R5cGUucmVtb3ZlQWxsRXF1YXRpb25zID0gZnVuY3Rpb24oKXtcblx0ICAgIHRoaXMuZXF1YXRpb25zLmxlbmd0aD0wO1xuXHR9O1xuXHRcblx0U29sdmVyLkdTID0gMTtcblx0U29sdmVyLklTTEFORCA9IDI7XG5cblxuLyoqKi8gfSxcbi8qIDMyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXywgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX187LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKGdsb2JhbCwgbW9kdWxlKSB7KGZ1bmN0aW9uKCkge1xuXHQgIHZhciBCYWNvbiwgQnVmZmVyaW5nU291cmNlLCBCdXMsIENvbXBvc2l0ZVVuc3Vic2NyaWJlLCBDb25zdW1pbmdTb3VyY2UsIERlc2MsIERpc3BhdGNoZXIsIEVuZCwgRXJyb3IsIEV2ZW50LCBFdmVudFN0cmVhbSwgRXhjZXB0aW9uLCBJbml0aWFsLCBOZXh0LCBOb25lLCBPYnNlcnZhYmxlLCBQcm9wZXJ0eSwgUHJvcGVydHlEaXNwYXRjaGVyLCBTb21lLCBTb3VyY2UsIFVwZGF0ZUJhcnJpZXIsIF8sIGFkZFByb3BlcnR5SW5pdFZhbHVlVG9TdHJlYW0sIGFyZ3VtZW50c1RvT2JzZXJ2YWJsZXMsIGFyZ3VtZW50c1RvT2JzZXJ2YWJsZXNBbmRGdW5jdGlvbiwgYXNzZXJ0LCBhc3NlcnRBcnJheSwgYXNzZXJ0RXZlbnRTdHJlYW0sIGFzc2VydEZ1bmN0aW9uLCBhc3NlcnROb0FyZ3VtZW50cywgYXNzZXJ0T2JzZXJ2YWJsZSwgYXNzZXJ0T2JzZXJ2YWJsZUlzUHJvcGVydHksIGFzc2VydFN0cmluZywgY2xvbmVBcnJheSwgY29uc3RhbnRUb0Z1bmN0aW9uLCBjb250YWluc0R1cGxpY2F0ZURlcHMsIGNvbnZlcnRBcmdzVG9GdW5jdGlvbiwgZGVzY3JpYmUsIGVuZEV2ZW50LCBldmVudElkQ291bnRlciwgZXZlbnRNZXRob2RzLCBmaW5kRGVwcywgZmluZEhhbmRsZXJNZXRob2RzLCBmbGF0TWFwXywgZm9ybWVyLCBpZENvdW50ZXIsIGluaXRpYWxFdmVudCwgaXNBcnJheSwgaXNGaWVsZEtleSwgaXNPYnNlcnZhYmxlLCBsYXR0ZXIsIGxpZnRDYWxsYmFjaywgbWFrZUZ1bmN0aW9uLCBtYWtlRnVuY3Rpb25BcmdzLCBtYWtlRnVuY3Rpb25fLCBtYWtlT2JzZXJ2YWJsZSwgbWFrZVNwYXduZXIsIG5leHRFdmVudCwgbm9wLCBwYXJ0aWFsbHlBcHBsaWVkLCByZWN1cnNpb25EZXB0aCwgcmVmLCByZWdpc3Rlck9icywgc3B5cywgdG9Db21iaW5hdG9yLCB0b0V2ZW50LCB0b0ZpZWxkRXh0cmFjdG9yLCB0b0ZpZWxkS2V5LCB0b09wdGlvbiwgdG9TaW1wbGVFeHRyYWN0b3IsIHZhbHVlQW5kRW5kLCB3aXRoRGVzYywgd2l0aE1ldGhvZENhbGxTdXBwb3J0LFxuXHQgICAgaGFzUHJvcCA9IHt9Lmhhc093blByb3BlcnR5LFxuXHQgICAgZXh0ZW5kID0gZnVuY3Rpb24oY2hpbGQsIHBhcmVudCkgeyBmb3IgKHZhciBrZXkgaW4gcGFyZW50KSB7IGlmIChoYXNQcm9wLmNhbGwocGFyZW50LCBrZXkpKSBjaGlsZFtrZXldID0gcGFyZW50W2tleV07IH0gZnVuY3Rpb24gY3RvcigpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGNoaWxkOyB9IGN0b3IucHJvdG90eXBlID0gcGFyZW50LnByb3RvdHlwZTsgY2hpbGQucHJvdG90eXBlID0gbmV3IGN0b3IoKTsgY2hpbGQuX19zdXBlcl9fID0gcGFyZW50LnByb3RvdHlwZTsgcmV0dXJuIGNoaWxkOyB9LFxuXHQgICAgc2xpY2UgPSBbXS5zbGljZSxcblx0ICAgIGJpbmQgPSBmdW5jdGlvbihmbiwgbWUpeyByZXR1cm4gZnVuY3Rpb24oKXsgcmV0dXJuIGZuLmFwcGx5KG1lLCBhcmd1bWVudHMpOyB9OyB9O1xuXHRcblx0ICBCYWNvbiA9IHtcblx0ICAgIHRvU3RyaW5nOiBmdW5jdGlvbigpIHtcblx0ICAgICAgcmV0dXJuIFwiQmFjb25cIjtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICBCYWNvbi52ZXJzaW9uID0gJzAuNy43Myc7XG5cdFxuXHQgIEV4Y2VwdGlvbiA9ICh0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiICYmIGdsb2JhbCAhPT0gbnVsbCA/IGdsb2JhbCA6IHRoaXMpLkVycm9yO1xuXHRcblx0ICBub3AgPSBmdW5jdGlvbigpIHt9O1xuXHRcblx0ICBsYXR0ZXIgPSBmdW5jdGlvbihfLCB4KSB7XG5cdCAgICByZXR1cm4geDtcblx0ICB9O1xuXHRcblx0ICBmb3JtZXIgPSBmdW5jdGlvbih4LCBfKSB7XG5cdCAgICByZXR1cm4geDtcblx0ICB9O1xuXHRcblx0ICBjbG9uZUFycmF5ID0gZnVuY3Rpb24oeHMpIHtcblx0ICAgIHJldHVybiB4cy5zbGljZSgwKTtcblx0ICB9O1xuXHRcblx0ICBhc3NlcnQgPSBmdW5jdGlvbihtZXNzYWdlLCBjb25kaXRpb24pIHtcblx0ICAgIGlmICghY29uZGl0aW9uKSB7XG5cdCAgICAgIHRocm93IG5ldyBFeGNlcHRpb24obWVzc2FnZSk7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgYXNzZXJ0T2JzZXJ2YWJsZUlzUHJvcGVydHkgPSBmdW5jdGlvbih4KSB7XG5cdCAgICBpZiAoeCBpbnN0YW5jZW9mIE9ic2VydmFibGUgJiYgISh4IGluc3RhbmNlb2YgUHJvcGVydHkpKSB7XG5cdCAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oXCJPYnNlcnZhYmxlIGlzIG5vdCBhIFByb3BlcnR5IDogXCIgKyB4KTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICBhc3NlcnRFdmVudFN0cmVhbSA9IGZ1bmN0aW9uKGV2ZW50KSB7XG5cdCAgICBpZiAoIShldmVudCBpbnN0YW5jZW9mIEV2ZW50U3RyZWFtKSkge1xuXHQgICAgICB0aHJvdyBuZXcgRXhjZXB0aW9uKFwibm90IGFuIEV2ZW50U3RyZWFtIDogXCIgKyBldmVudCk7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgYXNzZXJ0T2JzZXJ2YWJsZSA9IGZ1bmN0aW9uKGV2ZW50KSB7XG5cdCAgICBpZiAoIShldmVudCBpbnN0YW5jZW9mIE9ic2VydmFibGUpKSB7XG5cdCAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oXCJub3QgYW4gT2JzZXJ2YWJsZSA6IFwiICsgZXZlbnQpO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIGFzc2VydEZ1bmN0aW9uID0gZnVuY3Rpb24oZikge1xuXHQgICAgcmV0dXJuIGFzc2VydChcIm5vdCBhIGZ1bmN0aW9uIDogXCIgKyBmLCBfLmlzRnVuY3Rpb24oZikpO1xuXHQgIH07XG5cdFxuXHQgIGlzQXJyYXkgPSBmdW5jdGlvbih4cykge1xuXHQgICAgcmV0dXJuIHhzIGluc3RhbmNlb2YgQXJyYXk7XG5cdCAgfTtcblx0XG5cdCAgaXNPYnNlcnZhYmxlID0gZnVuY3Rpb24oeCkge1xuXHQgICAgcmV0dXJuIHggaW5zdGFuY2VvZiBPYnNlcnZhYmxlO1xuXHQgIH07XG5cdFxuXHQgIGFzc2VydEFycmF5ID0gZnVuY3Rpb24oeHMpIHtcblx0ICAgIGlmICghaXNBcnJheSh4cykpIHtcblx0ICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbihcIm5vdCBhbiBhcnJheSA6IFwiICsgeHMpO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIGFzc2VydE5vQXJndW1lbnRzID0gZnVuY3Rpb24oYXJncykge1xuXHQgICAgcmV0dXJuIGFzc2VydChcIm5vIGFyZ3VtZW50cyBzdXBwb3J0ZWRcIiwgYXJncy5sZW5ndGggPT09IDApO1xuXHQgIH07XG5cdFxuXHQgIGFzc2VydFN0cmluZyA9IGZ1bmN0aW9uKHgpIHtcblx0ICAgIGlmICh0eXBlb2YgeCAhPT0gXCJzdHJpbmdcIikge1xuXHQgICAgICB0aHJvdyBuZXcgRXhjZXB0aW9uKFwibm90IGEgc3RyaW5nIDogXCIgKyB4KTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICBfID0ge1xuXHQgICAgaW5kZXhPZjogQXJyYXkucHJvdG90eXBlLmluZGV4T2YgPyBmdW5jdGlvbih4cywgeCkge1xuXHQgICAgICByZXR1cm4geHMuaW5kZXhPZih4KTtcblx0ICAgIH0gOiBmdW5jdGlvbih4cywgeCkge1xuXHQgICAgICB2YXIgaSwgaiwgbGVuMSwgeTtcblx0ICAgICAgZm9yIChpID0gaiA9IDAsIGxlbjEgPSB4cy5sZW5ndGg7IGogPCBsZW4xOyBpID0gKytqKSB7XG5cdCAgICAgICAgeSA9IHhzW2ldO1xuXHQgICAgICAgIGlmICh4ID09PSB5KSB7XG5cdCAgICAgICAgICByZXR1cm4gaTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIC0xO1xuXHQgICAgfSxcblx0ICAgIGluZGV4V2hlcmU6IGZ1bmN0aW9uKHhzLCBmKSB7XG5cdCAgICAgIHZhciBpLCBqLCBsZW4xLCB5O1xuXHQgICAgICBmb3IgKGkgPSBqID0gMCwgbGVuMSA9IHhzLmxlbmd0aDsgaiA8IGxlbjE7IGkgPSArK2opIHtcblx0ICAgICAgICB5ID0geHNbaV07XG5cdCAgICAgICAgaWYgKGYoeSkpIHtcblx0ICAgICAgICAgIHJldHVybiBpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gLTE7XG5cdCAgICB9LFxuXHQgICAgaGVhZDogZnVuY3Rpb24oeHMpIHtcblx0ICAgICAgcmV0dXJuIHhzWzBdO1xuXHQgICAgfSxcblx0ICAgIGFsd2F5czogZnVuY3Rpb24oeCkge1xuXHQgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgcmV0dXJuIHg7XG5cdCAgICAgIH07XG5cdCAgICB9LFxuXHQgICAgbmVnYXRlOiBmdW5jdGlvbihmKSB7XG5cdCAgICAgIHJldHVybiBmdW5jdGlvbih4KSB7XG5cdCAgICAgICAgcmV0dXJuICFmKHgpO1xuXHQgICAgICB9O1xuXHQgICAgfSxcblx0ICAgIGVtcHR5OiBmdW5jdGlvbih4cykge1xuXHQgICAgICByZXR1cm4geHMubGVuZ3RoID09PSAwO1xuXHQgICAgfSxcblx0ICAgIHRhaWw6IGZ1bmN0aW9uKHhzKSB7XG5cdCAgICAgIHJldHVybiB4cy5zbGljZSgxLCB4cy5sZW5ndGgpO1xuXHQgICAgfSxcblx0ICAgIGZpbHRlcjogZnVuY3Rpb24oZiwgeHMpIHtcblx0ICAgICAgdmFyIGZpbHRlcmVkLCBqLCBsZW4xLCB4O1xuXHQgICAgICBmaWx0ZXJlZCA9IFtdO1xuXHQgICAgICBmb3IgKGogPSAwLCBsZW4xID0geHMubGVuZ3RoOyBqIDwgbGVuMTsgaisrKSB7XG5cdCAgICAgICAgeCA9IHhzW2pdO1xuXHQgICAgICAgIGlmIChmKHgpKSB7XG5cdCAgICAgICAgICBmaWx0ZXJlZC5wdXNoKHgpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gZmlsdGVyZWQ7XG5cdCAgICB9LFxuXHQgICAgbWFwOiBmdW5jdGlvbihmLCB4cykge1xuXHQgICAgICB2YXIgaiwgbGVuMSwgcmVzdWx0cywgeDtcblx0ICAgICAgcmVzdWx0cyA9IFtdO1xuXHQgICAgICBmb3IgKGogPSAwLCBsZW4xID0geHMubGVuZ3RoOyBqIDwgbGVuMTsgaisrKSB7XG5cdCAgICAgICAgeCA9IHhzW2pdO1xuXHQgICAgICAgIHJlc3VsdHMucHVzaChmKHgpKTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gcmVzdWx0cztcblx0ICAgIH0sXG5cdCAgICBlYWNoOiBmdW5jdGlvbih4cywgZikge1xuXHQgICAgICB2YXIga2V5LCB2YWx1ZTtcblx0ICAgICAgZm9yIChrZXkgaW4geHMpIHtcblx0ICAgICAgICBpZiAoIWhhc1Byb3AuY2FsbCh4cywga2V5KSkgY29udGludWU7XG5cdCAgICAgICAgdmFsdWUgPSB4c1trZXldO1xuXHQgICAgICAgIGYoa2V5LCB2YWx1ZSk7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIHZvaWQgMDtcblx0ICAgIH0sXG5cdCAgICB0b0FycmF5OiBmdW5jdGlvbih4cykge1xuXHQgICAgICBpZiAoaXNBcnJheSh4cykpIHtcblx0ICAgICAgICByZXR1cm4geHM7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIFt4c107XG5cdCAgICAgIH1cblx0ICAgIH0sXG5cdCAgICBjb250YWluczogZnVuY3Rpb24oeHMsIHgpIHtcblx0ICAgICAgcmV0dXJuIF8uaW5kZXhPZih4cywgeCkgIT09IC0xO1xuXHQgICAgfSxcblx0ICAgIGlkOiBmdW5jdGlvbih4KSB7XG5cdCAgICAgIHJldHVybiB4O1xuXHQgICAgfSxcblx0ICAgIGxhc3Q6IGZ1bmN0aW9uKHhzKSB7XG5cdCAgICAgIHJldHVybiB4c1t4cy5sZW5ndGggLSAxXTtcblx0ICAgIH0sXG5cdCAgICBhbGw6IGZ1bmN0aW9uKHhzLCBmKSB7XG5cdCAgICAgIHZhciBqLCBsZW4xLCB4O1xuXHQgICAgICBpZiAoZiA9PSBudWxsKSB7XG5cdCAgICAgICAgZiA9IF8uaWQ7XG5cdCAgICAgIH1cblx0ICAgICAgZm9yIChqID0gMCwgbGVuMSA9IHhzLmxlbmd0aDsgaiA8IGxlbjE7IGorKykge1xuXHQgICAgICAgIHggPSB4c1tqXTtcblx0ICAgICAgICBpZiAoIWYoeCkpIHtcblx0ICAgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICB9LFxuXHQgICAgYW55OiBmdW5jdGlvbih4cywgZikge1xuXHQgICAgICB2YXIgaiwgbGVuMSwgeDtcblx0ICAgICAgaWYgKGYgPT0gbnVsbCkge1xuXHQgICAgICAgIGYgPSBfLmlkO1xuXHQgICAgICB9XG5cdCAgICAgIGZvciAoaiA9IDAsIGxlbjEgPSB4cy5sZW5ndGg7IGogPCBsZW4xOyBqKyspIHtcblx0ICAgICAgICB4ID0geHNbal07XG5cdCAgICAgICAgaWYgKGYoeCkpIHtcblx0ICAgICAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICB9LFxuXHQgICAgd2l0aG91dDogZnVuY3Rpb24oeCwgeHMpIHtcblx0ICAgICAgcmV0dXJuIF8uZmlsdGVyKChmdW5jdGlvbih5KSB7XG5cdCAgICAgICAgcmV0dXJuIHkgIT09IHg7XG5cdCAgICAgIH0pLCB4cyk7XG5cdCAgICB9LFxuXHQgICAgcmVtb3ZlOiBmdW5jdGlvbih4LCB4cykge1xuXHQgICAgICB2YXIgaTtcblx0ICAgICAgaSA9IF8uaW5kZXhPZih4cywgeCk7XG5cdCAgICAgIGlmIChpID49IDApIHtcblx0ICAgICAgICByZXR1cm4geHMuc3BsaWNlKGksIDEpO1xuXHQgICAgICB9XG5cdCAgICB9LFxuXHQgICAgZm9sZDogZnVuY3Rpb24oeHMsIHNlZWQsIGYpIHtcblx0ICAgICAgdmFyIGosIGxlbjEsIHg7XG5cdCAgICAgIGZvciAoaiA9IDAsIGxlbjEgPSB4cy5sZW5ndGg7IGogPCBsZW4xOyBqKyspIHtcblx0ICAgICAgICB4ID0geHNbal07XG5cdCAgICAgICAgc2VlZCA9IGYoc2VlZCwgeCk7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIHNlZWQ7XG5cdCAgICB9LFxuXHQgICAgZmxhdE1hcDogZnVuY3Rpb24oZiwgeHMpIHtcblx0ICAgICAgcmV0dXJuIF8uZm9sZCh4cywgW10sIChmdW5jdGlvbih5cywgeCkge1xuXHQgICAgICAgIHJldHVybiB5cy5jb25jYXQoZih4KSk7XG5cdCAgICAgIH0pKTtcblx0ICAgIH0sXG5cdCAgICBjYWNoZWQ6IGZ1bmN0aW9uKGYpIHtcblx0ICAgICAgdmFyIHZhbHVlO1xuXHQgICAgICB2YWx1ZSA9IE5vbmU7XG5cdCAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcblx0ICAgICAgICBpZiAodmFsdWUgPT09IE5vbmUpIHtcblx0ICAgICAgICAgIHZhbHVlID0gZigpO1xuXHQgICAgICAgICAgZiA9IHZvaWQgMDtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIHZhbHVlO1xuXHQgICAgICB9O1xuXHQgICAgfSxcblx0ICAgIGlzRnVuY3Rpb246IGZ1bmN0aW9uKGYpIHtcblx0ICAgICAgcmV0dXJuIHR5cGVvZiBmID09PSBcImZ1bmN0aW9uXCI7XG5cdCAgICB9LFxuXHQgICAgdG9TdHJpbmc6IGZ1bmN0aW9uKG9iaikge1xuXHQgICAgICB2YXIgZXgsIGludGVybmFscywga2V5LCB2YWx1ZTtcblx0ICAgICAgdHJ5IHtcblx0ICAgICAgICByZWN1cnNpb25EZXB0aCsrO1xuXHQgICAgICAgIGlmIChvYmogPT0gbnVsbCkge1xuXHQgICAgICAgICAgcmV0dXJuIFwidW5kZWZpbmVkXCI7XG5cdCAgICAgICAgfSBlbHNlIGlmIChfLmlzRnVuY3Rpb24ob2JqKSkge1xuXHQgICAgICAgICAgcmV0dXJuIFwiZnVuY3Rpb25cIjtcblx0ICAgICAgICB9IGVsc2UgaWYgKGlzQXJyYXkob2JqKSkge1xuXHQgICAgICAgICAgaWYgKHJlY3Vyc2lvbkRlcHRoID4gNSkge1xuXHQgICAgICAgICAgICByZXR1cm4gXCJbLi5dXCI7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICByZXR1cm4gXCJbXCIgKyBfLm1hcChfLnRvU3RyaW5nLCBvYmopLnRvU3RyaW5nKCkgKyBcIl1cIjtcblx0ICAgICAgICB9IGVsc2UgaWYgKCgob2JqICE9IG51bGwgPyBvYmoudG9TdHJpbmcgOiB2b2lkIDApICE9IG51bGwpICYmIG9iai50b1N0cmluZyAhPT0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZykge1xuXHQgICAgICAgICAgcmV0dXJuIG9iai50b1N0cmluZygpO1xuXHQgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIG9iaiA9PT0gXCJvYmplY3RcIikge1xuXHQgICAgICAgICAgaWYgKHJlY3Vyc2lvbkRlcHRoID4gNSkge1xuXHQgICAgICAgICAgICByZXR1cm4gXCJ7Li59XCI7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICBpbnRlcm5hbHMgPSAoZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgIHZhciByZXN1bHRzO1xuXHQgICAgICAgICAgICByZXN1bHRzID0gW107XG5cdCAgICAgICAgICAgIGZvciAoa2V5IGluIG9iaikge1xuXHQgICAgICAgICAgICAgIGlmICghaGFzUHJvcC5jYWxsKG9iaiwga2V5KSkgY29udGludWU7XG5cdCAgICAgICAgICAgICAgdmFsdWUgPSAoZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgICAgICB0cnkge1xuXHQgICAgICAgICAgICAgICAgICByZXR1cm4gb2JqW2tleV07XG5cdCAgICAgICAgICAgICAgICB9IGNhdGNoIChfZXJyb3IpIHtcblx0ICAgICAgICAgICAgICAgICAgZXggPSBfZXJyb3I7XG5cdCAgICAgICAgICAgICAgICAgIHJldHVybiBleDtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICB9KSgpO1xuXHQgICAgICAgICAgICAgIHJlc3VsdHMucHVzaChfLnRvU3RyaW5nKGtleSkgKyBcIjpcIiArIF8udG9TdHJpbmcodmFsdWUpKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICByZXR1cm4gcmVzdWx0cztcblx0ICAgICAgICAgIH0pKCk7XG5cdCAgICAgICAgICByZXR1cm4gXCJ7XCIgKyBpbnRlcm5hbHMgKyBcIn1cIjtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgcmV0dXJuIG9iajtcblx0ICAgICAgICB9XG5cdCAgICAgIH0gZmluYWxseSB7XG5cdCAgICAgICAgcmVjdXJzaW9uRGVwdGgtLTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIHJlY3Vyc2lvbkRlcHRoID0gMDtcblx0XG5cdCAgQmFjb24uXyA9IF87XG5cdFxuXHQgIFVwZGF0ZUJhcnJpZXIgPSBCYWNvbi5VcGRhdGVCYXJyaWVyID0gKGZ1bmN0aW9uKCkge1xuXHQgICAgdmFyIGFmdGVyVHJhbnNhY3Rpb24sIGFmdGVycywgYWZ0ZXJzSW5kZXgsIGN1cnJlbnRFdmVudElkLCBmbHVzaCwgZmx1c2hEZXBzT2YsIGZsdXNoV2FpdGVycywgaGFzV2FpdGVycywgaW5UcmFuc2FjdGlvbiwgcm9vdEV2ZW50LCB3YWl0ZXJPYnMsIHdhaXRlcnMsIHdoZW5Eb25lV2l0aCwgd3JhcHBlZFN1YnNjcmliZTtcblx0ICAgIHJvb3RFdmVudCA9IHZvaWQgMDtcblx0ICAgIHdhaXRlck9icyA9IFtdO1xuXHQgICAgd2FpdGVycyA9IHt9O1xuXHQgICAgYWZ0ZXJzID0gW107XG5cdCAgICBhZnRlcnNJbmRleCA9IDA7XG5cdCAgICBhZnRlclRyYW5zYWN0aW9uID0gZnVuY3Rpb24oZikge1xuXHQgICAgICBpZiAocm9vdEV2ZW50KSB7XG5cdCAgICAgICAgcmV0dXJuIGFmdGVycy5wdXNoKGYpO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldHVybiBmKCk7XG5cdCAgICAgIH1cblx0ICAgIH07XG5cdCAgICB3aGVuRG9uZVdpdGggPSBmdW5jdGlvbihvYnMsIGYpIHtcblx0ICAgICAgdmFyIG9ic1dhaXRlcnM7XG5cdCAgICAgIGlmIChyb290RXZlbnQpIHtcblx0ICAgICAgICBvYnNXYWl0ZXJzID0gd2FpdGVyc1tvYnMuaWRdO1xuXHQgICAgICAgIGlmIChvYnNXYWl0ZXJzID09IG51bGwpIHtcblx0ICAgICAgICAgIG9ic1dhaXRlcnMgPSB3YWl0ZXJzW29icy5pZF0gPSBbZl07XG5cdCAgICAgICAgICByZXR1cm4gd2FpdGVyT2JzLnB1c2gob2JzKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgcmV0dXJuIG9ic1dhaXRlcnMucHVzaChmKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIGYoKTtcblx0ICAgICAgfVxuXHQgICAgfTtcblx0ICAgIGZsdXNoID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgIHdoaWxlICh3YWl0ZXJPYnMubGVuZ3RoID4gMCkge1xuXHQgICAgICAgIGZsdXNoV2FpdGVycygwKTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gdm9pZCAwO1xuXHQgICAgfTtcblx0ICAgIGZsdXNoV2FpdGVycyA9IGZ1bmN0aW9uKGluZGV4KSB7XG5cdCAgICAgIHZhciBmLCBqLCBsZW4xLCBvYnMsIG9ic0lkLCBvYnNXYWl0ZXJzO1xuXHQgICAgICBvYnMgPSB3YWl0ZXJPYnNbaW5kZXhdO1xuXHQgICAgICBvYnNJZCA9IG9icy5pZDtcblx0ICAgICAgb2JzV2FpdGVycyA9IHdhaXRlcnNbb2JzSWRdO1xuXHQgICAgICB3YWl0ZXJPYnMuc3BsaWNlKGluZGV4LCAxKTtcblx0ICAgICAgZGVsZXRlIHdhaXRlcnNbb2JzSWRdO1xuXHQgICAgICBmbHVzaERlcHNPZihvYnMpO1xuXHQgICAgICBmb3IgKGogPSAwLCBsZW4xID0gb2JzV2FpdGVycy5sZW5ndGg7IGogPCBsZW4xOyBqKyspIHtcblx0ICAgICAgICBmID0gb2JzV2FpdGVyc1tqXTtcblx0ICAgICAgICBmKCk7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIHZvaWQgMDtcblx0ICAgIH07XG5cdCAgICBmbHVzaERlcHNPZiA9IGZ1bmN0aW9uKG9icykge1xuXHQgICAgICB2YXIgZGVwLCBkZXBzLCBpbmRleCwgaiwgbGVuMTtcblx0ICAgICAgZGVwcyA9IG9icy5pbnRlcm5hbERlcHMoKTtcblx0ICAgICAgZm9yIChqID0gMCwgbGVuMSA9IGRlcHMubGVuZ3RoOyBqIDwgbGVuMTsgaisrKSB7XG5cdCAgICAgICAgZGVwID0gZGVwc1tqXTtcblx0ICAgICAgICBmbHVzaERlcHNPZihkZXApO1xuXHQgICAgICAgIGlmICh3YWl0ZXJzW2RlcC5pZF0pIHtcblx0ICAgICAgICAgIGluZGV4ID0gXy5pbmRleE9mKHdhaXRlck9icywgZGVwKTtcblx0ICAgICAgICAgIGZsdXNoV2FpdGVycyhpbmRleCk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiB2b2lkIDA7XG5cdCAgICB9O1xuXHQgICAgaW5UcmFuc2FjdGlvbiA9IGZ1bmN0aW9uKGV2ZW50LCBjb250ZXh0LCBmLCBhcmdzKSB7XG5cdCAgICAgIHZhciBhZnRlciwgcmVzdWx0O1xuXHQgICAgICBpZiAocm9vdEV2ZW50KSB7XG5cdCAgICAgICAgcmV0dXJuIGYuYXBwbHkoY29udGV4dCwgYXJncyk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcm9vdEV2ZW50ID0gZXZlbnQ7XG5cdCAgICAgICAgdHJ5IHtcblx0ICAgICAgICAgIHJlc3VsdCA9IGYuYXBwbHkoY29udGV4dCwgYXJncyk7XG5cdCAgICAgICAgICBmbHVzaCgpO1xuXHQgICAgICAgIH0gZmluYWxseSB7XG5cdCAgICAgICAgICByb290RXZlbnQgPSB2b2lkIDA7XG5cdCAgICAgICAgICB3aGlsZSAoYWZ0ZXJzSW5kZXggPCBhZnRlcnMubGVuZ3RoKSB7XG5cdCAgICAgICAgICAgIGFmdGVyID0gYWZ0ZXJzW2FmdGVyc0luZGV4XTtcblx0ICAgICAgICAgICAgYWZ0ZXJzSW5kZXgrKztcblx0ICAgICAgICAgICAgYWZ0ZXIoKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIGFmdGVyc0luZGV4ID0gMDtcblx0ICAgICAgICAgIGFmdGVycyA9IFtdO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gcmVzdWx0O1xuXHQgICAgICB9XG5cdCAgICB9O1xuXHQgICAgY3VycmVudEV2ZW50SWQgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgaWYgKHJvb3RFdmVudCkge1xuXHQgICAgICAgIHJldHVybiByb290RXZlbnQuaWQ7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIHZvaWQgMDtcblx0ICAgICAgfVxuXHQgICAgfTtcblx0ICAgIHdyYXBwZWRTdWJzY3JpYmUgPSBmdW5jdGlvbihvYnMsIHNpbmspIHtcblx0ICAgICAgdmFyIGRvVW5zdWIsIHNob3VsZFVuc3ViLCB1bnN1YiwgdW5zdWJkO1xuXHQgICAgICB1bnN1YmQgPSBmYWxzZTtcblx0ICAgICAgc2hvdWxkVW5zdWIgPSBmYWxzZTtcblx0ICAgICAgZG9VbnN1YiA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHJldHVybiBzaG91bGRVbnN1YiA9IHRydWU7XG5cdCAgICAgIH07XG5cdCAgICAgIHVuc3ViID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgdW5zdWJkID0gdHJ1ZTtcblx0ICAgICAgICByZXR1cm4gZG9VbnN1YigpO1xuXHQgICAgICB9O1xuXHQgICAgICBkb1Vuc3ViID0gb2JzLmRpc3BhdGNoZXIuc3Vic2NyaWJlKGZ1bmN0aW9uKGV2ZW50KSB7XG5cdCAgICAgICAgcmV0dXJuIGFmdGVyVHJhbnNhY3Rpb24oZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICB2YXIgcmVwbHk7XG5cdCAgICAgICAgICBpZiAoIXVuc3ViZCkge1xuXHQgICAgICAgICAgICByZXBseSA9IHNpbmsoZXZlbnQpO1xuXHQgICAgICAgICAgICBpZiAocmVwbHkgPT09IEJhY29uLm5vTW9yZSkge1xuXHQgICAgICAgICAgICAgIHJldHVybiB1bnN1YigpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfSk7XG5cdCAgICAgIH0pO1xuXHQgICAgICBpZiAoc2hvdWxkVW5zdWIpIHtcblx0ICAgICAgICBkb1Vuc3ViKCk7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIHVuc3ViO1xuXHQgICAgfTtcblx0ICAgIGhhc1dhaXRlcnMgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgcmV0dXJuIHdhaXRlck9icy5sZW5ndGggPiAwO1xuXHQgICAgfTtcblx0ICAgIHJldHVybiB7XG5cdCAgICAgIHdoZW5Eb25lV2l0aDogd2hlbkRvbmVXaXRoLFxuXHQgICAgICBoYXNXYWl0ZXJzOiBoYXNXYWl0ZXJzLFxuXHQgICAgICBpblRyYW5zYWN0aW9uOiBpblRyYW5zYWN0aW9uLFxuXHQgICAgICBjdXJyZW50RXZlbnRJZDogY3VycmVudEV2ZW50SWQsXG5cdCAgICAgIHdyYXBwZWRTdWJzY3JpYmU6IHdyYXBwZWRTdWJzY3JpYmUsXG5cdCAgICAgIGFmdGVyVHJhbnNhY3Rpb246IGFmdGVyVHJhbnNhY3Rpb25cblx0ICAgIH07XG5cdCAgfSkoKTtcblx0XG5cdCAgU291cmNlID0gKGZ1bmN0aW9uKCkge1xuXHQgICAgZnVuY3Rpb24gU291cmNlKG9iczEsIHN5bmMsIGxhenkxKSB7XG5cdCAgICAgIHRoaXMub2JzID0gb2JzMTtcblx0ICAgICAgdGhpcy5zeW5jID0gc3luYztcblx0ICAgICAgdGhpcy5sYXp5ID0gbGF6eTEgIT0gbnVsbCA/IGxhenkxIDogZmFsc2U7XG5cdCAgICAgIHRoaXMucXVldWUgPSBbXTtcblx0ICAgIH1cblx0XG5cdCAgICBTb3VyY2UucHJvdG90eXBlLnN1YnNjcmliZSA9IGZ1bmN0aW9uKHNpbmspIHtcblx0ICAgICAgcmV0dXJuIHRoaXMub2JzLmRpc3BhdGNoZXIuc3Vic2NyaWJlKHNpbmspO1xuXHQgICAgfTtcblx0XG5cdCAgICBTb3VyY2UucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLm9icy50b1N0cmluZygpO1xuXHQgICAgfTtcblx0XG5cdCAgICBTb3VyY2UucHJvdG90eXBlLm1hcmtFbmRlZCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICByZXR1cm4gdGhpcy5lbmRlZCA9IHRydWU7XG5cdCAgICB9O1xuXHRcblx0ICAgIFNvdXJjZS5wcm90b3R5cGUuY29uc3VtZSA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICBpZiAodGhpcy5sYXp5KSB7XG5cdCAgICAgICAgcmV0dXJuIHtcblx0ICAgICAgICAgIHZhbHVlOiBfLmFsd2F5cyh0aGlzLnF1ZXVlWzBdKVxuXHQgICAgICAgIH07XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMucXVldWVbMF07XG5cdCAgICAgIH1cblx0ICAgIH07XG5cdFxuXHQgICAgU291cmNlLnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24oeCkge1xuXHQgICAgICByZXR1cm4gdGhpcy5xdWV1ZSA9IFt4XTtcblx0ICAgIH07XG5cdFxuXHQgICAgU291cmNlLnByb3RvdHlwZS5tYXlIYXZlID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgfTtcblx0XG5cdCAgICBTb3VyY2UucHJvdG90eXBlLmhhc0F0TGVhc3QgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMucXVldWUubGVuZ3RoO1xuXHQgICAgfTtcblx0XG5cdCAgICBTb3VyY2UucHJvdG90eXBlLmZsYXR0ZW4gPSB0cnVlO1xuXHRcblx0ICAgIHJldHVybiBTb3VyY2U7XG5cdFxuXHQgIH0pKCk7XG5cdFxuXHQgIENvbnN1bWluZ1NvdXJjZSA9IChmdW5jdGlvbihzdXBlckNsYXNzKSB7XG5cdCAgICBleHRlbmQoQ29uc3VtaW5nU291cmNlLCBzdXBlckNsYXNzKTtcblx0XG5cdCAgICBmdW5jdGlvbiBDb25zdW1pbmdTb3VyY2UoKSB7XG5cdCAgICAgIHJldHVybiBDb25zdW1pbmdTb3VyY2UuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdCAgICB9XG5cdFxuXHQgICAgQ29uc3VtaW5nU291cmNlLnByb3RvdHlwZS5jb25zdW1lID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLnF1ZXVlLnNoaWZ0KCk7XG5cdCAgICB9O1xuXHRcblx0ICAgIENvbnN1bWluZ1NvdXJjZS5wcm90b3R5cGUucHVzaCA9IGZ1bmN0aW9uKHgpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMucXVldWUucHVzaCh4KTtcblx0ICAgIH07XG5cdFxuXHQgICAgQ29uc3VtaW5nU291cmNlLnByb3RvdHlwZS5tYXlIYXZlID0gZnVuY3Rpb24oYykge1xuXHQgICAgICByZXR1cm4gIXRoaXMuZW5kZWQgfHwgdGhpcy5xdWV1ZS5sZW5ndGggPj0gYztcblx0ICAgIH07XG5cdFxuXHQgICAgQ29uc3VtaW5nU291cmNlLnByb3RvdHlwZS5oYXNBdExlYXN0ID0gZnVuY3Rpb24oYykge1xuXHQgICAgICByZXR1cm4gdGhpcy5xdWV1ZS5sZW5ndGggPj0gYztcblx0ICAgIH07XG5cdFxuXHQgICAgQ29uc3VtaW5nU291cmNlLnByb3RvdHlwZS5mbGF0dGVuID0gZmFsc2U7XG5cdFxuXHQgICAgcmV0dXJuIENvbnN1bWluZ1NvdXJjZTtcblx0XG5cdCAgfSkoU291cmNlKTtcblx0XG5cdCAgQnVmZmVyaW5nU291cmNlID0gKGZ1bmN0aW9uKHN1cGVyQ2xhc3MpIHtcblx0ICAgIGV4dGVuZChCdWZmZXJpbmdTb3VyY2UsIHN1cGVyQ2xhc3MpO1xuXHRcblx0ICAgIGZ1bmN0aW9uIEJ1ZmZlcmluZ1NvdXJjZShvYnMpIHtcblx0ICAgICAgQnVmZmVyaW5nU291cmNlLl9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsIG9icywgdHJ1ZSk7XG5cdCAgICB9XG5cdFxuXHQgICAgQnVmZmVyaW5nU291cmNlLnByb3RvdHlwZS5jb25zdW1lID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgIHZhciB2YWx1ZXM7XG5cdCAgICAgIHZhbHVlcyA9IHRoaXMucXVldWU7XG5cdCAgICAgIHRoaXMucXVldWUgPSBbXTtcblx0ICAgICAgcmV0dXJuIHtcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICByZXR1cm4gdmFsdWVzO1xuXHQgICAgICAgIH1cblx0ICAgICAgfTtcblx0ICAgIH07XG5cdFxuXHQgICAgQnVmZmVyaW5nU291cmNlLnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24oeCkge1xuXHQgICAgICByZXR1cm4gdGhpcy5xdWV1ZS5wdXNoKHgudmFsdWUoKSk7XG5cdCAgICB9O1xuXHRcblx0ICAgIEJ1ZmZlcmluZ1NvdXJjZS5wcm90b3R5cGUuaGFzQXRMZWFzdCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgIH07XG5cdFxuXHQgICAgcmV0dXJuIEJ1ZmZlcmluZ1NvdXJjZTtcblx0XG5cdCAgfSkoU291cmNlKTtcblx0XG5cdCAgU291cmNlLmlzVHJpZ2dlciA9IGZ1bmN0aW9uKHMpIHtcblx0ICAgIGlmIChzIGluc3RhbmNlb2YgU291cmNlKSB7XG5cdCAgICAgIHJldHVybiBzLnN5bmM7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICByZXR1cm4gcyBpbnN0YW5jZW9mIEV2ZW50U3RyZWFtO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIFNvdXJjZS5mcm9tT2JzZXJ2YWJsZSA9IGZ1bmN0aW9uKHMpIHtcblx0ICAgIGlmIChzIGluc3RhbmNlb2YgU291cmNlKSB7XG5cdCAgICAgIHJldHVybiBzO1xuXHQgICAgfSBlbHNlIGlmIChzIGluc3RhbmNlb2YgUHJvcGVydHkpIHtcblx0ICAgICAgcmV0dXJuIG5ldyBTb3VyY2UocywgZmFsc2UpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcmV0dXJuIG5ldyBDb25zdW1pbmdTb3VyY2UocywgdHJ1ZSk7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgRGVzYyA9IChmdW5jdGlvbigpIHtcblx0ICAgIGZ1bmN0aW9uIERlc2MoY29udGV4dDEsIG1ldGhvZDEsIGFyZ3MxKSB7XG5cdCAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQxO1xuXHQgICAgICB0aGlzLm1ldGhvZCA9IG1ldGhvZDE7XG5cdCAgICAgIHRoaXMuYXJncyA9IGFyZ3MxO1xuXHQgICAgfVxuXHRcblx0ICAgIERlc2MucHJvdG90eXBlLmRlcHMgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMuY2FjaGVkIHx8ICh0aGlzLmNhY2hlZCA9IGZpbmREZXBzKFt0aGlzLmNvbnRleHRdLmNvbmNhdCh0aGlzLmFyZ3MpKSk7XG5cdCAgICB9O1xuXHRcblx0ICAgIERlc2MucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgIHJldHVybiBfLnRvU3RyaW5nKHRoaXMuY29udGV4dCkgKyBcIi5cIiArIF8udG9TdHJpbmcodGhpcy5tZXRob2QpICsgXCIoXCIgKyBfLm1hcChfLnRvU3RyaW5nLCB0aGlzLmFyZ3MpICsgXCIpXCI7XG5cdCAgICB9O1xuXHRcblx0ICAgIHJldHVybiBEZXNjO1xuXHRcblx0ICB9KSgpO1xuXHRcblx0ICBkZXNjcmliZSA9IGZ1bmN0aW9uKCkge1xuXHQgICAgdmFyIGFyZ3MsIGNvbnRleHQsIG1ldGhvZDtcblx0ICAgIGNvbnRleHQgPSBhcmd1bWVudHNbMF0sIG1ldGhvZCA9IGFyZ3VtZW50c1sxXSwgYXJncyA9IDMgPD0gYXJndW1lbnRzLmxlbmd0aCA/IHNsaWNlLmNhbGwoYXJndW1lbnRzLCAyKSA6IFtdO1xuXHQgICAgaWYgKChjb250ZXh0IHx8IG1ldGhvZCkgaW5zdGFuY2VvZiBEZXNjKSB7XG5cdCAgICAgIHJldHVybiBjb250ZXh0IHx8IG1ldGhvZDtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiBuZXcgRGVzYyhjb250ZXh0LCBtZXRob2QsIGFyZ3MpO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIHdpdGhEZXNjID0gZnVuY3Rpb24oZGVzYywgb2JzKSB7XG5cdCAgICBvYnMuZGVzYyA9IGRlc2M7XG5cdCAgICByZXR1cm4gb2JzO1xuXHQgIH07XG5cdFxuXHQgIGZpbmREZXBzID0gZnVuY3Rpb24oeCkge1xuXHQgICAgaWYgKGlzQXJyYXkoeCkpIHtcblx0ICAgICAgcmV0dXJuIF8uZmxhdE1hcChmaW5kRGVwcywgeCk7XG5cdCAgICB9IGVsc2UgaWYgKGlzT2JzZXJ2YWJsZSh4KSkge1xuXHQgICAgICByZXR1cm4gW3hdO1xuXHQgICAgfSBlbHNlIGlmICh4IGluc3RhbmNlb2YgU291cmNlKSB7XG5cdCAgICAgIHJldHVybiBbeC5vYnNdO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcmV0dXJuIFtdO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIEJhY29uLkRlc2MgPSBEZXNjO1xuXHRcblx0ICBCYWNvbi5EZXNjLmVtcHR5ID0gbmV3IEJhY29uLkRlc2MoXCJcIiwgXCJcIiwgW10pO1xuXHRcblx0ICB3aXRoTWV0aG9kQ2FsbFN1cHBvcnQgPSBmdW5jdGlvbih3cmFwcGVkKSB7XG5cdCAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG5cdCAgICAgIHZhciBhcmdzLCBjb250ZXh0LCBmLCBtZXRob2ROYW1lO1xuXHQgICAgICBmID0gYXJndW1lbnRzWzBdLCBhcmdzID0gMiA8PSBhcmd1bWVudHMubGVuZ3RoID8gc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpIDogW107XG5cdCAgICAgIGlmICh0eXBlb2YgZiA9PT0gXCJvYmplY3RcIiAmJiBhcmdzLmxlbmd0aCkge1xuXHQgICAgICAgIGNvbnRleHQgPSBmO1xuXHQgICAgICAgIG1ldGhvZE5hbWUgPSBhcmdzWzBdO1xuXHQgICAgICAgIGYgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgIHJldHVybiBjb250ZXh0W21ldGhvZE5hbWVdLmFwcGx5KGNvbnRleHQsIGFyZ3VtZW50cyk7XG5cdCAgICAgICAgfTtcblx0ICAgICAgICBhcmdzID0gYXJncy5zbGljZSgxKTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gd3JhcHBlZC5hcHBseShudWxsLCBbZl0uY29uY2F0KHNsaWNlLmNhbGwoYXJncykpKTtcblx0ICAgIH07XG5cdCAgfTtcblx0XG5cdCAgbWFrZUZ1bmN0aW9uQXJncyA9IGZ1bmN0aW9uKGFyZ3MpIHtcblx0ICAgIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmdzKTtcblx0ICAgIHJldHVybiBtYWtlRnVuY3Rpb25fLmFwcGx5KG51bGwsIGFyZ3MpO1xuXHQgIH07XG5cdFxuXHQgIHBhcnRpYWxseUFwcGxpZWQgPSBmdW5jdGlvbihmLCBhcHBsaWVkKSB7XG5cdCAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG5cdCAgICAgIHZhciBhcmdzO1xuXHQgICAgICBhcmdzID0gMSA8PSBhcmd1bWVudHMubGVuZ3RoID8gc2xpY2UuY2FsbChhcmd1bWVudHMsIDApIDogW107XG5cdCAgICAgIHJldHVybiBmLmFwcGx5KG51bGwsIGFwcGxpZWQuY29uY2F0KGFyZ3MpKTtcblx0ICAgIH07XG5cdCAgfTtcblx0XG5cdCAgdG9TaW1wbGVFeHRyYWN0b3IgPSBmdW5jdGlvbihhcmdzKSB7XG5cdCAgICByZXR1cm4gZnVuY3Rpb24oa2V5KSB7XG5cdCAgICAgIHJldHVybiBmdW5jdGlvbih2YWx1ZSkge1xuXHQgICAgICAgIHZhciBmaWVsZFZhbHVlO1xuXHQgICAgICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG5cdCAgICAgICAgICByZXR1cm4gdm9pZCAwO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICBmaWVsZFZhbHVlID0gdmFsdWVba2V5XTtcblx0ICAgICAgICAgIGlmIChfLmlzRnVuY3Rpb24oZmllbGRWYWx1ZSkpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGZpZWxkVmFsdWUuYXBwbHkodmFsdWUsIGFyZ3MpO1xuXHQgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGZpZWxkVmFsdWU7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICB9O1xuXHQgICAgfTtcblx0ICB9O1xuXHRcblx0ICB0b0ZpZWxkRXh0cmFjdG9yID0gZnVuY3Rpb24oZiwgYXJncykge1xuXHQgICAgdmFyIHBhcnRGdW5jcywgcGFydHM7XG5cdCAgICBwYXJ0cyA9IGYuc2xpY2UoMSkuc3BsaXQoXCIuXCIpO1xuXHQgICAgcGFydEZ1bmNzID0gXy5tYXAodG9TaW1wbGVFeHRyYWN0b3IoYXJncyksIHBhcnRzKTtcblx0ICAgIHJldHVybiBmdW5jdGlvbih2YWx1ZSkge1xuXHQgICAgICB2YXIgaiwgbGVuMTtcblx0ICAgICAgZm9yIChqID0gMCwgbGVuMSA9IHBhcnRGdW5jcy5sZW5ndGg7IGogPCBsZW4xOyBqKyspIHtcblx0ICAgICAgICBmID0gcGFydEZ1bmNzW2pdO1xuXHQgICAgICAgIHZhbHVlID0gZih2YWx1ZSk7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIHZhbHVlO1xuXHQgICAgfTtcblx0ICB9O1xuXHRcblx0ICBpc0ZpZWxkS2V5ID0gZnVuY3Rpb24oZikge1xuXHQgICAgcmV0dXJuICh0eXBlb2YgZiA9PT0gXCJzdHJpbmdcIikgJiYgZi5sZW5ndGggPiAxICYmIGYuY2hhckF0KDApID09PSBcIi5cIjtcblx0ICB9O1xuXHRcblx0ICBtYWtlRnVuY3Rpb25fID0gd2l0aE1ldGhvZENhbGxTdXBwb3J0KGZ1bmN0aW9uKCkge1xuXHQgICAgdmFyIGFyZ3MsIGY7XG5cdCAgICBmID0gYXJndW1lbnRzWzBdLCBhcmdzID0gMiA8PSBhcmd1bWVudHMubGVuZ3RoID8gc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpIDogW107XG5cdCAgICBpZiAoXy5pc0Z1bmN0aW9uKGYpKSB7XG5cdCAgICAgIGlmIChhcmdzLmxlbmd0aCkge1xuXHQgICAgICAgIHJldHVybiBwYXJ0aWFsbHlBcHBsaWVkKGYsIGFyZ3MpO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldHVybiBmO1xuXHQgICAgICB9XG5cdCAgICB9IGVsc2UgaWYgKGlzRmllbGRLZXkoZikpIHtcblx0ICAgICAgcmV0dXJuIHRvRmllbGRFeHRyYWN0b3IoZiwgYXJncyk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICByZXR1cm4gXy5hbHdheXMoZik7XG5cdCAgICB9XG5cdCAgfSk7XG5cdFxuXHQgIG1ha2VGdW5jdGlvbiA9IGZ1bmN0aW9uKGYsIGFyZ3MpIHtcblx0ICAgIHJldHVybiBtYWtlRnVuY3Rpb25fLmFwcGx5KG51bGwsIFtmXS5jb25jYXQoc2xpY2UuY2FsbChhcmdzKSkpO1xuXHQgIH07XG5cdFxuXHQgIGNvbnZlcnRBcmdzVG9GdW5jdGlvbiA9IGZ1bmN0aW9uKG9icywgZiwgYXJncywgbWV0aG9kKSB7XG5cdCAgICB2YXIgc2FtcGxlZDtcblx0ICAgIGlmIChmIGluc3RhbmNlb2YgUHJvcGVydHkpIHtcblx0ICAgICAgc2FtcGxlZCA9IGYuc2FtcGxlZEJ5KG9icywgZnVuY3Rpb24ocCwgcykge1xuXHQgICAgICAgIHJldHVybiBbcCwgc107XG5cdCAgICAgIH0pO1xuXHQgICAgICByZXR1cm4gbWV0aG9kLmNhbGwoc2FtcGxlZCwgZnVuY3Rpb24oYXJnKSB7XG5cdCAgICAgICAgdmFyIHAsIHM7XG5cdCAgICAgICAgcCA9IGFyZ1swXSwgcyA9IGFyZ1sxXTtcblx0ICAgICAgICByZXR1cm4gcDtcblx0ICAgICAgfSkubWFwKGZ1bmN0aW9uKGFyZykge1xuXHQgICAgICAgIHZhciBwLCBzO1xuXHQgICAgICAgIHAgPSBhcmdbMF0sIHMgPSBhcmdbMV07XG5cdCAgICAgICAgcmV0dXJuIHM7XG5cdCAgICAgIH0pO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgZiA9IG1ha2VGdW5jdGlvbihmLCBhcmdzKTtcblx0ICAgICAgcmV0dXJuIG1ldGhvZC5jYWxsKG9icywgZik7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgdG9Db21iaW5hdG9yID0gZnVuY3Rpb24oZikge1xuXHQgICAgdmFyIGtleTtcblx0ICAgIGlmIChfLmlzRnVuY3Rpb24oZikpIHtcblx0ICAgICAgcmV0dXJuIGY7XG5cdCAgICB9IGVsc2UgaWYgKGlzRmllbGRLZXkoZikpIHtcblx0ICAgICAga2V5ID0gdG9GaWVsZEtleShmKTtcblx0ICAgICAgcmV0dXJuIGZ1bmN0aW9uKGxlZnQsIHJpZ2h0KSB7XG5cdCAgICAgICAgcmV0dXJuIGxlZnRba2V5XShyaWdodCk7XG5cdCAgICAgIH07XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICB0aHJvdyBuZXcgRXhjZXB0aW9uKFwibm90IGEgZnVuY3Rpb24gb3IgYSBmaWVsZCBrZXk6IFwiICsgZik7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgdG9GaWVsZEtleSA9IGZ1bmN0aW9uKGYpIHtcblx0ICAgIHJldHVybiBmLnNsaWNlKDEpO1xuXHQgIH07XG5cdFxuXHQgIFNvbWUgPSAoZnVuY3Rpb24oKSB7XG5cdCAgICBmdW5jdGlvbiBTb21lKHZhbHVlMSkge1xuXHQgICAgICB0aGlzLnZhbHVlID0gdmFsdWUxO1xuXHQgICAgfVxuXHRcblx0ICAgIFNvbWUucHJvdG90eXBlLmdldE9yRWxzZSA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICByZXR1cm4gdGhpcy52YWx1ZTtcblx0ICAgIH07XG5cdFxuXHQgICAgU29tZS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLnZhbHVlO1xuXHQgICAgfTtcblx0XG5cdCAgICBTb21lLnByb3RvdHlwZS5maWx0ZXIgPSBmdW5jdGlvbihmKSB7XG5cdCAgICAgIGlmIChmKHRoaXMudmFsdWUpKSB7XG5cdCAgICAgICAgcmV0dXJuIG5ldyBTb21lKHRoaXMudmFsdWUpO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldHVybiBOb25lO1xuXHQgICAgICB9XG5cdCAgICB9O1xuXHRcblx0ICAgIFNvbWUucHJvdG90eXBlLm1hcCA9IGZ1bmN0aW9uKGYpIHtcblx0ICAgICAgcmV0dXJuIG5ldyBTb21lKGYodGhpcy52YWx1ZSkpO1xuXHQgICAgfTtcblx0XG5cdCAgICBTb21lLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24oZikge1xuXHQgICAgICByZXR1cm4gZih0aGlzLnZhbHVlKTtcblx0ICAgIH07XG5cdFxuXHQgICAgU29tZS5wcm90b3R5cGUuaXNEZWZpbmVkID0gdHJ1ZTtcblx0XG5cdCAgICBTb21lLnByb3RvdHlwZS50b0FycmF5ID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgIHJldHVybiBbdGhpcy52YWx1ZV07XG5cdCAgICB9O1xuXHRcblx0ICAgIFNvbWUucHJvdG90eXBlLmluc3BlY3QgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgcmV0dXJuIFwiU29tZShcIiArIHRoaXMudmFsdWUgKyBcIilcIjtcblx0ICAgIH07XG5cdFxuXHQgICAgU29tZS5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMuaW5zcGVjdCgpO1xuXHQgICAgfTtcblx0XG5cdCAgICByZXR1cm4gU29tZTtcblx0XG5cdCAgfSkoKTtcblx0XG5cdCAgTm9uZSA9IHtcblx0ICAgIGdldE9yRWxzZTogZnVuY3Rpb24odmFsdWUpIHtcblx0ICAgICAgcmV0dXJuIHZhbHVlO1xuXHQgICAgfSxcblx0ICAgIGZpbHRlcjogZnVuY3Rpb24oKSB7XG5cdCAgICAgIHJldHVybiBOb25lO1xuXHQgICAgfSxcblx0ICAgIG1hcDogZnVuY3Rpb24oKSB7XG5cdCAgICAgIHJldHVybiBOb25lO1xuXHQgICAgfSxcblx0ICAgIGZvckVhY2g6IGZ1bmN0aW9uKCkge30sXG5cdCAgICBpc0RlZmluZWQ6IGZhbHNlLFxuXHQgICAgdG9BcnJheTogZnVuY3Rpb24oKSB7XG5cdCAgICAgIHJldHVybiBbXTtcblx0ICAgIH0sXG5cdCAgICBpbnNwZWN0OiBmdW5jdGlvbigpIHtcblx0ICAgICAgcmV0dXJuIFwiTm9uZVwiO1xuXHQgICAgfSxcblx0ICAgIHRvU3RyaW5nOiBmdW5jdGlvbigpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMuaW5zcGVjdCgpO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIHRvT3B0aW9uID0gZnVuY3Rpb24odikge1xuXHQgICAgaWYgKHYgaW5zdGFuY2VvZiBTb21lIHx8IHYgPT09IE5vbmUpIHtcblx0ICAgICAgcmV0dXJuIHY7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICByZXR1cm4gbmV3IFNvbWUodik7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgQmFjb24ubm9Nb3JlID0gW1wiPG5vLW1vcmU+XCJdO1xuXHRcblx0ICBCYWNvbi5tb3JlID0gW1wiPG1vcmU+XCJdO1xuXHRcblx0ICBldmVudElkQ291bnRlciA9IDA7XG5cdFxuXHQgIEV2ZW50ID0gKGZ1bmN0aW9uKCkge1xuXHQgICAgZnVuY3Rpb24gRXZlbnQoKSB7XG5cdCAgICAgIHRoaXMuaWQgPSArK2V2ZW50SWRDb3VudGVyO1xuXHQgICAgfVxuXHRcblx0ICAgIEV2ZW50LnByb3RvdHlwZS5pc0V2ZW50ID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgfTtcblx0XG5cdCAgICBFdmVudC5wcm90b3R5cGUuaXNFbmQgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgfTtcblx0XG5cdCAgICBFdmVudC5wcm90b3R5cGUuaXNJbml0aWFsID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgIH07XG5cdFxuXHQgICAgRXZlbnQucHJvdG90eXBlLmlzTmV4dCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICB9O1xuXHRcblx0ICAgIEV2ZW50LnByb3RvdHlwZS5pc0Vycm9yID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgIH07XG5cdFxuXHQgICAgRXZlbnQucHJvdG90eXBlLmhhc1ZhbHVlID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgIH07XG5cdFxuXHQgICAgRXZlbnQucHJvdG90eXBlLmZpbHRlciA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgIH07XG5cdFxuXHQgICAgRXZlbnQucHJvdG90eXBlLmluc3BlY3QgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMudG9TdHJpbmcoKTtcblx0ICAgIH07XG5cdFxuXHQgICAgRXZlbnQucHJvdG90eXBlLmxvZyA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICByZXR1cm4gdGhpcy50b1N0cmluZygpO1xuXHQgICAgfTtcblx0XG5cdCAgICByZXR1cm4gRXZlbnQ7XG5cdFxuXHQgIH0pKCk7XG5cdFxuXHQgIE5leHQgPSAoZnVuY3Rpb24oc3VwZXJDbGFzcykge1xuXHQgICAgZXh0ZW5kKE5leHQsIHN1cGVyQ2xhc3MpO1xuXHRcblx0ICAgIGZ1bmN0aW9uIE5leHQodmFsdWVGLCBlYWdlcikge1xuXHQgICAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgTmV4dCkpIHtcblx0ICAgICAgICByZXR1cm4gbmV3IE5leHQodmFsdWVGLCBlYWdlcik7XG5cdCAgICAgIH1cblx0ICAgICAgTmV4dC5fX3N1cGVyX18uY29uc3RydWN0b3IuY2FsbCh0aGlzKTtcblx0ICAgICAgaWYgKCFlYWdlciAmJiBfLmlzRnVuY3Rpb24odmFsdWVGKSB8fCB2YWx1ZUYgaW5zdGFuY2VvZiBOZXh0KSB7XG5cdCAgICAgICAgdGhpcy52YWx1ZUYgPSB2YWx1ZUY7XG5cdCAgICAgICAgdGhpcy52YWx1ZUludGVybmFsID0gdm9pZCAwO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHRoaXMudmFsdWVGID0gdm9pZCAwO1xuXHQgICAgICAgIHRoaXMudmFsdWVJbnRlcm5hbCA9IHZhbHVlRjtcblx0ICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIE5leHQucHJvdG90eXBlLmlzTmV4dCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgIH07XG5cdFxuXHQgICAgTmV4dC5wcm90b3R5cGUuaGFzVmFsdWUgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICB9O1xuXHRcblx0ICAgIE5leHQucHJvdG90eXBlLnZhbHVlID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgIGlmICh0aGlzLnZhbHVlRiBpbnN0YW5jZW9mIE5leHQpIHtcblx0ICAgICAgICB0aGlzLnZhbHVlSW50ZXJuYWwgPSB0aGlzLnZhbHVlRi52YWx1ZSgpO1xuXHQgICAgICAgIHRoaXMudmFsdWVGID0gdm9pZCAwO1xuXHQgICAgICB9IGVsc2UgaWYgKHRoaXMudmFsdWVGKSB7XG5cdCAgICAgICAgdGhpcy52YWx1ZUludGVybmFsID0gdGhpcy52YWx1ZUYoKTtcblx0ICAgICAgICB0aGlzLnZhbHVlRiA9IHZvaWQgMDtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gdGhpcy52YWx1ZUludGVybmFsO1xuXHQgICAgfTtcblx0XG5cdCAgICBOZXh0LnByb3RvdHlwZS5mbWFwID0gZnVuY3Rpb24oZikge1xuXHQgICAgICB2YXIgZXZlbnQsIHZhbHVlO1xuXHQgICAgICBpZiAodGhpcy52YWx1ZUludGVybmFsKSB7XG5cdCAgICAgICAgdmFsdWUgPSB0aGlzLnZhbHVlSW50ZXJuYWw7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMuYXBwbHkoZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICByZXR1cm4gZih2YWx1ZSk7XG5cdCAgICAgICAgfSk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgZXZlbnQgPSB0aGlzO1xuXHQgICAgICAgIHJldHVybiB0aGlzLmFwcGx5KGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgcmV0dXJuIGYoZXZlbnQudmFsdWUoKSk7XG5cdCAgICAgICAgfSk7XG5cdCAgICAgIH1cblx0ICAgIH07XG5cdFxuXHQgICAgTmV4dC5wcm90b3R5cGUuYXBwbHkgPSBmdW5jdGlvbih2YWx1ZSkge1xuXHQgICAgICByZXR1cm4gbmV3IE5leHQodmFsdWUpO1xuXHQgICAgfTtcblx0XG5cdCAgICBOZXh0LnByb3RvdHlwZS5maWx0ZXIgPSBmdW5jdGlvbihmKSB7XG5cdCAgICAgIHJldHVybiBmKHRoaXMudmFsdWUoKSk7XG5cdCAgICB9O1xuXHRcblx0ICAgIE5leHQucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgIHJldHVybiBfLnRvU3RyaW5nKHRoaXMudmFsdWUoKSk7XG5cdCAgICB9O1xuXHRcblx0ICAgIE5leHQucHJvdG90eXBlLmxvZyA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICByZXR1cm4gdGhpcy52YWx1ZSgpO1xuXHQgICAgfTtcblx0XG5cdCAgICByZXR1cm4gTmV4dDtcblx0XG5cdCAgfSkoRXZlbnQpO1xuXHRcblx0ICBJbml0aWFsID0gKGZ1bmN0aW9uKHN1cGVyQ2xhc3MpIHtcblx0ICAgIGV4dGVuZChJbml0aWFsLCBzdXBlckNsYXNzKTtcblx0XG5cdCAgICBmdW5jdGlvbiBJbml0aWFsKHZhbHVlRiwgZWFnZXIpIHtcblx0ICAgICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIEluaXRpYWwpKSB7XG5cdCAgICAgICAgcmV0dXJuIG5ldyBJbml0aWFsKHZhbHVlRiwgZWFnZXIpO1xuXHQgICAgICB9XG5cdCAgICAgIEluaXRpYWwuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmNhbGwodGhpcywgdmFsdWVGLCBlYWdlcik7XG5cdCAgICB9XG5cdFxuXHQgICAgSW5pdGlhbC5wcm90b3R5cGUuaXNJbml0aWFsID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgfTtcblx0XG5cdCAgICBJbml0aWFsLnByb3RvdHlwZS5pc05leHQgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgfTtcblx0XG5cdCAgICBJbml0aWFsLnByb3RvdHlwZS5hcHBseSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG5cdCAgICAgIHJldHVybiBuZXcgSW5pdGlhbCh2YWx1ZSk7XG5cdCAgICB9O1xuXHRcblx0ICAgIEluaXRpYWwucHJvdG90eXBlLnRvTmV4dCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICByZXR1cm4gbmV3IE5leHQodGhpcyk7XG5cdCAgICB9O1xuXHRcblx0ICAgIHJldHVybiBJbml0aWFsO1xuXHRcblx0ICB9KShOZXh0KTtcblx0XG5cdCAgRW5kID0gKGZ1bmN0aW9uKHN1cGVyQ2xhc3MpIHtcblx0ICAgIGV4dGVuZChFbmQsIHN1cGVyQ2xhc3MpO1xuXHRcblx0ICAgIGZ1bmN0aW9uIEVuZCgpIHtcblx0ICAgICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIEVuZCkpIHtcblx0ICAgICAgICByZXR1cm4gbmV3IEVuZDtcblx0ICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIEVuZC5wcm90b3R5cGUuaXNFbmQgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICB9O1xuXHRcblx0ICAgIEVuZC5wcm90b3R5cGUuZm1hcCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICByZXR1cm4gdGhpcztcblx0ICAgIH07XG5cdFxuXHQgICAgRW5kLnByb3RvdHlwZS5hcHBseSA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICByZXR1cm4gdGhpcztcblx0ICAgIH07XG5cdFxuXHQgICAgRW5kLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICByZXR1cm4gXCI8ZW5kPlwiO1xuXHQgICAgfTtcblx0XG5cdCAgICByZXR1cm4gRW5kO1xuXHRcblx0ICB9KShFdmVudCk7XG5cdFxuXHQgIEVycm9yID0gKGZ1bmN0aW9uKHN1cGVyQ2xhc3MpIHtcblx0ICAgIGV4dGVuZChFcnJvciwgc3VwZXJDbGFzcyk7XG5cdFxuXHQgICAgZnVuY3Rpb24gRXJyb3IoZXJyb3IpIHtcblx0ICAgICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIEVycm9yKSkge1xuXHQgICAgICAgIHJldHVybiBuZXcgRXJyb3IoZXJyb3IpO1xuXHQgICAgICB9XG5cdCAgICAgIHRoaXMuZXJyb3IgPSBlcnJvcjtcblx0ICAgIH1cblx0XG5cdCAgICBFcnJvci5wcm90b3R5cGUuaXNFcnJvciA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgIH07XG5cdFxuXHQgICAgRXJyb3IucHJvdG90eXBlLmZtYXAgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgcmV0dXJuIHRoaXM7XG5cdCAgICB9O1xuXHRcblx0ICAgIEVycm9yLnByb3RvdHlwZS5hcHBseSA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICByZXR1cm4gdGhpcztcblx0ICAgIH07XG5cdFxuXHQgICAgRXJyb3IucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgIHJldHVybiBcIjxlcnJvcj4gXCIgKyBfLnRvU3RyaW5nKHRoaXMuZXJyb3IpO1xuXHQgICAgfTtcblx0XG5cdCAgICByZXR1cm4gRXJyb3I7XG5cdFxuXHQgIH0pKEV2ZW50KTtcblx0XG5cdCAgQmFjb24uRXZlbnQgPSBFdmVudDtcblx0XG5cdCAgQmFjb24uSW5pdGlhbCA9IEluaXRpYWw7XG5cdFxuXHQgIEJhY29uLk5leHQgPSBOZXh0O1xuXHRcblx0ICBCYWNvbi5FbmQgPSBFbmQ7XG5cdFxuXHQgIEJhY29uLkVycm9yID0gRXJyb3I7XG5cdFxuXHQgIGluaXRpYWxFdmVudCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG5cdCAgICByZXR1cm4gbmV3IEluaXRpYWwodmFsdWUsIHRydWUpO1xuXHQgIH07XG5cdFxuXHQgIG5leHRFdmVudCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG5cdCAgICByZXR1cm4gbmV3IE5leHQodmFsdWUsIHRydWUpO1xuXHQgIH07XG5cdFxuXHQgIGVuZEV2ZW50ID0gZnVuY3Rpb24oKSB7XG5cdCAgICByZXR1cm4gbmV3IEVuZCgpO1xuXHQgIH07XG5cdFxuXHQgIHRvRXZlbnQgPSBmdW5jdGlvbih4KSB7XG5cdCAgICBpZiAoeCBpbnN0YW5jZW9mIEV2ZW50KSB7XG5cdCAgICAgIHJldHVybiB4O1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcmV0dXJuIG5leHRFdmVudCh4KTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICBpZENvdW50ZXIgPSAwO1xuXHRcblx0ICByZWdpc3Rlck9icyA9IGZ1bmN0aW9uKCkge307XG5cdFxuXHQgIE9ic2VydmFibGUgPSAoZnVuY3Rpb24oKSB7XG5cdCAgICBmdW5jdGlvbiBPYnNlcnZhYmxlKGRlc2MxKSB7XG5cdCAgICAgIHRoaXMuZGVzYyA9IGRlc2MxO1xuXHQgICAgICB0aGlzLmlkID0gKytpZENvdW50ZXI7XG5cdCAgICAgIHRoaXMuaW5pdGlhbERlc2MgPSB0aGlzLmRlc2M7XG5cdCAgICB9XG5cdFxuXHQgICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUuc3Vic2NyaWJlID0gZnVuY3Rpb24oc2luaykge1xuXHQgICAgICByZXR1cm4gVXBkYXRlQmFycmllci53cmFwcGVkU3Vic2NyaWJlKHRoaXMsIHNpbmspO1xuXHQgICAgfTtcblx0XG5cdCAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS5zdWJzY3JpYmVJbnRlcm5hbCA9IGZ1bmN0aW9uKHNpbmspIHtcblx0ICAgICAgcmV0dXJuIHRoaXMuZGlzcGF0Y2hlci5zdWJzY3JpYmUoc2luayk7XG5cdCAgICB9O1xuXHRcblx0ICAgIE9ic2VydmFibGUucHJvdG90eXBlLm9uVmFsdWUgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgdmFyIGY7XG5cdCAgICAgIGYgPSBtYWtlRnVuY3Rpb25BcmdzKGFyZ3VtZW50cyk7XG5cdCAgICAgIHJldHVybiB0aGlzLnN1YnNjcmliZShmdW5jdGlvbihldmVudCkge1xuXHQgICAgICAgIGlmIChldmVudC5oYXNWYWx1ZSgpKSB7XG5cdCAgICAgICAgICByZXR1cm4gZihldmVudC52YWx1ZSgpKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0pO1xuXHQgICAgfTtcblx0XG5cdCAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS5vblZhbHVlcyA9IGZ1bmN0aW9uKGYpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMub25WYWx1ZShmdW5jdGlvbihhcmdzKSB7XG5cdCAgICAgICAgcmV0dXJuIGYuYXBwbHkobnVsbCwgYXJncyk7XG5cdCAgICAgIH0pO1xuXHQgICAgfTtcblx0XG5cdCAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS5vbkVycm9yID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgIHZhciBmO1xuXHQgICAgICBmID0gbWFrZUZ1bmN0aW9uQXJncyhhcmd1bWVudHMpO1xuXHQgICAgICByZXR1cm4gdGhpcy5zdWJzY3JpYmUoZnVuY3Rpb24oZXZlbnQpIHtcblx0ICAgICAgICBpZiAoZXZlbnQuaXNFcnJvcigpKSB7XG5cdCAgICAgICAgICByZXR1cm4gZihldmVudC5lcnJvcik7XG5cdCAgICAgICAgfVxuXHQgICAgICB9KTtcblx0ICAgIH07XG5cdFxuXHQgICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUub25FbmQgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgdmFyIGY7XG5cdCAgICAgIGYgPSBtYWtlRnVuY3Rpb25BcmdzKGFyZ3VtZW50cyk7XG5cdCAgICAgIHJldHVybiB0aGlzLnN1YnNjcmliZShmdW5jdGlvbihldmVudCkge1xuXHQgICAgICAgIGlmIChldmVudC5pc0VuZCgpKSB7XG5cdCAgICAgICAgICByZXR1cm4gZigpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSk7XG5cdCAgICB9O1xuXHRcblx0ICAgIE9ic2VydmFibGUucHJvdG90eXBlLm5hbWUgPSBmdW5jdGlvbihuYW1lKSB7XG5cdCAgICAgIHRoaXMuX25hbWUgPSBuYW1lO1xuXHQgICAgICByZXR1cm4gdGhpcztcblx0ICAgIH07XG5cdFxuXHQgICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUud2l0aERlc2NyaXB0aW9uID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgIHRoaXMuZGVzYyA9IGRlc2NyaWJlLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG5cdCAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgfTtcblx0XG5cdCAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICBpZiAodGhpcy5fbmFtZSkge1xuXHQgICAgICAgIHJldHVybiB0aGlzLl9uYW1lO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldHVybiB0aGlzLmRlc2MudG9TdHJpbmcoKTtcblx0ICAgICAgfVxuXHQgICAgfTtcblx0XG5cdCAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS5pbnRlcm5hbERlcHMgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgcmV0dXJuIHRoaXMuaW5pdGlhbERlc2MuZGVwcygpO1xuXHQgICAgfTtcblx0XG5cdCAgICByZXR1cm4gT2JzZXJ2YWJsZTtcblx0XG5cdCAgfSkoKTtcblx0XG5cdCAgT2JzZXJ2YWJsZS5wcm90b3R5cGUuYXNzaWduID0gT2JzZXJ2YWJsZS5wcm90b3R5cGUub25WYWx1ZTtcblx0XG5cdCAgT2JzZXJ2YWJsZS5wcm90b3R5cGUuZm9yRWFjaCA9IE9ic2VydmFibGUucHJvdG90eXBlLm9uVmFsdWU7XG5cdFxuXHQgIE9ic2VydmFibGUucHJvdG90eXBlLmluc3BlY3QgPSBPYnNlcnZhYmxlLnByb3RvdHlwZS50b1N0cmluZztcblx0XG5cdCAgQmFjb24uT2JzZXJ2YWJsZSA9IE9ic2VydmFibGU7XG5cdFxuXHQgIENvbXBvc2l0ZVVuc3Vic2NyaWJlID0gKGZ1bmN0aW9uKCkge1xuXHQgICAgZnVuY3Rpb24gQ29tcG9zaXRlVW5zdWJzY3JpYmUoc3MpIHtcblx0ICAgICAgdmFyIGosIGxlbjEsIHM7XG5cdCAgICAgIGlmIChzcyA9PSBudWxsKSB7XG5cdCAgICAgICAgc3MgPSBbXTtcblx0ICAgICAgfVxuXHQgICAgICB0aGlzLnVuc3Vic2NyaWJlID0gYmluZCh0aGlzLnVuc3Vic2NyaWJlLCB0aGlzKTtcblx0ICAgICAgdGhpcy51bnN1YnNjcmliZWQgPSBmYWxzZTtcblx0ICAgICAgdGhpcy5zdWJzY3JpcHRpb25zID0gW107XG5cdCAgICAgIHRoaXMuc3RhcnRpbmcgPSBbXTtcblx0ICAgICAgZm9yIChqID0gMCwgbGVuMSA9IHNzLmxlbmd0aDsgaiA8IGxlbjE7IGorKykge1xuXHQgICAgICAgIHMgPSBzc1tqXTtcblx0ICAgICAgICB0aGlzLmFkZChzKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIENvbXBvc2l0ZVVuc3Vic2NyaWJlLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbihzdWJzY3JpcHRpb24pIHtcblx0ICAgICAgdmFyIGVuZGVkLCB1bnN1YiwgdW5zdWJNZTtcblx0ICAgICAgaWYgKHRoaXMudW5zdWJzY3JpYmVkKSB7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgICB9XG5cdCAgICAgIGVuZGVkID0gZmFsc2U7XG5cdCAgICAgIHVuc3ViID0gbm9wO1xuXHQgICAgICB0aGlzLnN0YXJ0aW5nLnB1c2goc3Vic2NyaXB0aW9uKTtcblx0ICAgICAgdW5zdWJNZSA9IChmdW5jdGlvbihfdGhpcykge1xuXHQgICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgIGlmIChfdGhpcy51bnN1YnNjcmliZWQpIHtcblx0ICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgICAgZW5kZWQgPSB0cnVlO1xuXHQgICAgICAgICAgX3RoaXMucmVtb3ZlKHVuc3ViKTtcblx0ICAgICAgICAgIHJldHVybiBfLnJlbW92ZShzdWJzY3JpcHRpb24sIF90aGlzLnN0YXJ0aW5nKTtcblx0ICAgICAgICB9O1xuXHQgICAgICB9KSh0aGlzKTtcblx0ICAgICAgdW5zdWIgPSBzdWJzY3JpcHRpb24odGhpcy51bnN1YnNjcmliZSwgdW5zdWJNZSk7XG5cdCAgICAgIGlmICghKHRoaXMudW5zdWJzY3JpYmVkIHx8IGVuZGVkKSkge1xuXHQgICAgICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5wdXNoKHVuc3ViKTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICB1bnN1YigpO1xuXHQgICAgICB9XG5cdCAgICAgIF8ucmVtb3ZlKHN1YnNjcmlwdGlvbiwgdGhpcy5zdGFydGluZyk7XG5cdCAgICAgIHJldHVybiB1bnN1Yjtcblx0ICAgIH07XG5cdFxuXHQgICAgQ29tcG9zaXRlVW5zdWJzY3JpYmUucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uKHVuc3ViKSB7XG5cdCAgICAgIGlmICh0aGlzLnVuc3Vic2NyaWJlZCkge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfVxuXHQgICAgICBpZiAoKF8ucmVtb3ZlKHVuc3ViLCB0aGlzLnN1YnNjcmlwdGlvbnMpKSAhPT0gdm9pZCAwKSB7XG5cdCAgICAgICAgcmV0dXJuIHVuc3ViKCk7XG5cdCAgICAgIH1cblx0ICAgIH07XG5cdFxuXHQgICAgQ29tcG9zaXRlVW5zdWJzY3JpYmUucHJvdG90eXBlLnVuc3Vic2NyaWJlID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgIHZhciBqLCBsZW4xLCByZWYsIHM7XG5cdCAgICAgIGlmICh0aGlzLnVuc3Vic2NyaWJlZCkge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfVxuXHQgICAgICB0aGlzLnVuc3Vic2NyaWJlZCA9IHRydWU7XG5cdCAgICAgIHJlZiA9IHRoaXMuc3Vic2NyaXB0aW9ucztcblx0ICAgICAgZm9yIChqID0gMCwgbGVuMSA9IHJlZi5sZW5ndGg7IGogPCBsZW4xOyBqKyspIHtcblx0ICAgICAgICBzID0gcmVmW2pdO1xuXHQgICAgICAgIHMoKTtcblx0ICAgICAgfVxuXHQgICAgICB0aGlzLnN1YnNjcmlwdGlvbnMgPSBbXTtcblx0ICAgICAgcmV0dXJuIHRoaXMuc3RhcnRpbmcgPSBbXTtcblx0ICAgIH07XG5cdFxuXHQgICAgQ29tcG9zaXRlVW5zdWJzY3JpYmUucHJvdG90eXBlLmNvdW50ID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgIGlmICh0aGlzLnVuc3Vic2NyaWJlZCkge1xuXHQgICAgICAgIHJldHVybiAwO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiB0aGlzLnN1YnNjcmlwdGlvbnMubGVuZ3RoICsgdGhpcy5zdGFydGluZy5sZW5ndGg7XG5cdCAgICB9O1xuXHRcblx0ICAgIENvbXBvc2l0ZVVuc3Vic2NyaWJlLnByb3RvdHlwZS5lbXB0eSA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICByZXR1cm4gdGhpcy5jb3VudCgpID09PSAwO1xuXHQgICAgfTtcblx0XG5cdCAgICByZXR1cm4gQ29tcG9zaXRlVW5zdWJzY3JpYmU7XG5cdFxuXHQgIH0pKCk7XG5cdFxuXHQgIEJhY29uLkNvbXBvc2l0ZVVuc3Vic2NyaWJlID0gQ29tcG9zaXRlVW5zdWJzY3JpYmU7XG5cdFxuXHQgIERpc3BhdGNoZXIgPSAoZnVuY3Rpb24oKSB7XG5cdCAgICBEaXNwYXRjaGVyLnByb3RvdHlwZS5wdXNoaW5nID0gZmFsc2U7XG5cdFxuXHQgICAgRGlzcGF0Y2hlci5wcm90b3R5cGUuZW5kZWQgPSBmYWxzZTtcblx0XG5cdCAgICBEaXNwYXRjaGVyLnByb3RvdHlwZS5wcmV2RXJyb3IgPSB2b2lkIDA7XG5cdFxuXHQgICAgRGlzcGF0Y2hlci5wcm90b3R5cGUudW5zdWJTcmMgPSB2b2lkIDA7XG5cdFxuXHQgICAgZnVuY3Rpb24gRGlzcGF0Y2hlcihfc3Vic2NyaWJlLCBfaGFuZGxlRXZlbnQpIHtcblx0ICAgICAgdGhpcy5fc3Vic2NyaWJlID0gX3N1YnNjcmliZTtcblx0ICAgICAgdGhpcy5faGFuZGxlRXZlbnQgPSBfaGFuZGxlRXZlbnQ7XG5cdCAgICAgIHRoaXMuc3Vic2NyaWJlID0gYmluZCh0aGlzLnN1YnNjcmliZSwgdGhpcyk7XG5cdCAgICAgIHRoaXMuaGFuZGxlRXZlbnQgPSBiaW5kKHRoaXMuaGFuZGxlRXZlbnQsIHRoaXMpO1xuXHQgICAgICB0aGlzLnN1YnNjcmlwdGlvbnMgPSBbXTtcblx0ICAgICAgdGhpcy5xdWV1ZSA9IFtdO1xuXHQgICAgfVxuXHRcblx0ICAgIERpc3BhdGNoZXIucHJvdG90eXBlLmhhc1N1YnNjcmliZXJzID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLnN1YnNjcmlwdGlvbnMubGVuZ3RoID4gMDtcblx0ICAgIH07XG5cdFxuXHQgICAgRGlzcGF0Y2hlci5wcm90b3R5cGUucmVtb3ZlU3ViID0gZnVuY3Rpb24oc3Vic2NyaXB0aW9uKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLnN1YnNjcmlwdGlvbnMgPSBfLndpdGhvdXQoc3Vic2NyaXB0aW9uLCB0aGlzLnN1YnNjcmlwdGlvbnMpO1xuXHQgICAgfTtcblx0XG5cdCAgICBEaXNwYXRjaGVyLnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24oZXZlbnQpIHtcblx0ICAgICAgaWYgKGV2ZW50LmlzRW5kKCkpIHtcblx0ICAgICAgICB0aGlzLmVuZGVkID0gdHJ1ZTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gVXBkYXRlQmFycmllci5pblRyYW5zYWN0aW9uKGV2ZW50LCB0aGlzLCB0aGlzLnB1c2hJdCwgW2V2ZW50XSk7XG5cdCAgICB9O1xuXHRcblx0ICAgIERpc3BhdGNoZXIucHJvdG90eXBlLnB1c2hUb1N1YnNjcmlwdGlvbnMgPSBmdW5jdGlvbihldmVudCkge1xuXHQgICAgICB2YXIgZSwgaiwgbGVuMSwgcmVwbHksIHN1YiwgdG1wO1xuXHQgICAgICB0cnkge1xuXHQgICAgICAgIHRtcCA9IHRoaXMuc3Vic2NyaXB0aW9ucztcblx0ICAgICAgICBmb3IgKGogPSAwLCBsZW4xID0gdG1wLmxlbmd0aDsgaiA8IGxlbjE7IGorKykge1xuXHQgICAgICAgICAgc3ViID0gdG1wW2pdO1xuXHQgICAgICAgICAgcmVwbHkgPSBzdWIuc2luayhldmVudCk7XG5cdCAgICAgICAgICBpZiAocmVwbHkgPT09IEJhY29uLm5vTW9yZSB8fCBldmVudC5pc0VuZCgpKSB7XG5cdCAgICAgICAgICAgIHRoaXMucmVtb3ZlU3ViKHN1Yik7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgICB9IGNhdGNoIChfZXJyb3IpIHtcblx0ICAgICAgICBlID0gX2Vycm9yO1xuXHQgICAgICAgIHRoaXMucHVzaGluZyA9IGZhbHNlO1xuXHQgICAgICAgIHRoaXMucXVldWUgPSBbXTtcblx0ICAgICAgICB0aHJvdyBlO1xuXHQgICAgICB9XG5cdCAgICB9O1xuXHRcblx0ICAgIERpc3BhdGNoZXIucHJvdG90eXBlLnB1c2hJdCA9IGZ1bmN0aW9uKGV2ZW50KSB7XG5cdCAgICAgIGlmICghdGhpcy5wdXNoaW5nKSB7XG5cdCAgICAgICAgaWYgKGV2ZW50ID09PSB0aGlzLnByZXZFcnJvcikge1xuXHQgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAoZXZlbnQuaXNFcnJvcigpKSB7XG5cdCAgICAgICAgICB0aGlzLnByZXZFcnJvciA9IGV2ZW50O1xuXHQgICAgICAgIH1cblx0ICAgICAgICB0aGlzLnB1c2hpbmcgPSB0cnVlO1xuXHQgICAgICAgIHRoaXMucHVzaFRvU3Vic2NyaXB0aW9ucyhldmVudCk7XG5cdCAgICAgICAgdGhpcy5wdXNoaW5nID0gZmFsc2U7XG5cdCAgICAgICAgd2hpbGUgKHRoaXMucXVldWUubGVuZ3RoKSB7XG5cdCAgICAgICAgICBldmVudCA9IHRoaXMucXVldWUuc2hpZnQoKTtcblx0ICAgICAgICAgIHRoaXMucHVzaChldmVudCk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmICh0aGlzLmhhc1N1YnNjcmliZXJzKCkpIHtcblx0ICAgICAgICAgIHJldHVybiBCYWNvbi5tb3JlO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlRnJvbVNvdXJjZSgpO1xuXHQgICAgICAgICAgcmV0dXJuIEJhY29uLm5vTW9yZTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgdGhpcy5xdWV1ZS5wdXNoKGV2ZW50KTtcblx0ICAgICAgICByZXR1cm4gQmFjb24ubW9yZTtcblx0ICAgICAgfVxuXHQgICAgfTtcblx0XG5cdCAgICBEaXNwYXRjaGVyLnByb3RvdHlwZS5oYW5kbGVFdmVudCA9IGZ1bmN0aW9uKGV2ZW50KSB7XG5cdCAgICAgIGlmICh0aGlzLl9oYW5kbGVFdmVudCkge1xuXHQgICAgICAgIHJldHVybiB0aGlzLl9oYW5kbGVFdmVudChldmVudCk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMucHVzaChldmVudCk7XG5cdCAgICAgIH1cblx0ICAgIH07XG5cdFxuXHQgICAgRGlzcGF0Y2hlci5wcm90b3R5cGUudW5zdWJzY3JpYmVGcm9tU291cmNlID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgIGlmICh0aGlzLnVuc3ViU3JjKSB7XG5cdCAgICAgICAgdGhpcy51bnN1YlNyYygpO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiB0aGlzLnVuc3ViU3JjID0gdm9pZCAwO1xuXHQgICAgfTtcblx0XG5cdCAgICBEaXNwYXRjaGVyLnByb3RvdHlwZS5zdWJzY3JpYmUgPSBmdW5jdGlvbihzaW5rKSB7XG5cdCAgICAgIHZhciBzdWJzY3JpcHRpb247XG5cdCAgICAgIGlmICh0aGlzLmVuZGVkKSB7XG5cdCAgICAgICAgc2luayhlbmRFdmVudCgpKTtcblx0ICAgICAgICByZXR1cm4gbm9wO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIGFzc2VydEZ1bmN0aW9uKHNpbmspO1xuXHQgICAgICAgIHN1YnNjcmlwdGlvbiA9IHtcblx0ICAgICAgICAgIHNpbms6IHNpbmtcblx0ICAgICAgICB9O1xuXHQgICAgICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5wdXNoKHN1YnNjcmlwdGlvbik7XG5cdCAgICAgICAgaWYgKHRoaXMuc3Vic2NyaXB0aW9ucy5sZW5ndGggPT09IDEpIHtcblx0ICAgICAgICAgIHRoaXMudW5zdWJTcmMgPSB0aGlzLl9zdWJzY3JpYmUodGhpcy5oYW5kbGVFdmVudCk7XG5cdCAgICAgICAgICBhc3NlcnRGdW5jdGlvbih0aGlzLnVuc3ViU3JjKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIChmdW5jdGlvbihfdGhpcykge1xuXHQgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICBfdGhpcy5yZW1vdmVTdWIoc3Vic2NyaXB0aW9uKTtcblx0ICAgICAgICAgICAgaWYgKCFfdGhpcy5oYXNTdWJzY3JpYmVycygpKSB7XG5cdCAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLnVuc3Vic2NyaWJlRnJvbVNvdXJjZSgpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9O1xuXHQgICAgICAgIH0pKHRoaXMpO1xuXHQgICAgICB9XG5cdCAgICB9O1xuXHRcblx0ICAgIHJldHVybiBEaXNwYXRjaGVyO1xuXHRcblx0ICB9KSgpO1xuXHRcblx0ICBCYWNvbi5EaXNwYXRjaGVyID0gRGlzcGF0Y2hlcjtcblx0XG5cdCAgRXZlbnRTdHJlYW0gPSAoZnVuY3Rpb24oc3VwZXJDbGFzcykge1xuXHQgICAgZXh0ZW5kKEV2ZW50U3RyZWFtLCBzdXBlckNsYXNzKTtcblx0XG5cdCAgICBmdW5jdGlvbiBFdmVudFN0cmVhbShkZXNjLCBzdWJzY3JpYmUsIGhhbmRsZXIpIHtcblx0ICAgICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIEV2ZW50U3RyZWFtKSkge1xuXHQgICAgICAgIHJldHVybiBuZXcgRXZlbnRTdHJlYW0oZGVzYywgc3Vic2NyaWJlLCBoYW5kbGVyKTtcblx0ICAgICAgfVxuXHQgICAgICBpZiAoXy5pc0Z1bmN0aW9uKGRlc2MpKSB7XG5cdCAgICAgICAgaGFuZGxlciA9IHN1YnNjcmliZTtcblx0ICAgICAgICBzdWJzY3JpYmUgPSBkZXNjO1xuXHQgICAgICAgIGRlc2MgPSBEZXNjLmVtcHR5O1xuXHQgICAgICB9XG5cdCAgICAgIEV2ZW50U3RyZWFtLl9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsIGRlc2MpO1xuXHQgICAgICBhc3NlcnRGdW5jdGlvbihzdWJzY3JpYmUpO1xuXHQgICAgICB0aGlzLmRpc3BhdGNoZXIgPSBuZXcgRGlzcGF0Y2hlcihzdWJzY3JpYmUsIGhhbmRsZXIpO1xuXHQgICAgICByZWdpc3Rlck9icyh0aGlzKTtcblx0ICAgIH1cblx0XG5cdCAgICBFdmVudFN0cmVhbS5wcm90b3R5cGUudG9Qcm9wZXJ0eSA9IGZ1bmN0aW9uKGluaXRWYWx1ZV8pIHtcblx0ICAgICAgdmFyIGRpc3AsIGluaXRWYWx1ZTtcblx0ICAgICAgaW5pdFZhbHVlID0gYXJndW1lbnRzLmxlbmd0aCA9PT0gMCA/IE5vbmUgOiB0b09wdGlvbihmdW5jdGlvbigpIHtcblx0ICAgICAgICByZXR1cm4gaW5pdFZhbHVlXztcblx0ICAgICAgfSk7XG5cdCAgICAgIGRpc3AgPSB0aGlzLmRpc3BhdGNoZXI7XG5cdCAgICAgIHJldHVybiBuZXcgUHJvcGVydHkobmV3IEJhY29uLkRlc2ModGhpcywgXCJ0b1Byb3BlcnR5XCIsIFtpbml0VmFsdWVfXSksIGZ1bmN0aW9uKHNpbmspIHtcblx0ICAgICAgICB2YXIgaW5pdFNlbnQsIHJlcGx5LCBzZW5kSW5pdCwgdW5zdWI7XG5cdCAgICAgICAgaW5pdFNlbnQgPSBmYWxzZTtcblx0ICAgICAgICB1bnN1YiA9IG5vcDtcblx0ICAgICAgICByZXBseSA9IEJhY29uLm1vcmU7XG5cdCAgICAgICAgc2VuZEluaXQgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgIGlmICghaW5pdFNlbnQpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGluaXRWYWx1ZS5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlKSB7XG5cdCAgICAgICAgICAgICAgaW5pdFNlbnQgPSB0cnVlO1xuXHQgICAgICAgICAgICAgIHJlcGx5ID0gc2luayhuZXcgSW5pdGlhbCh2YWx1ZSkpO1xuXHQgICAgICAgICAgICAgIGlmIChyZXBseSA9PT0gQmFjb24ubm9Nb3JlKSB7XG5cdCAgICAgICAgICAgICAgICB1bnN1YigpO1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIHVuc3ViID0gbm9wO1xuXHQgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfTtcblx0ICAgICAgICB1bnN1YiA9IGRpc3Auc3Vic2NyaWJlKGZ1bmN0aW9uKGV2ZW50KSB7XG5cdCAgICAgICAgICBpZiAoZXZlbnQuaGFzVmFsdWUoKSkge1xuXHQgICAgICAgICAgICBpZiAoaW5pdFNlbnQgJiYgZXZlbnQuaXNJbml0aWFsKCkpIHtcblx0ICAgICAgICAgICAgICByZXR1cm4gQmFjb24ubW9yZTtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICBpZiAoIWV2ZW50LmlzSW5pdGlhbCgpKSB7XG5cdCAgICAgICAgICAgICAgICBzZW5kSW5pdCgpO1xuXHQgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICBpbml0U2VudCA9IHRydWU7XG5cdCAgICAgICAgICAgICAgaW5pdFZhbHVlID0gbmV3IFNvbWUoZXZlbnQpO1xuXHQgICAgICAgICAgICAgIHJldHVybiBzaW5rKGV2ZW50KTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgaWYgKGV2ZW50LmlzRW5kKCkpIHtcblx0ICAgICAgICAgICAgICByZXBseSA9IHNlbmRJbml0KCk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgaWYgKHJlcGx5ICE9PSBCYWNvbi5ub01vcmUpIHtcblx0ICAgICAgICAgICAgICByZXR1cm4gc2luayhldmVudCk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9KTtcblx0ICAgICAgICBzZW5kSW5pdCgpO1xuXHQgICAgICAgIHJldHVybiB1bnN1Yjtcblx0ICAgICAgfSk7XG5cdCAgICB9O1xuXHRcblx0ICAgIEV2ZW50U3RyZWFtLnByb3RvdHlwZS50b0V2ZW50U3RyZWFtID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgfTtcblx0XG5cdCAgICBFdmVudFN0cmVhbS5wcm90b3R5cGUud2l0aEhhbmRsZXIgPSBmdW5jdGlvbihoYW5kbGVyKSB7XG5cdCAgICAgIHJldHVybiBuZXcgRXZlbnRTdHJlYW0obmV3IEJhY29uLkRlc2ModGhpcywgXCJ3aXRoSGFuZGxlclwiLCBbaGFuZGxlcl0pLCB0aGlzLmRpc3BhdGNoZXIuc3Vic2NyaWJlLCBoYW5kbGVyKTtcblx0ICAgIH07XG5cdFxuXHQgICAgcmV0dXJuIEV2ZW50U3RyZWFtO1xuXHRcblx0ICB9KShPYnNlcnZhYmxlKTtcblx0XG5cdCAgQmFjb24uRXZlbnRTdHJlYW0gPSBFdmVudFN0cmVhbTtcblx0XG5cdCAgQmFjb24ubmV2ZXIgPSBmdW5jdGlvbigpIHtcblx0ICAgIHJldHVybiBuZXcgRXZlbnRTdHJlYW0oZGVzY3JpYmUoQmFjb24sIFwibmV2ZXJcIiksIGZ1bmN0aW9uKHNpbmspIHtcblx0ICAgICAgc2luayhlbmRFdmVudCgpKTtcblx0ICAgICAgcmV0dXJuIG5vcDtcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIEJhY29uLndoZW4gPSBmdW5jdGlvbigpIHtcblx0ICAgIHZhciBmLCBpLCBpbmRleCwgaXgsIGosIGssIGxlbiwgbGVuMSwgbGVuMiwgbmVlZHNCYXJyaWVyLCBwYXQsIHBhdFNvdXJjZXMsIHBhdHMsIHBhdHRlcm5zLCByZWYsIHJlc3VsdFN0cmVhbSwgcywgc291cmNlcywgdHJpZ2dlckZvdW5kLCB1c2FnZTtcblx0ICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG5cdCAgICAgIHJldHVybiBCYWNvbi5uZXZlcigpO1xuXHQgICAgfVxuXHQgICAgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcblx0ICAgIHVzYWdlID0gXCJ3aGVuOiBleHBlY3RpbmcgYXJndW1lbnRzIGluIHRoZSBmb3JtIChPYnNlcnZhYmxlKyxmdW5jdGlvbikrXCI7XG5cdCAgICBhc3NlcnQodXNhZ2UsIGxlbiAlIDIgPT09IDApO1xuXHQgICAgc291cmNlcyA9IFtdO1xuXHQgICAgcGF0cyA9IFtdO1xuXHQgICAgaSA9IDA7XG5cdCAgICBwYXR0ZXJucyA9IFtdO1xuXHQgICAgd2hpbGUgKGkgPCBsZW4pIHtcblx0ICAgICAgcGF0dGVybnNbaV0gPSBhcmd1bWVudHNbaV07XG5cdCAgICAgIHBhdHRlcm5zW2kgKyAxXSA9IGFyZ3VtZW50c1tpICsgMV07XG5cdCAgICAgIHBhdFNvdXJjZXMgPSBfLnRvQXJyYXkoYXJndW1lbnRzW2ldKTtcblx0ICAgICAgZiA9IGNvbnN0YW50VG9GdW5jdGlvbihhcmd1bWVudHNbaSArIDFdKTtcblx0ICAgICAgcGF0ID0ge1xuXHQgICAgICAgIGY6IGYsXG5cdCAgICAgICAgaXhzOiBbXVxuXHQgICAgICB9O1xuXHQgICAgICB0cmlnZ2VyRm91bmQgPSBmYWxzZTtcblx0ICAgICAgZm9yIChqID0gMCwgbGVuMSA9IHBhdFNvdXJjZXMubGVuZ3RoOyBqIDwgbGVuMTsgaisrKSB7XG5cdCAgICAgICAgcyA9IHBhdFNvdXJjZXNbal07XG5cdCAgICAgICAgaW5kZXggPSBfLmluZGV4T2Yoc291cmNlcywgcyk7XG5cdCAgICAgICAgaWYgKCF0cmlnZ2VyRm91bmQpIHtcblx0ICAgICAgICAgIHRyaWdnZXJGb3VuZCA9IFNvdXJjZS5pc1RyaWdnZXIocyk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmIChpbmRleCA8IDApIHtcblx0ICAgICAgICAgIHNvdXJjZXMucHVzaChzKTtcblx0ICAgICAgICAgIGluZGV4ID0gc291cmNlcy5sZW5ndGggLSAxO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZWYgPSBwYXQuaXhzO1xuXHQgICAgICAgIGZvciAoayA9IDAsIGxlbjIgPSByZWYubGVuZ3RoOyBrIDwgbGVuMjsgaysrKSB7XG5cdCAgICAgICAgICBpeCA9IHJlZltrXTtcblx0ICAgICAgICAgIGlmIChpeC5pbmRleCA9PT0gaW5kZXgpIHtcblx0ICAgICAgICAgICAgaXguY291bnQrKztcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgICAgcGF0Lml4cy5wdXNoKHtcblx0ICAgICAgICAgIGluZGV4OiBpbmRleCxcblx0ICAgICAgICAgIGNvdW50OiAxXG5cdCAgICAgICAgfSk7XG5cdCAgICAgIH1cblx0ICAgICAgYXNzZXJ0KFwiQXQgbGVhc3Qgb25lIEV2ZW50U3RyZWFtIHJlcXVpcmVkXCIsIHRyaWdnZXJGb3VuZCB8fCAoIXBhdFNvdXJjZXMubGVuZ3RoKSk7XG5cdCAgICAgIGlmIChwYXRTb3VyY2VzLmxlbmd0aCA+IDApIHtcblx0ICAgICAgICBwYXRzLnB1c2gocGF0KTtcblx0ICAgICAgfVxuXHQgICAgICBpID0gaSArIDI7XG5cdCAgICB9XG5cdCAgICBpZiAoIXNvdXJjZXMubGVuZ3RoKSB7XG5cdCAgICAgIHJldHVybiBCYWNvbi5uZXZlcigpO1xuXHQgICAgfVxuXHQgICAgc291cmNlcyA9IF8ubWFwKFNvdXJjZS5mcm9tT2JzZXJ2YWJsZSwgc291cmNlcyk7XG5cdCAgICBuZWVkc0JhcnJpZXIgPSAoXy5hbnkoc291cmNlcywgZnVuY3Rpb24ocykge1xuXHQgICAgICByZXR1cm4gcy5mbGF0dGVuO1xuXHQgICAgfSkpICYmIChjb250YWluc0R1cGxpY2F0ZURlcHMoXy5tYXAoKGZ1bmN0aW9uKHMpIHtcblx0ICAgICAgcmV0dXJuIHMub2JzO1xuXHQgICAgfSksIHNvdXJjZXMpKSk7XG5cdCAgICByZXR1cm4gcmVzdWx0U3RyZWFtID0gbmV3IEV2ZW50U3RyZWFtKG5ldyBCYWNvbi5EZXNjKEJhY29uLCBcIndoZW5cIiwgcGF0dGVybnMpLCBmdW5jdGlvbihzaW5rKSB7XG5cdCAgICAgIHZhciBjYW5ub3RNYXRjaCwgY2Fubm90U3luYywgZW5kcywgbWF0Y2gsIG5vbkZsYXR0ZW5lZCwgcGFydCwgdHJpZ2dlcnM7XG5cdCAgICAgIHRyaWdnZXJzID0gW107XG5cdCAgICAgIGVuZHMgPSBmYWxzZTtcblx0ICAgICAgbWF0Y2ggPSBmdW5jdGlvbihwKSB7XG5cdCAgICAgICAgdmFyIGwsIGxlbjMsIHJlZjE7XG5cdCAgICAgICAgcmVmMSA9IHAuaXhzO1xuXHQgICAgICAgIGZvciAobCA9IDAsIGxlbjMgPSByZWYxLmxlbmd0aDsgbCA8IGxlbjM7IGwrKykge1xuXHQgICAgICAgICAgaSA9IHJlZjFbbF07XG5cdCAgICAgICAgICBpZiAoIXNvdXJjZXNbaS5pbmRleF0uaGFzQXRMZWFzdChpLmNvdW50KSkge1xuXHQgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgICB9O1xuXHQgICAgICBjYW5ub3RTeW5jID0gZnVuY3Rpb24oc291cmNlKSB7XG5cdCAgICAgICAgcmV0dXJuICFzb3VyY2Uuc3luYyB8fCBzb3VyY2UuZW5kZWQ7XG5cdCAgICAgIH07XG5cdCAgICAgIGNhbm5vdE1hdGNoID0gZnVuY3Rpb24ocCkge1xuXHQgICAgICAgIHZhciBsLCBsZW4zLCByZWYxO1xuXHQgICAgICAgIHJlZjEgPSBwLml4cztcblx0ICAgICAgICBmb3IgKGwgPSAwLCBsZW4zID0gcmVmMS5sZW5ndGg7IGwgPCBsZW4zOyBsKyspIHtcblx0ICAgICAgICAgIGkgPSByZWYxW2xdO1xuXHQgICAgICAgICAgaWYgKCFzb3VyY2VzW2kuaW5kZXhdLm1heUhhdmUoaS5jb3VudCkpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICB9O1xuXHQgICAgICBub25GbGF0dGVuZWQgPSBmdW5jdGlvbih0cmlnZ2VyKSB7XG5cdCAgICAgICAgcmV0dXJuICF0cmlnZ2VyLnNvdXJjZS5mbGF0dGVuO1xuXHQgICAgICB9O1xuXHQgICAgICBwYXJ0ID0gZnVuY3Rpb24oc291cmNlKSB7XG5cdCAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKHVuc3ViQWxsKSB7XG5cdCAgICAgICAgICB2YXIgZmx1c2gsIGZsdXNoTGF0ZXIsIGZsdXNoV2hpbGVUcmlnZ2Vycztcblx0ICAgICAgICAgIGZsdXNoTGF0ZXIgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIFVwZGF0ZUJhcnJpZXIud2hlbkRvbmVXaXRoKHJlc3VsdFN0cmVhbSwgZmx1c2gpO1xuXHQgICAgICAgICAgfTtcblx0ICAgICAgICAgIGZsdXNoV2hpbGVUcmlnZ2VycyA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICB2YXIgZXZlbnRzLCBsLCBsZW4zLCBwLCByZXBseSwgdHJpZ2dlcjtcblx0ICAgICAgICAgICAgaWYgKHRyaWdnZXJzLmxlbmd0aCA+IDApIHtcblx0ICAgICAgICAgICAgICByZXBseSA9IEJhY29uLm1vcmU7XG5cdCAgICAgICAgICAgICAgdHJpZ2dlciA9IHRyaWdnZXJzLnBvcCgpO1xuXHQgICAgICAgICAgICAgIGZvciAobCA9IDAsIGxlbjMgPSBwYXRzLmxlbmd0aDsgbCA8IGxlbjM7IGwrKykge1xuXHQgICAgICAgICAgICAgICAgcCA9IHBhdHNbbF07XG5cdCAgICAgICAgICAgICAgICBpZiAobWF0Y2gocCkpIHtcblx0ICAgICAgICAgICAgICAgICAgZXZlbnRzID0gKGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICAgICAgICAgIHZhciBsZW40LCBtLCByZWYxLCByZXN1bHRzO1xuXHQgICAgICAgICAgICAgICAgICAgIHJlZjEgPSBwLml4cztcblx0ICAgICAgICAgICAgICAgICAgICByZXN1bHRzID0gW107XG5cdCAgICAgICAgICAgICAgICAgICAgZm9yIChtID0gMCwgbGVuNCA9IHJlZjEubGVuZ3RoOyBtIDwgbGVuNDsgbSsrKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICBpID0gcmVmMVttXTtcblx0ICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaChzb3VyY2VzW2kuaW5kZXhdLmNvbnN1bWUoKSk7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHRzO1xuXHQgICAgICAgICAgICAgICAgICB9KSgpO1xuXHQgICAgICAgICAgICAgICAgICByZXBseSA9IHNpbmsodHJpZ2dlci5lLmFwcGx5KGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICAgICAgICAgIHZhciBldmVudCwgdmFsdWVzO1xuXHQgICAgICAgICAgICAgICAgICAgIHZhbHVlcyA9IChmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgIHZhciBsZW40LCBtLCByZXN1bHRzO1xuXHQgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0cyA9IFtdO1xuXHQgICAgICAgICAgICAgICAgICAgICAgZm9yIChtID0gMCwgbGVuNCA9IGV2ZW50cy5sZW5ndGg7IG0gPCBsZW40OyBtKyspIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQgPSBldmVudHNbbV07XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaChldmVudC52YWx1ZSgpKTtcblx0ICAgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHRzO1xuXHQgICAgICAgICAgICAgICAgICAgIH0pKCk7XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHAuZi5hcHBseShwLCB2YWx1ZXMpO1xuXHQgICAgICAgICAgICAgICAgICB9KSk7XG5cdCAgICAgICAgICAgICAgICAgIGlmICh0cmlnZ2Vycy5sZW5ndGgpIHtcblx0ICAgICAgICAgICAgICAgICAgICB0cmlnZ2VycyA9IF8uZmlsdGVyKG5vbkZsYXR0ZW5lZCwgdHJpZ2dlcnMpO1xuXHQgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgIGlmIChyZXBseSA9PT0gQmFjb24ubm9Nb3JlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlcGx5O1xuXHQgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybiBmbHVzaFdoaWxlVHJpZ2dlcnMoKTtcblx0ICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICByZXR1cm4gQmFjb24ubW9yZTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgfTtcblx0ICAgICAgICAgIGZsdXNoID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgIHZhciByZXBseTtcblx0ICAgICAgICAgICAgcmVwbHkgPSBmbHVzaFdoaWxlVHJpZ2dlcnMoKTtcblx0ICAgICAgICAgICAgaWYgKGVuZHMpIHtcblx0ICAgICAgICAgICAgICBpZiAoXy5hbGwoc291cmNlcywgY2Fubm90U3luYykgfHwgXy5hbGwocGF0cywgY2Fubm90TWF0Y2gpKSB7XG5cdCAgICAgICAgICAgICAgICByZXBseSA9IEJhY29uLm5vTW9yZTtcblx0ICAgICAgICAgICAgICAgIHNpbmsoZW5kRXZlbnQoKSk7XG5cdCAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGlmIChyZXBseSA9PT0gQmFjb24ubm9Nb3JlKSB7XG5cdCAgICAgICAgICAgICAgdW5zdWJBbGwoKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICByZXR1cm4gcmVwbHk7XG5cdCAgICAgICAgICB9O1xuXHQgICAgICAgICAgcmV0dXJuIHNvdXJjZS5zdWJzY3JpYmUoZnVuY3Rpb24oZSkge1xuXHQgICAgICAgICAgICB2YXIgcmVwbHk7XG5cdCAgICAgICAgICAgIGlmIChlLmlzRW5kKCkpIHtcblx0ICAgICAgICAgICAgICBlbmRzID0gdHJ1ZTtcblx0ICAgICAgICAgICAgICBzb3VyY2UubWFya0VuZGVkKCk7XG5cdCAgICAgICAgICAgICAgZmx1c2hMYXRlcigpO1xuXHQgICAgICAgICAgICB9IGVsc2UgaWYgKGUuaXNFcnJvcigpKSB7XG5cdCAgICAgICAgICAgICAgcmVwbHkgPSBzaW5rKGUpO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgIHNvdXJjZS5wdXNoKGUpO1xuXHQgICAgICAgICAgICAgIGlmIChzb3VyY2Uuc3luYykge1xuXHQgICAgICAgICAgICAgICAgdHJpZ2dlcnMucHVzaCh7XG5cdCAgICAgICAgICAgICAgICAgIHNvdXJjZTogc291cmNlLFxuXHQgICAgICAgICAgICAgICAgICBlOiBlXG5cdCAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgICAgIGlmIChuZWVkc0JhcnJpZXIgfHwgVXBkYXRlQmFycmllci5oYXNXYWl0ZXJzKCkpIHtcblx0ICAgICAgICAgICAgICAgICAgZmx1c2hMYXRlcigpO1xuXHQgICAgICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgICAgZmx1c2goKTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgaWYgKHJlcGx5ID09PSBCYWNvbi5ub01vcmUpIHtcblx0ICAgICAgICAgICAgICB1bnN1YkFsbCgpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHJldHVybiByZXBseSB8fCBCYWNvbi5tb3JlO1xuXHQgICAgICAgICAgfSk7XG5cdCAgICAgICAgfTtcblx0ICAgICAgfTtcblx0ICAgICAgcmV0dXJuIG5ldyBCYWNvbi5Db21wb3NpdGVVbnN1YnNjcmliZSgoZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgdmFyIGwsIGxlbjMsIHJlc3VsdHM7XG5cdCAgICAgICAgcmVzdWx0cyA9IFtdO1xuXHQgICAgICAgIGZvciAobCA9IDAsIGxlbjMgPSBzb3VyY2VzLmxlbmd0aDsgbCA8IGxlbjM7IGwrKykge1xuXHQgICAgICAgICAgcyA9IHNvdXJjZXNbbF07XG5cdCAgICAgICAgICByZXN1bHRzLnB1c2gocGFydChzKSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiByZXN1bHRzO1xuXHQgICAgICB9KSgpKS51bnN1YnNjcmliZTtcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIGNvbnRhaW5zRHVwbGljYXRlRGVwcyA9IGZ1bmN0aW9uKG9ic2VydmFibGVzLCBzdGF0ZSkge1xuXHQgICAgdmFyIGNoZWNrT2JzZXJ2YWJsZTtcblx0ICAgIGlmIChzdGF0ZSA9PSBudWxsKSB7XG5cdCAgICAgIHN0YXRlID0gW107XG5cdCAgICB9XG5cdCAgICBjaGVja09ic2VydmFibGUgPSBmdW5jdGlvbihvYnMpIHtcblx0ICAgICAgdmFyIGRlcHM7XG5cdCAgICAgIGlmIChfLmNvbnRhaW5zKHN0YXRlLCBvYnMpKSB7XG5cdCAgICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgZGVwcyA9IG9icy5pbnRlcm5hbERlcHMoKTtcblx0ICAgICAgICBpZiAoZGVwcy5sZW5ndGgpIHtcblx0ICAgICAgICAgIHN0YXRlLnB1c2gob2JzKTtcblx0ICAgICAgICAgIHJldHVybiBfLmFueShkZXBzLCBjaGVja09ic2VydmFibGUpO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICBzdGF0ZS5wdXNoKG9icyk7XG5cdCAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9O1xuXHQgICAgcmV0dXJuIF8uYW55KG9ic2VydmFibGVzLCBjaGVja09ic2VydmFibGUpO1xuXHQgIH07XG5cdFxuXHQgIGNvbnN0YW50VG9GdW5jdGlvbiA9IGZ1bmN0aW9uKGYpIHtcblx0ICAgIGlmIChfLmlzRnVuY3Rpb24oZikpIHtcblx0ICAgICAgcmV0dXJuIGY7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICByZXR1cm4gXy5hbHdheXMoZik7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgQmFjb24uZ3JvdXBTaW11bHRhbmVvdXMgPSBmdW5jdGlvbigpIHtcblx0ICAgIHZhciBzLCBzb3VyY2VzLCBzdHJlYW1zO1xuXHQgICAgc3RyZWFtcyA9IDEgPD0gYXJndW1lbnRzLmxlbmd0aCA/IHNsaWNlLmNhbGwoYXJndW1lbnRzLCAwKSA6IFtdO1xuXHQgICAgaWYgKHN0cmVhbXMubGVuZ3RoID09PSAxICYmIGlzQXJyYXkoc3RyZWFtc1swXSkpIHtcblx0ICAgICAgc3RyZWFtcyA9IHN0cmVhbXNbMF07XG5cdCAgICB9XG5cdCAgICBzb3VyY2VzID0gKGZ1bmN0aW9uKCkge1xuXHQgICAgICB2YXIgaiwgbGVuMSwgcmVzdWx0cztcblx0ICAgICAgcmVzdWx0cyA9IFtdO1xuXHQgICAgICBmb3IgKGogPSAwLCBsZW4xID0gc3RyZWFtcy5sZW5ndGg7IGogPCBsZW4xOyBqKyspIHtcblx0ICAgICAgICBzID0gc3RyZWFtc1tqXTtcblx0ICAgICAgICByZXN1bHRzLnB1c2gobmV3IEJ1ZmZlcmluZ1NvdXJjZShzKSk7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIHJlc3VsdHM7XG5cdCAgICB9KSgpO1xuXHQgICAgcmV0dXJuIHdpdGhEZXNjKG5ldyBCYWNvbi5EZXNjKEJhY29uLCBcImdyb3VwU2ltdWx0YW5lb3VzXCIsIHN0cmVhbXMpLCBCYWNvbi53aGVuKHNvdXJjZXMsIChmdW5jdGlvbigpIHtcblx0ICAgICAgdmFyIHhzO1xuXHQgICAgICB4cyA9IDEgPD0gYXJndW1lbnRzLmxlbmd0aCA/IHNsaWNlLmNhbGwoYXJndW1lbnRzLCAwKSA6IFtdO1xuXHQgICAgICByZXR1cm4geHM7XG5cdCAgICB9KSkpO1xuXHQgIH07XG5cdFxuXHQgIFByb3BlcnR5RGlzcGF0Y2hlciA9IChmdW5jdGlvbihzdXBlckNsYXNzKSB7XG5cdCAgICBleHRlbmQoUHJvcGVydHlEaXNwYXRjaGVyLCBzdXBlckNsYXNzKTtcblx0XG5cdCAgICBmdW5jdGlvbiBQcm9wZXJ0eURpc3BhdGNoZXIocHJvcGVydHkxLCBzdWJzY3JpYmUsIGhhbmRsZUV2ZW50KSB7XG5cdCAgICAgIHRoaXMucHJvcGVydHkgPSBwcm9wZXJ0eTE7XG5cdCAgICAgIHRoaXMuc3Vic2NyaWJlID0gYmluZCh0aGlzLnN1YnNjcmliZSwgdGhpcyk7XG5cdCAgICAgIFByb3BlcnR5RGlzcGF0Y2hlci5fX3N1cGVyX18uY29uc3RydWN0b3IuY2FsbCh0aGlzLCBzdWJzY3JpYmUsIGhhbmRsZUV2ZW50KTtcblx0ICAgICAgdGhpcy5jdXJyZW50ID0gTm9uZTtcblx0ICAgICAgdGhpcy5jdXJyZW50VmFsdWVSb290SWQgPSB2b2lkIDA7XG5cdCAgICAgIHRoaXMucHJvcGVydHlFbmRlZCA9IGZhbHNlO1xuXHQgICAgfVxuXHRcblx0ICAgIFByb3BlcnR5RGlzcGF0Y2hlci5wcm90b3R5cGUucHVzaCA9IGZ1bmN0aW9uKGV2ZW50KSB7XG5cdCAgICAgIGlmIChldmVudC5pc0VuZCgpKSB7XG5cdCAgICAgICAgdGhpcy5wcm9wZXJ0eUVuZGVkID0gdHJ1ZTtcblx0ICAgICAgfVxuXHQgICAgICBpZiAoZXZlbnQuaGFzVmFsdWUoKSkge1xuXHQgICAgICAgIHRoaXMuY3VycmVudCA9IG5ldyBTb21lKGV2ZW50KTtcblx0ICAgICAgICB0aGlzLmN1cnJlbnRWYWx1ZVJvb3RJZCA9IFVwZGF0ZUJhcnJpZXIuY3VycmVudEV2ZW50SWQoKTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gUHJvcGVydHlEaXNwYXRjaGVyLl9fc3VwZXJfXy5wdXNoLmNhbGwodGhpcywgZXZlbnQpO1xuXHQgICAgfTtcblx0XG5cdCAgICBQcm9wZXJ0eURpc3BhdGNoZXIucHJvdG90eXBlLm1heWJlU3ViU291cmNlID0gZnVuY3Rpb24oc2luaywgcmVwbHkpIHtcblx0ICAgICAgaWYgKHJlcGx5ID09PSBCYWNvbi5ub01vcmUpIHtcblx0ICAgICAgICByZXR1cm4gbm9wO1xuXHQgICAgICB9IGVsc2UgaWYgKHRoaXMucHJvcGVydHlFbmRlZCkge1xuXHQgICAgICAgIHNpbmsoZW5kRXZlbnQoKSk7XG5cdCAgICAgICAgcmV0dXJuIG5vcDtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gRGlzcGF0Y2hlci5wcm90b3R5cGUuc3Vic2NyaWJlLmNhbGwodGhpcywgc2luayk7XG5cdCAgICAgIH1cblx0ICAgIH07XG5cdFxuXHQgICAgUHJvcGVydHlEaXNwYXRjaGVyLnByb3RvdHlwZS5zdWJzY3JpYmUgPSBmdW5jdGlvbihzaW5rKSB7XG5cdCAgICAgIHZhciBkaXNwYXRjaGluZ0lkLCBpbml0U2VudCwgcmVwbHksIHZhbElkO1xuXHQgICAgICBpbml0U2VudCA9IGZhbHNlO1xuXHQgICAgICByZXBseSA9IEJhY29uLm1vcmU7XG5cdCAgICAgIGlmICh0aGlzLmN1cnJlbnQuaXNEZWZpbmVkICYmICh0aGlzLmhhc1N1YnNjcmliZXJzKCkgfHwgdGhpcy5wcm9wZXJ0eUVuZGVkKSkge1xuXHQgICAgICAgIGRpc3BhdGNoaW5nSWQgPSBVcGRhdGVCYXJyaWVyLmN1cnJlbnRFdmVudElkKCk7XG5cdCAgICAgICAgdmFsSWQgPSB0aGlzLmN1cnJlbnRWYWx1ZVJvb3RJZDtcblx0ICAgICAgICBpZiAoIXRoaXMucHJvcGVydHlFbmRlZCAmJiB2YWxJZCAmJiBkaXNwYXRjaGluZ0lkICYmIGRpc3BhdGNoaW5nSWQgIT09IHZhbElkKSB7XG5cdCAgICAgICAgICBVcGRhdGVCYXJyaWVyLndoZW5Eb25lV2l0aCh0aGlzLnByb3BlcnR5LCAoZnVuY3Rpb24oX3RoaXMpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICAgIGlmIChfdGhpcy5jdXJyZW50VmFsdWVSb290SWQgPT09IHZhbElkKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gc2luayhpbml0aWFsRXZlbnQoX3RoaXMuY3VycmVudC5nZXQoKS52YWx1ZSgpKSk7XG5cdCAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9O1xuXHQgICAgICAgICAgfSkodGhpcykpO1xuXHQgICAgICAgICAgcmV0dXJuIHRoaXMubWF5YmVTdWJTb3VyY2Uoc2luaywgcmVwbHkpO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICBVcGRhdGVCYXJyaWVyLmluVHJhbnNhY3Rpb24odm9pZCAwLCB0aGlzLCAoZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgIHJldHVybiByZXBseSA9IHNpbmsoaW5pdGlhbEV2ZW50KHRoaXMuY3VycmVudC5nZXQoKS52YWx1ZSgpKSk7XG5cdCAgICAgICAgICB9KSwgW10pO1xuXHQgICAgICAgICAgcmV0dXJuIHRoaXMubWF5YmVTdWJTb3VyY2Uoc2luaywgcmVwbHkpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gdGhpcy5tYXliZVN1YlNvdXJjZShzaW5rLCByZXBseSk7XG5cdCAgICAgIH1cblx0ICAgIH07XG5cdFxuXHQgICAgcmV0dXJuIFByb3BlcnR5RGlzcGF0Y2hlcjtcblx0XG5cdCAgfSkoRGlzcGF0Y2hlcik7XG5cdFxuXHQgIFByb3BlcnR5ID0gKGZ1bmN0aW9uKHN1cGVyQ2xhc3MpIHtcblx0ICAgIGV4dGVuZChQcm9wZXJ0eSwgc3VwZXJDbGFzcyk7XG5cdFxuXHQgICAgZnVuY3Rpb24gUHJvcGVydHkoZGVzYywgc3Vic2NyaWJlLCBoYW5kbGVyKSB7XG5cdCAgICAgIFByb3BlcnR5Ll9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsIGRlc2MpO1xuXHQgICAgICBhc3NlcnRGdW5jdGlvbihzdWJzY3JpYmUpO1xuXHQgICAgICB0aGlzLmRpc3BhdGNoZXIgPSBuZXcgUHJvcGVydHlEaXNwYXRjaGVyKHRoaXMsIHN1YnNjcmliZSwgaGFuZGxlcik7XG5cdCAgICAgIHJlZ2lzdGVyT2JzKHRoaXMpO1xuXHQgICAgfVxuXHRcblx0ICAgIFByb3BlcnR5LnByb3RvdHlwZS5jaGFuZ2VzID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgIHJldHVybiBuZXcgRXZlbnRTdHJlYW0obmV3IEJhY29uLkRlc2ModGhpcywgXCJjaGFuZ2VzXCIsIFtdKSwgKGZ1bmN0aW9uKF90aGlzKSB7XG5cdCAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKHNpbmspIHtcblx0ICAgICAgICAgIHJldHVybiBfdGhpcy5kaXNwYXRjaGVyLnN1YnNjcmliZShmdW5jdGlvbihldmVudCkge1xuXHQgICAgICAgICAgICBpZiAoIWV2ZW50LmlzSW5pdGlhbCgpKSB7XG5cdCAgICAgICAgICAgICAgcmV0dXJuIHNpbmsoZXZlbnQpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9KTtcblx0ICAgICAgICB9O1xuXHQgICAgICB9KSh0aGlzKSk7XG5cdCAgICB9O1xuXHRcblx0ICAgIFByb3BlcnR5LnByb3RvdHlwZS53aXRoSGFuZGxlciA9IGZ1bmN0aW9uKGhhbmRsZXIpIHtcblx0ICAgICAgcmV0dXJuIG5ldyBQcm9wZXJ0eShuZXcgQmFjb24uRGVzYyh0aGlzLCBcIndpdGhIYW5kbGVyXCIsIFtoYW5kbGVyXSksIHRoaXMuZGlzcGF0Y2hlci5zdWJzY3JpYmUsIGhhbmRsZXIpO1xuXHQgICAgfTtcblx0XG5cdCAgICBQcm9wZXJ0eS5wcm90b3R5cGUudG9Qcm9wZXJ0eSA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICBhc3NlcnROb0FyZ3VtZW50cyhhcmd1bWVudHMpO1xuXHQgICAgICByZXR1cm4gdGhpcztcblx0ICAgIH07XG5cdFxuXHQgICAgUHJvcGVydHkucHJvdG90eXBlLnRvRXZlbnRTdHJlYW0gPSBmdW5jdGlvbigpIHtcblx0ICAgICAgcmV0dXJuIG5ldyBFdmVudFN0cmVhbShuZXcgQmFjb24uRGVzYyh0aGlzLCBcInRvRXZlbnRTdHJlYW1cIiwgW10pLCAoZnVuY3Rpb24oX3RoaXMpIHtcblx0ICAgICAgICByZXR1cm4gZnVuY3Rpb24oc2luaykge1xuXHQgICAgICAgICAgcmV0dXJuIF90aGlzLmRpc3BhdGNoZXIuc3Vic2NyaWJlKGZ1bmN0aW9uKGV2ZW50KSB7XG5cdCAgICAgICAgICAgIGlmIChldmVudC5pc0luaXRpYWwoKSkge1xuXHQgICAgICAgICAgICAgIGV2ZW50ID0gZXZlbnQudG9OZXh0KCk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgcmV0dXJuIHNpbmsoZXZlbnQpO1xuXHQgICAgICAgICAgfSk7XG5cdCAgICAgICAgfTtcblx0ICAgICAgfSkodGhpcykpO1xuXHQgICAgfTtcblx0XG5cdCAgICByZXR1cm4gUHJvcGVydHk7XG5cdFxuXHQgIH0pKE9ic2VydmFibGUpO1xuXHRcblx0ICBCYWNvbi5Qcm9wZXJ0eSA9IFByb3BlcnR5O1xuXHRcblx0ICBCYWNvbi5jb25zdGFudCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG5cdCAgICByZXR1cm4gbmV3IFByb3BlcnR5KG5ldyBCYWNvbi5EZXNjKEJhY29uLCBcImNvbnN0YW50XCIsIFt2YWx1ZV0pLCBmdW5jdGlvbihzaW5rKSB7XG5cdCAgICAgIHNpbmsoaW5pdGlhbEV2ZW50KHZhbHVlKSk7XG5cdCAgICAgIHNpbmsoZW5kRXZlbnQoKSk7XG5cdCAgICAgIHJldHVybiBub3A7XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICBCYWNvbi5mcm9tQmluZGVyID0gZnVuY3Rpb24oYmluZGVyLCBldmVudFRyYW5zZm9ybWVyKSB7XG5cdCAgICBpZiAoZXZlbnRUcmFuc2Zvcm1lciA9PSBudWxsKSB7XG5cdCAgICAgIGV2ZW50VHJhbnNmb3JtZXIgPSBfLmlkO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIG5ldyBFdmVudFN0cmVhbShuZXcgQmFjb24uRGVzYyhCYWNvbiwgXCJmcm9tQmluZGVyXCIsIFtiaW5kZXIsIGV2ZW50VHJhbnNmb3JtZXJdKSwgZnVuY3Rpb24oc2luaykge1xuXHQgICAgICB2YXIgc2hvdWxkVW5iaW5kLCB1bmJpbmQsIHVuYmluZGVyLCB1bmJvdW5kO1xuXHQgICAgICB1bmJvdW5kID0gZmFsc2U7XG5cdCAgICAgIHNob3VsZFVuYmluZCA9IGZhbHNlO1xuXHQgICAgICB1bmJpbmQgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICBpZiAoIXVuYm91bmQpIHtcblx0ICAgICAgICAgIGlmICh0eXBlb2YgdW5iaW5kZXIgIT09IFwidW5kZWZpbmVkXCIgJiYgdW5iaW5kZXIgIT09IG51bGwpIHtcblx0ICAgICAgICAgICAgdW5iaW5kZXIoKTtcblx0ICAgICAgICAgICAgcmV0dXJuIHVuYm91bmQgPSB0cnVlO1xuXHQgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHNob3VsZFVuYmluZCA9IHRydWU7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICB9O1xuXHQgICAgICB1bmJpbmRlciA9IGJpbmRlcihmdW5jdGlvbigpIHtcblx0ICAgICAgICB2YXIgYXJncywgZXZlbnQsIGosIGxlbjEsIHJlcGx5LCB2YWx1ZTtcblx0ICAgICAgICBhcmdzID0gMSA8PSBhcmd1bWVudHMubGVuZ3RoID8gc2xpY2UuY2FsbChhcmd1bWVudHMsIDApIDogW107XG5cdCAgICAgICAgdmFsdWUgPSBldmVudFRyYW5zZm9ybWVyLmFwcGx5KHRoaXMsIGFyZ3MpO1xuXHQgICAgICAgIGlmICghKGlzQXJyYXkodmFsdWUpICYmIF8ubGFzdCh2YWx1ZSkgaW5zdGFuY2VvZiBFdmVudCkpIHtcblx0ICAgICAgICAgIHZhbHVlID0gW3ZhbHVlXTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmVwbHkgPSBCYWNvbi5tb3JlO1xuXHQgICAgICAgIGZvciAoaiA9IDAsIGxlbjEgPSB2YWx1ZS5sZW5ndGg7IGogPCBsZW4xOyBqKyspIHtcblx0ICAgICAgICAgIGV2ZW50ID0gdmFsdWVbal07XG5cdCAgICAgICAgICByZXBseSA9IHNpbmsoZXZlbnQgPSB0b0V2ZW50KGV2ZW50KSk7XG5cdCAgICAgICAgICBpZiAocmVwbHkgPT09IEJhY29uLm5vTW9yZSB8fCBldmVudC5pc0VuZCgpKSB7XG5cdCAgICAgICAgICAgIHVuYmluZCgpO1xuXHQgICAgICAgICAgICByZXR1cm4gcmVwbHk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiByZXBseTtcblx0ICAgICAgfSk7XG5cdCAgICAgIGlmIChzaG91bGRVbmJpbmQpIHtcblx0ICAgICAgICB1bmJpbmQoKTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gdW5iaW5kO1xuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgZXZlbnRNZXRob2RzID0gW1tcImFkZEV2ZW50TGlzdGVuZXJcIiwgXCJyZW1vdmVFdmVudExpc3RlbmVyXCJdLCBbXCJhZGRMaXN0ZW5lclwiLCBcInJlbW92ZUxpc3RlbmVyXCJdLCBbXCJvblwiLCBcIm9mZlwiXSwgW1wiYmluZFwiLCBcInVuYmluZFwiXV07XG5cdFxuXHQgIGZpbmRIYW5kbGVyTWV0aG9kcyA9IGZ1bmN0aW9uKHRhcmdldCkge1xuXHQgICAgdmFyIGosIGxlbjEsIG1ldGhvZFBhaXIsIHBhaXI7XG5cdCAgICBmb3IgKGogPSAwLCBsZW4xID0gZXZlbnRNZXRob2RzLmxlbmd0aDsgaiA8IGxlbjE7IGorKykge1xuXHQgICAgICBwYWlyID0gZXZlbnRNZXRob2RzW2pdO1xuXHQgICAgICBtZXRob2RQYWlyID0gW3RhcmdldFtwYWlyWzBdXSwgdGFyZ2V0W3BhaXJbMV1dXTtcblx0ICAgICAgaWYgKG1ldGhvZFBhaXJbMF0gJiYgbWV0aG9kUGFpclsxXSkge1xuXHQgICAgICAgIHJldHVybiBtZXRob2RQYWlyO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBzdWl0YWJsZSBldmVudCBtZXRob2RzIGluIFwiICsgdGFyZ2V0KTtcblx0ICB9O1xuXHRcblx0ICBCYWNvbi5mcm9tRXZlbnRUYXJnZXQgPSBmdW5jdGlvbih0YXJnZXQsIGV2ZW50TmFtZSwgZXZlbnRUcmFuc2Zvcm1lcikge1xuXHQgICAgdmFyIHJlZiwgc3ViLCB1bnN1Yjtcblx0ICAgIHJlZiA9IGZpbmRIYW5kbGVyTWV0aG9kcyh0YXJnZXQpLCBzdWIgPSByZWZbMF0sIHVuc3ViID0gcmVmWzFdO1xuXHQgICAgcmV0dXJuIHdpdGhEZXNjKG5ldyBCYWNvbi5EZXNjKEJhY29uLCBcImZyb21FdmVudFwiLCBbdGFyZ2V0LCBldmVudE5hbWVdKSwgQmFjb24uZnJvbUJpbmRlcihmdW5jdGlvbihoYW5kbGVyKSB7XG5cdCAgICAgIHN1Yi5jYWxsKHRhcmdldCwgZXZlbnROYW1lLCBoYW5kbGVyKTtcblx0ICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHJldHVybiB1bnN1Yi5jYWxsKHRhcmdldCwgZXZlbnROYW1lLCBoYW5kbGVyKTtcblx0ICAgICAgfTtcblx0ICAgIH0sIGV2ZW50VHJhbnNmb3JtZXIpKTtcblx0ICB9O1xuXHRcblx0ICBCYWNvbi5mcm9tRXZlbnQgPSBCYWNvbi5mcm9tRXZlbnRUYXJnZXQ7XG5cdFxuXHQgIEJhY29uLk9ic2VydmFibGUucHJvdG90eXBlLm1hcCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgdmFyIGFyZ3MsIHA7XG5cdCAgICBwID0gYXJndW1lbnRzWzBdLCBhcmdzID0gMiA8PSBhcmd1bWVudHMubGVuZ3RoID8gc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpIDogW107XG5cdCAgICByZXR1cm4gY29udmVydEFyZ3NUb0Z1bmN0aW9uKHRoaXMsIHAsIGFyZ3MsIGZ1bmN0aW9uKGYpIHtcblx0ICAgICAgcmV0dXJuIHdpdGhEZXNjKG5ldyBCYWNvbi5EZXNjKHRoaXMsIFwibWFwXCIsIFtmXSksIHRoaXMud2l0aEhhbmRsZXIoZnVuY3Rpb24oZXZlbnQpIHtcblx0ICAgICAgICByZXR1cm4gdGhpcy5wdXNoKGV2ZW50LmZtYXAoZikpO1xuXHQgICAgICB9KSk7XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICBhcmd1bWVudHNUb09ic2VydmFibGVzID0gZnVuY3Rpb24oYXJncykge1xuXHQgICAgaWYgKGlzQXJyYXkoYXJnc1swXSkpIHtcblx0ICAgICAgcmV0dXJuIGFyZ3NbMF07XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJncyk7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgYXJndW1lbnRzVG9PYnNlcnZhYmxlc0FuZEZ1bmN0aW9uID0gZnVuY3Rpb24oYXJncykge1xuXHQgICAgaWYgKF8uaXNGdW5jdGlvbihhcmdzWzBdKSkge1xuXHQgICAgICByZXR1cm4gW2FyZ3VtZW50c1RvT2JzZXJ2YWJsZXMoQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJncywgMSkpLCBhcmdzWzBdXTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiBbYXJndW1lbnRzVG9PYnNlcnZhYmxlcyhBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmdzLCAwLCBhcmdzLmxlbmd0aCAtIDEpKSwgXy5sYXN0KGFyZ3MpXTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICBCYWNvbi5jb21iaW5lQXNBcnJheSA9IGZ1bmN0aW9uKCkge1xuXHQgICAgdmFyIGluZGV4LCBqLCBsZW4xLCBzLCBzb3VyY2VzLCBzdHJlYW0sIHN0cmVhbXM7XG5cdCAgICBzdHJlYW1zID0gYXJndW1lbnRzVG9PYnNlcnZhYmxlcyhhcmd1bWVudHMpO1xuXHQgICAgZm9yIChpbmRleCA9IGogPSAwLCBsZW4xID0gc3RyZWFtcy5sZW5ndGg7IGogPCBsZW4xOyBpbmRleCA9ICsraikge1xuXHQgICAgICBzdHJlYW0gPSBzdHJlYW1zW2luZGV4XTtcblx0ICAgICAgaWYgKCEoaXNPYnNlcnZhYmxlKHN0cmVhbSkpKSB7XG5cdCAgICAgICAgc3RyZWFtc1tpbmRleF0gPSBCYWNvbi5jb25zdGFudChzdHJlYW0pO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgICBpZiAoc3RyZWFtcy5sZW5ndGgpIHtcblx0ICAgICAgc291cmNlcyA9IChmdW5jdGlvbigpIHtcblx0ICAgICAgICB2YXIgaywgbGVuMiwgcmVzdWx0cztcblx0ICAgICAgICByZXN1bHRzID0gW107XG5cdCAgICAgICAgZm9yIChrID0gMCwgbGVuMiA9IHN0cmVhbXMubGVuZ3RoOyBrIDwgbGVuMjsgaysrKSB7XG5cdCAgICAgICAgICBzID0gc3RyZWFtc1trXTtcblx0ICAgICAgICAgIHJlc3VsdHMucHVzaChuZXcgU291cmNlKHMsIHRydWUpKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIHJlc3VsdHM7XG5cdCAgICAgIH0pKCk7XG5cdCAgICAgIHJldHVybiB3aXRoRGVzYyhuZXcgQmFjb24uRGVzYyhCYWNvbiwgXCJjb21iaW5lQXNBcnJheVwiLCBzdHJlYW1zKSwgQmFjb24ud2hlbihzb3VyY2VzLCAoZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgdmFyIHhzO1xuXHQgICAgICAgIHhzID0gMSA8PSBhcmd1bWVudHMubGVuZ3RoID8gc2xpY2UuY2FsbChhcmd1bWVudHMsIDApIDogW107XG5cdCAgICAgICAgcmV0dXJuIHhzO1xuXHQgICAgICB9KSkudG9Qcm9wZXJ0eSgpKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiBCYWNvbi5jb25zdGFudChbXSk7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgQmFjb24ub25WYWx1ZXMgPSBmdW5jdGlvbigpIHtcblx0ICAgIHZhciBmLCBqLCBzdHJlYW1zO1xuXHQgICAgc3RyZWFtcyA9IDIgPD0gYXJndW1lbnRzLmxlbmd0aCA/IHNsaWNlLmNhbGwoYXJndW1lbnRzLCAwLCBqID0gYXJndW1lbnRzLmxlbmd0aCAtIDEpIDogKGogPSAwLCBbXSksIGYgPSBhcmd1bWVudHNbaisrXTtcblx0ICAgIHJldHVybiBCYWNvbi5jb21iaW5lQXNBcnJheShzdHJlYW1zKS5vblZhbHVlcyhmKTtcblx0ICB9O1xuXHRcblx0ICBCYWNvbi5jb21iaW5lV2l0aCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgdmFyIGYsIHJlZiwgc3RyZWFtcztcblx0ICAgIHJlZiA9IGFyZ3VtZW50c1RvT2JzZXJ2YWJsZXNBbmRGdW5jdGlvbihhcmd1bWVudHMpLCBzdHJlYW1zID0gcmVmWzBdLCBmID0gcmVmWzFdO1xuXHQgICAgcmV0dXJuIHdpdGhEZXNjKG5ldyBCYWNvbi5EZXNjKEJhY29uLCBcImNvbWJpbmVXaXRoXCIsIFtmXS5jb25jYXQoc2xpY2UuY2FsbChzdHJlYW1zKSkpLCBCYWNvbi5jb21iaW5lQXNBcnJheShzdHJlYW1zKS5tYXAoZnVuY3Rpb24odmFsdWVzKSB7XG5cdCAgICAgIHJldHVybiBmLmFwcGx5KG51bGwsIHZhbHVlcyk7XG5cdCAgICB9KSk7XG5cdCAgfTtcblx0XG5cdCAgQmFjb24uT2JzZXJ2YWJsZS5wcm90b3R5cGUuY29tYmluZSA9IGZ1bmN0aW9uKG90aGVyLCBmKSB7XG5cdCAgICB2YXIgY29tYmluYXRvcjtcblx0ICAgIGNvbWJpbmF0b3IgPSB0b0NvbWJpbmF0b3IoZik7XG5cdCAgICByZXR1cm4gd2l0aERlc2MobmV3IEJhY29uLkRlc2ModGhpcywgXCJjb21iaW5lXCIsIFtvdGhlciwgZl0pLCBCYWNvbi5jb21iaW5lQXNBcnJheSh0aGlzLCBvdGhlcikubWFwKGZ1bmN0aW9uKHZhbHVlcykge1xuXHQgICAgICByZXR1cm4gY29tYmluYXRvcih2YWx1ZXNbMF0sIHZhbHVlc1sxXSk7XG5cdCAgICB9KSk7XG5cdCAgfTtcblx0XG5cdCAgQmFjb24uT2JzZXJ2YWJsZS5wcm90b3R5cGUud2l0aFN0YXRlTWFjaGluZSA9IGZ1bmN0aW9uKGluaXRTdGF0ZSwgZikge1xuXHQgICAgdmFyIHN0YXRlO1xuXHQgICAgc3RhdGUgPSBpbml0U3RhdGU7XG5cdCAgICByZXR1cm4gd2l0aERlc2MobmV3IEJhY29uLkRlc2ModGhpcywgXCJ3aXRoU3RhdGVNYWNoaW5lXCIsIFtpbml0U3RhdGUsIGZdKSwgdGhpcy53aXRoSGFuZGxlcihmdW5jdGlvbihldmVudCkge1xuXHQgICAgICB2YXIgZnJvbUYsIGosIGxlbjEsIG5ld1N0YXRlLCBvdXRwdXQsIG91dHB1dHMsIHJlcGx5O1xuXHQgICAgICBmcm9tRiA9IGYoc3RhdGUsIGV2ZW50KTtcblx0ICAgICAgbmV3U3RhdGUgPSBmcm9tRlswXSwgb3V0cHV0cyA9IGZyb21GWzFdO1xuXHQgICAgICBzdGF0ZSA9IG5ld1N0YXRlO1xuXHQgICAgICByZXBseSA9IEJhY29uLm1vcmU7XG5cdCAgICAgIGZvciAoaiA9IDAsIGxlbjEgPSBvdXRwdXRzLmxlbmd0aDsgaiA8IGxlbjE7IGorKykge1xuXHQgICAgICAgIG91dHB1dCA9IG91dHB1dHNbal07XG5cdCAgICAgICAgcmVwbHkgPSB0aGlzLnB1c2gob3V0cHV0KTtcblx0ICAgICAgICBpZiAocmVwbHkgPT09IEJhY29uLm5vTW9yZSkge1xuXHQgICAgICAgICAgcmV0dXJuIHJlcGx5O1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gcmVwbHk7XG5cdCAgICB9KSk7XG5cdCAgfTtcblx0XG5cdCAgQmFjb24uT2JzZXJ2YWJsZS5wcm90b3R5cGUuc2tpcER1cGxpY2F0ZXMgPSBmdW5jdGlvbihpc0VxdWFsKSB7XG5cdCAgICBpZiAoaXNFcXVhbCA9PSBudWxsKSB7XG5cdCAgICAgIGlzRXF1YWwgPSBmdW5jdGlvbihhLCBiKSB7XG5cdCAgICAgICAgcmV0dXJuIGEgPT09IGI7XG5cdCAgICAgIH07XG5cdCAgICB9XG5cdCAgICByZXR1cm4gd2l0aERlc2MobmV3IEJhY29uLkRlc2ModGhpcywgXCJza2lwRHVwbGljYXRlc1wiLCBbXSksIHRoaXMud2l0aFN0YXRlTWFjaGluZShOb25lLCBmdW5jdGlvbihwcmV2LCBldmVudCkge1xuXHQgICAgICBpZiAoIWV2ZW50Lmhhc1ZhbHVlKCkpIHtcblx0ICAgICAgICByZXR1cm4gW3ByZXYsIFtldmVudF1dO1xuXHQgICAgICB9IGVsc2UgaWYgKGV2ZW50LmlzSW5pdGlhbCgpIHx8IHByZXYgPT09IE5vbmUgfHwgIWlzRXF1YWwocHJldi5nZXQoKSwgZXZlbnQudmFsdWUoKSkpIHtcblx0ICAgICAgICByZXR1cm4gW25ldyBTb21lKGV2ZW50LnZhbHVlKCkpLCBbZXZlbnRdXTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gW3ByZXYsIFtdXTtcblx0ICAgICAgfVxuXHQgICAgfSkpO1xuXHQgIH07XG5cdFxuXHQgIEJhY29uLk9ic2VydmFibGUucHJvdG90eXBlLmF3YWl0aW5nID0gZnVuY3Rpb24ob3RoZXIpIHtcblx0ICAgIHJldHVybiB3aXRoRGVzYyhuZXcgQmFjb24uRGVzYyh0aGlzLCBcImF3YWl0aW5nXCIsIFtvdGhlcl0pLCBCYWNvbi5ncm91cFNpbXVsdGFuZW91cyh0aGlzLCBvdGhlcikubWFwKGZ1bmN0aW9uKGFyZykge1xuXHQgICAgICB2YXIgbXlWYWx1ZXMsIG90aGVyVmFsdWVzO1xuXHQgICAgICBteVZhbHVlcyA9IGFyZ1swXSwgb3RoZXJWYWx1ZXMgPSBhcmdbMV07XG5cdCAgICAgIHJldHVybiBvdGhlclZhbHVlcy5sZW5ndGggPT09IDA7XG5cdCAgICB9KS50b1Byb3BlcnR5KGZhbHNlKS5za2lwRHVwbGljYXRlcygpKTtcblx0ICB9O1xuXHRcblx0ICBCYWNvbi5PYnNlcnZhYmxlLnByb3RvdHlwZS5ub3QgPSBmdW5jdGlvbigpIHtcblx0ICAgIHJldHVybiB3aXRoRGVzYyhuZXcgQmFjb24uRGVzYyh0aGlzLCBcIm5vdFwiLCBbXSksIHRoaXMubWFwKGZ1bmN0aW9uKHgpIHtcblx0ICAgICAgcmV0dXJuICF4O1xuXHQgICAgfSkpO1xuXHQgIH07XG5cdFxuXHQgIEJhY29uLlByb3BlcnR5LnByb3RvdHlwZS5hbmQgPSBmdW5jdGlvbihvdGhlcikge1xuXHQgICAgcmV0dXJuIHdpdGhEZXNjKG5ldyBCYWNvbi5EZXNjKHRoaXMsIFwiYW5kXCIsIFtvdGhlcl0pLCB0aGlzLmNvbWJpbmUob3RoZXIsIGZ1bmN0aW9uKHgsIHkpIHtcblx0ICAgICAgcmV0dXJuIHggJiYgeTtcblx0ICAgIH0pKTtcblx0ICB9O1xuXHRcblx0ICBCYWNvbi5Qcm9wZXJ0eS5wcm90b3R5cGUub3IgPSBmdW5jdGlvbihvdGhlcikge1xuXHQgICAgcmV0dXJuIHdpdGhEZXNjKG5ldyBCYWNvbi5EZXNjKHRoaXMsIFwib3JcIiwgW290aGVyXSksIHRoaXMuY29tYmluZShvdGhlciwgZnVuY3Rpb24oeCwgeSkge1xuXHQgICAgICByZXR1cm4geCB8fCB5O1xuXHQgICAgfSkpO1xuXHQgIH07XG5cdFxuXHQgIEJhY29uLnNjaGVkdWxlciA9IHtcblx0ICAgIHNldFRpbWVvdXQ6IGZ1bmN0aW9uKGYsIGQpIHtcblx0ICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZiwgZCk7XG5cdCAgICB9LFxuXHQgICAgc2V0SW50ZXJ2YWw6IGZ1bmN0aW9uKGYsIGkpIHtcblx0ICAgICAgcmV0dXJuIHNldEludGVydmFsKGYsIGkpO1xuXHQgICAgfSxcblx0ICAgIGNsZWFySW50ZXJ2YWw6IGZ1bmN0aW9uKGlkKSB7XG5cdCAgICAgIHJldHVybiBjbGVhckludGVydmFsKGlkKTtcblx0ICAgIH0sXG5cdCAgICBjbGVhclRpbWVvdXQ6IGZ1bmN0aW9uKGlkKSB7XG5cdCAgICAgIHJldHVybiBjbGVhclRpbWVvdXQoaWQpO1xuXHQgICAgfSxcblx0ICAgIG5vdzogZnVuY3Rpb24oKSB7XG5cdCAgICAgIHJldHVybiBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcblx0ICAgIH1cblx0ICB9O1xuXHRcblx0ICBCYWNvbi5FdmVudFN0cmVhbS5wcm90b3R5cGUuYnVmZmVyV2l0aFRpbWUgPSBmdW5jdGlvbihkZWxheSkge1xuXHQgICAgcmV0dXJuIHdpdGhEZXNjKG5ldyBCYWNvbi5EZXNjKHRoaXMsIFwiYnVmZmVyV2l0aFRpbWVcIiwgW2RlbGF5XSksIHRoaXMuYnVmZmVyV2l0aFRpbWVPckNvdW50KGRlbGF5LCBOdW1iZXIuTUFYX1ZBTFVFKSk7XG5cdCAgfTtcblx0XG5cdCAgQmFjb24uRXZlbnRTdHJlYW0ucHJvdG90eXBlLmJ1ZmZlcldpdGhDb3VudCA9IGZ1bmN0aW9uKGNvdW50KSB7XG5cdCAgICByZXR1cm4gd2l0aERlc2MobmV3IEJhY29uLkRlc2ModGhpcywgXCJidWZmZXJXaXRoQ291bnRcIiwgW2NvdW50XSksIHRoaXMuYnVmZmVyV2l0aFRpbWVPckNvdW50KHZvaWQgMCwgY291bnQpKTtcblx0ICB9O1xuXHRcblx0ICBCYWNvbi5FdmVudFN0cmVhbS5wcm90b3R5cGUuYnVmZmVyV2l0aFRpbWVPckNvdW50ID0gZnVuY3Rpb24oZGVsYXksIGNvdW50KSB7XG5cdCAgICB2YXIgZmx1c2hPclNjaGVkdWxlO1xuXHQgICAgZmx1c2hPclNjaGVkdWxlID0gZnVuY3Rpb24oYnVmZmVyKSB7XG5cdCAgICAgIGlmIChidWZmZXIudmFsdWVzLmxlbmd0aCA9PT0gY291bnQpIHtcblx0ICAgICAgICByZXR1cm4gYnVmZmVyLmZsdXNoKCk7XG5cdCAgICAgIH0gZWxzZSBpZiAoZGVsYXkgIT09IHZvaWQgMCkge1xuXHQgICAgICAgIHJldHVybiBidWZmZXIuc2NoZWR1bGUoKTtcblx0ICAgICAgfVxuXHQgICAgfTtcblx0ICAgIHJldHVybiB3aXRoRGVzYyhuZXcgQmFjb24uRGVzYyh0aGlzLCBcImJ1ZmZlcldpdGhUaW1lT3JDb3VudFwiLCBbZGVsYXksIGNvdW50XSksIHRoaXMuYnVmZmVyKGRlbGF5LCBmbHVzaE9yU2NoZWR1bGUsIGZsdXNoT3JTY2hlZHVsZSkpO1xuXHQgIH07XG5cdFxuXHQgIEJhY29uLkV2ZW50U3RyZWFtLnByb3RvdHlwZS5idWZmZXIgPSBmdW5jdGlvbihkZWxheSwgb25JbnB1dCwgb25GbHVzaCkge1xuXHQgICAgdmFyIGJ1ZmZlciwgZGVsYXlNcywgcmVwbHk7XG5cdCAgICBpZiAob25JbnB1dCA9PSBudWxsKSB7XG5cdCAgICAgIG9uSW5wdXQgPSBub3A7XG5cdCAgICB9XG5cdCAgICBpZiAob25GbHVzaCA9PSBudWxsKSB7XG5cdCAgICAgIG9uRmx1c2ggPSBub3A7XG5cdCAgICB9XG5cdCAgICBidWZmZXIgPSB7XG5cdCAgICAgIHNjaGVkdWxlZDogbnVsbCxcblx0ICAgICAgZW5kOiB2b2lkIDAsXG5cdCAgICAgIHZhbHVlczogW10sXG5cdCAgICAgIGZsdXNoOiBmdW5jdGlvbigpIHtcblx0ICAgICAgICB2YXIgcmVwbHksIHZhbHVlc1RvUHVzaDtcblx0ICAgICAgICBpZiAodGhpcy5zY2hlZHVsZWQpIHtcblx0ICAgICAgICAgIEJhY29uLnNjaGVkdWxlci5jbGVhclRpbWVvdXQodGhpcy5zY2hlZHVsZWQpO1xuXHQgICAgICAgICAgdGhpcy5zY2hlZHVsZWQgPSBudWxsO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAodGhpcy52YWx1ZXMubGVuZ3RoID4gMCkge1xuXHQgICAgICAgICAgdmFsdWVzVG9QdXNoID0gdGhpcy52YWx1ZXM7XG5cdCAgICAgICAgICB0aGlzLnZhbHVlcyA9IFtdO1xuXHQgICAgICAgICAgcmVwbHkgPSB0aGlzLnB1c2gobmV4dEV2ZW50KHZhbHVlc1RvUHVzaCkpO1xuXHQgICAgICAgICAgaWYgKHRoaXMuZW5kICE9IG51bGwpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXMucHVzaCh0aGlzLmVuZCk7XG5cdCAgICAgICAgICB9IGVsc2UgaWYgKHJlcGx5ICE9PSBCYWNvbi5ub01vcmUpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIG9uRmx1c2godGhpcyk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIGlmICh0aGlzLmVuZCAhPSBudWxsKSB7XG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzLnB1c2godGhpcy5lbmQpO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgfSxcblx0ICAgICAgc2NoZWR1bGU6IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIGlmICghdGhpcy5zY2hlZHVsZWQpIHtcblx0ICAgICAgICAgIHJldHVybiB0aGlzLnNjaGVkdWxlZCA9IGRlbGF5KChmdW5jdGlvbihfdGhpcykge1xuXHQgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmZsdXNoKCk7XG5cdCAgICAgICAgICAgIH07XG5cdCAgICAgICAgICB9KSh0aGlzKSk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9O1xuXHQgICAgcmVwbHkgPSBCYWNvbi5tb3JlO1xuXHQgICAgaWYgKCFfLmlzRnVuY3Rpb24oZGVsYXkpKSB7XG5cdCAgICAgIGRlbGF5TXMgPSBkZWxheTtcblx0ICAgICAgZGVsYXkgPSBmdW5jdGlvbihmKSB7XG5cdCAgICAgICAgcmV0dXJuIEJhY29uLnNjaGVkdWxlci5zZXRUaW1lb3V0KGYsIGRlbGF5TXMpO1xuXHQgICAgICB9O1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIHdpdGhEZXNjKG5ldyBCYWNvbi5EZXNjKHRoaXMsIFwiYnVmZmVyXCIsIFtdKSwgdGhpcy53aXRoSGFuZGxlcihmdW5jdGlvbihldmVudCkge1xuXHQgICAgICBidWZmZXIucHVzaCA9IChmdW5jdGlvbihfdGhpcykge1xuXHQgICAgICAgIHJldHVybiBmdW5jdGlvbihldmVudCkge1xuXHQgICAgICAgICAgcmV0dXJuIF90aGlzLnB1c2goZXZlbnQpO1xuXHQgICAgICAgIH07XG5cdCAgICAgIH0pKHRoaXMpO1xuXHQgICAgICBpZiAoZXZlbnQuaXNFcnJvcigpKSB7XG5cdCAgICAgICAgcmVwbHkgPSB0aGlzLnB1c2goZXZlbnQpO1xuXHQgICAgICB9IGVsc2UgaWYgKGV2ZW50LmlzRW5kKCkpIHtcblx0ICAgICAgICBidWZmZXIuZW5kID0gZXZlbnQ7XG5cdCAgICAgICAgaWYgKCFidWZmZXIuc2NoZWR1bGVkKSB7XG5cdCAgICAgICAgICBidWZmZXIuZmx1c2goKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgYnVmZmVyLnZhbHVlcy5wdXNoKGV2ZW50LnZhbHVlKCkpO1xuXHQgICAgICAgIG9uSW5wdXQoYnVmZmVyKTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gcmVwbHk7XG5cdCAgICB9KSk7XG5cdCAgfTtcblx0XG5cdCAgQmFjb24uT2JzZXJ2YWJsZS5wcm90b3R5cGUuZmlsdGVyID0gZnVuY3Rpb24oKSB7XG5cdCAgICB2YXIgYXJncywgZjtcblx0ICAgIGYgPSBhcmd1bWVudHNbMF0sIGFyZ3MgPSAyIDw9IGFyZ3VtZW50cy5sZW5ndGggPyBzbGljZS5jYWxsKGFyZ3VtZW50cywgMSkgOiBbXTtcblx0ICAgIGFzc2VydE9ic2VydmFibGVJc1Byb3BlcnR5KGYpO1xuXHQgICAgcmV0dXJuIGNvbnZlcnRBcmdzVG9GdW5jdGlvbih0aGlzLCBmLCBhcmdzLCBmdW5jdGlvbihmKSB7XG5cdCAgICAgIHJldHVybiB3aXRoRGVzYyhuZXcgQmFjb24uRGVzYyh0aGlzLCBcImZpbHRlclwiLCBbZl0pLCB0aGlzLndpdGhIYW5kbGVyKGZ1bmN0aW9uKGV2ZW50KSB7XG5cdCAgICAgICAgaWYgKGV2ZW50LmZpbHRlcihmKSkge1xuXHQgICAgICAgICAgcmV0dXJuIHRoaXMucHVzaChldmVudCk7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIHJldHVybiBCYWNvbi5tb3JlO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSkpO1xuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgQmFjb24ub25jZSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG5cdCAgICByZXR1cm4gbmV3IEV2ZW50U3RyZWFtKG5ldyBEZXNjKEJhY29uLCBcIm9uY2VcIiwgW3ZhbHVlXSksIGZ1bmN0aW9uKHNpbmspIHtcblx0ICAgICAgc2luayh0b0V2ZW50KHZhbHVlKSk7XG5cdCAgICAgIHNpbmsoZW5kRXZlbnQoKSk7XG5cdCAgICAgIHJldHVybiBub3A7XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICBCYWNvbi5FdmVudFN0cmVhbS5wcm90b3R5cGUuY29uY2F0ID0gZnVuY3Rpb24ocmlnaHQpIHtcblx0ICAgIHZhciBsZWZ0O1xuXHQgICAgbGVmdCA9IHRoaXM7XG5cdCAgICByZXR1cm4gbmV3IEV2ZW50U3RyZWFtKG5ldyBCYWNvbi5EZXNjKGxlZnQsIFwiY29uY2F0XCIsIFtyaWdodF0pLCBmdW5jdGlvbihzaW5rKSB7XG5cdCAgICAgIHZhciB1bnN1YkxlZnQsIHVuc3ViUmlnaHQ7XG5cdCAgICAgIHVuc3ViUmlnaHQgPSBub3A7XG5cdCAgICAgIHVuc3ViTGVmdCA9IGxlZnQuZGlzcGF0Y2hlci5zdWJzY3JpYmUoZnVuY3Rpb24oZSkge1xuXHQgICAgICAgIGlmIChlLmlzRW5kKCkpIHtcblx0ICAgICAgICAgIHJldHVybiB1bnN1YlJpZ2h0ID0gcmlnaHQuZGlzcGF0Y2hlci5zdWJzY3JpYmUoc2luayk7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgIHJldHVybiBzaW5rKGUpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSk7XG5cdCAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcblx0ICAgICAgICB1bnN1YkxlZnQoKTtcblx0ICAgICAgICByZXR1cm4gdW5zdWJSaWdodCgpO1xuXHQgICAgICB9O1xuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgQmFjb24uT2JzZXJ2YWJsZS5wcm90b3R5cGUuZmxhdE1hcCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgcmV0dXJuIGZsYXRNYXBfKHRoaXMsIG1ha2VTcGF3bmVyKGFyZ3VtZW50cykpO1xuXHQgIH07XG5cdFxuXHQgIEJhY29uLk9ic2VydmFibGUucHJvdG90eXBlLmZsYXRNYXBGaXJzdCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgcmV0dXJuIGZsYXRNYXBfKHRoaXMsIG1ha2VTcGF3bmVyKGFyZ3VtZW50cyksIHRydWUpO1xuXHQgIH07XG5cdFxuXHQgIGZsYXRNYXBfID0gZnVuY3Rpb24ocm9vdCwgZiwgZmlyc3RPbmx5LCBsaW1pdCkge1xuXHQgICAgdmFyIGNoaWxkRGVwcywgcmVzdWx0LCByb290RGVwO1xuXHQgICAgcm9vdERlcCA9IFtyb290XTtcblx0ICAgIGNoaWxkRGVwcyA9IFtdO1xuXHQgICAgcmVzdWx0ID0gbmV3IEV2ZW50U3RyZWFtKG5ldyBCYWNvbi5EZXNjKHJvb3QsIFwiZmxhdE1hcFwiICsgKGZpcnN0T25seSA/IFwiRmlyc3RcIiA6IFwiXCIpLCBbZl0pLCBmdW5jdGlvbihzaW5rKSB7XG5cdCAgICAgIHZhciBjaGVja0VuZCwgY2hlY2tRdWV1ZSwgY29tcG9zaXRlLCBxdWV1ZSwgc3Bhd247XG5cdCAgICAgIGNvbXBvc2l0ZSA9IG5ldyBDb21wb3NpdGVVbnN1YnNjcmliZSgpO1xuXHQgICAgICBxdWV1ZSA9IFtdO1xuXHQgICAgICBzcGF3biA9IGZ1bmN0aW9uKGV2ZW50KSB7XG5cdCAgICAgICAgdmFyIGNoaWxkO1xuXHQgICAgICAgIGNoaWxkID0gbWFrZU9ic2VydmFibGUoZihldmVudC52YWx1ZSgpKSk7XG5cdCAgICAgICAgY2hpbGREZXBzLnB1c2goY2hpbGQpO1xuXHQgICAgICAgIHJldHVybiBjb21wb3NpdGUuYWRkKGZ1bmN0aW9uKHVuc3ViQWxsLCB1bnN1Yk1lKSB7XG5cdCAgICAgICAgICByZXR1cm4gY2hpbGQuZGlzcGF0Y2hlci5zdWJzY3JpYmUoZnVuY3Rpb24oZXZlbnQpIHtcblx0ICAgICAgICAgICAgdmFyIHJlcGx5O1xuXHQgICAgICAgICAgICBpZiAoZXZlbnQuaXNFbmQoKSkge1xuXHQgICAgICAgICAgICAgIF8ucmVtb3ZlKGNoaWxkLCBjaGlsZERlcHMpO1xuXHQgICAgICAgICAgICAgIGNoZWNrUXVldWUoKTtcblx0ICAgICAgICAgICAgICBjaGVja0VuZCh1bnN1Yk1lKTtcblx0ICAgICAgICAgICAgICByZXR1cm4gQmFjb24ubm9Nb3JlO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgIGlmIChldmVudCBpbnN0YW5jZW9mIEluaXRpYWwpIHtcblx0ICAgICAgICAgICAgICAgIGV2ZW50ID0gZXZlbnQudG9OZXh0KCk7XG5cdCAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgIHJlcGx5ID0gc2luayhldmVudCk7XG5cdCAgICAgICAgICAgICAgaWYgKHJlcGx5ID09PSBCYWNvbi5ub01vcmUpIHtcblx0ICAgICAgICAgICAgICAgIHVuc3ViQWxsKCk7XG5cdCAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgIHJldHVybiByZXBseTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgfSk7XG5cdCAgICAgICAgfSk7XG5cdCAgICAgIH07XG5cdCAgICAgIGNoZWNrUXVldWUgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICB2YXIgZXZlbnQ7XG5cdCAgICAgICAgZXZlbnQgPSBxdWV1ZS5zaGlmdCgpO1xuXHQgICAgICAgIGlmIChldmVudCkge1xuXHQgICAgICAgICAgcmV0dXJuIHNwYXduKGV2ZW50KTtcblx0ICAgICAgICB9XG5cdCAgICAgIH07XG5cdCAgICAgIGNoZWNrRW5kID0gZnVuY3Rpb24odW5zdWIpIHtcblx0ICAgICAgICB1bnN1YigpO1xuXHQgICAgICAgIGlmIChjb21wb3NpdGUuZW1wdHkoKSkge1xuXHQgICAgICAgICAgcmV0dXJuIHNpbmsoZW5kRXZlbnQoKSk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9O1xuXHQgICAgICBjb21wb3NpdGUuYWRkKGZ1bmN0aW9uKF9fLCB1bnN1YlJvb3QpIHtcblx0ICAgICAgICByZXR1cm4gcm9vdC5kaXNwYXRjaGVyLnN1YnNjcmliZShmdW5jdGlvbihldmVudCkge1xuXHQgICAgICAgICAgaWYgKGV2ZW50LmlzRW5kKCkpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGNoZWNrRW5kKHVuc3ViUm9vdCk7XG5cdCAgICAgICAgICB9IGVsc2UgaWYgKGV2ZW50LmlzRXJyb3IoKSkge1xuXHQgICAgICAgICAgICByZXR1cm4gc2luayhldmVudCk7XG5cdCAgICAgICAgICB9IGVsc2UgaWYgKGZpcnN0T25seSAmJiBjb21wb3NpdGUuY291bnQoKSA+IDEpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIEJhY29uLm1vcmU7XG5cdCAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBpZiAoY29tcG9zaXRlLnVuc3Vic2NyaWJlZCkge1xuXHQgICAgICAgICAgICAgIHJldHVybiBCYWNvbi5ub01vcmU7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgaWYgKGxpbWl0ICYmIGNvbXBvc2l0ZS5jb3VudCgpID4gbGltaXQpIHtcblx0ICAgICAgICAgICAgICByZXR1cm4gcXVldWUucHVzaChldmVudCk7XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgcmV0dXJuIHNwYXduKGV2ZW50KTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH0pO1xuXHQgICAgICB9KTtcblx0ICAgICAgcmV0dXJuIGNvbXBvc2l0ZS51bnN1YnNjcmliZTtcblx0ICAgIH0pO1xuXHQgICAgcmVzdWx0LmludGVybmFsRGVwcyA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICBpZiAoY2hpbGREZXBzLmxlbmd0aCkge1xuXHQgICAgICAgIHJldHVybiByb290RGVwLmNvbmNhdChjaGlsZERlcHMpO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldHVybiByb290RGVwO1xuXHQgICAgICB9XG5cdCAgICB9O1xuXHQgICAgcmV0dXJuIHJlc3VsdDtcblx0ICB9O1xuXHRcblx0ICBtYWtlU3Bhd25lciA9IGZ1bmN0aW9uKGFyZ3MpIHtcblx0ICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMSAmJiBpc09ic2VydmFibGUoYXJnc1swXSkpIHtcblx0ICAgICAgcmV0dXJuIF8uYWx3YXlzKGFyZ3NbMF0pO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcmV0dXJuIG1ha2VGdW5jdGlvbkFyZ3MoYXJncyk7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgbWFrZU9ic2VydmFibGUgPSBmdW5jdGlvbih4KSB7XG5cdCAgICBpZiAoaXNPYnNlcnZhYmxlKHgpKSB7XG5cdCAgICAgIHJldHVybiB4O1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgcmV0dXJuIEJhY29uLm9uY2UoeCk7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgQmFjb24uT2JzZXJ2YWJsZS5wcm90b3R5cGUuZmxhdE1hcFdpdGhDb25jdXJyZW5jeUxpbWl0ID0gZnVuY3Rpb24oKSB7XG5cdCAgICB2YXIgYXJncywgbGltaXQ7XG5cdCAgICBsaW1pdCA9IGFyZ3VtZW50c1swXSwgYXJncyA9IDIgPD0gYXJndW1lbnRzLmxlbmd0aCA/IHNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSA6IFtdO1xuXHQgICAgcmV0dXJuIHdpdGhEZXNjKG5ldyBCYWNvbi5EZXNjKHRoaXMsIFwiZmxhdE1hcFdpdGhDb25jdXJyZW5jeUxpbWl0XCIsIFtsaW1pdF0uY29uY2F0KHNsaWNlLmNhbGwoYXJncykpKSwgZmxhdE1hcF8odGhpcywgbWFrZVNwYXduZXIoYXJncyksIGZhbHNlLCBsaW1pdCkpO1xuXHQgIH07XG5cdFxuXHQgIEJhY29uLk9ic2VydmFibGUucHJvdG90eXBlLmZsYXRNYXBDb25jYXQgPSBmdW5jdGlvbigpIHtcblx0ICAgIHJldHVybiB3aXRoRGVzYyhuZXcgQmFjb24uRGVzYyh0aGlzLCBcImZsYXRNYXBDb25jYXRcIiwgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAwKSksIHRoaXMuZmxhdE1hcFdpdGhDb25jdXJyZW5jeUxpbWl0LmFwcGx5KHRoaXMsIFsxXS5jb25jYXQoc2xpY2UuY2FsbChhcmd1bWVudHMpKSkpO1xuXHQgIH07XG5cdFxuXHQgIEJhY29uLmxhdGVyID0gZnVuY3Rpb24oZGVsYXksIHZhbHVlKSB7XG5cdCAgICByZXR1cm4gd2l0aERlc2MobmV3IEJhY29uLkRlc2MoQmFjb24sIFwibGF0ZXJcIiwgW2RlbGF5LCB2YWx1ZV0pLCBCYWNvbi5mcm9tQmluZGVyKGZ1bmN0aW9uKHNpbmspIHtcblx0ICAgICAgdmFyIGlkLCBzZW5kZXI7XG5cdCAgICAgIHNlbmRlciA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHJldHVybiBzaW5rKFt2YWx1ZSwgZW5kRXZlbnQoKV0pO1xuXHQgICAgICB9O1xuXHQgICAgICBpZCA9IEJhY29uLnNjaGVkdWxlci5zZXRUaW1lb3V0KHNlbmRlciwgZGVsYXkpO1xuXHQgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgcmV0dXJuIEJhY29uLnNjaGVkdWxlci5jbGVhclRpbWVvdXQoaWQpO1xuXHQgICAgICB9O1xuXHQgICAgfSkpO1xuXHQgIH07XG5cdFxuXHQgIEJhY29uLk9ic2VydmFibGUucHJvdG90eXBlLmJ1ZmZlcmluZ1Rocm90dGxlID0gZnVuY3Rpb24obWluaW11bUludGVydmFsKSB7XG5cdCAgICByZXR1cm4gd2l0aERlc2MobmV3IEJhY29uLkRlc2ModGhpcywgXCJidWZmZXJpbmdUaHJvdHRsZVwiLCBbbWluaW11bUludGVydmFsXSksIHRoaXMuZmxhdE1hcENvbmNhdChmdW5jdGlvbih4KSB7XG5cdCAgICAgIHJldHVybiBCYWNvbi5vbmNlKHgpLmNvbmNhdChCYWNvbi5sYXRlcihtaW5pbXVtSW50ZXJ2YWwpLmZpbHRlcihmYWxzZSkpO1xuXHQgICAgfSkpO1xuXHQgIH07XG5cdFxuXHQgIEJhY29uLlByb3BlcnR5LnByb3RvdHlwZS5idWZmZXJpbmdUaHJvdHRsZSA9IGZ1bmN0aW9uKCkge1xuXHQgICAgcmV0dXJuIEJhY29uLk9ic2VydmFibGUucHJvdG90eXBlLmJ1ZmZlcmluZ1Rocm90dGxlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykudG9Qcm9wZXJ0eSgpO1xuXHQgIH07XG5cdFxuXHQgIEJ1cyA9IChmdW5jdGlvbihzdXBlckNsYXNzKSB7XG5cdCAgICBleHRlbmQoQnVzLCBzdXBlckNsYXNzKTtcblx0XG5cdCAgICBmdW5jdGlvbiBCdXMoKSB7XG5cdCAgICAgIHRoaXMuZ3VhcmRlZFNpbmsgPSBiaW5kKHRoaXMuZ3VhcmRlZFNpbmssIHRoaXMpO1xuXHQgICAgICB0aGlzLnN1YnNjcmliZUFsbCA9IGJpbmQodGhpcy5zdWJzY3JpYmVBbGwsIHRoaXMpO1xuXHQgICAgICB0aGlzLnVuc3ViQWxsID0gYmluZCh0aGlzLnVuc3ViQWxsLCB0aGlzKTtcblx0ICAgICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIEJ1cykpIHtcblx0ICAgICAgICByZXR1cm4gbmV3IEJ1cygpO1xuXHQgICAgICB9XG5cdCAgICAgIHRoaXMuc2luayA9IHZvaWQgMDtcblx0ICAgICAgdGhpcy5zdWJzY3JpcHRpb25zID0gW107XG5cdCAgICAgIHRoaXMuZW5kZWQgPSBmYWxzZTtcblx0ICAgICAgQnVzLl9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsIG5ldyBCYWNvbi5EZXNjKEJhY29uLCBcIkJ1c1wiLCBbXSksIHRoaXMuc3Vic2NyaWJlQWxsKTtcblx0ICAgIH1cblx0XG5cdCAgICBCdXMucHJvdG90eXBlLnVuc3ViQWxsID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgIHZhciBqLCBsZW4xLCByZWYsIHN1Yjtcblx0ICAgICAgcmVmID0gdGhpcy5zdWJzY3JpcHRpb25zO1xuXHQgICAgICBmb3IgKGogPSAwLCBsZW4xID0gcmVmLmxlbmd0aDsgaiA8IGxlbjE7IGorKykge1xuXHQgICAgICAgIHN1YiA9IHJlZltqXTtcblx0ICAgICAgICBpZiAodHlwZW9mIHN1Yi51bnN1YiA9PT0gXCJmdW5jdGlvblwiKSB7XG5cdCAgICAgICAgICBzdWIudW5zdWIoKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIHZvaWQgMDtcblx0ICAgIH07XG5cdFxuXHQgICAgQnVzLnByb3RvdHlwZS5zdWJzY3JpYmVBbGwgPSBmdW5jdGlvbihuZXdTaW5rKSB7XG5cdCAgICAgIHZhciBqLCBsZW4xLCByZWYsIHN1YnNjcmlwdGlvbjtcblx0ICAgICAgaWYgKHRoaXMuZW5kZWQpIHtcblx0ICAgICAgICBuZXdTaW5rKGVuZEV2ZW50KCkpO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHRoaXMuc2luayA9IG5ld1Npbms7XG5cdCAgICAgICAgcmVmID0gY2xvbmVBcnJheSh0aGlzLnN1YnNjcmlwdGlvbnMpO1xuXHQgICAgICAgIGZvciAoaiA9IDAsIGxlbjEgPSByZWYubGVuZ3RoOyBqIDwgbGVuMTsgaisrKSB7XG5cdCAgICAgICAgICBzdWJzY3JpcHRpb24gPSByZWZbal07XG5cdCAgICAgICAgICB0aGlzLnN1YnNjcmliZUlucHV0KHN1YnNjcmlwdGlvbik7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiB0aGlzLnVuc3ViQWxsO1xuXHQgICAgfTtcblx0XG5cdCAgICBCdXMucHJvdG90eXBlLmd1YXJkZWRTaW5rID0gZnVuY3Rpb24oaW5wdXQpIHtcblx0ICAgICAgcmV0dXJuIChmdW5jdGlvbihfdGhpcykge1xuXHQgICAgICAgIHJldHVybiBmdW5jdGlvbihldmVudCkge1xuXHQgICAgICAgICAgaWYgKGV2ZW50LmlzRW5kKCkpIHtcblx0ICAgICAgICAgICAgX3RoaXMudW5zdWJzY3JpYmVJbnB1dChpbnB1dCk7XG5cdCAgICAgICAgICAgIHJldHVybiBCYWNvbi5ub01vcmU7XG5cdCAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICByZXR1cm4gX3RoaXMuc2luayhldmVudCk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfTtcblx0ICAgICAgfSkodGhpcyk7XG5cdCAgICB9O1xuXHRcblx0ICAgIEJ1cy5wcm90b3R5cGUuc3Vic2NyaWJlSW5wdXQgPSBmdW5jdGlvbihzdWJzY3JpcHRpb24pIHtcblx0ICAgICAgcmV0dXJuIHN1YnNjcmlwdGlvbi51bnN1YiA9IHN1YnNjcmlwdGlvbi5pbnB1dC5kaXNwYXRjaGVyLnN1YnNjcmliZSh0aGlzLmd1YXJkZWRTaW5rKHN1YnNjcmlwdGlvbi5pbnB1dCkpO1xuXHQgICAgfTtcblx0XG5cdCAgICBCdXMucHJvdG90eXBlLnVuc3Vic2NyaWJlSW5wdXQgPSBmdW5jdGlvbihpbnB1dCkge1xuXHQgICAgICB2YXIgaSwgaiwgbGVuMSwgcmVmLCBzdWI7XG5cdCAgICAgIHJlZiA9IHRoaXMuc3Vic2NyaXB0aW9ucztcblx0ICAgICAgZm9yIChpID0gaiA9IDAsIGxlbjEgPSByZWYubGVuZ3RoOyBqIDwgbGVuMTsgaSA9ICsraikge1xuXHQgICAgICAgIHN1YiA9IHJlZltpXTtcblx0ICAgICAgICBpZiAoc3ViLmlucHV0ID09PSBpbnB1dCkge1xuXHQgICAgICAgICAgaWYgKHR5cGVvZiBzdWIudW5zdWIgPT09IFwiZnVuY3Rpb25cIikge1xuXHQgICAgICAgICAgICBzdWIudW5zdWIoKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5zcGxpY2UoaSwgMSk7XG5cdCAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9O1xuXHRcblx0ICAgIEJ1cy5wcm90b3R5cGUucGx1ZyA9IGZ1bmN0aW9uKGlucHV0KSB7XG5cdCAgICAgIHZhciBzdWI7XG5cdCAgICAgIGFzc2VydE9ic2VydmFibGUoaW5wdXQpO1xuXHQgICAgICBpZiAodGhpcy5lbmRlZCkge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgICAgfVxuXHQgICAgICBzdWIgPSB7XG5cdCAgICAgICAgaW5wdXQ6IGlucHV0XG5cdCAgICAgIH07XG5cdCAgICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5wdXNoKHN1Yik7XG5cdCAgICAgIGlmICgodGhpcy5zaW5rICE9IG51bGwpKSB7XG5cdCAgICAgICAgdGhpcy5zdWJzY3JpYmVJbnB1dChzdWIpO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiAoZnVuY3Rpb24oX3RoaXMpIHtcblx0ICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICByZXR1cm4gX3RoaXMudW5zdWJzY3JpYmVJbnB1dChpbnB1dCk7XG5cdCAgICAgICAgfTtcblx0ICAgICAgfSkodGhpcyk7XG5cdCAgICB9O1xuXHRcblx0ICAgIEJ1cy5wcm90b3R5cGUuZW5kID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgIHRoaXMuZW5kZWQgPSB0cnVlO1xuXHQgICAgICB0aGlzLnVuc3ViQWxsKCk7XG5cdCAgICAgIHJldHVybiB0eXBlb2YgdGhpcy5zaW5rID09PSBcImZ1bmN0aW9uXCIgPyB0aGlzLnNpbmsoZW5kRXZlbnQoKSkgOiB2b2lkIDA7XG5cdCAgICB9O1xuXHRcblx0ICAgIEJ1cy5wcm90b3R5cGUucHVzaCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG5cdCAgICAgIGlmICghdGhpcy5lbmRlZCkge1xuXHQgICAgICAgIHJldHVybiB0eXBlb2YgdGhpcy5zaW5rID09PSBcImZ1bmN0aW9uXCIgPyB0aGlzLnNpbmsobmV4dEV2ZW50KHZhbHVlKSkgOiB2b2lkIDA7XG5cdCAgICAgIH1cblx0ICAgIH07XG5cdFxuXHQgICAgQnVzLnByb3RvdHlwZS5lcnJvciA9IGZ1bmN0aW9uKGVycm9yKSB7XG5cdCAgICAgIHJldHVybiB0eXBlb2YgdGhpcy5zaW5rID09PSBcImZ1bmN0aW9uXCIgPyB0aGlzLnNpbmsobmV3IEVycm9yKGVycm9yKSkgOiB2b2lkIDA7XG5cdCAgICB9O1xuXHRcblx0ICAgIHJldHVybiBCdXM7XG5cdFxuXHQgIH0pKEV2ZW50U3RyZWFtKTtcblx0XG5cdCAgQmFjb24uQnVzID0gQnVzO1xuXHRcblx0ICBsaWZ0Q2FsbGJhY2sgPSBmdW5jdGlvbihkZXNjLCB3cmFwcGVkKSB7XG5cdCAgICByZXR1cm4gd2l0aE1ldGhvZENhbGxTdXBwb3J0KGZ1bmN0aW9uKCkge1xuXHQgICAgICB2YXIgYXJncywgZiwgc3RyZWFtO1xuXHQgICAgICBmID0gYXJndW1lbnRzWzBdLCBhcmdzID0gMiA8PSBhcmd1bWVudHMubGVuZ3RoID8gc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpIDogW107XG5cdCAgICAgIHN0cmVhbSA9IHBhcnRpYWxseUFwcGxpZWQod3JhcHBlZCwgW1xuXHQgICAgICAgIGZ1bmN0aW9uKHZhbHVlcywgY2FsbGJhY2spIHtcblx0ICAgICAgICAgIHJldHVybiBmLmFwcGx5KG51bGwsIHNsaWNlLmNhbGwodmFsdWVzKS5jb25jYXQoW2NhbGxiYWNrXSkpO1xuXHQgICAgICAgIH1cblx0ICAgICAgXSk7XG5cdCAgICAgIHJldHVybiB3aXRoRGVzYyhuZXcgQmFjb24uRGVzYyhCYWNvbiwgZGVzYywgW2ZdLmNvbmNhdChzbGljZS5jYWxsKGFyZ3MpKSksIEJhY29uLmNvbWJpbmVBc0FycmF5KGFyZ3MpLmZsYXRNYXAoc3RyZWFtKSk7XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICBCYWNvbi5mcm9tQ2FsbGJhY2sgPSBsaWZ0Q2FsbGJhY2soXCJmcm9tQ2FsbGJhY2tcIiwgZnVuY3Rpb24oKSB7XG5cdCAgICB2YXIgYXJncywgZjtcblx0ICAgIGYgPSBhcmd1bWVudHNbMF0sIGFyZ3MgPSAyIDw9IGFyZ3VtZW50cy5sZW5ndGggPyBzbGljZS5jYWxsKGFyZ3VtZW50cywgMSkgOiBbXTtcblx0ICAgIHJldHVybiBCYWNvbi5mcm9tQmluZGVyKGZ1bmN0aW9uKGhhbmRsZXIpIHtcblx0ICAgICAgbWFrZUZ1bmN0aW9uKGYsIGFyZ3MpKGhhbmRsZXIpO1xuXHQgICAgICByZXR1cm4gbm9wO1xuXHQgICAgfSwgKGZ1bmN0aW9uKHZhbHVlKSB7XG5cdCAgICAgIHJldHVybiBbdmFsdWUsIGVuZEV2ZW50KCldO1xuXHQgICAgfSkpO1xuXHQgIH0pO1xuXHRcblx0ICBCYWNvbi5mcm9tTm9kZUNhbGxiYWNrID0gbGlmdENhbGxiYWNrKFwiZnJvbU5vZGVDYWxsYmFja1wiLCBmdW5jdGlvbigpIHtcblx0ICAgIHZhciBhcmdzLCBmO1xuXHQgICAgZiA9IGFyZ3VtZW50c1swXSwgYXJncyA9IDIgPD0gYXJndW1lbnRzLmxlbmd0aCA/IHNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSA6IFtdO1xuXHQgICAgcmV0dXJuIEJhY29uLmZyb21CaW5kZXIoZnVuY3Rpb24oaGFuZGxlcikge1xuXHQgICAgICBtYWtlRnVuY3Rpb24oZiwgYXJncykoaGFuZGxlcik7XG5cdCAgICAgIHJldHVybiBub3A7XG5cdCAgICB9LCBmdW5jdGlvbihlcnJvciwgdmFsdWUpIHtcblx0ICAgICAgaWYgKGVycm9yKSB7XG5cdCAgICAgICAgcmV0dXJuIFtuZXcgRXJyb3IoZXJyb3IpLCBlbmRFdmVudCgpXTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gW3ZhbHVlLCBlbmRFdmVudCgpXTtcblx0ICAgIH0pO1xuXHQgIH0pO1xuXHRcblx0ICBCYWNvbi5jb21iaW5lVGVtcGxhdGUgPSBmdW5jdGlvbih0ZW1wbGF0ZSkge1xuXHQgICAgdmFyIGFwcGx5U3RyZWFtVmFsdWUsIGNvbWJpbmF0b3IsIGNvbXBpbGUsIGNvbXBpbGVUZW1wbGF0ZSwgY29uc3RhbnRWYWx1ZSwgY3VycmVudCwgZnVuY3MsIG1rQ29udGV4dCwgcHVzaENvbnRleHQsIHNldFZhbHVlLCBzdHJlYW1zO1xuXHQgICAgZnVuY3MgPSBbXTtcblx0ICAgIHN0cmVhbXMgPSBbXTtcblx0ICAgIGN1cnJlbnQgPSBmdW5jdGlvbihjdHhTdGFjaykge1xuXHQgICAgICByZXR1cm4gY3R4U3RhY2tbY3R4U3RhY2subGVuZ3RoIC0gMV07XG5cdCAgICB9O1xuXHQgICAgc2V0VmFsdWUgPSBmdW5jdGlvbihjdHhTdGFjaywga2V5LCB2YWx1ZSkge1xuXHQgICAgICByZXR1cm4gY3VycmVudChjdHhTdGFjaylba2V5XSA9IHZhbHVlO1xuXHQgICAgfTtcblx0ICAgIGFwcGx5U3RyZWFtVmFsdWUgPSBmdW5jdGlvbihrZXksIGluZGV4KSB7XG5cdCAgICAgIHJldHVybiBmdW5jdGlvbihjdHhTdGFjaywgdmFsdWVzKSB7XG5cdCAgICAgICAgcmV0dXJuIHNldFZhbHVlKGN0eFN0YWNrLCBrZXksIHZhbHVlc1tpbmRleF0pO1xuXHQgICAgICB9O1xuXHQgICAgfTtcblx0ICAgIGNvbnN0YW50VmFsdWUgPSBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG5cdCAgICAgIHJldHVybiBmdW5jdGlvbihjdHhTdGFjaykge1xuXHQgICAgICAgIHJldHVybiBzZXRWYWx1ZShjdHhTdGFjaywga2V5LCB2YWx1ZSk7XG5cdCAgICAgIH07XG5cdCAgICB9O1xuXHQgICAgbWtDb250ZXh0ID0gZnVuY3Rpb24odGVtcGxhdGUpIHtcblx0ICAgICAgaWYgKGlzQXJyYXkodGVtcGxhdGUpKSB7XG5cdCAgICAgICAgcmV0dXJuIFtdO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldHVybiB7fTtcblx0ICAgICAgfVxuXHQgICAgfTtcblx0ICAgIHB1c2hDb250ZXh0ID0gZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuXHQgICAgICByZXR1cm4gZnVuY3Rpb24oY3R4U3RhY2spIHtcblx0ICAgICAgICB2YXIgbmV3Q29udGV4dDtcblx0ICAgICAgICBuZXdDb250ZXh0ID0gbWtDb250ZXh0KHZhbHVlKTtcblx0ICAgICAgICBzZXRWYWx1ZShjdHhTdGFjaywga2V5LCBuZXdDb250ZXh0KTtcblx0ICAgICAgICByZXR1cm4gY3R4U3RhY2sucHVzaChuZXdDb250ZXh0KTtcblx0ICAgICAgfTtcblx0ICAgIH07XG5cdCAgICBjb21waWxlID0gZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuXHQgICAgICB2YXIgcG9wQ29udGV4dDtcblx0ICAgICAgaWYgKGlzT2JzZXJ2YWJsZSh2YWx1ZSkpIHtcblx0ICAgICAgICBzdHJlYW1zLnB1c2godmFsdWUpO1xuXHQgICAgICAgIHJldHVybiBmdW5jcy5wdXNoKGFwcGx5U3RyZWFtVmFsdWUoa2V5LCBzdHJlYW1zLmxlbmd0aCAtIDEpKTtcblx0ICAgICAgfSBlbHNlIGlmICh2YWx1ZSA9PT0gT2JqZWN0KHZhbHVlKSAmJiB0eXBlb2YgdmFsdWUgIT09IFwiZnVuY3Rpb25cIiAmJiAhKHZhbHVlIGluc3RhbmNlb2YgUmVnRXhwKSAmJiAhKHZhbHVlIGluc3RhbmNlb2YgRGF0ZSkpIHtcblx0ICAgICAgICBwb3BDb250ZXh0ID0gZnVuY3Rpb24oY3R4U3RhY2spIHtcblx0ICAgICAgICAgIHJldHVybiBjdHhTdGFjay5wb3AoKTtcblx0ICAgICAgICB9O1xuXHQgICAgICAgIGZ1bmNzLnB1c2gocHVzaENvbnRleHQoa2V5LCB2YWx1ZSkpO1xuXHQgICAgICAgIGNvbXBpbGVUZW1wbGF0ZSh2YWx1ZSk7XG5cdCAgICAgICAgcmV0dXJuIGZ1bmNzLnB1c2gocG9wQ29udGV4dCk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIGZ1bmNzLnB1c2goY29uc3RhbnRWYWx1ZShrZXksIHZhbHVlKSk7XG5cdCAgICAgIH1cblx0ICAgIH07XG5cdCAgICBjb21waWxlVGVtcGxhdGUgPSBmdW5jdGlvbih0ZW1wbGF0ZSkge1xuXHQgICAgICByZXR1cm4gXy5lYWNoKHRlbXBsYXRlLCBjb21waWxlKTtcblx0ICAgIH07XG5cdCAgICBjb21waWxlVGVtcGxhdGUodGVtcGxhdGUpO1xuXHQgICAgY29tYmluYXRvciA9IGZ1bmN0aW9uKHZhbHVlcykge1xuXHQgICAgICB2YXIgY3R4U3RhY2ssIGYsIGosIGxlbjEsIHJvb3RDb250ZXh0O1xuXHQgICAgICByb290Q29udGV4dCA9IG1rQ29udGV4dCh0ZW1wbGF0ZSk7XG5cdCAgICAgIGN0eFN0YWNrID0gW3Jvb3RDb250ZXh0XTtcblx0ICAgICAgZm9yIChqID0gMCwgbGVuMSA9IGZ1bmNzLmxlbmd0aDsgaiA8IGxlbjE7IGorKykge1xuXHQgICAgICAgIGYgPSBmdW5jc1tqXTtcblx0ICAgICAgICBmKGN0eFN0YWNrLCB2YWx1ZXMpO1xuXHQgICAgICB9XG5cdCAgICAgIHJldHVybiByb290Q29udGV4dDtcblx0ICAgIH07XG5cdCAgICByZXR1cm4gd2l0aERlc2MobmV3IEJhY29uLkRlc2MoQmFjb24sIFwiY29tYmluZVRlbXBsYXRlXCIsIFt0ZW1wbGF0ZV0pLCBCYWNvbi5jb21iaW5lQXNBcnJheShzdHJlYW1zKS5tYXAoY29tYmluYXRvcikpO1xuXHQgIH07XG5cdFxuXHQgIGFkZFByb3BlcnR5SW5pdFZhbHVlVG9TdHJlYW0gPSBmdW5jdGlvbihwcm9wZXJ0eSwgc3RyZWFtKSB7XG5cdCAgICB2YXIganVzdEluaXRWYWx1ZTtcblx0ICAgIGp1c3RJbml0VmFsdWUgPSBuZXcgRXZlbnRTdHJlYW0oZGVzY3JpYmUocHJvcGVydHksIFwianVzdEluaXRWYWx1ZVwiKSwgZnVuY3Rpb24oc2luaykge1xuXHQgICAgICB2YXIgdW5zdWIsIHZhbHVlO1xuXHQgICAgICB2YWx1ZSA9IHZvaWQgMDtcblx0ICAgICAgdW5zdWIgPSBwcm9wZXJ0eS5kaXNwYXRjaGVyLnN1YnNjcmliZShmdW5jdGlvbihldmVudCkge1xuXHQgICAgICAgIGlmICghZXZlbnQuaXNFbmQoKSkge1xuXHQgICAgICAgICAgdmFsdWUgPSBldmVudDtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIEJhY29uLm5vTW9yZTtcblx0ICAgICAgfSk7XG5cdCAgICAgIFVwZGF0ZUJhcnJpZXIud2hlbkRvbmVXaXRoKGp1c3RJbml0VmFsdWUsIGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIGlmICh2YWx1ZSAhPSBudWxsKSB7XG5cdCAgICAgICAgICBzaW5rKHZhbHVlKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgcmV0dXJuIHNpbmsoZW5kRXZlbnQoKSk7XG5cdCAgICAgIH0pO1xuXHQgICAgICByZXR1cm4gdW5zdWI7XG5cdCAgICB9KTtcblx0ICAgIHJldHVybiBqdXN0SW5pdFZhbHVlLmNvbmNhdChzdHJlYW0pLnRvUHJvcGVydHkoKTtcblx0ICB9O1xuXHRcblx0ICBCYWNvbi5PYnNlcnZhYmxlLnByb3RvdHlwZS5tYXBFbmQgPSBmdW5jdGlvbigpIHtcblx0ICAgIHZhciBmO1xuXHQgICAgZiA9IG1ha2VGdW5jdGlvbkFyZ3MoYXJndW1lbnRzKTtcblx0ICAgIHJldHVybiB3aXRoRGVzYyhuZXcgQmFjb24uRGVzYyh0aGlzLCBcIm1hcEVuZFwiLCBbZl0pLCB0aGlzLndpdGhIYW5kbGVyKGZ1bmN0aW9uKGV2ZW50KSB7XG5cdCAgICAgIGlmIChldmVudC5pc0VuZCgpKSB7XG5cdCAgICAgICAgdGhpcy5wdXNoKG5leHRFdmVudChmKGV2ZW50KSkpO1xuXHQgICAgICAgIHRoaXMucHVzaChlbmRFdmVudCgpKTtcblx0ICAgICAgICByZXR1cm4gQmFjb24ubm9Nb3JlO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldHVybiB0aGlzLnB1c2goZXZlbnQpO1xuXHQgICAgICB9XG5cdCAgICB9KSk7XG5cdCAgfTtcblx0XG5cdCAgQmFjb24uT2JzZXJ2YWJsZS5wcm90b3R5cGUuc2tpcEVycm9ycyA9IGZ1bmN0aW9uKCkge1xuXHQgICAgcmV0dXJuIHdpdGhEZXNjKG5ldyBCYWNvbi5EZXNjKHRoaXMsIFwic2tpcEVycm9yc1wiLCBbXSksIHRoaXMud2l0aEhhbmRsZXIoZnVuY3Rpb24oZXZlbnQpIHtcblx0ICAgICAgaWYgKGV2ZW50LmlzRXJyb3IoKSkge1xuXHQgICAgICAgIHJldHVybiBCYWNvbi5tb3JlO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldHVybiB0aGlzLnB1c2goZXZlbnQpO1xuXHQgICAgICB9XG5cdCAgICB9KSk7XG5cdCAgfTtcblx0XG5cdCAgQmFjb24uRXZlbnRTdHJlYW0ucHJvdG90eXBlLnRha2VVbnRpbCA9IGZ1bmN0aW9uKHN0b3BwZXIpIHtcblx0ICAgIHZhciBlbmRNYXJrZXI7XG5cdCAgICBlbmRNYXJrZXIgPSB7fTtcblx0ICAgIHJldHVybiB3aXRoRGVzYyhuZXcgQmFjb24uRGVzYyh0aGlzLCBcInRha2VVbnRpbFwiLCBbc3RvcHBlcl0pLCBCYWNvbi5ncm91cFNpbXVsdGFuZW91cyh0aGlzLm1hcEVuZChlbmRNYXJrZXIpLCBzdG9wcGVyLnNraXBFcnJvcnMoKSkud2l0aEhhbmRsZXIoZnVuY3Rpb24oZXZlbnQpIHtcblx0ICAgICAgdmFyIGRhdGEsIGosIGxlbjEsIHJlZiwgcmVwbHksIHZhbHVlO1xuXHQgICAgICBpZiAoIWV2ZW50Lmhhc1ZhbHVlKCkpIHtcblx0ICAgICAgICByZXR1cm4gdGhpcy5wdXNoKGV2ZW50KTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICByZWYgPSBldmVudC52YWx1ZSgpLCBkYXRhID0gcmVmWzBdLCBzdG9wcGVyID0gcmVmWzFdO1xuXHQgICAgICAgIGlmIChzdG9wcGVyLmxlbmd0aCkge1xuXHQgICAgICAgICAgcmV0dXJuIHRoaXMucHVzaChlbmRFdmVudCgpKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgcmVwbHkgPSBCYWNvbi5tb3JlO1xuXHQgICAgICAgICAgZm9yIChqID0gMCwgbGVuMSA9IGRhdGEubGVuZ3RoOyBqIDwgbGVuMTsgaisrKSB7XG5cdCAgICAgICAgICAgIHZhbHVlID0gZGF0YVtqXTtcblx0ICAgICAgICAgICAgaWYgKHZhbHVlID09PSBlbmRNYXJrZXIpIHtcblx0ICAgICAgICAgICAgICByZXBseSA9IHRoaXMucHVzaChlbmRFdmVudCgpKTtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICByZXBseSA9IHRoaXMucHVzaChuZXh0RXZlbnQodmFsdWUpKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgfVxuXHQgICAgICAgICAgcmV0dXJuIHJlcGx5O1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfSkpO1xuXHQgIH07XG5cdFxuXHQgIEJhY29uLlByb3BlcnR5LnByb3RvdHlwZS50YWtlVW50aWwgPSBmdW5jdGlvbihzdG9wcGVyKSB7XG5cdCAgICB2YXIgY2hhbmdlcztcblx0ICAgIGNoYW5nZXMgPSB0aGlzLmNoYW5nZXMoKS50YWtlVW50aWwoc3RvcHBlcik7XG5cdCAgICByZXR1cm4gd2l0aERlc2MobmV3IEJhY29uLkRlc2ModGhpcywgXCJ0YWtlVW50aWxcIiwgW3N0b3BwZXJdKSwgYWRkUHJvcGVydHlJbml0VmFsdWVUb1N0cmVhbSh0aGlzLCBjaGFuZ2VzKSk7XG5cdCAgfTtcblx0XG5cdCAgQmFjb24uT2JzZXJ2YWJsZS5wcm90b3R5cGUuZmxhdE1hcExhdGVzdCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgdmFyIGYsIHN0cmVhbTtcblx0ICAgIGYgPSBtYWtlU3Bhd25lcihhcmd1bWVudHMpO1xuXHQgICAgc3RyZWFtID0gdGhpcy50b0V2ZW50U3RyZWFtKCk7XG5cdCAgICByZXR1cm4gd2l0aERlc2MobmV3IEJhY29uLkRlc2ModGhpcywgXCJmbGF0TWFwTGF0ZXN0XCIsIFtmXSksIHN0cmVhbS5mbGF0TWFwKGZ1bmN0aW9uKHZhbHVlKSB7XG5cdCAgICAgIHJldHVybiBtYWtlT2JzZXJ2YWJsZShmKHZhbHVlKSkudGFrZVVudGlsKHN0cmVhbSk7XG5cdCAgICB9KSk7XG5cdCAgfTtcblx0XG5cdCAgQmFjb24uUHJvcGVydHkucHJvdG90eXBlLmRlbGF5Q2hhbmdlcyA9IGZ1bmN0aW9uKGRlc2MsIGYpIHtcblx0ICAgIHJldHVybiB3aXRoRGVzYyhkZXNjLCBhZGRQcm9wZXJ0eUluaXRWYWx1ZVRvU3RyZWFtKHRoaXMsIGYodGhpcy5jaGFuZ2VzKCkpKSk7XG5cdCAgfTtcblx0XG5cdCAgQmFjb24uRXZlbnRTdHJlYW0ucHJvdG90eXBlLmRlbGF5ID0gZnVuY3Rpb24oZGVsYXkpIHtcblx0ICAgIHJldHVybiB3aXRoRGVzYyhuZXcgQmFjb24uRGVzYyh0aGlzLCBcImRlbGF5XCIsIFtkZWxheV0pLCB0aGlzLmZsYXRNYXAoZnVuY3Rpb24odmFsdWUpIHtcblx0ICAgICAgcmV0dXJuIEJhY29uLmxhdGVyKGRlbGF5LCB2YWx1ZSk7XG5cdCAgICB9KSk7XG5cdCAgfTtcblx0XG5cdCAgQmFjb24uUHJvcGVydHkucHJvdG90eXBlLmRlbGF5ID0gZnVuY3Rpb24oZGVsYXkpIHtcblx0ICAgIHJldHVybiB0aGlzLmRlbGF5Q2hhbmdlcyhuZXcgQmFjb24uRGVzYyh0aGlzLCBcImRlbGF5XCIsIFtkZWxheV0pLCBmdW5jdGlvbihjaGFuZ2VzKSB7XG5cdCAgICAgIHJldHVybiBjaGFuZ2VzLmRlbGF5KGRlbGF5KTtcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIEJhY29uLkV2ZW50U3RyZWFtLnByb3RvdHlwZS5kZWJvdW5jZSA9IGZ1bmN0aW9uKGRlbGF5KSB7XG5cdCAgICByZXR1cm4gd2l0aERlc2MobmV3IEJhY29uLkRlc2ModGhpcywgXCJkZWJvdW5jZVwiLCBbZGVsYXldKSwgdGhpcy5mbGF0TWFwTGF0ZXN0KGZ1bmN0aW9uKHZhbHVlKSB7XG5cdCAgICAgIHJldHVybiBCYWNvbi5sYXRlcihkZWxheSwgdmFsdWUpO1xuXHQgICAgfSkpO1xuXHQgIH07XG5cdFxuXHQgIEJhY29uLlByb3BlcnR5LnByb3RvdHlwZS5kZWJvdW5jZSA9IGZ1bmN0aW9uKGRlbGF5KSB7XG5cdCAgICByZXR1cm4gdGhpcy5kZWxheUNoYW5nZXMobmV3IEJhY29uLkRlc2ModGhpcywgXCJkZWJvdW5jZVwiLCBbZGVsYXldKSwgZnVuY3Rpb24oY2hhbmdlcykge1xuXHQgICAgICByZXR1cm4gY2hhbmdlcy5kZWJvdW5jZShkZWxheSk7XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICBCYWNvbi5FdmVudFN0cmVhbS5wcm90b3R5cGUuZGVib3VuY2VJbW1lZGlhdGUgPSBmdW5jdGlvbihkZWxheSkge1xuXHQgICAgcmV0dXJuIHdpdGhEZXNjKG5ldyBCYWNvbi5EZXNjKHRoaXMsIFwiZGVib3VuY2VJbW1lZGlhdGVcIiwgW2RlbGF5XSksIHRoaXMuZmxhdE1hcEZpcnN0KGZ1bmN0aW9uKHZhbHVlKSB7XG5cdCAgICAgIHJldHVybiBCYWNvbi5vbmNlKHZhbHVlKS5jb25jYXQoQmFjb24ubGF0ZXIoZGVsYXkpLmZpbHRlcihmYWxzZSkpO1xuXHQgICAgfSkpO1xuXHQgIH07XG5cdFxuXHQgIEJhY29uLk9ic2VydmFibGUucHJvdG90eXBlLmRlY29kZSA9IGZ1bmN0aW9uKGNhc2VzKSB7XG5cdCAgICByZXR1cm4gd2l0aERlc2MobmV3IEJhY29uLkRlc2ModGhpcywgXCJkZWNvZGVcIiwgW2Nhc2VzXSksIHRoaXMuY29tYmluZShCYWNvbi5jb21iaW5lVGVtcGxhdGUoY2FzZXMpLCBmdW5jdGlvbihrZXksIHZhbHVlcykge1xuXHQgICAgICByZXR1cm4gdmFsdWVzW2tleV07XG5cdCAgICB9KSk7XG5cdCAgfTtcblx0XG5cdCAgQmFjb24uT2JzZXJ2YWJsZS5wcm90b3R5cGUuc2NhbiA9IGZ1bmN0aW9uKHNlZWQsIGYpIHtcblx0ICAgIHZhciBhY2MsIGluaXRIYW5kbGVkLCByZXN1bHRQcm9wZXJ0eSwgc3Vic2NyaWJlO1xuXHQgICAgZiA9IHRvQ29tYmluYXRvcihmKTtcblx0ICAgIGFjYyA9IHRvT3B0aW9uKHNlZWQpO1xuXHQgICAgaW5pdEhhbmRsZWQgPSBmYWxzZTtcblx0ICAgIHN1YnNjcmliZSA9IChmdW5jdGlvbihfdGhpcykge1xuXHQgICAgICByZXR1cm4gZnVuY3Rpb24oc2luaykge1xuXHQgICAgICAgIHZhciBpbml0U2VudCwgcmVwbHksIHNlbmRJbml0LCB1bnN1Yjtcblx0ICAgICAgICBpbml0U2VudCA9IGZhbHNlO1xuXHQgICAgICAgIHVuc3ViID0gbm9wO1xuXHQgICAgICAgIHJlcGx5ID0gQmFjb24ubW9yZTtcblx0ICAgICAgICBzZW5kSW5pdCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgaWYgKCFpbml0U2VudCkge1xuXHQgICAgICAgICAgICByZXR1cm4gYWNjLmZvckVhY2goZnVuY3Rpb24odmFsdWUpIHtcblx0ICAgICAgICAgICAgICBpbml0U2VudCA9IGluaXRIYW5kbGVkID0gdHJ1ZTtcblx0ICAgICAgICAgICAgICByZXBseSA9IHNpbmsobmV3IEluaXRpYWwoZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG5cdCAgICAgICAgICAgICAgfSkpO1xuXHQgICAgICAgICAgICAgIGlmIChyZXBseSA9PT0gQmFjb24ubm9Nb3JlKSB7XG5cdCAgICAgICAgICAgICAgICB1bnN1YigpO1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIHVuc3ViID0gbm9wO1xuXHQgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfTtcblx0ICAgICAgICB1bnN1YiA9IF90aGlzLmRpc3BhdGNoZXIuc3Vic2NyaWJlKGZ1bmN0aW9uKGV2ZW50KSB7XG5cdCAgICAgICAgICB2YXIgbmV4dCwgcHJldjtcblx0ICAgICAgICAgIGlmIChldmVudC5oYXNWYWx1ZSgpKSB7XG5cdCAgICAgICAgICAgIGlmIChpbml0SGFuZGxlZCAmJiBldmVudC5pc0luaXRpYWwoKSkge1xuXHQgICAgICAgICAgICAgIHJldHVybiBCYWNvbi5tb3JlO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgIGlmICghZXZlbnQuaXNJbml0aWFsKCkpIHtcblx0ICAgICAgICAgICAgICAgIHNlbmRJbml0KCk7XG5cdCAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgIGluaXRTZW50ID0gaW5pdEhhbmRsZWQgPSB0cnVlO1xuXHQgICAgICAgICAgICAgIHByZXYgPSBhY2MuZ2V0T3JFbHNlKHZvaWQgMCk7XG5cdCAgICAgICAgICAgICAgbmV4dCA9IGYocHJldiwgZXZlbnQudmFsdWUoKSk7XG5cdCAgICAgICAgICAgICAgYWNjID0gbmV3IFNvbWUobmV4dCk7XG5cdCAgICAgICAgICAgICAgcmV0dXJuIHNpbmsoZXZlbnQuYXBwbHkoZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gbmV4dDtcblx0ICAgICAgICAgICAgICB9KSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIGlmIChldmVudC5pc0VuZCgpKSB7XG5cdCAgICAgICAgICAgICAgcmVwbHkgPSBzZW5kSW5pdCgpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGlmIChyZXBseSAhPT0gQmFjb24ubm9Nb3JlKSB7XG5cdCAgICAgICAgICAgICAgcmV0dXJuIHNpbmsoZXZlbnQpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfSk7XG5cdCAgICAgICAgVXBkYXRlQmFycmllci53aGVuRG9uZVdpdGgocmVzdWx0UHJvcGVydHksIHNlbmRJbml0KTtcblx0ICAgICAgICByZXR1cm4gdW5zdWI7XG5cdCAgICAgIH07XG5cdCAgICB9KSh0aGlzKTtcblx0ICAgIHJldHVybiByZXN1bHRQcm9wZXJ0eSA9IG5ldyBQcm9wZXJ0eShuZXcgQmFjb24uRGVzYyh0aGlzLCBcInNjYW5cIiwgW3NlZWQsIGZdKSwgc3Vic2NyaWJlKTtcblx0ICB9O1xuXHRcblx0ICBCYWNvbi5PYnNlcnZhYmxlLnByb3RvdHlwZS5kaWZmID0gZnVuY3Rpb24oc3RhcnQsIGYpIHtcblx0ICAgIGYgPSB0b0NvbWJpbmF0b3IoZik7XG5cdCAgICByZXR1cm4gd2l0aERlc2MobmV3IEJhY29uLkRlc2ModGhpcywgXCJkaWZmXCIsIFtzdGFydCwgZl0pLCB0aGlzLnNjYW4oW3N0YXJ0XSwgZnVuY3Rpb24ocHJldlR1cGxlLCBuZXh0KSB7XG5cdCAgICAgIHJldHVybiBbbmV4dCwgZihwcmV2VHVwbGVbMF0sIG5leHQpXTtcblx0ICAgIH0pLmZpbHRlcihmdW5jdGlvbih0dXBsZSkge1xuXHQgICAgICByZXR1cm4gdHVwbGUubGVuZ3RoID09PSAyO1xuXHQgICAgfSkubWFwKGZ1bmN0aW9uKHR1cGxlKSB7XG5cdCAgICAgIHJldHVybiB0dXBsZVsxXTtcblx0ICAgIH0pKTtcblx0ICB9O1xuXHRcblx0ICBCYWNvbi5PYnNlcnZhYmxlLnByb3RvdHlwZS5kb0FjdGlvbiA9IGZ1bmN0aW9uKCkge1xuXHQgICAgdmFyIGY7XG5cdCAgICBmID0gbWFrZUZ1bmN0aW9uQXJncyhhcmd1bWVudHMpO1xuXHQgICAgcmV0dXJuIHdpdGhEZXNjKG5ldyBCYWNvbi5EZXNjKHRoaXMsIFwiZG9BY3Rpb25cIiwgW2ZdKSwgdGhpcy53aXRoSGFuZGxlcihmdW5jdGlvbihldmVudCkge1xuXHQgICAgICBpZiAoZXZlbnQuaGFzVmFsdWUoKSkge1xuXHQgICAgICAgIGYoZXZlbnQudmFsdWUoKSk7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIHRoaXMucHVzaChldmVudCk7XG5cdCAgICB9KSk7XG5cdCAgfTtcblx0XG5cdCAgQmFjb24uT2JzZXJ2YWJsZS5wcm90b3R5cGUuZG9FcnJvciA9IGZ1bmN0aW9uKCkge1xuXHQgICAgdmFyIGY7XG5cdCAgICBmID0gbWFrZUZ1bmN0aW9uQXJncyhhcmd1bWVudHMpO1xuXHQgICAgcmV0dXJuIHdpdGhEZXNjKG5ldyBCYWNvbi5EZXNjKHRoaXMsIFwiZG9FcnJvclwiLCBbZl0pLCB0aGlzLndpdGhIYW5kbGVyKGZ1bmN0aW9uKGV2ZW50KSB7XG5cdCAgICAgIGlmIChldmVudC5pc0Vycm9yKCkpIHtcblx0ICAgICAgICBmKGV2ZW50LmVycm9yKTtcblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gdGhpcy5wdXNoKGV2ZW50KTtcblx0ICAgIH0pKTtcblx0ICB9O1xuXHRcblx0ICBCYWNvbi5PYnNlcnZhYmxlLnByb3RvdHlwZS5kb0xvZyA9IGZ1bmN0aW9uKCkge1xuXHQgICAgdmFyIGFyZ3M7XG5cdCAgICBhcmdzID0gMSA8PSBhcmd1bWVudHMubGVuZ3RoID8gc2xpY2UuY2FsbChhcmd1bWVudHMsIDApIDogW107XG5cdCAgICByZXR1cm4gd2l0aERlc2MobmV3IEJhY29uLkRlc2ModGhpcywgXCJkb0xvZ1wiLCBhcmdzKSwgdGhpcy53aXRoSGFuZGxlcihmdW5jdGlvbihldmVudCkge1xuXHQgICAgICBpZiAodHlwZW9mIGNvbnNvbGUgIT09IFwidW5kZWZpbmVkXCIgJiYgY29uc29sZSAhPT0gbnVsbCkge1xuXHQgICAgICAgIGlmICh0eXBlb2YgY29uc29sZS5sb2cgPT09IFwiZnVuY3Rpb25cIikge1xuXHQgICAgICAgICAgY29uc29sZS5sb2cuYXBwbHkoY29uc29sZSwgc2xpY2UuY2FsbChhcmdzKS5jb25jYXQoW2V2ZW50LmxvZygpXSkpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gdGhpcy5wdXNoKGV2ZW50KTtcblx0ICAgIH0pKTtcblx0ICB9O1xuXHRcblx0ICBCYWNvbi5PYnNlcnZhYmxlLnByb3RvdHlwZS5lbmRPbkVycm9yID0gZnVuY3Rpb24oKSB7XG5cdCAgICB2YXIgYXJncywgZjtcblx0ICAgIGYgPSBhcmd1bWVudHNbMF0sIGFyZ3MgPSAyIDw9IGFyZ3VtZW50cy5sZW5ndGggPyBzbGljZS5jYWxsKGFyZ3VtZW50cywgMSkgOiBbXTtcblx0ICAgIGlmIChmID09IG51bGwpIHtcblx0ICAgICAgZiA9IHRydWU7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gY29udmVydEFyZ3NUb0Z1bmN0aW9uKHRoaXMsIGYsIGFyZ3MsIGZ1bmN0aW9uKGYpIHtcblx0ICAgICAgcmV0dXJuIHdpdGhEZXNjKG5ldyBCYWNvbi5EZXNjKHRoaXMsIFwiZW5kT25FcnJvclwiLCBbXSksIHRoaXMud2l0aEhhbmRsZXIoZnVuY3Rpb24oZXZlbnQpIHtcblx0ICAgICAgICBpZiAoZXZlbnQuaXNFcnJvcigpICYmIGYoZXZlbnQuZXJyb3IpKSB7XG5cdCAgICAgICAgICB0aGlzLnB1c2goZXZlbnQpO1xuXHQgICAgICAgICAgcmV0dXJuIHRoaXMucHVzaChlbmRFdmVudCgpKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgcmV0dXJuIHRoaXMucHVzaChldmVudCk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9KSk7XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICBPYnNlcnZhYmxlLnByb3RvdHlwZS5lcnJvcnMgPSBmdW5jdGlvbigpIHtcblx0ICAgIHJldHVybiB3aXRoRGVzYyhuZXcgQmFjb24uRGVzYyh0aGlzLCBcImVycm9yc1wiLCBbXSksIHRoaXMuZmlsdGVyKGZ1bmN0aW9uKCkge1xuXHQgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICB9KSk7XG5cdCAgfTtcblx0XG5cdCAgdmFsdWVBbmRFbmQgPSAoZnVuY3Rpb24odmFsdWUpIHtcblx0ICAgIHJldHVybiBbdmFsdWUsIGVuZEV2ZW50KCldO1xuXHQgIH0pO1xuXHRcblx0ICBCYWNvbi5mcm9tUHJvbWlzZSA9IGZ1bmN0aW9uKHByb21pc2UsIGFib3J0LCBldmVudFRyYW5zZm9ybWVyKSB7XG5cdCAgICBpZiAoZXZlbnRUcmFuc2Zvcm1lciA9PSBudWxsKSB7XG5cdCAgICAgIGV2ZW50VHJhbnNmb3JtZXIgPSB2YWx1ZUFuZEVuZDtcblx0ICAgIH1cblx0ICAgIHJldHVybiB3aXRoRGVzYyhuZXcgQmFjb24uRGVzYyhCYWNvbiwgXCJmcm9tUHJvbWlzZVwiLCBbcHJvbWlzZV0pLCBCYWNvbi5mcm9tQmluZGVyKGZ1bmN0aW9uKGhhbmRsZXIpIHtcblx0ICAgICAgdmFyIHJlZjtcblx0ICAgICAgaWYgKChyZWYgPSBwcm9taXNlLnRoZW4oaGFuZGxlciwgZnVuY3Rpb24oZSkge1xuXHQgICAgICAgIHJldHVybiBoYW5kbGVyKG5ldyBFcnJvcihlKSk7XG5cdCAgICAgIH0pKSAhPSBudWxsKSB7XG5cdCAgICAgICAgaWYgKHR5cGVvZiByZWYuZG9uZSA9PT0gXCJmdW5jdGlvblwiKSB7XG5cdCAgICAgICAgICByZWYuZG9uZSgpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgaWYgKGFib3J0KSB7XG5cdCAgICAgICAgICByZXR1cm4gdHlwZW9mIHByb21pc2UuYWJvcnQgPT09IFwiZnVuY3Rpb25cIiA/IHByb21pc2UuYWJvcnQoKSA6IHZvaWQgMDtcblx0ICAgICAgICB9XG5cdCAgICAgIH07XG5cdCAgICB9LCBldmVudFRyYW5zZm9ybWVyKSk7XG5cdCAgfTtcblx0XG5cdCAgQmFjb24uT2JzZXJ2YWJsZS5wcm90b3R5cGUubWFwRXJyb3IgPSBmdW5jdGlvbigpIHtcblx0ICAgIHZhciBmO1xuXHQgICAgZiA9IG1ha2VGdW5jdGlvbkFyZ3MoYXJndW1lbnRzKTtcblx0ICAgIHJldHVybiB3aXRoRGVzYyhuZXcgQmFjb24uRGVzYyh0aGlzLCBcIm1hcEVycm9yXCIsIFtmXSksIHRoaXMud2l0aEhhbmRsZXIoZnVuY3Rpb24oZXZlbnQpIHtcblx0ICAgICAgaWYgKGV2ZW50LmlzRXJyb3IoKSkge1xuXHQgICAgICAgIHJldHVybiB0aGlzLnB1c2gobmV4dEV2ZW50KGYoZXZlbnQuZXJyb3IpKSk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMucHVzaChldmVudCk7XG5cdCAgICAgIH1cblx0ICAgIH0pKTtcblx0ICB9O1xuXHRcblx0ICBCYWNvbi5PYnNlcnZhYmxlLnByb3RvdHlwZS5mbGF0TWFwRXJyb3IgPSBmdW5jdGlvbihmbikge1xuXHQgICAgcmV0dXJuIHdpdGhEZXNjKG5ldyBCYWNvbi5EZXNjKHRoaXMsIFwiZmxhdE1hcEVycm9yXCIsIFtmbl0pLCB0aGlzLm1hcEVycm9yKGZ1bmN0aW9uKGVycikge1xuXHQgICAgICByZXR1cm4gbmV3IEVycm9yKGVycik7XG5cdCAgICB9KS5mbGF0TWFwKGZ1bmN0aW9uKHgpIHtcblx0ICAgICAgaWYgKHggaW5zdGFuY2VvZiBFcnJvcikge1xuXHQgICAgICAgIHJldHVybiBmbih4LmVycm9yKTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gQmFjb24ub25jZSh4KTtcblx0ICAgICAgfVxuXHQgICAgfSkpO1xuXHQgIH07XG5cdFxuXHQgIEJhY29uLkV2ZW50U3RyZWFtLnByb3RvdHlwZS5zYW1wbGVkQnkgPSBmdW5jdGlvbihzYW1wbGVyLCBjb21iaW5hdG9yKSB7XG5cdCAgICByZXR1cm4gd2l0aERlc2MobmV3IEJhY29uLkRlc2ModGhpcywgXCJzYW1wbGVkQnlcIiwgW3NhbXBsZXIsIGNvbWJpbmF0b3JdKSwgdGhpcy50b1Byb3BlcnR5KCkuc2FtcGxlZEJ5KHNhbXBsZXIsIGNvbWJpbmF0b3IpKTtcblx0ICB9O1xuXHRcblx0ICBCYWNvbi5Qcm9wZXJ0eS5wcm90b3R5cGUuc2FtcGxlZEJ5ID0gZnVuY3Rpb24oc2FtcGxlciwgY29tYmluYXRvcikge1xuXHQgICAgdmFyIGxhenksIHJlc3VsdCwgc2FtcGxlclNvdXJjZSwgc3RyZWFtLCB0aGlzU291cmNlO1xuXHQgICAgaWYgKGNvbWJpbmF0b3IgIT0gbnVsbCkge1xuXHQgICAgICBjb21iaW5hdG9yID0gdG9Db21iaW5hdG9yKGNvbWJpbmF0b3IpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgbGF6eSA9IHRydWU7XG5cdCAgICAgIGNvbWJpbmF0b3IgPSBmdW5jdGlvbihmKSB7XG5cdCAgICAgICAgcmV0dXJuIGYudmFsdWUoKTtcblx0ICAgICAgfTtcblx0ICAgIH1cblx0ICAgIHRoaXNTb3VyY2UgPSBuZXcgU291cmNlKHRoaXMsIGZhbHNlLCBsYXp5KTtcblx0ICAgIHNhbXBsZXJTb3VyY2UgPSBuZXcgU291cmNlKHNhbXBsZXIsIHRydWUsIGxhenkpO1xuXHQgICAgc3RyZWFtID0gQmFjb24ud2hlbihbdGhpc1NvdXJjZSwgc2FtcGxlclNvdXJjZV0sIGNvbWJpbmF0b3IpO1xuXHQgICAgcmVzdWx0ID0gc2FtcGxlciBpbnN0YW5jZW9mIFByb3BlcnR5ID8gc3RyZWFtLnRvUHJvcGVydHkoKSA6IHN0cmVhbTtcblx0ICAgIHJldHVybiB3aXRoRGVzYyhuZXcgQmFjb24uRGVzYyh0aGlzLCBcInNhbXBsZWRCeVwiLCBbc2FtcGxlciwgY29tYmluYXRvcl0pLCByZXN1bHQpO1xuXHQgIH07XG5cdFxuXHQgIEJhY29uLlByb3BlcnR5LnByb3RvdHlwZS5zYW1wbGUgPSBmdW5jdGlvbihpbnRlcnZhbCkge1xuXHQgICAgcmV0dXJuIHdpdGhEZXNjKG5ldyBCYWNvbi5EZXNjKHRoaXMsIFwic2FtcGxlXCIsIFtpbnRlcnZhbF0pLCB0aGlzLnNhbXBsZWRCeShCYWNvbi5pbnRlcnZhbChpbnRlcnZhbCwge30pKSk7XG5cdCAgfTtcblx0XG5cdCAgQmFjb24uT2JzZXJ2YWJsZS5wcm90b3R5cGUubWFwID0gZnVuY3Rpb24oKSB7XG5cdCAgICB2YXIgYXJncywgcDtcblx0ICAgIHAgPSBhcmd1bWVudHNbMF0sIGFyZ3MgPSAyIDw9IGFyZ3VtZW50cy5sZW5ndGggPyBzbGljZS5jYWxsKGFyZ3VtZW50cywgMSkgOiBbXTtcblx0ICAgIGlmIChwIGluc3RhbmNlb2YgUHJvcGVydHkpIHtcblx0ICAgICAgcmV0dXJuIHAuc2FtcGxlZEJ5KHRoaXMsIGZvcm1lcik7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICByZXR1cm4gY29udmVydEFyZ3NUb0Z1bmN0aW9uKHRoaXMsIHAsIGFyZ3MsIGZ1bmN0aW9uKGYpIHtcblx0ICAgICAgICByZXR1cm4gd2l0aERlc2MobmV3IEJhY29uLkRlc2ModGhpcywgXCJtYXBcIiwgW2ZdKSwgdGhpcy53aXRoSGFuZGxlcihmdW5jdGlvbihldmVudCkge1xuXHQgICAgICAgICAgcmV0dXJuIHRoaXMucHVzaChldmVudC5mbWFwKGYpKTtcblx0ICAgICAgICB9KSk7XG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIEJhY29uLk9ic2VydmFibGUucHJvdG90eXBlLmZvbGQgPSBmdW5jdGlvbihzZWVkLCBmKSB7XG5cdCAgICByZXR1cm4gd2l0aERlc2MobmV3IEJhY29uLkRlc2ModGhpcywgXCJmb2xkXCIsIFtzZWVkLCBmXSksIHRoaXMuc2NhbihzZWVkLCBmKS5zYW1wbGVkQnkodGhpcy5maWx0ZXIoZmFsc2UpLm1hcEVuZCgpLnRvUHJvcGVydHkoKSkpO1xuXHQgIH07XG5cdFxuXHQgIE9ic2VydmFibGUucHJvdG90eXBlLnJlZHVjZSA9IE9ic2VydmFibGUucHJvdG90eXBlLmZvbGQ7XG5cdFxuXHQgIEJhY29uLmZyb21Qb2xsID0gZnVuY3Rpb24oZGVsYXksIHBvbGwpIHtcblx0ICAgIHJldHVybiB3aXRoRGVzYyhuZXcgQmFjb24uRGVzYyhCYWNvbiwgXCJmcm9tUG9sbFwiLCBbZGVsYXksIHBvbGxdKSwgQmFjb24uZnJvbUJpbmRlcigoZnVuY3Rpb24oaGFuZGxlcikge1xuXHQgICAgICB2YXIgaWQ7XG5cdCAgICAgIGlkID0gQmFjb24uc2NoZWR1bGVyLnNldEludGVydmFsKGhhbmRsZXIsIGRlbGF5KTtcblx0ICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHJldHVybiBCYWNvbi5zY2hlZHVsZXIuY2xlYXJJbnRlcnZhbChpZCk7XG5cdCAgICAgIH07XG5cdCAgICB9KSwgcG9sbCkpO1xuXHQgIH07XG5cdFxuXHQgIEJhY29uLk9ic2VydmFibGUucHJvdG90eXBlLmdyb3VwQnkgPSBmdW5jdGlvbihrZXlGLCBsaW1pdEYpIHtcblx0ICAgIHZhciBzcmMsIHN0cmVhbXM7XG5cdCAgICBpZiAobGltaXRGID09IG51bGwpIHtcblx0ICAgICAgbGltaXRGID0gQmFjb24uXy5pZDtcblx0ICAgIH1cblx0ICAgIHN0cmVhbXMgPSB7fTtcblx0ICAgIHNyYyA9IHRoaXM7XG5cdCAgICByZXR1cm4gc3JjLmZpbHRlcihmdW5jdGlvbih4KSB7XG5cdCAgICAgIHJldHVybiAhc3RyZWFtc1trZXlGKHgpXTtcblx0ICAgIH0pLm1hcChmdW5jdGlvbih4KSB7XG5cdCAgICAgIHZhciBkYXRhLCBrZXksIGxpbWl0ZWQsIHNpbWlsYXI7XG5cdCAgICAgIGtleSA9IGtleUYoeCk7XG5cdCAgICAgIHNpbWlsYXIgPSBzcmMuZmlsdGVyKGZ1bmN0aW9uKHgpIHtcblx0ICAgICAgICByZXR1cm4ga2V5Rih4KSA9PT0ga2V5O1xuXHQgICAgICB9KTtcblx0ICAgICAgZGF0YSA9IEJhY29uLm9uY2UoeCkuY29uY2F0KHNpbWlsYXIpO1xuXHQgICAgICBsaW1pdGVkID0gbGltaXRGKGRhdGEsIHgpLndpdGhIYW5kbGVyKGZ1bmN0aW9uKGV2ZW50KSB7XG5cdCAgICAgICAgdGhpcy5wdXNoKGV2ZW50KTtcblx0ICAgICAgICBpZiAoZXZlbnQuaXNFbmQoKSkge1xuXHQgICAgICAgICAgcmV0dXJuIGRlbGV0ZSBzdHJlYW1zW2tleV07XG5cdCAgICAgICAgfVxuXHQgICAgICB9KTtcblx0ICAgICAgcmV0dXJuIHN0cmVhbXNba2V5XSA9IGxpbWl0ZWQ7XG5cdCAgICB9KTtcblx0ICB9O1xuXHRcblx0ICBCYWNvbi5mcm9tQXJyYXkgPSBmdW5jdGlvbih2YWx1ZXMpIHtcblx0ICAgIHZhciBpO1xuXHQgICAgYXNzZXJ0QXJyYXkodmFsdWVzKTtcblx0ICAgIGlmICghdmFsdWVzLmxlbmd0aCkge1xuXHQgICAgICByZXR1cm4gd2l0aERlc2MobmV3IEJhY29uLkRlc2MoQmFjb24sIFwiZnJvbUFycmF5XCIsIHZhbHVlcyksIEJhY29uLm5ldmVyKCkpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgaSA9IDA7XG5cdCAgICAgIHJldHVybiBuZXcgRXZlbnRTdHJlYW0obmV3IEJhY29uLkRlc2MoQmFjb24sIFwiZnJvbUFycmF5XCIsIFt2YWx1ZXNdKSwgZnVuY3Rpb24oc2luaykge1xuXHQgICAgICAgIHZhciBwdXNoLCBwdXNoTmVlZGVkLCBwdXNoaW5nLCByZXBseSwgdW5zdWJkO1xuXHQgICAgICAgIHVuc3ViZCA9IGZhbHNlO1xuXHQgICAgICAgIHJlcGx5ID0gQmFjb24ubW9yZTtcblx0ICAgICAgICBwdXNoaW5nID0gZmFsc2U7XG5cdCAgICAgICAgcHVzaE5lZWRlZCA9IGZhbHNlO1xuXHQgICAgICAgIHB1c2ggPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgIHZhciB2YWx1ZTtcblx0ICAgICAgICAgIHB1c2hOZWVkZWQgPSB0cnVlO1xuXHQgICAgICAgICAgaWYgKHB1c2hpbmcpIHtcblx0ICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgICAgcHVzaGluZyA9IHRydWU7XG5cdCAgICAgICAgICB3aGlsZSAocHVzaE5lZWRlZCkge1xuXHQgICAgICAgICAgICBwdXNoTmVlZGVkID0gZmFsc2U7XG5cdCAgICAgICAgICAgIGlmICgocmVwbHkgIT09IEJhY29uLm5vTW9yZSkgJiYgIXVuc3ViZCkge1xuXHQgICAgICAgICAgICAgIHZhbHVlID0gdmFsdWVzW2krK107XG5cdCAgICAgICAgICAgICAgcmVwbHkgPSBzaW5rKHRvRXZlbnQodmFsdWUpKTtcblx0ICAgICAgICAgICAgICBpZiAocmVwbHkgIT09IEJhY29uLm5vTW9yZSkge1xuXHQgICAgICAgICAgICAgICAgaWYgKGkgPT09IHZhbHVlcy5sZW5ndGgpIHtcblx0ICAgICAgICAgICAgICAgICAgc2luayhlbmRFdmVudCgpKTtcblx0ICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAgIFVwZGF0ZUJhcnJpZXIuYWZ0ZXJUcmFuc2FjdGlvbihwdXNoKTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIHJldHVybiBwdXNoaW5nID0gZmFsc2U7XG5cdCAgICAgICAgfTtcblx0ICAgICAgICBwdXNoKCk7XG5cdCAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgcmV0dXJuIHVuc3ViZCA9IHRydWU7XG5cdCAgICAgICAgfTtcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgfTtcblx0XG5cdCAgQmFjb24uRXZlbnRTdHJlYW0ucHJvdG90eXBlLmhvbGRXaGVuID0gZnVuY3Rpb24odmFsdmUpIHtcblx0ICAgIHZhciBidWZmZXJlZFZhbHVlcywgb25Ib2xkLCBzcmM7XG5cdCAgICBvbkhvbGQgPSBmYWxzZTtcblx0ICAgIGJ1ZmZlcmVkVmFsdWVzID0gW107XG5cdCAgICBzcmMgPSB0aGlzO1xuXHQgICAgcmV0dXJuIG5ldyBFdmVudFN0cmVhbShuZXcgQmFjb24uRGVzYyh0aGlzLCBcImhvbGRXaGVuXCIsIFt2YWx2ZV0pLCBmdW5jdGlvbihzaW5rKSB7XG5cdCAgICAgIHZhciBjb21wb3NpdGUsIGVuZElmQm90aEVuZGVkLCBzdWJzY3JpYmVkO1xuXHQgICAgICBjb21wb3NpdGUgPSBuZXcgQ29tcG9zaXRlVW5zdWJzY3JpYmUoKTtcblx0ICAgICAgc3Vic2NyaWJlZCA9IGZhbHNlO1xuXHQgICAgICBlbmRJZkJvdGhFbmRlZCA9IGZ1bmN0aW9uKHVuc3ViKSB7XG5cdCAgICAgICAgaWYgKHR5cGVvZiB1bnN1YiA9PT0gXCJmdW5jdGlvblwiKSB7XG5cdCAgICAgICAgICB1bnN1YigpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAoY29tcG9zaXRlLmVtcHR5KCkgJiYgc3Vic2NyaWJlZCkge1xuXHQgICAgICAgICAgcmV0dXJuIHNpbmsoZW5kRXZlbnQoKSk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9O1xuXHQgICAgICBjb21wb3NpdGUuYWRkKGZ1bmN0aW9uKHVuc3ViQWxsLCB1bnN1Yk1lKSB7XG5cdCAgICAgICAgcmV0dXJuIHZhbHZlLnN1YnNjcmliZUludGVybmFsKGZ1bmN0aW9uKGV2ZW50KSB7XG5cdCAgICAgICAgICB2YXIgaiwgbGVuMSwgcmVzdWx0cywgdG9TZW5kLCB2YWx1ZTtcblx0ICAgICAgICAgIGlmIChldmVudC5oYXNWYWx1ZSgpKSB7XG5cdCAgICAgICAgICAgIG9uSG9sZCA9IGV2ZW50LnZhbHVlKCk7XG5cdCAgICAgICAgICAgIGlmICghb25Ib2xkKSB7XG5cdCAgICAgICAgICAgICAgdG9TZW5kID0gYnVmZmVyZWRWYWx1ZXM7XG5cdCAgICAgICAgICAgICAgYnVmZmVyZWRWYWx1ZXMgPSBbXTtcblx0ICAgICAgICAgICAgICByZXN1bHRzID0gW107XG5cdCAgICAgICAgICAgICAgZm9yIChqID0gMCwgbGVuMSA9IHRvU2VuZC5sZW5ndGg7IGogPCBsZW4xOyBqKyspIHtcblx0ICAgICAgICAgICAgICAgIHZhbHVlID0gdG9TZW5kW2pdO1xuXHQgICAgICAgICAgICAgICAgcmVzdWx0cy5wdXNoKHNpbmsobmV4dEV2ZW50KHZhbHVlKSkpO1xuXHQgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0cztcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgfSBlbHNlIGlmIChldmVudC5pc0VuZCgpKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBlbmRJZkJvdGhFbmRlZCh1bnN1Yk1lKTtcblx0ICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIHJldHVybiBzaW5rKGV2ZW50KTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9KTtcblx0ICAgICAgfSk7XG5cdCAgICAgIGNvbXBvc2l0ZS5hZGQoZnVuY3Rpb24odW5zdWJBbGwsIHVuc3ViTWUpIHtcblx0ICAgICAgICByZXR1cm4gc3JjLnN1YnNjcmliZUludGVybmFsKGZ1bmN0aW9uKGV2ZW50KSB7XG5cdCAgICAgICAgICBpZiAob25Ib2xkICYmIGV2ZW50Lmhhc1ZhbHVlKCkpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGJ1ZmZlcmVkVmFsdWVzLnB1c2goZXZlbnQudmFsdWUoKSk7XG5cdCAgICAgICAgICB9IGVsc2UgaWYgKGV2ZW50LmlzRW5kKCkgJiYgYnVmZmVyZWRWYWx1ZXMubGVuZ3RoKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBlbmRJZkJvdGhFbmRlZCh1bnN1Yk1lKTtcblx0ICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIHJldHVybiBzaW5rKGV2ZW50KTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9KTtcblx0ICAgICAgfSk7XG5cdCAgICAgIHN1YnNjcmliZWQgPSB0cnVlO1xuXHQgICAgICBlbmRJZkJvdGhFbmRlZCgpO1xuXHQgICAgICByZXR1cm4gY29tcG9zaXRlLnVuc3Vic2NyaWJlO1xuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgQmFjb24uaW50ZXJ2YWwgPSBmdW5jdGlvbihkZWxheSwgdmFsdWUpIHtcblx0ICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG5cdCAgICAgIHZhbHVlID0ge307XG5cdCAgICB9XG5cdCAgICByZXR1cm4gd2l0aERlc2MobmV3IEJhY29uLkRlc2MoQmFjb24sIFwiaW50ZXJ2YWxcIiwgW2RlbGF5LCB2YWx1ZV0pLCBCYWNvbi5mcm9tUG9sbChkZWxheSwgZnVuY3Rpb24oKSB7XG5cdCAgICAgIHJldHVybiBuZXh0RXZlbnQodmFsdWUpO1xuXHQgICAgfSkpO1xuXHQgIH07XG5cdFxuXHQgIEJhY29uLiQgPSB7fTtcblx0XG5cdCAgQmFjb24uJC5hc0V2ZW50U3RyZWFtID0gZnVuY3Rpb24oZXZlbnROYW1lLCBzZWxlY3RvciwgZXZlbnRUcmFuc2Zvcm1lcikge1xuXHQgICAgdmFyIHJlZjtcblx0ICAgIGlmIChfLmlzRnVuY3Rpb24oc2VsZWN0b3IpKSB7XG5cdCAgICAgIHJlZiA9IFtzZWxlY3Rvciwgdm9pZCAwXSwgZXZlbnRUcmFuc2Zvcm1lciA9IHJlZlswXSwgc2VsZWN0b3IgPSByZWZbMV07XG5cdCAgICB9XG5cdCAgICByZXR1cm4gd2l0aERlc2MobmV3IEJhY29uLkRlc2ModGhpcy5zZWxlY3RvciB8fCB0aGlzLCBcImFzRXZlbnRTdHJlYW1cIiwgW2V2ZW50TmFtZV0pLCBCYWNvbi5mcm9tQmluZGVyKChmdW5jdGlvbihfdGhpcykge1xuXHQgICAgICByZXR1cm4gZnVuY3Rpb24oaGFuZGxlcikge1xuXHQgICAgICAgIF90aGlzLm9uKGV2ZW50TmFtZSwgc2VsZWN0b3IsIGhhbmRsZXIpO1xuXHQgICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgIHJldHVybiBfdGhpcy5vZmYoZXZlbnROYW1lLCBzZWxlY3RvciwgaGFuZGxlcik7XG5cdCAgICAgICAgfTtcblx0ICAgICAgfTtcblx0ICAgIH0pKHRoaXMpLCBldmVudFRyYW5zZm9ybWVyKSk7XG5cdCAgfTtcblx0XG5cdCAgaWYgKChyZWYgPSB0eXBlb2YgalF1ZXJ5ICE9PSBcInVuZGVmaW5lZFwiICYmIGpRdWVyeSAhPT0gbnVsbCA/IGpRdWVyeSA6IHR5cGVvZiBaZXB0byAhPT0gXCJ1bmRlZmluZWRcIiAmJiBaZXB0byAhPT0gbnVsbCA/IFplcHRvIDogdm9pZCAwKSAhPSBudWxsKSB7XG5cdCAgICByZWYuZm4uYXNFdmVudFN0cmVhbSA9IEJhY29uLiQuYXNFdmVudFN0cmVhbTtcblx0ICB9XG5cdFxuXHQgIEJhY29uLk9ic2VydmFibGUucHJvdG90eXBlLmxvZyA9IGZ1bmN0aW9uKCkge1xuXHQgICAgdmFyIGFyZ3M7XG5cdCAgICBhcmdzID0gMSA8PSBhcmd1bWVudHMubGVuZ3RoID8gc2xpY2UuY2FsbChhcmd1bWVudHMsIDApIDogW107XG5cdCAgICB0aGlzLnN1YnNjcmliZShmdW5jdGlvbihldmVudCkge1xuXHQgICAgICByZXR1cm4gdHlwZW9mIGNvbnNvbGUgIT09IFwidW5kZWZpbmVkXCIgJiYgY29uc29sZSAhPT0gbnVsbCA/IHR5cGVvZiBjb25zb2xlLmxvZyA9PT0gXCJmdW5jdGlvblwiID8gY29uc29sZS5sb2cuYXBwbHkoY29uc29sZSwgc2xpY2UuY2FsbChhcmdzKS5jb25jYXQoW2V2ZW50LmxvZygpXSkpIDogdm9pZCAwIDogdm9pZCAwO1xuXHQgICAgfSk7XG5cdCAgICByZXR1cm4gdGhpcztcblx0ICB9O1xuXHRcblx0ICBCYWNvbi5FdmVudFN0cmVhbS5wcm90b3R5cGUubWVyZ2UgPSBmdW5jdGlvbihyaWdodCkge1xuXHQgICAgdmFyIGxlZnQ7XG5cdCAgICBhc3NlcnRFdmVudFN0cmVhbShyaWdodCk7XG5cdCAgICBsZWZ0ID0gdGhpcztcblx0ICAgIHJldHVybiB3aXRoRGVzYyhuZXcgQmFjb24uRGVzYyhsZWZ0LCBcIm1lcmdlXCIsIFtyaWdodF0pLCBCYWNvbi5tZXJnZUFsbCh0aGlzLCByaWdodCkpO1xuXHQgIH07XG5cdFxuXHQgIEJhY29uLm1lcmdlQWxsID0gZnVuY3Rpb24oKSB7XG5cdCAgICB2YXIgc3RyZWFtcztcblx0ICAgIHN0cmVhbXMgPSBhcmd1bWVudHNUb09ic2VydmFibGVzKGFyZ3VtZW50cyk7XG5cdCAgICBpZiAoc3RyZWFtcy5sZW5ndGgpIHtcblx0ICAgICAgcmV0dXJuIG5ldyBFdmVudFN0cmVhbShuZXcgQmFjb24uRGVzYyhCYWNvbiwgXCJtZXJnZUFsbFwiLCBzdHJlYW1zKSwgZnVuY3Rpb24oc2luaykge1xuXHQgICAgICAgIHZhciBlbmRzLCBzaW5rcywgc21hcnRTaW5rO1xuXHQgICAgICAgIGVuZHMgPSAwO1xuXHQgICAgICAgIHNtYXJ0U2luayA9IGZ1bmN0aW9uKG9icykge1xuXHQgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKHVuc3ViQm90aCkge1xuXHQgICAgICAgICAgICByZXR1cm4gb2JzLmRpc3BhdGNoZXIuc3Vic2NyaWJlKGZ1bmN0aW9uKGV2ZW50KSB7XG5cdCAgICAgICAgICAgICAgdmFyIHJlcGx5O1xuXHQgICAgICAgICAgICAgIGlmIChldmVudC5pc0VuZCgpKSB7XG5cdCAgICAgICAgICAgICAgICBlbmRzKys7XG5cdCAgICAgICAgICAgICAgICBpZiAoZW5kcyA9PT0gc3RyZWFtcy5sZW5ndGgpIHtcblx0ICAgICAgICAgICAgICAgICAgcmV0dXJuIHNpbmsoZW5kRXZlbnQoKSk7XG5cdCAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgICByZXR1cm4gQmFjb24ubW9yZTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgcmVwbHkgPSBzaW5rKGV2ZW50KTtcblx0ICAgICAgICAgICAgICAgIGlmIChyZXBseSA9PT0gQmFjb24ubm9Nb3JlKSB7XG5cdCAgICAgICAgICAgICAgICAgIHVuc3ViQm90aCgpO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgcmV0dXJuIHJlcGx5O1xuXHQgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICB9O1xuXHQgICAgICAgIH07XG5cdCAgICAgICAgc2lua3MgPSBfLm1hcChzbWFydFNpbmssIHN0cmVhbXMpO1xuXHQgICAgICAgIHJldHVybiBuZXcgQmFjb24uQ29tcG9zaXRlVW5zdWJzY3JpYmUoc2lua3MpLnVuc3Vic2NyaWJlO1xuXHQgICAgICB9KTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHJldHVybiBCYWNvbi5uZXZlcigpO1xuXHQgICAgfVxuXHQgIH07XG5cdFxuXHQgIEJhY29uLnJlcGVhdGVkbHkgPSBmdW5jdGlvbihkZWxheSwgdmFsdWVzKSB7XG5cdCAgICB2YXIgaW5kZXg7XG5cdCAgICBpbmRleCA9IDA7XG5cdCAgICByZXR1cm4gd2l0aERlc2MobmV3IEJhY29uLkRlc2MoQmFjb24sIFwicmVwZWF0ZWRseVwiLCBbZGVsYXksIHZhbHVlc10pLCBCYWNvbi5mcm9tUG9sbChkZWxheSwgZnVuY3Rpb24oKSB7XG5cdCAgICAgIHJldHVybiB2YWx1ZXNbaW5kZXgrKyAlIHZhbHVlcy5sZW5ndGhdO1xuXHQgICAgfSkpO1xuXHQgIH07XG5cdFxuXHQgIEJhY29uLnJlcGVhdCA9IGZ1bmN0aW9uKGdlbmVyYXRvcikge1xuXHQgICAgdmFyIGluZGV4O1xuXHQgICAgaW5kZXggPSAwO1xuXHQgICAgcmV0dXJuIEJhY29uLmZyb21CaW5kZXIoZnVuY3Rpb24oc2luaykge1xuXHQgICAgICB2YXIgZmxhZywgaGFuZGxlRXZlbnQsIHJlcGx5LCBzdWJzY3JpYmVOZXh0LCB1bnN1Yjtcblx0ICAgICAgZmxhZyA9IGZhbHNlO1xuXHQgICAgICByZXBseSA9IEJhY29uLm1vcmU7XG5cdCAgICAgIHVuc3ViID0gZnVuY3Rpb24oKSB7fTtcblx0ICAgICAgaGFuZGxlRXZlbnQgPSBmdW5jdGlvbihldmVudCkge1xuXHQgICAgICAgIGlmIChldmVudC5pc0VuZCgpKSB7XG5cdCAgICAgICAgICBpZiAoIWZsYWcpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGZsYWcgPSB0cnVlO1xuXHQgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHN1YnNjcmliZU5leHQoKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgcmV0dXJuIHJlcGx5ID0gc2luayhldmVudCk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9O1xuXHQgICAgICBzdWJzY3JpYmVOZXh0ID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgdmFyIG5leHQ7XG5cdCAgICAgICAgZmxhZyA9IHRydWU7XG5cdCAgICAgICAgd2hpbGUgKGZsYWcgJiYgcmVwbHkgIT09IEJhY29uLm5vTW9yZSkge1xuXHQgICAgICAgICAgbmV4dCA9IGdlbmVyYXRvcihpbmRleCsrKTtcblx0ICAgICAgICAgIGZsYWcgPSBmYWxzZTtcblx0ICAgICAgICAgIGlmIChuZXh0KSB7XG5cdCAgICAgICAgICAgIHVuc3ViID0gbmV4dC5zdWJzY3JpYmVJbnRlcm5hbChoYW5kbGVFdmVudCk7XG5cdCAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBzaW5rKGVuZEV2ZW50KCkpO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gZmxhZyA9IHRydWU7XG5cdCAgICAgIH07XG5cdCAgICAgIHN1YnNjcmliZU5leHQoKTtcblx0ICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHJldHVybiB1bnN1YigpO1xuXHQgICAgICB9O1xuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgQmFjb24ucmV0cnkgPSBmdW5jdGlvbihvcHRpb25zKSB7XG5cdCAgICB2YXIgZGVsYXksIGVycm9yLCBmaW5pc2hlZCwgaXNSZXRyeWFibGUsIG1heFJldHJpZXMsIHJldHJpZXMsIHNvdXJjZTtcblx0ICAgIGlmICghXy5pc0Z1bmN0aW9uKG9wdGlvbnMuc291cmNlKSkge1xuXHQgICAgICB0aHJvdyBuZXcgRXhjZXB0aW9uKFwiJ3NvdXJjZScgb3B0aW9uIGhhcyB0byBiZSBhIGZ1bmN0aW9uXCIpO1xuXHQgICAgfVxuXHQgICAgc291cmNlID0gb3B0aW9ucy5zb3VyY2U7XG5cdCAgICByZXRyaWVzID0gb3B0aW9ucy5yZXRyaWVzIHx8IDA7XG5cdCAgICBtYXhSZXRyaWVzID0gb3B0aW9ucy5tYXhSZXRyaWVzIHx8IHJldHJpZXM7XG5cdCAgICBkZWxheSA9IG9wdGlvbnMuZGVsYXkgfHwgZnVuY3Rpb24oKSB7XG5cdCAgICAgIHJldHVybiAwO1xuXHQgICAgfTtcblx0ICAgIGlzUmV0cnlhYmxlID0gb3B0aW9ucy5pc1JldHJ5YWJsZSB8fCBmdW5jdGlvbigpIHtcblx0ICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICB9O1xuXHQgICAgZmluaXNoZWQgPSBmYWxzZTtcblx0ICAgIGVycm9yID0gbnVsbDtcblx0ICAgIHJldHVybiB3aXRoRGVzYyhuZXcgQmFjb24uRGVzYyhCYWNvbiwgXCJyZXRyeVwiLCBbb3B0aW9uc10pLCBCYWNvbi5yZXBlYXQoZnVuY3Rpb24oKSB7XG5cdCAgICAgIHZhciBjb250ZXh0LCBwYXVzZSwgdmFsdWVTdHJlYW07XG5cdCAgICAgIGlmIChmaW5pc2hlZCkge1xuXHQgICAgICAgIHJldHVybiBudWxsO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHZhbHVlU3RyZWFtID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICByZXR1cm4gc291cmNlKCkuZW5kT25FcnJvcigpLndpdGhIYW5kbGVyKGZ1bmN0aW9uKGV2ZW50KSB7XG5cdCAgICAgICAgICAgIGlmIChldmVudC5pc0Vycm9yKCkpIHtcblx0ICAgICAgICAgICAgICBlcnJvciA9IGV2ZW50O1xuXHQgICAgICAgICAgICAgIGlmIChpc1JldHJ5YWJsZShlcnJvci5lcnJvcikgJiYgcmV0cmllcyA+IDApIHtcblx0XG5cdCAgICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgIGZpbmlzaGVkID0gdHJ1ZTtcblx0ICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnB1c2goZXZlbnQpO1xuXHQgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICBpZiAoZXZlbnQuaGFzVmFsdWUoKSkge1xuXHQgICAgICAgICAgICAgICAgZXJyb3IgPSBudWxsO1xuXHQgICAgICAgICAgICAgICAgZmluaXNoZWQgPSB0cnVlO1xuXHQgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wdXNoKGV2ZW50KTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgfSk7XG5cdCAgICAgICAgfTtcblx0ICAgICAgICBpZiAoZXJyb3IpIHtcblx0ICAgICAgICAgIGNvbnRleHQgPSB7XG5cdCAgICAgICAgICAgIGVycm9yOiBlcnJvci5lcnJvcixcblx0ICAgICAgICAgICAgcmV0cmllc0RvbmU6IG1heFJldHJpZXMgLSByZXRyaWVzXG5cdCAgICAgICAgICB9O1xuXHQgICAgICAgICAgcGF1c2UgPSBCYWNvbi5sYXRlcihkZWxheShjb250ZXh0KSkuZmlsdGVyKGZhbHNlKTtcblx0ICAgICAgICAgIHJldHJpZXMgPSByZXRyaWVzIC0gMTtcblx0ICAgICAgICAgIHJldHVybiBwYXVzZS5jb25jYXQoQmFjb24ub25jZSgpLmZsYXRNYXAodmFsdWVTdHJlYW0pKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgcmV0dXJuIHZhbHVlU3RyZWFtKCk7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9KSk7XG5cdCAgfTtcblx0XG5cdCAgQmFjb24uc2VxdWVudGlhbGx5ID0gZnVuY3Rpb24oZGVsYXksIHZhbHVlcykge1xuXHQgICAgdmFyIGluZGV4O1xuXHQgICAgaW5kZXggPSAwO1xuXHQgICAgcmV0dXJuIHdpdGhEZXNjKG5ldyBCYWNvbi5EZXNjKEJhY29uLCBcInNlcXVlbnRpYWxseVwiLCBbZGVsYXksIHZhbHVlc10pLCBCYWNvbi5mcm9tUG9sbChkZWxheSwgZnVuY3Rpb24oKSB7XG5cdCAgICAgIHZhciB2YWx1ZTtcblx0ICAgICAgdmFsdWUgPSB2YWx1ZXNbaW5kZXgrK107XG5cdCAgICAgIGlmIChpbmRleCA8IHZhbHVlcy5sZW5ndGgpIHtcblx0ICAgICAgICByZXR1cm4gdmFsdWU7XG5cdCAgICAgIH0gZWxzZSBpZiAoaW5kZXggPT09IHZhbHVlcy5sZW5ndGgpIHtcblx0ICAgICAgICByZXR1cm4gW3ZhbHVlLCBlbmRFdmVudCgpXTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gZW5kRXZlbnQoKTtcblx0ICAgICAgfVxuXHQgICAgfSkpO1xuXHQgIH07XG5cdFxuXHQgIEJhY29uLk9ic2VydmFibGUucHJvdG90eXBlLnNraXAgPSBmdW5jdGlvbihjb3VudCkge1xuXHQgICAgcmV0dXJuIHdpdGhEZXNjKG5ldyBCYWNvbi5EZXNjKHRoaXMsIFwic2tpcFwiLCBbY291bnRdKSwgdGhpcy53aXRoSGFuZGxlcihmdW5jdGlvbihldmVudCkge1xuXHQgICAgICBpZiAoIWV2ZW50Lmhhc1ZhbHVlKCkpIHtcblx0ICAgICAgICByZXR1cm4gdGhpcy5wdXNoKGV2ZW50KTtcblx0ICAgICAgfSBlbHNlIGlmIChjb3VudCA+IDApIHtcblx0ICAgICAgICBjb3VudC0tO1xuXHQgICAgICAgIHJldHVybiBCYWNvbi5tb3JlO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJldHVybiB0aGlzLnB1c2goZXZlbnQpO1xuXHQgICAgICB9XG5cdCAgICB9KSk7XG5cdCAgfTtcblx0XG5cdCAgQmFjb24uT2JzZXJ2YWJsZS5wcm90b3R5cGUudGFrZSA9IGZ1bmN0aW9uKGNvdW50KSB7XG5cdCAgICBpZiAoY291bnQgPD0gMCkge1xuXHQgICAgICByZXR1cm4gQmFjb24ubmV2ZXIoKTtcblx0ICAgIH1cblx0ICAgIHJldHVybiB3aXRoRGVzYyhuZXcgQmFjb24uRGVzYyh0aGlzLCBcInRha2VcIiwgW2NvdW50XSksIHRoaXMud2l0aEhhbmRsZXIoZnVuY3Rpb24oZXZlbnQpIHtcblx0ICAgICAgaWYgKCFldmVudC5oYXNWYWx1ZSgpKSB7XG5cdCAgICAgICAgcmV0dXJuIHRoaXMucHVzaChldmVudCk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgY291bnQtLTtcblx0ICAgICAgICBpZiAoY291bnQgPiAwKSB7XG5cdCAgICAgICAgICByZXR1cm4gdGhpcy5wdXNoKGV2ZW50KTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgaWYgKGNvdW50ID09PSAwKSB7XG5cdCAgICAgICAgICAgIHRoaXMucHVzaChldmVudCk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICB0aGlzLnB1c2goZW5kRXZlbnQoKSk7XG5cdCAgICAgICAgICByZXR1cm4gQmFjb24ubm9Nb3JlO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfSkpO1xuXHQgIH07XG5cdFxuXHQgIEJhY29uLkV2ZW50U3RyZWFtLnByb3RvdHlwZS5za2lwVW50aWwgPSBmdW5jdGlvbihzdGFydGVyKSB7XG5cdCAgICB2YXIgc3RhcnRlZDtcblx0ICAgIHN0YXJ0ZWQgPSBzdGFydGVyLnRha2UoMSkubWFwKHRydWUpLnRvUHJvcGVydHkoZmFsc2UpO1xuXHQgICAgcmV0dXJuIHdpdGhEZXNjKG5ldyBCYWNvbi5EZXNjKHRoaXMsIFwic2tpcFVudGlsXCIsIFtzdGFydGVyXSksIHRoaXMuZmlsdGVyKHN0YXJ0ZWQpKTtcblx0ICB9O1xuXHRcblx0ICBCYWNvbi5FdmVudFN0cmVhbS5wcm90b3R5cGUuc2tpcFdoaWxlID0gZnVuY3Rpb24oKSB7XG5cdCAgICB2YXIgYXJncywgZiwgb2s7XG5cdCAgICBmID0gYXJndW1lbnRzWzBdLCBhcmdzID0gMiA8PSBhcmd1bWVudHMubGVuZ3RoID8gc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpIDogW107XG5cdCAgICBhc3NlcnRPYnNlcnZhYmxlSXNQcm9wZXJ0eShmKTtcblx0ICAgIG9rID0gZmFsc2U7XG5cdCAgICByZXR1cm4gY29udmVydEFyZ3NUb0Z1bmN0aW9uKHRoaXMsIGYsIGFyZ3MsIGZ1bmN0aW9uKGYpIHtcblx0ICAgICAgcmV0dXJuIHdpdGhEZXNjKG5ldyBCYWNvbi5EZXNjKHRoaXMsIFwic2tpcFdoaWxlXCIsIFtmXSksIHRoaXMud2l0aEhhbmRsZXIoZnVuY3Rpb24oZXZlbnQpIHtcblx0ICAgICAgICBpZiAob2sgfHwgIWV2ZW50Lmhhc1ZhbHVlKCkgfHwgIWYoZXZlbnQudmFsdWUoKSkpIHtcblx0ICAgICAgICAgIGlmIChldmVudC5oYXNWYWx1ZSgpKSB7XG5cdCAgICAgICAgICAgIG9rID0gdHJ1ZTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIHJldHVybiB0aGlzLnB1c2goZXZlbnQpO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICByZXR1cm4gQmFjb24ubW9yZTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0pKTtcblx0ICAgIH0pO1xuXHQgIH07XG5cdFxuXHQgIEJhY29uLk9ic2VydmFibGUucHJvdG90eXBlLnNsaWRpbmdXaW5kb3cgPSBmdW5jdGlvbihuLCBtaW5WYWx1ZXMpIHtcblx0ICAgIGlmIChtaW5WYWx1ZXMgPT0gbnVsbCkge1xuXHQgICAgICBtaW5WYWx1ZXMgPSAwO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIHdpdGhEZXNjKG5ldyBCYWNvbi5EZXNjKHRoaXMsIFwic2xpZGluZ1dpbmRvd1wiLCBbbiwgbWluVmFsdWVzXSksIHRoaXMuc2NhbihbXSwgKGZ1bmN0aW9uKHdpbmRvdywgdmFsdWUpIHtcblx0ICAgICAgcmV0dXJuIHdpbmRvdy5jb25jYXQoW3ZhbHVlXSkuc2xpY2UoLW4pO1xuXHQgICAgfSkpLmZpbHRlcigoZnVuY3Rpb24odmFsdWVzKSB7XG5cdCAgICAgIHJldHVybiB2YWx1ZXMubGVuZ3RoID49IG1pblZhbHVlcztcblx0ICAgIH0pKSk7XG5cdCAgfTtcblx0XG5cdCAgQmFjb24uc3B5ID0gZnVuY3Rpb24oc3B5KSB7XG5cdCAgICByZXR1cm4gc3B5cy5wdXNoKHNweSk7XG5cdCAgfTtcblx0XG5cdCAgc3B5cyA9IFtdO1xuXHRcblx0ICByZWdpc3Rlck9icyA9IGZ1bmN0aW9uKG9icykge1xuXHQgICAgdmFyIGosIGxlbjEsIHNweTtcblx0ICAgIGlmIChzcHlzLmxlbmd0aCkge1xuXHQgICAgICBpZiAoIXJlZ2lzdGVyT2JzLnJ1bm5pbmcpIHtcblx0ICAgICAgICB0cnkge1xuXHQgICAgICAgICAgcmVnaXN0ZXJPYnMucnVubmluZyA9IHRydWU7XG5cdCAgICAgICAgICBmb3IgKGogPSAwLCBsZW4xID0gc3B5cy5sZW5ndGg7IGogPCBsZW4xOyBqKyspIHtcblx0ICAgICAgICAgICAgc3B5ID0gc3B5c1tqXTtcblx0ICAgICAgICAgICAgc3B5KG9icyk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfSBmaW5hbGx5IHtcblx0ICAgICAgICAgIGRlbGV0ZSByZWdpc3Rlck9icy5ydW5uaW5nO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfVxuXHQgICAgcmV0dXJuIHZvaWQgMDtcblx0ICB9O1xuXHRcblx0ICBCYWNvbi5Qcm9wZXJ0eS5wcm90b3R5cGUuc3RhcnRXaXRoID0gZnVuY3Rpb24oc2VlZCkge1xuXHQgICAgcmV0dXJuIHdpdGhEZXNjKG5ldyBCYWNvbi5EZXNjKHRoaXMsIFwic3RhcnRXaXRoXCIsIFtzZWVkXSksIHRoaXMuc2NhbihzZWVkLCBmdW5jdGlvbihwcmV2LCBuZXh0KSB7XG5cdCAgICAgIHJldHVybiBuZXh0O1xuXHQgICAgfSkpO1xuXHQgIH07XG5cdFxuXHQgIEJhY29uLkV2ZW50U3RyZWFtLnByb3RvdHlwZS5zdGFydFdpdGggPSBmdW5jdGlvbihzZWVkKSB7XG5cdCAgICByZXR1cm4gd2l0aERlc2MobmV3IEJhY29uLkRlc2ModGhpcywgXCJzdGFydFdpdGhcIiwgW3NlZWRdKSwgQmFjb24ub25jZShzZWVkKS5jb25jYXQodGhpcykpO1xuXHQgIH07XG5cdFxuXHQgIEJhY29uLk9ic2VydmFibGUucHJvdG90eXBlLnRha2VXaGlsZSA9IGZ1bmN0aW9uKCkge1xuXHQgICAgdmFyIGFyZ3MsIGY7XG5cdCAgICBmID0gYXJndW1lbnRzWzBdLCBhcmdzID0gMiA8PSBhcmd1bWVudHMubGVuZ3RoID8gc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpIDogW107XG5cdCAgICBhc3NlcnRPYnNlcnZhYmxlSXNQcm9wZXJ0eShmKTtcblx0ICAgIHJldHVybiBjb252ZXJ0QXJnc1RvRnVuY3Rpb24odGhpcywgZiwgYXJncywgZnVuY3Rpb24oZikge1xuXHQgICAgICByZXR1cm4gd2l0aERlc2MobmV3IEJhY29uLkRlc2ModGhpcywgXCJ0YWtlV2hpbGVcIiwgW2ZdKSwgdGhpcy53aXRoSGFuZGxlcihmdW5jdGlvbihldmVudCkge1xuXHQgICAgICAgIGlmIChldmVudC5maWx0ZXIoZikpIHtcblx0ICAgICAgICAgIHJldHVybiB0aGlzLnB1c2goZXZlbnQpO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICB0aGlzLnB1c2goZW5kRXZlbnQoKSk7XG5cdCAgICAgICAgICByZXR1cm4gQmFjb24ubm9Nb3JlO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSkpO1xuXHQgICAgfSk7XG5cdCAgfTtcblx0XG5cdCAgQmFjb24udXBkYXRlID0gZnVuY3Rpb24oKSB7XG5cdCAgICB2YXIgaSwgaW5pdGlhbCwgbGF0ZUJpbmRGaXJzdCwgcGF0dGVybnM7XG5cdCAgICBpbml0aWFsID0gYXJndW1lbnRzWzBdLCBwYXR0ZXJucyA9IDIgPD0gYXJndW1lbnRzLmxlbmd0aCA/IHNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSA6IFtdO1xuXHQgICAgbGF0ZUJpbmRGaXJzdCA9IGZ1bmN0aW9uKGYpIHtcblx0ICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHZhciBhcmdzO1xuXHQgICAgICAgIGFyZ3MgPSAxIDw9IGFyZ3VtZW50cy5sZW5ndGggPyBzbGljZS5jYWxsKGFyZ3VtZW50cywgMCkgOiBbXTtcblx0ICAgICAgICByZXR1cm4gZnVuY3Rpb24oaSkge1xuXHQgICAgICAgICAgcmV0dXJuIGYuYXBwbHkobnVsbCwgW2ldLmNvbmNhdChhcmdzKSk7XG5cdCAgICAgICAgfTtcblx0ICAgICAgfTtcblx0ICAgIH07XG5cdCAgICBpID0gcGF0dGVybnMubGVuZ3RoIC0gMTtcblx0ICAgIHdoaWxlIChpID4gMCkge1xuXHQgICAgICBpZiAoIShwYXR0ZXJuc1tpXSBpbnN0YW5jZW9mIEZ1bmN0aW9uKSkge1xuXHQgICAgICAgIHBhdHRlcm5zW2ldID0gKGZ1bmN0aW9uKHgpIHtcblx0ICAgICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHg7XG5cdCAgICAgICAgICB9O1xuXHQgICAgICAgIH0pKHBhdHRlcm5zW2ldKTtcblx0ICAgICAgfVxuXHQgICAgICBwYXR0ZXJuc1tpXSA9IGxhdGVCaW5kRmlyc3QocGF0dGVybnNbaV0pO1xuXHQgICAgICBpID0gaSAtIDI7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gd2l0aERlc2MobmV3IEJhY29uLkRlc2MoQmFjb24sIFwidXBkYXRlXCIsIFtpbml0aWFsXS5jb25jYXQoc2xpY2UuY2FsbChwYXR0ZXJucykpKSwgQmFjb24ud2hlbi5hcHBseShCYWNvbiwgcGF0dGVybnMpLnNjYW4oaW5pdGlhbCwgKGZ1bmN0aW9uKHgsIGYpIHtcblx0ICAgICAgcmV0dXJuIGYoeCk7XG5cdCAgICB9KSkpO1xuXHQgIH07XG5cdFxuXHQgIEJhY29uLnppcEFzQXJyYXkgPSBmdW5jdGlvbigpIHtcblx0ICAgIHZhciBzdHJlYW1zO1xuXHQgICAgc3RyZWFtcyA9IGFyZ3VtZW50c1RvT2JzZXJ2YWJsZXMoYXJndW1lbnRzKTtcblx0ICAgIHJldHVybiB3aXRoRGVzYyhuZXcgQmFjb24uRGVzYyhCYWNvbiwgXCJ6aXBBc0FycmF5XCIsIHN0cmVhbXMpLCBCYWNvbi56aXBXaXRoKHN0cmVhbXMsIGZ1bmN0aW9uKCkge1xuXHQgICAgICB2YXIgeHM7XG5cdCAgICAgIHhzID0gMSA8PSBhcmd1bWVudHMubGVuZ3RoID8gc2xpY2UuY2FsbChhcmd1bWVudHMsIDApIDogW107XG5cdCAgICAgIHJldHVybiB4cztcblx0ICAgIH0pKTtcblx0ICB9O1xuXHRcblx0ICBCYWNvbi56aXBXaXRoID0gZnVuY3Rpb24oKSB7XG5cdCAgICB2YXIgZiwgcmVmMSwgc3RyZWFtcztcblx0ICAgIHJlZjEgPSBhcmd1bWVudHNUb09ic2VydmFibGVzQW5kRnVuY3Rpb24oYXJndW1lbnRzKSwgc3RyZWFtcyA9IHJlZjFbMF0sIGYgPSByZWYxWzFdO1xuXHQgICAgc3RyZWFtcyA9IF8ubWFwKChmdW5jdGlvbihzKSB7XG5cdCAgICAgIHJldHVybiBzLnRvRXZlbnRTdHJlYW0oKTtcblx0ICAgIH0pLCBzdHJlYW1zKTtcblx0ICAgIHJldHVybiB3aXRoRGVzYyhuZXcgQmFjb24uRGVzYyhCYWNvbiwgXCJ6aXBXaXRoXCIsIFtmXS5jb25jYXQoc2xpY2UuY2FsbChzdHJlYW1zKSkpLCBCYWNvbi53aGVuKHN0cmVhbXMsIGYpKTtcblx0ICB9O1xuXHRcblx0ICBCYWNvbi5PYnNlcnZhYmxlLnByb3RvdHlwZS56aXAgPSBmdW5jdGlvbihvdGhlciwgZikge1xuXHQgICAgaWYgKGYgPT0gbnVsbCkge1xuXHQgICAgICBmID0gQXJyYXk7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gd2l0aERlc2MobmV3IEJhY29uLkRlc2ModGhpcywgXCJ6aXBcIiwgW290aGVyXSksIEJhY29uLnppcFdpdGgoW3RoaXMsIG90aGVyXSwgZikpO1xuXHQgIH07XG5cdFxuXHQgIFxuXHRcblx0QmFjb24uT2JzZXJ2YWJsZS5wcm90b3R5cGUuZmlyc3QgPSBmdW5jdGlvbiAoKSB7XG5cdCAgcmV0dXJuIHdpdGhEZXNjKG5ldyBCYWNvbi5EZXNjKHRoaXMsIFwiZmlyc3RcIiwgW10pLCB0aGlzLnRha2UoMSkpO1xuXHR9O1xuXHRcblx0QmFjb24uT2JzZXJ2YWJsZS5wcm90b3R5cGUubGFzdCA9IGZ1bmN0aW9uICgpIHtcblx0ICB2YXIgbGFzdEV2ZW50O1xuXHRcblx0ICByZXR1cm4gd2l0aERlc2MobmV3IEJhY29uLkRlc2ModGhpcywgXCJsYXN0XCIsIFtdKSwgdGhpcy53aXRoSGFuZGxlcihmdW5jdGlvbiAoZXZlbnQpIHtcblx0ICAgIGlmIChldmVudC5pc0VuZCgpKSB7XG5cdCAgICAgIGlmIChsYXN0RXZlbnQpIHtcblx0ICAgICAgICB0aGlzLnB1c2gobGFzdEV2ZW50KTtcblx0ICAgICAgfVxuXHQgICAgICB0aGlzLnB1c2goZW5kRXZlbnQoKSk7XG5cdCAgICAgIHJldHVybiBCYWNvbi5ub01vcmU7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBsYXN0RXZlbnQgPSBldmVudDtcblx0ICAgIH1cblx0ICB9KSk7XG5cdH07XG5cdFxuXHRCYWNvbi5FdmVudFN0cmVhbS5wcm90b3R5cGUudGhyb3R0bGUgPSBmdW5jdGlvbiAoZGVsYXkpIHtcblx0ICByZXR1cm4gd2l0aERlc2MobmV3IEJhY29uLkRlc2ModGhpcywgXCJ0aHJvdHRsZVwiLCBbZGVsYXldKSwgdGhpcy5idWZmZXJXaXRoVGltZShkZWxheSkubWFwKGZ1bmN0aW9uICh2YWx1ZXMpIHtcblx0ICAgIHJldHVybiB2YWx1ZXNbdmFsdWVzLmxlbmd0aCAtIDFdO1xuXHQgIH0pKTtcblx0fTtcblx0XG5cdEJhY29uLlByb3BlcnR5LnByb3RvdHlwZS50aHJvdHRsZSA9IGZ1bmN0aW9uIChkZWxheSkge1xuXHQgIHJldHVybiB0aGlzLmRlbGF5Q2hhbmdlcyhuZXcgQmFjb24uRGVzYyh0aGlzLCBcInRocm90dGxlXCIsIFtkZWxheV0pLCBmdW5jdGlvbiAoY2hhbmdlcykge1xuXHQgICAgcmV0dXJuIGNoYW5nZXMudGhyb3R0bGUoZGVsYXkpO1xuXHQgIH0pO1xuXHR9O1xuXHRcblx0T2JzZXJ2YWJsZS5wcm90b3R5cGUuZmlyc3RUb1Byb21pc2UgPSBmdW5jdGlvbiAoUHJvbWlzZUN0cikge1xuXHQgIHZhciBfdGhpcyA9IHRoaXM7XG5cdFxuXHQgIGlmICh0eXBlb2YgUHJvbWlzZUN0ciAhPT0gXCJmdW5jdGlvblwiKSB7XG5cdCAgICBpZiAodHlwZW9mIFByb21pc2UgPT09IFwiZnVuY3Rpb25cIikge1xuXHQgICAgICBQcm9taXNlQ3RyID0gUHJvbWlzZTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oXCJUaGVyZSBpc24ndCBkZWZhdWx0IFByb21pc2UsIHVzZSBzaGltIG9yIHBhcmFtZXRlclwiKTtcblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIHJldHVybiBuZXcgUHJvbWlzZUN0cihmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG5cdCAgICByZXR1cm4gX3RoaXMuc3Vic2NyaWJlKGZ1bmN0aW9uIChldmVudCkge1xuXHQgICAgICBpZiAoZXZlbnQuaGFzVmFsdWUoKSkge1xuXHQgICAgICAgIHJlc29sdmUoZXZlbnQudmFsdWUoKSk7XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKGV2ZW50LmlzRXJyb3IoKSkge1xuXHQgICAgICAgIHJlamVjdChldmVudC5lcnJvcik7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHJldHVybiBCYWNvbi5ub01vcmU7XG5cdCAgICB9KTtcblx0ICB9KTtcblx0fTtcblx0XG5cdE9ic2VydmFibGUucHJvdG90eXBlLnRvUHJvbWlzZSA9IGZ1bmN0aW9uIChQcm9taXNlQ3RyKSB7XG5cdCAgcmV0dXJuIHRoaXMubGFzdCgpLmZpcnN0VG9Qcm9taXNlKFByb21pc2VDdHIpO1xuXHR9O1xuXHRcblx0aWYgKChcImZ1bmN0aW9uXCIgIT09IFwidW5kZWZpbmVkXCIgJiYgX193ZWJwYWNrX3JlcXVpcmVfXygxMjQpICE9PSBudWxsKSAmJiAoX193ZWJwYWNrX3JlcXVpcmVfXygxMjUpICE9IG51bGwpKSB7XG5cdCAgICAhKF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18gPSBbXSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18gPSBmdW5jdGlvbigpIHtcblx0ICAgICAgcmV0dXJuIEJhY29uO1xuXHQgICAgfS5hcHBseShleHBvcnRzLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fKSwgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18gIT09IHVuZGVmaW5lZCAmJiAobW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXykpO1xuXHQgICAgaWYgKHR5cGVvZiB0aGlzICE9PSBcInVuZGVmaW5lZFwiICYmIHRoaXMgIT09IG51bGwpIHtcblx0ICAgICAgdGhpcy5CYWNvbiA9IEJhY29uO1xuXHQgICAgfVxuXHQgIH0gZWxzZSBpZiAoKHR5cGVvZiBtb2R1bGUgIT09IFwidW5kZWZpbmVkXCIgJiYgbW9kdWxlICE9PSBudWxsKSAmJiAobW9kdWxlLmV4cG9ydHMgIT0gbnVsbCkpIHtcblx0ICAgIG1vZHVsZS5leHBvcnRzID0gQmFjb247XG5cdCAgICBCYWNvbi5CYWNvbiA9IEJhY29uO1xuXHQgIH0gZWxzZSB7XG5cdCAgICB0aGlzLkJhY29uID0gQmFjb247XG5cdCAgfVxuXHRcblx0fSkuY2FsbCh0aGlzKTtcblx0XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCAoZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KCkpLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyNikobW9kdWxlKSkpXG5cbi8qKiovIH0sXG4vKiAzMyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0dmFyIGhhc093biA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5cdHZhciB0b1N0ciA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG5cdHZhciB1bmRlZmluZWQ7XG5cdFxuXHR2YXIgaXNBcnJheSA9IGZ1bmN0aW9uIGlzQXJyYXkoYXJyKSB7XG5cdFx0aWYgKHR5cGVvZiBBcnJheS5pc0FycmF5ID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRyZXR1cm4gQXJyYXkuaXNBcnJheShhcnIpO1xuXHRcdH1cblx0XG5cdFx0cmV0dXJuIHRvU3RyLmNhbGwoYXJyKSA9PT0gJ1tvYmplY3QgQXJyYXldJztcblx0fTtcblx0XG5cdHZhciBpc1BsYWluT2JqZWN0ID0gZnVuY3Rpb24gaXNQbGFpbk9iamVjdChvYmopIHtcblx0XHQndXNlIHN0cmljdCc7XG5cdFx0aWYgKCFvYmogfHwgdG9TdHIuY2FsbChvYmopICE9PSAnW29iamVjdCBPYmplY3RdJykge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblx0XG5cdFx0dmFyIGhhc19vd25fY29uc3RydWN0b3IgPSBoYXNPd24uY2FsbChvYmosICdjb25zdHJ1Y3RvcicpO1xuXHRcdHZhciBoYXNfaXNfcHJvcGVydHlfb2ZfbWV0aG9kID0gb2JqLmNvbnN0cnVjdG9yICYmIG9iai5jb25zdHJ1Y3Rvci5wcm90b3R5cGUgJiYgaGFzT3duLmNhbGwob2JqLmNvbnN0cnVjdG9yLnByb3RvdHlwZSwgJ2lzUHJvdG90eXBlT2YnKTtcblx0XHQvLyBOb3Qgb3duIGNvbnN0cnVjdG9yIHByb3BlcnR5IG11c3QgYmUgT2JqZWN0XG5cdFx0aWYgKG9iai5jb25zdHJ1Y3RvciAmJiAhaGFzX293bl9jb25zdHJ1Y3RvciAmJiAhaGFzX2lzX3Byb3BlcnR5X29mX21ldGhvZCkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblx0XG5cdFx0Ly8gT3duIHByb3BlcnRpZXMgYXJlIGVudW1lcmF0ZWQgZmlyc3RseSwgc28gdG8gc3BlZWQgdXAsXG5cdFx0Ly8gaWYgbGFzdCBvbmUgaXMgb3duLCB0aGVuIGFsbCBwcm9wZXJ0aWVzIGFyZSBvd24uXG5cdFx0dmFyIGtleTtcblx0XHRmb3IgKGtleSBpbiBvYmopIHt9XG5cdFxuXHRcdHJldHVybiBrZXkgPT09IHVuZGVmaW5lZCB8fCBoYXNPd24uY2FsbChvYmosIGtleSk7XG5cdH07XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGV4dGVuZCgpIHtcblx0XHQndXNlIHN0cmljdCc7XG5cdFx0dmFyIG9wdGlvbnMsIG5hbWUsIHNyYywgY29weSwgY29weUlzQXJyYXksIGNsb25lLFxuXHRcdFx0dGFyZ2V0ID0gYXJndW1lbnRzWzBdLFxuXHRcdFx0aSA9IDEsXG5cdFx0XHRsZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoLFxuXHRcdFx0ZGVlcCA9IGZhbHNlO1xuXHRcblx0XHQvLyBIYW5kbGUgYSBkZWVwIGNvcHkgc2l0dWF0aW9uXG5cdFx0aWYgKHR5cGVvZiB0YXJnZXQgPT09ICdib29sZWFuJykge1xuXHRcdFx0ZGVlcCA9IHRhcmdldDtcblx0XHRcdHRhcmdldCA9IGFyZ3VtZW50c1sxXSB8fCB7fTtcblx0XHRcdC8vIHNraXAgdGhlIGJvb2xlYW4gYW5kIHRoZSB0YXJnZXRcblx0XHRcdGkgPSAyO1xuXHRcdH0gZWxzZSBpZiAoKHR5cGVvZiB0YXJnZXQgIT09ICdvYmplY3QnICYmIHR5cGVvZiB0YXJnZXQgIT09ICdmdW5jdGlvbicpIHx8IHRhcmdldCA9PSBudWxsKSB7XG5cdFx0XHR0YXJnZXQgPSB7fTtcblx0XHR9XG5cdFxuXHRcdGZvciAoOyBpIDwgbGVuZ3RoOyArK2kpIHtcblx0XHRcdG9wdGlvbnMgPSBhcmd1bWVudHNbaV07XG5cdFx0XHQvLyBPbmx5IGRlYWwgd2l0aCBub24tbnVsbC91bmRlZmluZWQgdmFsdWVzXG5cdFx0XHRpZiAob3B0aW9ucyAhPSBudWxsKSB7XG5cdFx0XHRcdC8vIEV4dGVuZCB0aGUgYmFzZSBvYmplY3Rcblx0XHRcdFx0Zm9yIChuYW1lIGluIG9wdGlvbnMpIHtcblx0XHRcdFx0XHRzcmMgPSB0YXJnZXRbbmFtZV07XG5cdFx0XHRcdFx0Y29weSA9IG9wdGlvbnNbbmFtZV07XG5cdFxuXHRcdFx0XHRcdC8vIFByZXZlbnQgbmV2ZXItZW5kaW5nIGxvb3Bcblx0XHRcdFx0XHRpZiAodGFyZ2V0ID09PSBjb3B5KSB7XG5cdFx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0XHR9XG5cdFxuXHRcdFx0XHRcdC8vIFJlY3Vyc2UgaWYgd2UncmUgbWVyZ2luZyBwbGFpbiBvYmplY3RzIG9yIGFycmF5c1xuXHRcdFx0XHRcdGlmIChkZWVwICYmIGNvcHkgJiYgKGlzUGxhaW5PYmplY3QoY29weSkgfHwgKGNvcHlJc0FycmF5ID0gaXNBcnJheShjb3B5KSkpKSB7XG5cdFx0XHRcdFx0XHRpZiAoY29weUlzQXJyYXkpIHtcblx0XHRcdFx0XHRcdFx0Y29weUlzQXJyYXkgPSBmYWxzZTtcblx0XHRcdFx0XHRcdFx0Y2xvbmUgPSBzcmMgJiYgaXNBcnJheShzcmMpID8gc3JjIDogW107XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRjbG9uZSA9IHNyYyAmJiBpc1BsYWluT2JqZWN0KHNyYykgPyBzcmMgOiB7fTtcblx0XHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0XHQvLyBOZXZlciBtb3ZlIG9yaWdpbmFsIG9iamVjdHMsIGNsb25lIHRoZW1cblx0XHRcdFx0XHRcdHRhcmdldFtuYW1lXSA9IGV4dGVuZChkZWVwLCBjbG9uZSwgY29weSk7XG5cdFxuXHRcdFx0XHRcdC8vIERvbid0IGJyaW5nIGluIHVuZGVmaW5lZCB2YWx1ZXNcblx0XHRcdFx0XHR9IGVsc2UgaWYgKGNvcHkgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdFx0dGFyZ2V0W25hbWVdID0gY29weTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFxuXHRcdC8vIFJldHVybiB0aGUgbW9kaWZpZWQgb2JqZWN0XG5cdFx0cmV0dXJuIHRhcmdldDtcblx0fTtcblx0XG5cblxuLyoqKi8gfSxcbi8qIDM0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IHtcblx0XHRcIm5hbWVcIjogXCJwMlwiLFxuXHRcdFwidmVyc2lvblwiOiBcIjAuNy4wXCIsXG5cdFx0XCJkZXNjcmlwdGlvblwiOiBcIkEgSmF2YVNjcmlwdCAyRCBwaHlzaWNzIGVuZ2luZS5cIixcblx0XHRcImF1dGhvclwiOiB7XG5cdFx0XHRcIm5hbWVcIjogXCJTdGVmYW4gSGVkbWFuXCIsXG5cdFx0XHRcImVtYWlsXCI6IFwic2NodGVwcGVAZ21haWwuY29tXCIsXG5cdFx0XHRcInVybFwiOiBcImh0dHA6Ly9zdGVmZmUuc2VcIlxuXHRcdH0sXG5cdFx0XCJrZXl3b3Jkc1wiOiBbXG5cdFx0XHRcInAyLmpzXCIsXG5cdFx0XHRcInAyXCIsXG5cdFx0XHRcInBoeXNpY3NcIixcblx0XHRcdFwiZW5naW5lXCIsXG5cdFx0XHRcIjJkXCJcblx0XHRdLFxuXHRcdFwibWFpblwiOiBcIi4vc3JjL3AyLmpzXCIsXG5cdFx0XCJlbmdpbmVzXCI6IHtcblx0XHRcdFwibm9kZVwiOiBcIipcIlxuXHRcdH0sXG5cdFx0XCJyZXBvc2l0b3J5XCI6IHtcblx0XHRcdFwidHlwZVwiOiBcImdpdFwiLFxuXHRcdFx0XCJ1cmxcIjogXCJodHRwczovL2dpdGh1Yi5jb20vc2NodGVwcGUvcDIuanMuZ2l0XCJcblx0XHR9LFxuXHRcdFwiYnVnc1wiOiB7XG5cdFx0XHRcInVybFwiOiBcImh0dHBzOi8vZ2l0aHViLmNvbS9zY2h0ZXBwZS9wMi5qcy9pc3N1ZXNcIlxuXHRcdH0sXG5cdFx0XCJsaWNlbnNlc1wiOiBbXG5cdFx0XHR7XG5cdFx0XHRcdFwidHlwZVwiOiBcIk1JVFwiXG5cdFx0XHR9XG5cdFx0XSxcblx0XHRcImRldkRlcGVuZGVuY2llc1wiOiB7XG5cdFx0XHRcImdydW50XCI6IFwiXjAuNC41XCIsXG5cdFx0XHRcImdydW50LWNvbnRyaWItanNoaW50XCI6IFwiXjAuMTEuMlwiLFxuXHRcdFx0XCJncnVudC1jb250cmliLW5vZGV1bml0XCI6IFwiXjAuNC4xXCIsXG5cdFx0XHRcImdydW50LWNvbnRyaWItdWdsaWZ5XCI6IFwifjAuNC4wXCIsXG5cdFx0XHRcImdydW50LWNvbnRyaWItd2F0Y2hcIjogXCJ+MC41LjBcIixcblx0XHRcdFwiZ3J1bnQtYnJvd3NlcmlmeVwiOiBcIn4yLjAuMVwiLFxuXHRcdFx0XCJncnVudC1jb250cmliLWNvbmNhdFwiOiBcIl4wLjQuMFwiXG5cdFx0fSxcblx0XHRcImRlcGVuZGVuY2llc1wiOiB7XG5cdFx0XHRcInBvbHktZGVjb21wXCI6IFwiMC4xLjBcIlxuXHRcdH0sXG5cdFx0XCJob21lcGFnZVwiOiBcImh0dHBzOi8vZ2l0aHViLmNvbS9zY2h0ZXBwZS9wMi5qc1wiLFxuXHRcdFwiX2lkXCI6IFwicDJAMC43LjBcIixcblx0XHRcImRpc3RcIjoge1xuXHRcdFx0XCJzaGFzdW1cIjogXCI5YzIyNjg4MDg0OTQ0NzA1YTJlOGRlZGI5OGQ3NjI5MzY0NTcyZTZiXCIsXG5cdFx0XHRcInRhcmJhbGxcIjogXCJodHRwOi8vcmVnaXN0cnkubnBtanMub3JnL3AyLy0vcDItMC43LjAudGd6XCJcblx0XHR9LFxuXHRcdFwiX2Zyb21cIjogXCJwMkA+PTAuNy4wIDwwLjguMFwiLFxuXHRcdFwiX25wbVZlcnNpb25cIjogXCIxLjQuM1wiLFxuXHRcdFwiX25wbVVzZXJcIjoge1xuXHRcdFx0XCJuYW1lXCI6IFwic2NodGVwcGVcIixcblx0XHRcdFwiZW1haWxcIjogXCJzY2h0ZXBwZUBnbWFpbC5jb21cIlxuXHRcdH0sXG5cdFx0XCJtYWludGFpbmVyc1wiOiBbXG5cdFx0XHR7XG5cdFx0XHRcdFwibmFtZVwiOiBcInNjaHRlcHBlXCIsXG5cdFx0XHRcdFwiZW1haWxcIjogXCJzY2h0ZXBwZUBnbWFpbC5jb21cIlxuXHRcdFx0fVxuXHRcdF0sXG5cdFx0XCJkaXJlY3Rvcmllc1wiOiB7fSxcblx0XHRcIl9zaGFzdW1cIjogXCI5YzIyNjg4MDg0OTQ0NzA1YTJlOGRlZGI5OGQ3NjI5MzY0NTcyZTZiXCIsXG5cdFx0XCJfcmVzb2x2ZWRcIjogXCJodHRwczovL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9wMi8tL3AyLTAuNy4wLnRnelwiXG5cdH07XG5cbi8qKiovIH0sXG4vKiAzNSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0LyoqXG5cdCAqIGxvZGFzaCAzLjAuMCAoQ3VzdG9tIEJ1aWxkKSA8aHR0cHM6Ly9sb2Rhc2guY29tLz5cblx0ICogQnVpbGQ6IGBsb2Rhc2ggbW9kZXJuIG1vZHVsYXJpemUgZXhwb3J0cz1cIm5wbVwiIC1vIC4vYFxuXHQgKiBDb3B5cmlnaHQgMjAxMi0yMDE1IFRoZSBEb2pvIEZvdW5kYXRpb24gPGh0dHA6Ly9kb2pvZm91bmRhdGlvbi5vcmcvPlxuXHQgKiBCYXNlZCBvbiBVbmRlcnNjb3JlLmpzIDEuNy4wIDxodHRwOi8vdW5kZXJzY29yZWpzLm9yZy9MSUNFTlNFPlxuXHQgKiBDb3B5cmlnaHQgMjAwOS0yMDE1IEplcmVteSBBc2hrZW5hcywgRG9jdW1lbnRDbG91ZCBhbmQgSW52ZXN0aWdhdGl2ZSBSZXBvcnRlcnMgJiBFZGl0b3JzXG5cdCAqIEF2YWlsYWJsZSB1bmRlciBNSVQgbGljZW5zZSA8aHR0cHM6Ly9sb2Rhc2guY29tL2xpY2Vuc2U+XG5cdCAqL1xuXHRcblx0LyoqIFVzZWQgYXMgdGhlIGludGVybmFsIGFyZ3VtZW50IHBsYWNlaG9sZGVyLiAqL1xuXHR2YXIgUExBQ0VIT0xERVIgPSAnX19sb2Rhc2hfcGxhY2Vob2xkZXJfXyc7XG5cdFxuXHQvKipcblx0ICogUmVwbGFjZXMgYWxsIGBwbGFjZWhvbGRlcmAgZWxlbWVudHMgaW4gYGFycmF5YCB3aXRoIGFuIGludGVybmFsIHBsYWNlaG9sZGVyXG5cdCAqIGFuZCByZXR1cm5zIGFuIGFycmF5IG9mIHRoZWlyIGluZGV4ZXMuXG5cdCAqXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG5cdCAqIEBwYXJhbSB7Kn0gcGxhY2Vob2xkZXIgVGhlIHBsYWNlaG9sZGVyIHRvIHJlcGxhY2UuXG5cdCAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIHBsYWNlaG9sZGVyIGluZGV4ZXMuXG5cdCAqL1xuXHRmdW5jdGlvbiByZXBsYWNlSG9sZGVycyhhcnJheSwgcGxhY2Vob2xkZXIpIHtcblx0ICB2YXIgaW5kZXggPSAtMSxcblx0ICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuXHQgICAgICByZXNJbmRleCA9IC0xLFxuXHQgICAgICByZXN1bHQgPSBbXTtcblx0XG5cdCAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcblx0ICAgIGlmIChhcnJheVtpbmRleF0gPT09IHBsYWNlaG9sZGVyKSB7XG5cdCAgICAgIGFycmF5W2luZGV4XSA9IFBMQUNFSE9MREVSO1xuXHQgICAgICByZXN1bHRbKytyZXNJbmRleF0gPSBpbmRleDtcblx0ICAgIH1cblx0ICB9XG5cdCAgcmV0dXJuIHJlc3VsdDtcblx0fVxuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSByZXBsYWNlSG9sZGVycztcblxuXG4vKioqLyB9LFxuLyogMzYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8qKlxuXHQgKiBsb2Rhc2ggMy4wLjQgKEN1c3RvbSBCdWlsZCkgPGh0dHBzOi8vbG9kYXNoLmNvbS8+XG5cdCAqIEJ1aWxkOiBgbG9kYXNoIG1vZGVybiBtb2R1bGFyaXplIGV4cG9ydHM9XCJucG1cIiAtbyAuL2Bcblx0ICogQ29weXJpZ2h0IDIwMTItMjAxNSBUaGUgRG9qbyBGb3VuZGF0aW9uIDxodHRwOi8vZG9qb2ZvdW5kYXRpb24ub3JnLz5cblx0ICogQmFzZWQgb24gVW5kZXJzY29yZS5qcyAxLjguMyA8aHR0cDovL3VuZGVyc2NvcmVqcy5vcmcvTElDRU5TRT5cblx0ICogQ29weXJpZ2h0IDIwMDktMjAxNSBKZXJlbXkgQXNoa2VuYXMsIERvY3VtZW50Q2xvdWQgYW5kIEludmVzdGlnYXRpdmUgUmVwb3J0ZXJzICYgRWRpdG9yc1xuXHQgKiBBdmFpbGFibGUgdW5kZXIgTUlUIGxpY2Vuc2UgPGh0dHBzOi8vbG9kYXNoLmNvbS9saWNlbnNlPlxuXHQgKi9cblx0XG5cdC8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cblx0dmFyIGFycmF5VGFnID0gJ1tvYmplY3QgQXJyYXldJyxcblx0ICAgIGZ1bmNUYWcgPSAnW29iamVjdCBGdW5jdGlvbl0nO1xuXHRcblx0LyoqIFVzZWQgdG8gZGV0ZWN0IGhvc3QgY29uc3RydWN0b3JzIChTYWZhcmkgPiA1KS4gKi9cblx0dmFyIHJlSXNIb3N0Q3RvciA9IC9eXFxbb2JqZWN0IC4rP0NvbnN0cnVjdG9yXFxdJC87XG5cdFxuXHQvKipcblx0ICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UuXG5cdCAqXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuXHQgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZSwgZWxzZSBgZmFsc2VgLlxuXHQgKi9cblx0ZnVuY3Rpb24gaXNPYmplY3RMaWtlKHZhbHVlKSB7XG5cdCAgcmV0dXJuICEhdmFsdWUgJiYgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnO1xuXHR9XG5cdFxuXHQvKiogVXNlZCBmb3IgbmF0aXZlIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xuXHR2YXIgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXHRcblx0LyoqIFVzZWQgdG8gcmVzb2x2ZSB0aGUgZGVjb21waWxlZCBzb3VyY2Ugb2YgZnVuY3Rpb25zLiAqL1xuXHR2YXIgZm5Ub1N0cmluZyA9IEZ1bmN0aW9uLnByb3RvdHlwZS50b1N0cmluZztcblx0XG5cdC8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xuXHR2YXIgaGFzT3duUHJvcGVydHkgPSBvYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eTtcblx0XG5cdC8qKlxuXHQgKiBVc2VkIHRvIHJlc29sdmUgdGhlIFtgdG9TdHJpbmdUYWdgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi82LjAvI3NlYy1vYmplY3QucHJvdG90eXBlLnRvc3RyaW5nKVxuXHQgKiBvZiB2YWx1ZXMuXG5cdCAqL1xuXHR2YXIgb2JqVG9TdHJpbmcgPSBvYmplY3RQcm90by50b1N0cmluZztcblx0XG5cdC8qKiBVc2VkIHRvIGRldGVjdCBpZiBhIG1ldGhvZCBpcyBuYXRpdmUuICovXG5cdHZhciByZUlzTmF0aXZlID0gUmVnRXhwKCdeJyArXG5cdCAgZm5Ub1N0cmluZy5jYWxsKGhhc093blByb3BlcnR5KS5yZXBsYWNlKC9bXFxcXF4kLiorPygpW1xcXXt9fF0vZywgJ1xcXFwkJicpXG5cdCAgLnJlcGxhY2UoL2hhc093blByb3BlcnR5fChmdW5jdGlvbikuKj8oPz1cXFxcXFwoKXwgZm9yIC4rPyg/PVxcXFxcXF0pL2csICckMS4qPycpICsgJyQnXG5cdCk7XG5cdFxuXHQvKiBOYXRpdmUgbWV0aG9kIHJlZmVyZW5jZXMgZm9yIHRob3NlIHdpdGggdGhlIHNhbWUgbmFtZSBhcyBvdGhlciBgbG9kYXNoYCBtZXRob2RzLiAqL1xuXHR2YXIgbmF0aXZlSXNBcnJheSA9IGdldE5hdGl2ZShBcnJheSwgJ2lzQXJyYXknKTtcblx0XG5cdC8qKlxuXHQgKiBVc2VkIGFzIHRoZSBbbWF4aW11bSBsZW5ndGhdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzYuMC8jc2VjLW51bWJlci5tYXhfc2FmZV9pbnRlZ2VyKVxuXHQgKiBvZiBhbiBhcnJheS1saWtlIHZhbHVlLlxuXHQgKi9cblx0dmFyIE1BWF9TQUZFX0lOVEVHRVIgPSA5MDA3MTk5MjU0NzQwOTkxO1xuXHRcblx0LyoqXG5cdCAqIEdldHMgdGhlIG5hdGl2ZSBmdW5jdGlvbiBhdCBga2V5YCBvZiBgb2JqZWN0YC5cblx0ICpcblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuXHQgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIG1ldGhvZCB0byBnZXQuXG5cdCAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBmdW5jdGlvbiBpZiBpdCdzIG5hdGl2ZSwgZWxzZSBgdW5kZWZpbmVkYC5cblx0ICovXG5cdGZ1bmN0aW9uIGdldE5hdGl2ZShvYmplY3QsIGtleSkge1xuXHQgIHZhciB2YWx1ZSA9IG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogb2JqZWN0W2tleV07XG5cdCAgcmV0dXJuIGlzTmF0aXZlKHZhbHVlKSA/IHZhbHVlIDogdW5kZWZpbmVkO1xuXHR9XG5cdFxuXHQvKipcblx0ICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBhcnJheS1saWtlIGxlbmd0aC5cblx0ICpcblx0ICogKipOb3RlOioqIFRoaXMgZnVuY3Rpb24gaXMgYmFzZWQgb24gW2BUb0xlbmd0aGBdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzYuMC8jc2VjLXRvbGVuZ3RoKS5cblx0ICpcblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG5cdCAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgbGVuZ3RoLCBlbHNlIGBmYWxzZWAuXG5cdCAqL1xuXHRmdW5jdGlvbiBpc0xlbmd0aCh2YWx1ZSkge1xuXHQgIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicgJiYgdmFsdWUgPiAtMSAmJiB2YWx1ZSAlIDEgPT0gMCAmJiB2YWx1ZSA8PSBNQVhfU0FGRV9JTlRFR0VSO1xuXHR9XG5cdFxuXHQvKipcblx0ICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhbiBgQXJyYXlgIG9iamVjdC5cblx0ICpcblx0ICogQHN0YXRpY1xuXHQgKiBAbWVtYmVyT2YgX1xuXHQgKiBAY2F0ZWdvcnkgTGFuZ1xuXHQgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cblx0ICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgY29ycmVjdGx5IGNsYXNzaWZpZWQsIGVsc2UgYGZhbHNlYC5cblx0ICogQGV4YW1wbGVcblx0ICpcblx0ICogXy5pc0FycmF5KFsxLCAyLCAzXSk7XG5cdCAqIC8vID0+IHRydWVcblx0ICpcblx0ICogXy5pc0FycmF5KGZ1bmN0aW9uKCkgeyByZXR1cm4gYXJndW1lbnRzOyB9KCkpO1xuXHQgKiAvLyA9PiBmYWxzZVxuXHQgKi9cblx0dmFyIGlzQXJyYXkgPSBuYXRpdmVJc0FycmF5IHx8IGZ1bmN0aW9uKHZhbHVlKSB7XG5cdCAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgaXNMZW5ndGgodmFsdWUubGVuZ3RoKSAmJiBvYmpUb1N0cmluZy5jYWxsKHZhbHVlKSA9PSBhcnJheVRhZztcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYEZ1bmN0aW9uYCBvYmplY3QuXG5cdCAqXG5cdCAqIEBzdGF0aWNcblx0ICogQG1lbWJlck9mIF9cblx0ICogQGNhdGVnb3J5IExhbmdcblx0ICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG5cdCAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGNvcnJlY3RseSBjbGFzc2lmaWVkLCBlbHNlIGBmYWxzZWAuXG5cdCAqIEBleGFtcGxlXG5cdCAqXG5cdCAqIF8uaXNGdW5jdGlvbihfKTtcblx0ICogLy8gPT4gdHJ1ZVxuXHQgKlxuXHQgKiBfLmlzRnVuY3Rpb24oL2FiYy8pO1xuXHQgKiAvLyA9PiBmYWxzZVxuXHQgKi9cblx0ZnVuY3Rpb24gaXNGdW5jdGlvbih2YWx1ZSkge1xuXHQgIC8vIFRoZSB1c2Ugb2YgYE9iamVjdCN0b1N0cmluZ2AgYXZvaWRzIGlzc3VlcyB3aXRoIHRoZSBgdHlwZW9mYCBvcGVyYXRvclxuXHQgIC8vIGluIG9sZGVyIHZlcnNpb25zIG9mIENocm9tZSBhbmQgU2FmYXJpIHdoaWNoIHJldHVybiAnZnVuY3Rpb24nIGZvciByZWdleGVzXG5cdCAgLy8gYW5kIFNhZmFyaSA4IGVxdWl2YWxlbnRzIHdoaWNoIHJldHVybiAnb2JqZWN0JyBmb3IgdHlwZWQgYXJyYXkgY29uc3RydWN0b3JzLlxuXHQgIHJldHVybiBpc09iamVjdCh2YWx1ZSkgJiYgb2JqVG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT0gZnVuY1RhZztcblx0fVxuXHRcblx0LyoqXG5cdCAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHRoZSBbbGFuZ3VhZ2UgdHlwZV0oaHR0cHM6Ly9lczUuZ2l0aHViLmlvLyN4OCkgb2YgYE9iamVjdGAuXG5cdCAqIChlLmcuIGFycmF5cywgZnVuY3Rpb25zLCBvYmplY3RzLCByZWdleGVzLCBgbmV3IE51bWJlcigwKWAsIGFuZCBgbmV3IFN0cmluZygnJylgKVxuXHQgKlxuXHQgKiBAc3RhdGljXG5cdCAqIEBtZW1iZXJPZiBfXG5cdCAqIEBjYXRlZ29yeSBMYW5nXG5cdCAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuXHQgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBvYmplY3QsIGVsc2UgYGZhbHNlYC5cblx0ICogQGV4YW1wbGVcblx0ICpcblx0ICogXy5pc09iamVjdCh7fSk7XG5cdCAqIC8vID0+IHRydWVcblx0ICpcblx0ICogXy5pc09iamVjdChbMSwgMiwgM10pO1xuXHQgKiAvLyA9PiB0cnVlXG5cdCAqXG5cdCAqIF8uaXNPYmplY3QoMSk7XG5cdCAqIC8vID0+IGZhbHNlXG5cdCAqL1xuXHRmdW5jdGlvbiBpc09iamVjdCh2YWx1ZSkge1xuXHQgIC8vIEF2b2lkIGEgVjggSklUIGJ1ZyBpbiBDaHJvbWUgMTktMjAuXG5cdCAgLy8gU2VlIGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvdjgvaXNzdWVzL2RldGFpbD9pZD0yMjkxIGZvciBtb3JlIGRldGFpbHMuXG5cdCAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG5cdCAgcmV0dXJuICEhdmFsdWUgJiYgKHR5cGUgPT0gJ29iamVjdCcgfHwgdHlwZSA9PSAnZnVuY3Rpb24nKTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgbmF0aXZlIGZ1bmN0aW9uLlxuXHQgKlxuXHQgKiBAc3RhdGljXG5cdCAqIEBtZW1iZXJPZiBfXG5cdCAqIEBjYXRlZ29yeSBMYW5nXG5cdCAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuXHQgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIG5hdGl2ZSBmdW5jdGlvbiwgZWxzZSBgZmFsc2VgLlxuXHQgKiBAZXhhbXBsZVxuXHQgKlxuXHQgKiBfLmlzTmF0aXZlKEFycmF5LnByb3RvdHlwZS5wdXNoKTtcblx0ICogLy8gPT4gdHJ1ZVxuXHQgKlxuXHQgKiBfLmlzTmF0aXZlKF8pO1xuXHQgKiAvLyA9PiBmYWxzZVxuXHQgKi9cblx0ZnVuY3Rpb24gaXNOYXRpdmUodmFsdWUpIHtcblx0ICBpZiAodmFsdWUgPT0gbnVsbCkge1xuXHQgICAgcmV0dXJuIGZhbHNlO1xuXHQgIH1cblx0ICBpZiAoaXNGdW5jdGlvbih2YWx1ZSkpIHtcblx0ICAgIHJldHVybiByZUlzTmF0aXZlLnRlc3QoZm5Ub1N0cmluZy5jYWxsKHZhbHVlKSk7XG5cdCAgfVxuXHQgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIHJlSXNIb3N0Q3Rvci50ZXN0KHZhbHVlKTtcblx0fVxuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBpc0FycmF5O1xuXG5cbi8qKiovIH0sXG4vKiAzNyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLmluaXRpYWwgPSBpbml0aWFsO1xuXHRleHBvcnRzLnVwZGF0ZSA9IHVwZGF0ZTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblx0XG5cdHZhciBfcDIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXHRcblx0dmFyIF9wMjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wMik7XG5cdFxuXHR2YXIgX3BsYW5lID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMSk7XG5cdFxuXHR2YXIgX2NvbnN0YW50cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTApO1xuXHRcblx0dmFyIFdJRFRIID0gMC43NTtcblx0ZXhwb3J0cy5XSURUSCA9IFdJRFRIO1xuXHR2YXIgSEVJR0hUID0gMC4zO1xuXHRleHBvcnRzLkhFSUdIVCA9IEhFSUdIVDtcblx0dmFyIEFMSVZFX1RJTUUgPSAyNTtcblx0XG5cdGV4cG9ydHMuQUxJVkVfVElNRSA9IEFMSVZFX1RJTUU7XG5cdFxuXHRmdW5jdGlvbiBpbml0aWFsKCkge1xuXHQgIHJldHVybiB7XG5cdCAgICBidWxsZXRzOiBbXSxcblx0ICAgIGV4cGxvc2lvbnM6IFtdLFxuXHQgICAgc291bmRzOiB7XG5cdCAgICAgIGNyZWF0ZWQ6IFtdXG5cdCAgICB9XG5cdCAgfTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gaW5pdGlhbEJ1bGxldChwbGF5ZXIpIHtcblx0ICB2YXIgc2luID0gTWF0aC5zaW4ocGxheWVyLmJvZHkuYW5nbGUpO1xuXHQgIHZhciBjb3MgPSBNYXRoLmNvcyhwbGF5ZXIuYm9keS5hbmdsZSk7XG5cdFxuXHQgIC8vIGJ1bGxldCBob2xlIGlzbid0IHJpZ2h0IGluIHRoZSBtaWRkbGUgb2YgdGhlIHBsYW5lXG5cdCAgdmFyIHlPZmZzZXQgPSBfcGxhbmUuSEVJR0hUICogMC4wNjtcblx0XG5cdCAgdmFyIGJvZHkgPSBuZXcgX3AyMlsnZGVmYXVsdCddLkJvZHkoe1xuXHQgICAgbWFzczogMCxcblx0ICAgIGFuZ2xlOiBwbGF5ZXIuYm9keS5hbmdsZSxcblx0ICAgIHBvc2l0aW9uOiBbcGxheWVyLmJvZHkucG9zaXRpb25bMF0gKyAoX3BsYW5lLldJRFRIIC8gMiArIFdJRFRIKSAqIGNvcyArIHlPZmZzZXQgKiBzaW4sIHBsYXllci5ib2R5LnBvc2l0aW9uWzFdIC0gKF9wbGFuZS5XSURUSCAvIDIgKyBXSURUSCkgKiBzaW4gKyB5T2Zmc2V0ICogY29zXVxuXHQgIH0pO1xuXHRcblx0ICBib2R5LmFkZFNoYXBlKG5ldyBfcDIyWydkZWZhdWx0J10uQm94KHtcblx0ICAgIHdpZHRoOiBXSURUSCxcblx0ICAgIGhlaWdodDogSEVJR0hUXG5cdCAgfSkpO1xuXHRcblx0ICByZXR1cm4ge1xuXHQgICAgYm9keTogYm9keSxcblx0ICAgIHRocnVzdDogcGxheWVyLnRocnVzdCArIDEsXG5cdCAgICB0aWNrc0xpdmVkOiAwLFxuXHQgICAgZXhwbG9kZWQ6IGZhbHNlXG5cdCAgfTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gdXBkYXRlQnVsbGV0KGJ1bGxldCwgd29ybGQsIGRlbHRhKSB7XG5cdCAgYnVsbGV0LnRpY2tzTGl2ZWQgKz0gZGVsdGE7XG5cdFxuXHQgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcblx0ICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcblx0ICB2YXIgX2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7XG5cdFxuXHQgIHRyeSB7XG5cdCAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSB3b3JsZC5pbXBhY3RzW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZSkge1xuXHQgICAgICB2YXIgX3N0ZXAkdmFsdWUgPSBfc3RlcC52YWx1ZTtcblx0ICAgICAgdmFyIGJvZHlBID0gX3N0ZXAkdmFsdWUuYm9keUE7XG5cdCAgICAgIHZhciBib2R5QiA9IF9zdGVwJHZhbHVlLmJvZHlCO1xuXHRcblx0ICAgICAgaWYgKGJ1bGxldC5ib2R5ID09PSBib2R5QSB8fCBidWxsZXQuYm9keSA9PT0gYm9keUIpIHtcblx0ICAgICAgICBidWxsZXQuZXhwbG9kZWQgPSB0cnVlO1xuXHQgICAgICAgIHJldHVybiBidWxsZXQ7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9IGNhdGNoIChlcnIpIHtcblx0ICAgIF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTtcblx0ICAgIF9pdGVyYXRvckVycm9yID0gZXJyO1xuXHQgIH0gZmluYWxseSB7XG5cdCAgICB0cnkge1xuXHQgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yWydyZXR1cm4nXSkge1xuXHQgICAgICAgIF9pdGVyYXRvclsncmV0dXJuJ10oKTtcblx0ICAgICAgfVxuXHQgICAgfSBmaW5hbGx5IHtcblx0ICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yKSB7XG5cdCAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIGJ1bGxldC5ib2R5LnBvc2l0aW9uWzBdICs9IGJ1bGxldC50aHJ1c3QgKiBNYXRoLnNpbihidWxsZXQuYm9keS5hbmdsZSArIF9jb25zdGFudHMuUkFESUFOICogMC4yNSkgKiBkZWx0YTtcblx0ICBidWxsZXQuYm9keS5wb3NpdGlvblsxXSArPSBidWxsZXQudGhydXN0ICogTWF0aC5jb3MoYnVsbGV0LmJvZHkuYW5nbGUgKyBfY29uc3RhbnRzLlJBRElBTiAqIDAuMjUpICogZGVsdGE7XG5cdFxuXHQgIHJldHVybiBidWxsZXQ7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGNyZWF0ZShwbGF5ZXIsIHdvcmxkKSB7XG5cdCAgdmFyIGJ1bGxldCA9IGluaXRpYWxCdWxsZXQocGxheWVyKTtcblx0ICB3b3JsZC5hZGRCb2R5KGJ1bGxldC5ib2R5KTtcblx0ICByZXR1cm4gYnVsbGV0O1xuXHR9XG5cdFxuXHRmdW5jdGlvbiB1cGRhdGUoYnVsbGV0cywgaW5wdXQsIHdvcmxkLCBwbGF5ZXIpIHtcblx0XG5cdCAgdmFyIHVwZGF0ZWRCdWxsZXRzID0gYnVsbGV0cy5idWxsZXRzLm1hcChmdW5jdGlvbiAoYnVsbGV0KSB7XG5cdCAgICByZXR1cm4gdXBkYXRlQnVsbGV0KGJ1bGxldCwgd29ybGQsIGlucHV0LmRlbHRhKTtcblx0ICB9KS5maWx0ZXIoZnVuY3Rpb24gKGJ1bGxldCkge1xuXHQgICAgaWYgKGJ1bGxldC50aWNrc0xpdmVkID4gQUxJVkVfVElNRSB8fCBidWxsZXQuZXhwbG9kZWQpIHtcblx0ICAgICAgd29ybGQucmVtb3ZlQm9keShidWxsZXQuYm9keSk7XG5cdCAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgIH1cblx0ICAgIHJldHVybiB0cnVlO1xuXHQgIH0pO1xuXHRcblx0ICB2YXIgbmV3QnVsbGV0cyA9IHBsYXllci5jcmVhdGVkQnVsbGV0cy5tYXAoZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuIGNyZWF0ZShwbGF5ZXIsIHdvcmxkKTtcblx0ICB9KTtcblx0XG5cdCAgcmV0dXJuIHtcblx0ICAgIGJ1bGxldHM6IHVwZGF0ZWRCdWxsZXRzLmZpbHRlcihmdW5jdGlvbiAoYikge1xuXHQgICAgICByZXR1cm4gIWIuZXhwbG9kZWQ7XG5cdCAgICB9KS5jb25jYXQobmV3QnVsbGV0cyksXG5cdCAgICBleHBsb3Npb25zOiB1cGRhdGVkQnVsbGV0cy5maWx0ZXIoZnVuY3Rpb24gKGJ1bGxldCkge1xuXHQgICAgICByZXR1cm4gYnVsbGV0LmV4cGxvZGVkO1xuXHQgICAgfSksXG5cdCAgICBzb3VuZHM6IHtcblx0ICAgICAgY3JlYXRlZDogaW5wdXQuc2hvb3QubWFwKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgICAgfSlcblx0ICAgIH1cblx0ICB9O1xuXHR9XG5cblx0LyogSE9UIFBBVENIIExPQURFUiAqLyB2YXIgX19tb2R1bGVCaW5kaW5ncyA9IFtcIl9pbnRlcm9wUmVxdWlyZURlZmF1bHRcIixcImluaXRpYWxcIixcImluaXRpYWxCdWxsZXRcIixcInVwZGF0ZUJ1bGxldFwiLFwiY3JlYXRlXCIsXCJ1cGRhdGVcIl07IGlmKGZhbHNlKSB7XG5cdCAgbW9kdWxlLmhvdC5hY2NlcHQoZnVuY3Rpb24oZXJyKSB7XG5cdCAgICBjb25zb2xlLmxvZygnW0hNUl0gRXJyb3IgYWNjZXB0aW5nOiAnICsgZXJyKTtcblx0ICB9KTtcblxuXHQgIHZhciBnZXRFdmFsU291cmNlID0gZnVuY3Rpb24oZnVuYykge1xuXHQgICAgdmFyIGNvZGUgPSBmdW5jLnRvU3RyaW5nKCk7XG5cdCAgICB2YXIgbSA9IGNvZGUubWF0Y2goL15mdW5jdGlvblxccytfX2V2YWxcXHMqXFwoKC4qKVxcKVxccypcXHsoW1xcc1xcU10qKVxcfSQvaSk7XG5cdCAgICBpZighbSkge1xuXHQgICAgICByZXR1cm4gbnVsbDtcblx0ICAgIH1cblx0ICAgIHZhciBhcmdzID0gbVsxXTtcblx0ICAgIHZhciBib2R5ID0gbVsyXTtcblx0ICAgIHZhciBzY29wZSA9IHt9O1xuXG5cdCAgICBpZihhcmdzLnRyaW0oKSkge1xuXHQgICAgICBhcmdzLnNwbGl0KCcsJykuZm9yRWFjaChmdW5jdGlvbihhcmcpIHtcblx0ICAgICAgICBpZihhcmcuaW5kZXhPZignPScpICE9PSAtMSkge1xuXHQgICAgICAgICAgdmFyIHAgPSBhcmcuc3BsaXQoJz0nKTtcblx0ICAgICAgICAgIHNjb3BlW3BbMF0udHJpbSgpXSA9IEpTT04ucGFyc2UocFsxXSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGVsc2Uge1xuXHQgICAgICAgICAgc2NvcGVbYXJnLnRyaW0oKV0gPSB1bmRlZmluZWQ7XG5cdCAgICAgICAgfVxuXHQgICAgICB9KTtcblx0ICAgIH1cblxuXHQgICAgcmV0dXJuIHsgYm9keTogYm9keSwgc2NvcGU6IHNjb3BlIH07XG5cdCAgfVxuXG5cdCAgdmFyIGluamVjdFNjb3BlID0gZnVuY3Rpb24oc2NvcGUsIGNvZGUpIHtcblx0ICAgIC8vIFRha2UgYW4gZXhwbGljaXQgc2NvcGUgb2JqZWN0IGFuZCBpbmplY3QgaXQgc28gdGhhdFxuXHQgICAgLy8gYGNvZGVgIHJ1bnMgaW4gY29udGV4dCBvZiBpdFxuXHQgICAgdmFyIGluamVjdGVkID0gT2JqZWN0LmtleXMoc2NvcGUpLm1hcChmdW5jdGlvbihiaW5kaW5nKSB7XG5cdCAgICAgIHJldHVybiAndmFyICcgKyBiaW5kaW5nICsgJyA9IGV2YWxTY29wZS4nICsgYmluZGluZyArICc7J1xuXHQgICAgfSkuam9pbignICcpO1xuXG5cdCAgICAvLyBVcGRhdGUgb3VyIHNjb3BlIG9iamVjdCB3aXRoIGFueSBtb2RpZmljYXRpb25zXG5cdCAgICB2YXIgZXh0cmFjdGVkID0gT2JqZWN0LmtleXMoc2NvcGUpLm1hcChmdW5jdGlvbihiaW5kaW5nKSB7XG5cdCAgICAgIHJldHVybiAnZXZhbFNjb3BlLicgKyBiaW5kaW5nICsgJyA9ICcgKyBiaW5kaW5nICsgJzsnO1xuXHQgICAgfSkuam9pbignICcpO1xuXG5cdCAgICByZXR1cm4gaW5qZWN0ZWQgKyBjb2RlICsgZXh0cmFjdGVkO1xuXHQgIH1cblxuXHQgIHZhciBiaW5kaW5ncyA9IF9fbW9kdWxlQmluZGluZ3M7XG5cblx0ICBpZighbW9kdWxlLmhvdC5kYXRhKSB7XG5cdCAgICAvLyBGaXJzdCB0aW1lIGxvYWRpbmcuIFRyeSBhbmQgcGF0Y2ggc29tZXRoaW5nLlxuXHQgICAgdmFyIHBhdGNoZWRCaW5kaW5ncyA9IHt9O1xuXHQgICAgdmFyIGV2YWxTY29wZSA9IHt9O1xuXG5cdCAgICB2YXIgbW9kdWxlRXZhbFdpdGhTY29wZSA9IGZ1bmN0aW9uKGZyYW1lKSB7XG5cdCAgICAgIC8vIFVwZGF0ZSB0aGUgc2NvcGUgdG8gcmVmbGVjdCBvbmx5IHRoZSB2YWx1ZXMgc3BlY2lmaWVkIGFzXG5cdCAgICAgIC8vIGFyZ3VtZW50cyB0byB0aGUgX19ldmFsIGZ1bmN0aW9uLiBDb3B5IG92ZXIgdmFsdWVzIGZyb20gdGhlXG5cdCAgICAgIC8vIGV4aXN0aW5nIHNjb3BlIGFuZCBpZ25vcmUgdGhlIHJlc3QuXG5cdCAgICAgIE9iamVjdC5rZXlzKGV2YWxTY29wZSkuZm9yRWFjaChmdW5jdGlvbihhcmcpIHtcblx0ICAgICAgICBpZihhcmcgaW4gZnJhbWUuc2NvcGUpIHtcblx0ICAgICAgICAgIGZyYW1lLnNjb3BlW2FyZ10gPSBldmFsU2NvcGVbYXJnXTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0pO1xuXHQgICAgICBldmFsU2NvcGUgPSBmcmFtZS5zY29wZTtcblxuXHQgICAgICB2YXIgY29kZSA9IGluamVjdFNjb3BlKGV2YWxTY29wZSwgZnJhbWUuYm9keSk7XG5cdCAgICAgIHJldHVybiBldmFsKGNvZGUpO1xuXHQgICAgfVxuXG5cdCAgICB2YXIgbW9kdWxlRXZhbCA9IGZ1bmN0aW9uKGNvZGUpIHtcblx0ICAgICAgcmV0dXJuIGV2YWwoY29kZSk7XG5cdCAgICB9XG5cblx0ICAgIGJpbmRpbmdzLmZvckVhY2goZnVuY3Rpb24oYmluZGluZykge1xuXHQgICAgICB2YXIgZiA9IGV2YWwoYmluZGluZyk7XG5cblx0ICAgICAgaWYodHlwZW9mIGYgPT09ICdmdW5jdGlvbicgJiYgYmluZGluZyAhPT0gJ19fZXZhbCcpIHtcblx0ICAgICAgICB2YXIgcGF0Y2hlZCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgaWYocGF0Y2hlZEJpbmRpbmdzW2JpbmRpbmddKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBwYXRjaGVkQmluZGluZ3NbYmluZGluZ10uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIGVsc2Uge1xuXHQgICAgICAgICAgICByZXR1cm4gZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH07XG5cdCAgICAgICAgcGF0Y2hlZC5wcm90b3R5cGUgPSBmLnByb3RvdHlwZTtcblxuXHQgICAgICAgIGV2YWwoYmluZGluZyArICcgPSBwYXRjaGVkO1xcbicpO1xuXG5cdCAgICAgICAgaWYobW9kdWxlLmV4cG9ydHNbYmluZGluZ10pIHtcblx0ICAgICAgICAgIG1vZHVsZS5leHBvcnRzW2JpbmRpbmddID0gcGF0Y2hlZDtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXG5cdCAgICBtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oZGF0YSkge1xuXHQgICAgICBkYXRhLnBhdGNoZWRCaW5kaW5ncyA9IHBhdGNoZWRCaW5kaW5ncztcblx0ICAgICAgZGF0YS5tb2R1bGVFdmFsID0gbW9kdWxlRXZhbDtcblx0ICAgICAgZGF0YS5tb2R1bGVFdmFsV2l0aFNjb3BlID0gbW9kdWxlRXZhbFdpdGhTY29wZTtcblx0ICAgIH0pO1xuXHQgIH1cblx0ICBlbHNlIHtcblx0ICAgIHZhciBwYXRjaGVkQmluZGluZ3MgPSBtb2R1bGUuaG90LmRhdGEucGF0Y2hlZEJpbmRpbmdzO1xuXG5cdCAgICBiaW5kaW5ncy5mb3JFYWNoKGZ1bmN0aW9uKGJpbmRpbmcpIHtcblx0ICAgICAgdmFyIGYgPSBldmFsKGJpbmRpbmcpO1xuXG5cdCAgICAgIGlmKHR5cGVvZiBmID09PSAnZnVuY3Rpb24nICYmIGJpbmRpbmcgIT09ICdfX2V2YWwnKSB7XG5cdCAgICAgICAgLy8gV2UgbmVlZCB0byByZWlmeSB0aGUgZnVuY3Rpb24gaW4gdGhlIG9yaWdpbmFsIG1vZHVsZSBzb1xuXHQgICAgICAgIC8vIGl0IHJlZmVyZW5jZXMgYW55IG9mIHRoZSBvcmlnaW5hbCBzdGF0ZS4gU3RyaXAgdGhlIG5hbWVcblx0ICAgICAgICAvLyBhbmQgc2ltcGx5IGV2YWwgaXQuXG5cdCAgICAgICAgdmFyIGZ1bmNDb2RlID0gKFxuXHQgICAgICAgICAgJygnICsgZi50b1N0cmluZygpLnJlcGxhY2UoL15mdW5jdGlvbiBcXHcrXFwoLywgJ2Z1bmN0aW9uICgnKSArICcpJ1xuXHQgICAgICAgICk7XG5cdCAgICAgICAgcGF0Y2hlZEJpbmRpbmdzW2JpbmRpbmddID0gbW9kdWxlLmhvdC5kYXRhLm1vZHVsZUV2YWwoZnVuY0NvZGUpO1xuXHQgICAgICB9XG5cdCAgICB9KTtcblxuXHQgICAgaWYodHlwZW9mIF9fZXZhbCA9PT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICB0cnkge1xuXHQgICAgICAgIG1vZHVsZS5ob3QuZGF0YS5tb2R1bGVFdmFsV2l0aFNjb3BlKGdldEV2YWxTb3VyY2UoX19ldmFsKSk7XG5cdCAgICAgIH1cblx0ICAgICAgY2F0Y2goZSkge1xuXHQgICAgICAgIGNvbnNvbGUubG9nKCdlcnJvciBldmFsaW5nOiAnICsgZSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblxuXHQgICAgbW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKGRhdGEpIHtcblx0ICAgICAgZGF0YS5wYXRjaGVkQmluZGluZ3MgPSBwYXRjaGVkQmluZGluZ3M7XG5cdCAgICAgIGRhdGEubW9kdWxlRXZhbCA9IG1vZHVsZS5ob3QuZGF0YS5tb2R1bGVFdmFsO1xuXHQgICAgICBkYXRhLm1vZHVsZUV2YWxXaXRoU2NvcGUgPSBtb2R1bGUuaG90LmRhdGEubW9kdWxlRXZhbFdpdGhTY29wZTtcblx0ICAgIH0pO1xuXHQgIH1cblx0fVxuXG5cbi8qKiovIH0sXG4vKiAzOCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLnJhbmRvbUdlbmVyYXRvciA9IHJhbmRvbUdlbmVyYXRvcjtcblx0ZXhwb3J0cy5yYW5kb20gPSByYW5kb207XG5cdGV4cG9ydHMudG9PYmplY3QgPSB0b09iamVjdDtcblx0ZXhwb3J0cy5jbGFtcCA9IGNsYW1wO1xuXHRleHBvcnRzLm1lbW9pemVBcmdzID0gbWVtb2l6ZUFyZ3M7XG5cdGV4cG9ydHMuZGVncmVlcyA9IGRlZ3JlZXM7XG5cdGV4cG9ydHMuZ2V0SWQgPSBnZXRJZDtcblx0ZXhwb3J0cy5tb2QgPSBtb2Q7XG5cdGV4cG9ydHMuY3JlYXRlQ29sbGlzaW9uRGlzcGF0Y2hlciA9IGNyZWF0ZUNvbGxpc2lvbkRpc3BhdGNoZXI7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cdFxuXHR2YXIgX2xvZGFzaFppcG9iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oOTApO1xuXHRcblx0dmFyIF9sb2Rhc2haaXBvYmplY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbG9kYXNoWmlwb2JqZWN0KTtcblx0XG5cdHZhciBfZGVncmVlc1JhZGlhbnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc3KTtcblx0XG5cdHZhciBfZGVncmVlc1JhZGlhbnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVncmVlc1JhZGlhbnMpO1xuXHRcblx0ZnVuY3Rpb24gcmFuZG9tR2VuZXJhdG9yKCkge1xuXHQgIHZhciBzZWVkID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8gMSA6IGFyZ3VtZW50c1swXTtcblx0XG5cdCAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcblx0ICAgIHZhciB4ID0gTWF0aC5zaW4oc2VlZCsrKSAqIDEwMDAwOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG5cdCAgICByZXR1cm4geCAtIE1hdGguZmxvb3IoeCk7XG5cdCAgfTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gcmFuZG9tKHJhbmRvbUZuLCBtaW4sIG1heCkge1xuXHQgIHJldHVybiByYW5kb21GbigpICogKG1heCAtIG1pbikgKyBtaW47XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHRvT2JqZWN0KCkge1xuXHQgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBrZXlzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG5cdCAgICBrZXlzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuXHQgIH1cblx0XG5cdCAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcblx0ICAgIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgdmFsdWVzID0gQXJyYXkoX2xlbjIpLCBfa2V5MiA9IDA7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcblx0ICAgICAgdmFsdWVzW19rZXkyXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuICgwLCBfbG9kYXNoWmlwb2JqZWN0MlsnZGVmYXVsdCddKShrZXlzLCB2YWx1ZXMpO1xuXHQgIH07XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGNsYW1wKG1pbiwgbWF4LCBudW0pIHtcblx0ICByZXR1cm4gTWF0aC5taW4oTWF0aC5tYXgobnVtLCBtaW4pLCBtYXgpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBtZW1vaXplQXJncyhmbikge1xuXHQgIHZhciBsYXN0QXJndW1lbnQgPSB1bmRlZmluZWQ7XG5cdFxuXHQgIHJldHVybiBmdW5jdGlvbiAoYXJndW1lbnQpIHtcblx0ICAgIGlmICh0eXBlb2YgbGFzdEFyZ3VtZW50ID09PSAndW5kZWZpbmVkJyB8fCBsYXN0QXJndW1lbnQgIT09IGFyZ3VtZW50KSB7XG5cdCAgICAgIGZuKGFyZ3VtZW50KTtcblx0ICAgIH1cblx0ICAgIGxhc3RBcmd1bWVudCA9IGFyZ3VtZW50O1xuXHQgIH07XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGRlZ3JlZXMocmFkKSB7XG5cdCAgcmV0dXJuIHJhZCAvIChNYXRoLlBJIC8gMTgwKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZ2V0SWQoKSB7XG5cdCAgdmFyIHN0b3JlZElkID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdwbGF5ZXJJZCcpO1xuXHRcblx0ICBpZiAoc3RvcmVkSWQpIHtcblx0ICAgIHJldHVybiBzdG9yZWRJZDtcblx0ICB9XG5cdFxuXHQgIHZhciBpZCA9IE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnJlcGxhY2UoL1teYS16XSsvZywgJycpLnN1YnN0cigwLCA1KTtcblx0XG5cdCAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCdwbGF5ZXJJZCcsIGlkKTtcblx0XG5cdCAgcmV0dXJuIGlkO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBtb2QobnVtLCBuKSB7XG5cdCAgcmV0dXJuIChudW0gJSBuICsgbikgJSBuO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBjcmVhdGVDb2xsaXNpb25EaXNwYXRjaGVyKGNvbGxpc2lvbkhhbmRsZXJzKSB7XG5cdCAgcmV0dXJuIGZ1bmN0aW9uIGhhbmRsZUNvbGxpc2lvbnMod29ybGQpIHtcblx0ICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcblx0ICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xuXHQgICAgdmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXHRcblx0ICAgIHRyeSB7XG5cdCAgICAgIGZvciAodmFyIF9pdGVyYXRvciA9IHdvcmxkLmltcGFjdHNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlKSB7XG5cdCAgICAgICAgdmFyIF9zdGVwJHZhbHVlID0gX3N0ZXAudmFsdWU7XG5cdCAgICAgICAgdmFyIGJvZHlBID0gX3N0ZXAkdmFsdWUuYm9keUE7XG5cdCAgICAgICAgdmFyIGJvZHlCID0gX3N0ZXAkdmFsdWUuYm9keUI7XG5cdFxuXHQgICAgICAgIGlmICh0aGlzLmJvZHkgPT09IGJvZHlBIHx8IHRoaXMuYm9keSA9PT0gYm9keUIpIHtcblx0ICAgICAgICAgIHZhciBvdGhlciA9IHRoaXMuYm9keSA9PT0gYm9keUEgPyBib2R5QiA6IGJvZHlBO1xuXHQgICAgICAgICAgdmFyIGhhbmRsZXIgPSBjb2xsaXNpb25IYW5kbGVycy5nZXQob3RoZXIuVFlQRSk7XG5cdCAgICAgICAgICByZXR1cm4gaGFuZGxlcih0aGlzKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH0gY2F0Y2ggKGVycikge1xuXHQgICAgICBfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7XG5cdCAgICAgIF9pdGVyYXRvckVycm9yID0gZXJyO1xuXHQgICAgfSBmaW5hbGx5IHtcblx0ICAgICAgdHJ5IHtcblx0ICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yWydyZXR1cm4nXSkge1xuXHQgICAgICAgICAgX2l0ZXJhdG9yWydyZXR1cm4nXSgpO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSBmaW5hbGx5IHtcblx0ICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHtcblx0ICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiB0aGlzO1xuXHQgIH07XG5cdH1cblx0XG5cdGV4cG9ydHMucmFkaWFucyA9IF9kZWdyZWVzUmFkaWFuczJbJ2RlZmF1bHQnXTtcblx0XG5cdC8qIEhPVCBQQVRDSCBMT0FERVIgKi8gdmFyIF9fbW9kdWxlQmluZGluZ3MgPSBbXCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0XCIsXCJyYW5kb21HZW5lcmF0b3JcIixcInJhbmRvbVwiLFwidG9PYmplY3RcIixcImNsYW1wXCIsXCJtZW1vaXplQXJnc1wiLFwiZGVncmVlc1wiLFwiZ2V0SWRcIixcIm1vZFwiLFwiY3JlYXRlQ29sbGlzaW9uRGlzcGF0Y2hlclwiXTsgaWYoZmFsc2UpIHtcblx0ICBtb2R1bGUuaG90LmFjY2VwdChmdW5jdGlvbihlcnIpIHtcblx0ICAgIGNvbnNvbGUubG9nKCdbSE1SXSBFcnJvciBhY2NlcHRpbmc6ICcgKyBlcnIpO1xuXHQgIH0pO1xuXG5cdCAgdmFyIGdldEV2YWxTb3VyY2UgPSBmdW5jdGlvbihmdW5jKSB7XG5cdCAgICB2YXIgY29kZSA9IGZ1bmMudG9TdHJpbmcoKTtcblx0ICAgIHZhciBtID0gY29kZS5tYXRjaCgvXmZ1bmN0aW9uXFxzK19fZXZhbFxccypcXCgoLiopXFwpXFxzKlxceyhbXFxzXFxTXSopXFx9JC9pKTtcblx0ICAgIGlmKCFtKSB7XG5cdCAgICAgIHJldHVybiBudWxsO1xuXHQgICAgfVxuXHQgICAgdmFyIGFyZ3MgPSBtWzFdO1xuXHQgICAgdmFyIGJvZHkgPSBtWzJdO1xuXHQgICAgdmFyIHNjb3BlID0ge307XG5cblx0ICAgIGlmKGFyZ3MudHJpbSgpKSB7XG5cdCAgICAgIGFyZ3Muc3BsaXQoJywnKS5mb3JFYWNoKGZ1bmN0aW9uKGFyZykge1xuXHQgICAgICAgIGlmKGFyZy5pbmRleE9mKCc9JykgIT09IC0xKSB7XG5cdCAgICAgICAgICB2YXIgcCA9IGFyZy5zcGxpdCgnPScpO1xuXHQgICAgICAgICAgc2NvcGVbcFswXS50cmltKCldID0gSlNPTi5wYXJzZShwWzFdKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgZWxzZSB7XG5cdCAgICAgICAgICBzY29wZVthcmcudHJpbSgpXSA9IHVuZGVmaW5lZDtcblx0ICAgICAgICB9XG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXG5cdCAgICByZXR1cm4geyBib2R5OiBib2R5LCBzY29wZTogc2NvcGUgfTtcblx0ICB9XG5cblx0ICB2YXIgaW5qZWN0U2NvcGUgPSBmdW5jdGlvbihzY29wZSwgY29kZSkge1xuXHQgICAgLy8gVGFrZSBhbiBleHBsaWNpdCBzY29wZSBvYmplY3QgYW5kIGluamVjdCBpdCBzbyB0aGF0XG5cdCAgICAvLyBgY29kZWAgcnVucyBpbiBjb250ZXh0IG9mIGl0XG5cdCAgICB2YXIgaW5qZWN0ZWQgPSBPYmplY3Qua2V5cyhzY29wZSkubWFwKGZ1bmN0aW9uKGJpbmRpbmcpIHtcblx0ICAgICAgcmV0dXJuICd2YXIgJyArIGJpbmRpbmcgKyAnID0gZXZhbFNjb3BlLicgKyBiaW5kaW5nICsgJzsnXG5cdCAgICB9KS5qb2luKCcgJyk7XG5cblx0ICAgIC8vIFVwZGF0ZSBvdXIgc2NvcGUgb2JqZWN0IHdpdGggYW55IG1vZGlmaWNhdGlvbnNcblx0ICAgIHZhciBleHRyYWN0ZWQgPSBPYmplY3Qua2V5cyhzY29wZSkubWFwKGZ1bmN0aW9uKGJpbmRpbmcpIHtcblx0ICAgICAgcmV0dXJuICdldmFsU2NvcGUuJyArIGJpbmRpbmcgKyAnID0gJyArIGJpbmRpbmcgKyAnOyc7XG5cdCAgICB9KS5qb2luKCcgJyk7XG5cblx0ICAgIHJldHVybiBpbmplY3RlZCArIGNvZGUgKyBleHRyYWN0ZWQ7XG5cdCAgfVxuXG5cdCAgdmFyIGJpbmRpbmdzID0gX19tb2R1bGVCaW5kaW5ncztcblxuXHQgIGlmKCFtb2R1bGUuaG90LmRhdGEpIHtcblx0ICAgIC8vIEZpcnN0IHRpbWUgbG9hZGluZy4gVHJ5IGFuZCBwYXRjaCBzb21ldGhpbmcuXG5cdCAgICB2YXIgcGF0Y2hlZEJpbmRpbmdzID0ge307XG5cdCAgICB2YXIgZXZhbFNjb3BlID0ge307XG5cblx0ICAgIHZhciBtb2R1bGVFdmFsV2l0aFNjb3BlID0gZnVuY3Rpb24oZnJhbWUpIHtcblx0ICAgICAgLy8gVXBkYXRlIHRoZSBzY29wZSB0byByZWZsZWN0IG9ubHkgdGhlIHZhbHVlcyBzcGVjaWZpZWQgYXNcblx0ICAgICAgLy8gYXJndW1lbnRzIHRvIHRoZSBfX2V2YWwgZnVuY3Rpb24uIENvcHkgb3ZlciB2YWx1ZXMgZnJvbSB0aGVcblx0ICAgICAgLy8gZXhpc3Rpbmcgc2NvcGUgYW5kIGlnbm9yZSB0aGUgcmVzdC5cblx0ICAgICAgT2JqZWN0LmtleXMoZXZhbFNjb3BlKS5mb3JFYWNoKGZ1bmN0aW9uKGFyZykge1xuXHQgICAgICAgIGlmKGFyZyBpbiBmcmFtZS5zY29wZSkge1xuXHQgICAgICAgICAgZnJhbWUuc2NvcGVbYXJnXSA9IGV2YWxTY29wZVthcmddO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSk7XG5cdCAgICAgIGV2YWxTY29wZSA9IGZyYW1lLnNjb3BlO1xuXG5cdCAgICAgIHZhciBjb2RlID0gaW5qZWN0U2NvcGUoZXZhbFNjb3BlLCBmcmFtZS5ib2R5KTtcblx0ICAgICAgcmV0dXJuIGV2YWwoY29kZSk7XG5cdCAgICB9XG5cblx0ICAgIHZhciBtb2R1bGVFdmFsID0gZnVuY3Rpb24oY29kZSkge1xuXHQgICAgICByZXR1cm4gZXZhbChjb2RlKTtcblx0ICAgIH1cblxuXHQgICAgYmluZGluZ3MuZm9yRWFjaChmdW5jdGlvbihiaW5kaW5nKSB7XG5cdCAgICAgIHZhciBmID0gZXZhbChiaW5kaW5nKTtcblxuXHQgICAgICBpZih0eXBlb2YgZiA9PT0gJ2Z1bmN0aW9uJyAmJiBiaW5kaW5nICE9PSAnX19ldmFsJykge1xuXHQgICAgICAgIHZhciBwYXRjaGVkID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICBpZihwYXRjaGVkQmluZGluZ3NbYmluZGluZ10pIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHBhdGNoZWRCaW5kaW5nc1tiaW5kaW5nXS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgICAgZWxzZSB7XG5cdCAgICAgICAgICAgIHJldHVybiBmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfTtcblx0ICAgICAgICBwYXRjaGVkLnByb3RvdHlwZSA9IGYucHJvdG90eXBlO1xuXG5cdCAgICAgICAgZXZhbChiaW5kaW5nICsgJyA9IHBhdGNoZWQ7XFxuJyk7XG5cblx0ICAgICAgICBpZihtb2R1bGUuZXhwb3J0c1tiaW5kaW5nXSkge1xuXHQgICAgICAgICAgbW9kdWxlLmV4cG9ydHNbYmluZGluZ10gPSBwYXRjaGVkO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfSk7XG5cblx0ICAgIG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbihkYXRhKSB7XG5cdCAgICAgIGRhdGEucGF0Y2hlZEJpbmRpbmdzID0gcGF0Y2hlZEJpbmRpbmdzO1xuXHQgICAgICBkYXRhLm1vZHVsZUV2YWwgPSBtb2R1bGVFdmFsO1xuXHQgICAgICBkYXRhLm1vZHVsZUV2YWxXaXRoU2NvcGUgPSBtb2R1bGVFdmFsV2l0aFNjb3BlO1xuXHQgICAgfSk7XG5cdCAgfVxuXHQgIGVsc2Uge1xuXHQgICAgdmFyIHBhdGNoZWRCaW5kaW5ncyA9IG1vZHVsZS5ob3QuZGF0YS5wYXRjaGVkQmluZGluZ3M7XG5cblx0ICAgIGJpbmRpbmdzLmZvckVhY2goZnVuY3Rpb24oYmluZGluZykge1xuXHQgICAgICB2YXIgZiA9IGV2YWwoYmluZGluZyk7XG5cblx0ICAgICAgaWYodHlwZW9mIGYgPT09ICdmdW5jdGlvbicgJiYgYmluZGluZyAhPT0gJ19fZXZhbCcpIHtcblx0ICAgICAgICAvLyBXZSBuZWVkIHRvIHJlaWZ5IHRoZSBmdW5jdGlvbiBpbiB0aGUgb3JpZ2luYWwgbW9kdWxlIHNvXG5cdCAgICAgICAgLy8gaXQgcmVmZXJlbmNlcyBhbnkgb2YgdGhlIG9yaWdpbmFsIHN0YXRlLiBTdHJpcCB0aGUgbmFtZVxuXHQgICAgICAgIC8vIGFuZCBzaW1wbHkgZXZhbCBpdC5cblx0ICAgICAgICB2YXIgZnVuY0NvZGUgPSAoXG5cdCAgICAgICAgICAnKCcgKyBmLnRvU3RyaW5nKCkucmVwbGFjZSgvXmZ1bmN0aW9uIFxcdytcXCgvLCAnZnVuY3Rpb24gKCcpICsgJyknXG5cdCAgICAgICAgKTtcblx0ICAgICAgICBwYXRjaGVkQmluZGluZ3NbYmluZGluZ10gPSBtb2R1bGUuaG90LmRhdGEubW9kdWxlRXZhbChmdW5jQ29kZSk7XG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXG5cdCAgICBpZih0eXBlb2YgX19ldmFsID09PSAnZnVuY3Rpb24nKSB7XG5cdCAgICAgIHRyeSB7XG5cdCAgICAgICAgbW9kdWxlLmhvdC5kYXRhLm1vZHVsZUV2YWxXaXRoU2NvcGUoZ2V0RXZhbFNvdXJjZShfX2V2YWwpKTtcblx0ICAgICAgfVxuXHQgICAgICBjYXRjaChlKSB7XG5cdCAgICAgICAgY29uc29sZS5sb2coJ2Vycm9yIGV2YWxpbmc6ICcgKyBlKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXG5cdCAgICBtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oZGF0YSkge1xuXHQgICAgICBkYXRhLnBhdGNoZWRCaW5kaW5ncyA9IHBhdGNoZWRCaW5kaW5ncztcblx0ICAgICAgZGF0YS5tb2R1bGVFdmFsID0gbW9kdWxlLmhvdC5kYXRhLm1vZHVsZUV2YWw7XG5cdCAgICAgIGRhdGEubW9kdWxlRXZhbFdpdGhTY29wZSA9IG1vZHVsZS5ob3QuZGF0YS5tb2R1bGVFdmFsV2l0aFNjb3BlO1xuXHQgICAgfSk7XG5cdCAgfVxuXHR9XG5cblxuLyoqKi8gfSxcbi8qIDM5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IFBvaW50O1xuXHRcblx0LyoqXG5cdCAqIFBvaW50IHJlbGF0ZWQgZnVuY3Rpb25zXG5cdCAqIEBjbGFzcyBQb2ludFxuXHQgKi9cblx0ZnVuY3Rpb24gUG9pbnQoKXt9O1xuXHRcblx0LyoqXG5cdCAqIEdldCB0aGUgYXJlYSBvZiBhIHRyaWFuZ2xlIHNwYW5uZWQgYnkgdGhlIHRocmVlIGdpdmVuIHBvaW50cy4gTm90ZSB0aGF0IHRoZSBhcmVhIHdpbGwgYmUgbmVnYXRpdmUgaWYgdGhlIHBvaW50cyBhcmUgbm90IGdpdmVuIGluIGNvdW50ZXItY2xvY2t3aXNlIG9yZGVyLlxuXHQgKiBAc3RhdGljXG5cdCAqIEBtZXRob2QgYXJlYVxuXHQgKiBAcGFyYW0gIHtBcnJheX0gYVxuXHQgKiBAcGFyYW0gIHtBcnJheX0gYlxuXHQgKiBAcGFyYW0gIHtBcnJheX0gY1xuXHQgKiBAcmV0dXJuIHtOdW1iZXJ9XG5cdCAqL1xuXHRQb2ludC5hcmVhID0gZnVuY3Rpb24oYSxiLGMpe1xuXHQgICAgcmV0dXJuICgoKGJbMF0gLSBhWzBdKSooY1sxXSAtIGFbMV0pKS0oKGNbMF0gLSBhWzBdKSooYlsxXSAtIGFbMV0pKSk7XG5cdH07XG5cdFxuXHRQb2ludC5sZWZ0ID0gZnVuY3Rpb24oYSxiLGMpe1xuXHQgICAgcmV0dXJuIFBvaW50LmFyZWEoYSxiLGMpID4gMDtcblx0fTtcblx0XG5cdFBvaW50LmxlZnRPbiA9IGZ1bmN0aW9uKGEsYixjKSB7XG5cdCAgICByZXR1cm4gUG9pbnQuYXJlYShhLCBiLCBjKSA+PSAwO1xuXHR9O1xuXHRcblx0UG9pbnQucmlnaHQgPSBmdW5jdGlvbihhLGIsYykge1xuXHQgICAgcmV0dXJuIFBvaW50LmFyZWEoYSwgYiwgYykgPCAwO1xuXHR9O1xuXHRcblx0UG9pbnQucmlnaHRPbiA9IGZ1bmN0aW9uKGEsYixjKSB7XG5cdCAgICByZXR1cm4gUG9pbnQuYXJlYShhLCBiLCBjKSA8PSAwO1xuXHR9O1xuXHRcblx0dmFyIHRtcFBvaW50MSA9IFtdLFxuXHQgICAgdG1wUG9pbnQyID0gW107XG5cdFxuXHQvKipcblx0ICogQ2hlY2sgaWYgdGhyZWUgcG9pbnRzIGFyZSBjb2xsaW5lYXJcblx0ICogQG1ldGhvZCBjb2xsaW5lYXJcblx0ICogQHBhcmFtICB7QXJyYXl9IGFcblx0ICogQHBhcmFtICB7QXJyYXl9IGJcblx0ICogQHBhcmFtICB7QXJyYXl9IGNcblx0ICogQHBhcmFtICB7TnVtYmVyfSBbdGhyZXNob2xkQW5nbGU9MF0gVGhyZXNob2xkIGFuZ2xlIHRvIHVzZSB3aGVuIGNvbXBhcmluZyB0aGUgdmVjdG9ycy4gVGhlIGZ1bmN0aW9uIHdpbGwgcmV0dXJuIHRydWUgaWYgdGhlIGFuZ2xlIGJldHdlZW4gdGhlIHJlc3VsdGluZyB2ZWN0b3JzIGlzIGxlc3MgdGhhbiB0aGlzIHZhbHVlLiBVc2UgemVybyBmb3IgbWF4IHByZWNpc2lvbi5cblx0ICogQHJldHVybiB7Qm9vbGVhbn1cblx0ICovXG5cdFBvaW50LmNvbGxpbmVhciA9IGZ1bmN0aW9uKGEsYixjLHRocmVzaG9sZEFuZ2xlKSB7XG5cdCAgICBpZighdGhyZXNob2xkQW5nbGUpXG5cdCAgICAgICAgcmV0dXJuIFBvaW50LmFyZWEoYSwgYiwgYykgPT0gMDtcblx0ICAgIGVsc2Uge1xuXHQgICAgICAgIHZhciBhYiA9IHRtcFBvaW50MSxcblx0ICAgICAgICAgICAgYmMgPSB0bXBQb2ludDI7XG5cdFxuXHQgICAgICAgIGFiWzBdID0gYlswXS1hWzBdO1xuXHQgICAgICAgIGFiWzFdID0gYlsxXS1hWzFdO1xuXHQgICAgICAgIGJjWzBdID0gY1swXS1iWzBdO1xuXHQgICAgICAgIGJjWzFdID0gY1sxXS1iWzFdO1xuXHRcblx0ICAgICAgICB2YXIgZG90ID0gYWJbMF0qYmNbMF0gKyBhYlsxXSpiY1sxXSxcblx0ICAgICAgICAgICAgbWFnQSA9IE1hdGguc3FydChhYlswXSphYlswXSArIGFiWzFdKmFiWzFdKSxcblx0ICAgICAgICAgICAgbWFnQiA9IE1hdGguc3FydChiY1swXSpiY1swXSArIGJjWzFdKmJjWzFdKSxcblx0ICAgICAgICAgICAgYW5nbGUgPSBNYXRoLmFjb3MoZG90LyhtYWdBKm1hZ0IpKTtcblx0ICAgICAgICByZXR1cm4gYW5nbGUgPCB0aHJlc2hvbGRBbmdsZTtcblx0ICAgIH1cblx0fTtcblx0XG5cdFBvaW50LnNxZGlzdCA9IGZ1bmN0aW9uKGEsYil7XG5cdCAgICB2YXIgZHggPSBiWzBdIC0gYVswXTtcblx0ICAgIHZhciBkeSA9IGJbMV0gLSBhWzFdO1xuXHQgICAgcmV0dXJuIGR4ICogZHggKyBkeSAqIGR5O1xuXHR9O1xuXG5cbi8qKiovIH0sXG4vKiA0MCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBTY2FsYXI7XG5cdFxuXHQvKipcblx0ICogU2NhbGFyIGZ1bmN0aW9uc1xuXHQgKiBAY2xhc3MgU2NhbGFyXG5cdCAqL1xuXHRmdW5jdGlvbiBTY2FsYXIoKXt9XG5cdFxuXHQvKipcblx0ICogQ2hlY2sgaWYgdHdvIHNjYWxhcnMgYXJlIGVxdWFsXG5cdCAqIEBzdGF0aWNcblx0ICogQG1ldGhvZCBlcVxuXHQgKiBAcGFyYW0gIHtOdW1iZXJ9IGFcblx0ICogQHBhcmFtICB7TnVtYmVyfSBiXG5cdCAqIEBwYXJhbSAge051bWJlcn0gW3ByZWNpc2lvbl1cblx0ICogQHJldHVybiB7Qm9vbGVhbn1cblx0ICovXG5cdFNjYWxhci5lcSA9IGZ1bmN0aW9uKGEsYixwcmVjaXNpb24pe1xuXHQgICAgcHJlY2lzaW9uID0gcHJlY2lzaW9uIHx8IDA7XG5cdCAgICByZXR1cm4gTWF0aC5hYnMoYS1iKSA8IHByZWNpc2lvbjtcblx0fTtcblxuXG4vKioqLyB9LFxuLyogNDEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0ge1xuXHQgICAgUG9seWdvbiA6IF9fd2VicGFja19yZXF1aXJlX18oMTA0KSxcblx0ICAgIFBvaW50IDogX193ZWJwYWNrX3JlcXVpcmVfXygzOSksXG5cdH07XG5cblxuLyoqKi8gfSxcbi8qIDQyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgdmVjMiA9IF9fd2VicGFja19yZXF1aXJlX18oMSlcblx0LCAgIHN1YiA9IHZlYzIuc3ViXG5cdCwgICBhZGQgPSB2ZWMyLmFkZFxuXHQsICAgZG90ID0gdmVjMi5kb3Rcblx0LCAgIFV0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKVxuXHQsICAgQ29udGFjdEVxdWF0aW9uUG9vbCA9IF9fd2VicGFja19yZXF1aXJlX18oNTkpXG5cdCwgICBGcmljdGlvbkVxdWF0aW9uUG9vbCA9IF9fd2VicGFja19yZXF1aXJlX18oNjApXG5cdCwgICBUdXBsZURpY3Rpb25hcnkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYyKVxuXHQsICAgRXF1YXRpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpXG5cdCwgICBDb250YWN0RXF1YXRpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE5KVxuXHQsICAgRnJpY3Rpb25FcXVhdGlvbiA9IF9fd2VicGFja19yZXF1aXJlX18oMTQpXG5cdCwgICBDaXJjbGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIxKVxuXHQsICAgQ29udmV4ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNSlcblx0LCAgIFNoYXBlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KVxuXHQsICAgQm9keSA9IF9fd2VicGFja19yZXF1aXJlX18oNilcblx0LCAgIEJveCA9IF9fd2VicGFja19yZXF1aXJlX18oNTUpO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBOYXJyb3dwaGFzZTtcblx0XG5cdC8vIFRlbXAgdGhpbmdzXG5cdHZhciB5QXhpcyA9IHZlYzIuZnJvbVZhbHVlcygwLDEpO1xuXHRcblx0dmFyIHRtcDEgPSB2ZWMyLmZyb21WYWx1ZXMoMCwwKVxuXHQsICAgdG1wMiA9IHZlYzIuZnJvbVZhbHVlcygwLDApXG5cdCwgICB0bXAzID0gdmVjMi5mcm9tVmFsdWVzKDAsMClcblx0LCAgIHRtcDQgPSB2ZWMyLmZyb21WYWx1ZXMoMCwwKVxuXHQsICAgdG1wNSA9IHZlYzIuZnJvbVZhbHVlcygwLDApXG5cdCwgICB0bXA2ID0gdmVjMi5mcm9tVmFsdWVzKDAsMClcblx0LCAgIHRtcDcgPSB2ZWMyLmZyb21WYWx1ZXMoMCwwKVxuXHQsICAgdG1wOCA9IHZlYzIuZnJvbVZhbHVlcygwLDApXG5cdCwgICB0bXA5ID0gdmVjMi5mcm9tVmFsdWVzKDAsMClcblx0LCAgIHRtcDEwID0gdmVjMi5mcm9tVmFsdWVzKDAsMClcblx0LCAgIHRtcDExID0gdmVjMi5mcm9tVmFsdWVzKDAsMClcblx0LCAgIHRtcDEyID0gdmVjMi5mcm9tVmFsdWVzKDAsMClcblx0LCAgIHRtcDEzID0gdmVjMi5mcm9tVmFsdWVzKDAsMClcblx0LCAgIHRtcDE0ID0gdmVjMi5mcm9tVmFsdWVzKDAsMClcblx0LCAgIHRtcDE1ID0gdmVjMi5mcm9tVmFsdWVzKDAsMClcblx0LCAgIHRtcDE2ID0gdmVjMi5mcm9tVmFsdWVzKDAsMClcblx0LCAgIHRtcDE3ID0gdmVjMi5mcm9tVmFsdWVzKDAsMClcblx0LCAgIHRtcDE4ID0gdmVjMi5mcm9tVmFsdWVzKDAsMClcblx0LCAgIHRtcEFycmF5ID0gW107XG5cdFxuXHQvKipcblx0ICogTmFycm93cGhhc2UuIENyZWF0ZXMgY29udGFjdHMgYW5kIGZyaWN0aW9uIGdpdmVuIHNoYXBlcyBhbmQgdHJhbnNmb3Jtcy5cblx0ICogQGNsYXNzIE5hcnJvd3BoYXNlXG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKi9cblx0ZnVuY3Rpb24gTmFycm93cGhhc2UoKXtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIEBwcm9wZXJ0eSBjb250YWN0RXF1YXRpb25zXG5cdCAgICAgKiBAdHlwZSB7QXJyYXl9XG5cdCAgICAgKi9cblx0ICAgIHRoaXMuY29udGFjdEVxdWF0aW9ucyA9IFtdO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQHByb3BlcnR5IGZyaWN0aW9uRXF1YXRpb25zXG5cdCAgICAgKiBAdHlwZSB7QXJyYXl9XG5cdCAgICAgKi9cblx0ICAgIHRoaXMuZnJpY3Rpb25FcXVhdGlvbnMgPSBbXTtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIFdoZXRoZXIgdG8gbWFrZSBmcmljdGlvbiBlcXVhdGlvbnMgaW4gdGhlIHVwY29taW5nIGNvbnRhY3RzLlxuXHQgICAgICogQHByb3BlcnR5IGVuYWJsZUZyaWN0aW9uXG5cdCAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cblx0ICAgICAqL1xuXHQgICAgdGhpcy5lbmFibGVGcmljdGlvbiA9IHRydWU7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBXaGV0aGVyIHRvIG1ha2UgZXF1YXRpb25zIGVuYWJsZWQgaW4gdXBjb21pbmcgY29udGFjdHMuXG5cdCAgICAgKiBAcHJvcGVydHkgZW5hYmxlZEVxdWF0aW9uc1xuXHQgICAgICogQHR5cGUge0Jvb2xlYW59XG5cdCAgICAgKi9cblx0ICAgIHRoaXMuZW5hYmxlZEVxdWF0aW9ucyA9IHRydWU7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGUgZnJpY3Rpb24gc2xpcCBmb3JjZSB0byB1c2Ugd2hlbiBjcmVhdGluZyBmcmljdGlvbiBlcXVhdGlvbnMuXG5cdCAgICAgKiBAcHJvcGVydHkgc2xpcEZvcmNlXG5cdCAgICAgKiBAdHlwZSB7TnVtYmVyfVxuXHQgICAgICovXG5cdCAgICB0aGlzLnNsaXBGb3JjZSA9IDEwLjA7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGUgZnJpY3Rpb24gdmFsdWUgdG8gdXNlIGluIHRoZSB1cGNvbWluZyBmcmljdGlvbiBlcXVhdGlvbnMuXG5cdCAgICAgKiBAcHJvcGVydHkgZnJpY3Rpb25Db2VmZmljaWVudFxuXHQgICAgICogQHR5cGUge051bWJlcn1cblx0ICAgICAqL1xuXHQgICAgdGhpcy5mcmljdGlvbkNvZWZmaWNpZW50ID0gMC4zO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogV2lsbCBiZSB0aGUgLnJlbGF0aXZlVmVsb2NpdHkgaW4gZWFjaCBwcm9kdWNlZCBGcmljdGlvbkVxdWF0aW9uLlxuXHQgICAgICogQHByb3BlcnR5IHtOdW1iZXJ9IHN1cmZhY2VWZWxvY2l0eVxuXHQgICAgICovXG5cdCAgICB0aGlzLnN1cmZhY2VWZWxvY2l0eSA9IDA7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBLZWVwcyB0cmFjayBvZiB0aGUgYWxsb2NhdGVkIENvbnRhY3RFcXVhdGlvbnMuXG5cdCAgICAgKiBAcHJvcGVydHkge0NvbnRhY3RFcXVhdGlvblBvb2x9IGNvbnRhY3RFcXVhdGlvblBvb2xcblx0ICAgICAqXG5cdCAgICAgKiBAZXhhbXBsZVxuXHQgICAgICpcblx0ICAgICAqICAgICAvLyBBbGxvY2F0ZSBhIGZldyBlcXVhdGlvbnMgYmVmb3JlIHN0YXJ0aW5nIHRoZSBzaW11bGF0aW9uLlxuXHQgICAgICogICAgIC8vIFRoaXMgd2F5LCBubyBjb250YWN0IG9iamVjdHMgbmVlZCB0byBiZSBjcmVhdGVkIG9uIHRoZSBmbHkgaW4gdGhlIGdhbWUgbG9vcC5cblx0ICAgICAqICAgICB3b3JsZC5uYXJyb3dwaGFzZS5jb250YWN0RXF1YXRpb25Qb29sLnJlc2l6ZSgxMDI0KTtcblx0ICAgICAqICAgICB3b3JsZC5uYXJyb3dwaGFzZS5mcmljdGlvbkVxdWF0aW9uUG9vbC5yZXNpemUoMTAyNCk7XG5cdCAgICAgKi9cblx0ICAgIHRoaXMuY29udGFjdEVxdWF0aW9uUG9vbCA9IG5ldyBDb250YWN0RXF1YXRpb25Qb29sKHsgc2l6ZTogMzIgfSk7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBLZWVwcyB0cmFjayBvZiB0aGUgYWxsb2NhdGVkIENvbnRhY3RFcXVhdGlvbnMuXG5cdCAgICAgKiBAcHJvcGVydHkge0ZyaWN0aW9uRXF1YXRpb25Qb29sfSBmcmljdGlvbkVxdWF0aW9uUG9vbFxuXHQgICAgICovXG5cdCAgICB0aGlzLmZyaWN0aW9uRXF1YXRpb25Qb29sID0gbmV3IEZyaWN0aW9uRXF1YXRpb25Qb29sKHsgc2l6ZTogNjQgfSk7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGUgcmVzdGl0dXRpb24gdmFsdWUgdG8gdXNlIGluIHRoZSBuZXh0IGNvbnRhY3QgZXF1YXRpb25zLlxuXHQgICAgICogQHByb3BlcnR5IHJlc3RpdHV0aW9uXG5cdCAgICAgKiBAdHlwZSB7TnVtYmVyfVxuXHQgICAgICovXG5cdCAgICB0aGlzLnJlc3RpdHV0aW9uID0gMDtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIFRoZSBzdGlmZm5lc3MgdmFsdWUgdG8gdXNlIGluIHRoZSBuZXh0IGNvbnRhY3QgZXF1YXRpb25zLlxuXHQgICAgICogQHByb3BlcnR5IHtOdW1iZXJ9IHN0aWZmbmVzc1xuXHQgICAgICovXG5cdCAgICB0aGlzLnN0aWZmbmVzcyA9IEVxdWF0aW9uLkRFRkFVTFRfU1RJRkZORVNTO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVGhlIHN0aWZmbmVzcyB2YWx1ZSB0byB1c2UgaW4gdGhlIG5leHQgY29udGFjdCBlcXVhdGlvbnMuXG5cdCAgICAgKiBAcHJvcGVydHkge051bWJlcn0gc3RpZmZuZXNzXG5cdCAgICAgKi9cblx0ICAgIHRoaXMucmVsYXhhdGlvbiA9IEVxdWF0aW9uLkRFRkFVTFRfUkVMQVhBVElPTjtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIFRoZSBzdGlmZm5lc3MgdmFsdWUgdG8gdXNlIGluIHRoZSBuZXh0IGZyaWN0aW9uIGVxdWF0aW9ucy5cblx0ICAgICAqIEBwcm9wZXJ0eSBmcmljdGlvblN0aWZmbmVzc1xuXHQgICAgICogQHR5cGUge051bWJlcn1cblx0ICAgICAqL1xuXHQgICAgdGhpcy5mcmljdGlvblN0aWZmbmVzcyA9IEVxdWF0aW9uLkRFRkFVTFRfU1RJRkZORVNTO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVGhlIHJlbGF4YXRpb24gdmFsdWUgdG8gdXNlIGluIHRoZSBuZXh0IGZyaWN0aW9uIGVxdWF0aW9ucy5cblx0ICAgICAqIEBwcm9wZXJ0eSBmcmljdGlvblJlbGF4YXRpb25cblx0ICAgICAqIEB0eXBlIHtOdW1iZXJ9XG5cdCAgICAgKi9cblx0ICAgIHRoaXMuZnJpY3Rpb25SZWxheGF0aW9uID0gRXF1YXRpb24uREVGQVVMVF9SRUxBWEFUSU9OO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogRW5hYmxlIHJlZHVjdGlvbiBvZiBmcmljdGlvbiBlcXVhdGlvbnMuIElmIGRpc2FibGVkLCBhIGJveCBvbiBhIHBsYW5lIHdpbGwgZ2VuZXJhdGUgMiBjb250YWN0IGVxdWF0aW9ucyBhbmQgMiBmcmljdGlvbiBlcXVhdGlvbnMuIElmIGVuYWJsZWQsIHRoZXJlIHdpbGwgYmUgb25seSBvbmUgZnJpY3Rpb24gZXF1YXRpb24uIFNhbWUga2luZCBvZiBzaW1wbGlmaWNhdGlvbnMgYXJlIG1hZGUgIGZvciBhbGwgY29sbGlzaW9uIHR5cGVzLlxuXHQgICAgICogQHByb3BlcnR5IGVuYWJsZUZyaWN0aW9uUmVkdWN0aW9uXG5cdCAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cblx0ICAgICAqIEBkZXByZWNhdGVkIFRoaXMgZmxhZyB3aWxsIGJlIHJlbW92ZWQgd2hlbiB0aGUgZmVhdHVyZSBpcyBzdGFibGUgZW5vdWdoLlxuXHQgICAgICogQGRlZmF1bHQgdHJ1ZVxuXHQgICAgICovXG5cdCAgICB0aGlzLmVuYWJsZUZyaWN0aW9uUmVkdWN0aW9uID0gdHJ1ZTtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIEtlZXBzIHRyYWNrIG9mIHRoZSBjb2xsaWRpbmcgYm9kaWVzIGxhc3Qgc3RlcC5cblx0ICAgICAqIEBwcml2YXRlXG5cdCAgICAgKiBAcHJvcGVydHkgY29sbGlkaW5nQm9kaWVzTGFzdFN0ZXBcblx0ICAgICAqIEB0eXBlIHtUdXBsZURpY3Rpb25hcnl9XG5cdCAgICAgKi9cblx0ICAgIHRoaXMuY29sbGlkaW5nQm9kaWVzTGFzdFN0ZXAgPSBuZXcgVHVwbGVEaWN0aW9uYXJ5KCk7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDb250YWN0IHNraW4gc2l6ZSB2YWx1ZSB0byB1c2UgaW4gdGhlIG5leHQgY29udGFjdCBlcXVhdGlvbnMuXG5cdCAgICAgKiBAcHJvcGVydHkge051bWJlcn0gY29udGFjdFNraW5TaXplXG5cdCAgICAgKiBAZGVmYXVsdCAwLjAxXG5cdCAgICAgKi9cblx0ICAgIHRoaXMuY29udGFjdFNraW5TaXplID0gMC4wMTtcblx0fVxuXHRcblx0dmFyIGJvZGllc092ZXJsYXBfc2hhcGVQb3NpdGlvbkEgPSB2ZWMyLmNyZWF0ZSgpO1xuXHR2YXIgYm9kaWVzT3ZlcmxhcF9zaGFwZVBvc2l0aW9uQiA9IHZlYzIuY3JlYXRlKCk7XG5cdFxuXHQvKipcblx0ICogQG1ldGhvZCBib2RpZXNPdmVybGFwXG5cdCAqIEBwYXJhbSAge0JvZHl9IGJvZHlBXG5cdCAqIEBwYXJhbSAge0JvZHl9IGJvZHlCXG5cdCAqIEByZXR1cm4ge0Jvb2xlYW59XG5cdCAqIEB0b2RvIHNoYXBlIHdvcmxkIHRyYW5zZm9ybXMgYXJlIHdyb25nXG5cdCAqL1xuXHROYXJyb3dwaGFzZS5wcm90b3R5cGUuYm9kaWVzT3ZlcmxhcCA9IGZ1bmN0aW9uKGJvZHlBLCBib2R5Qil7XG5cdCAgICB2YXIgc2hhcGVQb3NpdGlvbkEgPSBib2RpZXNPdmVybGFwX3NoYXBlUG9zaXRpb25BO1xuXHQgICAgdmFyIHNoYXBlUG9zaXRpb25CID0gYm9kaWVzT3ZlcmxhcF9zaGFwZVBvc2l0aW9uQjtcblx0XG5cdCAgICAvLyBMb29wIG92ZXIgYWxsIHNoYXBlcyBvZiBib2R5QVxuXHQgICAgZm9yKHZhciBrPTAsIE5zaGFwZXNpPWJvZHlBLnNoYXBlcy5sZW5ndGg7IGshPT1Oc2hhcGVzaTsgaysrKXtcblx0ICAgICAgICB2YXIgc2hhcGVBID0gYm9keUEuc2hhcGVzW2tdO1xuXHRcblx0ICAgICAgICBib2R5QS50b1dvcmxkRnJhbWUoc2hhcGVQb3NpdGlvbkEsIHNoYXBlQS5wb3NpdGlvbik7XG5cdFxuXHQgICAgICAgIC8vIEFsbCBzaGFwZXMgb2YgYm9keSBqXG5cdCAgICAgICAgZm9yKHZhciBsPTAsIE5zaGFwZXNqPWJvZHlCLnNoYXBlcy5sZW5ndGg7IGwhPT1Oc2hhcGVzajsgbCsrKXtcblx0ICAgICAgICAgICAgdmFyIHNoYXBlQiA9IGJvZHlCLnNoYXBlc1tsXTtcblx0XG5cdCAgICAgICAgICAgIGJvZHlCLnRvV29ybGRGcmFtZShzaGFwZVBvc2l0aW9uQiwgc2hhcGVCLnBvc2l0aW9uKTtcblx0XG5cdCAgICAgICAgICAgIGlmKHRoaXNbc2hhcGVBLnR5cGUgfCBzaGFwZUIudHlwZV0oXG5cdCAgICAgICAgICAgICAgICBib2R5QSxcblx0ICAgICAgICAgICAgICAgIHNoYXBlQSxcblx0ICAgICAgICAgICAgICAgIHNoYXBlUG9zaXRpb25BLFxuXHQgICAgICAgICAgICAgICAgc2hhcGVBLmFuZ2xlICsgYm9keUEuYW5nbGUsXG5cdCAgICAgICAgICAgICAgICBib2R5Qixcblx0ICAgICAgICAgICAgICAgIHNoYXBlQixcblx0ICAgICAgICAgICAgICAgIHNoYXBlUG9zaXRpb25CLFxuXHQgICAgICAgICAgICAgICAgc2hhcGVCLmFuZ2xlICsgYm9keUIuYW5nbGUsXG5cdCAgICAgICAgICAgICAgICB0cnVlXG5cdCAgICAgICAgICAgICkpe1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIGZhbHNlO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIENoZWNrIGlmIHRoZSBib2RpZXMgd2VyZSBpbiBjb250YWN0IHNpbmNlIHRoZSBsYXN0IHJlc2V0KCkuXG5cdCAqIEBtZXRob2QgY29sbGlkZWRMYXN0U3RlcFxuXHQgKiBAcGFyYW0gIHtCb2R5fSBib2R5QVxuXHQgKiBAcGFyYW0gIHtCb2R5fSBib2R5QlxuXHQgKiBAcmV0dXJuIHtCb29sZWFufVxuXHQgKi9cblx0TmFycm93cGhhc2UucHJvdG90eXBlLmNvbGxpZGVkTGFzdFN0ZXAgPSBmdW5jdGlvbihib2R5QSwgYm9keUIpe1xuXHQgICAgdmFyIGlkMSA9IGJvZHlBLmlkfDAsXG5cdCAgICAgICAgaWQyID0gYm9keUIuaWR8MDtcblx0ICAgIHJldHVybiAhIXRoaXMuY29sbGlkaW5nQm9kaWVzTGFzdFN0ZXAuZ2V0KGlkMSwgaWQyKTtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBUaHJvd3MgYXdheSB0aGUgb2xkIGVxdWF0aW9ucyBhbmQgZ2V0cyByZWFkeSB0byBjcmVhdGUgbmV3XG5cdCAqIEBtZXRob2QgcmVzZXRcblx0ICovXG5cdE5hcnJvd3BoYXNlLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uKCl7XG5cdCAgICB0aGlzLmNvbGxpZGluZ0JvZGllc0xhc3RTdGVwLnJlc2V0KCk7XG5cdFxuXHQgICAgdmFyIGVxcyA9IHRoaXMuY29udGFjdEVxdWF0aW9ucztcblx0ICAgIHZhciBsID0gZXFzLmxlbmd0aDtcblx0ICAgIHdoaWxlKGwtLSl7XG5cdCAgICAgICAgdmFyIGVxID0gZXFzW2xdLFxuXHQgICAgICAgICAgICBpZDEgPSBlcS5ib2R5QS5pZCxcblx0ICAgICAgICAgICAgaWQyID0gZXEuYm9keUIuaWQ7XG5cdCAgICAgICAgdGhpcy5jb2xsaWRpbmdCb2RpZXNMYXN0U3RlcC5zZXQoaWQxLCBpZDIsIHRydWUpO1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciBjZSA9IHRoaXMuY29udGFjdEVxdWF0aW9ucyxcblx0ICAgICAgICBmZSA9IHRoaXMuZnJpY3Rpb25FcXVhdGlvbnM7XG5cdCAgICBmb3IodmFyIGk9MDsgaTxjZS5sZW5ndGg7IGkrKyl7XG5cdCAgICAgICAgdGhpcy5jb250YWN0RXF1YXRpb25Qb29sLnJlbGVhc2UoY2VbaV0pO1xuXHQgICAgfVxuXHQgICAgZm9yKHZhciBpPTA7IGk8ZmUubGVuZ3RoOyBpKyspe1xuXHQgICAgICAgIHRoaXMuZnJpY3Rpb25FcXVhdGlvblBvb2wucmVsZWFzZShmZVtpXSk7XG5cdCAgICB9XG5cdFxuXHQgICAgLy8gUmVzZXRcblx0ICAgIHRoaXMuY29udGFjdEVxdWF0aW9ucy5sZW5ndGggPSB0aGlzLmZyaWN0aW9uRXF1YXRpb25zLmxlbmd0aCA9IDA7XG5cdH07XG5cdFxuXHQvKipcblx0ICogQ3JlYXRlcyBhIENvbnRhY3RFcXVhdGlvbiwgZWl0aGVyIGJ5IHJldXNpbmcgYW4gZXhpc3Rpbmcgb2JqZWN0IG9yIGNyZWF0aW5nIGEgbmV3IG9uZS5cblx0ICogQG1ldGhvZCBjcmVhdGVDb250YWN0RXF1YXRpb25cblx0ICogQHBhcmFtICB7Qm9keX0gYm9keUFcblx0ICogQHBhcmFtICB7Qm9keX0gYm9keUJcblx0ICogQHJldHVybiB7Q29udGFjdEVxdWF0aW9ufVxuXHQgKi9cblx0TmFycm93cGhhc2UucHJvdG90eXBlLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbiA9IGZ1bmN0aW9uKGJvZHlBLCBib2R5Qiwgc2hhcGVBLCBzaGFwZUIpe1xuXHQgICAgdmFyIGMgPSB0aGlzLmNvbnRhY3RFcXVhdGlvblBvb2wuZ2V0KCk7XG5cdCAgICBjLmJvZHlBID0gYm9keUE7XG5cdCAgICBjLmJvZHlCID0gYm9keUI7XG5cdCAgICBjLnNoYXBlQSA9IHNoYXBlQTtcblx0ICAgIGMuc2hhcGVCID0gc2hhcGVCO1xuXHQgICAgYy5yZXN0aXR1dGlvbiA9IHRoaXMucmVzdGl0dXRpb247XG5cdCAgICBjLmZpcnN0SW1wYWN0ID0gIXRoaXMuY29sbGlkZWRMYXN0U3RlcChib2R5QSxib2R5Qik7XG5cdCAgICBjLnN0aWZmbmVzcyA9IHRoaXMuc3RpZmZuZXNzO1xuXHQgICAgYy5yZWxheGF0aW9uID0gdGhpcy5yZWxheGF0aW9uO1xuXHQgICAgYy5uZWVkc1VwZGF0ZSA9IHRydWU7XG5cdCAgICBjLmVuYWJsZWQgPSB0aGlzLmVuYWJsZWRFcXVhdGlvbnM7XG5cdCAgICBjLm9mZnNldCA9IHRoaXMuY29udGFjdFNraW5TaXplO1xuXHRcblx0ICAgIHJldHVybiBjO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIENyZWF0ZXMgYSBGcmljdGlvbkVxdWF0aW9uLCBlaXRoZXIgYnkgcmV1c2luZyBhbiBleGlzdGluZyBvYmplY3Qgb3IgY3JlYXRpbmcgYSBuZXcgb25lLlxuXHQgKiBAbWV0aG9kIGNyZWF0ZUZyaWN0aW9uRXF1YXRpb25cblx0ICogQHBhcmFtICB7Qm9keX0gYm9keUFcblx0ICogQHBhcmFtICB7Qm9keX0gYm9keUJcblx0ICogQHJldHVybiB7RnJpY3Rpb25FcXVhdGlvbn1cblx0ICovXG5cdE5hcnJvd3BoYXNlLnByb3RvdHlwZS5jcmVhdGVGcmljdGlvbkVxdWF0aW9uID0gZnVuY3Rpb24oYm9keUEsIGJvZHlCLCBzaGFwZUEsIHNoYXBlQil7XG5cdCAgICB2YXIgYyA9IHRoaXMuZnJpY3Rpb25FcXVhdGlvblBvb2wuZ2V0KCk7XG5cdCAgICBjLmJvZHlBID0gYm9keUE7XG5cdCAgICBjLmJvZHlCID0gYm9keUI7XG5cdCAgICBjLnNoYXBlQSA9IHNoYXBlQTtcblx0ICAgIGMuc2hhcGVCID0gc2hhcGVCO1xuXHQgICAgYy5zZXRTbGlwRm9yY2UodGhpcy5zbGlwRm9yY2UpO1xuXHQgICAgYy5mcmljdGlvbkNvZWZmaWNpZW50ID0gdGhpcy5mcmljdGlvbkNvZWZmaWNpZW50O1xuXHQgICAgYy5yZWxhdGl2ZVZlbG9jaXR5ID0gdGhpcy5zdXJmYWNlVmVsb2NpdHk7XG5cdCAgICBjLmVuYWJsZWQgPSB0aGlzLmVuYWJsZWRFcXVhdGlvbnM7XG5cdCAgICBjLm5lZWRzVXBkYXRlID0gdHJ1ZTtcblx0ICAgIGMuc3RpZmZuZXNzID0gdGhpcy5mcmljdGlvblN0aWZmbmVzcztcblx0ICAgIGMucmVsYXhhdGlvbiA9IHRoaXMuZnJpY3Rpb25SZWxheGF0aW9uO1xuXHQgICAgYy5jb250YWN0RXF1YXRpb25zLmxlbmd0aCA9IDA7XG5cdCAgICByZXR1cm4gYztcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBDcmVhdGVzIGEgRnJpY3Rpb25FcXVhdGlvbiBnaXZlbiB0aGUgZGF0YSBpbiB0aGUgQ29udGFjdEVxdWF0aW9uLiBVc2VzIHNhbWUgb2Zmc2V0IHZlY3RvcnMgcmkgYW5kIHJqLCBidXQgdGhlIHRhbmdlbnQgdmVjdG9yIHdpbGwgYmUgY29uc3RydWN0ZWQgZnJvbSB0aGUgY29sbGlzaW9uIG5vcm1hbC5cblx0ICogQG1ldGhvZCBjcmVhdGVGcmljdGlvbkZyb21Db250YWN0XG5cdCAqIEBwYXJhbSAge0NvbnRhY3RFcXVhdGlvbn0gY29udGFjdEVxdWF0aW9uXG5cdCAqIEByZXR1cm4ge0ZyaWN0aW9uRXF1YXRpb259XG5cdCAqL1xuXHROYXJyb3dwaGFzZS5wcm90b3R5cGUuY3JlYXRlRnJpY3Rpb25Gcm9tQ29udGFjdCA9IGZ1bmN0aW9uKGMpe1xuXHQgICAgdmFyIGVxID0gdGhpcy5jcmVhdGVGcmljdGlvbkVxdWF0aW9uKGMuYm9keUEsIGMuYm9keUIsIGMuc2hhcGVBLCBjLnNoYXBlQik7XG5cdCAgICB2ZWMyLmNvcHkoZXEuY29udGFjdFBvaW50QSwgYy5jb250YWN0UG9pbnRBKTtcblx0ICAgIHZlYzIuY29weShlcS5jb250YWN0UG9pbnRCLCBjLmNvbnRhY3RQb2ludEIpO1xuXHQgICAgdmVjMi5yb3RhdGU5MGN3KGVxLnQsIGMubm9ybWFsQSk7XG5cdCAgICBlcS5jb250YWN0RXF1YXRpb25zLnB1c2goYyk7XG5cdCAgICByZXR1cm4gZXE7XG5cdH07XG5cdFxuXHQvLyBUYWtlIHRoZSBhdmVyYWdlIE4gbGF0ZXN0IGNvbnRhY3QgcG9pbnQgb24gdGhlIHBsYW5lLlxuXHROYXJyb3dwaGFzZS5wcm90b3R5cGUuY3JlYXRlRnJpY3Rpb25Gcm9tQXZlcmFnZSA9IGZ1bmN0aW9uKG51bUNvbnRhY3RzKXtcblx0ICAgIHZhciBjID0gdGhpcy5jb250YWN0RXF1YXRpb25zW3RoaXMuY29udGFjdEVxdWF0aW9ucy5sZW5ndGggLSAxXTtcblx0ICAgIHZhciBlcSA9IHRoaXMuY3JlYXRlRnJpY3Rpb25FcXVhdGlvbihjLmJvZHlBLCBjLmJvZHlCLCBjLnNoYXBlQSwgYy5zaGFwZUIpO1xuXHQgICAgdmFyIGJvZHlBID0gYy5ib2R5QTtcblx0ICAgIHZhciBib2R5QiA9IGMuYm9keUI7XG5cdCAgICB2ZWMyLnNldChlcS5jb250YWN0UG9pbnRBLCAwLCAwKTtcblx0ICAgIHZlYzIuc2V0KGVxLmNvbnRhY3RQb2ludEIsIDAsIDApO1xuXHQgICAgdmVjMi5zZXQoZXEudCwgMCwgMCk7XG5cdCAgICBmb3IodmFyIGk9MDsgaSE9PW51bUNvbnRhY3RzOyBpKyspe1xuXHQgICAgICAgIGMgPSB0aGlzLmNvbnRhY3RFcXVhdGlvbnNbdGhpcy5jb250YWN0RXF1YXRpb25zLmxlbmd0aCAtIDEgLSBpXTtcblx0ICAgICAgICBpZihjLmJvZHlBID09PSBib2R5QSl7XG5cdCAgICAgICAgICAgIHZlYzIuYWRkKGVxLnQsIGVxLnQsIGMubm9ybWFsQSk7XG5cdCAgICAgICAgICAgIHZlYzIuYWRkKGVxLmNvbnRhY3RQb2ludEEsIGVxLmNvbnRhY3RQb2ludEEsIGMuY29udGFjdFBvaW50QSk7XG5cdCAgICAgICAgICAgIHZlYzIuYWRkKGVxLmNvbnRhY3RQb2ludEIsIGVxLmNvbnRhY3RQb2ludEIsIGMuY29udGFjdFBvaW50Qik7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgdmVjMi5zdWIoZXEudCwgZXEudCwgYy5ub3JtYWxBKTtcblx0ICAgICAgICAgICAgdmVjMi5hZGQoZXEuY29udGFjdFBvaW50QSwgZXEuY29udGFjdFBvaW50QSwgYy5jb250YWN0UG9pbnRCKTtcblx0ICAgICAgICAgICAgdmVjMi5hZGQoZXEuY29udGFjdFBvaW50QiwgZXEuY29udGFjdFBvaW50QiwgYy5jb250YWN0UG9pbnRBKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgZXEuY29udGFjdEVxdWF0aW9ucy5wdXNoKGMpO1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciBpbnZOdW1Db250YWN0cyA9IDEvbnVtQ29udGFjdHM7XG5cdCAgICB2ZWMyLnNjYWxlKGVxLmNvbnRhY3RQb2ludEEsIGVxLmNvbnRhY3RQb2ludEEsIGludk51bUNvbnRhY3RzKTtcblx0ICAgIHZlYzIuc2NhbGUoZXEuY29udGFjdFBvaW50QiwgZXEuY29udGFjdFBvaW50QiwgaW52TnVtQ29udGFjdHMpO1xuXHQgICAgdmVjMi5ub3JtYWxpemUoZXEudCwgZXEudCk7XG5cdCAgICB2ZWMyLnJvdGF0ZTkwY3coZXEudCwgZXEudCk7XG5cdCAgICByZXR1cm4gZXE7XG5cdH07XG5cdFxuXHQvKipcblx0ICogQ29udmV4L2xpbmUgbmFycm93cGhhc2Vcblx0ICogQG1ldGhvZCBjb252ZXhMaW5lXG5cdCAqIEBwYXJhbSAge0JvZHl9ICAgICAgIGNvbnZleEJvZHlcblx0ICogQHBhcmFtICB7Q29udmV4fSAgICAgY29udmV4U2hhcGVcblx0ICogQHBhcmFtICB7QXJyYXl9ICAgICAgY29udmV4T2Zmc2V0XG5cdCAqIEBwYXJhbSAge051bWJlcn0gICAgIGNvbnZleEFuZ2xlXG5cdCAqIEBwYXJhbSAge0JvZHl9ICAgICAgIGxpbmVCb2R5XG5cdCAqIEBwYXJhbSAge0xpbmV9ICAgICAgIGxpbmVTaGFwZVxuXHQgKiBAcGFyYW0gIHtBcnJheX0gICAgICBsaW5lT2Zmc2V0XG5cdCAqIEBwYXJhbSAge051bWJlcn0gICAgIGxpbmVBbmdsZVxuXHQgKiBAcGFyYW0ge2Jvb2xlYW59ICAgICBqdXN0VGVzdFxuXHQgKiBAdG9kbyBJbXBsZW1lbnQgbWUhXG5cdCAqL1xuXHROYXJyb3dwaGFzZS5wcm90b3R5cGVbU2hhcGUuTElORSB8IFNoYXBlLkNPTlZFWF0gPVxuXHROYXJyb3dwaGFzZS5wcm90b3R5cGUuY29udmV4TGluZSA9IGZ1bmN0aW9uKFxuXHQgICAgY29udmV4Qm9keSxcblx0ICAgIGNvbnZleFNoYXBlLFxuXHQgICAgY29udmV4T2Zmc2V0LFxuXHQgICAgY29udmV4QW5nbGUsXG5cdCAgICBsaW5lQm9keSxcblx0ICAgIGxpbmVTaGFwZSxcblx0ICAgIGxpbmVPZmZzZXQsXG5cdCAgICBsaW5lQW5nbGUsXG5cdCAgICBqdXN0VGVzdFxuXHQpe1xuXHQgICAgLy8gVE9ET1xuXHQgICAgaWYoanVzdFRlc3Qpe1xuXHQgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIDA7XG5cdCAgICB9XG5cdH07XG5cdFxuXHQvKipcblx0ICogTGluZS9ib3ggbmFycm93cGhhc2Vcblx0ICogQG1ldGhvZCBsaW5lQm94XG5cdCAqIEBwYXJhbSAge0JvZHl9ICAgICAgIGxpbmVCb2R5XG5cdCAqIEBwYXJhbSAge0xpbmV9ICAgICAgIGxpbmVTaGFwZVxuXHQgKiBAcGFyYW0gIHtBcnJheX0gICAgICBsaW5lT2Zmc2V0XG5cdCAqIEBwYXJhbSAge051bWJlcn0gICAgIGxpbmVBbmdsZVxuXHQgKiBAcGFyYW0gIHtCb2R5fSAgICAgICBib3hCb2R5XG5cdCAqIEBwYXJhbSAge0JveH0gIGJveFNoYXBlXG5cdCAqIEBwYXJhbSAge0FycmF5fSAgICAgIGJveE9mZnNldFxuXHQgKiBAcGFyYW0gIHtOdW1iZXJ9ICAgICBib3hBbmdsZVxuXHQgKiBAcGFyYW0gIHtCb29sZWFufSAgICBqdXN0VGVzdFxuXHQgKiBAdG9kbyBJbXBsZW1lbnQgbWUhXG5cdCAqL1xuXHROYXJyb3dwaGFzZS5wcm90b3R5cGVbU2hhcGUuTElORSB8IFNoYXBlLkJPWF0gPVxuXHROYXJyb3dwaGFzZS5wcm90b3R5cGUubGluZUJveCA9IGZ1bmN0aW9uKFxuXHQgICAgbGluZUJvZHksXG5cdCAgICBsaW5lU2hhcGUsXG5cdCAgICBsaW5lT2Zmc2V0LFxuXHQgICAgbGluZUFuZ2xlLFxuXHQgICAgYm94Qm9keSxcblx0ICAgIGJveFNoYXBlLFxuXHQgICAgYm94T2Zmc2V0LFxuXHQgICAgYm94QW5nbGUsXG5cdCAgICBqdXN0VGVzdFxuXHQpe1xuXHQgICAgLy8gVE9ET1xuXHQgICAgaWYoanVzdFRlc3Qpe1xuXHQgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcmV0dXJuIDA7XG5cdCAgICB9XG5cdH07XG5cdFxuXHRmdW5jdGlvbiBzZXRDb252ZXhUb0NhcHN1bGVTaGFwZU1pZGRsZShjb252ZXhTaGFwZSwgY2Fwc3VsZVNoYXBlKXtcblx0ICAgIHZlYzIuc2V0KGNvbnZleFNoYXBlLnZlcnRpY2VzWzBdLCAtY2Fwc3VsZVNoYXBlLmxlbmd0aCAqIDAuNSwgLWNhcHN1bGVTaGFwZS5yYWRpdXMpO1xuXHQgICAgdmVjMi5zZXQoY29udmV4U2hhcGUudmVydGljZXNbMV0sICBjYXBzdWxlU2hhcGUubGVuZ3RoICogMC41LCAtY2Fwc3VsZVNoYXBlLnJhZGl1cyk7XG5cdCAgICB2ZWMyLnNldChjb252ZXhTaGFwZS52ZXJ0aWNlc1syXSwgIGNhcHN1bGVTaGFwZS5sZW5ndGggKiAwLjUsICBjYXBzdWxlU2hhcGUucmFkaXVzKTtcblx0ICAgIHZlYzIuc2V0KGNvbnZleFNoYXBlLnZlcnRpY2VzWzNdLCAtY2Fwc3VsZVNoYXBlLmxlbmd0aCAqIDAuNSwgIGNhcHN1bGVTaGFwZS5yYWRpdXMpO1xuXHR9XG5cdFxuXHR2YXIgY29udmV4Q2Fwc3VsZV90ZW1wUmVjdCA9IG5ldyBCb3goeyB3aWR0aDogMSwgaGVpZ2h0OiAxIH0pLFxuXHQgICAgY29udmV4Q2Fwc3VsZV90ZW1wVmVjID0gdmVjMi5jcmVhdGUoKTtcblx0XG5cdC8qKlxuXHQgKiBDb252ZXgvY2Fwc3VsZSBuYXJyb3dwaGFzZVxuXHQgKiBAbWV0aG9kIGNvbnZleENhcHN1bGVcblx0ICogQHBhcmFtICB7Qm9keX0gICAgICAgY29udmV4Qm9keVxuXHQgKiBAcGFyYW0gIHtDb252ZXh9ICAgICBjb252ZXhTaGFwZVxuXHQgKiBAcGFyYW0gIHtBcnJheX0gICAgICBjb252ZXhQb3NpdGlvblxuXHQgKiBAcGFyYW0gIHtOdW1iZXJ9ICAgICBjb252ZXhBbmdsZVxuXHQgKiBAcGFyYW0gIHtCb2R5fSAgICAgICBjYXBzdWxlQm9keVxuXHQgKiBAcGFyYW0gIHtDYXBzdWxlfSAgICBjYXBzdWxlU2hhcGVcblx0ICogQHBhcmFtICB7QXJyYXl9ICAgICAgY2Fwc3VsZVBvc2l0aW9uXG5cdCAqIEBwYXJhbSAge051bWJlcn0gICAgIGNhcHN1bGVBbmdsZVxuXHQgKi9cblx0TmFycm93cGhhc2UucHJvdG90eXBlW1NoYXBlLkNBUFNVTEUgfCBTaGFwZS5DT05WRVhdID1cblx0TmFycm93cGhhc2UucHJvdG90eXBlW1NoYXBlLkNBUFNVTEUgfCBTaGFwZS5CT1hdID1cblx0TmFycm93cGhhc2UucHJvdG90eXBlLmNvbnZleENhcHN1bGUgPSBmdW5jdGlvbihcblx0ICAgIGNvbnZleEJvZHksXG5cdCAgICBjb252ZXhTaGFwZSxcblx0ICAgIGNvbnZleFBvc2l0aW9uLFxuXHQgICAgY29udmV4QW5nbGUsXG5cdCAgICBjYXBzdWxlQm9keSxcblx0ICAgIGNhcHN1bGVTaGFwZSxcblx0ICAgIGNhcHN1bGVQb3NpdGlvbixcblx0ICAgIGNhcHN1bGVBbmdsZSxcblx0ICAgIGp1c3RUZXN0XG5cdCl7XG5cdFxuXHQgICAgLy8gQ2hlY2sgdGhlIGNpcmNsZXNcblx0ICAgIC8vIEFkZCBvZmZzZXRzIVxuXHQgICAgdmFyIGNpcmNsZVBvcyA9IGNvbnZleENhcHN1bGVfdGVtcFZlYztcblx0ICAgIHZlYzIuc2V0KGNpcmNsZVBvcywgY2Fwc3VsZVNoYXBlLmxlbmd0aC8yLDApO1xuXHQgICAgdmVjMi5yb3RhdGUoY2lyY2xlUG9zLGNpcmNsZVBvcyxjYXBzdWxlQW5nbGUpO1xuXHQgICAgdmVjMi5hZGQoY2lyY2xlUG9zLGNpcmNsZVBvcyxjYXBzdWxlUG9zaXRpb24pO1xuXHQgICAgdmFyIHJlc3VsdDEgPSB0aGlzLmNpcmNsZUNvbnZleChjYXBzdWxlQm9keSxjYXBzdWxlU2hhcGUsY2lyY2xlUG9zLGNhcHN1bGVBbmdsZSwgY29udmV4Qm9keSxjb252ZXhTaGFwZSxjb252ZXhQb3NpdGlvbixjb252ZXhBbmdsZSwganVzdFRlc3QsIGNhcHN1bGVTaGFwZS5yYWRpdXMpO1xuXHRcblx0ICAgIHZlYzIuc2V0KGNpcmNsZVBvcywtY2Fwc3VsZVNoYXBlLmxlbmd0aC8yLCAwKTtcblx0ICAgIHZlYzIucm90YXRlKGNpcmNsZVBvcyxjaXJjbGVQb3MsY2Fwc3VsZUFuZ2xlKTtcblx0ICAgIHZlYzIuYWRkKGNpcmNsZVBvcyxjaXJjbGVQb3MsY2Fwc3VsZVBvc2l0aW9uKTtcblx0ICAgIHZhciByZXN1bHQyID0gdGhpcy5jaXJjbGVDb252ZXgoY2Fwc3VsZUJvZHksY2Fwc3VsZVNoYXBlLGNpcmNsZVBvcyxjYXBzdWxlQW5nbGUsIGNvbnZleEJvZHksY29udmV4U2hhcGUsY29udmV4UG9zaXRpb24sY29udmV4QW5nbGUsIGp1c3RUZXN0LCBjYXBzdWxlU2hhcGUucmFkaXVzKTtcblx0XG5cdCAgICBpZihqdXN0VGVzdCAmJiAocmVzdWx0MSB8fCByZXN1bHQyKSl7XG5cdCAgICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICB9XG5cdFxuXHQgICAgLy8gQ2hlY2sgY2VudGVyIHJlY3Rcblx0ICAgIHZhciByID0gY29udmV4Q2Fwc3VsZV90ZW1wUmVjdDtcblx0ICAgIHNldENvbnZleFRvQ2Fwc3VsZVNoYXBlTWlkZGxlKHIsY2Fwc3VsZVNoYXBlKTtcblx0ICAgIHZhciByZXN1bHQgPSB0aGlzLmNvbnZleENvbnZleChjb252ZXhCb2R5LGNvbnZleFNoYXBlLGNvbnZleFBvc2l0aW9uLGNvbnZleEFuZ2xlLCBjYXBzdWxlQm9keSxyLGNhcHN1bGVQb3NpdGlvbixjYXBzdWxlQW5nbGUsIGp1c3RUZXN0KTtcblx0XG5cdCAgICByZXR1cm4gcmVzdWx0ICsgcmVzdWx0MSArIHJlc3VsdDI7XG5cdH07XG5cdFxuXHQvKipcblx0ICogQ2Fwc3VsZS9saW5lIG5hcnJvd3BoYXNlXG5cdCAqIEBtZXRob2QgbGluZUNhcHN1bGVcblx0ICogQHBhcmFtICB7Qm9keX0gICAgICAgbGluZUJvZHlcblx0ICogQHBhcmFtICB7TGluZX0gICAgICAgbGluZVNoYXBlXG5cdCAqIEBwYXJhbSAge0FycmF5fSAgICAgIGxpbmVQb3NpdGlvblxuXHQgKiBAcGFyYW0gIHtOdW1iZXJ9ICAgICBsaW5lQW5nbGVcblx0ICogQHBhcmFtICB7Qm9keX0gICAgICAgY2Fwc3VsZUJvZHlcblx0ICogQHBhcmFtICB7Q2Fwc3VsZX0gICAgY2Fwc3VsZVNoYXBlXG5cdCAqIEBwYXJhbSAge0FycmF5fSAgICAgIGNhcHN1bGVQb3NpdGlvblxuXHQgKiBAcGFyYW0gIHtOdW1iZXJ9ICAgICBjYXBzdWxlQW5nbGVcblx0ICogQHRvZG8gSW1wbGVtZW50IG1lIVxuXHQgKi9cblx0TmFycm93cGhhc2UucHJvdG90eXBlW1NoYXBlLkNBUFNVTEUgfCBTaGFwZS5MSU5FXSA9XG5cdE5hcnJvd3BoYXNlLnByb3RvdHlwZS5saW5lQ2Fwc3VsZSA9IGZ1bmN0aW9uKFxuXHQgICAgbGluZUJvZHksXG5cdCAgICBsaW5lU2hhcGUsXG5cdCAgICBsaW5lUG9zaXRpb24sXG5cdCAgICBsaW5lQW5nbGUsXG5cdCAgICBjYXBzdWxlQm9keSxcblx0ICAgIGNhcHN1bGVTaGFwZSxcblx0ICAgIGNhcHN1bGVQb3NpdGlvbixcblx0ICAgIGNhcHN1bGVBbmdsZSxcblx0ICAgIGp1c3RUZXN0XG5cdCl7XG5cdCAgICAvLyBUT0RPXG5cdCAgICBpZihqdXN0VGVzdCl7XG5cdCAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gMDtcblx0ICAgIH1cblx0fTtcblx0XG5cdHZhciBjYXBzdWxlQ2Fwc3VsZV90ZW1wVmVjMSA9IHZlYzIuY3JlYXRlKCk7XG5cdHZhciBjYXBzdWxlQ2Fwc3VsZV90ZW1wVmVjMiA9IHZlYzIuY3JlYXRlKCk7XG5cdHZhciBjYXBzdWxlQ2Fwc3VsZV90ZW1wUmVjdDEgPSBuZXcgQm94KHsgd2lkdGg6IDEsIGhlaWdodDogMSB9KTtcblx0XG5cdC8qKlxuXHQgKiBDYXBzdWxlL2NhcHN1bGUgbmFycm93cGhhc2Vcblx0ICogQG1ldGhvZCBjYXBzdWxlQ2Fwc3VsZVxuXHQgKiBAcGFyYW0gIHtCb2R5fSAgICAgICBiaVxuXHQgKiBAcGFyYW0gIHtDYXBzdWxlfSAgICBzaVxuXHQgKiBAcGFyYW0gIHtBcnJheX0gICAgICB4aVxuXHQgKiBAcGFyYW0gIHtOdW1iZXJ9ICAgICBhaVxuXHQgKiBAcGFyYW0gIHtCb2R5fSAgICAgICBialxuXHQgKiBAcGFyYW0gIHtDYXBzdWxlfSAgICBzalxuXHQgKiBAcGFyYW0gIHtBcnJheX0gICAgICB4alxuXHQgKiBAcGFyYW0gIHtOdW1iZXJ9ICAgICBhalxuXHQgKi9cblx0TmFycm93cGhhc2UucHJvdG90eXBlW1NoYXBlLkNBUFNVTEUgfCBTaGFwZS5DQVBTVUxFXSA9XG5cdE5hcnJvd3BoYXNlLnByb3RvdHlwZS5jYXBzdWxlQ2Fwc3VsZSA9IGZ1bmN0aW9uKGJpLHNpLHhpLGFpLCBiaixzaix4aixhaiwganVzdFRlc3Qpe1xuXHRcblx0ICAgIHZhciBlbmFibGVGcmljdGlvbkJlZm9yZTtcblx0XG5cdCAgICAvLyBDaGVjayB0aGUgY2lyY2xlc1xuXHQgICAgLy8gQWRkIG9mZnNldHMhXG5cdCAgICB2YXIgY2lyY2xlUG9zaSA9IGNhcHN1bGVDYXBzdWxlX3RlbXBWZWMxLFxuXHQgICAgICAgIGNpcmNsZVBvc2ogPSBjYXBzdWxlQ2Fwc3VsZV90ZW1wVmVjMjtcblx0XG5cdCAgICB2YXIgbnVtQ29udGFjdHMgPSAwO1xuXHRcblx0XG5cdCAgICAvLyBOZWVkIDQgY2lyY2xlIGNoZWNrcywgYmV0d2VlbiBhbGxcblx0ICAgIGZvcih2YXIgaT0wOyBpPDI7IGkrKyl7XG5cdFxuXHQgICAgICAgIHZlYzIuc2V0KGNpcmNsZVBvc2ksKGk9PT0wPy0xOjEpKnNpLmxlbmd0aC8yLDApO1xuXHQgICAgICAgIHZlYzIucm90YXRlKGNpcmNsZVBvc2ksY2lyY2xlUG9zaSxhaSk7XG5cdCAgICAgICAgdmVjMi5hZGQoY2lyY2xlUG9zaSxjaXJjbGVQb3NpLHhpKTtcblx0XG5cdCAgICAgICAgZm9yKHZhciBqPTA7IGo8MjsgaisrKXtcblx0XG5cdCAgICAgICAgICAgIHZlYzIuc2V0KGNpcmNsZVBvc2osKGo9PT0wPy0xOjEpKnNqLmxlbmd0aC8yLCAwKTtcblx0ICAgICAgICAgICAgdmVjMi5yb3RhdGUoY2lyY2xlUG9zaixjaXJjbGVQb3NqLGFqKTtcblx0ICAgICAgICAgICAgdmVjMi5hZGQoY2lyY2xlUG9zaixjaXJjbGVQb3NqLHhqKTtcblx0XG5cdCAgICAgICAgICAgIC8vIFRlbXBvcmFyaWx5IHR1cm4gb2ZmIGZyaWN0aW9uXG5cdCAgICAgICAgICAgIGlmKHRoaXMuZW5hYmxlRnJpY3Rpb25SZWR1Y3Rpb24pe1xuXHQgICAgICAgICAgICAgICAgZW5hYmxlRnJpY3Rpb25CZWZvcmUgPSB0aGlzLmVuYWJsZUZyaWN0aW9uO1xuXHQgICAgICAgICAgICAgICAgdGhpcy5lbmFibGVGcmljdGlvbiA9IGZhbHNlO1xuXHQgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICB2YXIgcmVzdWx0ID0gdGhpcy5jaXJjbGVDaXJjbGUoYmksc2ksY2lyY2xlUG9zaSxhaSwgYmosc2osY2lyY2xlUG9zaixhaiwganVzdFRlc3QsIHNpLnJhZGl1cywgc2oucmFkaXVzKTtcblx0XG5cdCAgICAgICAgICAgIGlmKHRoaXMuZW5hYmxlRnJpY3Rpb25SZWR1Y3Rpb24pe1xuXHQgICAgICAgICAgICAgICAgdGhpcy5lbmFibGVGcmljdGlvbiA9IGVuYWJsZUZyaWN0aW9uQmVmb3JlO1xuXHQgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICBpZihqdXN0VGVzdCAmJiByZXN1bHQpe1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgIG51bUNvbnRhY3RzICs9IHJlc3VsdDtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgaWYodGhpcy5lbmFibGVGcmljdGlvblJlZHVjdGlvbil7XG5cdCAgICAgICAgLy8gVGVtcG9yYXJpbHkgdHVybiBvZmYgZnJpY3Rpb25cblx0ICAgICAgICBlbmFibGVGcmljdGlvbkJlZm9yZSA9IHRoaXMuZW5hYmxlRnJpY3Rpb247XG5cdCAgICAgICAgdGhpcy5lbmFibGVGcmljdGlvbiA9IGZhbHNlO1xuXHQgICAgfVxuXHRcblx0ICAgIC8vIENoZWNrIGNpcmNsZXMgYWdhaW5zdCB0aGUgY2VudGVyIGJveHNcblx0ICAgIHZhciByZWN0ID0gY2Fwc3VsZUNhcHN1bGVfdGVtcFJlY3QxO1xuXHQgICAgc2V0Q29udmV4VG9DYXBzdWxlU2hhcGVNaWRkbGUocmVjdCxzaSk7XG5cdCAgICB2YXIgcmVzdWx0MSA9IHRoaXMuY29udmV4Q2Fwc3VsZShiaSxyZWN0LHhpLGFpLCBiaixzaix4aixhaiwganVzdFRlc3QpO1xuXHRcblx0ICAgIGlmKHRoaXMuZW5hYmxlRnJpY3Rpb25SZWR1Y3Rpb24pe1xuXHQgICAgICAgIHRoaXMuZW5hYmxlRnJpY3Rpb24gPSBlbmFibGVGcmljdGlvbkJlZm9yZTtcblx0ICAgIH1cblx0XG5cdCAgICBpZihqdXN0VGVzdCAmJiByZXN1bHQxKXtcblx0ICAgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgIH1cblx0ICAgIG51bUNvbnRhY3RzICs9IHJlc3VsdDE7XG5cdFxuXHQgICAgaWYodGhpcy5lbmFibGVGcmljdGlvblJlZHVjdGlvbil7XG5cdCAgICAgICAgLy8gVGVtcG9yYXJpbHkgdHVybiBvZmYgZnJpY3Rpb25cblx0ICAgICAgICB2YXIgZW5hYmxlRnJpY3Rpb25CZWZvcmUgPSB0aGlzLmVuYWJsZUZyaWN0aW9uO1xuXHQgICAgICAgIHRoaXMuZW5hYmxlRnJpY3Rpb24gPSBmYWxzZTtcblx0ICAgIH1cblx0XG5cdCAgICBzZXRDb252ZXhUb0NhcHN1bGVTaGFwZU1pZGRsZShyZWN0LHNqKTtcblx0ICAgIHZhciByZXN1bHQyID0gdGhpcy5jb252ZXhDYXBzdWxlKGJqLHJlY3QseGosYWosIGJpLHNpLHhpLGFpLCBqdXN0VGVzdCk7XG5cdFxuXHQgICAgaWYodGhpcy5lbmFibGVGcmljdGlvblJlZHVjdGlvbil7XG5cdCAgICAgICAgdGhpcy5lbmFibGVGcmljdGlvbiA9IGVuYWJsZUZyaWN0aW9uQmVmb3JlO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmKGp1c3RUZXN0ICYmIHJlc3VsdDIpe1xuXHQgICAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgfVxuXHQgICAgbnVtQ29udGFjdHMgKz0gcmVzdWx0Mjtcblx0XG5cdCAgICBpZih0aGlzLmVuYWJsZUZyaWN0aW9uUmVkdWN0aW9uKXtcblx0ICAgICAgICBpZihudW1Db250YWN0cyAmJiB0aGlzLmVuYWJsZUZyaWN0aW9uKXtcblx0ICAgICAgICAgICAgdGhpcy5mcmljdGlvbkVxdWF0aW9ucy5wdXNoKHRoaXMuY3JlYXRlRnJpY3Rpb25Gcm9tQXZlcmFnZShudW1Db250YWN0cykpO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gbnVtQ29udGFjdHM7XG5cdH07XG5cdFxuXHQvKipcblx0ICogTGluZS9saW5lIG5hcnJvd3BoYXNlXG5cdCAqIEBtZXRob2QgbGluZUxpbmVcblx0ICogQHBhcmFtICB7Qm9keX0gICAgICAgYm9keUFcblx0ICogQHBhcmFtICB7TGluZX0gICAgICAgc2hhcGVBXG5cdCAqIEBwYXJhbSAge0FycmF5fSAgICAgIHBvc2l0aW9uQVxuXHQgKiBAcGFyYW0gIHtOdW1iZXJ9ICAgICBhbmdsZUFcblx0ICogQHBhcmFtICB7Qm9keX0gICAgICAgYm9keUJcblx0ICogQHBhcmFtICB7TGluZX0gICAgICAgc2hhcGVCXG5cdCAqIEBwYXJhbSAge0FycmF5fSAgICAgIHBvc2l0aW9uQlxuXHQgKiBAcGFyYW0gIHtOdW1iZXJ9ICAgICBhbmdsZUJcblx0ICogQHRvZG8gSW1wbGVtZW50IG1lIVxuXHQgKi9cblx0TmFycm93cGhhc2UucHJvdG90eXBlW1NoYXBlLkxJTkUgfCBTaGFwZS5MSU5FXSA9XG5cdE5hcnJvd3BoYXNlLnByb3RvdHlwZS5saW5lTGluZSA9IGZ1bmN0aW9uKFxuXHQgICAgYm9keUEsXG5cdCAgICBzaGFwZUEsXG5cdCAgICBwb3NpdGlvbkEsXG5cdCAgICBhbmdsZUEsXG5cdCAgICBib2R5Qixcblx0ICAgIHNoYXBlQixcblx0ICAgIHBvc2l0aW9uQixcblx0ICAgIGFuZ2xlQixcblx0ICAgIGp1c3RUZXN0XG5cdCl7XG5cdCAgICAvLyBUT0RPXG5cdCAgICBpZihqdXN0VGVzdCl7XG5cdCAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gMDtcblx0ICAgIH1cblx0fTtcblx0XG5cdC8qKlxuXHQgKiBQbGFuZS9saW5lIE5hcnJvd3BoYXNlXG5cdCAqIEBtZXRob2QgcGxhbmVMaW5lXG5cdCAqIEBwYXJhbSAge0JvZHl9ICAgcGxhbmVCb2R5XG5cdCAqIEBwYXJhbSAge1BsYW5lfSAgcGxhbmVTaGFwZVxuXHQgKiBAcGFyYW0gIHtBcnJheX0gIHBsYW5lT2Zmc2V0XG5cdCAqIEBwYXJhbSAge051bWJlcn0gcGxhbmVBbmdsZVxuXHQgKiBAcGFyYW0gIHtCb2R5fSAgIGxpbmVCb2R5XG5cdCAqIEBwYXJhbSAge0xpbmV9ICAgbGluZVNoYXBlXG5cdCAqIEBwYXJhbSAge0FycmF5fSAgbGluZU9mZnNldFxuXHQgKiBAcGFyYW0gIHtOdW1iZXJ9IGxpbmVBbmdsZVxuXHQgKi9cblx0TmFycm93cGhhc2UucHJvdG90eXBlW1NoYXBlLlBMQU5FIHwgU2hhcGUuTElORV0gPVxuXHROYXJyb3dwaGFzZS5wcm90b3R5cGUucGxhbmVMaW5lID0gZnVuY3Rpb24ocGxhbmVCb2R5LCBwbGFuZVNoYXBlLCBwbGFuZU9mZnNldCwgcGxhbmVBbmdsZSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVCb2R5LCAgbGluZVNoYXBlLCAgbGluZU9mZnNldCwgIGxpbmVBbmdsZSwganVzdFRlc3Qpe1xuXHQgICAgdmFyIHdvcmxkVmVydGV4MCA9IHRtcDEsXG5cdCAgICAgICAgd29ybGRWZXJ0ZXgxID0gdG1wMixcblx0ICAgICAgICB3b3JsZFZlcnRleDAxID0gdG1wMyxcblx0ICAgICAgICB3b3JsZFZlcnRleDExID0gdG1wNCxcblx0ICAgICAgICB3b3JsZEVkZ2UgPSB0bXA1LFxuXHQgICAgICAgIHdvcmxkRWRnZVVuaXQgPSB0bXA2LFxuXHQgICAgICAgIGRpc3QgPSB0bXA3LFxuXHQgICAgICAgIHdvcmxkTm9ybWFsID0gdG1wOCxcblx0ICAgICAgICB3b3JsZFRhbmdlbnQgPSB0bXA5LFxuXHQgICAgICAgIHZlcnRzID0gdG1wQXJyYXksXG5cdCAgICAgICAgbnVtQ29udGFjdHMgPSAwO1xuXHRcblx0ICAgIC8vIEdldCBzdGFydCBhbmQgZW5kIHBvaW50c1xuXHQgICAgdmVjMi5zZXQod29ybGRWZXJ0ZXgwLCAtbGluZVNoYXBlLmxlbmd0aC8yLCAwKTtcblx0ICAgIHZlYzIuc2V0KHdvcmxkVmVydGV4MSwgIGxpbmVTaGFwZS5sZW5ndGgvMiwgMCk7XG5cdFxuXHQgICAgLy8gTm90IHN1cmUgd2h5IHdlIGhhdmUgdG8gdXNlIHdvcmxkVmVydGV4KjEgaGVyZSwgYnV0IGl0IHdvbid0IHdvcmsgb3RoZXJ3aXNlLiBUaXJlZC5cblx0ICAgIHZlYzIucm90YXRlKHdvcmxkVmVydGV4MDEsIHdvcmxkVmVydGV4MCwgbGluZUFuZ2xlKTtcblx0ICAgIHZlYzIucm90YXRlKHdvcmxkVmVydGV4MTEsIHdvcmxkVmVydGV4MSwgbGluZUFuZ2xlKTtcblx0XG5cdCAgICBhZGQod29ybGRWZXJ0ZXgwMSwgd29ybGRWZXJ0ZXgwMSwgbGluZU9mZnNldCk7XG5cdCAgICBhZGQod29ybGRWZXJ0ZXgxMSwgd29ybGRWZXJ0ZXgxMSwgbGluZU9mZnNldCk7XG5cdFxuXHQgICAgdmVjMi5jb3B5KHdvcmxkVmVydGV4MCx3b3JsZFZlcnRleDAxKTtcblx0ICAgIHZlYzIuY29weSh3b3JsZFZlcnRleDEsd29ybGRWZXJ0ZXgxMSk7XG5cdFxuXHQgICAgLy8gR2V0IHZlY3RvciBhbG9uZyB0aGUgbGluZVxuXHQgICAgc3ViKHdvcmxkRWRnZSwgd29ybGRWZXJ0ZXgxLCB3b3JsZFZlcnRleDApO1xuXHQgICAgdmVjMi5ub3JtYWxpemUod29ybGRFZGdlVW5pdCwgd29ybGRFZGdlKTtcblx0XG5cdCAgICAvLyBHZXQgdGFuZ2VudCB0byB0aGUgZWRnZS5cblx0ICAgIHZlYzIucm90YXRlOTBjdyh3b3JsZFRhbmdlbnQsIHdvcmxkRWRnZVVuaXQpO1xuXHRcblx0ICAgIHZlYzIucm90YXRlKHdvcmxkTm9ybWFsLCB5QXhpcywgcGxhbmVBbmdsZSk7XG5cdFxuXHQgICAgLy8gQ2hlY2sgbGluZSBlbmRzXG5cdCAgICB2ZXJ0c1swXSA9IHdvcmxkVmVydGV4MDtcblx0ICAgIHZlcnRzWzFdID0gd29ybGRWZXJ0ZXgxO1xuXHQgICAgZm9yKHZhciBpPTA7IGk8dmVydHMubGVuZ3RoOyBpKyspe1xuXHQgICAgICAgIHZhciB2ID0gdmVydHNbaV07XG5cdFxuXHQgICAgICAgIHN1YihkaXN0LCB2LCBwbGFuZU9mZnNldCk7XG5cdFxuXHQgICAgICAgIHZhciBkID0gZG90KGRpc3Qsd29ybGROb3JtYWwpO1xuXHRcblx0ICAgICAgICBpZihkIDwgMCl7XG5cdFxuXHQgICAgICAgICAgICBpZihqdXN0VGVzdCl7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgdmFyIGMgPSB0aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbihwbGFuZUJvZHksbGluZUJvZHkscGxhbmVTaGFwZSxsaW5lU2hhcGUpO1xuXHQgICAgICAgICAgICBudW1Db250YWN0cysrO1xuXHRcblx0ICAgICAgICAgICAgdmVjMi5jb3B5KGMubm9ybWFsQSwgd29ybGROb3JtYWwpO1xuXHQgICAgICAgICAgICB2ZWMyLm5vcm1hbGl6ZShjLm5vcm1hbEEsYy5ub3JtYWxBKTtcblx0XG5cdCAgICAgICAgICAgIC8vIGRpc3RhbmNlIHZlY3RvciBhbG9uZyBwbGFuZSBub3JtYWxcblx0ICAgICAgICAgICAgdmVjMi5zY2FsZShkaXN0LCB3b3JsZE5vcm1hbCwgZCk7XG5cdFxuXHQgICAgICAgICAgICAvLyBWZWN0b3IgZnJvbSBwbGFuZSBjZW50ZXIgdG8gY29udGFjdFxuXHQgICAgICAgICAgICBzdWIoYy5jb250YWN0UG9pbnRBLCB2LCBkaXN0KTtcblx0ICAgICAgICAgICAgc3ViKGMuY29udGFjdFBvaW50QSwgYy5jb250YWN0UG9pbnRBLCBwbGFuZUJvZHkucG9zaXRpb24pO1xuXHRcblx0ICAgICAgICAgICAgLy8gRnJvbSBsaW5lIGNlbnRlciB0byBjb250YWN0XG5cdCAgICAgICAgICAgIHN1YihjLmNvbnRhY3RQb2ludEIsIHYsICAgIGxpbmVPZmZzZXQpO1xuXHQgICAgICAgICAgICBhZGQoYy5jb250YWN0UG9pbnRCLCBjLmNvbnRhY3RQb2ludEIsIGxpbmVPZmZzZXQpO1xuXHQgICAgICAgICAgICBzdWIoYy5jb250YWN0UG9pbnRCLCBjLmNvbnRhY3RQb2ludEIsIGxpbmVCb2R5LnBvc2l0aW9uKTtcblx0XG5cdCAgICAgICAgICAgIHRoaXMuY29udGFjdEVxdWF0aW9ucy5wdXNoKGMpO1xuXHRcblx0ICAgICAgICAgICAgaWYoIXRoaXMuZW5hYmxlRnJpY3Rpb25SZWR1Y3Rpb24pe1xuXHQgICAgICAgICAgICAgICAgaWYodGhpcy5lbmFibGVGcmljdGlvbil7XG5cdCAgICAgICAgICAgICAgICAgICAgdGhpcy5mcmljdGlvbkVxdWF0aW9ucy5wdXNoKHRoaXMuY3JlYXRlRnJpY3Rpb25Gcm9tQ29udGFjdChjKSk7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgaWYoanVzdFRlc3Qpe1xuXHQgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgIH1cblx0XG5cdCAgICBpZighdGhpcy5lbmFibGVGcmljdGlvblJlZHVjdGlvbil7XG5cdCAgICAgICAgaWYobnVtQ29udGFjdHMgJiYgdGhpcy5lbmFibGVGcmljdGlvbil7XG5cdCAgICAgICAgICAgIHRoaXMuZnJpY3Rpb25FcXVhdGlvbnMucHVzaCh0aGlzLmNyZWF0ZUZyaWN0aW9uRnJvbUF2ZXJhZ2UobnVtQ29udGFjdHMpKTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIG51bUNvbnRhY3RzO1xuXHR9O1xuXHRcblx0TmFycm93cGhhc2UucHJvdG90eXBlW1NoYXBlLlBBUlRJQ0xFIHwgU2hhcGUuQ0FQU1VMRV0gPVxuXHROYXJyb3dwaGFzZS5wcm90b3R5cGUucGFydGljbGVDYXBzdWxlID0gZnVuY3Rpb24oXG5cdCAgICBwYXJ0aWNsZUJvZHksXG5cdCAgICBwYXJ0aWNsZVNoYXBlLFxuXHQgICAgcGFydGljbGVQb3NpdGlvbixcblx0ICAgIHBhcnRpY2xlQW5nbGUsXG5cdCAgICBjYXBzdWxlQm9keSxcblx0ICAgIGNhcHN1bGVTaGFwZSxcblx0ICAgIGNhcHN1bGVQb3NpdGlvbixcblx0ICAgIGNhcHN1bGVBbmdsZSxcblx0ICAgIGp1c3RUZXN0XG5cdCl7XG5cdCAgICByZXR1cm4gdGhpcy5jaXJjbGVMaW5lKHBhcnRpY2xlQm9keSxwYXJ0aWNsZVNoYXBlLHBhcnRpY2xlUG9zaXRpb24scGFydGljbGVBbmdsZSwgY2Fwc3VsZUJvZHksY2Fwc3VsZVNoYXBlLGNhcHN1bGVQb3NpdGlvbixjYXBzdWxlQW5nbGUsIGp1c3RUZXN0LCBjYXBzdWxlU2hhcGUucmFkaXVzLCAwKTtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBDaXJjbGUvbGluZSBOYXJyb3dwaGFzZVxuXHQgKiBAbWV0aG9kIGNpcmNsZUxpbmVcblx0ICogQHBhcmFtICB7Qm9keX0gY2lyY2xlQm9keVxuXHQgKiBAcGFyYW0gIHtDaXJjbGV9IGNpcmNsZVNoYXBlXG5cdCAqIEBwYXJhbSAge0FycmF5fSBjaXJjbGVPZmZzZXRcblx0ICogQHBhcmFtICB7TnVtYmVyfSBjaXJjbGVBbmdsZVxuXHQgKiBAcGFyYW0gIHtCb2R5fSBsaW5lQm9keVxuXHQgKiBAcGFyYW0gIHtMaW5lfSBsaW5lU2hhcGVcblx0ICogQHBhcmFtICB7QXJyYXl9IGxpbmVPZmZzZXRcblx0ICogQHBhcmFtICB7TnVtYmVyfSBsaW5lQW5nbGVcblx0ICogQHBhcmFtIHtCb29sZWFufSBqdXN0VGVzdCBJZiBzZXQgdG8gdHJ1ZSwgdGhpcyBmdW5jdGlvbiB3aWxsIHJldHVybiB0aGUgcmVzdWx0IChpbnRlcnNlY3Rpb24gb3Igbm90KSB3aXRob3V0IGFkZGluZyBlcXVhdGlvbnMuXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBsaW5lUmFkaXVzIFJhZGl1cyB0byBhZGQgdG8gdGhlIGxpbmUuIENhbiBiZSB1c2VkIHRvIHRlc3QgQ2Fwc3VsZXMuXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBjaXJjbGVSYWRpdXMgSWYgc2V0LCB0aGlzIHZhbHVlIG92ZXJyaWRlcyB0aGUgY2lyY2xlIHNoYXBlIHJhZGl1cy5cblx0ICovXG5cdE5hcnJvd3BoYXNlLnByb3RvdHlwZVtTaGFwZS5DSVJDTEUgfCBTaGFwZS5MSU5FXSA9XG5cdE5hcnJvd3BoYXNlLnByb3RvdHlwZS5jaXJjbGVMaW5lID0gZnVuY3Rpb24oXG5cdCAgICBjaXJjbGVCb2R5LFxuXHQgICAgY2lyY2xlU2hhcGUsXG5cdCAgICBjaXJjbGVPZmZzZXQsXG5cdCAgICBjaXJjbGVBbmdsZSxcblx0ICAgIGxpbmVCb2R5LFxuXHQgICAgbGluZVNoYXBlLFxuXHQgICAgbGluZU9mZnNldCxcblx0ICAgIGxpbmVBbmdsZSxcblx0ICAgIGp1c3RUZXN0LFxuXHQgICAgbGluZVJhZGl1cyxcblx0ICAgIGNpcmNsZVJhZGl1c1xuXHQpe1xuXHQgICAgdmFyIGxpbmVSYWRpdXMgPSBsaW5lUmFkaXVzIHx8IDAsXG5cdCAgICAgICAgY2lyY2xlUmFkaXVzID0gdHlwZW9mKGNpcmNsZVJhZGl1cykhPT1cInVuZGVmaW5lZFwiID8gY2lyY2xlUmFkaXVzIDogY2lyY2xlU2hhcGUucmFkaXVzLFxuXHRcblx0ICAgICAgICBvcnRob0Rpc3QgPSB0bXAxLFxuXHQgICAgICAgIGxpbmVUb0NpcmNsZU9ydGhvVW5pdCA9IHRtcDIsXG5cdCAgICAgICAgcHJvamVjdGVkUG9pbnQgPSB0bXAzLFxuXHQgICAgICAgIGNlbnRlckRpc3QgPSB0bXA0LFxuXHQgICAgICAgIHdvcmxkVGFuZ2VudCA9IHRtcDUsXG5cdCAgICAgICAgd29ybGRFZGdlID0gdG1wNixcblx0ICAgICAgICB3b3JsZEVkZ2VVbml0ID0gdG1wNyxcblx0ICAgICAgICB3b3JsZFZlcnRleDAgPSB0bXA4LFxuXHQgICAgICAgIHdvcmxkVmVydGV4MSA9IHRtcDksXG5cdCAgICAgICAgd29ybGRWZXJ0ZXgwMSA9IHRtcDEwLFxuXHQgICAgICAgIHdvcmxkVmVydGV4MTEgPSB0bXAxMSxcblx0ICAgICAgICBkaXN0ID0gdG1wMTIsXG5cdCAgICAgICAgbGluZVRvQ2lyY2xlID0gdG1wMTMsXG5cdCAgICAgICAgbGluZUVuZFRvTGluZVJhZGl1cyA9IHRtcDE0LFxuXHRcblx0ICAgICAgICB2ZXJ0cyA9IHRtcEFycmF5O1xuXHRcblx0ICAgIC8vIEdldCBzdGFydCBhbmQgZW5kIHBvaW50c1xuXHQgICAgdmVjMi5zZXQod29ybGRWZXJ0ZXgwLCAtbGluZVNoYXBlLmxlbmd0aC8yLCAwKTtcblx0ICAgIHZlYzIuc2V0KHdvcmxkVmVydGV4MSwgIGxpbmVTaGFwZS5sZW5ndGgvMiwgMCk7XG5cdFxuXHQgICAgLy8gTm90IHN1cmUgd2h5IHdlIGhhdmUgdG8gdXNlIHdvcmxkVmVydGV4KjEgaGVyZSwgYnV0IGl0IHdvbid0IHdvcmsgb3RoZXJ3aXNlLiBUaXJlZC5cblx0ICAgIHZlYzIucm90YXRlKHdvcmxkVmVydGV4MDEsIHdvcmxkVmVydGV4MCwgbGluZUFuZ2xlKTtcblx0ICAgIHZlYzIucm90YXRlKHdvcmxkVmVydGV4MTEsIHdvcmxkVmVydGV4MSwgbGluZUFuZ2xlKTtcblx0XG5cdCAgICBhZGQod29ybGRWZXJ0ZXgwMSwgd29ybGRWZXJ0ZXgwMSwgbGluZU9mZnNldCk7XG5cdCAgICBhZGQod29ybGRWZXJ0ZXgxMSwgd29ybGRWZXJ0ZXgxMSwgbGluZU9mZnNldCk7XG5cdFxuXHQgICAgdmVjMi5jb3B5KHdvcmxkVmVydGV4MCx3b3JsZFZlcnRleDAxKTtcblx0ICAgIHZlYzIuY29weSh3b3JsZFZlcnRleDEsd29ybGRWZXJ0ZXgxMSk7XG5cdFxuXHQgICAgLy8gR2V0IHZlY3RvciBhbG9uZyB0aGUgbGluZVxuXHQgICAgc3ViKHdvcmxkRWRnZSwgd29ybGRWZXJ0ZXgxLCB3b3JsZFZlcnRleDApO1xuXHQgICAgdmVjMi5ub3JtYWxpemUod29ybGRFZGdlVW5pdCwgd29ybGRFZGdlKTtcblx0XG5cdCAgICAvLyBHZXQgdGFuZ2VudCB0byB0aGUgZWRnZS5cblx0ICAgIHZlYzIucm90YXRlOTBjdyh3b3JsZFRhbmdlbnQsIHdvcmxkRWRnZVVuaXQpO1xuXHRcblx0ICAgIC8vIENoZWNrIGRpc3RhbmNlIGZyb20gdGhlIHBsYW5lIHNwYW5uZWQgYnkgdGhlIGVkZ2UgdnMgdGhlIGNpcmNsZVxuXHQgICAgc3ViKGRpc3QsIGNpcmNsZU9mZnNldCwgd29ybGRWZXJ0ZXgwKTtcblx0ICAgIHZhciBkID0gZG90KGRpc3QsIHdvcmxkVGFuZ2VudCk7IC8vIERpc3RhbmNlIGZyb20gY2VudGVyIG9mIGxpbmUgdG8gY2lyY2xlIGNlbnRlclxuXHQgICAgc3ViKGNlbnRlckRpc3QsIHdvcmxkVmVydGV4MCwgbGluZU9mZnNldCk7XG5cdFxuXHQgICAgc3ViKGxpbmVUb0NpcmNsZSwgY2lyY2xlT2Zmc2V0LCBsaW5lT2Zmc2V0KTtcblx0XG5cdCAgICB2YXIgcmFkaXVzU3VtID0gY2lyY2xlUmFkaXVzICsgbGluZVJhZGl1cztcblx0XG5cdCAgICBpZihNYXRoLmFicyhkKSA8IHJhZGl1c1N1bSl7XG5cdFxuXHQgICAgICAgIC8vIE5vdyBwcm9qZWN0IHRoZSBjaXJjbGUgb250byB0aGUgZWRnZVxuXHQgICAgICAgIHZlYzIuc2NhbGUob3J0aG9EaXN0LCB3b3JsZFRhbmdlbnQsIGQpO1xuXHQgICAgICAgIHN1Yihwcm9qZWN0ZWRQb2ludCwgY2lyY2xlT2Zmc2V0LCBvcnRob0Rpc3QpO1xuXHRcblx0ICAgICAgICAvLyBBZGQgdGhlIG1pc3NpbmcgbGluZSByYWRpdXNcblx0ICAgICAgICB2ZWMyLnNjYWxlKGxpbmVUb0NpcmNsZU9ydGhvVW5pdCwgd29ybGRUYW5nZW50LCBkb3Qod29ybGRUYW5nZW50LCBsaW5lVG9DaXJjbGUpKTtcblx0ICAgICAgICB2ZWMyLm5vcm1hbGl6ZShsaW5lVG9DaXJjbGVPcnRob1VuaXQsbGluZVRvQ2lyY2xlT3J0aG9Vbml0KTtcblx0ICAgICAgICB2ZWMyLnNjYWxlKGxpbmVUb0NpcmNsZU9ydGhvVW5pdCwgbGluZVRvQ2lyY2xlT3J0aG9Vbml0LCBsaW5lUmFkaXVzKTtcblx0ICAgICAgICBhZGQocHJvamVjdGVkUG9pbnQscHJvamVjdGVkUG9pbnQsbGluZVRvQ2lyY2xlT3J0aG9Vbml0KTtcblx0XG5cdCAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIHBvaW50IGlzIHdpdGhpbiB0aGUgZWRnZSBzcGFuXG5cdCAgICAgICAgdmFyIHBvcyA9ICBkb3Qod29ybGRFZGdlVW5pdCwgcHJvamVjdGVkUG9pbnQpO1xuXHQgICAgICAgIHZhciBwb3MwID0gZG90KHdvcmxkRWRnZVVuaXQsIHdvcmxkVmVydGV4MCk7XG5cdCAgICAgICAgdmFyIHBvczEgPSBkb3Qod29ybGRFZGdlVW5pdCwgd29ybGRWZXJ0ZXgxKTtcblx0XG5cdCAgICAgICAgaWYocG9zID4gcG9zMCAmJiBwb3MgPCBwb3MxKXtcblx0ICAgICAgICAgICAgLy8gV2UgZ290IGNvbnRhY3QhXG5cdFxuXHQgICAgICAgICAgICBpZihqdXN0VGVzdCl7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgdmFyIGMgPSB0aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbihjaXJjbGVCb2R5LGxpbmVCb2R5LGNpcmNsZVNoYXBlLGxpbmVTaGFwZSk7XG5cdFxuXHQgICAgICAgICAgICB2ZWMyLnNjYWxlKGMubm9ybWFsQSwgb3J0aG9EaXN0LCAtMSk7XG5cdCAgICAgICAgICAgIHZlYzIubm9ybWFsaXplKGMubm9ybWFsQSwgYy5ub3JtYWxBKTtcblx0XG5cdCAgICAgICAgICAgIHZlYzIuc2NhbGUoIGMuY29udGFjdFBvaW50QSwgYy5ub3JtYWxBLCAgY2lyY2xlUmFkaXVzKTtcblx0ICAgICAgICAgICAgYWRkKGMuY29udGFjdFBvaW50QSwgYy5jb250YWN0UG9pbnRBLCBjaXJjbGVPZmZzZXQpO1xuXHQgICAgICAgICAgICBzdWIoYy5jb250YWN0UG9pbnRBLCBjLmNvbnRhY3RQb2ludEEsIGNpcmNsZUJvZHkucG9zaXRpb24pO1xuXHRcblx0ICAgICAgICAgICAgc3ViKGMuY29udGFjdFBvaW50QiwgcHJvamVjdGVkUG9pbnQsIGxpbmVPZmZzZXQpO1xuXHQgICAgICAgICAgICBhZGQoYy5jb250YWN0UG9pbnRCLCBjLmNvbnRhY3RQb2ludEIsIGxpbmVPZmZzZXQpO1xuXHQgICAgICAgICAgICBzdWIoYy5jb250YWN0UG9pbnRCLCBjLmNvbnRhY3RQb2ludEIsIGxpbmVCb2R5LnBvc2l0aW9uKTtcblx0XG5cdCAgICAgICAgICAgIHRoaXMuY29udGFjdEVxdWF0aW9ucy5wdXNoKGMpO1xuXHRcblx0ICAgICAgICAgICAgaWYodGhpcy5lbmFibGVGcmljdGlvbil7XG5cdCAgICAgICAgICAgICAgICB0aGlzLmZyaWN0aW9uRXF1YXRpb25zLnB1c2godGhpcy5jcmVhdGVGcmljdGlvbkZyb21Db250YWN0KGMpKTtcblx0ICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgcmV0dXJuIDE7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIC8vIEFkZCBjb3JuZXJcblx0ICAgIHZlcnRzWzBdID0gd29ybGRWZXJ0ZXgwO1xuXHQgICAgdmVydHNbMV0gPSB3b3JsZFZlcnRleDE7XG5cdFxuXHQgICAgZm9yKHZhciBpPTA7IGk8dmVydHMubGVuZ3RoOyBpKyspe1xuXHQgICAgICAgIHZhciB2ID0gdmVydHNbaV07XG5cdFxuXHQgICAgICAgIHN1YihkaXN0LCB2LCBjaXJjbGVPZmZzZXQpO1xuXHRcblx0ICAgICAgICBpZih2ZWMyLnNxdWFyZWRMZW5ndGgoZGlzdCkgPCBNYXRoLnBvdyhyYWRpdXNTdW0sIDIpKXtcblx0XG5cdCAgICAgICAgICAgIGlmKGp1c3RUZXN0KXtcblx0ICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICB2YXIgYyA9IHRoaXMuY3JlYXRlQ29udGFjdEVxdWF0aW9uKGNpcmNsZUJvZHksbGluZUJvZHksY2lyY2xlU2hhcGUsbGluZVNoYXBlKTtcblx0XG5cdCAgICAgICAgICAgIHZlYzIuY29weShjLm5vcm1hbEEsIGRpc3QpO1xuXHQgICAgICAgICAgICB2ZWMyLm5vcm1hbGl6ZShjLm5vcm1hbEEsYy5ub3JtYWxBKTtcblx0XG5cdCAgICAgICAgICAgIC8vIFZlY3RvciBmcm9tIGNpcmNsZSB0byBjb250YWN0IHBvaW50IGlzIHRoZSBub3JtYWwgdGltZXMgdGhlIGNpcmNsZSByYWRpdXNcblx0ICAgICAgICAgICAgdmVjMi5zY2FsZShjLmNvbnRhY3RQb2ludEEsIGMubm9ybWFsQSwgY2lyY2xlUmFkaXVzKTtcblx0ICAgICAgICAgICAgYWRkKGMuY29udGFjdFBvaW50QSwgYy5jb250YWN0UG9pbnRBLCBjaXJjbGVPZmZzZXQpO1xuXHQgICAgICAgICAgICBzdWIoYy5jb250YWN0UG9pbnRBLCBjLmNvbnRhY3RQb2ludEEsIGNpcmNsZUJvZHkucG9zaXRpb24pO1xuXHRcblx0ICAgICAgICAgICAgc3ViKGMuY29udGFjdFBvaW50QiwgdiwgbGluZU9mZnNldCk7XG5cdCAgICAgICAgICAgIHZlYzIuc2NhbGUobGluZUVuZFRvTGluZVJhZGl1cywgYy5ub3JtYWxBLCAtbGluZVJhZGl1cyk7XG5cdCAgICAgICAgICAgIGFkZChjLmNvbnRhY3RQb2ludEIsIGMuY29udGFjdFBvaW50QiwgbGluZUVuZFRvTGluZVJhZGl1cyk7XG5cdCAgICAgICAgICAgIGFkZChjLmNvbnRhY3RQb2ludEIsIGMuY29udGFjdFBvaW50QiwgbGluZU9mZnNldCk7XG5cdCAgICAgICAgICAgIHN1YihjLmNvbnRhY3RQb2ludEIsIGMuY29udGFjdFBvaW50QiwgbGluZUJvZHkucG9zaXRpb24pO1xuXHRcblx0ICAgICAgICAgICAgdGhpcy5jb250YWN0RXF1YXRpb25zLnB1c2goYyk7XG5cdFxuXHQgICAgICAgICAgICBpZih0aGlzLmVuYWJsZUZyaWN0aW9uKXtcblx0ICAgICAgICAgICAgICAgIHRoaXMuZnJpY3Rpb25FcXVhdGlvbnMucHVzaCh0aGlzLmNyZWF0ZUZyaWN0aW9uRnJvbUNvbnRhY3QoYykpO1xuXHQgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICByZXR1cm4gMTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIDA7XG5cdH07XG5cdFxuXHQvKipcblx0ICogQ2lyY2xlL2NhcHN1bGUgTmFycm93cGhhc2Vcblx0ICogQG1ldGhvZCBjaXJjbGVDYXBzdWxlXG5cdCAqIEBwYXJhbSAge0JvZHl9ICAgYmlcblx0ICogQHBhcmFtICB7Q2lyY2xlfSBzaVxuXHQgKiBAcGFyYW0gIHtBcnJheX0gIHhpXG5cdCAqIEBwYXJhbSAge051bWJlcn0gYWlcblx0ICogQHBhcmFtICB7Qm9keX0gICBialxuXHQgKiBAcGFyYW0gIHtMaW5lfSAgIHNqXG5cdCAqIEBwYXJhbSAge0FycmF5fSAgeGpcblx0ICogQHBhcmFtICB7TnVtYmVyfSBhalxuXHQgKi9cblx0TmFycm93cGhhc2UucHJvdG90eXBlW1NoYXBlLkNJUkNMRSB8IFNoYXBlLkNBUFNVTEVdID1cblx0TmFycm93cGhhc2UucHJvdG90eXBlLmNpcmNsZUNhcHN1bGUgPSBmdW5jdGlvbihiaSxzaSx4aSxhaSwgYmosc2oseGosYWosIGp1c3RUZXN0KXtcblx0ICAgIHJldHVybiB0aGlzLmNpcmNsZUxpbmUoYmksc2kseGksYWksIGJqLHNqLHhqLGFqLCBqdXN0VGVzdCwgc2oucmFkaXVzKTtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBDaXJjbGUvY29udmV4IE5hcnJvd3BoYXNlLlxuXHQgKiBAbWV0aG9kIGNpcmNsZUNvbnZleFxuXHQgKiBAcGFyYW0gIHtCb2R5fSBjaXJjbGVCb2R5XG5cdCAqIEBwYXJhbSAge0NpcmNsZX0gY2lyY2xlU2hhcGVcblx0ICogQHBhcmFtICB7QXJyYXl9IGNpcmNsZU9mZnNldFxuXHQgKiBAcGFyYW0gIHtOdW1iZXJ9IGNpcmNsZUFuZ2xlXG5cdCAqIEBwYXJhbSAge0JvZHl9IGNvbnZleEJvZHlcblx0ICogQHBhcmFtICB7Q29udmV4fSBjb252ZXhTaGFwZVxuXHQgKiBAcGFyYW0gIHtBcnJheX0gY29udmV4T2Zmc2V0XG5cdCAqIEBwYXJhbSAge051bWJlcn0gY29udmV4QW5nbGVcblx0ICogQHBhcmFtICB7Qm9vbGVhbn0ganVzdFRlc3Rcblx0ICogQHBhcmFtICB7TnVtYmVyfSBjaXJjbGVSYWRpdXNcblx0ICovXG5cdE5hcnJvd3BoYXNlLnByb3RvdHlwZVtTaGFwZS5DSVJDTEUgfCBTaGFwZS5DT05WRVhdID1cblx0TmFycm93cGhhc2UucHJvdG90eXBlW1NoYXBlLkNJUkNMRSB8IFNoYXBlLkJPWF0gPVxuXHROYXJyb3dwaGFzZS5wcm90b3R5cGUuY2lyY2xlQ29udmV4ID0gZnVuY3Rpb24oXG5cdCAgICBjaXJjbGVCb2R5LFxuXHQgICAgY2lyY2xlU2hhcGUsXG5cdCAgICBjaXJjbGVPZmZzZXQsXG5cdCAgICBjaXJjbGVBbmdsZSxcblx0ICAgIGNvbnZleEJvZHksXG5cdCAgICBjb252ZXhTaGFwZSxcblx0ICAgIGNvbnZleE9mZnNldCxcblx0ICAgIGNvbnZleEFuZ2xlLFxuXHQgICAganVzdFRlc3QsXG5cdCAgICBjaXJjbGVSYWRpdXNcblx0KXtcblx0ICAgIHZhciBjaXJjbGVSYWRpdXMgPSB0eXBlb2YoY2lyY2xlUmFkaXVzKT09PVwibnVtYmVyXCIgPyBjaXJjbGVSYWRpdXMgOiBjaXJjbGVTaGFwZS5yYWRpdXM7XG5cdFxuXHQgICAgdmFyIHdvcmxkVmVydGV4MCA9IHRtcDEsXG5cdCAgICAgICAgd29ybGRWZXJ0ZXgxID0gdG1wMixcblx0ICAgICAgICB3b3JsZEVkZ2UgPSB0bXAzLFxuXHQgICAgICAgIHdvcmxkRWRnZVVuaXQgPSB0bXA0LFxuXHQgICAgICAgIHdvcmxkTm9ybWFsID0gdG1wNSxcblx0ICAgICAgICBjZW50ZXJEaXN0ID0gdG1wNixcblx0ICAgICAgICBjb252ZXhUb0NpcmNsZSA9IHRtcDcsXG5cdCAgICAgICAgb3J0aG9EaXN0ID0gdG1wOCxcblx0ICAgICAgICBwcm9qZWN0ZWRQb2ludCA9IHRtcDksXG5cdCAgICAgICAgZGlzdCA9IHRtcDEwLFxuXHQgICAgICAgIHdvcmxkVmVydGV4ID0gdG1wMTEsXG5cdFxuXHQgICAgICAgIGNsb3Nlc3RFZGdlID0gLTEsXG5cdCAgICAgICAgY2xvc2VzdEVkZ2VEaXN0YW5jZSA9IG51bGwsXG5cdCAgICAgICAgY2xvc2VzdEVkZ2VPcnRob0Rpc3QgPSB0bXAxMixcblx0ICAgICAgICBjbG9zZXN0RWRnZVByb2plY3RlZFBvaW50ID0gdG1wMTMsXG5cdCAgICAgICAgY2FuZGlkYXRlID0gdG1wMTQsXG5cdCAgICAgICAgY2FuZGlkYXRlRGlzdCA9IHRtcDE1LFxuXHQgICAgICAgIG1pbkNhbmRpZGF0ZSA9IHRtcDE2LFxuXHRcblx0ICAgICAgICBmb3VuZCA9IGZhbHNlLFxuXHQgICAgICAgIG1pbkNhbmRpZGF0ZURpc3RhbmNlID0gTnVtYmVyLk1BWF9WQUxVRTtcblx0XG5cdCAgICB2YXIgbnVtUmVwb3J0ZWQgPSAwO1xuXHRcblx0ICAgIC8vIE5ldyBhbGdvcml0aG06XG5cdCAgICAvLyAxLiBDaGVjayBzbyBjZW50ZXIgb2YgY2lyY2xlIGlzIG5vdCBpbnNpZGUgdGhlIHBvbHlnb24uIElmIGl0IGlzLCB0aGlzIHdvbnQgd29yay4uLlxuXHQgICAgLy8gMi4gRm9yIGVhY2ggZWRnZVxuXHQgICAgLy8gMi4gMS4gR2V0IHBvaW50IG9uIGNpcmNsZSB0aGF0IGlzIGNsb3Nlc3QgdG8gdGhlIGVkZ2UgKHNjYWxlIG5vcm1hbCB3aXRoIC1yYWRpdXMpXG5cdCAgICAvLyAyLiAyLiBDaGVjayBpZiBwb2ludCBpcyBpbnNpZGUuXG5cdFxuXHQgICAgdmFyIHZlcnRzID0gY29udmV4U2hhcGUudmVydGljZXM7XG5cdFxuXHQgICAgLy8gQ2hlY2sgYWxsIGVkZ2VzIGZpcnN0XG5cdCAgICBmb3IodmFyIGk9MDsgaSE9PXZlcnRzLmxlbmd0aCsxOyBpKyspe1xuXHQgICAgICAgIHZhciB2MCA9IHZlcnRzW2kldmVydHMubGVuZ3RoXSxcblx0ICAgICAgICAgICAgdjEgPSB2ZXJ0c1soaSsxKSV2ZXJ0cy5sZW5ndGhdO1xuXHRcblx0ICAgICAgICB2ZWMyLnJvdGF0ZSh3b3JsZFZlcnRleDAsIHYwLCBjb252ZXhBbmdsZSk7XG5cdCAgICAgICAgdmVjMi5yb3RhdGUod29ybGRWZXJ0ZXgxLCB2MSwgY29udmV4QW5nbGUpO1xuXHQgICAgICAgIGFkZCh3b3JsZFZlcnRleDAsIHdvcmxkVmVydGV4MCwgY29udmV4T2Zmc2V0KTtcblx0ICAgICAgICBhZGQod29ybGRWZXJ0ZXgxLCB3b3JsZFZlcnRleDEsIGNvbnZleE9mZnNldCk7XG5cdCAgICAgICAgc3ViKHdvcmxkRWRnZSwgd29ybGRWZXJ0ZXgxLCB3b3JsZFZlcnRleDApO1xuXHRcblx0ICAgICAgICB2ZWMyLm5vcm1hbGl6ZSh3b3JsZEVkZ2VVbml0LCB3b3JsZEVkZ2UpO1xuXHRcblx0ICAgICAgICAvLyBHZXQgdGFuZ2VudCB0byB0aGUgZWRnZS4gUG9pbnRzIG91dCBvZiB0aGUgQ29udmV4XG5cdCAgICAgICAgdmVjMi5yb3RhdGU5MGN3KHdvcmxkTm9ybWFsLCB3b3JsZEVkZ2VVbml0KTtcblx0XG5cdCAgICAgICAgLy8gR2V0IHBvaW50IG9uIGNpcmNsZSwgY2xvc2VzdCB0byB0aGUgcG9seWdvblxuXHQgICAgICAgIHZlYzIuc2NhbGUoY2FuZGlkYXRlLHdvcmxkTm9ybWFsLC1jaXJjbGVTaGFwZS5yYWRpdXMpO1xuXHQgICAgICAgIGFkZChjYW5kaWRhdGUsY2FuZGlkYXRlLGNpcmNsZU9mZnNldCk7XG5cdFxuXHQgICAgICAgIGlmKHBvaW50SW5Db252ZXgoY2FuZGlkYXRlLGNvbnZleFNoYXBlLGNvbnZleE9mZnNldCxjb252ZXhBbmdsZSkpe1xuXHRcblx0ICAgICAgICAgICAgdmVjMi5zdWIoY2FuZGlkYXRlRGlzdCx3b3JsZFZlcnRleDAsY2FuZGlkYXRlKTtcblx0ICAgICAgICAgICAgdmFyIGNhbmRpZGF0ZURpc3RhbmNlID0gTWF0aC5hYnModmVjMi5kb3QoY2FuZGlkYXRlRGlzdCx3b3JsZE5vcm1hbCkpO1xuXHRcblx0ICAgICAgICAgICAgaWYoY2FuZGlkYXRlRGlzdGFuY2UgPCBtaW5DYW5kaWRhdGVEaXN0YW5jZSl7XG5cdCAgICAgICAgICAgICAgICB2ZWMyLmNvcHkobWluQ2FuZGlkYXRlLGNhbmRpZGF0ZSk7XG5cdCAgICAgICAgICAgICAgICBtaW5DYW5kaWRhdGVEaXN0YW5jZSA9IGNhbmRpZGF0ZURpc3RhbmNlO1xuXHQgICAgICAgICAgICAgICAgdmVjMi5zY2FsZShjbG9zZXN0RWRnZVByb2plY3RlZFBvaW50LHdvcmxkTm9ybWFsLGNhbmRpZGF0ZURpc3RhbmNlKTtcblx0ICAgICAgICAgICAgICAgIHZlYzIuYWRkKGNsb3Nlc3RFZGdlUHJvamVjdGVkUG9pbnQsY2xvc2VzdEVkZ2VQcm9qZWN0ZWRQb2ludCxjYW5kaWRhdGUpO1xuXHQgICAgICAgICAgICAgICAgZm91bmQgPSB0cnVlO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIGlmKGZvdW5kKXtcblx0XG5cdCAgICAgICAgaWYoanVzdFRlc3Qpe1xuXHQgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHZhciBjID0gdGhpcy5jcmVhdGVDb250YWN0RXF1YXRpb24oY2lyY2xlQm9keSxjb252ZXhCb2R5LGNpcmNsZVNoYXBlLGNvbnZleFNoYXBlKTtcblx0ICAgICAgICB2ZWMyLnN1YihjLm5vcm1hbEEsIG1pbkNhbmRpZGF0ZSwgY2lyY2xlT2Zmc2V0KTtcblx0ICAgICAgICB2ZWMyLm5vcm1hbGl6ZShjLm5vcm1hbEEsIGMubm9ybWFsQSk7XG5cdFxuXHQgICAgICAgIHZlYzIuc2NhbGUoYy5jb250YWN0UG9pbnRBLCAgYy5ub3JtYWxBLCBjaXJjbGVSYWRpdXMpO1xuXHQgICAgICAgIGFkZChjLmNvbnRhY3RQb2ludEEsIGMuY29udGFjdFBvaW50QSwgY2lyY2xlT2Zmc2V0KTtcblx0ICAgICAgICBzdWIoYy5jb250YWN0UG9pbnRBLCBjLmNvbnRhY3RQb2ludEEsIGNpcmNsZUJvZHkucG9zaXRpb24pO1xuXHRcblx0ICAgICAgICBzdWIoYy5jb250YWN0UG9pbnRCLCBjbG9zZXN0RWRnZVByb2plY3RlZFBvaW50LCBjb252ZXhPZmZzZXQpO1xuXHQgICAgICAgIGFkZChjLmNvbnRhY3RQb2ludEIsIGMuY29udGFjdFBvaW50QiwgY29udmV4T2Zmc2V0KTtcblx0ICAgICAgICBzdWIoYy5jb250YWN0UG9pbnRCLCBjLmNvbnRhY3RQb2ludEIsIGNvbnZleEJvZHkucG9zaXRpb24pO1xuXHRcblx0ICAgICAgICB0aGlzLmNvbnRhY3RFcXVhdGlvbnMucHVzaChjKTtcblx0XG5cdCAgICAgICAgaWYodGhpcy5lbmFibGVGcmljdGlvbil7XG5cdCAgICAgICAgICAgIHRoaXMuZnJpY3Rpb25FcXVhdGlvbnMucHVzaCggdGhpcy5jcmVhdGVGcmljdGlvbkZyb21Db250YWN0KGMpICk7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICByZXR1cm4gMTtcblx0ICAgIH1cblx0XG5cdCAgICAvLyBDaGVjayBhbGwgdmVydGljZXNcblx0ICAgIGlmKGNpcmNsZVJhZGl1cyA+IDApe1xuXHQgICAgICAgIGZvcih2YXIgaT0wOyBpPHZlcnRzLmxlbmd0aDsgaSsrKXtcblx0ICAgICAgICAgICAgdmFyIGxvY2FsVmVydGV4ID0gdmVydHNbaV07XG5cdCAgICAgICAgICAgIHZlYzIucm90YXRlKHdvcmxkVmVydGV4LCBsb2NhbFZlcnRleCwgY29udmV4QW5nbGUpO1xuXHQgICAgICAgICAgICBhZGQod29ybGRWZXJ0ZXgsIHdvcmxkVmVydGV4LCBjb252ZXhPZmZzZXQpO1xuXHRcblx0ICAgICAgICAgICAgc3ViKGRpc3QsIHdvcmxkVmVydGV4LCBjaXJjbGVPZmZzZXQpO1xuXHQgICAgICAgICAgICBpZih2ZWMyLnNxdWFyZWRMZW5ndGgoZGlzdCkgPCBNYXRoLnBvdyhjaXJjbGVSYWRpdXMsIDIpKXtcblx0XG5cdCAgICAgICAgICAgICAgICBpZihqdXN0VGVzdCl7XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICAgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICAgICAgdmFyIGMgPSB0aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbihjaXJjbGVCb2R5LGNvbnZleEJvZHksY2lyY2xlU2hhcGUsY29udmV4U2hhcGUpO1xuXHRcblx0ICAgICAgICAgICAgICAgIHZlYzIuY29weShjLm5vcm1hbEEsIGRpc3QpO1xuXHQgICAgICAgICAgICAgICAgdmVjMi5ub3JtYWxpemUoYy5ub3JtYWxBLGMubm9ybWFsQSk7XG5cdFxuXHQgICAgICAgICAgICAgICAgLy8gVmVjdG9yIGZyb20gY2lyY2xlIHRvIGNvbnRhY3QgcG9pbnQgaXMgdGhlIG5vcm1hbCB0aW1lcyB0aGUgY2lyY2xlIHJhZGl1c1xuXHQgICAgICAgICAgICAgICAgdmVjMi5zY2FsZShjLmNvbnRhY3RQb2ludEEsIGMubm9ybWFsQSwgY2lyY2xlUmFkaXVzKTtcblx0ICAgICAgICAgICAgICAgIGFkZChjLmNvbnRhY3RQb2ludEEsIGMuY29udGFjdFBvaW50QSwgY2lyY2xlT2Zmc2V0KTtcblx0ICAgICAgICAgICAgICAgIHN1YihjLmNvbnRhY3RQb2ludEEsIGMuY29udGFjdFBvaW50QSwgY2lyY2xlQm9keS5wb3NpdGlvbik7XG5cdFxuXHQgICAgICAgICAgICAgICAgc3ViKGMuY29udGFjdFBvaW50Qiwgd29ybGRWZXJ0ZXgsIGNvbnZleE9mZnNldCk7XG5cdCAgICAgICAgICAgICAgICBhZGQoYy5jb250YWN0UG9pbnRCLCBjLmNvbnRhY3RQb2ludEIsIGNvbnZleE9mZnNldCk7XG5cdCAgICAgICAgICAgICAgICBzdWIoYy5jb250YWN0UG9pbnRCLCBjLmNvbnRhY3RQb2ludEIsIGNvbnZleEJvZHkucG9zaXRpb24pO1xuXHRcblx0ICAgICAgICAgICAgICAgIHRoaXMuY29udGFjdEVxdWF0aW9ucy5wdXNoKGMpO1xuXHRcblx0ICAgICAgICAgICAgICAgIGlmKHRoaXMuZW5hYmxlRnJpY3Rpb24pe1xuXHQgICAgICAgICAgICAgICAgICAgIHRoaXMuZnJpY3Rpb25FcXVhdGlvbnMucHVzaCh0aGlzLmNyZWF0ZUZyaWN0aW9uRnJvbUNvbnRhY3QoYykpO1xuXHQgICAgICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgICAgIHJldHVybiAxO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiAwO1xuXHR9O1xuXHRcblx0dmFyIHBpY193b3JsZFZlcnRleDAgPSB2ZWMyLmNyZWF0ZSgpLFxuXHQgICAgcGljX3dvcmxkVmVydGV4MSA9IHZlYzIuY3JlYXRlKCksXG5cdCAgICBwaWNfcjAgPSB2ZWMyLmNyZWF0ZSgpLFxuXHQgICAgcGljX3IxID0gdmVjMi5jcmVhdGUoKTtcblx0XG5cdC8qXG5cdCAqIENoZWNrIGlmIGEgcG9pbnQgaXMgaW4gYSBwb2x5Z29uXG5cdCAqL1xuXHRmdW5jdGlvbiBwb2ludEluQ29udmV4KHdvcmxkUG9pbnQsY29udmV4U2hhcGUsY29udmV4T2Zmc2V0LGNvbnZleEFuZ2xlKXtcblx0ICAgIHZhciB3b3JsZFZlcnRleDAgPSBwaWNfd29ybGRWZXJ0ZXgwLFxuXHQgICAgICAgIHdvcmxkVmVydGV4MSA9IHBpY193b3JsZFZlcnRleDEsXG5cdCAgICAgICAgcjAgPSBwaWNfcjAsXG5cdCAgICAgICAgcjEgPSBwaWNfcjEsXG5cdCAgICAgICAgcG9pbnQgPSB3b3JsZFBvaW50LFxuXHQgICAgICAgIHZlcnRzID0gY29udmV4U2hhcGUudmVydGljZXMsXG5cdCAgICAgICAgbGFzdENyb3NzID0gbnVsbDtcblx0ICAgIGZvcih2YXIgaT0wOyBpIT09dmVydHMubGVuZ3RoKzE7IGkrKyl7XG5cdCAgICAgICAgdmFyIHYwID0gdmVydHNbaSV2ZXJ0cy5sZW5ndGhdLFxuXHQgICAgICAgICAgICB2MSA9IHZlcnRzWyhpKzEpJXZlcnRzLmxlbmd0aF07XG5cdFxuXHQgICAgICAgIC8vIFRyYW5zZm9ybSB2ZXJ0aWNlcyB0byB3b3JsZFxuXHQgICAgICAgIC8vIEB0b2RvIFRoZSBwb2ludCBzaG91bGQgYmUgdHJhbnNmb3JtZWQgdG8gbG9jYWwgY29vcmRpbmF0ZXMgaW4gdGhlIGNvbnZleCwgbm8gbmVlZCB0byB0cmFuc2Zvcm0gZWFjaCB2ZXJ0ZXhcblx0ICAgICAgICB2ZWMyLnJvdGF0ZSh3b3JsZFZlcnRleDAsIHYwLCBjb252ZXhBbmdsZSk7XG5cdCAgICAgICAgdmVjMi5yb3RhdGUod29ybGRWZXJ0ZXgxLCB2MSwgY29udmV4QW5nbGUpO1xuXHQgICAgICAgIGFkZCh3b3JsZFZlcnRleDAsIHdvcmxkVmVydGV4MCwgY29udmV4T2Zmc2V0KTtcblx0ICAgICAgICBhZGQod29ybGRWZXJ0ZXgxLCB3b3JsZFZlcnRleDEsIGNvbnZleE9mZnNldCk7XG5cdFxuXHQgICAgICAgIHN1YihyMCwgd29ybGRWZXJ0ZXgwLCBwb2ludCk7XG5cdCAgICAgICAgc3ViKHIxLCB3b3JsZFZlcnRleDEsIHBvaW50KTtcblx0ICAgICAgICB2YXIgY3Jvc3MgPSB2ZWMyLmNyb3NzTGVuZ3RoKHIwLHIxKTtcblx0XG5cdCAgICAgICAgaWYobGFzdENyb3NzPT09bnVsbCl7XG5cdCAgICAgICAgICAgIGxhc3RDcm9zcyA9IGNyb3NzO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgLy8gSWYgd2UgZ290IGEgZGlmZmVyZW50IHNpZ24gb2YgdGhlIGRpc3RhbmNlIHZlY3RvciwgdGhlIHBvaW50IGlzIG91dCBvZiB0aGUgcG9seWdvblxuXHQgICAgICAgIGlmKGNyb3NzKmxhc3RDcm9zcyA8PSAwKXtcblx0ICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBsYXN0Q3Jvc3MgPSBjcm9zcztcblx0ICAgIH1cblx0ICAgIHJldHVybiB0cnVlO1xuXHR9XG5cdFxuXHQvKipcblx0ICogUGFydGljbGUvY29udmV4IE5hcnJvd3BoYXNlXG5cdCAqIEBtZXRob2QgcGFydGljbGVDb252ZXhcblx0ICogQHBhcmFtICB7Qm9keX0gcGFydGljbGVCb2R5XG5cdCAqIEBwYXJhbSAge1BhcnRpY2xlfSBwYXJ0aWNsZVNoYXBlXG5cdCAqIEBwYXJhbSAge0FycmF5fSBwYXJ0aWNsZU9mZnNldFxuXHQgKiBAcGFyYW0gIHtOdW1iZXJ9IHBhcnRpY2xlQW5nbGVcblx0ICogQHBhcmFtICB7Qm9keX0gY29udmV4Qm9keVxuXHQgKiBAcGFyYW0gIHtDb252ZXh9IGNvbnZleFNoYXBlXG5cdCAqIEBwYXJhbSAge0FycmF5fSBjb252ZXhPZmZzZXRcblx0ICogQHBhcmFtICB7TnVtYmVyfSBjb252ZXhBbmdsZVxuXHQgKiBAcGFyYW0ge0Jvb2xlYW59IGp1c3RUZXN0XG5cdCAqIEB0b2RvIHVzZSBwb2ludEluQ29udmV4IGFuZCBjb2RlIG1vcmUgc2ltaWxhciB0byBjaXJjbGVDb252ZXhcblx0ICogQHRvZG8gZG9uJ3QgdHJhbnNmb3JtIGVhY2ggdmVydGV4LCBidXQgdHJhbnNmb3JtIHRoZSBwYXJ0aWNsZSBwb3NpdGlvbiB0byBjb252ZXgtbG9jYWwgaW5zdGVhZFxuXHQgKi9cblx0TmFycm93cGhhc2UucHJvdG90eXBlW1NoYXBlLlBBUlRJQ0xFIHwgU2hhcGUuQ09OVkVYXSA9XG5cdE5hcnJvd3BoYXNlLnByb3RvdHlwZVtTaGFwZS5QQVJUSUNMRSB8IFNoYXBlLkJPWF0gPVxuXHROYXJyb3dwaGFzZS5wcm90b3R5cGUucGFydGljbGVDb252ZXggPSBmdW5jdGlvbihcblx0ICAgIHBhcnRpY2xlQm9keSxcblx0ICAgIHBhcnRpY2xlU2hhcGUsXG5cdCAgICBwYXJ0aWNsZU9mZnNldCxcblx0ICAgIHBhcnRpY2xlQW5nbGUsXG5cdCAgICBjb252ZXhCb2R5LFxuXHQgICAgY29udmV4U2hhcGUsXG5cdCAgICBjb252ZXhPZmZzZXQsXG5cdCAgICBjb252ZXhBbmdsZSxcblx0ICAgIGp1c3RUZXN0XG5cdCl7XG5cdCAgICB2YXIgd29ybGRWZXJ0ZXgwID0gdG1wMSxcblx0ICAgICAgICB3b3JsZFZlcnRleDEgPSB0bXAyLFxuXHQgICAgICAgIHdvcmxkRWRnZSA9IHRtcDMsXG5cdCAgICAgICAgd29ybGRFZGdlVW5pdCA9IHRtcDQsXG5cdCAgICAgICAgd29ybGRUYW5nZW50ID0gdG1wNSxcblx0ICAgICAgICBjZW50ZXJEaXN0ID0gdG1wNixcblx0ICAgICAgICBjb252ZXhUb3BhcnRpY2xlID0gdG1wNyxcblx0ICAgICAgICBvcnRob0Rpc3QgPSB0bXA4LFxuXHQgICAgICAgIHByb2plY3RlZFBvaW50ID0gdG1wOSxcblx0ICAgICAgICBkaXN0ID0gdG1wMTAsXG5cdCAgICAgICAgd29ybGRWZXJ0ZXggPSB0bXAxMSxcblx0ICAgICAgICBjbG9zZXN0RWRnZSA9IC0xLFxuXHQgICAgICAgIGNsb3Nlc3RFZGdlRGlzdGFuY2UgPSBudWxsLFxuXHQgICAgICAgIGNsb3Nlc3RFZGdlT3J0aG9EaXN0ID0gdG1wMTIsXG5cdCAgICAgICAgY2xvc2VzdEVkZ2VQcm9qZWN0ZWRQb2ludCA9IHRtcDEzLFxuXHQgICAgICAgIHIwID0gdG1wMTQsIC8vIHZlY3RvciBmcm9tIHBhcnRpY2xlIHRvIHZlcnRleDBcblx0ICAgICAgICByMSA9IHRtcDE1LFxuXHQgICAgICAgIGxvY2FsUG9pbnQgPSB0bXAxNixcblx0ICAgICAgICBjYW5kaWRhdGVEaXN0ID0gdG1wMTcsXG5cdCAgICAgICAgbWluRWRnZU5vcm1hbCA9IHRtcDE4LFxuXHQgICAgICAgIG1pbkNhbmRpZGF0ZURpc3RhbmNlID0gTnVtYmVyLk1BWF9WQUxVRTtcblx0XG5cdCAgICB2YXIgbnVtUmVwb3J0ZWQgPSAwLFxuXHQgICAgICAgIGZvdW5kID0gZmFsc2UsXG5cdCAgICAgICAgdmVydHMgPSBjb252ZXhTaGFwZS52ZXJ0aWNlcztcblx0XG5cdCAgICAvLyBDaGVjayBpZiB0aGUgcGFydGljbGUgaXMgaW4gdGhlIHBvbHlnb24gYXQgYWxsXG5cdCAgICBpZighcG9pbnRJbkNvbnZleChwYXJ0aWNsZU9mZnNldCxjb252ZXhTaGFwZSxjb252ZXhPZmZzZXQsY29udmV4QW5nbGUpKXtcblx0ICAgICAgICByZXR1cm4gMDtcblx0ICAgIH1cblx0XG5cdCAgICBpZihqdXN0VGVzdCl7XG5cdCAgICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICB9XG5cdFxuXHQgICAgLy8gQ2hlY2sgZWRnZXMgZmlyc3Rcblx0ICAgIHZhciBsYXN0Q3Jvc3MgPSBudWxsO1xuXHQgICAgZm9yKHZhciBpPTA7IGkhPT12ZXJ0cy5sZW5ndGgrMTsgaSsrKXtcblx0ICAgICAgICB2YXIgdjAgPSB2ZXJ0c1tpJXZlcnRzLmxlbmd0aF0sXG5cdCAgICAgICAgICAgIHYxID0gdmVydHNbKGkrMSkldmVydHMubGVuZ3RoXTtcblx0XG5cdCAgICAgICAgLy8gVHJhbnNmb3JtIHZlcnRpY2VzIHRvIHdvcmxkXG5cdCAgICAgICAgdmVjMi5yb3RhdGUod29ybGRWZXJ0ZXgwLCB2MCwgY29udmV4QW5nbGUpO1xuXHQgICAgICAgIHZlYzIucm90YXRlKHdvcmxkVmVydGV4MSwgdjEsIGNvbnZleEFuZ2xlKTtcblx0ICAgICAgICBhZGQod29ybGRWZXJ0ZXgwLCB3b3JsZFZlcnRleDAsIGNvbnZleE9mZnNldCk7XG5cdCAgICAgICAgYWRkKHdvcmxkVmVydGV4MSwgd29ybGRWZXJ0ZXgxLCBjb252ZXhPZmZzZXQpO1xuXHRcblx0ICAgICAgICAvLyBHZXQgd29ybGQgZWRnZVxuXHQgICAgICAgIHN1Yih3b3JsZEVkZ2UsIHdvcmxkVmVydGV4MSwgd29ybGRWZXJ0ZXgwKTtcblx0ICAgICAgICB2ZWMyLm5vcm1hbGl6ZSh3b3JsZEVkZ2VVbml0LCB3b3JsZEVkZ2UpO1xuXHRcblx0ICAgICAgICAvLyBHZXQgdGFuZ2VudCB0byB0aGUgZWRnZS4gUG9pbnRzIG91dCBvZiB0aGUgQ29udmV4XG5cdCAgICAgICAgdmVjMi5yb3RhdGU5MGN3KHdvcmxkVGFuZ2VudCwgd29ybGRFZGdlVW5pdCk7XG5cdFxuXHQgICAgICAgIC8vIENoZWNrIGRpc3RhbmNlIGZyb20gdGhlIGluZmluaXRlIGxpbmUgKHNwYW5uZWQgYnkgdGhlIGVkZ2UpIHRvIHRoZSBwYXJ0aWNsZVxuXHQgICAgICAgIHN1YihkaXN0LCBwYXJ0aWNsZU9mZnNldCwgd29ybGRWZXJ0ZXgwKTtcblx0ICAgICAgICB2YXIgZCA9IGRvdChkaXN0LCB3b3JsZFRhbmdlbnQpO1xuXHQgICAgICAgIHN1YihjZW50ZXJEaXN0LCB3b3JsZFZlcnRleDAsIGNvbnZleE9mZnNldCk7XG5cdFxuXHQgICAgICAgIHN1Yihjb252ZXhUb3BhcnRpY2xlLCBwYXJ0aWNsZU9mZnNldCwgY29udmV4T2Zmc2V0KTtcblx0XG5cdCAgICAgICAgdmVjMi5zdWIoY2FuZGlkYXRlRGlzdCx3b3JsZFZlcnRleDAscGFydGljbGVPZmZzZXQpO1xuXHQgICAgICAgIHZhciBjYW5kaWRhdGVEaXN0YW5jZSA9IE1hdGguYWJzKHZlYzIuZG90KGNhbmRpZGF0ZURpc3Qsd29ybGRUYW5nZW50KSk7XG5cdFxuXHQgICAgICAgIGlmKGNhbmRpZGF0ZURpc3RhbmNlIDwgbWluQ2FuZGlkYXRlRGlzdGFuY2Upe1xuXHQgICAgICAgICAgICBtaW5DYW5kaWRhdGVEaXN0YW5jZSA9IGNhbmRpZGF0ZURpc3RhbmNlO1xuXHQgICAgICAgICAgICB2ZWMyLnNjYWxlKGNsb3Nlc3RFZGdlUHJvamVjdGVkUG9pbnQsd29ybGRUYW5nZW50LGNhbmRpZGF0ZURpc3RhbmNlKTtcblx0ICAgICAgICAgICAgdmVjMi5hZGQoY2xvc2VzdEVkZ2VQcm9qZWN0ZWRQb2ludCxjbG9zZXN0RWRnZVByb2plY3RlZFBvaW50LHBhcnRpY2xlT2Zmc2V0KTtcblx0ICAgICAgICAgICAgdmVjMi5jb3B5KG1pbkVkZ2VOb3JtYWwsd29ybGRUYW5nZW50KTtcblx0ICAgICAgICAgICAgZm91bmQgPSB0cnVlO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICBpZihmb3VuZCl7XG5cdCAgICAgICAgdmFyIGMgPSB0aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbihwYXJ0aWNsZUJvZHksY29udmV4Qm9keSxwYXJ0aWNsZVNoYXBlLGNvbnZleFNoYXBlKTtcblx0XG5cdCAgICAgICAgdmVjMi5zY2FsZShjLm5vcm1hbEEsIG1pbkVkZ2VOb3JtYWwsIC0xKTtcblx0ICAgICAgICB2ZWMyLm5vcm1hbGl6ZShjLm5vcm1hbEEsIGMubm9ybWFsQSk7XG5cdFxuXHQgICAgICAgIC8vIFBhcnRpY2xlIGhhcyBubyBleHRlbnQgdG8gdGhlIGNvbnRhY3QgcG9pbnRcblx0ICAgICAgICB2ZWMyLnNldChjLmNvbnRhY3RQb2ludEEsICAwLCAwKTtcblx0ICAgICAgICBhZGQoYy5jb250YWN0UG9pbnRBLCBjLmNvbnRhY3RQb2ludEEsIHBhcnRpY2xlT2Zmc2V0KTtcblx0ICAgICAgICBzdWIoYy5jb250YWN0UG9pbnRBLCBjLmNvbnRhY3RQb2ludEEsIHBhcnRpY2xlQm9keS5wb3NpdGlvbik7XG5cdFxuXHQgICAgICAgIC8vIEZyb20gY29udmV4IGNlbnRlciB0byBwb2ludFxuXHQgICAgICAgIHN1YihjLmNvbnRhY3RQb2ludEIsIGNsb3Nlc3RFZGdlUHJvamVjdGVkUG9pbnQsIGNvbnZleE9mZnNldCk7XG5cdCAgICAgICAgYWRkKGMuY29udGFjdFBvaW50QiwgYy5jb250YWN0UG9pbnRCLCBjb252ZXhPZmZzZXQpO1xuXHQgICAgICAgIHN1YihjLmNvbnRhY3RQb2ludEIsIGMuY29udGFjdFBvaW50QiwgY29udmV4Qm9keS5wb3NpdGlvbik7XG5cdFxuXHQgICAgICAgIHRoaXMuY29udGFjdEVxdWF0aW9ucy5wdXNoKGMpO1xuXHRcblx0ICAgICAgICBpZih0aGlzLmVuYWJsZUZyaWN0aW9uKXtcblx0ICAgICAgICAgICAgdGhpcy5mcmljdGlvbkVxdWF0aW9ucy5wdXNoKCB0aGlzLmNyZWF0ZUZyaWN0aW9uRnJvbUNvbnRhY3QoYykgKTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHJldHVybiAxO1xuXHQgICAgfVxuXHRcblx0XG5cdCAgICByZXR1cm4gMDtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBDaXJjbGUvY2lyY2xlIE5hcnJvd3BoYXNlXG5cdCAqIEBtZXRob2QgY2lyY2xlQ2lyY2xlXG5cdCAqIEBwYXJhbSAge0JvZHl9IGJvZHlBXG5cdCAqIEBwYXJhbSAge0NpcmNsZX0gc2hhcGVBXG5cdCAqIEBwYXJhbSAge0FycmF5fSBvZmZzZXRBXG5cdCAqIEBwYXJhbSAge051bWJlcn0gYW5nbGVBXG5cdCAqIEBwYXJhbSAge0JvZHl9IGJvZHlCXG5cdCAqIEBwYXJhbSAge0NpcmNsZX0gc2hhcGVCXG5cdCAqIEBwYXJhbSAge0FycmF5fSBvZmZzZXRCXG5cdCAqIEBwYXJhbSAge051bWJlcn0gYW5nbGVCXG5cdCAqIEBwYXJhbSB7Qm9vbGVhbn0ganVzdFRlc3Rcblx0ICogQHBhcmFtIHtOdW1iZXJ9IFtyYWRpdXNBXSBPcHRpb25hbCByYWRpdXMgdG8gdXNlIGZvciBzaGFwZUFcblx0ICogQHBhcmFtIHtOdW1iZXJ9IFtyYWRpdXNCXSBPcHRpb25hbCByYWRpdXMgdG8gdXNlIGZvciBzaGFwZUJcblx0ICovXG5cdE5hcnJvd3BoYXNlLnByb3RvdHlwZVtTaGFwZS5DSVJDTEVdID1cblx0TmFycm93cGhhc2UucHJvdG90eXBlLmNpcmNsZUNpcmNsZSA9IGZ1bmN0aW9uKFxuXHQgICAgYm9keUEsXG5cdCAgICBzaGFwZUEsXG5cdCAgICBvZmZzZXRBLFxuXHQgICAgYW5nbGVBLFxuXHQgICAgYm9keUIsXG5cdCAgICBzaGFwZUIsXG5cdCAgICBvZmZzZXRCLFxuXHQgICAgYW5nbGVCLFxuXHQgICAganVzdFRlc3QsXG5cdCAgICByYWRpdXNBLFxuXHQgICAgcmFkaXVzQlxuXHQpe1xuXHRcblx0ICAgIHZhciBkaXN0ID0gdG1wMSxcblx0ICAgICAgICByYWRpdXNBID0gcmFkaXVzQSB8fCBzaGFwZUEucmFkaXVzLFxuXHQgICAgICAgIHJhZGl1c0IgPSByYWRpdXNCIHx8IHNoYXBlQi5yYWRpdXM7XG5cdFxuXHQgICAgc3ViKGRpc3Qsb2Zmc2V0QSxvZmZzZXRCKTtcblx0ICAgIHZhciByID0gcmFkaXVzQSArIHJhZGl1c0I7XG5cdCAgICBpZih2ZWMyLnNxdWFyZWRMZW5ndGgoZGlzdCkgPiBNYXRoLnBvdyhyLDIpKXtcblx0ICAgICAgICByZXR1cm4gMDtcblx0ICAgIH1cblx0XG5cdCAgICBpZihqdXN0VGVzdCl7XG5cdCAgICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIGMgPSB0aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbihib2R5QSxib2R5QixzaGFwZUEsc2hhcGVCKTtcblx0ICAgIHN1YihjLm5vcm1hbEEsIG9mZnNldEIsIG9mZnNldEEpO1xuXHQgICAgdmVjMi5ub3JtYWxpemUoYy5ub3JtYWxBLGMubm9ybWFsQSk7XG5cdFxuXHQgICAgdmVjMi5zY2FsZSggYy5jb250YWN0UG9pbnRBLCBjLm5vcm1hbEEsICByYWRpdXNBKTtcblx0ICAgIHZlYzIuc2NhbGUoIGMuY29udGFjdFBvaW50QiwgYy5ub3JtYWxBLCAtcmFkaXVzQik7XG5cdFxuXHQgICAgYWRkKGMuY29udGFjdFBvaW50QSwgYy5jb250YWN0UG9pbnRBLCBvZmZzZXRBKTtcblx0ICAgIHN1YihjLmNvbnRhY3RQb2ludEEsIGMuY29udGFjdFBvaW50QSwgYm9keUEucG9zaXRpb24pO1xuXHRcblx0ICAgIGFkZChjLmNvbnRhY3RQb2ludEIsIGMuY29udGFjdFBvaW50Qiwgb2Zmc2V0Qik7XG5cdCAgICBzdWIoYy5jb250YWN0UG9pbnRCLCBjLmNvbnRhY3RQb2ludEIsIGJvZHlCLnBvc2l0aW9uKTtcblx0XG5cdCAgICB0aGlzLmNvbnRhY3RFcXVhdGlvbnMucHVzaChjKTtcblx0XG5cdCAgICBpZih0aGlzLmVuYWJsZUZyaWN0aW9uKXtcblx0ICAgICAgICB0aGlzLmZyaWN0aW9uRXF1YXRpb25zLnB1c2godGhpcy5jcmVhdGVGcmljdGlvbkZyb21Db250YWN0KGMpKTtcblx0ICAgIH1cblx0ICAgIHJldHVybiAxO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIFBsYW5lL0NvbnZleCBOYXJyb3dwaGFzZVxuXHQgKiBAbWV0aG9kIHBsYW5lQ29udmV4XG5cdCAqIEBwYXJhbSAge0JvZHl9IHBsYW5lQm9keVxuXHQgKiBAcGFyYW0gIHtQbGFuZX0gcGxhbmVTaGFwZVxuXHQgKiBAcGFyYW0gIHtBcnJheX0gcGxhbmVPZmZzZXRcblx0ICogQHBhcmFtICB7TnVtYmVyfSBwbGFuZUFuZ2xlXG5cdCAqIEBwYXJhbSAge0JvZHl9IGNvbnZleEJvZHlcblx0ICogQHBhcmFtICB7Q29udmV4fSBjb252ZXhTaGFwZVxuXHQgKiBAcGFyYW0gIHtBcnJheX0gY29udmV4T2Zmc2V0XG5cdCAqIEBwYXJhbSAge051bWJlcn0gY29udmV4QW5nbGVcblx0ICogQHBhcmFtIHtCb29sZWFufSBqdXN0VGVzdFxuXHQgKi9cblx0TmFycm93cGhhc2UucHJvdG90eXBlW1NoYXBlLlBMQU5FIHwgU2hhcGUuQ09OVkVYXSA9XG5cdE5hcnJvd3BoYXNlLnByb3RvdHlwZVtTaGFwZS5QTEFORSB8IFNoYXBlLkJPWF0gPVxuXHROYXJyb3dwaGFzZS5wcm90b3R5cGUucGxhbmVDb252ZXggPSBmdW5jdGlvbihcblx0ICAgIHBsYW5lQm9keSxcblx0ICAgIHBsYW5lU2hhcGUsXG5cdCAgICBwbGFuZU9mZnNldCxcblx0ICAgIHBsYW5lQW5nbGUsXG5cdCAgICBjb252ZXhCb2R5LFxuXHQgICAgY29udmV4U2hhcGUsXG5cdCAgICBjb252ZXhPZmZzZXQsXG5cdCAgICBjb252ZXhBbmdsZSxcblx0ICAgIGp1c3RUZXN0XG5cdCl7XG5cdCAgICB2YXIgd29ybGRWZXJ0ZXggPSB0bXAxLFxuXHQgICAgICAgIHdvcmxkTm9ybWFsID0gdG1wMixcblx0ICAgICAgICBkaXN0ID0gdG1wMztcblx0XG5cdCAgICB2YXIgbnVtUmVwb3J0ZWQgPSAwO1xuXHQgICAgdmVjMi5yb3RhdGUod29ybGROb3JtYWwsIHlBeGlzLCBwbGFuZUFuZ2xlKTtcblx0XG5cdCAgICBmb3IodmFyIGk9MDsgaSE9PWNvbnZleFNoYXBlLnZlcnRpY2VzLmxlbmd0aDsgaSsrKXtcblx0ICAgICAgICB2YXIgdiA9IGNvbnZleFNoYXBlLnZlcnRpY2VzW2ldO1xuXHQgICAgICAgIHZlYzIucm90YXRlKHdvcmxkVmVydGV4LCB2LCBjb252ZXhBbmdsZSk7XG5cdCAgICAgICAgYWRkKHdvcmxkVmVydGV4LCB3b3JsZFZlcnRleCwgY29udmV4T2Zmc2V0KTtcblx0XG5cdCAgICAgICAgc3ViKGRpc3QsIHdvcmxkVmVydGV4LCBwbGFuZU9mZnNldCk7XG5cdFxuXHQgICAgICAgIGlmKGRvdChkaXN0LHdvcmxkTm9ybWFsKSA8PSAwKXtcblx0XG5cdCAgICAgICAgICAgIGlmKGp1c3RUZXN0KXtcblx0ICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICAvLyBGb3VuZCB2ZXJ0ZXhcblx0ICAgICAgICAgICAgbnVtUmVwb3J0ZWQrKztcblx0XG5cdCAgICAgICAgICAgIHZhciBjID0gdGhpcy5jcmVhdGVDb250YWN0RXF1YXRpb24ocGxhbmVCb2R5LGNvbnZleEJvZHkscGxhbmVTaGFwZSxjb252ZXhTaGFwZSk7XG5cdFxuXHQgICAgICAgICAgICBzdWIoZGlzdCwgd29ybGRWZXJ0ZXgsIHBsYW5lT2Zmc2V0KTtcblx0XG5cdCAgICAgICAgICAgIHZlYzIuY29weShjLm5vcm1hbEEsIHdvcmxkTm9ybWFsKTtcblx0XG5cdCAgICAgICAgICAgIHZhciBkID0gZG90KGRpc3QsIGMubm9ybWFsQSk7XG5cdCAgICAgICAgICAgIHZlYzIuc2NhbGUoZGlzdCwgYy5ub3JtYWxBLCBkKTtcblx0XG5cdCAgICAgICAgICAgIC8vIHJqIGlzIGZyb20gY29udmV4IGNlbnRlciB0byBjb250YWN0XG5cdCAgICAgICAgICAgIHN1YihjLmNvbnRhY3RQb2ludEIsIHdvcmxkVmVydGV4LCBjb252ZXhCb2R5LnBvc2l0aW9uKTtcblx0XG5cdFxuXHQgICAgICAgICAgICAvLyByaSBpcyBmcm9tIHBsYW5lIGNlbnRlciB0byBjb250YWN0XG5cdCAgICAgICAgICAgIHN1YiggYy5jb250YWN0UG9pbnRBLCB3b3JsZFZlcnRleCwgZGlzdCk7XG5cdCAgICAgICAgICAgIHN1YiggYy5jb250YWN0UG9pbnRBLCBjLmNvbnRhY3RQb2ludEEsIHBsYW5lQm9keS5wb3NpdGlvbik7XG5cdFxuXHQgICAgICAgICAgICB0aGlzLmNvbnRhY3RFcXVhdGlvbnMucHVzaChjKTtcblx0XG5cdCAgICAgICAgICAgIGlmKCF0aGlzLmVuYWJsZUZyaWN0aW9uUmVkdWN0aW9uKXtcblx0ICAgICAgICAgICAgICAgIGlmKHRoaXMuZW5hYmxlRnJpY3Rpb24pe1xuXHQgICAgICAgICAgICAgICAgICAgIHRoaXMuZnJpY3Rpb25FcXVhdGlvbnMucHVzaCh0aGlzLmNyZWF0ZUZyaWN0aW9uRnJvbUNvbnRhY3QoYykpO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIGlmKHRoaXMuZW5hYmxlRnJpY3Rpb25SZWR1Y3Rpb24pe1xuXHQgICAgICAgIGlmKHRoaXMuZW5hYmxlRnJpY3Rpb24gJiYgbnVtUmVwb3J0ZWQpe1xuXHQgICAgICAgICAgICB0aGlzLmZyaWN0aW9uRXF1YXRpb25zLnB1c2godGhpcy5jcmVhdGVGcmljdGlvbkZyb21BdmVyYWdlKG51bVJlcG9ydGVkKSk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiBudW1SZXBvcnRlZDtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBOYXJyb3dwaGFzZSBmb3IgcGFydGljbGUgdnMgcGxhbmVcblx0ICogQG1ldGhvZCBwYXJ0aWNsZVBsYW5lXG5cdCAqIEBwYXJhbSAge0JvZHl9ICAgICAgIHBhcnRpY2xlQm9keVxuXHQgKiBAcGFyYW0gIHtQYXJ0aWNsZX0gICBwYXJ0aWNsZVNoYXBlXG5cdCAqIEBwYXJhbSAge0FycmF5fSAgICAgIHBhcnRpY2xlT2Zmc2V0XG5cdCAqIEBwYXJhbSAge051bWJlcn0gICAgIHBhcnRpY2xlQW5nbGVcblx0ICogQHBhcmFtICB7Qm9keX0gICAgICAgcGxhbmVCb2R5XG5cdCAqIEBwYXJhbSAge1BsYW5lfSAgICAgIHBsYW5lU2hhcGVcblx0ICogQHBhcmFtICB7QXJyYXl9ICAgICAgcGxhbmVPZmZzZXRcblx0ICogQHBhcmFtICB7TnVtYmVyfSAgICAgcGxhbmVBbmdsZVxuXHQgKiBAcGFyYW0ge0Jvb2xlYW59ICAgICBqdXN0VGVzdFxuXHQgKi9cblx0TmFycm93cGhhc2UucHJvdG90eXBlW1NoYXBlLlBBUlRJQ0xFIHwgU2hhcGUuUExBTkVdID1cblx0TmFycm93cGhhc2UucHJvdG90eXBlLnBhcnRpY2xlUGxhbmUgPSBmdW5jdGlvbihcblx0ICAgIHBhcnRpY2xlQm9keSxcblx0ICAgIHBhcnRpY2xlU2hhcGUsXG5cdCAgICBwYXJ0aWNsZU9mZnNldCxcblx0ICAgIHBhcnRpY2xlQW5nbGUsXG5cdCAgICBwbGFuZUJvZHksXG5cdCAgICBwbGFuZVNoYXBlLFxuXHQgICAgcGxhbmVPZmZzZXQsXG5cdCAgICBwbGFuZUFuZ2xlLFxuXHQgICAganVzdFRlc3Rcblx0KXtcblx0ICAgIHZhciBkaXN0ID0gdG1wMSxcblx0ICAgICAgICB3b3JsZE5vcm1hbCA9IHRtcDI7XG5cdFxuXHQgICAgcGxhbmVBbmdsZSA9IHBsYW5lQW5nbGUgfHwgMDtcblx0XG5cdCAgICBzdWIoZGlzdCwgcGFydGljbGVPZmZzZXQsIHBsYW5lT2Zmc2V0KTtcblx0ICAgIHZlYzIucm90YXRlKHdvcmxkTm9ybWFsLCB5QXhpcywgcGxhbmVBbmdsZSk7XG5cdFxuXHQgICAgdmFyIGQgPSBkb3QoZGlzdCwgd29ybGROb3JtYWwpO1xuXHRcblx0ICAgIGlmKGQgPiAwKXtcblx0ICAgICAgICByZXR1cm4gMDtcblx0ICAgIH1cblx0ICAgIGlmKGp1c3RUZXN0KXtcblx0ICAgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgYyA9IHRoaXMuY3JlYXRlQ29udGFjdEVxdWF0aW9uKHBsYW5lQm9keSxwYXJ0aWNsZUJvZHkscGxhbmVTaGFwZSxwYXJ0aWNsZVNoYXBlKTtcblx0XG5cdCAgICB2ZWMyLmNvcHkoYy5ub3JtYWxBLCB3b3JsZE5vcm1hbCk7XG5cdCAgICB2ZWMyLnNjYWxlKCBkaXN0LCBjLm5vcm1hbEEsIGQgKTtcblx0ICAgIC8vIGRpc3QgaXMgbm93IHRoZSBkaXN0YW5jZSB2ZWN0b3IgaW4gdGhlIG5vcm1hbCBkaXJlY3Rpb25cblx0XG5cdCAgICAvLyByaSBpcyB0aGUgcGFydGljbGUgcG9zaXRpb24gcHJvamVjdGVkIGRvd24gb250byB0aGUgcGxhbmUsIGZyb20gdGhlIHBsYW5lIGNlbnRlclxuXHQgICAgc3ViKCBjLmNvbnRhY3RQb2ludEEsIHBhcnRpY2xlT2Zmc2V0LCBkaXN0KTtcblx0ICAgIHN1YiggYy5jb250YWN0UG9pbnRBLCBjLmNvbnRhY3RQb2ludEEsIHBsYW5lQm9keS5wb3NpdGlvbik7XG5cdFxuXHQgICAgLy8gcmogaXMgZnJvbSB0aGUgYm9keSBjZW50ZXIgdG8gdGhlIHBhcnRpY2xlIGNlbnRlclxuXHQgICAgc3ViKCBjLmNvbnRhY3RQb2ludEIsIHBhcnRpY2xlT2Zmc2V0LCBwYXJ0aWNsZUJvZHkucG9zaXRpb24gKTtcblx0XG5cdCAgICB0aGlzLmNvbnRhY3RFcXVhdGlvbnMucHVzaChjKTtcblx0XG5cdCAgICBpZih0aGlzLmVuYWJsZUZyaWN0aW9uKXtcblx0ICAgICAgICB0aGlzLmZyaWN0aW9uRXF1YXRpb25zLnB1c2godGhpcy5jcmVhdGVGcmljdGlvbkZyb21Db250YWN0KGMpKTtcblx0ICAgIH1cblx0ICAgIHJldHVybiAxO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIENpcmNsZS9QYXJ0aWNsZSBOYXJyb3dwaGFzZVxuXHQgKiBAbWV0aG9kIGNpcmNsZVBhcnRpY2xlXG5cdCAqIEBwYXJhbSAge0JvZHl9IGNpcmNsZUJvZHlcblx0ICogQHBhcmFtICB7Q2lyY2xlfSBjaXJjbGVTaGFwZVxuXHQgKiBAcGFyYW0gIHtBcnJheX0gY2lyY2xlT2Zmc2V0XG5cdCAqIEBwYXJhbSAge051bWJlcn0gY2lyY2xlQW5nbGVcblx0ICogQHBhcmFtICB7Qm9keX0gcGFydGljbGVCb2R5XG5cdCAqIEBwYXJhbSAge1BhcnRpY2xlfSBwYXJ0aWNsZVNoYXBlXG5cdCAqIEBwYXJhbSAge0FycmF5fSBwYXJ0aWNsZU9mZnNldFxuXHQgKiBAcGFyYW0gIHtOdW1iZXJ9IHBhcnRpY2xlQW5nbGVcblx0ICogQHBhcmFtICB7Qm9vbGVhbn0ganVzdFRlc3Rcblx0ICovXG5cdE5hcnJvd3BoYXNlLnByb3RvdHlwZVtTaGFwZS5DSVJDTEUgfCBTaGFwZS5QQVJUSUNMRV0gPVxuXHROYXJyb3dwaGFzZS5wcm90b3R5cGUuY2lyY2xlUGFydGljbGUgPSBmdW5jdGlvbihcblx0ICAgIGNpcmNsZUJvZHksXG5cdCAgICBjaXJjbGVTaGFwZSxcblx0ICAgIGNpcmNsZU9mZnNldCxcblx0ICAgIGNpcmNsZUFuZ2xlLFxuXHQgICAgcGFydGljbGVCb2R5LFxuXHQgICAgcGFydGljbGVTaGFwZSxcblx0ICAgIHBhcnRpY2xlT2Zmc2V0LFxuXHQgICAgcGFydGljbGVBbmdsZSxcblx0ICAgIGp1c3RUZXN0XG5cdCl7XG5cdCAgICB2YXIgZGlzdCA9IHRtcDE7XG5cdFxuXHQgICAgc3ViKGRpc3QsIHBhcnRpY2xlT2Zmc2V0LCBjaXJjbGVPZmZzZXQpO1xuXHQgICAgaWYodmVjMi5zcXVhcmVkTGVuZ3RoKGRpc3QpID4gTWF0aC5wb3coY2lyY2xlU2hhcGUucmFkaXVzLCAyKSl7XG5cdCAgICAgICAgcmV0dXJuIDA7XG5cdCAgICB9XG5cdCAgICBpZihqdXN0VGVzdCl7XG5cdCAgICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIGMgPSB0aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbihjaXJjbGVCb2R5LHBhcnRpY2xlQm9keSxjaXJjbGVTaGFwZSxwYXJ0aWNsZVNoYXBlKTtcblx0ICAgIHZlYzIuY29weShjLm5vcm1hbEEsIGRpc3QpO1xuXHQgICAgdmVjMi5ub3JtYWxpemUoYy5ub3JtYWxBLGMubm9ybWFsQSk7XG5cdFxuXHQgICAgLy8gVmVjdG9yIGZyb20gY2lyY2xlIHRvIGNvbnRhY3QgcG9pbnQgaXMgdGhlIG5vcm1hbCB0aW1lcyB0aGUgY2lyY2xlIHJhZGl1c1xuXHQgICAgdmVjMi5zY2FsZShjLmNvbnRhY3RQb2ludEEsIGMubm9ybWFsQSwgY2lyY2xlU2hhcGUucmFkaXVzKTtcblx0ICAgIGFkZChjLmNvbnRhY3RQb2ludEEsIGMuY29udGFjdFBvaW50QSwgY2lyY2xlT2Zmc2V0KTtcblx0ICAgIHN1YihjLmNvbnRhY3RQb2ludEEsIGMuY29udGFjdFBvaW50QSwgY2lyY2xlQm9keS5wb3NpdGlvbik7XG5cdFxuXHQgICAgLy8gVmVjdG9yIGZyb20gcGFydGljbGUgY2VudGVyIHRvIGNvbnRhY3QgcG9pbnQgaXMgemVyb1xuXHQgICAgc3ViKGMuY29udGFjdFBvaW50QiwgcGFydGljbGVPZmZzZXQsIHBhcnRpY2xlQm9keS5wb3NpdGlvbik7XG5cdFxuXHQgICAgdGhpcy5jb250YWN0RXF1YXRpb25zLnB1c2goYyk7XG5cdFxuXHQgICAgaWYodGhpcy5lbmFibGVGcmljdGlvbil7XG5cdCAgICAgICAgdGhpcy5mcmljdGlvbkVxdWF0aW9ucy5wdXNoKHRoaXMuY3JlYXRlRnJpY3Rpb25Gcm9tQ29udGFjdChjKSk7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIDE7XG5cdH07XG5cdFxuXHR2YXIgcGxhbmVDYXBzdWxlX3RtcENpcmNsZSA9IG5ldyBDaXJjbGUoeyByYWRpdXM6IDEgfSksXG5cdCAgICBwbGFuZUNhcHN1bGVfdG1wMSA9IHZlYzIuY3JlYXRlKCksXG5cdCAgICBwbGFuZUNhcHN1bGVfdG1wMiA9IHZlYzIuY3JlYXRlKCksXG5cdCAgICBwbGFuZUNhcHN1bGVfdG1wMyA9IHZlYzIuY3JlYXRlKCk7XG5cdFxuXHQvKipcblx0ICogQG1ldGhvZCBwbGFuZUNhcHN1bGVcblx0ICogQHBhcmFtICB7Qm9keX0gcGxhbmVCb2R5XG5cdCAqIEBwYXJhbSAge0NpcmNsZX0gcGxhbmVTaGFwZVxuXHQgKiBAcGFyYW0gIHtBcnJheX0gcGxhbmVPZmZzZXRcblx0ICogQHBhcmFtICB7TnVtYmVyfSBwbGFuZUFuZ2xlXG5cdCAqIEBwYXJhbSAge0JvZHl9IGNhcHN1bGVCb2R5XG5cdCAqIEBwYXJhbSAge1BhcnRpY2xlfSBjYXBzdWxlU2hhcGVcblx0ICogQHBhcmFtICB7QXJyYXl9IGNhcHN1bGVPZmZzZXRcblx0ICogQHBhcmFtICB7TnVtYmVyfSBjYXBzdWxlQW5nbGVcblx0ICogQHBhcmFtIHtCb29sZWFufSBqdXN0VGVzdFxuXHQgKi9cblx0TmFycm93cGhhc2UucHJvdG90eXBlW1NoYXBlLlBMQU5FIHwgU2hhcGUuQ0FQU1VMRV0gPVxuXHROYXJyb3dwaGFzZS5wcm90b3R5cGUucGxhbmVDYXBzdWxlID0gZnVuY3Rpb24oXG5cdCAgICBwbGFuZUJvZHksXG5cdCAgICBwbGFuZVNoYXBlLFxuXHQgICAgcGxhbmVPZmZzZXQsXG5cdCAgICBwbGFuZUFuZ2xlLFxuXHQgICAgY2Fwc3VsZUJvZHksXG5cdCAgICBjYXBzdWxlU2hhcGUsXG5cdCAgICBjYXBzdWxlT2Zmc2V0LFxuXHQgICAgY2Fwc3VsZUFuZ2xlLFxuXHQgICAganVzdFRlc3Rcblx0KXtcblx0ICAgIHZhciBlbmQxID0gcGxhbmVDYXBzdWxlX3RtcDEsXG5cdCAgICAgICAgZW5kMiA9IHBsYW5lQ2Fwc3VsZV90bXAyLFxuXHQgICAgICAgIGNpcmNsZSA9IHBsYW5lQ2Fwc3VsZV90bXBDaXJjbGUsXG5cdCAgICAgICAgZHN0ID0gcGxhbmVDYXBzdWxlX3RtcDM7XG5cdFxuXHQgICAgLy8gQ29tcHV0ZSB3b3JsZCBlbmQgcG9zaXRpb25zXG5cdCAgICB2ZWMyLnNldChlbmQxLCAtY2Fwc3VsZVNoYXBlLmxlbmd0aC8yLCAwKTtcblx0ICAgIHZlYzIucm90YXRlKGVuZDEsZW5kMSxjYXBzdWxlQW5nbGUpO1xuXHQgICAgYWRkKGVuZDEsZW5kMSxjYXBzdWxlT2Zmc2V0KTtcblx0XG5cdCAgICB2ZWMyLnNldChlbmQyLCAgY2Fwc3VsZVNoYXBlLmxlbmd0aC8yLCAwKTtcblx0ICAgIHZlYzIucm90YXRlKGVuZDIsZW5kMixjYXBzdWxlQW5nbGUpO1xuXHQgICAgYWRkKGVuZDIsZW5kMixjYXBzdWxlT2Zmc2V0KTtcblx0XG5cdCAgICBjaXJjbGUucmFkaXVzID0gY2Fwc3VsZVNoYXBlLnJhZGl1cztcblx0XG5cdCAgICB2YXIgZW5hYmxlRnJpY3Rpb25CZWZvcmU7XG5cdFxuXHQgICAgLy8gVGVtcG9yYXJpbHkgdHVybiBvZmYgZnJpY3Rpb25cblx0ICAgIGlmKHRoaXMuZW5hYmxlRnJpY3Rpb25SZWR1Y3Rpb24pe1xuXHQgICAgICAgIGVuYWJsZUZyaWN0aW9uQmVmb3JlID0gdGhpcy5lbmFibGVGcmljdGlvbjtcblx0ICAgICAgICB0aGlzLmVuYWJsZUZyaWN0aW9uID0gZmFsc2U7XG5cdCAgICB9XG5cdFxuXHQgICAgLy8gRG8gTmFycm93cGhhc2UgYXMgdHdvIGNpcmNsZXNcblx0ICAgIHZhciBudW1Db250YWN0czEgPSB0aGlzLmNpcmNsZVBsYW5lKGNhcHN1bGVCb2R5LGNpcmNsZSxlbmQxLDAsIHBsYW5lQm9keSxwbGFuZVNoYXBlLHBsYW5lT2Zmc2V0LHBsYW5lQW5nbGUsIGp1c3RUZXN0KSxcblx0ICAgICAgICBudW1Db250YWN0czIgPSB0aGlzLmNpcmNsZVBsYW5lKGNhcHN1bGVCb2R5LGNpcmNsZSxlbmQyLDAsIHBsYW5lQm9keSxwbGFuZVNoYXBlLHBsYW5lT2Zmc2V0LHBsYW5lQW5nbGUsIGp1c3RUZXN0KTtcblx0XG5cdCAgICAvLyBSZXN0b3JlIGZyaWN0aW9uXG5cdCAgICBpZih0aGlzLmVuYWJsZUZyaWN0aW9uUmVkdWN0aW9uKXtcblx0ICAgICAgICB0aGlzLmVuYWJsZUZyaWN0aW9uID0gZW5hYmxlRnJpY3Rpb25CZWZvcmU7XG5cdCAgICB9XG5cdFxuXHQgICAgaWYoanVzdFRlc3Qpe1xuXHQgICAgICAgIHJldHVybiBudW1Db250YWN0czEgfHwgbnVtQ29udGFjdHMyO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICB2YXIgbnVtVG90YWwgPSBudW1Db250YWN0czEgKyBudW1Db250YWN0czI7XG5cdCAgICAgICAgaWYodGhpcy5lbmFibGVGcmljdGlvblJlZHVjdGlvbil7XG5cdCAgICAgICAgICAgIGlmKG51bVRvdGFsKXtcblx0ICAgICAgICAgICAgICAgIHRoaXMuZnJpY3Rpb25FcXVhdGlvbnMucHVzaCh0aGlzLmNyZWF0ZUZyaWN0aW9uRnJvbUF2ZXJhZ2UobnVtVG90YWwpKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gbnVtVG90YWw7XG5cdCAgICB9XG5cdH07XG5cdFxuXHQvKipcblx0ICogQ3JlYXRlcyBDb250YWN0RXF1YXRpb25zIGFuZCBGcmljdGlvbkVxdWF0aW9ucyBmb3IgYSBjb2xsaXNpb24uXG5cdCAqIEBtZXRob2QgY2lyY2xlUGxhbmVcblx0ICogQHBhcmFtICB7Qm9keX0gICAgYmkgICAgIFRoZSBmaXJzdCBib2R5IHRoYXQgc2hvdWxkIGJlIGNvbm5lY3RlZCB0byB0aGUgZXF1YXRpb25zLlxuXHQgKiBAcGFyYW0gIHtDaXJjbGV9ICBzaSAgICAgVGhlIGNpcmNsZSBzaGFwZSBwYXJ0aWNpcGF0aW5nIGluIHRoZSBjb2xsaXNpb24uXG5cdCAqIEBwYXJhbSAge0FycmF5fSAgIHhpICAgICBFeHRyYSBvZmZzZXQgdG8gdGFrZSBpbnRvIGFjY291bnQgZm9yIHRoZSBTaGFwZSwgaW4gYWRkaXRpb24gdG8gdGhlIG9uZSBpbiBjaXJjbGVCb2R5LnBvc2l0aW9uLiBXaWxsICpub3QqIGJlIHJvdGF0ZWQgYnkgY2lyY2xlQm9keS5hbmdsZSAobWF5YmUgaXQgc2hvdWxkLCBmb3Igc2FrZSBvZiBob21vZ2VuaXR5PykuIFNldCB0byBudWxsIGlmIG5vbmUuXG5cdCAqIEBwYXJhbSAge0JvZHl9ICAgIGJqICAgICBUaGUgc2Vjb25kIGJvZHkgdGhhdCBzaG91bGQgYmUgY29ubmVjdGVkIHRvIHRoZSBlcXVhdGlvbnMuXG5cdCAqIEBwYXJhbSAge1BsYW5lfSAgIHNqICAgICBUaGUgUGxhbmUgc2hhcGUgdGhhdCBpcyBwYXJ0aWNpcGF0aW5nXG5cdCAqIEBwYXJhbSAge0FycmF5fSAgIHhqICAgICBFeHRyYSBvZmZzZXQgZm9yIHRoZSBwbGFuZSBzaGFwZS5cblx0ICogQHBhcmFtICB7TnVtYmVyfSAgYWogICAgIEV4dHJhIGFuZ2xlIHRvIGFwcGx5IHRvIHRoZSBwbGFuZVxuXHQgKi9cblx0TmFycm93cGhhc2UucHJvdG90eXBlW1NoYXBlLkNJUkNMRSB8IFNoYXBlLlBMQU5FXSA9XG5cdE5hcnJvd3BoYXNlLnByb3RvdHlwZS5jaXJjbGVQbGFuZSA9IGZ1bmN0aW9uKCAgIGJpLHNpLHhpLGFpLCBiaixzaix4aixhaiwganVzdFRlc3QgKXtcblx0ICAgIHZhciBjaXJjbGVCb2R5ID0gYmksXG5cdCAgICAgICAgY2lyY2xlU2hhcGUgPSBzaSxcblx0ICAgICAgICBjaXJjbGVPZmZzZXQgPSB4aSwgLy8gT2Zmc2V0IGZyb20gYm9keSBjZW50ZXIsIHJvdGF0ZWQhXG5cdCAgICAgICAgcGxhbmVCb2R5ID0gYmosXG5cdCAgICAgICAgc2hhcGVCID0gc2osXG5cdCAgICAgICAgcGxhbmVPZmZzZXQgPSB4aixcblx0ICAgICAgICBwbGFuZUFuZ2xlID0gYWo7XG5cdFxuXHQgICAgcGxhbmVBbmdsZSA9IHBsYW5lQW5nbGUgfHwgMDtcblx0XG5cdCAgICAvLyBWZWN0b3IgZnJvbSBwbGFuZSB0byBjaXJjbGVcblx0ICAgIHZhciBwbGFuZVRvQ2lyY2xlID0gdG1wMSxcblx0ICAgICAgICB3b3JsZE5vcm1hbCA9IHRtcDIsXG5cdCAgICAgICAgdGVtcCA9IHRtcDM7XG5cdFxuXHQgICAgc3ViKHBsYW5lVG9DaXJjbGUsIGNpcmNsZU9mZnNldCwgcGxhbmVPZmZzZXQpO1xuXHRcblx0ICAgIC8vIFdvcmxkIHBsYW5lIG5vcm1hbFxuXHQgICAgdmVjMi5yb3RhdGUod29ybGROb3JtYWwsIHlBeGlzLCBwbGFuZUFuZ2xlKTtcblx0XG5cdCAgICAvLyBOb3JtYWwgZGlyZWN0aW9uIGRpc3RhbmNlXG5cdCAgICB2YXIgZCA9IGRvdCh3b3JsZE5vcm1hbCwgcGxhbmVUb0NpcmNsZSk7XG5cdFxuXHQgICAgaWYoZCA+IGNpcmNsZVNoYXBlLnJhZGl1cyl7XG5cdCAgICAgICAgcmV0dXJuIDA7IC8vIE5vIG92ZXJsYXAuIEFib3J0LlxuXHQgICAgfVxuXHRcblx0ICAgIGlmKGp1c3RUZXN0KXtcblx0ICAgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgIH1cblx0XG5cdCAgICAvLyBDcmVhdGUgY29udGFjdFxuXHQgICAgdmFyIGNvbnRhY3QgPSB0aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbihwbGFuZUJvZHksY2lyY2xlQm9keSxzaixzaSk7XG5cdFxuXHQgICAgLy8gbmkgaXMgdGhlIHBsYW5lIHdvcmxkIG5vcm1hbFxuXHQgICAgdmVjMi5jb3B5KGNvbnRhY3Qubm9ybWFsQSwgd29ybGROb3JtYWwpO1xuXHRcblx0ICAgIC8vIHJqIGlzIHRoZSB2ZWN0b3IgZnJvbSBjaXJjbGUgY2VudGVyIHRvIHRoZSBjb250YWN0IHBvaW50XG5cdCAgICB2ZWMyLnNjYWxlKGNvbnRhY3QuY29udGFjdFBvaW50QiwgY29udGFjdC5ub3JtYWxBLCAtY2lyY2xlU2hhcGUucmFkaXVzKTtcblx0ICAgIGFkZChjb250YWN0LmNvbnRhY3RQb2ludEIsIGNvbnRhY3QuY29udGFjdFBvaW50QiwgY2lyY2xlT2Zmc2V0KTtcblx0ICAgIHN1Yihjb250YWN0LmNvbnRhY3RQb2ludEIsIGNvbnRhY3QuY29udGFjdFBvaW50QiwgY2lyY2xlQm9keS5wb3NpdGlvbik7XG5cdFxuXHQgICAgLy8gcmkgaXMgdGhlIGRpc3RhbmNlIGZyb20gcGxhbmUgY2VudGVyIHRvIGNvbnRhY3QuXG5cdCAgICB2ZWMyLnNjYWxlKHRlbXAsIGNvbnRhY3Qubm9ybWFsQSwgZCk7XG5cdCAgICBzdWIoY29udGFjdC5jb250YWN0UG9pbnRBLCBwbGFuZVRvQ2lyY2xlLCB0ZW1wICk7IC8vIFN1YnRyYWN0IG5vcm1hbCBkaXN0YW5jZSB2ZWN0b3IgZnJvbSB0aGUgZGlzdGFuY2UgdmVjdG9yXG5cdCAgICBhZGQoY29udGFjdC5jb250YWN0UG9pbnRBLCBjb250YWN0LmNvbnRhY3RQb2ludEEsIHBsYW5lT2Zmc2V0KTtcblx0ICAgIHN1Yihjb250YWN0LmNvbnRhY3RQb2ludEEsIGNvbnRhY3QuY29udGFjdFBvaW50QSwgcGxhbmVCb2R5LnBvc2l0aW9uKTtcblx0XG5cdCAgICB0aGlzLmNvbnRhY3RFcXVhdGlvbnMucHVzaChjb250YWN0KTtcblx0XG5cdCAgICBpZih0aGlzLmVuYWJsZUZyaWN0aW9uKXtcblx0ICAgICAgICB0aGlzLmZyaWN0aW9uRXF1YXRpb25zLnB1c2goIHRoaXMuY3JlYXRlRnJpY3Rpb25Gcm9tQ29udGFjdChjb250YWN0KSApO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiAxO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIENvbnZleC9jb252ZXggTmFycm93cGhhc2UuU2VlIDxhIGhyZWY9XCJodHRwOi8vd3d3LmFsdGRldmJsb2dhZGF5LmNvbS8yMDExLzA1LzEzL2NvbnRhY3QtZ2VuZXJhdGlvbi1iZXR3ZWVuLTNkLWNvbnZleC1tZXNoZXMvXCI+dGhpcyBhcnRpY2xlPC9hPiBmb3IgbW9yZSBpbmZvLlxuXHQgKiBAbWV0aG9kIGNvbnZleENvbnZleFxuXHQgKiBAcGFyYW0gIHtCb2R5fSBiaVxuXHQgKiBAcGFyYW0gIHtDb252ZXh9IHNpXG5cdCAqIEBwYXJhbSAge0FycmF5fSB4aVxuXHQgKiBAcGFyYW0gIHtOdW1iZXJ9IGFpXG5cdCAqIEBwYXJhbSAge0JvZHl9IGJqXG5cdCAqIEBwYXJhbSAge0NvbnZleH0gc2pcblx0ICogQHBhcmFtICB7QXJyYXl9IHhqXG5cdCAqIEBwYXJhbSAge051bWJlcn0gYWpcblx0ICovXG5cdE5hcnJvd3BoYXNlLnByb3RvdHlwZVtTaGFwZS5DT05WRVhdID1cblx0TmFycm93cGhhc2UucHJvdG90eXBlW1NoYXBlLkNPTlZFWCB8IFNoYXBlLkJPWF0gPVxuXHROYXJyb3dwaGFzZS5wcm90b3R5cGVbU2hhcGUuQk9YXSA9XG5cdE5hcnJvd3BoYXNlLnByb3RvdHlwZS5jb252ZXhDb252ZXggPSBmdW5jdGlvbiggIGJpLHNpLHhpLGFpLCBiaixzaix4aixhaiwganVzdFRlc3QsIHByZWNpc2lvbiApe1xuXHQgICAgdmFyIHNlcEF4aXMgPSB0bXAxLFxuXHQgICAgICAgIHdvcmxkUG9pbnQgPSB0bXAyLFxuXHQgICAgICAgIHdvcmxkUG9pbnQwID0gdG1wMyxcblx0ICAgICAgICB3b3JsZFBvaW50MSA9IHRtcDQsXG5cdCAgICAgICAgd29ybGRFZGdlID0gdG1wNSxcblx0ICAgICAgICBwcm9qZWN0ZWQgPSB0bXA2LFxuXHQgICAgICAgIHBlbmV0cmF0aW9uVmVjID0gdG1wNyxcblx0ICAgICAgICBkaXN0ID0gdG1wOCxcblx0ICAgICAgICB3b3JsZE5vcm1hbCA9IHRtcDksXG5cdCAgICAgICAgbnVtQ29udGFjdHMgPSAwLFxuXHQgICAgICAgIHByZWNpc2lvbiA9IHR5cGVvZihwcmVjaXNpb24pID09PSAnbnVtYmVyJyA/IHByZWNpc2lvbiA6IDA7XG5cdFxuXHQgICAgdmFyIGZvdW5kID0gTmFycm93cGhhc2UuZmluZFNlcGFyYXRpbmdBeGlzKHNpLHhpLGFpLHNqLHhqLGFqLHNlcEF4aXMpO1xuXHQgICAgaWYoIWZvdW5kKXtcblx0ICAgICAgICByZXR1cm4gMDtcblx0ICAgIH1cblx0XG5cdCAgICAvLyBNYWtlIHN1cmUgdGhlIHNlcGFyYXRpbmcgYXhpcyBpcyBkaXJlY3RlZCBmcm9tIHNoYXBlIGkgdG8gc2hhcGUgalxuXHQgICAgc3ViKGRpc3QseGoseGkpO1xuXHQgICAgaWYoZG90KHNlcEF4aXMsZGlzdCkgPiAwKXtcblx0ICAgICAgICB2ZWMyLnNjYWxlKHNlcEF4aXMsc2VwQXhpcywtMSk7XG5cdCAgICB9XG5cdFxuXHQgICAgLy8gRmluZCBlZGdlcyB3aXRoIG5vcm1hbHMgY2xvc2VzdCB0byB0aGUgc2VwYXJhdGluZyBheGlzXG5cdCAgICB2YXIgY2xvc2VzdEVkZ2UxID0gTmFycm93cGhhc2UuZ2V0Q2xvc2VzdEVkZ2Uoc2ksYWksc2VwQXhpcyx0cnVlKSwgLy8gRmxpcHBlZCBheGlzXG5cdCAgICAgICAgY2xvc2VzdEVkZ2UyID0gTmFycm93cGhhc2UuZ2V0Q2xvc2VzdEVkZ2Uoc2osYWosc2VwQXhpcyk7XG5cdFxuXHQgICAgaWYoY2xvc2VzdEVkZ2UxID09PSAtMSB8fCBjbG9zZXN0RWRnZTIgPT09IC0xKXtcblx0ICAgICAgICByZXR1cm4gMDtcblx0ICAgIH1cblx0XG5cdCAgICAvLyBMb29wIG92ZXIgdGhlIHNoYXBlc1xuXHQgICAgZm9yKHZhciBrPTA7IGs8MjsgaysrKXtcblx0XG5cdCAgICAgICAgdmFyIGNsb3Nlc3RFZGdlQSA9IGNsb3Nlc3RFZGdlMSxcblx0ICAgICAgICAgICAgY2xvc2VzdEVkZ2VCID0gY2xvc2VzdEVkZ2UyLFxuXHQgICAgICAgICAgICBzaGFwZUEgPSAgc2ksIHNoYXBlQiA9ICBzaixcblx0ICAgICAgICAgICAgb2Zmc2V0QSA9IHhpLCBvZmZzZXRCID0geGosXG5cdCAgICAgICAgICAgIGFuZ2xlQSA9IGFpLCBhbmdsZUIgPSBhaixcblx0ICAgICAgICAgICAgYm9keUEgPSBiaSwgYm9keUIgPSBiajtcblx0XG5cdCAgICAgICAgaWYoayA9PT0gMCl7XG5cdCAgICAgICAgICAgIC8vIFN3YXAhXG5cdCAgICAgICAgICAgIHZhciB0bXA7XG5cdCAgICAgICAgICAgIHRtcCA9IGNsb3Nlc3RFZGdlQTtcblx0ICAgICAgICAgICAgY2xvc2VzdEVkZ2VBID0gY2xvc2VzdEVkZ2VCO1xuXHQgICAgICAgICAgICBjbG9zZXN0RWRnZUIgPSB0bXA7XG5cdFxuXHQgICAgICAgICAgICB0bXAgPSBzaGFwZUE7XG5cdCAgICAgICAgICAgIHNoYXBlQSA9IHNoYXBlQjtcblx0ICAgICAgICAgICAgc2hhcGVCID0gdG1wO1xuXHRcblx0ICAgICAgICAgICAgdG1wID0gb2Zmc2V0QTtcblx0ICAgICAgICAgICAgb2Zmc2V0QSA9IG9mZnNldEI7XG5cdCAgICAgICAgICAgIG9mZnNldEIgPSB0bXA7XG5cdFxuXHQgICAgICAgICAgICB0bXAgPSBhbmdsZUE7XG5cdCAgICAgICAgICAgIGFuZ2xlQSA9IGFuZ2xlQjtcblx0ICAgICAgICAgICAgYW5nbGVCID0gdG1wO1xuXHRcblx0ICAgICAgICAgICAgdG1wID0gYm9keUE7XG5cdCAgICAgICAgICAgIGJvZHlBID0gYm9keUI7XG5cdCAgICAgICAgICAgIGJvZHlCID0gdG1wO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgLy8gTG9vcCBvdmVyIDIgcG9pbnRzIGluIGNvbnZleCBCXG5cdCAgICAgICAgZm9yKHZhciBqPWNsb3Nlc3RFZGdlQjsgajxjbG9zZXN0RWRnZUIrMjsgaisrKXtcblx0XG5cdCAgICAgICAgICAgIC8vIEdldCB3b3JsZCBwb2ludFxuXHQgICAgICAgICAgICB2YXIgdiA9IHNoYXBlQi52ZXJ0aWNlc1soaitzaGFwZUIudmVydGljZXMubGVuZ3RoKSVzaGFwZUIudmVydGljZXMubGVuZ3RoXTtcblx0ICAgICAgICAgICAgdmVjMi5yb3RhdGUod29ybGRQb2ludCwgdiwgYW5nbGVCKTtcblx0ICAgICAgICAgICAgYWRkKHdvcmxkUG9pbnQsIHdvcmxkUG9pbnQsIG9mZnNldEIpO1xuXHRcblx0ICAgICAgICAgICAgdmFyIGluc2lkZU51bUVkZ2VzID0gMDtcblx0XG5cdCAgICAgICAgICAgIC8vIExvb3Agb3ZlciB0aGUgMyBjbG9zZXN0IGVkZ2VzIGluIGNvbnZleCBBXG5cdCAgICAgICAgICAgIGZvcih2YXIgaT1jbG9zZXN0RWRnZUEtMTsgaTxjbG9zZXN0RWRnZUErMjsgaSsrKXtcblx0XG5cdCAgICAgICAgICAgICAgICB2YXIgdjAgPSBzaGFwZUEudmVydGljZXNbKGkgICtzaGFwZUEudmVydGljZXMubGVuZ3RoKSVzaGFwZUEudmVydGljZXMubGVuZ3RoXSxcblx0ICAgICAgICAgICAgICAgICAgICB2MSA9IHNoYXBlQS52ZXJ0aWNlc1soaSsxK3NoYXBlQS52ZXJ0aWNlcy5sZW5ndGgpJXNoYXBlQS52ZXJ0aWNlcy5sZW5ndGhdO1xuXHRcblx0ICAgICAgICAgICAgICAgIC8vIENvbnN0cnVjdCB0aGUgZWRnZVxuXHQgICAgICAgICAgICAgICAgdmVjMi5yb3RhdGUod29ybGRQb2ludDAsIHYwLCBhbmdsZUEpO1xuXHQgICAgICAgICAgICAgICAgdmVjMi5yb3RhdGUod29ybGRQb2ludDEsIHYxLCBhbmdsZUEpO1xuXHQgICAgICAgICAgICAgICAgYWRkKHdvcmxkUG9pbnQwLCB3b3JsZFBvaW50MCwgb2Zmc2V0QSk7XG5cdCAgICAgICAgICAgICAgICBhZGQod29ybGRQb2ludDEsIHdvcmxkUG9pbnQxLCBvZmZzZXRBKTtcblx0XG5cdCAgICAgICAgICAgICAgICBzdWIod29ybGRFZGdlLCB3b3JsZFBvaW50MSwgd29ybGRQb2ludDApO1xuXHRcblx0ICAgICAgICAgICAgICAgIHZlYzIucm90YXRlOTBjdyh3b3JsZE5vcm1hbCwgd29ybGRFZGdlKTsgLy8gTm9ybWFsIHBvaW50cyBvdXQgb2YgY29udmV4IDFcblx0ICAgICAgICAgICAgICAgIHZlYzIubm9ybWFsaXplKHdvcmxkTm9ybWFsLHdvcmxkTm9ybWFsKTtcblx0XG5cdCAgICAgICAgICAgICAgICBzdWIoZGlzdCwgd29ybGRQb2ludCwgd29ybGRQb2ludDApO1xuXHRcblx0ICAgICAgICAgICAgICAgIHZhciBkID0gZG90KHdvcmxkTm9ybWFsLGRpc3QpO1xuXHRcblx0ICAgICAgICAgICAgICAgIGlmKChpID09PSBjbG9zZXN0RWRnZUEgJiYgZCA8PSBwcmVjaXNpb24pIHx8IChpICE9PSBjbG9zZXN0RWRnZUEgJiYgZCA8PSAwKSl7XG5cdCAgICAgICAgICAgICAgICAgICAgaW5zaWRlTnVtRWRnZXMrKztcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgaWYoaW5zaWRlTnVtRWRnZXMgPj0gMyl7XG5cdFxuXHQgICAgICAgICAgICAgICAgaWYoanVzdFRlc3Qpe1xuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgICAgIC8vIHdvcmxkUG9pbnQgd2FzIG9uIHRoZSBcImluc2lkZVwiIHNpZGUgb2YgZWFjaCBvZiB0aGUgMyBjaGVja2VkIGVkZ2VzLlxuXHQgICAgICAgICAgICAgICAgLy8gUHJvamVjdCBpdCB0byB0aGUgY2VudGVyIGVkZ2UgYW5kIHVzZSB0aGUgcHJvamVjdGlvbiBkaXJlY3Rpb24gYXMgbm9ybWFsXG5cdFxuXHQgICAgICAgICAgICAgICAgLy8gQ3JlYXRlIGNvbnRhY3Rcblx0ICAgICAgICAgICAgICAgIHZhciBjID0gdGhpcy5jcmVhdGVDb250YWN0RXF1YXRpb24oYm9keUEsYm9keUIsc2hhcGVBLHNoYXBlQik7XG5cdCAgICAgICAgICAgICAgICBudW1Db250YWN0cysrO1xuXHRcblx0ICAgICAgICAgICAgICAgIC8vIEdldCBjZW50ZXIgZWRnZSBmcm9tIGJvZHkgQVxuXHQgICAgICAgICAgICAgICAgdmFyIHYwID0gc2hhcGVBLnZlcnRpY2VzWyhjbG9zZXN0RWRnZUEpICAgJSBzaGFwZUEudmVydGljZXMubGVuZ3RoXSxcblx0ICAgICAgICAgICAgICAgICAgICB2MSA9IHNoYXBlQS52ZXJ0aWNlc1soY2xvc2VzdEVkZ2VBKzEpICUgc2hhcGVBLnZlcnRpY2VzLmxlbmd0aF07XG5cdFxuXHQgICAgICAgICAgICAgICAgLy8gQ29uc3RydWN0IHRoZSBlZGdlXG5cdCAgICAgICAgICAgICAgICB2ZWMyLnJvdGF0ZSh3b3JsZFBvaW50MCwgdjAsIGFuZ2xlQSk7XG5cdCAgICAgICAgICAgICAgICB2ZWMyLnJvdGF0ZSh3b3JsZFBvaW50MSwgdjEsIGFuZ2xlQSk7XG5cdCAgICAgICAgICAgICAgICBhZGQod29ybGRQb2ludDAsIHdvcmxkUG9pbnQwLCBvZmZzZXRBKTtcblx0ICAgICAgICAgICAgICAgIGFkZCh3b3JsZFBvaW50MSwgd29ybGRQb2ludDEsIG9mZnNldEEpO1xuXHRcblx0ICAgICAgICAgICAgICAgIHN1Yih3b3JsZEVkZ2UsIHdvcmxkUG9pbnQxLCB3b3JsZFBvaW50MCk7XG5cdFxuXHQgICAgICAgICAgICAgICAgdmVjMi5yb3RhdGU5MGN3KGMubm9ybWFsQSwgd29ybGRFZGdlKTsgLy8gTm9ybWFsIHBvaW50cyBvdXQgb2YgY29udmV4IEFcblx0ICAgICAgICAgICAgICAgIHZlYzIubm9ybWFsaXplKGMubm9ybWFsQSxjLm5vcm1hbEEpO1xuXHRcblx0ICAgICAgICAgICAgICAgIHN1YihkaXN0LCB3b3JsZFBvaW50LCB3b3JsZFBvaW50MCk7IC8vIEZyb20gZWRnZSBwb2ludCB0byB0aGUgcGVuZXRyYXRpbmcgcG9pbnRcblx0ICAgICAgICAgICAgICAgIHZhciBkID0gZG90KGMubm9ybWFsQSxkaXN0KTsgICAgICAgICAgICAgLy8gUGVuZXRyYXRpb25cblx0ICAgICAgICAgICAgICAgIHZlYzIuc2NhbGUocGVuZXRyYXRpb25WZWMsIGMubm9ybWFsQSwgZCk7ICAgICAvLyBWZWN0b3IgcGVuZXRyYXRpb25cblx0XG5cdCAgICAgICAgICAgICAgICBzdWIoYy5jb250YWN0UG9pbnRBLCB3b3JsZFBvaW50LCBvZmZzZXRBKTtcblx0ICAgICAgICAgICAgICAgIHN1YihjLmNvbnRhY3RQb2ludEEsIGMuY29udGFjdFBvaW50QSwgcGVuZXRyYXRpb25WZWMpO1xuXHQgICAgICAgICAgICAgICAgYWRkKGMuY29udGFjdFBvaW50QSwgYy5jb250YWN0UG9pbnRBLCBvZmZzZXRBKTtcblx0ICAgICAgICAgICAgICAgIHN1YihjLmNvbnRhY3RQb2ludEEsIGMuY29udGFjdFBvaW50QSwgYm9keUEucG9zaXRpb24pO1xuXHRcblx0ICAgICAgICAgICAgICAgIHN1YihjLmNvbnRhY3RQb2ludEIsIHdvcmxkUG9pbnQsIG9mZnNldEIpO1xuXHQgICAgICAgICAgICAgICAgYWRkKGMuY29udGFjdFBvaW50QiwgYy5jb250YWN0UG9pbnRCLCBvZmZzZXRCKTtcblx0ICAgICAgICAgICAgICAgIHN1YihjLmNvbnRhY3RQb2ludEIsIGMuY29udGFjdFBvaW50QiwgYm9keUIucG9zaXRpb24pO1xuXHRcblx0ICAgICAgICAgICAgICAgIHRoaXMuY29udGFjdEVxdWF0aW9ucy5wdXNoKGMpO1xuXHRcblx0ICAgICAgICAgICAgICAgIC8vIFRvZG8gcmVkdWNlIHRvIDEgZnJpY3Rpb24gZXF1YXRpb24gaWYgd2UgaGF2ZSAyIGNvbnRhY3QgcG9pbnRzXG5cdCAgICAgICAgICAgICAgICBpZighdGhpcy5lbmFibGVGcmljdGlvblJlZHVjdGlvbil7XG5cdCAgICAgICAgICAgICAgICAgICAgaWYodGhpcy5lbmFibGVGcmljdGlvbil7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZnJpY3Rpb25FcXVhdGlvbnMucHVzaCh0aGlzLmNyZWF0ZUZyaWN0aW9uRnJvbUNvbnRhY3QoYykpO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICBpZih0aGlzLmVuYWJsZUZyaWN0aW9uUmVkdWN0aW9uKXtcblx0ICAgICAgICBpZih0aGlzLmVuYWJsZUZyaWN0aW9uICYmIG51bUNvbnRhY3RzKXtcblx0ICAgICAgICAgICAgdGhpcy5mcmljdGlvbkVxdWF0aW9ucy5wdXNoKHRoaXMuY3JlYXRlRnJpY3Rpb25Gcm9tQXZlcmFnZShudW1Db250YWN0cykpO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gbnVtQ29udGFjdHM7XG5cdH07XG5cdFxuXHQvLyAucHJvamVjdENvbnZleCBpcyBjYWxsZWQgYnkgb3RoZXIgZnVuY3Rpb25zLCBuZWVkIGxvY2FsIHRtcCB2ZWN0b3JzXG5cdHZhciBwY29hX3RtcDEgPSB2ZWMyLmZyb21WYWx1ZXMoMCwwKTtcblx0XG5cdC8qKlxuXHQgKiBQcm9qZWN0IGEgQ29udmV4IG9udG8gYSB3b3JsZC1vcmllbnRlZCBheGlzXG5cdCAqIEBtZXRob2QgcHJvamVjdENvbnZleE9udG9BeGlzXG5cdCAqIEBzdGF0aWNcblx0ICogQHBhcmFtICB7Q29udmV4fSBjb252ZXhTaGFwZVxuXHQgKiBAcGFyYW0gIHtBcnJheX0gY29udmV4T2Zmc2V0XG5cdCAqIEBwYXJhbSAge051bWJlcn0gY29udmV4QW5nbGVcblx0ICogQHBhcmFtICB7QXJyYXl9IHdvcmxkQXhpc1xuXHQgKiBAcGFyYW0gIHtBcnJheX0gcmVzdWx0XG5cdCAqL1xuXHROYXJyb3dwaGFzZS5wcm9qZWN0Q29udmV4T250b0F4aXMgPSBmdW5jdGlvbihjb252ZXhTaGFwZSwgY29udmV4T2Zmc2V0LCBjb252ZXhBbmdsZSwgd29ybGRBeGlzLCByZXN1bHQpe1xuXHQgICAgdmFyIG1heD1udWxsLFxuXHQgICAgICAgIG1pbj1udWxsLFxuXHQgICAgICAgIHYsXG5cdCAgICAgICAgdmFsdWUsXG5cdCAgICAgICAgbG9jYWxBeGlzID0gcGNvYV90bXAxO1xuXHRcblx0ICAgIC8vIENvbnZlcnQgdGhlIGF4aXMgdG8gbG9jYWwgY29vcmRzIG9mIHRoZSBib2R5XG5cdCAgICB2ZWMyLnJvdGF0ZShsb2NhbEF4aXMsIHdvcmxkQXhpcywgLWNvbnZleEFuZ2xlKTtcblx0XG5cdCAgICAvLyBHZXQgcHJvamVjdGVkIHBvc2l0aW9uIG9mIGFsbCB2ZXJ0aWNlc1xuXHQgICAgZm9yKHZhciBpPTA7IGk8Y29udmV4U2hhcGUudmVydGljZXMubGVuZ3RoOyBpKyspe1xuXHQgICAgICAgIHYgPSBjb252ZXhTaGFwZS52ZXJ0aWNlc1tpXTtcblx0ICAgICAgICB2YWx1ZSA9IGRvdCh2LGxvY2FsQXhpcyk7XG5cdCAgICAgICAgaWYobWF4ID09PSBudWxsIHx8IHZhbHVlID4gbWF4KXtcblx0ICAgICAgICAgICAgbWF4ID0gdmFsdWU7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmKG1pbiA9PT0gbnVsbCB8fCB2YWx1ZSA8IG1pbil7XG5cdCAgICAgICAgICAgIG1pbiA9IHZhbHVlO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICBpZihtaW4gPiBtYXgpe1xuXHQgICAgICAgIHZhciB0ID0gbWluO1xuXHQgICAgICAgIG1pbiA9IG1heDtcblx0ICAgICAgICBtYXggPSB0O1xuXHQgICAgfVxuXHRcblx0ICAgIC8vIFByb2plY3QgdGhlIHBvc2l0aW9uIG9mIHRoZSBib2R5IG9udG8gdGhlIGF4aXMgLSBuZWVkIHRvIGFkZCB0aGlzIHRvIHRoZSByZXN1bHRcblx0ICAgIHZhciBvZmZzZXQgPSBkb3QoY29udmV4T2Zmc2V0LCB3b3JsZEF4aXMpO1xuXHRcblx0ICAgIHZlYzIuc2V0KCByZXN1bHQsIG1pbiArIG9mZnNldCwgbWF4ICsgb2Zmc2V0KTtcblx0fTtcblx0XG5cdC8vIC5maW5kU2VwYXJhdGluZ0F4aXMgaXMgY2FsbGVkIGJ5IG90aGVyIGZ1bmN0aW9ucywgbmVlZCBsb2NhbCB0bXAgdmVjdG9yc1xuXHR2YXIgZnNhX3RtcDEgPSB2ZWMyLmZyb21WYWx1ZXMoMCwwKVxuXHQsICAgZnNhX3RtcDIgPSB2ZWMyLmZyb21WYWx1ZXMoMCwwKVxuXHQsICAgZnNhX3RtcDMgPSB2ZWMyLmZyb21WYWx1ZXMoMCwwKVxuXHQsICAgZnNhX3RtcDQgPSB2ZWMyLmZyb21WYWx1ZXMoMCwwKVxuXHQsICAgZnNhX3RtcDUgPSB2ZWMyLmZyb21WYWx1ZXMoMCwwKVxuXHQsICAgZnNhX3RtcDYgPSB2ZWMyLmZyb21WYWx1ZXMoMCwwKTtcblx0XG5cdC8qKlxuXHQgKiBGaW5kIGEgc2VwYXJhdGluZyBheGlzIGJldHdlZW4gdGhlIHNoYXBlcywgdGhhdCBtYXhpbWl6ZXMgdGhlIHNlcGFyYXRpbmcgZGlzdGFuY2UgYmV0d2VlbiB0aGVtLlxuXHQgKiBAbWV0aG9kIGZpbmRTZXBhcmF0aW5nQXhpc1xuXHQgKiBAc3RhdGljXG5cdCAqIEBwYXJhbSAge0NvbnZleH0gICAgIGMxXG5cdCAqIEBwYXJhbSAge0FycmF5fSAgICAgIG9mZnNldDFcblx0ICogQHBhcmFtICB7TnVtYmVyfSAgICAgYW5nbGUxXG5cdCAqIEBwYXJhbSAge0NvbnZleH0gICAgIGMyXG5cdCAqIEBwYXJhbSAge0FycmF5fSAgICAgIG9mZnNldDJcblx0ICogQHBhcmFtICB7TnVtYmVyfSAgICAgYW5nbGUyXG5cdCAqIEBwYXJhbSAge0FycmF5fSAgICAgIHNlcEF4aXMgICAgIFRoZSByZXN1bHRpbmcgYXhpc1xuXHQgKiBAcmV0dXJuIHtCb29sZWFufSAgICAgICAgICAgICAgICBXaGV0aGVyIHRoZSBheGlzIGNvdWxkIGJlIGZvdW5kLlxuXHQgKi9cblx0TmFycm93cGhhc2UuZmluZFNlcGFyYXRpbmdBeGlzID0gZnVuY3Rpb24oYzEsb2Zmc2V0MSxhbmdsZTEsYzIsb2Zmc2V0MixhbmdsZTIsc2VwQXhpcyl7XG5cdCAgICB2YXIgbWF4RGlzdCA9IG51bGwsXG5cdCAgICAgICAgb3ZlcmxhcCA9IGZhbHNlLFxuXHQgICAgICAgIGZvdW5kID0gZmFsc2UsXG5cdCAgICAgICAgZWRnZSA9IGZzYV90bXAxLFxuXHQgICAgICAgIHdvcmxkUG9pbnQwID0gZnNhX3RtcDIsXG5cdCAgICAgICAgd29ybGRQb2ludDEgPSBmc2FfdG1wMyxcblx0ICAgICAgICBub3JtYWwgPSBmc2FfdG1wNCxcblx0ICAgICAgICBzcGFuMSA9IGZzYV90bXA1LFxuXHQgICAgICAgIHNwYW4yID0gZnNhX3RtcDY7XG5cdFxuXHQgICAgaWYoYzEgaW5zdGFuY2VvZiBCb3ggJiYgYzIgaW5zdGFuY2VvZiBCb3gpe1xuXHRcblx0ICAgICAgICBmb3IodmFyIGo9MDsgaiE9PTI7IGorKyl7XG5cdCAgICAgICAgICAgIHZhciBjID0gYzEsXG5cdCAgICAgICAgICAgICAgICBhbmdsZSA9IGFuZ2xlMTtcblx0ICAgICAgICAgICAgaWYoaj09PTEpe1xuXHQgICAgICAgICAgICAgICAgYyA9IGMyO1xuXHQgICAgICAgICAgICAgICAgYW5nbGUgPSBhbmdsZTI7XG5cdCAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgIGZvcih2YXIgaT0wOyBpIT09MjsgaSsrKXtcblx0XG5cdCAgICAgICAgICAgICAgICAvLyBHZXQgdGhlIHdvcmxkIGVkZ2Vcblx0ICAgICAgICAgICAgICAgIGlmKGkgPT09IDApe1xuXHQgICAgICAgICAgICAgICAgICAgIHZlYzIuc2V0KG5vcm1hbCwgMCwgMSk7XG5cdCAgICAgICAgICAgICAgICB9IGVsc2UgaWYoaSA9PT0gMSkge1xuXHQgICAgICAgICAgICAgICAgICAgIHZlYzIuc2V0KG5vcm1hbCwgMSwgMCk7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICBpZihhbmdsZSAhPT0gMCl7XG5cdCAgICAgICAgICAgICAgICAgICAgdmVjMi5yb3RhdGUobm9ybWFsLCBub3JtYWwsIGFuZ2xlKTtcblx0ICAgICAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgICAgICAvLyBQcm9qZWN0IGh1bGxzIG9udG8gdGhhdCBub3JtYWxcblx0ICAgICAgICAgICAgICAgIE5hcnJvd3BoYXNlLnByb2plY3RDb252ZXhPbnRvQXhpcyhjMSxvZmZzZXQxLGFuZ2xlMSxub3JtYWwsc3BhbjEpO1xuXHQgICAgICAgICAgICAgICAgTmFycm93cGhhc2UucHJvamVjdENvbnZleE9udG9BeGlzKGMyLG9mZnNldDIsYW5nbGUyLG5vcm1hbCxzcGFuMik7XG5cdFxuXHQgICAgICAgICAgICAgICAgLy8gT3JkZXIgYnkgc3BhbiBwb3NpdGlvblxuXHQgICAgICAgICAgICAgICAgdmFyIGE9c3BhbjEsXG5cdCAgICAgICAgICAgICAgICAgICAgYj1zcGFuMixcblx0ICAgICAgICAgICAgICAgICAgICBzd2FwcGVkID0gZmFsc2U7XG5cdCAgICAgICAgICAgICAgICBpZihzcGFuMVswXSA+IHNwYW4yWzBdKXtcblx0ICAgICAgICAgICAgICAgICAgICBiPXNwYW4xO1xuXHQgICAgICAgICAgICAgICAgICAgIGE9c3BhbjI7XG5cdCAgICAgICAgICAgICAgICAgICAgc3dhcHBlZCA9IHRydWU7XG5cdCAgICAgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICAgICAgLy8gR2V0IHNlcGFyYXRpbmcgZGlzdGFuY2Vcblx0ICAgICAgICAgICAgICAgIHZhciBkaXN0ID0gYlswXSAtIGFbMV07XG5cdCAgICAgICAgICAgICAgICBvdmVybGFwID0gKGRpc3QgPD0gMCk7XG5cdFxuXHQgICAgICAgICAgICAgICAgaWYobWF4RGlzdD09PW51bGwgfHwgZGlzdCA+IG1heERpc3Qpe1xuXHQgICAgICAgICAgICAgICAgICAgIHZlYzIuY29weShzZXBBeGlzLCBub3JtYWwpO1xuXHQgICAgICAgICAgICAgICAgICAgIG1heERpc3QgPSBkaXN0O1xuXHQgICAgICAgICAgICAgICAgICAgIGZvdW5kID0gb3ZlcmxhcDtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0XG5cdCAgICB9IGVsc2Uge1xuXHRcblx0ICAgICAgICBmb3IodmFyIGo9MDsgaiE9PTI7IGorKyl7XG5cdCAgICAgICAgICAgIHZhciBjID0gYzEsXG5cdCAgICAgICAgICAgICAgICBhbmdsZSA9IGFuZ2xlMTtcblx0ICAgICAgICAgICAgaWYoaj09PTEpe1xuXHQgICAgICAgICAgICAgICAgYyA9IGMyO1xuXHQgICAgICAgICAgICAgICAgYW5nbGUgPSBhbmdsZTI7XG5cdCAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgIGZvcih2YXIgaT0wOyBpIT09Yy52ZXJ0aWNlcy5sZW5ndGg7IGkrKyl7XG5cdCAgICAgICAgICAgICAgICAvLyBHZXQgdGhlIHdvcmxkIGVkZ2Vcblx0ICAgICAgICAgICAgICAgIHZlYzIucm90YXRlKHdvcmxkUG9pbnQwLCBjLnZlcnRpY2VzW2ldLCBhbmdsZSk7XG5cdCAgICAgICAgICAgICAgICB2ZWMyLnJvdGF0ZSh3b3JsZFBvaW50MSwgYy52ZXJ0aWNlc1soaSsxKSVjLnZlcnRpY2VzLmxlbmd0aF0sIGFuZ2xlKTtcblx0XG5cdCAgICAgICAgICAgICAgICBzdWIoZWRnZSwgd29ybGRQb2ludDEsIHdvcmxkUG9pbnQwKTtcblx0XG5cdCAgICAgICAgICAgICAgICAvLyBHZXQgbm9ybWFsIC0ganVzdCByb3RhdGUgOTAgZGVncmVlcyBzaW5jZSB2ZXJ0aWNlcyBhcmUgZ2l2ZW4gaW4gQ0NXXG5cdCAgICAgICAgICAgICAgICB2ZWMyLnJvdGF0ZTkwY3cobm9ybWFsLCBlZGdlKTtcblx0ICAgICAgICAgICAgICAgIHZlYzIubm9ybWFsaXplKG5vcm1hbCxub3JtYWwpO1xuXHRcblx0ICAgICAgICAgICAgICAgIC8vIFByb2plY3QgaHVsbHMgb250byB0aGF0IG5vcm1hbFxuXHQgICAgICAgICAgICAgICAgTmFycm93cGhhc2UucHJvamVjdENvbnZleE9udG9BeGlzKGMxLG9mZnNldDEsYW5nbGUxLG5vcm1hbCxzcGFuMSk7XG5cdCAgICAgICAgICAgICAgICBOYXJyb3dwaGFzZS5wcm9qZWN0Q29udmV4T250b0F4aXMoYzIsb2Zmc2V0MixhbmdsZTIsbm9ybWFsLHNwYW4yKTtcblx0XG5cdCAgICAgICAgICAgICAgICAvLyBPcmRlciBieSBzcGFuIHBvc2l0aW9uXG5cdCAgICAgICAgICAgICAgICB2YXIgYT1zcGFuMSxcblx0ICAgICAgICAgICAgICAgICAgICBiPXNwYW4yLFxuXHQgICAgICAgICAgICAgICAgICAgIHN3YXBwZWQgPSBmYWxzZTtcblx0ICAgICAgICAgICAgICAgIGlmKHNwYW4xWzBdID4gc3BhbjJbMF0pe1xuXHQgICAgICAgICAgICAgICAgICAgIGI9c3BhbjE7XG5cdCAgICAgICAgICAgICAgICAgICAgYT1zcGFuMjtcblx0ICAgICAgICAgICAgICAgICAgICBzd2FwcGVkID0gdHJ1ZTtcblx0ICAgICAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgICAgICAvLyBHZXQgc2VwYXJhdGluZyBkaXN0YW5jZVxuXHQgICAgICAgICAgICAgICAgdmFyIGRpc3QgPSBiWzBdIC0gYVsxXTtcblx0ICAgICAgICAgICAgICAgIG92ZXJsYXAgPSAoZGlzdCA8PSAwKTtcblx0XG5cdCAgICAgICAgICAgICAgICBpZihtYXhEaXN0PT09bnVsbCB8fCBkaXN0ID4gbWF4RGlzdCl7XG5cdCAgICAgICAgICAgICAgICAgICAgdmVjMi5jb3B5KHNlcEF4aXMsIG5vcm1hbCk7XG5cdCAgICAgICAgICAgICAgICAgICAgbWF4RGlzdCA9IGRpc3Q7XG5cdCAgICAgICAgICAgICAgICAgICAgZm91bmQgPSBvdmVybGFwO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHRcblx0XG5cdCAgICAvKlxuXHQgICAgLy8gTmVlZHMgdG8gYmUgdGVzdGVkIHNvbWUgbW9yZVxuXHQgICAgZm9yKHZhciBqPTA7IGohPT0yOyBqKyspe1xuXHQgICAgICAgIHZhciBjID0gYzEsXG5cdCAgICAgICAgICAgIGFuZ2xlID0gYW5nbGUxO1xuXHQgICAgICAgIGlmKGo9PT0xKXtcblx0ICAgICAgICAgICAgYyA9IGMyO1xuXHQgICAgICAgICAgICBhbmdsZSA9IGFuZ2xlMjtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIGZvcih2YXIgaT0wOyBpIT09Yy5heGVzLmxlbmd0aDsgaSsrKXtcblx0XG5cdCAgICAgICAgICAgIHZhciBub3JtYWwgPSBjLmF4ZXNbaV07XG5cdFxuXHQgICAgICAgICAgICAvLyBQcm9qZWN0IGh1bGxzIG9udG8gdGhhdCBub3JtYWxcblx0ICAgICAgICAgICAgTmFycm93cGhhc2UucHJvamVjdENvbnZleE9udG9BeGlzKGMxLCBvZmZzZXQxLCBhbmdsZTEsIG5vcm1hbCwgc3BhbjEpO1xuXHQgICAgICAgICAgICBOYXJyb3dwaGFzZS5wcm9qZWN0Q29udmV4T250b0F4aXMoYzIsIG9mZnNldDIsIGFuZ2xlMiwgbm9ybWFsLCBzcGFuMik7XG5cdFxuXHQgICAgICAgICAgICAvLyBPcmRlciBieSBzcGFuIHBvc2l0aW9uXG5cdCAgICAgICAgICAgIHZhciBhPXNwYW4xLFxuXHQgICAgICAgICAgICAgICAgYj1zcGFuMixcblx0ICAgICAgICAgICAgICAgIHN3YXBwZWQgPSBmYWxzZTtcblx0ICAgICAgICAgICAgaWYoc3BhbjFbMF0gPiBzcGFuMlswXSl7XG5cdCAgICAgICAgICAgICAgICBiPXNwYW4xO1xuXHQgICAgICAgICAgICAgICAgYT1zcGFuMjtcblx0ICAgICAgICAgICAgICAgIHN3YXBwZWQgPSB0cnVlO1xuXHQgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICAvLyBHZXQgc2VwYXJhdGluZyBkaXN0YW5jZVxuXHQgICAgICAgICAgICB2YXIgZGlzdCA9IGJbMF0gLSBhWzFdO1xuXHQgICAgICAgICAgICBvdmVybGFwID0gKGRpc3QgPD0gTmFycm93cGhhc2UuY29udmV4UHJlY2lzaW9uKTtcblx0XG5cdCAgICAgICAgICAgIGlmKG1heERpc3Q9PT1udWxsIHx8IGRpc3QgPiBtYXhEaXN0KXtcblx0ICAgICAgICAgICAgICAgIHZlYzIuY29weShzZXBBeGlzLCBub3JtYWwpO1xuXHQgICAgICAgICAgICAgICAgbWF4RGlzdCA9IGRpc3Q7XG5cdCAgICAgICAgICAgICAgICBmb3VuZCA9IG92ZXJsYXA7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICAqL1xuXHRcblx0ICAgIHJldHVybiBmb3VuZDtcblx0fTtcblx0XG5cdC8vIC5nZXRDbG9zZXN0RWRnZSBpcyBjYWxsZWQgYnkgb3RoZXIgZnVuY3Rpb25zLCBuZWVkIGxvY2FsIHRtcCB2ZWN0b3JzXG5cdHZhciBnY2VfdG1wMSA9IHZlYzIuZnJvbVZhbHVlcygwLDApXG5cdCwgICBnY2VfdG1wMiA9IHZlYzIuZnJvbVZhbHVlcygwLDApXG5cdCwgICBnY2VfdG1wMyA9IHZlYzIuZnJvbVZhbHVlcygwLDApO1xuXHRcblx0LyoqXG5cdCAqIEdldCB0aGUgZWRnZSB0aGF0IGhhcyBhIG5vcm1hbCBjbG9zZXN0IHRvIGFuIGF4aXMuXG5cdCAqIEBtZXRob2QgZ2V0Q2xvc2VzdEVkZ2Vcblx0ICogQHN0YXRpY1xuXHQgKiBAcGFyYW0gIHtDb252ZXh9ICAgICBjXG5cdCAqIEBwYXJhbSAge051bWJlcn0gICAgIGFuZ2xlXG5cdCAqIEBwYXJhbSAge0FycmF5fSAgICAgIGF4aXNcblx0ICogQHBhcmFtICB7Qm9vbGVhbn0gICAgZmxpcFxuXHQgKiBAcmV0dXJuIHtOdW1iZXJ9ICAgICAgICAgICAgIEluZGV4IG9mIHRoZSBlZGdlIHRoYXQgaXMgY2xvc2VzdC4gVGhpcyBpbmRleCBhbmQgdGhlIG5leHQgc3BhbnMgdGhlIHJlc3VsdGluZyBlZGdlLiBSZXR1cm5zIC0xIGlmIGZhaWxlZC5cblx0ICovXG5cdE5hcnJvd3BoYXNlLmdldENsb3Nlc3RFZGdlID0gZnVuY3Rpb24oYyxhbmdsZSxheGlzLGZsaXApe1xuXHQgICAgdmFyIGxvY2FsQXhpcyA9IGdjZV90bXAxLFxuXHQgICAgICAgIGVkZ2UgPSBnY2VfdG1wMixcblx0ICAgICAgICBub3JtYWwgPSBnY2VfdG1wMztcblx0XG5cdCAgICAvLyBDb252ZXJ0IHRoZSBheGlzIHRvIGxvY2FsIGNvb3JkcyBvZiB0aGUgYm9keVxuXHQgICAgdmVjMi5yb3RhdGUobG9jYWxBeGlzLCBheGlzLCAtYW5nbGUpO1xuXHQgICAgaWYoZmxpcCl7XG5cdCAgICAgICAgdmVjMi5zY2FsZShsb2NhbEF4aXMsbG9jYWxBeGlzLC0xKTtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgY2xvc2VzdEVkZ2UgPSAtMSxcblx0ICAgICAgICBOID0gYy52ZXJ0aWNlcy5sZW5ndGgsXG5cdCAgICAgICAgbWF4RG90ID0gLTE7XG5cdCAgICBmb3IodmFyIGk9MDsgaSE9PU47IGkrKyl7XG5cdCAgICAgICAgLy8gR2V0IHRoZSBlZGdlXG5cdCAgICAgICAgc3ViKGVkZ2UsIGMudmVydGljZXNbKGkrMSklTl0sIGMudmVydGljZXNbaSVOXSk7XG5cdFxuXHQgICAgICAgIC8vIEdldCBub3JtYWwgLSBqdXN0IHJvdGF0ZSA5MCBkZWdyZWVzIHNpbmNlIHZlcnRpY2VzIGFyZSBnaXZlbiBpbiBDQ1dcblx0ICAgICAgICB2ZWMyLnJvdGF0ZTkwY3cobm9ybWFsLCBlZGdlKTtcblx0ICAgICAgICB2ZWMyLm5vcm1hbGl6ZShub3JtYWwsbm9ybWFsKTtcblx0XG5cdCAgICAgICAgdmFyIGQgPSBkb3Qobm9ybWFsLGxvY2FsQXhpcyk7XG5cdCAgICAgICAgaWYoY2xvc2VzdEVkZ2UgPT09IC0xIHx8IGQgPiBtYXhEb3Qpe1xuXHQgICAgICAgICAgICBjbG9zZXN0RWRnZSA9IGkgJSBOO1xuXHQgICAgICAgICAgICBtYXhEb3QgPSBkO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gY2xvc2VzdEVkZ2U7XG5cdH07XG5cdFxuXHR2YXIgY2lyY2xlSGVpZ2h0ZmllbGRfY2FuZGlkYXRlID0gdmVjMi5jcmVhdGUoKSxcblx0ICAgIGNpcmNsZUhlaWdodGZpZWxkX2Rpc3QgPSB2ZWMyLmNyZWF0ZSgpLFxuXHQgICAgY2lyY2xlSGVpZ2h0ZmllbGRfdjAgPSB2ZWMyLmNyZWF0ZSgpLFxuXHQgICAgY2lyY2xlSGVpZ2h0ZmllbGRfdjEgPSB2ZWMyLmNyZWF0ZSgpLFxuXHQgICAgY2lyY2xlSGVpZ2h0ZmllbGRfbWluQ2FuZGlkYXRlID0gdmVjMi5jcmVhdGUoKSxcblx0ICAgIGNpcmNsZUhlaWdodGZpZWxkX3dvcmxkTm9ybWFsID0gdmVjMi5jcmVhdGUoKSxcblx0ICAgIGNpcmNsZUhlaWdodGZpZWxkX21pbkNhbmRpZGF0ZU5vcm1hbCA9IHZlYzIuY3JlYXRlKCk7XG5cdFxuXHQvKipcblx0ICogQG1ldGhvZCBjaXJjbGVIZWlnaHRmaWVsZFxuXHQgKiBAcGFyYW0gIHtCb2R5fSAgICAgICAgICAgYmlcblx0ICogQHBhcmFtICB7Q2lyY2xlfSAgICAgICAgIHNpXG5cdCAqIEBwYXJhbSAge0FycmF5fSAgICAgICAgICB4aVxuXHQgKiBAcGFyYW0gIHtCb2R5fSAgICAgICAgICAgYmpcblx0ICogQHBhcmFtICB7SGVpZ2h0ZmllbGR9ICAgIHNqXG5cdCAqIEBwYXJhbSAge0FycmF5fSAgICAgICAgICB4alxuXHQgKiBAcGFyYW0gIHtOdW1iZXJ9ICAgICAgICAgYWpcblx0ICovXG5cdE5hcnJvd3BoYXNlLnByb3RvdHlwZVtTaGFwZS5DSVJDTEUgfCBTaGFwZS5IRUlHSFRGSUVMRF0gPVxuXHROYXJyb3dwaGFzZS5wcm90b3R5cGUuY2lyY2xlSGVpZ2h0ZmllbGQgPSBmdW5jdGlvbiggY2lyY2xlQm9keSxjaXJjbGVTaGFwZSxjaXJjbGVQb3MsY2lyY2xlQW5nbGUsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZkJvZHksaGZTaGFwZSxoZlBvcyxoZkFuZ2xlLCBqdXN0VGVzdCwgcmFkaXVzICl7XG5cdCAgICB2YXIgZGF0YSA9IGhmU2hhcGUuaGVpZ2h0cyxcblx0ICAgICAgICByYWRpdXMgPSByYWRpdXMgfHwgY2lyY2xlU2hhcGUucmFkaXVzLFxuXHQgICAgICAgIHcgPSBoZlNoYXBlLmVsZW1lbnRXaWR0aCxcblx0ICAgICAgICBkaXN0ID0gY2lyY2xlSGVpZ2h0ZmllbGRfZGlzdCxcblx0ICAgICAgICBjYW5kaWRhdGUgPSBjaXJjbGVIZWlnaHRmaWVsZF9jYW5kaWRhdGUsXG5cdCAgICAgICAgbWluQ2FuZGlkYXRlID0gY2lyY2xlSGVpZ2h0ZmllbGRfbWluQ2FuZGlkYXRlLFxuXHQgICAgICAgIG1pbkNhbmRpZGF0ZU5vcm1hbCA9IGNpcmNsZUhlaWdodGZpZWxkX21pbkNhbmRpZGF0ZU5vcm1hbCxcblx0ICAgICAgICB3b3JsZE5vcm1hbCA9IGNpcmNsZUhlaWdodGZpZWxkX3dvcmxkTm9ybWFsLFxuXHQgICAgICAgIHYwID0gY2lyY2xlSGVpZ2h0ZmllbGRfdjAsXG5cdCAgICAgICAgdjEgPSBjaXJjbGVIZWlnaHRmaWVsZF92MTtcblx0XG5cdCAgICAvLyBHZXQgdGhlIGluZGV4IG9mIHRoZSBwb2ludHMgdG8gdGVzdCBhZ2FpbnN0XG5cdCAgICB2YXIgaWR4QSA9IE1hdGguZmxvb3IoIChjaXJjbGVQb3NbMF0gLSByYWRpdXMgLSBoZlBvc1swXSkgLyB3ICksXG5cdCAgICAgICAgaWR4QiA9IE1hdGguY2VpbCggIChjaXJjbGVQb3NbMF0gKyByYWRpdXMgLSBoZlBvc1swXSkgLyB3ICk7XG5cdFxuXHQgICAgLyppZihpZHhCIDwgMCB8fCBpZHhBID49IGRhdGEubGVuZ3RoKVxuXHQgICAgICAgIHJldHVybiBqdXN0VGVzdCA/IGZhbHNlIDogMDsqL1xuXHRcblx0ICAgIGlmKGlkeEEgPCAwKXtcblx0ICAgICAgICBpZHhBID0gMDtcblx0ICAgIH1cblx0ICAgIGlmKGlkeEIgPj0gZGF0YS5sZW5ndGgpe1xuXHQgICAgICAgIGlkeEIgPSBkYXRhLmxlbmd0aC0xO1xuXHQgICAgfVxuXHRcblx0ICAgIC8vIEdldCBtYXggYW5kIG1pblxuXHQgICAgdmFyIG1heCA9IGRhdGFbaWR4QV0sXG5cdCAgICAgICAgbWluID0gZGF0YVtpZHhCXTtcblx0ICAgIGZvcih2YXIgaT1pZHhBOyBpPGlkeEI7IGkrKyl7XG5cdCAgICAgICAgaWYoZGF0YVtpXSA8IG1pbil7XG5cdCAgICAgICAgICAgIG1pbiA9IGRhdGFbaV07XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmKGRhdGFbaV0gPiBtYXgpe1xuXHQgICAgICAgICAgICBtYXggPSBkYXRhW2ldO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICBpZihjaXJjbGVQb3NbMV0tcmFkaXVzID4gbWF4KXtcblx0ICAgICAgICByZXR1cm4ganVzdFRlc3QgPyBmYWxzZSA6IDA7XG5cdCAgICB9XG5cdFxuXHQgICAgLypcblx0ICAgIGlmKGNpcmNsZVBvc1sxXStyYWRpdXMgPCBtaW4pe1xuXHQgICAgICAgIC8vIEJlbG93IHRoZSBtaW5pbXVtIHBvaW50Li4uIFdlIGNhbiBqdXN0IGd1ZXNzLlxuXHQgICAgICAgIC8vIFRPRE9cblx0ICAgIH1cblx0ICAgICovXG5cdFxuXHQgICAgLy8gMS4gQ2hlY2sgc28gY2VudGVyIG9mIGNpcmNsZSBpcyBub3QgaW5zaWRlIHRoZSBmaWVsZC4gSWYgaXQgaXMsIHRoaXMgd29udCB3b3JrLi4uXG5cdCAgICAvLyAyLiBGb3IgZWFjaCBlZGdlXG5cdCAgICAvLyAyLiAxLiBHZXQgcG9pbnQgb24gY2lyY2xlIHRoYXQgaXMgY2xvc2VzdCB0byB0aGUgZWRnZSAoc2NhbGUgbm9ybWFsIHdpdGggLXJhZGl1cylcblx0ICAgIC8vIDIuIDIuIENoZWNrIGlmIHBvaW50IGlzIGluc2lkZS5cblx0XG5cdCAgICB2YXIgZm91bmQgPSBmYWxzZTtcblx0XG5cdCAgICAvLyBDaGVjayBhbGwgZWRnZXMgZmlyc3Rcblx0ICAgIGZvcih2YXIgaT1pZHhBOyBpPGlkeEI7IGkrKyl7XG5cdFxuXHQgICAgICAgIC8vIEdldCBwb2ludHNcblx0ICAgICAgICB2ZWMyLnNldCh2MCwgICAgIGkqdywgZGF0YVtpXSAgKTtcblx0ICAgICAgICB2ZWMyLnNldCh2MSwgKGkrMSkqdywgZGF0YVtpKzFdKTtcblx0ICAgICAgICB2ZWMyLmFkZCh2MCx2MCxoZlBvcyk7XG5cdCAgICAgICAgdmVjMi5hZGQodjEsdjEsaGZQb3MpO1xuXHRcblx0ICAgICAgICAvLyBHZXQgbm9ybWFsXG5cdCAgICAgICAgdmVjMi5zdWIod29ybGROb3JtYWwsIHYxLCB2MCk7XG5cdCAgICAgICAgdmVjMi5yb3RhdGUod29ybGROb3JtYWwsIHdvcmxkTm9ybWFsLCBNYXRoLlBJLzIpO1xuXHQgICAgICAgIHZlYzIubm9ybWFsaXplKHdvcmxkTm9ybWFsLHdvcmxkTm9ybWFsKTtcblx0XG5cdCAgICAgICAgLy8gR2V0IHBvaW50IG9uIGNpcmNsZSwgY2xvc2VzdCB0byB0aGUgZWRnZVxuXHQgICAgICAgIHZlYzIuc2NhbGUoY2FuZGlkYXRlLHdvcmxkTm9ybWFsLC1yYWRpdXMpO1xuXHQgICAgICAgIHZlYzIuYWRkKGNhbmRpZGF0ZSxjYW5kaWRhdGUsY2lyY2xlUG9zKTtcblx0XG5cdCAgICAgICAgLy8gRGlzdGFuY2UgZnJvbSB2MCB0byB0aGUgY2FuZGlkYXRlIHBvaW50XG5cdCAgICAgICAgdmVjMi5zdWIoZGlzdCxjYW5kaWRhdGUsdjApO1xuXHRcblx0ICAgICAgICAvLyBDaGVjayBpZiBpdCBpcyBpbiB0aGUgZWxlbWVudCBcInN0aWNrXCJcblx0ICAgICAgICB2YXIgZCA9IHZlYzIuZG90KGRpc3Qsd29ybGROb3JtYWwpO1xuXHQgICAgICAgIGlmKGNhbmRpZGF0ZVswXSA+PSB2MFswXSAmJiBjYW5kaWRhdGVbMF0gPCB2MVswXSAmJiBkIDw9IDApe1xuXHRcblx0ICAgICAgICAgICAgaWYoanVzdFRlc3Qpe1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTtcblx0XG5cdCAgICAgICAgICAgIC8vIFN0b3JlIHRoZSBjYW5kaWRhdGUgcG9pbnQsIHByb2plY3RlZCB0byB0aGUgZWRnZVxuXHQgICAgICAgICAgICB2ZWMyLnNjYWxlKGRpc3Qsd29ybGROb3JtYWwsLWQpO1xuXHQgICAgICAgICAgICB2ZWMyLmFkZChtaW5DYW5kaWRhdGUsY2FuZGlkYXRlLGRpc3QpO1xuXHQgICAgICAgICAgICB2ZWMyLmNvcHkobWluQ2FuZGlkYXRlTm9ybWFsLHdvcmxkTm9ybWFsKTtcblx0XG5cdCAgICAgICAgICAgIHZhciBjID0gdGhpcy5jcmVhdGVDb250YWN0RXF1YXRpb24oaGZCb2R5LGNpcmNsZUJvZHksaGZTaGFwZSxjaXJjbGVTaGFwZSk7XG5cdFxuXHQgICAgICAgICAgICAvLyBOb3JtYWwgaXMgb3V0IG9mIHRoZSBoZWlnaHRmaWVsZFxuXHQgICAgICAgICAgICB2ZWMyLmNvcHkoYy5ub3JtYWxBLCBtaW5DYW5kaWRhdGVOb3JtYWwpO1xuXHRcblx0ICAgICAgICAgICAgLy8gVmVjdG9yIGZyb20gY2lyY2xlIHRvIGhlaWdodGZpZWxkXG5cdCAgICAgICAgICAgIHZlYzIuc2NhbGUoYy5jb250YWN0UG9pbnRCLCAgYy5ub3JtYWxBLCAtcmFkaXVzKTtcblx0ICAgICAgICAgICAgYWRkKGMuY29udGFjdFBvaW50QiwgYy5jb250YWN0UG9pbnRCLCBjaXJjbGVQb3MpO1xuXHQgICAgICAgICAgICBzdWIoYy5jb250YWN0UG9pbnRCLCBjLmNvbnRhY3RQb2ludEIsIGNpcmNsZUJvZHkucG9zaXRpb24pO1xuXHRcblx0ICAgICAgICAgICAgdmVjMi5jb3B5KGMuY29udGFjdFBvaW50QSwgbWluQ2FuZGlkYXRlKTtcblx0ICAgICAgICAgICAgdmVjMi5zdWIoYy5jb250YWN0UG9pbnRBLCBjLmNvbnRhY3RQb2ludEEsIGhmQm9keS5wb3NpdGlvbik7XG5cdFxuXHQgICAgICAgICAgICB0aGlzLmNvbnRhY3RFcXVhdGlvbnMucHVzaChjKTtcblx0XG5cdCAgICAgICAgICAgIGlmKHRoaXMuZW5hYmxlRnJpY3Rpb24pe1xuXHQgICAgICAgICAgICAgICAgdGhpcy5mcmljdGlvbkVxdWF0aW9ucy5wdXNoKCB0aGlzLmNyZWF0ZUZyaWN0aW9uRnJvbUNvbnRhY3QoYykgKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICAvLyBDaGVjayBhbGwgdmVydGljZXNcblx0ICAgIGZvdW5kID0gZmFsc2U7XG5cdCAgICBpZihyYWRpdXMgPiAwKXtcblx0ICAgICAgICBmb3IodmFyIGk9aWR4QTsgaTw9aWR4QjsgaSsrKXtcblx0XG5cdCAgICAgICAgICAgIC8vIEdldCBwb2ludFxuXHQgICAgICAgICAgICB2ZWMyLnNldCh2MCwgaSp3LCBkYXRhW2ldKTtcblx0ICAgICAgICAgICAgdmVjMi5hZGQodjAsdjAsaGZQb3MpO1xuXHRcblx0ICAgICAgICAgICAgdmVjMi5zdWIoZGlzdCwgY2lyY2xlUG9zLCB2MCk7XG5cdFxuXHQgICAgICAgICAgICBpZih2ZWMyLnNxdWFyZWRMZW5ndGgoZGlzdCkgPCBNYXRoLnBvdyhyYWRpdXMsIDIpKXtcblx0XG5cdCAgICAgICAgICAgICAgICBpZihqdXN0VGVzdCl7XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG5cdCAgICAgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICAgICAgZm91bmQgPSB0cnVlO1xuXHRcblx0ICAgICAgICAgICAgICAgIHZhciBjID0gdGhpcy5jcmVhdGVDb250YWN0RXF1YXRpb24oaGZCb2R5LGNpcmNsZUJvZHksaGZTaGFwZSxjaXJjbGVTaGFwZSk7XG5cdFxuXHQgICAgICAgICAgICAgICAgLy8gQ29uc3RydWN0IG5vcm1hbCAtIG91dCBvZiBoZWlnaHRmaWVsZFxuXHQgICAgICAgICAgICAgICAgdmVjMi5jb3B5KGMubm9ybWFsQSwgZGlzdCk7XG5cdCAgICAgICAgICAgICAgICB2ZWMyLm5vcm1hbGl6ZShjLm5vcm1hbEEsYy5ub3JtYWxBKTtcblx0XG5cdCAgICAgICAgICAgICAgICB2ZWMyLnNjYWxlKGMuY29udGFjdFBvaW50QiwgYy5ub3JtYWxBLCAtcmFkaXVzKTtcblx0ICAgICAgICAgICAgICAgIGFkZChjLmNvbnRhY3RQb2ludEIsIGMuY29udGFjdFBvaW50QiwgY2lyY2xlUG9zKTtcblx0ICAgICAgICAgICAgICAgIHN1YihjLmNvbnRhY3RQb2ludEIsIGMuY29udGFjdFBvaW50QiwgY2lyY2xlQm9keS5wb3NpdGlvbik7XG5cdFxuXHQgICAgICAgICAgICAgICAgc3ViKGMuY29udGFjdFBvaW50QSwgdjAsIGhmUG9zKTtcblx0ICAgICAgICAgICAgICAgIGFkZChjLmNvbnRhY3RQb2ludEEsIGMuY29udGFjdFBvaW50QSwgaGZQb3MpO1xuXHQgICAgICAgICAgICAgICAgc3ViKGMuY29udGFjdFBvaW50QSwgYy5jb250YWN0UG9pbnRBLCBoZkJvZHkucG9zaXRpb24pO1xuXHRcblx0ICAgICAgICAgICAgICAgIHRoaXMuY29udGFjdEVxdWF0aW9ucy5wdXNoKGMpO1xuXHRcblx0ICAgICAgICAgICAgICAgIGlmKHRoaXMuZW5hYmxlRnJpY3Rpb24pe1xuXHQgICAgICAgICAgICAgICAgICAgIHRoaXMuZnJpY3Rpb25FcXVhdGlvbnMucHVzaCh0aGlzLmNyZWF0ZUZyaWN0aW9uRnJvbUNvbnRhY3QoYykpO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIGlmKGZvdW5kKXtcblx0ICAgICAgICByZXR1cm4gMTtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gMDtcblx0XG5cdH07XG5cdFxuXHR2YXIgY29udmV4SGVpZ2h0ZmllbGRfdjAgPSB2ZWMyLmNyZWF0ZSgpLFxuXHQgICAgY29udmV4SGVpZ2h0ZmllbGRfdjEgPSB2ZWMyLmNyZWF0ZSgpLFxuXHQgICAgY29udmV4SGVpZ2h0ZmllbGRfdGlsZVBvcyA9IHZlYzIuY3JlYXRlKCksXG5cdCAgICBjb252ZXhIZWlnaHRmaWVsZF90ZW1wQ29udmV4U2hhcGUgPSBuZXcgQ29udmV4KHsgdmVydGljZXM6IFt2ZWMyLmNyZWF0ZSgpLHZlYzIuY3JlYXRlKCksdmVjMi5jcmVhdGUoKSx2ZWMyLmNyZWF0ZSgpXSB9KTtcblx0LyoqXG5cdCAqIEBtZXRob2QgY2lyY2xlSGVpZ2h0ZmllbGRcblx0ICogQHBhcmFtICB7Qm9keX0gICAgICAgICAgIGJpXG5cdCAqIEBwYXJhbSAge0NpcmNsZX0gICAgICAgICBzaVxuXHQgKiBAcGFyYW0gIHtBcnJheX0gICAgICAgICAgeGlcblx0ICogQHBhcmFtICB7Qm9keX0gICAgICAgICAgIGJqXG5cdCAqIEBwYXJhbSAge0hlaWdodGZpZWxkfSAgICBzalxuXHQgKiBAcGFyYW0gIHtBcnJheX0gICAgICAgICAgeGpcblx0ICogQHBhcmFtICB7TnVtYmVyfSAgICAgICAgIGFqXG5cdCAqL1xuXHROYXJyb3dwaGFzZS5wcm90b3R5cGVbU2hhcGUuQk9YIHwgU2hhcGUuSEVJR0hURklFTERdID1cblx0TmFycm93cGhhc2UucHJvdG90eXBlW1NoYXBlLkNPTlZFWCB8IFNoYXBlLkhFSUdIVEZJRUxEXSA9XG5cdE5hcnJvd3BoYXNlLnByb3RvdHlwZS5jb252ZXhIZWlnaHRmaWVsZCA9IGZ1bmN0aW9uKCBjb252ZXhCb2R5LGNvbnZleFNoYXBlLGNvbnZleFBvcyxjb252ZXhBbmdsZSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhmQm9keSxoZlNoYXBlLGhmUG9zLGhmQW5nbGUsIGp1c3RUZXN0ICl7XG5cdCAgICB2YXIgZGF0YSA9IGhmU2hhcGUuaGVpZ2h0cyxcblx0ICAgICAgICB3ID0gaGZTaGFwZS5lbGVtZW50V2lkdGgsXG5cdCAgICAgICAgdjAgPSBjb252ZXhIZWlnaHRmaWVsZF92MCxcblx0ICAgICAgICB2MSA9IGNvbnZleEhlaWdodGZpZWxkX3YxLFxuXHQgICAgICAgIHRpbGVQb3MgPSBjb252ZXhIZWlnaHRmaWVsZF90aWxlUG9zLFxuXHQgICAgICAgIHRpbGVDb252ZXggPSBjb252ZXhIZWlnaHRmaWVsZF90ZW1wQ29udmV4U2hhcGU7XG5cdFxuXHQgICAgLy8gR2V0IHRoZSBpbmRleCBvZiB0aGUgcG9pbnRzIHRvIHRlc3QgYWdhaW5zdFxuXHQgICAgdmFyIGlkeEEgPSBNYXRoLmZsb29yKCAoY29udmV4Qm9keS5hYWJiLmxvd2VyQm91bmRbMF0gLSBoZlBvc1swXSkgLyB3ICksXG5cdCAgICAgICAgaWR4QiA9IE1hdGguY2VpbCggIChjb252ZXhCb2R5LmFhYmIudXBwZXJCb3VuZFswXSAtIGhmUG9zWzBdKSAvIHcgKTtcblx0XG5cdCAgICBpZihpZHhBIDwgMCl7XG5cdCAgICAgICAgaWR4QSA9IDA7XG5cdCAgICB9XG5cdCAgICBpZihpZHhCID49IGRhdGEubGVuZ3RoKXtcblx0ICAgICAgICBpZHhCID0gZGF0YS5sZW5ndGgtMTtcblx0ICAgIH1cblx0XG5cdCAgICAvLyBHZXQgbWF4IGFuZCBtaW5cblx0ICAgIHZhciBtYXggPSBkYXRhW2lkeEFdLFxuXHQgICAgICAgIG1pbiA9IGRhdGFbaWR4Ql07XG5cdCAgICBmb3IodmFyIGk9aWR4QTsgaTxpZHhCOyBpKyspe1xuXHQgICAgICAgIGlmKGRhdGFbaV0gPCBtaW4pe1xuXHQgICAgICAgICAgICBtaW4gPSBkYXRhW2ldO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZihkYXRhW2ldID4gbWF4KXtcblx0ICAgICAgICAgICAgbWF4ID0gZGF0YVtpXTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgaWYoY29udmV4Qm9keS5hYWJiLmxvd2VyQm91bmRbMV0gPiBtYXgpe1xuXHQgICAgICAgIHJldHVybiBqdXN0VGVzdCA/IGZhbHNlIDogMDtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgZm91bmQgPSBmYWxzZTtcblx0ICAgIHZhciBudW1Db250YWN0cyA9IDA7XG5cdFxuXHQgICAgLy8gTG9vcCBvdmVyIGFsbCBlZGdlc1xuXHQgICAgLy8gVE9ETzogSWYgcG9zc2libGUsIGNvbnN0cnVjdCBhIGNvbnZleCBmcm9tIHNldmVyYWwgZGF0YSBwb2ludHMgKG5lZWQgbyBjaGVjayBpZiB0aGUgcG9pbnRzIG1ha2UgYSBjb252ZXggc2hhcGUpXG5cdCAgICBmb3IodmFyIGk9aWR4QTsgaTxpZHhCOyBpKyspe1xuXHRcblx0ICAgICAgICAvLyBHZXQgcG9pbnRzXG5cdCAgICAgICAgdmVjMi5zZXQodjAsICAgICBpKncsIGRhdGFbaV0gICk7XG5cdCAgICAgICAgdmVjMi5zZXQodjEsIChpKzEpKncsIGRhdGFbaSsxXSk7XG5cdCAgICAgICAgdmVjMi5hZGQodjAsdjAsaGZQb3MpO1xuXHQgICAgICAgIHZlYzIuYWRkKHYxLHYxLGhmUG9zKTtcblx0XG5cdCAgICAgICAgLy8gQ29uc3RydWN0IGEgY29udmV4XG5cdCAgICAgICAgdmFyIHRpbGVIZWlnaHQgPSAxMDA7IC8vIHRvZG9cblx0ICAgICAgICB2ZWMyLnNldCh0aWxlUG9zLCAodjFbMF0gKyB2MFswXSkqMC41LCAodjFbMV0gKyB2MFsxXSAtIHRpbGVIZWlnaHQpKjAuNSk7XG5cdFxuXHQgICAgICAgIHZlYzIuc3ViKHRpbGVDb252ZXgudmVydGljZXNbMF0sIHYxLCB0aWxlUG9zKTtcblx0ICAgICAgICB2ZWMyLnN1Yih0aWxlQ29udmV4LnZlcnRpY2VzWzFdLCB2MCwgdGlsZVBvcyk7XG5cdCAgICAgICAgdmVjMi5jb3B5KHRpbGVDb252ZXgudmVydGljZXNbMl0sIHRpbGVDb252ZXgudmVydGljZXNbMV0pO1xuXHQgICAgICAgIHZlYzIuY29weSh0aWxlQ29udmV4LnZlcnRpY2VzWzNdLCB0aWxlQ29udmV4LnZlcnRpY2VzWzBdKTtcblx0ICAgICAgICB0aWxlQ29udmV4LnZlcnRpY2VzWzJdWzFdIC09IHRpbGVIZWlnaHQ7XG5cdCAgICAgICAgdGlsZUNvbnZleC52ZXJ0aWNlc1szXVsxXSAtPSB0aWxlSGVpZ2h0O1xuXHRcblx0ICAgICAgICAvLyBEbyBjb252ZXggY29sbGlzaW9uXG5cdCAgICAgICAgbnVtQ29udGFjdHMgKz0gdGhpcy5jb252ZXhDb252ZXgoICAgY29udmV4Qm9keSwgY29udmV4U2hhcGUsIGNvbnZleFBvcywgY29udmV4QW5nbGUsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGZCb2R5LCB0aWxlQ29udmV4LCB0aWxlUG9zLCAwLCBqdXN0VGVzdCk7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIG51bUNvbnRhY3RzO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogNDMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBVdGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMilcblx0LCAgIEJyb2FkcGhhc2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3KTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gU0FQQnJvYWRwaGFzZTtcblx0XG5cdC8qKlxuXHQgKiBTd2VlcCBhbmQgcHJ1bmUgYnJvYWRwaGFzZSBhbG9uZyBvbmUgYXhpcy5cblx0ICpcblx0ICogQGNsYXNzIFNBUEJyb2FkcGhhc2Vcblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqIEBleHRlbmRzIEJyb2FkcGhhc2Vcblx0ICovXG5cdGZ1bmN0aW9uIFNBUEJyb2FkcGhhc2UoKXtcblx0ICAgIEJyb2FkcGhhc2UuY2FsbCh0aGlzLEJyb2FkcGhhc2UuU0FQKTtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIExpc3Qgb2YgYm9kaWVzIGN1cnJlbnRseSBpbiB0aGUgYnJvYWRwaGFzZS5cblx0ICAgICAqIEBwcm9wZXJ0eSBheGlzTGlzdFxuXHQgICAgICogQHR5cGUge0FycmF5fVxuXHQgICAgICovXG5cdCAgICB0aGlzLmF4aXNMaXN0ID0gW107XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGUgYXhpcyB0byBzb3J0IGFsb25nLiAwIG1lYW5zIHgtYXhpcyBhbmQgMSB5LWF4aXMuIElmIHlvdXIgYm9kaWVzIGFyZSBtb3JlIHNwcmVhZCBvdXQgb3ZlciB0aGUgWCBheGlzLCBzZXQgYXhpc0luZGV4IHRvIDAsIGFuZCB5b3Ugd2lsbCBnYWluIHNvbWUgcGVyZm9ybWFuY2UuXG5cdCAgICAgKiBAcHJvcGVydHkgYXhpc0luZGV4XG5cdCAgICAgKiBAdHlwZSB7TnVtYmVyfVxuXHQgICAgICovXG5cdCAgICB0aGlzLmF4aXNJbmRleCA9IDA7XG5cdFxuXHQgICAgdmFyIHRoYXQgPSB0aGlzO1xuXHQgICAgdGhpcy5fYWRkQm9keUhhbmRsZXIgPSBmdW5jdGlvbihlKXtcblx0ICAgICAgICB0aGF0LmF4aXNMaXN0LnB1c2goZS5ib2R5KTtcblx0ICAgIH07XG5cdFxuXHQgICAgdGhpcy5fcmVtb3ZlQm9keUhhbmRsZXIgPSBmdW5jdGlvbihlKXtcblx0ICAgICAgICAvLyBSZW1vdmUgZnJvbSBsaXN0XG5cdCAgICAgICAgdmFyIGlkeCA9IHRoYXQuYXhpc0xpc3QuaW5kZXhPZihlLmJvZHkpO1xuXHQgICAgICAgIGlmKGlkeCAhPT0gLTEpe1xuXHQgICAgICAgICAgICB0aGF0LmF4aXNMaXN0LnNwbGljZShpZHgsMSk7XG5cdCAgICAgICAgfVxuXHQgICAgfTtcblx0fVxuXHRTQVBCcm9hZHBoYXNlLnByb3RvdHlwZSA9IG5ldyBCcm9hZHBoYXNlKCk7XG5cdFNBUEJyb2FkcGhhc2UucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gU0FQQnJvYWRwaGFzZTtcblx0XG5cdC8qKlxuXHQgKiBDaGFuZ2UgdGhlIHdvcmxkXG5cdCAqIEBtZXRob2Qgc2V0V29ybGRcblx0ICogQHBhcmFtIHtXb3JsZH0gd29ybGRcblx0ICovXG5cdFNBUEJyb2FkcGhhc2UucHJvdG90eXBlLnNldFdvcmxkID0gZnVuY3Rpb24od29ybGQpe1xuXHQgICAgLy8gQ2xlYXIgdGhlIG9sZCBheGlzIGFycmF5XG5cdCAgICB0aGlzLmF4aXNMaXN0Lmxlbmd0aCA9IDA7XG5cdFxuXHQgICAgLy8gQWRkIGFsbCBib2RpZXMgZnJvbSB0aGUgbmV3IHdvcmxkXG5cdCAgICBVdGlscy5hcHBlbmRBcnJheSh0aGlzLmF4aXNMaXN0LCB3b3JsZC5ib2RpZXMpO1xuXHRcblx0ICAgIC8vIFJlbW92ZSBvbGQgaGFuZGxlcnMsIGlmIGFueVxuXHQgICAgd29ybGRcblx0ICAgICAgICAub2ZmKFwiYWRkQm9keVwiLHRoaXMuX2FkZEJvZHlIYW5kbGVyKVxuXHQgICAgICAgIC5vZmYoXCJyZW1vdmVCb2R5XCIsdGhpcy5fcmVtb3ZlQm9keUhhbmRsZXIpO1xuXHRcblx0ICAgIC8vIEFkZCBoYW5kbGVycyB0byB1cGRhdGUgdGhlIGxpc3Qgb2YgYm9kaWVzLlxuXHQgICAgd29ybGQub24oXCJhZGRCb2R5XCIsdGhpcy5fYWRkQm9keUhhbmRsZXIpLm9uKFwicmVtb3ZlQm9keVwiLHRoaXMuX3JlbW92ZUJvZHlIYW5kbGVyKTtcblx0XG5cdCAgICB0aGlzLndvcmxkID0gd29ybGQ7XG5cdH07XG5cdFxuXHQvKipcblx0ICogU29ydHMgYm9kaWVzIGFsb25nIGFuIGF4aXMuXG5cdCAqIEBtZXRob2Qgc29ydEF4aXNMaXN0XG5cdCAqIEBwYXJhbSB7QXJyYXl9IGFcblx0ICogQHBhcmFtIHtudW1iZXJ9IGF4aXNJbmRleFxuXHQgKiBAcmV0dXJuIHtBcnJheX1cblx0ICovXG5cdFNBUEJyb2FkcGhhc2Uuc29ydEF4aXNMaXN0ID0gZnVuY3Rpb24oYSwgYXhpc0luZGV4KXtcblx0ICAgIGF4aXNJbmRleCA9IGF4aXNJbmRleHwwO1xuXHQgICAgZm9yKHZhciBpPTEsbD1hLmxlbmd0aDsgaTxsOyBpKyspIHtcblx0ICAgICAgICB2YXIgdiA9IGFbaV07XG5cdCAgICAgICAgZm9yKHZhciBqPWkgLSAxO2o+PTA7ai0tKSB7XG5cdCAgICAgICAgICAgIGlmKGFbal0uYWFiYi5sb3dlckJvdW5kW2F4aXNJbmRleF0gPD0gdi5hYWJiLmxvd2VyQm91bmRbYXhpc0luZGV4XSl7XG5cdCAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBhW2orMV0gPSBhW2pdO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBhW2orMV0gPSB2O1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIGE7XG5cdH07XG5cdFxuXHRTQVBCcm9hZHBoYXNlLnByb3RvdHlwZS5zb3J0TGlzdCA9IGZ1bmN0aW9uKCl7XG5cdCAgICB2YXIgYm9kaWVzID0gdGhpcy5heGlzTGlzdCxcblx0ICAgIGF4aXNJbmRleCA9IHRoaXMuYXhpc0luZGV4O1xuXHRcblx0ICAgIC8vIFNvcnQgdGhlIGxpc3RzXG5cdCAgICBTQVBCcm9hZHBoYXNlLnNvcnRBeGlzTGlzdChib2RpZXMsIGF4aXNJbmRleCk7XG5cdH07XG5cdFxuXHQvKipcblx0ICogR2V0IHRoZSBjb2xsaWRpbmcgcGFpcnNcblx0ICogQG1ldGhvZCBnZXRDb2xsaXNpb25QYWlyc1xuXHQgKiBAcGFyYW0gIHtXb3JsZH0gd29ybGRcblx0ICogQHJldHVybiB7QXJyYXl9XG5cdCAqL1xuXHRTQVBCcm9hZHBoYXNlLnByb3RvdHlwZS5nZXRDb2xsaXNpb25QYWlycyA9IGZ1bmN0aW9uKHdvcmxkKXtcblx0ICAgIHZhciBib2RpZXMgPSB0aGlzLmF4aXNMaXN0LFxuXHQgICAgICAgIHJlc3VsdCA9IHRoaXMucmVzdWx0LFxuXHQgICAgICAgIGF4aXNJbmRleCA9IHRoaXMuYXhpc0luZGV4O1xuXHRcblx0ICAgIHJlc3VsdC5sZW5ndGggPSAwO1xuXHRcblx0ICAgIC8vIFVwZGF0ZSBhbGwgQUFCQnMgaWYgbmVlZGVkXG5cdCAgICB2YXIgbCA9IGJvZGllcy5sZW5ndGg7XG5cdCAgICB3aGlsZShsLS0pe1xuXHQgICAgICAgIHZhciBiID0gYm9kaWVzW2xdO1xuXHQgICAgICAgIGlmKGIuYWFiYk5lZWRzVXBkYXRlKXtcblx0ICAgICAgICAgICAgYi51cGRhdGVBQUJCKCk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIC8vIFNvcnQgdGhlIGxpc3RzXG5cdCAgICB0aGlzLnNvcnRMaXN0KCk7XG5cdFxuXHQgICAgLy8gTG9vayB0aHJvdWdoIHRoZSBYIGxpc3Rcblx0ICAgIGZvcih2YXIgaT0wLCBOPWJvZGllcy5sZW5ndGh8MDsgaSE9PU47IGkrKyl7XG5cdCAgICAgICAgdmFyIGJpID0gYm9kaWVzW2ldO1xuXHRcblx0ICAgICAgICBmb3IodmFyIGo9aSsxOyBqPE47IGorKyl7XG5cdCAgICAgICAgICAgIHZhciBiaiA9IGJvZGllc1tqXTtcblx0XG5cdCAgICAgICAgICAgIC8vIEJvdW5kcyBvdmVybGFwP1xuXHQgICAgICAgICAgICB2YXIgb3ZlcmxhcHMgPSAoYmouYWFiYi5sb3dlckJvdW5kW2F4aXNJbmRleF0gPD0gYmkuYWFiYi51cHBlckJvdW5kW2F4aXNJbmRleF0pO1xuXHQgICAgICAgICAgICBpZighb3ZlcmxhcHMpe1xuXHQgICAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgIGlmKEJyb2FkcGhhc2UuY2FuQ29sbGlkZShiaSxiaikgJiYgdGhpcy5ib3VuZGluZ1ZvbHVtZUNoZWNrKGJpLGJqKSl7XG5cdCAgICAgICAgICAgICAgICByZXN1bHQucHVzaChiaSxiaik7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIHJlc3VsdDtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBSZXR1cm5zIGFsbCB0aGUgYm9kaWVzIHdpdGhpbiBhbiBBQUJCLlxuXHQgKiBAbWV0aG9kIGFhYmJRdWVyeVxuXHQgKiBAcGFyYW0gIHtXb3JsZH0gd29ybGRcblx0ICogQHBhcmFtICB7QUFCQn0gYWFiYlxuXHQgKiBAcGFyYW0ge2FycmF5fSByZXN1bHQgQW4gYXJyYXkgdG8gc3RvcmUgcmVzdWx0aW5nIGJvZGllcyBpbi5cblx0ICogQHJldHVybiB7YXJyYXl9XG5cdCAqL1xuXHRTQVBCcm9hZHBoYXNlLnByb3RvdHlwZS5hYWJiUXVlcnkgPSBmdW5jdGlvbih3b3JsZCwgYWFiYiwgcmVzdWx0KXtcblx0ICAgIHJlc3VsdCA9IHJlc3VsdCB8fCBbXTtcblx0XG5cdCAgICB0aGlzLnNvcnRMaXN0KCk7XG5cdFxuXHQgICAgdmFyIGF4aXNJbmRleCA9IHRoaXMuYXhpc0luZGV4O1xuXHQgICAgdmFyIGF4aXMgPSAneCc7XG5cdCAgICBpZihheGlzSW5kZXggPT09IDEpeyBheGlzID0gJ3knOyB9XG5cdCAgICBpZihheGlzSW5kZXggPT09IDIpeyBheGlzID0gJ3onOyB9XG5cdFxuXHQgICAgdmFyIGF4aXNMaXN0ID0gdGhpcy5heGlzTGlzdDtcblx0ICAgIHZhciBsb3dlciA9IGFhYmIubG93ZXJCb3VuZFtheGlzXTtcblx0ICAgIHZhciB1cHBlciA9IGFhYmIudXBwZXJCb3VuZFtheGlzXTtcblx0ICAgIGZvcih2YXIgaSA9IDA7IGkgPCBheGlzTGlzdC5sZW5ndGg7IGkrKyl7XG5cdCAgICAgICAgdmFyIGIgPSBheGlzTGlzdFtpXTtcblx0XG5cdCAgICAgICAgaWYoYi5hYWJiTmVlZHNVcGRhdGUpe1xuXHQgICAgICAgICAgICBiLnVwZGF0ZUFBQkIoKTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIGlmKGIuYWFiYi5vdmVybGFwcyhhYWJiKSl7XG5cdCAgICAgICAgICAgIHJlc3VsdC5wdXNoKGIpO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gcmVzdWx0O1xuXHR9O1xuXG4vKioqLyB9LFxuLyogNDQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBDb25zdHJhaW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KVxuXHQsICAgRXF1YXRpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpXG5cdCwgICB2ZWMyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKVxuXHQsICAgVXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBEaXN0YW5jZUNvbnN0cmFpbnQ7XG5cdFxuXHQvKipcblx0ICogQ29uc3RyYWludCB0aGF0IHRyaWVzIHRvIGtlZXAgdGhlIGRpc3RhbmNlIGJldHdlZW4gdHdvIGJvZGllcyBjb25zdGFudC5cblx0ICpcblx0ICogQGNsYXNzIERpc3RhbmNlQ29uc3RyYWludFxuXHQgKiBAY29uc3RydWN0b3Jcblx0ICogQGF1dGhvciBzY2h0ZXBwZVxuXHQgKiBAcGFyYW0ge0JvZHl9IGJvZHlBXG5cdCAqIEBwYXJhbSB7Qm9keX0gYm9keUJcblx0ICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXVxuXHQgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuZGlzdGFuY2VdIFRoZSBkaXN0YW5jZSB0byBrZWVwIGJldHdlZW4gdGhlIGFuY2hvciBwb2ludHMuIERlZmF1bHRzIHRvIHRoZSBjdXJyZW50IGRpc3RhbmNlIGJldHdlZW4gdGhlIGJvZGllcy5cblx0ICogQHBhcmFtIHtBcnJheX0gW29wdGlvbnMubG9jYWxBbmNob3JBXSBUaGUgYW5jaG9yIHBvaW50IGZvciBib2R5QSwgZGVmaW5lZCBsb2NhbGx5IGluIGJvZHlBIGZyYW1lLiBEZWZhdWx0cyB0byBbMCwwXS5cblx0ICogQHBhcmFtIHtBcnJheX0gW29wdGlvbnMubG9jYWxBbmNob3JCXSBUaGUgYW5jaG9yIHBvaW50IGZvciBib2R5QiwgZGVmaW5lZCBsb2NhbGx5IGluIGJvZHlCIGZyYW1lLiBEZWZhdWx0cyB0byBbMCwwXS5cblx0ICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zLm1heEZvcmNlPU51bWJlci5NQVhfVkFMVUVdIE1heGltdW0gZm9yY2UgdG8gYXBwbHkuXG5cdCAqIEBleHRlbmRzIENvbnN0cmFpbnRcblx0ICpcblx0ICogQGV4YW1wbGVcblx0ICogICAgIC8vIElmIGRpc3RhbmNlIGlzIG5vdCBnaXZlbiBhcyBhbiBvcHRpb24sIHRoZW4gdGhlIGN1cnJlbnQgZGlzdGFuY2UgYmV0d2VlbiB0aGUgYm9kaWVzIGlzIHVzZWQuXG5cdCAqICAgICAvLyBJbiB0aGlzIGV4YW1wbGUsIHRoZSBib2RpZXMgd2lsbCBiZSBjb25zdHJhaW5lZCB0byBoYXZlIGEgZGlzdGFuY2Ugb2YgMiBiZXR3ZWVuIHRoZWlyIGNlbnRlcnMuXG5cdCAqICAgICB2YXIgYm9keUEgPSBuZXcgQm9keSh7IG1hc3M6IDEsIHBvc2l0aW9uOiBbLTEsIDBdIH0pO1xuXHQgKiAgICAgdmFyIGJvZHlCID0gbmV3IEJvZHkoeyBtYXNzOiAxLCBwb3NpdGlvbjogWzEsIDBdIH0pO1xuXHQgKiAgICAgdmFyIGNvbnN0cmFpbnQgPSBuZXcgRGlzdGFuY2VDb25zdHJhaW50KGJvZHlBLCBib2R5Qik7XG5cdCAqICAgICB3b3JsZC5hZGRDb25zdHJhaW50KGNvbnN0cmFpbnQpO1xuXHQgKlxuXHQgKiBAZXhhbXBsZVxuXHQgKiAgICAgLy8gTWFudWFsbHkgc2V0IHRoZSBkaXN0YW5jZSBhbmQgYW5jaG9yc1xuXHQgKiAgICAgdmFyIGNvbnN0cmFpbnQgPSBuZXcgRGlzdGFuY2VDb25zdHJhaW50KGJvZHlBLCBib2R5Qiwge1xuXHQgKiAgICAgICAgIGRpc3RhbmNlOiAxLCAgICAgICAgICAvLyBEaXN0YW5jZSB0byBrZWVwIGJldHdlZW4gdGhlIHBvaW50c1xuXHQgKiAgICAgICAgIGxvY2FsQW5jaG9yQTogWzEsIDBdLCAvLyBQb2ludCBvbiBib2R5QVxuXHQgKiAgICAgICAgIGxvY2FsQW5jaG9yQjogWy0xLCAwXSAvLyBQb2ludCBvbiBib2R5QlxuXHQgKiAgICAgfSk7XG5cdCAqICAgICB3b3JsZC5hZGRDb25zdHJhaW50KGNvbnN0cmFpbnQpO1xuXHQgKi9cblx0ZnVuY3Rpb24gRGlzdGFuY2VDb25zdHJhaW50KGJvZHlBLGJvZHlCLG9wdGlvbnMpe1xuXHQgICAgb3B0aW9ucyA9IFV0aWxzLmRlZmF1bHRzKG9wdGlvbnMse1xuXHQgICAgICAgIGxvY2FsQW5jaG9yQTpbMCwwXSxcblx0ICAgICAgICBsb2NhbEFuY2hvckI6WzAsMF1cblx0ICAgIH0pO1xuXHRcblx0ICAgIENvbnN0cmFpbnQuY2FsbCh0aGlzLGJvZHlBLGJvZHlCLENvbnN0cmFpbnQuRElTVEFOQ0Usb3B0aW9ucyk7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBMb2NhbCBhbmNob3IgaW4gYm9keSBBLlxuXHQgICAgICogQHByb3BlcnR5IGxvY2FsQW5jaG9yQVxuXHQgICAgICogQHR5cGUge0FycmF5fVxuXHQgICAgICovXG5cdCAgICB0aGlzLmxvY2FsQW5jaG9yQSA9IHZlYzIuZnJvbVZhbHVlcyhvcHRpb25zLmxvY2FsQW5jaG9yQVswXSwgb3B0aW9ucy5sb2NhbEFuY2hvckFbMV0pO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogTG9jYWwgYW5jaG9yIGluIGJvZHkgQi5cblx0ICAgICAqIEBwcm9wZXJ0eSBsb2NhbEFuY2hvckJcblx0ICAgICAqIEB0eXBlIHtBcnJheX1cblx0ICAgICAqL1xuXHQgICAgdGhpcy5sb2NhbEFuY2hvckIgPSB2ZWMyLmZyb21WYWx1ZXMob3B0aW9ucy5sb2NhbEFuY2hvckJbMF0sIG9wdGlvbnMubG9jYWxBbmNob3JCWzFdKTtcblx0XG5cdCAgICB2YXIgbG9jYWxBbmNob3JBID0gdGhpcy5sb2NhbEFuY2hvckE7XG5cdCAgICB2YXIgbG9jYWxBbmNob3JCID0gdGhpcy5sb2NhbEFuY2hvckI7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGUgZGlzdGFuY2UgdG8ga2VlcC5cblx0ICAgICAqIEBwcm9wZXJ0eSBkaXN0YW5jZVxuXHQgICAgICogQHR5cGUge051bWJlcn1cblx0ICAgICAqL1xuXHQgICAgdGhpcy5kaXN0YW5jZSA9IDA7XG5cdFxuXHQgICAgaWYodHlwZW9mKG9wdGlvbnMuZGlzdGFuY2UpID09PSAnbnVtYmVyJyl7XG5cdCAgICAgICAgdGhpcy5kaXN0YW5jZSA9IG9wdGlvbnMuZGlzdGFuY2U7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIC8vIFVzZSB0aGUgY3VycmVudCB3b3JsZCBkaXN0YW5jZSBiZXR3ZWVuIHRoZSB3b3JsZCBhbmNob3IgcG9pbnRzLlxuXHQgICAgICAgIHZhciB3b3JsZEFuY2hvckEgPSB2ZWMyLmNyZWF0ZSgpLFxuXHQgICAgICAgICAgICB3b3JsZEFuY2hvckIgPSB2ZWMyLmNyZWF0ZSgpLFxuXHQgICAgICAgICAgICByID0gdmVjMi5jcmVhdGUoKTtcblx0XG5cdCAgICAgICAgLy8gVHJhbnNmb3JtIGxvY2FsIGFuY2hvcnMgdG8gd29ybGRcblx0ICAgICAgICB2ZWMyLnJvdGF0ZSh3b3JsZEFuY2hvckEsIGxvY2FsQW5jaG9yQSwgYm9keUEuYW5nbGUpO1xuXHQgICAgICAgIHZlYzIucm90YXRlKHdvcmxkQW5jaG9yQiwgbG9jYWxBbmNob3JCLCBib2R5Qi5hbmdsZSk7XG5cdFxuXHQgICAgICAgIHZlYzIuYWRkKHIsIGJvZHlCLnBvc2l0aW9uLCB3b3JsZEFuY2hvckIpO1xuXHQgICAgICAgIHZlYzIuc3ViKHIsIHIsIHdvcmxkQW5jaG9yQSk7XG5cdCAgICAgICAgdmVjMi5zdWIociwgciwgYm9keUEucG9zaXRpb24pO1xuXHRcblx0ICAgICAgICB0aGlzLmRpc3RhbmNlID0gdmVjMi5sZW5ndGgocik7XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIG1heEZvcmNlO1xuXHQgICAgaWYodHlwZW9mKG9wdGlvbnMubWF4Rm9yY2UpPT09XCJ1bmRlZmluZWRcIiApe1xuXHQgICAgICAgIG1heEZvcmNlID0gTnVtYmVyLk1BWF9WQUxVRTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgbWF4Rm9yY2UgPSBvcHRpb25zLm1heEZvcmNlO1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciBub3JtYWwgPSBuZXcgRXF1YXRpb24oYm9keUEsYm9keUIsLW1heEZvcmNlLG1heEZvcmNlKTsgLy8gSnVzdCBpbiB0aGUgbm9ybWFsIGRpcmVjdGlvblxuXHQgICAgdGhpcy5lcXVhdGlvbnMgPSBbIG5vcm1hbCBdO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogTWF4IGZvcmNlIHRvIGFwcGx5LlxuXHQgICAgICogQHByb3BlcnR5IHtudW1iZXJ9IG1heEZvcmNlXG5cdCAgICAgKi9cblx0ICAgIHRoaXMubWF4Rm9yY2UgPSBtYXhGb3JjZTtcblx0XG5cdCAgICAvLyBnID0gKHhpIC0geGopLmRvdChuKVxuXHQgICAgLy8gZGcvZHQgPSAodmkgLSB2aikuZG90KG4pID0gRypXID0gW24gMCAtbiAwXSAqIFt2aSB3aSB2aiB3al0nXG5cdFxuXHQgICAgLy8gLi4uYW5kIGlmIHdlIHdlcmUgdG8gaW5jbHVkZSBvZmZzZXQgcG9pbnRzOlxuXHQgICAgLy8gZyA9XG5cdCAgICAvLyAgICAgICh4aiArIHJqIC0geGkgLSByaSkuZG90KG4pIC0gZGlzdGFuY2Vcblx0ICAgIC8vXG5cdCAgICAvLyBkZy9kdCA9XG5cdCAgICAvLyAgICAgICh2aiArIHdqIHggcmogLSB2aSAtIHdpIHggcmkpLmRvdChuKSA9XG5cdCAgICAvLyAgICAgIHsgdGVybSAyIGlzIG5lYXIgemVybyB9ID1cblx0ICAgIC8vICAgICAgWy1uICAgLXJpIHggbiAgIG4gICByaiB4IG5dICogW3ZpIHdpIHZqIHdqXScgPVxuXHQgICAgLy8gICAgICBHICogV1xuXHQgICAgLy9cblx0ICAgIC8vID0+IEcgPSBbLW4gLXJpeG4gbiByanhuXVxuXHRcblx0ICAgIHZhciByID0gdmVjMi5jcmVhdGUoKTtcblx0ICAgIHZhciByaSA9IHZlYzIuY3JlYXRlKCk7IC8vIHdvcmxkQW5jaG9yQVxuXHQgICAgdmFyIHJqID0gdmVjMi5jcmVhdGUoKTsgLy8gd29ybGRBbmNob3JCXG5cdCAgICB2YXIgdGhhdCA9IHRoaXM7XG5cdCAgICBub3JtYWwuY29tcHV0ZUdxID0gZnVuY3Rpb24oKXtcblx0ICAgICAgICB2YXIgYm9keUEgPSB0aGlzLmJvZHlBLFxuXHQgICAgICAgICAgICBib2R5QiA9IHRoaXMuYm9keUIsXG5cdCAgICAgICAgICAgIHhpID0gYm9keUEucG9zaXRpb24sXG5cdCAgICAgICAgICAgIHhqID0gYm9keUIucG9zaXRpb247XG5cdFxuXHQgICAgICAgIC8vIFRyYW5zZm9ybSBsb2NhbCBhbmNob3JzIHRvIHdvcmxkXG5cdCAgICAgICAgdmVjMi5yb3RhdGUocmksIGxvY2FsQW5jaG9yQSwgYm9keUEuYW5nbGUpO1xuXHQgICAgICAgIHZlYzIucm90YXRlKHJqLCBsb2NhbEFuY2hvckIsIGJvZHlCLmFuZ2xlKTtcblx0XG5cdCAgICAgICAgdmVjMi5hZGQociwgeGosIHJqKTtcblx0ICAgICAgICB2ZWMyLnN1YihyLCByLCByaSk7XG5cdCAgICAgICAgdmVjMi5zdWIociwgciwgeGkpO1xuXHRcblx0ICAgICAgICAvL3ZlYzIuc3ViKHIsIGJvZHlCLnBvc2l0aW9uLCBib2R5QS5wb3NpdGlvbik7XG5cdCAgICAgICAgcmV0dXJuIHZlYzIubGVuZ3RoKHIpIC0gdGhhdC5kaXN0YW5jZTtcblx0ICAgIH07XG5cdFxuXHQgICAgLy8gTWFrZSB0aGUgY29udGFjdCBjb25zdHJhaW50IGJpbGF0ZXJhbFxuXHQgICAgdGhpcy5zZXRNYXhGb3JjZShtYXhGb3JjZSk7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBJZiB0aGUgdXBwZXIgbGltaXQgaXMgZW5hYmxlZCBvciBub3QuXG5cdCAgICAgKiBAcHJvcGVydHkge0Jvb2xlYW59IHVwcGVyTGltaXRFbmFibGVkXG5cdCAgICAgKi9cblx0ICAgIHRoaXMudXBwZXJMaW1pdEVuYWJsZWQgPSBmYWxzZTtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIFRoZSB1cHBlciBjb25zdHJhaW50IGxpbWl0LlxuXHQgICAgICogQHByb3BlcnR5IHtudW1iZXJ9IHVwcGVyTGltaXRcblx0ICAgICAqL1xuXHQgICAgdGhpcy51cHBlckxpbWl0ID0gMTtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIElmIHRoZSBsb3dlciBsaW1pdCBpcyBlbmFibGVkIG9yIG5vdC5cblx0ICAgICAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gbG93ZXJMaW1pdEVuYWJsZWRcblx0ICAgICAqL1xuXHQgICAgdGhpcy5sb3dlckxpbWl0RW5hYmxlZCA9IGZhbHNlO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVGhlIGxvd2VyIGNvbnN0cmFpbnQgbGltaXQuXG5cdCAgICAgKiBAcHJvcGVydHkge251bWJlcn0gbG93ZXJMaW1pdFxuXHQgICAgICovXG5cdCAgICB0aGlzLmxvd2VyTGltaXQgPSAwO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQ3VycmVudCBjb25zdHJhaW50IHBvc2l0aW9uLiBUaGlzIGlzIGVxdWFsIHRvIHRoZSBjdXJyZW50IGRpc3RhbmNlIGJldHdlZW4gdGhlIHdvcmxkIGFuY2hvciBwb2ludHMuXG5cdCAgICAgKiBAcHJvcGVydHkge251bWJlcn0gcG9zaXRpb25cblx0ICAgICAqL1xuXHQgICAgdGhpcy5wb3NpdGlvbiA9IDA7XG5cdH1cblx0RGlzdGFuY2VDb25zdHJhaW50LnByb3RvdHlwZSA9IG5ldyBDb25zdHJhaW50KCk7XG5cdERpc3RhbmNlQ29uc3RyYWludC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBEaXN0YW5jZUNvbnN0cmFpbnQ7XG5cdFxuXHQvKipcblx0ICogVXBkYXRlIHRoZSBjb25zdHJhaW50IGVxdWF0aW9ucy4gU2hvdWxkIGJlIGRvbmUgaWYgYW55IG9mIHRoZSBib2RpZXMgY2hhbmdlZCBwb3NpdGlvbiwgYmVmb3JlIHNvbHZpbmcuXG5cdCAqIEBtZXRob2QgdXBkYXRlXG5cdCAqL1xuXHR2YXIgbiA9IHZlYzIuY3JlYXRlKCk7XG5cdHZhciByaSA9IHZlYzIuY3JlYXRlKCk7IC8vIHdvcmxkQW5jaG9yQVxuXHR2YXIgcmogPSB2ZWMyLmNyZWF0ZSgpOyAvLyB3b3JsZEFuY2hvckJcblx0RGlzdGFuY2VDb25zdHJhaW50LnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbigpe1xuXHQgICAgdmFyIG5vcm1hbCA9IHRoaXMuZXF1YXRpb25zWzBdLFxuXHQgICAgICAgIGJvZHlBID0gdGhpcy5ib2R5QSxcblx0ICAgICAgICBib2R5QiA9IHRoaXMuYm9keUIsXG5cdCAgICAgICAgZGlzdGFuY2UgPSB0aGlzLmRpc3RhbmNlLFxuXHQgICAgICAgIHhpID0gYm9keUEucG9zaXRpb24sXG5cdCAgICAgICAgeGogPSBib2R5Qi5wb3NpdGlvbixcblx0ICAgICAgICBub3JtYWxFcXVhdGlvbiA9IHRoaXMuZXF1YXRpb25zWzBdLFxuXHQgICAgICAgIEcgPSBub3JtYWwuRztcblx0XG5cdCAgICAvLyBUcmFuc2Zvcm0gbG9jYWwgYW5jaG9ycyB0byB3b3JsZFxuXHQgICAgdmVjMi5yb3RhdGUocmksIHRoaXMubG9jYWxBbmNob3JBLCBib2R5QS5hbmdsZSk7XG5cdCAgICB2ZWMyLnJvdGF0ZShyaiwgdGhpcy5sb2NhbEFuY2hvckIsIGJvZHlCLmFuZ2xlKTtcblx0XG5cdCAgICAvLyBHZXQgd29ybGQgYW5jaG9yIHBvaW50cyBhbmQgbm9ybWFsXG5cdCAgICB2ZWMyLmFkZChuLCB4aiwgcmopO1xuXHQgICAgdmVjMi5zdWIobiwgbiwgcmkpO1xuXHQgICAgdmVjMi5zdWIobiwgbiwgeGkpO1xuXHQgICAgdGhpcy5wb3NpdGlvbiA9IHZlYzIubGVuZ3RoKG4pO1xuXHRcblx0ICAgIHZhciB2aW9sYXRpbmcgPSBmYWxzZTtcblx0ICAgIGlmKHRoaXMudXBwZXJMaW1pdEVuYWJsZWQpe1xuXHQgICAgICAgIGlmKHRoaXMucG9zaXRpb24gPiB0aGlzLnVwcGVyTGltaXQpe1xuXHQgICAgICAgICAgICBub3JtYWxFcXVhdGlvbi5tYXhGb3JjZSA9IDA7XG5cdCAgICAgICAgICAgIG5vcm1hbEVxdWF0aW9uLm1pbkZvcmNlID0gLXRoaXMubWF4Rm9yY2U7XG5cdCAgICAgICAgICAgIHRoaXMuZGlzdGFuY2UgPSB0aGlzLnVwcGVyTGltaXQ7XG5cdCAgICAgICAgICAgIHZpb2xhdGluZyA9IHRydWU7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIGlmKHRoaXMubG93ZXJMaW1pdEVuYWJsZWQpe1xuXHQgICAgICAgIGlmKHRoaXMucG9zaXRpb24gPCB0aGlzLmxvd2VyTGltaXQpe1xuXHQgICAgICAgICAgICBub3JtYWxFcXVhdGlvbi5tYXhGb3JjZSA9IHRoaXMubWF4Rm9yY2U7XG5cdCAgICAgICAgICAgIG5vcm1hbEVxdWF0aW9uLm1pbkZvcmNlID0gMDtcblx0ICAgICAgICAgICAgdGhpcy5kaXN0YW5jZSA9IHRoaXMubG93ZXJMaW1pdDtcblx0ICAgICAgICAgICAgdmlvbGF0aW5nID0gdHJ1ZTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgaWYoKHRoaXMubG93ZXJMaW1pdEVuYWJsZWQgfHwgdGhpcy51cHBlckxpbWl0RW5hYmxlZCkgJiYgIXZpb2xhdGluZyl7XG5cdCAgICAgICAgLy8gTm8gY29uc3RyYWludCBuZWVkZWQuXG5cdCAgICAgICAgbm9ybWFsRXF1YXRpb24uZW5hYmxlZCA9IGZhbHNlO1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgIH1cblx0XG5cdCAgICBub3JtYWxFcXVhdGlvbi5lbmFibGVkID0gdHJ1ZTtcblx0XG5cdCAgICB2ZWMyLm5vcm1hbGl6ZShuLG4pO1xuXHRcblx0ICAgIC8vIENhbHVjbGF0ZSBjcm9zcyBwcm9kdWN0c1xuXHQgICAgdmFyIHJpeG4gPSB2ZWMyLmNyb3NzTGVuZ3RoKHJpLCBuKSxcblx0ICAgICAgICByanhuID0gdmVjMi5jcm9zc0xlbmd0aChyaiwgbik7XG5cdFxuXHQgICAgLy8gRyA9IFstbiAtcml4biBuIHJqeG5dXG5cdCAgICBHWzBdID0gLW5bMF07XG5cdCAgICBHWzFdID0gLW5bMV07XG5cdCAgICBHWzJdID0gLXJpeG47XG5cdCAgICBHWzNdID0gblswXTtcblx0ICAgIEdbNF0gPSBuWzFdO1xuXHQgICAgR1s1XSA9IHJqeG47XG5cdH07XG5cdFxuXHQvKipcblx0ICogU2V0IHRoZSBtYXggZm9yY2UgdG8gYmUgdXNlZFxuXHQgKiBAbWV0aG9kIHNldE1heEZvcmNlXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBtYXhGb3JjZVxuXHQgKi9cblx0RGlzdGFuY2VDb25zdHJhaW50LnByb3RvdHlwZS5zZXRNYXhGb3JjZSA9IGZ1bmN0aW9uKG1heEZvcmNlKXtcblx0ICAgIHZhciBub3JtYWwgPSB0aGlzLmVxdWF0aW9uc1swXTtcblx0ICAgIG5vcm1hbC5taW5Gb3JjZSA9IC1tYXhGb3JjZTtcblx0ICAgIG5vcm1hbC5tYXhGb3JjZSA9ICBtYXhGb3JjZTtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBHZXQgdGhlIG1heCBmb3JjZVxuXHQgKiBAbWV0aG9kIGdldE1heEZvcmNlXG5cdCAqIEByZXR1cm4ge051bWJlcn1cblx0ICovXG5cdERpc3RhbmNlQ29uc3RyYWludC5wcm90b3R5cGUuZ2V0TWF4Rm9yY2UgPSBmdW5jdGlvbigpe1xuXHQgICAgdmFyIG5vcm1hbCA9IHRoaXMuZXF1YXRpb25zWzBdO1xuXHQgICAgcmV0dXJuIG5vcm1hbC5tYXhGb3JjZTtcblx0fTtcblxuXG4vKioqLyB9LFxuLyogNDUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBDb25zdHJhaW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KVxuXHQsICAgRXF1YXRpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpXG5cdCwgICBBbmdsZUxvY2tFcXVhdGlvbiA9IF9fd2VicGFja19yZXF1aXJlX18oNDkpXG5cdCwgICB2ZWMyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gR2VhckNvbnN0cmFpbnQ7XG5cdFxuXHQvKipcblx0ICogQ29uc3RyYWlucyB0aGUgYW5nbGUgb2YgdHdvIGJvZGllcyB0byBlYWNoIG90aGVyIHRvIGJlIGVxdWFsLiBJZiBhIGdlYXIgcmF0aW8gaXMgbm90IG9uZSwgdGhlIGFuZ2xlIG9mIGJvZHlBIG11c3QgYmUgYSBtdWx0aXBsZSBvZiB0aGUgYW5nbGUgb2YgYm9keUIuXG5cdCAqIEBjbGFzcyBHZWFyQ29uc3RyYWludFxuXHQgKiBAY29uc3RydWN0b3Jcblx0ICogQGF1dGhvciBzY2h0ZXBwZVxuXHQgKiBAcGFyYW0ge0JvZHl9ICAgICAgICAgICAgYm9keUFcblx0ICogQHBhcmFtIHtCb2R5fSAgICAgICAgICAgIGJvZHlCXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSAgICAgICAgICBbb3B0aW9uc11cblx0ICogQHBhcmFtIHtOdW1iZXJ9ICAgICAgICAgIFtvcHRpb25zLmFuZ2xlPTBdIFJlbGF0aXZlIGFuZ2xlIGJldHdlZW4gdGhlIGJvZGllcy4gV2lsbCBiZSBzZXQgdG8gdGhlIGN1cnJlbnQgYW5nbGUgYmV0d2VlbiB0aGUgYm9kaWVzICh0aGUgZ2VhciByYXRpbyBpcyBhY2NvdW50ZWQgZm9yKS5cblx0ICogQHBhcmFtIHtOdW1iZXJ9ICAgICAgICAgIFtvcHRpb25zLnJhdGlvPTFdIEdlYXIgcmF0aW8uXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSAgICAgICAgICBbb3B0aW9ucy5tYXhUb3JxdWVdIE1heGltdW0gdG9ycXVlIHRvIGFwcGx5LlxuXHQgKiBAZXh0ZW5kcyBDb25zdHJhaW50XG5cdCAqXG5cdCAqIEBleGFtcGxlXG5cdCAqICAgICB2YXIgY29uc3RyYWludCA9IG5ldyBHZWFyQ29uc3RyYWludChib2R5QSwgYm9keUIpO1xuXHQgKiAgICAgd29ybGQuYWRkQ29uc3RyYWludChjb25zdHJhaW50KTtcblx0ICpcblx0ICogQGV4YW1wbGVcblx0ICogICAgIHZhciBjb25zdHJhaW50ID0gbmV3IEdlYXJDb25zdHJhaW50KGJvZHlBLCBib2R5Qiwge1xuXHQgKiAgICAgICAgIHJhdGlvOiAyLFxuXHQgKiAgICAgICAgIG1heFRvcnF1ZTogMTAwMFxuXHQgKiAgICAgfSk7XG5cdCAqICAgICB3b3JsZC5hZGRDb25zdHJhaW50KGNvbnN0cmFpbnQpO1xuXHQgKi9cblx0ZnVuY3Rpb24gR2VhckNvbnN0cmFpbnQoYm9keUEsIGJvZHlCLCBvcHRpb25zKXtcblx0ICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXHRcblx0ICAgIENvbnN0cmFpbnQuY2FsbCh0aGlzLCBib2R5QSwgYm9keUIsIENvbnN0cmFpbnQuR0VBUiwgb3B0aW9ucyk7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGUgZ2VhciByYXRpby5cblx0ICAgICAqIEBwcm9wZXJ0eSByYXRpb1xuXHQgICAgICogQHR5cGUge051bWJlcn1cblx0ICAgICAqL1xuXHQgICAgdGhpcy5yYXRpbyA9IG9wdGlvbnMucmF0aW8gIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMucmF0aW8gOiAxO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVGhlIHJlbGF0aXZlIGFuZ2xlXG5cdCAgICAgKiBAcHJvcGVydHkgYW5nbGVcblx0ICAgICAqIEB0eXBlIHtOdW1iZXJ9XG5cdCAgICAgKi9cblx0ICAgIHRoaXMuYW5nbGUgPSBvcHRpb25zLmFuZ2xlICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmFuZ2xlIDogYm9keUIuYW5nbGUgLSB0aGlzLnJhdGlvICogYm9keUEuYW5nbGU7XG5cdFxuXHQgICAgLy8gU2VuZCBzYW1lIHBhcmFtZXRlcnMgdG8gdGhlIGVxdWF0aW9uXG5cdCAgICBvcHRpb25zLmFuZ2xlID0gdGhpcy5hbmdsZTtcblx0ICAgIG9wdGlvbnMucmF0aW8gPSB0aGlzLnJhdGlvO1xuXHRcblx0ICAgIHRoaXMuZXF1YXRpb25zID0gW1xuXHQgICAgICAgIG5ldyBBbmdsZUxvY2tFcXVhdGlvbihib2R5QSxib2R5QixvcHRpb25zKSxcblx0ICAgIF07XG5cdFxuXHQgICAgLy8gU2V0IG1heCB0b3JxdWVcblx0ICAgIGlmKG9wdGlvbnMubWF4VG9ycXVlICE9PSB1bmRlZmluZWQpe1xuXHQgICAgICAgIHRoaXMuc2V0TWF4VG9ycXVlKG9wdGlvbnMubWF4VG9ycXVlKTtcblx0ICAgIH1cblx0fVxuXHRHZWFyQ29uc3RyYWludC5wcm90b3R5cGUgPSBuZXcgQ29uc3RyYWludCgpO1xuXHRHZWFyQ29uc3RyYWludC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBHZWFyQ29uc3RyYWludDtcblx0XG5cdEdlYXJDb25zdHJhaW50LnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbigpe1xuXHQgICAgdmFyIGVxID0gdGhpcy5lcXVhdGlvbnNbMF07XG5cdCAgICBpZihlcS5yYXRpbyAhPT0gdGhpcy5yYXRpbyl7XG5cdCAgICAgICAgZXEuc2V0UmF0aW8odGhpcy5yYXRpbyk7XG5cdCAgICB9XG5cdCAgICBlcS5hbmdsZSA9IHRoaXMuYW5nbGU7XG5cdH07XG5cdFxuXHQvKipcblx0ICogU2V0IHRoZSBtYXggdG9ycXVlIGZvciB0aGUgY29uc3RyYWludC5cblx0ICogQG1ldGhvZCBzZXRNYXhUb3JxdWVcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHRvcnF1ZVxuXHQgKi9cblx0R2VhckNvbnN0cmFpbnQucHJvdG90eXBlLnNldE1heFRvcnF1ZSA9IGZ1bmN0aW9uKHRvcnF1ZSl7XG5cdCAgICB0aGlzLmVxdWF0aW9uc1swXS5zZXRNYXhUb3JxdWUodG9ycXVlKTtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBHZXQgdGhlIG1heCB0b3JxdWUgZm9yIHRoZSBjb25zdHJhaW50LlxuXHQgKiBAbWV0aG9kIGdldE1heFRvcnF1ZVxuXHQgKiBAcmV0dXJuIHtOdW1iZXJ9XG5cdCAqL1xuXHRHZWFyQ29uc3RyYWludC5wcm90b3R5cGUuZ2V0TWF4VG9ycXVlID0gZnVuY3Rpb24odG9ycXVlKXtcblx0ICAgIHJldHVybiB0aGlzLmVxdWF0aW9uc1swXS5tYXhGb3JjZTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDQ2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgQ29uc3RyYWludCA9IF9fd2VicGFja19yZXF1aXJlX18oNSlcblx0LCAgIHZlYzIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpXG5cdCwgICBFcXVhdGlvbiA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IExvY2tDb25zdHJhaW50O1xuXHRcblx0LyoqXG5cdCAqIExvY2tzIHRoZSByZWxhdGl2ZSBwb3NpdGlvbiBhbmQgcm90YXRpb24gYmV0d2VlbiB0d28gYm9kaWVzLlxuXHQgKlxuXHQgKiBAY2xhc3MgTG9ja0NvbnN0cmFpbnRcblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqIEBhdXRob3Igc2NodGVwcGVcblx0ICogQHBhcmFtIHtCb2R5fSBib2R5QVxuXHQgKiBAcGFyYW0ge0JvZHl9IGJvZHlCXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cblx0ICogQHBhcmFtIHtBcnJheX0gIFtvcHRpb25zLmxvY2FsT2Zmc2V0Ql0gVGhlIG9mZnNldCBvZiBib2R5QiBpbiBib2R5QSdzIGZyYW1lLiBJZiBub3QgZ2l2ZW4gdGhlIG9mZnNldCBpcyBjb21wdXRlZCBmcm9tIGN1cnJlbnQgcG9zaXRpb25zLlxuXHQgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubG9jYWxBbmdsZUJdIFRoZSBhbmdsZSBvZiBib2R5QiBpbiBib2R5QSdzIGZyYW1lLiBJZiBub3QgZ2l2ZW4sIHRoZSBhbmdsZSBpcyBjb21wdXRlZCBmcm9tIGN1cnJlbnQgYW5nbGVzLlxuXHQgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubWF4Rm9yY2VdXG5cdCAqIEBleHRlbmRzIENvbnN0cmFpbnRcblx0ICpcblx0ICogQGV4YW1wbGVcblx0ICogICAgIC8vIExvY2tzIHRoZSByZWxhdGl2ZSBwb3NpdGlvbiBhbmQgcm90YXRpb24gYmV0d2VlbiBib2R5QSBhbmQgYm9keUJcblx0ICogICAgIHZhciBjb25zdHJhaW50ID0gbmV3IExvY2tDb25zdHJhaW50KGJvZHlBLCBib2R5Qik7XG5cdCAqICAgICB3b3JsZC5hZGRDb25zdHJhaW50KGNvbnN0cmFpbnQpO1xuXHQgKi9cblx0ZnVuY3Rpb24gTG9ja0NvbnN0cmFpbnQoYm9keUEsIGJvZHlCLCBvcHRpb25zKXtcblx0ICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXHRcblx0ICAgIENvbnN0cmFpbnQuY2FsbCh0aGlzLGJvZHlBLGJvZHlCLENvbnN0cmFpbnQuTE9DSyxvcHRpb25zKTtcblx0XG5cdCAgICB2YXIgbWF4Rm9yY2UgPSAoIHR5cGVvZihvcHRpb25zLm1heEZvcmNlKT09PVwidW5kZWZpbmVkXCIgPyBOdW1iZXIuTUFYX1ZBTFVFIDogb3B0aW9ucy5tYXhGb3JjZSApO1xuXHRcblx0ICAgIHZhciBsb2NhbEFuZ2xlQiA9IG9wdGlvbnMubG9jYWxBbmdsZUIgfHwgMDtcblx0XG5cdCAgICAvLyBVc2UgMyBlcXVhdGlvbnM6XG5cdCAgICAvLyBneCA9ICAgKHhqIC0geGkgLSBsKSAqIHhoYXQgPSAwXG5cdCAgICAvLyBneSA9ICAgKHhqIC0geGkgLSBsKSAqIHloYXQgPSAwXG5cdCAgICAvLyBnciA9ICAgKHhpIC0geGogKyByKSAqIHRoYXQgPSAwXG5cdCAgICAvL1xuXHQgICAgLy8gLi4ud2hlcmU6XG5cdCAgICAvLyAgIGwgaXMgdGhlIGxvY2FsT2Zmc2V0QiB2ZWN0b3Igcm90YXRlZCB0byB3b3JsZCBpbiBib2R5QSBmcmFtZVxuXHQgICAgLy8gICByIGlzIHRoZSBzYW1lIHZlY3RvciBidXQgcmV2ZXJzZWQgYW5kIHJvdGF0ZWQgZnJvbSBib2R5QiBmcmFtZVxuXHQgICAgLy8gICB4aGF0LCB5aGF0IGFyZSB3b3JsZCBheGlzIHZlY3RvcnNcblx0ICAgIC8vICAgdGhhdCBpcyB0aGUgdGFuZ2VudCBvZiByXG5cdCAgICAvL1xuXHQgICAgLy8gRm9yIHRoZSBmaXJzdCB0d28gY29uc3RyYWludHMsIHdlIGdldFxuXHQgICAgLy8gRypXID0gKHZqIC0gdmkgLSBsZG90ICApICogeGhhdFxuXHQgICAgLy8gICAgID0gKHZqIC0gdmkgLSB3aSB4IGwpICogeGhhdFxuXHQgICAgLy9cblx0ICAgIC8vIFNpbmNlICh3aSB4IGwpICogeGhhdCA9IChsIHggeGhhdCkgKiB3aSwgd2UgZ2V0XG5cdCAgICAvLyBHKlcgPSBbIC0xICAgMCAgICgtbCB4IHhoYXQpICAxICAgMCAgIDBdICogW3ZpIHdpIHZqIHdqXVxuXHQgICAgLy9cblx0ICAgIC8vIFRoZSBsYXN0IGNvbnN0cmFpbnQgZ2l2ZXNcblx0ICAgIC8vIEdXID0gKHZpIC0gdmogKyB3aiB4IHIpICogdGhhdFxuXHQgICAgLy8gICAgPSBbICB0aGF0ICAgMCAgLXRoYXQgIChyIHggdCkgXVxuXHRcblx0ICAgIHZhciB4ID0gICAgIG5ldyBFcXVhdGlvbihib2R5QSxib2R5QiwtbWF4Rm9yY2UsbWF4Rm9yY2UpLFxuXHQgICAgICAgIHkgPSAgICAgbmV3IEVxdWF0aW9uKGJvZHlBLGJvZHlCLC1tYXhGb3JjZSxtYXhGb3JjZSksXG5cdCAgICAgICAgcm90ID0gICBuZXcgRXF1YXRpb24oYm9keUEsYm9keUIsLW1heEZvcmNlLG1heEZvcmNlKTtcblx0XG5cdCAgICB2YXIgbCA9IHZlYzIuY3JlYXRlKCksXG5cdCAgICAgICAgZyA9IHZlYzIuY3JlYXRlKCksXG5cdCAgICAgICAgdGhhdCA9IHRoaXM7XG5cdCAgICB4LmNvbXB1dGVHcSA9IGZ1bmN0aW9uKCl7XG5cdCAgICAgICAgdmVjMi5yb3RhdGUobCwgdGhhdC5sb2NhbE9mZnNldEIsIGJvZHlBLmFuZ2xlKTtcblx0ICAgICAgICB2ZWMyLnN1YihnLCBib2R5Qi5wb3NpdGlvbiwgYm9keUEucG9zaXRpb24pO1xuXHQgICAgICAgIHZlYzIuc3ViKGcsIGcsIGwpO1xuXHQgICAgICAgIHJldHVybiBnWzBdO1xuXHQgICAgfTtcblx0ICAgIHkuY29tcHV0ZUdxID0gZnVuY3Rpb24oKXtcblx0ICAgICAgICB2ZWMyLnJvdGF0ZShsLCB0aGF0LmxvY2FsT2Zmc2V0QiwgYm9keUEuYW5nbGUpO1xuXHQgICAgICAgIHZlYzIuc3ViKGcsIGJvZHlCLnBvc2l0aW9uLCBib2R5QS5wb3NpdGlvbik7XG5cdCAgICAgICAgdmVjMi5zdWIoZywgZywgbCk7XG5cdCAgICAgICAgcmV0dXJuIGdbMV07XG5cdCAgICB9O1xuXHQgICAgdmFyIHIgPSB2ZWMyLmNyZWF0ZSgpLFxuXHQgICAgICAgIHQgPSB2ZWMyLmNyZWF0ZSgpO1xuXHQgICAgcm90LmNvbXB1dGVHcSA9IGZ1bmN0aW9uKCl7XG5cdCAgICAgICAgdmVjMi5yb3RhdGUociwgdGhhdC5sb2NhbE9mZnNldEIsIGJvZHlCLmFuZ2xlIC0gdGhhdC5sb2NhbEFuZ2xlQik7XG5cdCAgICAgICAgdmVjMi5zY2FsZShyLHIsLTEpO1xuXHQgICAgICAgIHZlYzIuc3ViKGcsYm9keUEucG9zaXRpb24sYm9keUIucG9zaXRpb24pO1xuXHQgICAgICAgIHZlYzIuYWRkKGcsZyxyKTtcblx0ICAgICAgICB2ZWMyLnJvdGF0ZSh0LHIsLU1hdGguUEkvMik7XG5cdCAgICAgICAgdmVjMi5ub3JtYWxpemUodCx0KTtcblx0ICAgICAgICByZXR1cm4gdmVjMi5kb3QoZyx0KTtcblx0ICAgIH07XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGUgb2Zmc2V0IG9mIGJvZHlCIGluIGJvZHlBJ3MgZnJhbWUuXG5cdCAgICAgKiBAcHJvcGVydHkge0FycmF5fSBsb2NhbE9mZnNldEJcblx0ICAgICAqL1xuXHQgICAgdGhpcy5sb2NhbE9mZnNldEIgPSB2ZWMyLmNyZWF0ZSgpO1xuXHQgICAgaWYob3B0aW9ucy5sb2NhbE9mZnNldEIpe1xuXHQgICAgICAgIHZlYzIuY29weSh0aGlzLmxvY2FsT2Zmc2V0Qiwgb3B0aW9ucy5sb2NhbE9mZnNldEIpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICAvLyBDb25zdHJ1Y3QgZnJvbSBjdXJyZW50IHBvc2l0aW9uc1xuXHQgICAgICAgIHZlYzIuc3ViKHRoaXMubG9jYWxPZmZzZXRCLCBib2R5Qi5wb3NpdGlvbiwgYm9keUEucG9zaXRpb24pO1xuXHQgICAgICAgIHZlYzIucm90YXRlKHRoaXMubG9jYWxPZmZzZXRCLCB0aGlzLmxvY2FsT2Zmc2V0QiwgLWJvZHlBLmFuZ2xlKTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIFRoZSBvZmZzZXQgYW5nbGUgb2YgYm9keUIgaW4gYm9keUEncyBmcmFtZS5cblx0ICAgICAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBsb2NhbEFuZ2xlQlxuXHQgICAgICovXG5cdCAgICB0aGlzLmxvY2FsQW5nbGVCID0gMDtcblx0ICAgIGlmKHR5cGVvZihvcHRpb25zLmxvY2FsQW5nbGVCKSA9PT0gJ251bWJlcicpe1xuXHQgICAgICAgIHRoaXMubG9jYWxBbmdsZUIgPSBvcHRpb25zLmxvY2FsQW5nbGVCO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICAvLyBDb25zdHJ1Y3Rcblx0ICAgICAgICB0aGlzLmxvY2FsQW5nbGVCID0gYm9keUIuYW5nbGUgLSBib2R5QS5hbmdsZTtcblx0ICAgIH1cblx0XG5cdCAgICB0aGlzLmVxdWF0aW9ucy5wdXNoKHgsIHksIHJvdCk7XG5cdCAgICB0aGlzLnNldE1heEZvcmNlKG1heEZvcmNlKTtcblx0fVxuXHRMb2NrQ29uc3RyYWludC5wcm90b3R5cGUgPSBuZXcgQ29uc3RyYWludCgpO1xuXHRMb2NrQ29uc3RyYWludC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBMb2NrQ29uc3RyYWludDtcblx0XG5cdC8qKlxuXHQgKiBTZXQgdGhlIG1heGltdW0gZm9yY2UgdG8gYmUgYXBwbGllZC5cblx0ICogQG1ldGhvZCBzZXRNYXhGb3JjZVxuXHQgKiBAcGFyYW0ge051bWJlcn0gZm9yY2Vcblx0ICovXG5cdExvY2tDb25zdHJhaW50LnByb3RvdHlwZS5zZXRNYXhGb3JjZSA9IGZ1bmN0aW9uKGZvcmNlKXtcblx0ICAgIHZhciBlcXMgPSB0aGlzLmVxdWF0aW9ucztcblx0ICAgIGZvcih2YXIgaT0wOyBpPHRoaXMuZXF1YXRpb25zLmxlbmd0aDsgaSsrKXtcblx0ICAgICAgICBlcXNbaV0ubWF4Rm9yY2UgPSAgZm9yY2U7XG5cdCAgICAgICAgZXFzW2ldLm1pbkZvcmNlID0gLWZvcmNlO1xuXHQgICAgfVxuXHR9O1xuXHRcblx0LyoqXG5cdCAqIEdldCB0aGUgbWF4IGZvcmNlLlxuXHQgKiBAbWV0aG9kIGdldE1heEZvcmNlXG5cdCAqIEByZXR1cm4ge051bWJlcn1cblx0ICovXG5cdExvY2tDb25zdHJhaW50LnByb3RvdHlwZS5nZXRNYXhGb3JjZSA9IGZ1bmN0aW9uKCl7XG5cdCAgICByZXR1cm4gdGhpcy5lcXVhdGlvbnNbMF0ubWF4Rm9yY2U7XG5cdH07XG5cdFxuXHR2YXIgbCA9IHZlYzIuY3JlYXRlKCk7XG5cdHZhciByID0gdmVjMi5jcmVhdGUoKTtcblx0dmFyIHQgPSB2ZWMyLmNyZWF0ZSgpO1xuXHR2YXIgeEF4aXMgPSB2ZWMyLmZyb21WYWx1ZXMoMSwwKTtcblx0dmFyIHlBeGlzID0gdmVjMi5mcm9tVmFsdWVzKDAsMSk7XG5cdExvY2tDb25zdHJhaW50LnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbigpe1xuXHQgICAgdmFyIHggPSAgIHRoaXMuZXF1YXRpb25zWzBdLFxuXHQgICAgICAgIHkgPSAgIHRoaXMuZXF1YXRpb25zWzFdLFxuXHQgICAgICAgIHJvdCA9IHRoaXMuZXF1YXRpb25zWzJdLFxuXHQgICAgICAgIGJvZHlBID0gdGhpcy5ib2R5QSxcblx0ICAgICAgICBib2R5QiA9IHRoaXMuYm9keUI7XG5cdFxuXHQgICAgdmVjMi5yb3RhdGUobCx0aGlzLmxvY2FsT2Zmc2V0Qixib2R5QS5hbmdsZSk7XG5cdCAgICB2ZWMyLnJvdGF0ZShyLHRoaXMubG9jYWxPZmZzZXRCLGJvZHlCLmFuZ2xlIC0gdGhpcy5sb2NhbEFuZ2xlQik7XG5cdCAgICB2ZWMyLnNjYWxlKHIsciwtMSk7XG5cdFxuXHQgICAgdmVjMi5yb3RhdGUodCxyLE1hdGguUEkvMik7XG5cdCAgICB2ZWMyLm5vcm1hbGl6ZSh0LHQpO1xuXHRcblx0ICAgIHguR1swXSA9IC0xO1xuXHQgICAgeC5HWzFdID0gIDA7XG5cdCAgICB4LkdbMl0gPSAtdmVjMi5jcm9zc0xlbmd0aChsLHhBeGlzKTtcblx0ICAgIHguR1szXSA9ICAxO1xuXHRcblx0ICAgIHkuR1swXSA9ICAwO1xuXHQgICAgeS5HWzFdID0gLTE7XG5cdCAgICB5LkdbMl0gPSAtdmVjMi5jcm9zc0xlbmd0aChsLHlBeGlzKTtcblx0ICAgIHkuR1s0XSA9ICAxO1xuXHRcblx0ICAgIHJvdC5HWzBdID0gIC10WzBdO1xuXHQgICAgcm90LkdbMV0gPSAgLXRbMV07XG5cdCAgICByb3QuR1szXSA9ICB0WzBdO1xuXHQgICAgcm90LkdbNF0gPSAgdFsxXTtcblx0ICAgIHJvdC5HWzVdID0gIHZlYzIuY3Jvc3NMZW5ndGgocix0KTtcblx0fTtcblxuXG4vKioqLyB9LFxuLyogNDcgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBDb25zdHJhaW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KVxuXHQsICAgQ29udGFjdEVxdWF0aW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOSlcblx0LCAgIEVxdWF0aW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKVxuXHQsICAgdmVjMiA9IF9fd2VicGFja19yZXF1aXJlX18oMSlcblx0LCAgIFJvdGF0aW9uYWxMb2NrRXF1YXRpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUwKTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gUHJpc21hdGljQ29uc3RyYWludDtcblx0XG5cdC8qKlxuXHQgKiBDb25zdHJhaW50IHRoYXQgb25seSBhbGxvd3MgYm9kaWVzIHRvIG1vdmUgYWxvbmcgYSBsaW5lLCByZWxhdGl2ZSB0byBlYWNoIG90aGVyLiBTZWUgPGEgaHJlZj1cImh0dHA6Ly93d3cuaWZvcmNlMmQubmV0L2IyZHR1dC9qb2ludHMtcHJpc21hdGljXCI+dGhpcyB0dXRvcmlhbDwvYT4uIEFsc28gY2FsbGVkIFwic2xpZGVyIGNvbnN0cmFpbnRcIi5cblx0ICpcblx0ICogQGNsYXNzIFByaXNtYXRpY0NvbnN0cmFpbnRcblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqIEBleHRlbmRzIENvbnN0cmFpbnRcblx0ICogQGF1dGhvciBzY2h0ZXBwZVxuXHQgKiBAcGFyYW0ge0JvZHl9ICAgIGJvZHlBXG5cdCAqIEBwYXJhbSB7Qm9keX0gICAgYm9keUJcblx0ICogQHBhcmFtIHtPYmplY3R9ICBbb3B0aW9uc11cblx0ICogQHBhcmFtIHtOdW1iZXJ9ICBbb3B0aW9ucy5tYXhGb3JjZV0gICAgICAgICAgICAgICAgTWF4IGZvcmNlIHRvIGJlIGFwcGxpZWQgYnkgdGhlIGNvbnN0cmFpbnRcblx0ICogQHBhcmFtIHtBcnJheX0gICBbb3B0aW9ucy5sb2NhbEFuY2hvckFdICAgICAgICAgICAgQm9keSBBJ3MgYW5jaG9yIHBvaW50LCBkZWZpbmVkIGluIGl0cyBvd24gbG9jYWwgZnJhbWUuXG5cdCAqIEBwYXJhbSB7QXJyYXl9ICAgW29wdGlvbnMubG9jYWxBbmNob3JCXSAgICAgICAgICAgIEJvZHkgQidzIGFuY2hvciBwb2ludCwgZGVmaW5lZCBpbiBpdHMgb3duIGxvY2FsIGZyYW1lLlxuXHQgKiBAcGFyYW0ge0FycmF5fSAgIFtvcHRpb25zLmxvY2FsQXhpc0FdICAgICAgICAgICAgICBBbiBheGlzLCBkZWZpbmVkIGluIGJvZHkgQSBmcmFtZSwgdGhhdCBib2R5IEIncyBhbmNob3IgcG9pbnQgbWF5IHNsaWRlIGFsb25nLlxuXHQgKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLmRpc2FibGVSb3RhdGlvbmFsTG9ja10gICBJZiBzZXQgdG8gdHJ1ZSwgYm9keUIgd2lsbCBiZSBmcmVlIHRvIHJvdGF0ZSBhcm91bmQgaXRzIGFuY2hvciBwb2ludC5cblx0ICogQHBhcmFtIHtOdW1iZXJ9ICBbb3B0aW9ucy51cHBlckxpbWl0XVxuXHQgKiBAcGFyYW0ge051bWJlcn0gIFtvcHRpb25zLmxvd2VyTGltaXRdXG5cdCAqIEB0b2RvIEFiaWxpdHkgdG8gY3JlYXRlIHVzaW5nIG9ubHkgYSBwb2ludCBhbmQgYSB3b3JsZEF4aXNcblx0ICovXG5cdGZ1bmN0aW9uIFByaXNtYXRpY0NvbnN0cmFpbnQoYm9keUEsIGJvZHlCLCBvcHRpb25zKXtcblx0ICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXHQgICAgQ29uc3RyYWludC5jYWxsKHRoaXMsYm9keUEsYm9keUIsQ29uc3RyYWludC5QUklTTUFUSUMsb3B0aW9ucyk7XG5cdFxuXHQgICAgLy8gR2V0IGFuY2hvcnNcblx0ICAgIHZhciBsb2NhbEFuY2hvckEgPSB2ZWMyLmZyb21WYWx1ZXMoMCwwKSxcblx0ICAgICAgICBsb2NhbEF4aXNBID0gdmVjMi5mcm9tVmFsdWVzKDEsMCksXG5cdCAgICAgICAgbG9jYWxBbmNob3JCID0gdmVjMi5mcm9tVmFsdWVzKDAsMCk7XG5cdCAgICBpZihvcHRpb25zLmxvY2FsQW5jaG9yQSl7IHZlYzIuY29weShsb2NhbEFuY2hvckEsIG9wdGlvbnMubG9jYWxBbmNob3JBKTsgfVxuXHQgICAgaWYob3B0aW9ucy5sb2NhbEF4aXNBKXsgdmVjMi5jb3B5KGxvY2FsQXhpc0EsICAgb3B0aW9ucy5sb2NhbEF4aXNBKTsgfVxuXHQgICAgaWYob3B0aW9ucy5sb2NhbEFuY2hvckIpeyB2ZWMyLmNvcHkobG9jYWxBbmNob3JCLCBvcHRpb25zLmxvY2FsQW5jaG9yQik7IH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIEBwcm9wZXJ0eSBsb2NhbEFuY2hvckFcblx0ICAgICAqIEB0eXBlIHtBcnJheX1cblx0ICAgICAqL1xuXHQgICAgdGhpcy5sb2NhbEFuY2hvckEgPSBsb2NhbEFuY2hvckE7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBAcHJvcGVydHkgbG9jYWxBbmNob3JCXG5cdCAgICAgKiBAdHlwZSB7QXJyYXl9XG5cdCAgICAgKi9cblx0ICAgIHRoaXMubG9jYWxBbmNob3JCID0gbG9jYWxBbmNob3JCO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQHByb3BlcnR5IGxvY2FsQXhpc0Fcblx0ICAgICAqIEB0eXBlIHtBcnJheX1cblx0ICAgICAqL1xuXHQgICAgdGhpcy5sb2NhbEF4aXNBID0gbG9jYWxBeGlzQTtcblx0XG5cdCAgICAvKlxuXHRcblx0ICAgIFRoZSBjb25zdHJhaW50IHZpb2xhdGlvbiBmb3IgdGhlIGNvbW1vbiBheGlzIHBvaW50IGlzXG5cdFxuXHQgICAgICAgIGcgPSAoIHhqICsgcmogLSB4aSAtIHJpICkgKiB0ICAgOj0gIGdnKnRcblx0XG5cdCAgICB3aGVyZSByIGFyZSBib2R5LWxvY2FsIGFuY2hvciBwb2ludHMsIGFuZCB0IGlzIGEgdGFuZ2VudCB0byB0aGUgY29uc3RyYWludCBheGlzIGRlZmluZWQgaW4gYm9keSBpIGZyYW1lLlxuXHRcblx0ICAgICAgICBnZG90ID0gICggdmogKyB3aiB4IHJqIC0gdmkgLSB3aSB4IHJpICkgKiB0ICsgKCB4aiArIHJqIC0geGkgLSByaSApICogKCB3aSB4IHQgKVxuXHRcblx0ICAgIE5vdGUgdGhlIHVzZSBvZiB0aGUgY2hhaW4gcnVsZS4gTm93IHdlIGlkZW50aWZ5IHRoZSBqYWNvYmlhblxuXHRcblx0ICAgICAgICBHKlcgPSBbIC10ICAgICAgLXJpIHggdCArIHQgeCBnZyAgICAgdCAgICByaiB4IHQgXSAqIFt2aSB3aSB2aiB3al1cblx0XG5cdCAgICBUaGUgcm90YXRpb25hbCBwYXJ0IGlzIGp1c3QgYSByb3RhdGlvbiBsb2NrLlxuXHRcblx0ICAgICAqL1xuXHRcblx0ICAgIHZhciBtYXhGb3JjZSA9IHRoaXMubWF4Rm9yY2UgPSB0eXBlb2Yob3B0aW9ucy5tYXhGb3JjZSkhPT1cInVuZGVmaW5lZFwiID8gb3B0aW9ucy5tYXhGb3JjZSA6IE51bWJlci5NQVhfVkFMVUU7XG5cdFxuXHQgICAgLy8gVHJhbnNsYXRpb25hbCBwYXJ0XG5cdCAgICB2YXIgdHJhbnMgPSBuZXcgRXF1YXRpb24oYm9keUEsYm9keUIsLW1heEZvcmNlLG1heEZvcmNlKTtcblx0ICAgIHZhciByaSA9IG5ldyB2ZWMyLmNyZWF0ZSgpLFxuXHQgICAgICAgIHJqID0gbmV3IHZlYzIuY3JlYXRlKCksXG5cdCAgICAgICAgZ2cgPSBuZXcgdmVjMi5jcmVhdGUoKSxcblx0ICAgICAgICB0ID0gIG5ldyB2ZWMyLmNyZWF0ZSgpO1xuXHQgICAgdHJhbnMuY29tcHV0ZUdxID0gZnVuY3Rpb24oKXtcblx0ICAgICAgICAvLyBnID0gKCB4aiArIHJqIC0geGkgLSByaSApICogdFxuXHQgICAgICAgIHJldHVybiB2ZWMyLmRvdChnZyx0KTtcblx0ICAgIH07XG5cdCAgICB0cmFucy51cGRhdGVKYWNvYmlhbiA9IGZ1bmN0aW9uKCl7XG5cdCAgICAgICAgdmFyIEcgPSB0aGlzLkcsXG5cdCAgICAgICAgICAgIHhpID0gYm9keUEucG9zaXRpb24sXG5cdCAgICAgICAgICAgIHhqID0gYm9keUIucG9zaXRpb247XG5cdCAgICAgICAgdmVjMi5yb3RhdGUocmksbG9jYWxBbmNob3JBLGJvZHlBLmFuZ2xlKTtcblx0ICAgICAgICB2ZWMyLnJvdGF0ZShyaixsb2NhbEFuY2hvckIsYm9keUIuYW5nbGUpO1xuXHQgICAgICAgIHZlYzIuYWRkKGdnLHhqLHJqKTtcblx0ICAgICAgICB2ZWMyLnN1YihnZyxnZyx4aSk7XG5cdCAgICAgICAgdmVjMi5zdWIoZ2csZ2cscmkpO1xuXHQgICAgICAgIHZlYzIucm90YXRlKHQsbG9jYWxBeGlzQSxib2R5QS5hbmdsZStNYXRoLlBJLzIpO1xuXHRcblx0ICAgICAgICBHWzBdID0gLXRbMF07XG5cdCAgICAgICAgR1sxXSA9IC10WzFdO1xuXHQgICAgICAgIEdbMl0gPSAtdmVjMi5jcm9zc0xlbmd0aChyaSx0KSArIHZlYzIuY3Jvc3NMZW5ndGgodCxnZyk7XG5cdCAgICAgICAgR1szXSA9IHRbMF07XG5cdCAgICAgICAgR1s0XSA9IHRbMV07XG5cdCAgICAgICAgR1s1XSA9IHZlYzIuY3Jvc3NMZW5ndGgocmosdCk7XG5cdCAgICB9O1xuXHQgICAgdGhpcy5lcXVhdGlvbnMucHVzaCh0cmFucyk7XG5cdFxuXHQgICAgLy8gUm90YXRpb25hbCBwYXJ0XG5cdCAgICBpZighb3B0aW9ucy5kaXNhYmxlUm90YXRpb25hbExvY2spe1xuXHQgICAgICAgIHZhciByb3QgPSBuZXcgUm90YXRpb25hbExvY2tFcXVhdGlvbihib2R5QSxib2R5QiwtbWF4Rm9yY2UsbWF4Rm9yY2UpO1xuXHQgICAgICAgIHRoaXMuZXF1YXRpb25zLnB1c2gocm90KTtcblx0ICAgIH1cblx0XG5cdCAgICAvKipcblx0ICAgICAqIFRoZSBwb3NpdGlvbiBvZiBhbmNob3IgQSByZWxhdGl2ZSB0byBhbmNob3IgQiwgYWxvbmcgdGhlIGNvbnN0cmFpbnQgYXhpcy5cblx0ICAgICAqIEBwcm9wZXJ0eSBwb3NpdGlvblxuXHQgICAgICogQHR5cGUge051bWJlcn1cblx0ICAgICAqL1xuXHQgICAgdGhpcy5wb3NpdGlvbiA9IDA7XG5cdFxuXHQgICAgLy8gSXMgdGhpcyBvbmUgdXNlZCBhdCBhbGw/XG5cdCAgICB0aGlzLnZlbG9jaXR5ID0gMDtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIFNldCB0byB0cnVlIHRvIGVuYWJsZSBsb3dlciBsaW1pdC5cblx0ICAgICAqIEBwcm9wZXJ0eSBsb3dlckxpbWl0RW5hYmxlZFxuXHQgICAgICogQHR5cGUge0Jvb2xlYW59XG5cdCAgICAgKi9cblx0ICAgIHRoaXMubG93ZXJMaW1pdEVuYWJsZWQgPSB0eXBlb2Yob3B0aW9ucy5sb3dlckxpbWl0KSE9PVwidW5kZWZpbmVkXCIgPyB0cnVlIDogZmFsc2U7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBTZXQgdG8gdHJ1ZSB0byBlbmFibGUgdXBwZXIgbGltaXQuXG5cdCAgICAgKiBAcHJvcGVydHkgdXBwZXJMaW1pdEVuYWJsZWRcblx0ICAgICAqIEB0eXBlIHtCb29sZWFufVxuXHQgICAgICovXG5cdCAgICB0aGlzLnVwcGVyTGltaXRFbmFibGVkID0gdHlwZW9mKG9wdGlvbnMudXBwZXJMaW1pdCkhPT1cInVuZGVmaW5lZFwiID8gdHJ1ZSA6IGZhbHNlO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogTG93ZXIgY29uc3RyYWludCBsaW1pdC4gVGhlIGNvbnN0cmFpbnQgcG9zaXRpb24gaXMgZm9yY2VkIHRvIGJlIGxhcmdlciB0aGFuIHRoaXMgdmFsdWUuXG5cdCAgICAgKiBAcHJvcGVydHkgbG93ZXJMaW1pdFxuXHQgICAgICogQHR5cGUge051bWJlcn1cblx0ICAgICAqL1xuXHQgICAgdGhpcy5sb3dlckxpbWl0ID0gdHlwZW9mKG9wdGlvbnMubG93ZXJMaW1pdCkhPT1cInVuZGVmaW5lZFwiID8gb3B0aW9ucy5sb3dlckxpbWl0IDogMDtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIFVwcGVyIGNvbnN0cmFpbnQgbGltaXQuIFRoZSBjb25zdHJhaW50IHBvc2l0aW9uIGlzIGZvcmNlZCB0byBiZSBzbWFsbGVyIHRoYW4gdGhpcyB2YWx1ZS5cblx0ICAgICAqIEBwcm9wZXJ0eSB1cHBlckxpbWl0XG5cdCAgICAgKiBAdHlwZSB7TnVtYmVyfVxuXHQgICAgICovXG5cdCAgICB0aGlzLnVwcGVyTGltaXQgPSB0eXBlb2Yob3B0aW9ucy51cHBlckxpbWl0KSE9PVwidW5kZWZpbmVkXCIgPyBvcHRpb25zLnVwcGVyTGltaXQgOiAxO1xuXHRcblx0ICAgIC8vIEVxdWF0aW9ucyB1c2VkIGZvciBsaW1pdHNcblx0ICAgIHRoaXMudXBwZXJMaW1pdEVxdWF0aW9uID0gbmV3IENvbnRhY3RFcXVhdGlvbihib2R5QSxib2R5Qik7XG5cdCAgICB0aGlzLmxvd2VyTGltaXRFcXVhdGlvbiA9IG5ldyBDb250YWN0RXF1YXRpb24oYm9keUEsYm9keUIpO1xuXHRcblx0ICAgIC8vIFNldCBtYXgvbWluIGZvcmNlc1xuXHQgICAgdGhpcy51cHBlckxpbWl0RXF1YXRpb24ubWluRm9yY2UgPSB0aGlzLmxvd2VyTGltaXRFcXVhdGlvbi5taW5Gb3JjZSA9IDA7XG5cdCAgICB0aGlzLnVwcGVyTGltaXRFcXVhdGlvbi5tYXhGb3JjZSA9IHRoaXMubG93ZXJMaW1pdEVxdWF0aW9uLm1heEZvcmNlID0gbWF4Rm9yY2U7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBFcXVhdGlvbiB1c2VkIGZvciB0aGUgbW90b3IuXG5cdCAgICAgKiBAcHJvcGVydHkgbW90b3JFcXVhdGlvblxuXHQgICAgICogQHR5cGUge0VxdWF0aW9ufVxuXHQgICAgICovXG5cdCAgICB0aGlzLm1vdG9yRXF1YXRpb24gPSBuZXcgRXF1YXRpb24oYm9keUEsYm9keUIpO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVGhlIGN1cnJlbnQgbW90b3Igc3RhdGUuIEVuYWJsZSBvciBkaXNhYmxlIHRoZSBtb3RvciB1c2luZyAuZW5hYmxlTW90b3Jcblx0ICAgICAqIEBwcm9wZXJ0eSBtb3RvckVuYWJsZWRcblx0ICAgICAqIEB0eXBlIHtCb29sZWFufVxuXHQgICAgICovXG5cdCAgICB0aGlzLm1vdG9yRW5hYmxlZCA9IGZhbHNlO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogU2V0IHRoZSB0YXJnZXQgc3BlZWQgZm9yIHRoZSBtb3Rvci5cblx0ICAgICAqIEBwcm9wZXJ0eSBtb3RvclNwZWVkXG5cdCAgICAgKiBAdHlwZSB7TnVtYmVyfVxuXHQgICAgICovXG5cdCAgICB0aGlzLm1vdG9yU3BlZWQgPSAwO1xuXHRcblx0ICAgIHZhciB0aGF0ID0gdGhpcztcblx0ICAgIHZhciBtb3RvckVxdWF0aW9uID0gdGhpcy5tb3RvckVxdWF0aW9uO1xuXHQgICAgdmFyIG9sZCA9IG1vdG9yRXF1YXRpb24uY29tcHV0ZUdXO1xuXHQgICAgbW90b3JFcXVhdGlvbi5jb21wdXRlR3EgPSBmdW5jdGlvbigpeyByZXR1cm4gMDsgfTtcblx0ICAgIG1vdG9yRXF1YXRpb24uY29tcHV0ZUdXID0gZnVuY3Rpb24oKXtcblx0ICAgICAgICB2YXIgRyA9IHRoaXMuRyxcblx0ICAgICAgICAgICAgYmkgPSB0aGlzLmJvZHlBLFxuXHQgICAgICAgICAgICBiaiA9IHRoaXMuYm9keUIsXG5cdCAgICAgICAgICAgIHZpID0gYmkudmVsb2NpdHksXG5cdCAgICAgICAgICAgIHZqID0gYmoudmVsb2NpdHksXG5cdCAgICAgICAgICAgIHdpID0gYmkuYW5ndWxhclZlbG9jaXR5LFxuXHQgICAgICAgICAgICB3aiA9IGJqLmFuZ3VsYXJWZWxvY2l0eTtcblx0ICAgICAgICByZXR1cm4gdGhpcy5nbXVsdChHLHZpLHdpLHZqLHdqKSArIHRoYXQubW90b3JTcGVlZDtcblx0ICAgIH07XG5cdH1cblx0XG5cdFByaXNtYXRpY0NvbnN0cmFpbnQucHJvdG90eXBlID0gbmV3IENvbnN0cmFpbnQoKTtcblx0UHJpc21hdGljQ29uc3RyYWludC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBQcmlzbWF0aWNDb25zdHJhaW50O1xuXHRcblx0dmFyIHdvcmxkQXhpc0EgPSB2ZWMyLmNyZWF0ZSgpLFxuXHQgICAgd29ybGRBbmNob3JBID0gdmVjMi5jcmVhdGUoKSxcblx0ICAgIHdvcmxkQW5jaG9yQiA9IHZlYzIuY3JlYXRlKCksXG5cdCAgICBvcmllbnRlZEFuY2hvckEgPSB2ZWMyLmNyZWF0ZSgpLFxuXHQgICAgb3JpZW50ZWRBbmNob3JCID0gdmVjMi5jcmVhdGUoKSxcblx0ICAgIHRtcCA9IHZlYzIuY3JlYXRlKCk7XG5cdFxuXHQvKipcblx0ICogVXBkYXRlIHRoZSBjb25zdHJhaW50IGVxdWF0aW9ucy4gU2hvdWxkIGJlIGRvbmUgaWYgYW55IG9mIHRoZSBib2RpZXMgY2hhbmdlZCBwb3NpdGlvbiwgYmVmb3JlIHNvbHZpbmcuXG5cdCAqIEBtZXRob2QgdXBkYXRlXG5cdCAqL1xuXHRQcmlzbWF0aWNDb25zdHJhaW50LnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbigpe1xuXHQgICAgdmFyIGVxcyA9IHRoaXMuZXF1YXRpb25zLFxuXHQgICAgICAgIHRyYW5zID0gZXFzWzBdLFxuXHQgICAgICAgIHVwcGVyTGltaXQgPSB0aGlzLnVwcGVyTGltaXQsXG5cdCAgICAgICAgbG93ZXJMaW1pdCA9IHRoaXMubG93ZXJMaW1pdCxcblx0ICAgICAgICB1cHBlckxpbWl0RXF1YXRpb24gPSB0aGlzLnVwcGVyTGltaXRFcXVhdGlvbixcblx0ICAgICAgICBsb3dlckxpbWl0RXF1YXRpb24gPSB0aGlzLmxvd2VyTGltaXRFcXVhdGlvbixcblx0ICAgICAgICBib2R5QSA9IHRoaXMuYm9keUEsXG5cdCAgICAgICAgYm9keUIgPSB0aGlzLmJvZHlCLFxuXHQgICAgICAgIGxvY2FsQXhpc0EgPSB0aGlzLmxvY2FsQXhpc0EsXG5cdCAgICAgICAgbG9jYWxBbmNob3JBID0gdGhpcy5sb2NhbEFuY2hvckEsXG5cdCAgICAgICAgbG9jYWxBbmNob3JCID0gdGhpcy5sb2NhbEFuY2hvckI7XG5cdFxuXHQgICAgdHJhbnMudXBkYXRlSmFjb2JpYW4oKTtcblx0XG5cdCAgICAvLyBUcmFuc2Zvcm0gbG9jYWwgdGhpbmdzIHRvIHdvcmxkXG5cdCAgICB2ZWMyLnJvdGF0ZSh3b3JsZEF4aXNBLCAgICAgIGxvY2FsQXhpc0EsICAgICAgYm9keUEuYW5nbGUpO1xuXHQgICAgdmVjMi5yb3RhdGUob3JpZW50ZWRBbmNob3JBLCBsb2NhbEFuY2hvckEsICAgIGJvZHlBLmFuZ2xlKTtcblx0ICAgIHZlYzIuYWRkKHdvcmxkQW5jaG9yQSwgICAgICAgb3JpZW50ZWRBbmNob3JBLCBib2R5QS5wb3NpdGlvbik7XG5cdCAgICB2ZWMyLnJvdGF0ZShvcmllbnRlZEFuY2hvckIsIGxvY2FsQW5jaG9yQiwgICAgYm9keUIuYW5nbGUpO1xuXHQgICAgdmVjMi5hZGQod29ybGRBbmNob3JCLCAgICAgICBvcmllbnRlZEFuY2hvckIsIGJvZHlCLnBvc2l0aW9uKTtcblx0XG5cdCAgICB2YXIgcmVsUG9zaXRpb24gPSB0aGlzLnBvc2l0aW9uID0gdmVjMi5kb3Qod29ybGRBbmNob3JCLHdvcmxkQXhpc0EpIC0gdmVjMi5kb3Qod29ybGRBbmNob3JBLHdvcmxkQXhpc0EpO1xuXHRcblx0ICAgIC8vIE1vdG9yXG5cdCAgICBpZih0aGlzLm1vdG9yRW5hYmxlZCl7XG5cdCAgICAgICAgLy8gRyA9IFsgYSAgICAgYSB4IHJpICAgLWEgICAtYSB4IHJqIF1cblx0ICAgICAgICB2YXIgRyA9IHRoaXMubW90b3JFcXVhdGlvbi5HO1xuXHQgICAgICAgIEdbMF0gPSB3b3JsZEF4aXNBWzBdO1xuXHQgICAgICAgIEdbMV0gPSB3b3JsZEF4aXNBWzFdO1xuXHQgICAgICAgIEdbMl0gPSB2ZWMyLmNyb3NzTGVuZ3RoKHdvcmxkQXhpc0Esb3JpZW50ZWRBbmNob3JCKTtcblx0ICAgICAgICBHWzNdID0gLXdvcmxkQXhpc0FbMF07XG5cdCAgICAgICAgR1s0XSA9IC13b3JsZEF4aXNBWzFdO1xuXHQgICAgICAgIEdbNV0gPSAtdmVjMi5jcm9zc0xlbmd0aCh3b3JsZEF4aXNBLG9yaWVudGVkQW5jaG9yQSk7XG5cdCAgICB9XG5cdFxuXHQgICAgLypcblx0ICAgICAgICBMaW1pdHMgc3RyYXRlZ3k6XG5cdCAgICAgICAgQWRkIGNvbnRhY3QgZXF1YXRpb24sIHdpdGggbm9ybWFsIGFsb25nIHRoZSBjb25zdHJhaW50IGF4aXMuXG5cdCAgICAgICAgbWluL21heEZvcmNlIGlzIHNldCBzbyB0aGUgY29uc3RyYWludCBpcyByZXB1bHNpdmUgaW4gdGhlIGNvcnJlY3QgZGlyZWN0aW9uLlxuXHQgICAgICAgIFNvbWUgb2Zmc2V0IGlzIGFkZGVkIHRvIGVpdGhlciBlcXVhdGlvbi5jb250YWN0UG9pbnRBIG9yIC5jb250YWN0UG9pbnRCIHRvIGdldCB0aGUgY29ycmVjdCB1cHBlci9sb3dlciBsaW1pdC5cblx0XG5cdCAgICAgICAgICAgICAgICAgXlxuXHQgICAgICAgICAgICAgICAgIHxcblx0ICAgICAgdXBwZXJMaW1pdCB4XG5cdCAgICAgICAgICAgICAgICAgfCAgICAtLS0tLS1cblx0ICAgICAgICAgYW5jaG9yQiB4PC0tLXwgIEIgfFxuXHQgICAgICAgICAgICAgICAgIHwgICAgfCAgICB8XG5cdCAgICAgICAgLS0tLS0tICAgfCAgICAtLS0tLS1cblx0ICAgICAgICB8ICAgIHwgICB8XG5cdCAgICAgICAgfCAgQSB8LS0+eCBhbmNob3JBXG5cdCAgICAgICAgLS0tLS0tICAgfFxuXHQgICAgICAgICAgICAgICAgIHggbG93ZXJMaW1pdFxuXHQgICAgICAgICAgICAgICAgIHxcblx0ICAgICAgICAgICAgICAgIGF4aXNcblx0ICAgICAqL1xuXHRcblx0XG5cdCAgICBpZih0aGlzLnVwcGVyTGltaXRFbmFibGVkICYmIHJlbFBvc2l0aW9uID4gdXBwZXJMaW1pdCl7XG5cdCAgICAgICAgLy8gVXBkYXRlIGNvbnRhY3QgY29uc3RyYWludCBub3JtYWwsIGV0Y1xuXHQgICAgICAgIHZlYzIuc2NhbGUodXBwZXJMaW1pdEVxdWF0aW9uLm5vcm1hbEEsIHdvcmxkQXhpc0EsIC0xKTtcblx0ICAgICAgICB2ZWMyLnN1Yih1cHBlckxpbWl0RXF1YXRpb24uY29udGFjdFBvaW50QSwgd29ybGRBbmNob3JBLCBib2R5QS5wb3NpdGlvbik7XG5cdCAgICAgICAgdmVjMi5zdWIodXBwZXJMaW1pdEVxdWF0aW9uLmNvbnRhY3RQb2ludEIsIHdvcmxkQW5jaG9yQiwgYm9keUIucG9zaXRpb24pO1xuXHQgICAgICAgIHZlYzIuc2NhbGUodG1wLHdvcmxkQXhpc0EsdXBwZXJMaW1pdCk7XG5cdCAgICAgICAgdmVjMi5hZGQodXBwZXJMaW1pdEVxdWF0aW9uLmNvbnRhY3RQb2ludEEsdXBwZXJMaW1pdEVxdWF0aW9uLmNvbnRhY3RQb2ludEEsdG1wKTtcblx0ICAgICAgICBpZihlcXMuaW5kZXhPZih1cHBlckxpbWl0RXF1YXRpb24pID09PSAtMSl7XG5cdCAgICAgICAgICAgIGVxcy5wdXNoKHVwcGVyTGltaXRFcXVhdGlvbik7XG5cdCAgICAgICAgfVxuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICB2YXIgaWR4ID0gZXFzLmluZGV4T2YodXBwZXJMaW1pdEVxdWF0aW9uKTtcblx0ICAgICAgICBpZihpZHggIT09IC0xKXtcblx0ICAgICAgICAgICAgZXFzLnNwbGljZShpZHgsMSk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIGlmKHRoaXMubG93ZXJMaW1pdEVuYWJsZWQgJiYgcmVsUG9zaXRpb24gPCBsb3dlckxpbWl0KXtcblx0ICAgICAgICAvLyBVcGRhdGUgY29udGFjdCBjb25zdHJhaW50IG5vcm1hbCwgZXRjXG5cdCAgICAgICAgdmVjMi5zY2FsZShsb3dlckxpbWl0RXF1YXRpb24ubm9ybWFsQSwgd29ybGRBeGlzQSwgMSk7XG5cdCAgICAgICAgdmVjMi5zdWIobG93ZXJMaW1pdEVxdWF0aW9uLmNvbnRhY3RQb2ludEEsIHdvcmxkQW5jaG9yQSwgYm9keUEucG9zaXRpb24pO1xuXHQgICAgICAgIHZlYzIuc3ViKGxvd2VyTGltaXRFcXVhdGlvbi5jb250YWN0UG9pbnRCLCB3b3JsZEFuY2hvckIsIGJvZHlCLnBvc2l0aW9uKTtcblx0ICAgICAgICB2ZWMyLnNjYWxlKHRtcCx3b3JsZEF4aXNBLGxvd2VyTGltaXQpO1xuXHQgICAgICAgIHZlYzIuc3ViKGxvd2VyTGltaXRFcXVhdGlvbi5jb250YWN0UG9pbnRCLGxvd2VyTGltaXRFcXVhdGlvbi5jb250YWN0UG9pbnRCLHRtcCk7XG5cdCAgICAgICAgaWYoZXFzLmluZGV4T2YobG93ZXJMaW1pdEVxdWF0aW9uKSA9PT0gLTEpe1xuXHQgICAgICAgICAgICBlcXMucHVzaChsb3dlckxpbWl0RXF1YXRpb24pO1xuXHQgICAgICAgIH1cblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgdmFyIGlkeCA9IGVxcy5pbmRleE9mKGxvd2VyTGltaXRFcXVhdGlvbik7XG5cdCAgICAgICAgaWYoaWR4ICE9PSAtMSl7XG5cdCAgICAgICAgICAgIGVxcy5zcGxpY2UoaWR4LDEpO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0fTtcblx0XG5cdC8qKlxuXHQgKiBFbmFibGUgdGhlIG1vdG9yXG5cdCAqIEBtZXRob2QgZW5hYmxlTW90b3Jcblx0ICovXG5cdFByaXNtYXRpY0NvbnN0cmFpbnQucHJvdG90eXBlLmVuYWJsZU1vdG9yID0gZnVuY3Rpb24oKXtcblx0ICAgIGlmKHRoaXMubW90b3JFbmFibGVkKXtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICB9XG5cdCAgICB0aGlzLmVxdWF0aW9ucy5wdXNoKHRoaXMubW90b3JFcXVhdGlvbik7XG5cdCAgICB0aGlzLm1vdG9yRW5hYmxlZCA9IHRydWU7XG5cdH07XG5cdFxuXHQvKipcblx0ICogRGlzYWJsZSB0aGUgcm90YXRpb25hbCBtb3RvclxuXHQgKiBAbWV0aG9kIGRpc2FibGVNb3RvclxuXHQgKi9cblx0UHJpc21hdGljQ29uc3RyYWludC5wcm90b3R5cGUuZGlzYWJsZU1vdG9yID0gZnVuY3Rpb24oKXtcblx0ICAgIGlmKCF0aGlzLm1vdG9yRW5hYmxlZCl7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHQgICAgdmFyIGkgPSB0aGlzLmVxdWF0aW9ucy5pbmRleE9mKHRoaXMubW90b3JFcXVhdGlvbik7XG5cdCAgICB0aGlzLmVxdWF0aW9ucy5zcGxpY2UoaSwxKTtcblx0ICAgIHRoaXMubW90b3JFbmFibGVkID0gZmFsc2U7XG5cdH07XG5cdFxuXHQvKipcblx0ICogU2V0IHRoZSBjb25zdHJhaW50IGxpbWl0cy5cblx0ICogQG1ldGhvZCBzZXRMaW1pdHNcblx0ICogQHBhcmFtIHtudW1iZXJ9IGxvd2VyIExvd2VyIGxpbWl0LlxuXHQgKiBAcGFyYW0ge251bWJlcn0gdXBwZXIgVXBwZXIgbGltaXQuXG5cdCAqL1xuXHRQcmlzbWF0aWNDb25zdHJhaW50LnByb3RvdHlwZS5zZXRMaW1pdHMgPSBmdW5jdGlvbiAobG93ZXIsIHVwcGVyKSB7XG5cdCAgICBpZih0eXBlb2YobG93ZXIpID09PSAnbnVtYmVyJyl7XG5cdCAgICAgICAgdGhpcy5sb3dlckxpbWl0ID0gbG93ZXI7XG5cdCAgICAgICAgdGhpcy5sb3dlckxpbWl0RW5hYmxlZCA9IHRydWU7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIHRoaXMubG93ZXJMaW1pdCA9IGxvd2VyO1xuXHQgICAgICAgIHRoaXMubG93ZXJMaW1pdEVuYWJsZWQgPSBmYWxzZTtcblx0ICAgIH1cblx0XG5cdCAgICBpZih0eXBlb2YodXBwZXIpID09PSAnbnVtYmVyJyl7XG5cdCAgICAgICAgdGhpcy51cHBlckxpbWl0ID0gdXBwZXI7XG5cdCAgICAgICAgdGhpcy51cHBlckxpbWl0RW5hYmxlZCA9IHRydWU7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIHRoaXMudXBwZXJMaW1pdCA9IHVwcGVyO1xuXHQgICAgICAgIHRoaXMudXBwZXJMaW1pdEVuYWJsZWQgPSBmYWxzZTtcblx0ICAgIH1cblx0fTtcblx0XG5cblxuLyoqKi8gfSxcbi8qIDQ4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgQ29uc3RyYWludCA9IF9fd2VicGFja19yZXF1aXJlX18oNSlcblx0LCAgIEVxdWF0aW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKVxuXHQsICAgUm90YXRpb25hbFZlbG9jaXR5RXF1YXRpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUxKVxuXHQsICAgUm90YXRpb25hbExvY2tFcXVhdGlvbiA9IF9fd2VicGFja19yZXF1aXJlX18oNTApXG5cdCwgICB2ZWMyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gUmV2b2x1dGVDb25zdHJhaW50O1xuXHRcblx0dmFyIHdvcmxkUGl2b3RBID0gdmVjMi5jcmVhdGUoKSxcblx0ICAgIHdvcmxkUGl2b3RCID0gdmVjMi5jcmVhdGUoKSxcblx0ICAgIHhBeGlzID0gdmVjMi5mcm9tVmFsdWVzKDEsMCksXG5cdCAgICB5QXhpcyA9IHZlYzIuZnJvbVZhbHVlcygwLDEpLFxuXHQgICAgZyA9IHZlYzIuY3JlYXRlKCk7XG5cdFxuXHQvKipcblx0ICogQ29ubmVjdHMgdHdvIGJvZGllcyBhdCBnaXZlbiBvZmZzZXQgcG9pbnRzLCBsZXR0aW5nIHRoZW0gcm90YXRlIHJlbGF0aXZlIHRvIGVhY2ggb3RoZXIgYXJvdW5kIHRoaXMgcG9pbnQuXG5cdCAqIEBjbGFzcyBSZXZvbHV0ZUNvbnN0cmFpbnRcblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqIEBhdXRob3Igc2NodGVwcGVcblx0ICogQHBhcmFtIHtCb2R5fSAgICBib2R5QVxuXHQgKiBAcGFyYW0ge0JvZHl9ICAgIGJvZHlCXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSAgW29wdGlvbnNdXG5cdCAqIEBwYXJhbSB7QXJyYXl9ICAgW29wdGlvbnMud29ybGRQaXZvdF0gQSBwaXZvdCBwb2ludCBnaXZlbiBpbiB3b3JsZCBjb29yZGluYXRlcy4gSWYgc3BlY2lmaWVkLCBsb2NhbFBpdm90QSBhbmQgbG9jYWxQaXZvdEIgYXJlIGF1dG9tYXRpY2FsbHkgY29tcHV0ZWQgZnJvbSB0aGlzIHZhbHVlLlxuXHQgKiBAcGFyYW0ge0FycmF5fSAgIFtvcHRpb25zLmxvY2FsUGl2b3RBXSBUaGUgcG9pbnQgcmVsYXRpdmUgdG8gdGhlIGNlbnRlciBvZiBtYXNzIG9mIGJvZHlBIHdoaWNoIGJvZHlBIGlzIGNvbnN0cmFpbmVkIHRvLlxuXHQgKiBAcGFyYW0ge0FycmF5fSAgIFtvcHRpb25zLmxvY2FsUGl2b3RCXSBTZWUgbG9jYWxQaXZvdEEuXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSAgW29wdGlvbnMubWF4Rm9yY2VdIFRoZSBtYXhpbXVtIGZvcmNlIHRoYXQgc2hvdWxkIGJlIGFwcGxpZWQgdG8gY29uc3RyYWluIHRoZSBib2RpZXMuXG5cdCAqIEBleHRlbmRzIENvbnN0cmFpbnRcblx0ICpcblx0ICogQGV4YW1wbGVcblx0ICogICAgIC8vIFRoaXMgd2lsbCBjcmVhdGUgYSByZXZvbHV0ZSBjb25zdHJhaW50IGJldHdlZW4gdHdvIGJvZGllcyB3aXRoIHBpdm90IHBvaW50IGluIGJldHdlZW4gdGhlbS5cblx0ICogICAgIHZhciBib2R5QSA9IG5ldyBCb2R5KHsgbWFzczogMSwgcG9zaXRpb246IFstMSwgMF0gfSk7XG5cdCAqICAgICB2YXIgYm9keUIgPSBuZXcgQm9keSh7IG1hc3M6IDEsIHBvc2l0aW9uOiBbMSwgMF0gfSk7XG5cdCAqICAgICB2YXIgY29uc3RyYWludCA9IG5ldyBSZXZvbHV0ZUNvbnN0cmFpbnQoYm9keUEsIGJvZHlCLCB7XG5cdCAqICAgICAgICAgd29ybGRQaXZvdDogWzAsIDBdXG5cdCAqICAgICB9KTtcblx0ICogICAgIHdvcmxkLmFkZENvbnN0cmFpbnQoY29uc3RyYWludCk7XG5cdCAqXG5cdCAqICAgICAvLyBVc2luZyBib2R5LWxvY2FsIHBpdm90IHBvaW50cywgdGhlIGNvbnN0cmFpbnQgY291bGQgaGF2ZSBiZWVuIGNvbnN0cnVjdGVkIGxpa2UgdGhpczpcblx0ICogICAgIHZhciBjb25zdHJhaW50ID0gbmV3IFJldm9sdXRlQ29uc3RyYWludChib2R5QSwgYm9keUIsIHtcblx0ICogICAgICAgICBsb2NhbFBpdm90QTogWzEsIDBdLFxuXHQgKiAgICAgICAgIGxvY2FsUGl2b3RCOiBbLTEsIDBdXG5cdCAqICAgICB9KTtcblx0ICovXG5cdGZ1bmN0aW9uIFJldm9sdXRlQ29uc3RyYWludChib2R5QSwgYm9keUIsIG9wdGlvbnMpe1xuXHQgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cdCAgICBDb25zdHJhaW50LmNhbGwodGhpcyxib2R5QSxib2R5QixDb25zdHJhaW50LlJFVk9MVVRFLG9wdGlvbnMpO1xuXHRcblx0ICAgIHZhciBtYXhGb3JjZSA9IHRoaXMubWF4Rm9yY2UgPSB0eXBlb2Yob3B0aW9ucy5tYXhGb3JjZSkgIT09IFwidW5kZWZpbmVkXCIgPyBvcHRpb25zLm1heEZvcmNlIDogTnVtYmVyLk1BWF9WQUxVRTtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIEBwcm9wZXJ0eSB7QXJyYXl9IHBpdm90QVxuXHQgICAgICovXG5cdCAgICB0aGlzLnBpdm90QSA9IHZlYzIuY3JlYXRlKCk7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBAcHJvcGVydHkge0FycmF5fSBwaXZvdEJcblx0ICAgICAqL1xuXHQgICAgdGhpcy5waXZvdEIgPSB2ZWMyLmNyZWF0ZSgpO1xuXHRcblx0ICAgIGlmKG9wdGlvbnMud29ybGRQaXZvdCl7XG5cdCAgICAgICAgLy8gQ29tcHV0ZSBwaXZvdEEgYW5kIHBpdm90QlxuXHQgICAgICAgIHZlYzIuc3ViKHRoaXMucGl2b3RBLCBvcHRpb25zLndvcmxkUGl2b3QsIGJvZHlBLnBvc2l0aW9uKTtcblx0ICAgICAgICB2ZWMyLnN1Yih0aGlzLnBpdm90Qiwgb3B0aW9ucy53b3JsZFBpdm90LCBib2R5Qi5wb3NpdGlvbik7XG5cdCAgICAgICAgLy8gUm90YXRlIHRvIGxvY2FsIGNvb3JkaW5hdGUgc3lzdGVtXG5cdCAgICAgICAgdmVjMi5yb3RhdGUodGhpcy5waXZvdEEsIHRoaXMucGl2b3RBLCAtYm9keUEuYW5nbGUpO1xuXHQgICAgICAgIHZlYzIucm90YXRlKHRoaXMucGl2b3RCLCB0aGlzLnBpdm90QiwgLWJvZHlCLmFuZ2xlKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgLy8gR2V0IHBpdm90QSBhbmQgcGl2b3RCXG5cdCAgICAgICAgdmVjMi5jb3B5KHRoaXMucGl2b3RBLCBvcHRpb25zLmxvY2FsUGl2b3RBKTtcblx0ICAgICAgICB2ZWMyLmNvcHkodGhpcy5waXZvdEIsIG9wdGlvbnMubG9jYWxQaXZvdEIpO1xuXHQgICAgfVxuXHRcblx0ICAgIC8vIEVxdWF0aW9ucyB0byBiZSBmZWQgdG8gdGhlIHNvbHZlclxuXHQgICAgdmFyIGVxcyA9IHRoaXMuZXF1YXRpb25zID0gW1xuXHQgICAgICAgIG5ldyBFcXVhdGlvbihib2R5QSxib2R5QiwtbWF4Rm9yY2UsbWF4Rm9yY2UpLFxuXHQgICAgICAgIG5ldyBFcXVhdGlvbihib2R5QSxib2R5QiwtbWF4Rm9yY2UsbWF4Rm9yY2UpLFxuXHQgICAgXTtcblx0XG5cdCAgICB2YXIgeCA9IGVxc1swXTtcblx0ICAgIHZhciB5ID0gZXFzWzFdO1xuXHQgICAgdmFyIHRoYXQgPSB0aGlzO1xuXHRcblx0ICAgIHguY29tcHV0ZUdxID0gZnVuY3Rpb24oKXtcblx0ICAgICAgICB2ZWMyLnJvdGF0ZSh3b3JsZFBpdm90QSwgdGhhdC5waXZvdEEsIGJvZHlBLmFuZ2xlKTtcblx0ICAgICAgICB2ZWMyLnJvdGF0ZSh3b3JsZFBpdm90QiwgdGhhdC5waXZvdEIsIGJvZHlCLmFuZ2xlKTtcblx0ICAgICAgICB2ZWMyLmFkZChnLCBib2R5Qi5wb3NpdGlvbiwgd29ybGRQaXZvdEIpO1xuXHQgICAgICAgIHZlYzIuc3ViKGcsIGcsIGJvZHlBLnBvc2l0aW9uKTtcblx0ICAgICAgICB2ZWMyLnN1YihnLCBnLCB3b3JsZFBpdm90QSk7XG5cdCAgICAgICAgcmV0dXJuIHZlYzIuZG90KGcseEF4aXMpO1xuXHQgICAgfTtcblx0XG5cdCAgICB5LmNvbXB1dGVHcSA9IGZ1bmN0aW9uKCl7XG5cdCAgICAgICAgdmVjMi5yb3RhdGUod29ybGRQaXZvdEEsIHRoYXQucGl2b3RBLCBib2R5QS5hbmdsZSk7XG5cdCAgICAgICAgdmVjMi5yb3RhdGUod29ybGRQaXZvdEIsIHRoYXQucGl2b3RCLCBib2R5Qi5hbmdsZSk7XG5cdCAgICAgICAgdmVjMi5hZGQoZywgYm9keUIucG9zaXRpb24sIHdvcmxkUGl2b3RCKTtcblx0ICAgICAgICB2ZWMyLnN1YihnLCBnLCBib2R5QS5wb3NpdGlvbik7XG5cdCAgICAgICAgdmVjMi5zdWIoZywgZywgd29ybGRQaXZvdEEpO1xuXHQgICAgICAgIHJldHVybiB2ZWMyLmRvdChnLHlBeGlzKTtcblx0ICAgIH07XG5cdFxuXHQgICAgeS5taW5Gb3JjZSA9IHgubWluRm9yY2UgPSAtbWF4Rm9yY2U7XG5cdCAgICB5Lm1heEZvcmNlID0geC5tYXhGb3JjZSA9ICBtYXhGb3JjZTtcblx0XG5cdCAgICB0aGlzLm1vdG9yRXF1YXRpb24gPSBuZXcgUm90YXRpb25hbFZlbG9jaXR5RXF1YXRpb24oYm9keUEsYm9keUIpO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogSW5kaWNhdGVzIHdoZXRoZXIgdGhlIG1vdG9yIGlzIGVuYWJsZWQuIFVzZSAuZW5hYmxlTW90b3IoKSB0byBlbmFibGUgdGhlIGNvbnN0cmFpbnQgbW90b3IuXG5cdCAgICAgKiBAcHJvcGVydHkge0Jvb2xlYW59IG1vdG9yRW5hYmxlZFxuXHQgICAgICogQHJlYWRPbmx5XG5cdCAgICAgKi9cblx0ICAgIHRoaXMubW90b3JFbmFibGVkID0gZmFsc2U7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGUgY29uc3RyYWludCBwb3NpdGlvbi5cblx0ICAgICAqIEBwcm9wZXJ0eSBhbmdsZVxuXHQgICAgICogQHR5cGUge051bWJlcn1cblx0ICAgICAqIEByZWFkT25seVxuXHQgICAgICovXG5cdCAgICB0aGlzLmFuZ2xlID0gMDtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIFNldCB0byB0cnVlIHRvIGVuYWJsZSBsb3dlciBsaW1pdFxuXHQgICAgICogQHByb3BlcnR5IGxvd2VyTGltaXRFbmFibGVkXG5cdCAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cblx0ICAgICAqL1xuXHQgICAgdGhpcy5sb3dlckxpbWl0RW5hYmxlZCA9IGZhbHNlO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogU2V0IHRvIHRydWUgdG8gZW5hYmxlIHVwcGVyIGxpbWl0XG5cdCAgICAgKiBAcHJvcGVydHkgdXBwZXJMaW1pdEVuYWJsZWRcblx0ICAgICAqIEB0eXBlIHtCb29sZWFufVxuXHQgICAgICovXG5cdCAgICB0aGlzLnVwcGVyTGltaXRFbmFibGVkID0gZmFsc2U7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGUgbG93ZXIgbGltaXQgb24gdGhlIGNvbnN0cmFpbnQgYW5nbGUuXG5cdCAgICAgKiBAcHJvcGVydHkgbG93ZXJMaW1pdFxuXHQgICAgICogQHR5cGUge0Jvb2xlYW59XG5cdCAgICAgKi9cblx0ICAgIHRoaXMubG93ZXJMaW1pdCA9IDA7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGUgdXBwZXIgbGltaXQgb24gdGhlIGNvbnN0cmFpbnQgYW5nbGUuXG5cdCAgICAgKiBAcHJvcGVydHkgdXBwZXJMaW1pdFxuXHQgICAgICogQHR5cGUge0Jvb2xlYW59XG5cdCAgICAgKi9cblx0ICAgIHRoaXMudXBwZXJMaW1pdCA9IDA7XG5cdFxuXHQgICAgdGhpcy51cHBlckxpbWl0RXF1YXRpb24gPSBuZXcgUm90YXRpb25hbExvY2tFcXVhdGlvbihib2R5QSxib2R5Qik7XG5cdCAgICB0aGlzLmxvd2VyTGltaXRFcXVhdGlvbiA9IG5ldyBSb3RhdGlvbmFsTG9ja0VxdWF0aW9uKGJvZHlBLGJvZHlCKTtcblx0ICAgIHRoaXMudXBwZXJMaW1pdEVxdWF0aW9uLm1pbkZvcmNlID0gMDtcblx0ICAgIHRoaXMubG93ZXJMaW1pdEVxdWF0aW9uLm1heEZvcmNlID0gMDtcblx0fVxuXHRSZXZvbHV0ZUNvbnN0cmFpbnQucHJvdG90eXBlID0gbmV3IENvbnN0cmFpbnQoKTtcblx0UmV2b2x1dGVDb25zdHJhaW50LnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFJldm9sdXRlQ29uc3RyYWludDtcblx0XG5cdC8qKlxuXHQgKiBTZXQgdGhlIGNvbnN0cmFpbnQgYW5nbGUgbGltaXRzLlxuXHQgKiBAbWV0aG9kIHNldExpbWl0c1xuXHQgKiBAcGFyYW0ge251bWJlcn0gbG93ZXIgTG93ZXIgYW5nbGUgbGltaXQuXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSB1cHBlciBVcHBlciBhbmdsZSBsaW1pdC5cblx0ICovXG5cdFJldm9sdXRlQ29uc3RyYWludC5wcm90b3R5cGUuc2V0TGltaXRzID0gZnVuY3Rpb24gKGxvd2VyLCB1cHBlcikge1xuXHQgICAgaWYodHlwZW9mKGxvd2VyKSA9PT0gJ251bWJlcicpe1xuXHQgICAgICAgIHRoaXMubG93ZXJMaW1pdCA9IGxvd2VyO1xuXHQgICAgICAgIHRoaXMubG93ZXJMaW1pdEVuYWJsZWQgPSB0cnVlO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICB0aGlzLmxvd2VyTGltaXQgPSBsb3dlcjtcblx0ICAgICAgICB0aGlzLmxvd2VyTGltaXRFbmFibGVkID0gZmFsc2U7XG5cdCAgICB9XG5cdFxuXHQgICAgaWYodHlwZW9mKHVwcGVyKSA9PT0gJ251bWJlcicpe1xuXHQgICAgICAgIHRoaXMudXBwZXJMaW1pdCA9IHVwcGVyO1xuXHQgICAgICAgIHRoaXMudXBwZXJMaW1pdEVuYWJsZWQgPSB0cnVlO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICB0aGlzLnVwcGVyTGltaXQgPSB1cHBlcjtcblx0ICAgICAgICB0aGlzLnVwcGVyTGltaXRFbmFibGVkID0gZmFsc2U7XG5cdCAgICB9XG5cdH07XG5cdFxuXHRSZXZvbHV0ZUNvbnN0cmFpbnQucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uKCl7XG5cdCAgICB2YXIgYm9keUEgPSAgdGhpcy5ib2R5QSxcblx0ICAgICAgICBib2R5QiA9ICB0aGlzLmJvZHlCLFxuXHQgICAgICAgIHBpdm90QSA9IHRoaXMucGl2b3RBLFxuXHQgICAgICAgIHBpdm90QiA9IHRoaXMucGl2b3RCLFxuXHQgICAgICAgIGVxcyA9ICAgIHRoaXMuZXF1YXRpb25zLFxuXHQgICAgICAgIG5vcm1hbCA9IGVxc1swXSxcblx0ICAgICAgICB0YW5nZW50PSBlcXNbMV0sXG5cdCAgICAgICAgeCA9IGVxc1swXSxcblx0ICAgICAgICB5ID0gZXFzWzFdLFxuXHQgICAgICAgIHVwcGVyTGltaXQgPSB0aGlzLnVwcGVyTGltaXQsXG5cdCAgICAgICAgbG93ZXJMaW1pdCA9IHRoaXMubG93ZXJMaW1pdCxcblx0ICAgICAgICB1cHBlckxpbWl0RXF1YXRpb24gPSB0aGlzLnVwcGVyTGltaXRFcXVhdGlvbixcblx0ICAgICAgICBsb3dlckxpbWl0RXF1YXRpb24gPSB0aGlzLmxvd2VyTGltaXRFcXVhdGlvbjtcblx0XG5cdCAgICB2YXIgcmVsQW5nbGUgPSB0aGlzLmFuZ2xlID0gYm9keUIuYW5nbGUgLSBib2R5QS5hbmdsZTtcblx0XG5cdCAgICBpZih0aGlzLnVwcGVyTGltaXRFbmFibGVkICYmIHJlbEFuZ2xlID4gdXBwZXJMaW1pdCl7XG5cdCAgICAgICAgdXBwZXJMaW1pdEVxdWF0aW9uLmFuZ2xlID0gdXBwZXJMaW1pdDtcblx0ICAgICAgICBpZihlcXMuaW5kZXhPZih1cHBlckxpbWl0RXF1YXRpb24pID09PSAtMSl7XG5cdCAgICAgICAgICAgIGVxcy5wdXNoKHVwcGVyTGltaXRFcXVhdGlvbik7XG5cdCAgICAgICAgfVxuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICB2YXIgaWR4ID0gZXFzLmluZGV4T2YodXBwZXJMaW1pdEVxdWF0aW9uKTtcblx0ICAgICAgICBpZihpZHggIT09IC0xKXtcblx0ICAgICAgICAgICAgZXFzLnNwbGljZShpZHgsMSk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIGlmKHRoaXMubG93ZXJMaW1pdEVuYWJsZWQgJiYgcmVsQW5nbGUgPCBsb3dlckxpbWl0KXtcblx0ICAgICAgICBsb3dlckxpbWl0RXF1YXRpb24uYW5nbGUgPSBsb3dlckxpbWl0O1xuXHQgICAgICAgIGlmKGVxcy5pbmRleE9mKGxvd2VyTGltaXRFcXVhdGlvbikgPT09IC0xKXtcblx0ICAgICAgICAgICAgZXFzLnB1c2gobG93ZXJMaW1pdEVxdWF0aW9uKTtcblx0ICAgICAgICB9XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIHZhciBpZHggPSBlcXMuaW5kZXhPZihsb3dlckxpbWl0RXF1YXRpb24pO1xuXHQgICAgICAgIGlmKGlkeCAhPT0gLTEpe1xuXHQgICAgICAgICAgICBlcXMuc3BsaWNlKGlkeCwxKTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgLypcblx0XG5cdCAgICBUaGUgY29uc3RyYWludCB2aW9sYXRpb24gaXNcblx0XG5cdCAgICAgICAgZyA9IHhqICsgcmogLSB4aSAtIHJpXG5cdFxuXHQgICAgLi4ud2hlcmUgeGkgYW5kIHhqIGFyZSB0aGUgYm9keSBwb3NpdGlvbnMgYW5kIHJpIGFuZCByaiB3b3JsZC1vcmllbnRlZCBvZmZzZXQgdmVjdG9ycy4gRGlmZmVyZW50aWF0ZTpcblx0XG5cdCAgICAgICAgZ2RvdCA9IHZqICsgd2ogeCByaiAtIHZpIC0gd2kgeCByaVxuXHRcblx0ICAgIFdlIHNwbGl0IHRoaXMgaW50byB4IGFuZCB5IGRpcmVjdGlvbnMuIChsZXQgeCBhbmQgeSBiZSB1bml0IHZlY3RvcnMgYWxvbmcgdGhlIHJlc3BlY3RpdmUgYXhlcylcblx0XG5cdCAgICAgICAgZ2RvdCAqIHggPSAoIHZqICsgd2ogeCByaiAtIHZpIC0gd2kgeCByaSApICogeFxuXHQgICAgICAgICAgICAgICAgID0gKCB2aip4ICsgKHdqIHggcmopKnggLXZpKnggLSh3aSB4IHJpKSp4XG5cdCAgICAgICAgICAgICAgICAgPSAoIHZqKnggKyAocmogeCB4KSp3aiAtdmkqeCAtKHJpIHggeCkqd2lcblx0ICAgICAgICAgICAgICAgICA9IFsgLXggICAtKHJpIHggeCkgICB4ICAgKHJqIHggeCldICogW3ZpIHdpIHZqIHdqXVxuXHQgICAgICAgICAgICAgICAgID0gRypXXG5cdFxuXHQgICAgLi4uYW5kIHNpbWlsYXIgZm9yIHkuIFdlIGhhdmUgdGhlbiBpZGVudGlmaWVkIHRoZSBqYWNvYmlhbiBlbnRyaWVzIGZvciB4IGFuZCB5IGRpcmVjdGlvbnM6XG5cdFxuXHQgICAgICAgIEd4ID0gWyB4ICAgKHJqIHggeCkgICAteCAgIC0ocmkgeCB4KV1cblx0ICAgICAgICBHeSA9IFsgeSAgIChyaiB4IHkpICAgLXkgICAtKHJpIHggeSldXG5cdFxuXHQgICAgICovXG5cdFxuXHQgICAgdmVjMi5yb3RhdGUod29ybGRQaXZvdEEsIHBpdm90QSwgYm9keUEuYW5nbGUpO1xuXHQgICAgdmVjMi5yb3RhdGUod29ybGRQaXZvdEIsIHBpdm90QiwgYm9keUIuYW5nbGUpO1xuXHRcblx0ICAgIC8vIHRvZG86IHRoZXNlIGFyZSBhIGJpdCBzcGFyc2UuIFdlIGNvdWxkIHNhdmUgc29tZSBjb21wdXRhdGlvbnMgb24gbWFraW5nIGN1c3RvbSBlcS5jb21wdXRlR1cgZnVuY3Rpb25zLCBldGNcblx0XG5cdCAgICB4LkdbMF0gPSAtMTtcblx0ICAgIHguR1sxXSA9ICAwO1xuXHQgICAgeC5HWzJdID0gLXZlYzIuY3Jvc3NMZW5ndGgod29ybGRQaXZvdEEseEF4aXMpO1xuXHQgICAgeC5HWzNdID0gIDE7XG5cdCAgICB4LkdbNF0gPSAgMDtcblx0ICAgIHguR1s1XSA9ICB2ZWMyLmNyb3NzTGVuZ3RoKHdvcmxkUGl2b3RCLHhBeGlzKTtcblx0XG5cdCAgICB5LkdbMF0gPSAgMDtcblx0ICAgIHkuR1sxXSA9IC0xO1xuXHQgICAgeS5HWzJdID0gLXZlYzIuY3Jvc3NMZW5ndGgod29ybGRQaXZvdEEseUF4aXMpO1xuXHQgICAgeS5HWzNdID0gIDA7XG5cdCAgICB5LkdbNF0gPSAgMTtcblx0ICAgIHkuR1s1XSA9ICB2ZWMyLmNyb3NzTGVuZ3RoKHdvcmxkUGl2b3RCLHlBeGlzKTtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBFbmFibGUgdGhlIHJvdGF0aW9uYWwgbW90b3Jcblx0ICogQG1ldGhvZCBlbmFibGVNb3RvclxuXHQgKi9cblx0UmV2b2x1dGVDb25zdHJhaW50LnByb3RvdHlwZS5lbmFibGVNb3RvciA9IGZ1bmN0aW9uKCl7XG5cdCAgICBpZih0aGlzLm1vdG9yRW5hYmxlZCl7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHQgICAgdGhpcy5lcXVhdGlvbnMucHVzaCh0aGlzLm1vdG9yRXF1YXRpb24pO1xuXHQgICAgdGhpcy5tb3RvckVuYWJsZWQgPSB0cnVlO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIERpc2FibGUgdGhlIHJvdGF0aW9uYWwgbW90b3Jcblx0ICogQG1ldGhvZCBkaXNhYmxlTW90b3Jcblx0ICovXG5cdFJldm9sdXRlQ29uc3RyYWludC5wcm90b3R5cGUuZGlzYWJsZU1vdG9yID0gZnVuY3Rpb24oKXtcblx0ICAgIGlmKCF0aGlzLm1vdG9yRW5hYmxlZCl7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHQgICAgdmFyIGkgPSB0aGlzLmVxdWF0aW9ucy5pbmRleE9mKHRoaXMubW90b3JFcXVhdGlvbik7XG5cdCAgICB0aGlzLmVxdWF0aW9ucy5zcGxpY2UoaSwxKTtcblx0ICAgIHRoaXMubW90b3JFbmFibGVkID0gZmFsc2U7XG5cdH07XG5cdFxuXHQvKipcblx0ICogQ2hlY2sgaWYgdGhlIG1vdG9yIGlzIGVuYWJsZWQuXG5cdCAqIEBtZXRob2QgbW90b3JJc0VuYWJsZWRcblx0ICogQGRlcHJlY2F0ZWQgdXNlIHByb3BlcnR5IG1vdG9yRW5hYmxlZCBpbnN0ZWFkLlxuXHQgKiBAcmV0dXJuIHtCb29sZWFufVxuXHQgKi9cblx0UmV2b2x1dGVDb25zdHJhaW50LnByb3RvdHlwZS5tb3RvcklzRW5hYmxlZCA9IGZ1bmN0aW9uKCl7XG5cdCAgICByZXR1cm4gISF0aGlzLm1vdG9yRW5hYmxlZDtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBTZXQgdGhlIHNwZWVkIG9mIHRoZSByb3RhdGlvbmFsIGNvbnN0cmFpbnQgbW90b3Jcblx0ICogQG1ldGhvZCBzZXRNb3RvclNwZWVkXG5cdCAqIEBwYXJhbSAge051bWJlcn0gc3BlZWRcblx0ICovXG5cdFJldm9sdXRlQ29uc3RyYWludC5wcm90b3R5cGUuc2V0TW90b3JTcGVlZCA9IGZ1bmN0aW9uKHNwZWVkKXtcblx0ICAgIGlmKCF0aGlzLm1vdG9yRW5hYmxlZCl7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHQgICAgdmFyIGkgPSB0aGlzLmVxdWF0aW9ucy5pbmRleE9mKHRoaXMubW90b3JFcXVhdGlvbik7XG5cdCAgICB0aGlzLmVxdWF0aW9uc1tpXS5yZWxhdGl2ZVZlbG9jaXR5ID0gc3BlZWQ7XG5cdH07XG5cdFxuXHQvKipcblx0ICogR2V0IHRoZSBzcGVlZCBvZiB0aGUgcm90YXRpb25hbCBjb25zdHJhaW50IG1vdG9yXG5cdCAqIEBtZXRob2QgZ2V0TW90b3JTcGVlZFxuXHQgKiBAcmV0dXJuIHtOdW1iZXJ9IFRoZSBjdXJyZW50IHNwZWVkLCBvciBmYWxzZSBpZiB0aGUgbW90b3IgaXMgbm90IGVuYWJsZWQuXG5cdCAqL1xuXHRSZXZvbHV0ZUNvbnN0cmFpbnQucHJvdG90eXBlLmdldE1vdG9yU3BlZWQgPSBmdW5jdGlvbigpe1xuXHQgICAgaWYoIXRoaXMubW90b3JFbmFibGVkKXtcblx0ICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gdGhpcy5tb3RvckVxdWF0aW9uLnJlbGF0aXZlVmVsb2NpdHk7XG5cdH07XG5cblxuLyoqKi8gfSxcbi8qIDQ5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgRXF1YXRpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpLFxuXHQgICAgdmVjMiA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IEFuZ2xlTG9ja0VxdWF0aW9uO1xuXHRcblx0LyoqXG5cdCAqIExvY2tzIHRoZSByZWxhdGl2ZSBhbmdsZSBiZXR3ZWVuIHR3byBib2RpZXMuIFRoZSBjb25zdHJhaW50IHRyaWVzIHRvIGtlZXAgdGhlIGRvdCBwcm9kdWN0IGJldHdlZW4gdHdvIHZlY3RvcnMsIGxvY2FsIGluIGVhY2ggYm9keSwgdG8gemVyby4gVGhlIGxvY2FsIGFuZ2xlIGluIGJvZHkgaSBpcyBhIHBhcmFtZXRlci5cblx0ICpcblx0ICogQGNsYXNzIEFuZ2xlTG9ja0VxdWF0aW9uXG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKiBAZXh0ZW5kcyBFcXVhdGlvblxuXHQgKiBAcGFyYW0ge0JvZHl9IGJvZHlBXG5cdCAqIEBwYXJhbSB7Qm9keX0gYm9keUJcblx0ICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuXHQgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMuYW5nbGVdIEFuZ2xlIHRvIGFkZCB0byB0aGUgbG9jYWwgdmVjdG9yIGluIGJvZHkgQS5cblx0ICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLnJhdGlvXSBHZWFyIHJhdGlvXG5cdCAqL1xuXHRmdW5jdGlvbiBBbmdsZUxvY2tFcXVhdGlvbihib2R5QSwgYm9keUIsIG9wdGlvbnMpe1xuXHQgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cdCAgICBFcXVhdGlvbi5jYWxsKHRoaXMsYm9keUEsYm9keUIsLU51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSk7XG5cdCAgICB0aGlzLmFuZ2xlID0gb3B0aW9ucy5hbmdsZSB8fCAwO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVGhlIGdlYXIgcmF0aW8uXG5cdCAgICAgKiBAcHJvcGVydHkge051bWJlcn0gcmF0aW9cblx0ICAgICAqIEBwcml2YXRlXG5cdCAgICAgKiBAc2VlIHNldFJhdGlvXG5cdCAgICAgKi9cblx0ICAgIHRoaXMucmF0aW8gPSB0eXBlb2Yob3B0aW9ucy5yYXRpbyk9PT1cIm51bWJlclwiID8gb3B0aW9ucy5yYXRpbyA6IDE7XG5cdFxuXHQgICAgdGhpcy5zZXRSYXRpbyh0aGlzLnJhdGlvKTtcblx0fVxuXHRBbmdsZUxvY2tFcXVhdGlvbi5wcm90b3R5cGUgPSBuZXcgRXF1YXRpb24oKTtcblx0QW5nbGVMb2NrRXF1YXRpb24ucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQW5nbGVMb2NrRXF1YXRpb247XG5cdFxuXHRBbmdsZUxvY2tFcXVhdGlvbi5wcm90b3R5cGUuY29tcHV0ZUdxID0gZnVuY3Rpb24oKXtcblx0ICAgIHJldHVybiB0aGlzLnJhdGlvICogdGhpcy5ib2R5QS5hbmdsZSAtIHRoaXMuYm9keUIuYW5nbGUgKyB0aGlzLmFuZ2xlO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIFNldCB0aGUgZ2VhciByYXRpbyBmb3IgdGhpcyBlcXVhdGlvblxuXHQgKiBAbWV0aG9kIHNldFJhdGlvXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSByYXRpb1xuXHQgKi9cblx0QW5nbGVMb2NrRXF1YXRpb24ucHJvdG90eXBlLnNldFJhdGlvID0gZnVuY3Rpb24ocmF0aW8pe1xuXHQgICAgdmFyIEcgPSB0aGlzLkc7XG5cdCAgICBHWzJdID0gIHJhdGlvO1xuXHQgICAgR1s1XSA9IC0xO1xuXHQgICAgdGhpcy5yYXRpbyA9IHJhdGlvO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIFNldCB0aGUgbWF4IGZvcmNlIGZvciB0aGUgZXF1YXRpb24uXG5cdCAqIEBtZXRob2Qgc2V0TWF4VG9ycXVlXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB0b3JxdWVcblx0ICovXG5cdEFuZ2xlTG9ja0VxdWF0aW9uLnByb3RvdHlwZS5zZXRNYXhUb3JxdWUgPSBmdW5jdGlvbih0b3JxdWUpe1xuXHQgICAgdGhpcy5tYXhGb3JjZSA9ICB0b3JxdWU7XG5cdCAgICB0aGlzLm1pbkZvcmNlID0gLXRvcnF1ZTtcblx0fTtcblxuXG4vKioqLyB9LFxuLyogNTAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBFcXVhdGlvbiA9IF9fd2VicGFja19yZXF1aXJlX18oMyksXG5cdCAgICB2ZWMyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gUm90YXRpb25hbExvY2tFcXVhdGlvbjtcblx0XG5cdC8qKlxuXHQgKiBMb2NrcyB0aGUgcmVsYXRpdmUgYW5nbGUgYmV0d2VlbiB0d28gYm9kaWVzLiBUaGUgY29uc3RyYWludCB0cmllcyB0byBrZWVwIHRoZSBkb3QgcHJvZHVjdCBiZXR3ZWVuIHR3byB2ZWN0b3JzLCBsb2NhbCBpbiBlYWNoIGJvZHksIHRvIHplcm8uIFRoZSBsb2NhbCBhbmdsZSBpbiBib2R5IGkgaXMgYSBwYXJhbWV0ZXIuXG5cdCAqXG5cdCAqIEBjbGFzcyBSb3RhdGlvbmFsTG9ja0VxdWF0aW9uXG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKiBAZXh0ZW5kcyBFcXVhdGlvblxuXHQgKiBAcGFyYW0ge0JvZHl9IGJvZHlBXG5cdCAqIEBwYXJhbSB7Qm9keX0gYm9keUJcblx0ICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuXHQgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMuYW5nbGVdIEFuZ2xlIHRvIGFkZCB0byB0aGUgbG9jYWwgdmVjdG9yIGluIGJvZHlBLlxuXHQgKi9cblx0ZnVuY3Rpb24gUm90YXRpb25hbExvY2tFcXVhdGlvbihib2R5QSwgYm9keUIsIG9wdGlvbnMpe1xuXHQgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cdCAgICBFcXVhdGlvbi5jYWxsKHRoaXMsIGJvZHlBLCBib2R5QiwgLU51bWJlci5NQVhfVkFMVUUsIE51bWJlci5NQVhfVkFMVUUpO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQHByb3BlcnR5IHtudW1iZXJ9IGFuZ2xlXG5cdCAgICAgKi9cblx0ICAgIHRoaXMuYW5nbGUgPSBvcHRpb25zLmFuZ2xlIHx8IDA7XG5cdFxuXHQgICAgdmFyIEcgPSB0aGlzLkc7XG5cdCAgICBHWzJdID0gIDE7XG5cdCAgICBHWzVdID0gLTE7XG5cdH1cblx0Um90YXRpb25hbExvY2tFcXVhdGlvbi5wcm90b3R5cGUgPSBuZXcgRXF1YXRpb24oKTtcblx0Um90YXRpb25hbExvY2tFcXVhdGlvbi5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBSb3RhdGlvbmFsTG9ja0VxdWF0aW9uO1xuXHRcblx0dmFyIHdvcmxkVmVjdG9yQSA9IHZlYzIuY3JlYXRlKCksXG5cdCAgICB3b3JsZFZlY3RvckIgPSB2ZWMyLmNyZWF0ZSgpLFxuXHQgICAgeEF4aXMgPSB2ZWMyLmZyb21WYWx1ZXMoMSwwKSxcblx0ICAgIHlBeGlzID0gdmVjMi5mcm9tVmFsdWVzKDAsMSk7XG5cdFJvdGF0aW9uYWxMb2NrRXF1YXRpb24ucHJvdG90eXBlLmNvbXB1dGVHcSA9IGZ1bmN0aW9uKCl7XG5cdCAgICB2ZWMyLnJvdGF0ZSh3b3JsZFZlY3RvckEseEF4aXMsdGhpcy5ib2R5QS5hbmdsZSt0aGlzLmFuZ2xlKTtcblx0ICAgIHZlYzIucm90YXRlKHdvcmxkVmVjdG9yQix5QXhpcyx0aGlzLmJvZHlCLmFuZ2xlKTtcblx0ICAgIHJldHVybiB2ZWMyLmRvdCh3b3JsZFZlY3RvckEsd29ybGRWZWN0b3JCKTtcblx0fTtcblxuXG4vKioqLyB9LFxuLyogNTEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBFcXVhdGlvbiA9IF9fd2VicGFja19yZXF1aXJlX18oMyksXG5cdCAgICB2ZWMyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gUm90YXRpb25hbFZlbG9jaXR5RXF1YXRpb247XG5cdFxuXHQvKipcblx0ICogU3luY3Mgcm90YXRpb25hbCB2ZWxvY2l0eSBvZiB0d28gYm9kaWVzLCBvciBzZXRzIGEgcmVsYXRpdmUgdmVsb2NpdHkgKG1vdG9yKS5cblx0ICpcblx0ICogQGNsYXNzIFJvdGF0aW9uYWxWZWxvY2l0eUVxdWF0aW9uXG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKiBAZXh0ZW5kcyBFcXVhdGlvblxuXHQgKiBAcGFyYW0ge0JvZHl9IGJvZHlBXG5cdCAqIEBwYXJhbSB7Qm9keX0gYm9keUJcblx0ICovXG5cdGZ1bmN0aW9uIFJvdGF0aW9uYWxWZWxvY2l0eUVxdWF0aW9uKGJvZHlBLCBib2R5Qil7XG5cdCAgICBFcXVhdGlvbi5jYWxsKHRoaXMsIGJvZHlBLCBib2R5QiwgLU51bWJlci5NQVhfVkFMVUUsIE51bWJlci5NQVhfVkFMVUUpO1xuXHQgICAgdGhpcy5yZWxhdGl2ZVZlbG9jaXR5ID0gMTtcblx0ICAgIHRoaXMucmF0aW8gPSAxO1xuXHR9XG5cdFJvdGF0aW9uYWxWZWxvY2l0eUVxdWF0aW9uLnByb3RvdHlwZSA9IG5ldyBFcXVhdGlvbigpO1xuXHRSb3RhdGlvbmFsVmVsb2NpdHlFcXVhdGlvbi5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBSb3RhdGlvbmFsVmVsb2NpdHlFcXVhdGlvbjtcblx0Um90YXRpb25hbFZlbG9jaXR5RXF1YXRpb24ucHJvdG90eXBlLmNvbXB1dGVCID0gZnVuY3Rpb24oYSxiLGgpe1xuXHQgICAgdmFyIEcgPSB0aGlzLkc7XG5cdCAgICBHWzJdID0gLTE7XG5cdCAgICBHWzVdID0gdGhpcy5yYXRpbztcblx0XG5cdCAgICB2YXIgR2lNZiA9IHRoaXMuY29tcHV0ZUdpTWYoKTtcblx0ICAgIHZhciBHVyA9IHRoaXMuY29tcHV0ZUdXKCk7XG5cdCAgICB2YXIgQiA9IC0gR1cgKiBiIC0gaCpHaU1mO1xuXHRcblx0ICAgIHJldHVybiBCO1xuXHR9O1xuXG5cbi8qKiovIH0sXG4vKiA1MiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIE1hdGVyaWFsID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNyk7XG5cdHZhciBFcXVhdGlvbiA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IENvbnRhY3RNYXRlcmlhbDtcblx0XG5cdC8qKlxuXHQgKiBEZWZpbmVzIHdoYXQgaGFwcGVucyB3aGVuIHR3byBtYXRlcmlhbHMgbWVldCwgc3VjaCBhcyB3aGF0IGZyaWN0aW9uIGNvZWZmaWNpZW50IHRvIHVzZS4gWW91IGNhbiBhbHNvIHNldCBvdGhlciB0aGluZ3Mgc3VjaCBhcyByZXN0aXR1dGlvbiwgc3VyZmFjZSB2ZWxvY2l0eSBhbmQgY29uc3RyYWludCBwYXJhbWV0ZXJzLlxuXHQgKiBAY2xhc3MgQ29udGFjdE1hdGVyaWFsXG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKiBAcGFyYW0ge01hdGVyaWFsfSBtYXRlcmlhbEFcblx0ICogQHBhcmFtIHtNYXRlcmlhbH0gbWF0ZXJpYWxCXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSAgIFtvcHRpb25zXVxuXHQgKiBAcGFyYW0ge051bWJlcn0gICBbb3B0aW9ucy5mcmljdGlvbj0wLjNdICAgICAgIEZyaWN0aW9uIGNvZWZmaWNpZW50LlxuXHQgKiBAcGFyYW0ge051bWJlcn0gICBbb3B0aW9ucy5yZXN0aXR1dGlvbj0wXSAgICAgIFJlc3RpdHV0aW9uIGNvZWZmaWNpZW50IGFrYSBcImJvdW5jaW5lc3NcIi5cblx0ICogQHBhcmFtIHtOdW1iZXJ9ICAgW29wdGlvbnMuc3RpZmZuZXNzXSAgICAgICAgICBDb250YWN0RXF1YXRpb24gc3RpZmZuZXNzLlxuXHQgKiBAcGFyYW0ge051bWJlcn0gICBbb3B0aW9ucy5yZWxheGF0aW9uXSAgICAgICAgIENvbnRhY3RFcXVhdGlvbiByZWxheGF0aW9uLlxuXHQgKiBAcGFyYW0ge051bWJlcn0gICBbb3B0aW9ucy5mcmljdGlvblN0aWZmbmVzc10gIEZyaWN0aW9uRXF1YXRpb24gc3RpZmZuZXNzLlxuXHQgKiBAcGFyYW0ge051bWJlcn0gICBbb3B0aW9ucy5mcmljdGlvblJlbGF4YXRpb25dIEZyaWN0aW9uRXF1YXRpb24gcmVsYXhhdGlvbi5cblx0ICogQHBhcmFtIHtOdW1iZXJ9ICAgW29wdGlvbnMuc3VyZmFjZVZlbG9jaXR5PTBdICBTdXJmYWNlIHZlbG9jaXR5LlxuXHQgKiBAYXV0aG9yIHNjaHRlcHBlXG5cdCAqL1xuXHRmdW5jdGlvbiBDb250YWN0TWF0ZXJpYWwobWF0ZXJpYWxBLCBtYXRlcmlhbEIsIG9wdGlvbnMpe1xuXHQgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cdFxuXHQgICAgaWYoIShtYXRlcmlhbEEgaW5zdGFuY2VvZiBNYXRlcmlhbCkgfHwgIShtYXRlcmlhbEIgaW5zdGFuY2VvZiBNYXRlcmlhbCkpe1xuXHQgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkZpcnN0IHR3byBhcmd1bWVudHMgbXVzdCBiZSBNYXRlcmlhbCBpbnN0YW5jZXMuXCIpO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVGhlIGNvbnRhY3QgbWF0ZXJpYWwgaWRlbnRpZmllclxuXHQgICAgICogQHByb3BlcnR5IGlkXG5cdCAgICAgKiBAdHlwZSB7TnVtYmVyfVxuXHQgICAgICovXG5cdCAgICB0aGlzLmlkID0gQ29udGFjdE1hdGVyaWFsLmlkQ291bnRlcisrO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogRmlyc3QgbWF0ZXJpYWwgcGFydGljaXBhdGluZyBpbiB0aGUgY29udGFjdCBtYXRlcmlhbFxuXHQgICAgICogQHByb3BlcnR5IG1hdGVyaWFsQVxuXHQgICAgICogQHR5cGUge01hdGVyaWFsfVxuXHQgICAgICovXG5cdCAgICB0aGlzLm1hdGVyaWFsQSA9IG1hdGVyaWFsQTtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIFNlY29uZCBtYXRlcmlhbCBwYXJ0aWNpcGF0aW5nIGluIHRoZSBjb250YWN0IG1hdGVyaWFsXG5cdCAgICAgKiBAcHJvcGVydHkgbWF0ZXJpYWxCXG5cdCAgICAgKiBAdHlwZSB7TWF0ZXJpYWx9XG5cdCAgICAgKi9cblx0ICAgIHRoaXMubWF0ZXJpYWxCID0gbWF0ZXJpYWxCO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogRnJpY3Rpb24gdG8gdXNlIGluIHRoZSBjb250YWN0IG9mIHRoZXNlIHR3byBtYXRlcmlhbHNcblx0ICAgICAqIEBwcm9wZXJ0eSBmcmljdGlvblxuXHQgICAgICogQHR5cGUge051bWJlcn1cblx0ICAgICAqL1xuXHQgICAgdGhpcy5mcmljdGlvbiAgICA9ICB0eXBlb2Yob3B0aW9ucy5mcmljdGlvbikgICAgIT09IFwidW5kZWZpbmVkXCIgPyAgIE51bWJlcihvcHRpb25zLmZyaWN0aW9uKSAgICA6IDAuMztcblx0XG5cdCAgICAvKipcblx0ICAgICAqIFJlc3RpdHV0aW9uIHRvIHVzZSBpbiB0aGUgY29udGFjdCBvZiB0aGVzZSB0d28gbWF0ZXJpYWxzXG5cdCAgICAgKiBAcHJvcGVydHkgcmVzdGl0dXRpb25cblx0ICAgICAqIEB0eXBlIHtOdW1iZXJ9XG5cdCAgICAgKi9cblx0ICAgIHRoaXMucmVzdGl0dXRpb24gPSAgdHlwZW9mKG9wdGlvbnMucmVzdGl0dXRpb24pICE9PSBcInVuZGVmaW5lZFwiID8gICBOdW1iZXIob3B0aW9ucy5yZXN0aXR1dGlvbikgOiAwLjA7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBTdGlmZm5lc3Mgb2YgdGhlIHJlc3VsdGluZyBDb250YWN0RXF1YXRpb24gdGhhdCB0aGlzIENvbnRhY3RNYXRlcmlhbCBnZW5lcmF0ZVxuXHQgICAgICogQHByb3BlcnR5IHN0aWZmbmVzc1xuXHQgICAgICogQHR5cGUge051bWJlcn1cblx0ICAgICAqL1xuXHQgICAgdGhpcy5zdGlmZm5lc3MgPSAgICAgICAgICAgIHR5cGVvZihvcHRpb25zLnN0aWZmbmVzcykgICAgICAgICAgICE9PSBcInVuZGVmaW5lZFwiID8gICBOdW1iZXIob3B0aW9ucy5zdGlmZm5lc3MpICAgOiBFcXVhdGlvbi5ERUZBVUxUX1NUSUZGTkVTUztcblx0XG5cdCAgICAvKipcblx0ICAgICAqIFJlbGF4YXRpb24gb2YgdGhlIHJlc3VsdGluZyBDb250YWN0RXF1YXRpb24gdGhhdCB0aGlzIENvbnRhY3RNYXRlcmlhbCBnZW5lcmF0ZVxuXHQgICAgICogQHByb3BlcnR5IHJlbGF4YXRpb25cblx0ICAgICAqIEB0eXBlIHtOdW1iZXJ9XG5cdCAgICAgKi9cblx0ICAgIHRoaXMucmVsYXhhdGlvbiA9ICAgICAgICAgICB0eXBlb2Yob3B0aW9ucy5yZWxheGF0aW9uKSAgICAgICAgICAhPT0gXCJ1bmRlZmluZWRcIiA/ICAgTnVtYmVyKG9wdGlvbnMucmVsYXhhdGlvbikgIDogRXF1YXRpb24uREVGQVVMVF9SRUxBWEFUSU9OO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogU3RpZmZuZXNzIG9mIHRoZSByZXN1bHRpbmcgRnJpY3Rpb25FcXVhdGlvbiB0aGF0IHRoaXMgQ29udGFjdE1hdGVyaWFsIGdlbmVyYXRlXG5cdCAgICAgKiBAcHJvcGVydHkgZnJpY3Rpb25TdGlmZm5lc3Ncblx0ICAgICAqIEB0eXBlIHtOdW1iZXJ9XG5cdCAgICAgKi9cblx0ICAgIHRoaXMuZnJpY3Rpb25TdGlmZm5lc3MgPSAgICB0eXBlb2Yob3B0aW9ucy5mcmljdGlvblN0aWZmbmVzcykgICAhPT0gXCJ1bmRlZmluZWRcIiA/ICAgTnVtYmVyKG9wdGlvbnMuZnJpY3Rpb25TdGlmZm5lc3MpICAgOiBFcXVhdGlvbi5ERUZBVUxUX1NUSUZGTkVTUztcblx0XG5cdCAgICAvKipcblx0ICAgICAqIFJlbGF4YXRpb24gb2YgdGhlIHJlc3VsdGluZyBGcmljdGlvbkVxdWF0aW9uIHRoYXQgdGhpcyBDb250YWN0TWF0ZXJpYWwgZ2VuZXJhdGVcblx0ICAgICAqIEBwcm9wZXJ0eSBmcmljdGlvblJlbGF4YXRpb25cblx0ICAgICAqIEB0eXBlIHtOdW1iZXJ9XG5cdCAgICAgKi9cblx0ICAgIHRoaXMuZnJpY3Rpb25SZWxheGF0aW9uID0gICB0eXBlb2Yob3B0aW9ucy5mcmljdGlvblJlbGF4YXRpb24pICAhPT0gXCJ1bmRlZmluZWRcIiA/ICAgTnVtYmVyKG9wdGlvbnMuZnJpY3Rpb25SZWxheGF0aW9uKSAgOiBFcXVhdGlvbi5ERUZBVUxUX1JFTEFYQVRJT047XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBXaWxsIGFkZCBzdXJmYWNlIHZlbG9jaXR5IHRvIHRoaXMgbWF0ZXJpYWwuIElmIGJvZHlBIHJlc3RzIG9uIHRvcCBpZiBib2R5QiwgYW5kIHRoZSBzdXJmYWNlIHZlbG9jaXR5IGlzIHBvc2l0aXZlLCBib2R5QSB3aWxsIHNsaWRlIHRvIHRoZSByaWdodC5cblx0ICAgICAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBzdXJmYWNlVmVsb2NpdHlcblx0ICAgICAqL1xuXHQgICAgdGhpcy5zdXJmYWNlVmVsb2NpdHkgPSB0eXBlb2Yob3B0aW9ucy5zdXJmYWNlVmVsb2NpdHkpICAgICE9PSBcInVuZGVmaW5lZFwiID8gICBOdW1iZXIob3B0aW9ucy5zdXJmYWNlVmVsb2NpdHkpICAgIDogMDtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIE9mZnNldCB0byBiZSBzZXQgb24gQ29udGFjdEVxdWF0aW9ucy4gQSBwb3NpdGl2ZSB2YWx1ZSB3aWxsIG1ha2UgdGhlIGJvZGllcyBwZW5ldHJhdGUgbW9yZSBpbnRvIGVhY2ggb3RoZXIuIENhbiBiZSB1c2VmdWwgaW4gc2NlbmVzIHdoZXJlIGNvbnRhY3RzIG5lZWQgdG8gYmUgbW9yZSBwZXJzaXN0ZW50LCBmb3IgZXhhbXBsZSB3aGVuIHN0YWNraW5nLiBBa2EgXCJjdXJlIGZvciBuZXJ2b3VzIGNvbnRhY3RzXCIuXG5cdCAgICAgKiBAcHJvcGVydHkgY29udGFjdFNraW5TaXplXG5cdCAgICAgKiBAdHlwZSB7TnVtYmVyfVxuXHQgICAgICovXG5cdCAgICB0aGlzLmNvbnRhY3RTa2luU2l6ZSA9IDAuMDA1O1xuXHR9XG5cdFxuXHRDb250YWN0TWF0ZXJpYWwuaWRDb3VudGVyID0gMDtcblxuXG4vKioqLyB9LFxuLyogNTMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciB2ZWMyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0dmFyIFNwcmluZyA9IF9fd2VicGFja19yZXF1aXJlX18oMjgpO1xuXHR2YXIgVXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBMaW5lYXJTcHJpbmc7XG5cdFxuXHQvKipcblx0ICogQSBzcHJpbmcsIGNvbm5lY3RpbmcgdHdvIGJvZGllcy5cblx0ICpcblx0ICogVGhlIFNwcmluZyBleHBsaWNpdGx5IGFkZHMgZm9yY2UgYW5kIGFuZ3VsYXJGb3JjZSB0byB0aGUgYm9kaWVzLlxuXHQgKlxuXHQgKiBAY2xhc3MgTGluZWFyU3ByaW5nXG5cdCAqIEBleHRlbmRzIFNwcmluZ1xuXHQgKiBAY29uc3RydWN0b3Jcblx0ICogQHBhcmFtIHtCb2R5fSBib2R5QVxuXHQgKiBAcGFyYW0ge0JvZHl9IGJvZHlCXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cblx0ICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnJlc3RMZW5ndGhdICAgQSBudW1iZXIgPiAwLiBEZWZhdWx0IGlzIHRoZSBjdXJyZW50IGRpc3RhbmNlIGJldHdlZW4gdGhlIHdvcmxkIGFuY2hvciBwb2ludHMuXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5zdGlmZm5lc3M9MTAwXSAgU3ByaW5nIGNvbnN0YW50IChzZWUgSG9va2VzIExhdykuIEEgbnVtYmVyID49IDAuXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5kYW1waW5nPTFdICAgICAgQSBudW1iZXIgPj0gMC4gRGVmYXVsdDogMVxuXHQgKiBAcGFyYW0ge0FycmF5fSAgW29wdGlvbnMud29ybGRBbmNob3JBXSAgIFdoZXJlIHRvIGhvb2sgdGhlIHNwcmluZyB0byBib2R5IEEsIGluIHdvcmxkIGNvb3JkaW5hdGVzLiBPdmVycmlkZXMgdGhlIG9wdGlvbiBcImxvY2FsQW5jaG9yQVwiIGlmIGdpdmVuLlxuXHQgKiBAcGFyYW0ge0FycmF5fSAgW29wdGlvbnMud29ybGRBbmNob3JCXVxuXHQgKiBAcGFyYW0ge0FycmF5fSAgW29wdGlvbnMubG9jYWxBbmNob3JBXSAgIFdoZXJlIHRvIGhvb2sgdGhlIHNwcmluZyB0byBib2R5IEEsIGluIGxvY2FsIGJvZHkgY29vcmRpbmF0ZXMuIERlZmF1bHRzIHRvIHRoZSBib2R5IGNlbnRlci5cblx0ICogQHBhcmFtIHtBcnJheX0gIFtvcHRpb25zLmxvY2FsQW5jaG9yQl1cblx0ICovXG5cdGZ1bmN0aW9uIExpbmVhclNwcmluZyhib2R5QSxib2R5QixvcHRpb25zKXtcblx0ICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXHRcblx0ICAgIFNwcmluZy5jYWxsKHRoaXMsIGJvZHlBLCBib2R5Qiwgb3B0aW9ucyk7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBBbmNob3IgZm9yIGJvZHlBIGluIGxvY2FsIGJvZHlBIGNvb3JkaW5hdGVzLlxuXHQgICAgICogQHByb3BlcnR5IGxvY2FsQW5jaG9yQVxuXHQgICAgICogQHR5cGUge0FycmF5fVxuXHQgICAgICovXG5cdCAgICB0aGlzLmxvY2FsQW5jaG9yQSA9IHZlYzIuZnJvbVZhbHVlcygwLDApO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQW5jaG9yIGZvciBib2R5QiBpbiBsb2NhbCBib2R5QiBjb29yZGluYXRlcy5cblx0ICAgICAqIEBwcm9wZXJ0eSBsb2NhbEFuY2hvckJcblx0ICAgICAqIEB0eXBlIHtBcnJheX1cblx0ICAgICAqL1xuXHQgICAgdGhpcy5sb2NhbEFuY2hvckIgPSB2ZWMyLmZyb21WYWx1ZXMoMCwwKTtcblx0XG5cdCAgICBpZihvcHRpb25zLmxvY2FsQW5jaG9yQSl7IHZlYzIuY29weSh0aGlzLmxvY2FsQW5jaG9yQSwgb3B0aW9ucy5sb2NhbEFuY2hvckEpOyB9XG5cdCAgICBpZihvcHRpb25zLmxvY2FsQW5jaG9yQil7IHZlYzIuY29weSh0aGlzLmxvY2FsQW5jaG9yQiwgb3B0aW9ucy5sb2NhbEFuY2hvckIpOyB9XG5cdCAgICBpZihvcHRpb25zLndvcmxkQW5jaG9yQSl7IHRoaXMuc2V0V29ybGRBbmNob3JBKG9wdGlvbnMud29ybGRBbmNob3JBKTsgfVxuXHQgICAgaWYob3B0aW9ucy53b3JsZEFuY2hvckIpeyB0aGlzLnNldFdvcmxkQW5jaG9yQihvcHRpb25zLndvcmxkQW5jaG9yQik7IH1cblx0XG5cdCAgICB2YXIgd29ybGRBbmNob3JBID0gdmVjMi5jcmVhdGUoKTtcblx0ICAgIHZhciB3b3JsZEFuY2hvckIgPSB2ZWMyLmNyZWF0ZSgpO1xuXHQgICAgdGhpcy5nZXRXb3JsZEFuY2hvckEod29ybGRBbmNob3JBKTtcblx0ICAgIHRoaXMuZ2V0V29ybGRBbmNob3JCKHdvcmxkQW5jaG9yQik7XG5cdCAgICB2YXIgd29ybGREaXN0YW5jZSA9IHZlYzIuZGlzdGFuY2Uod29ybGRBbmNob3JBLCB3b3JsZEFuY2hvckIpO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogUmVzdCBsZW5ndGggb2YgdGhlIHNwcmluZy5cblx0ICAgICAqIEBwcm9wZXJ0eSByZXN0TGVuZ3RoXG5cdCAgICAgKiBAdHlwZSB7bnVtYmVyfVxuXHQgICAgICovXG5cdCAgICB0aGlzLnJlc3RMZW5ndGggPSB0eXBlb2Yob3B0aW9ucy5yZXN0TGVuZ3RoKSA9PT0gXCJudW1iZXJcIiA/IG9wdGlvbnMucmVzdExlbmd0aCA6IHdvcmxkRGlzdGFuY2U7XG5cdH1cblx0TGluZWFyU3ByaW5nLnByb3RvdHlwZSA9IG5ldyBTcHJpbmcoKTtcblx0TGluZWFyU3ByaW5nLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IExpbmVhclNwcmluZztcblx0XG5cdC8qKlxuXHQgKiBTZXQgdGhlIGFuY2hvciBwb2ludCBvbiBib2R5IEEsIHVzaW5nIHdvcmxkIGNvb3JkaW5hdGVzLlxuXHQgKiBAbWV0aG9kIHNldFdvcmxkQW5jaG9yQVxuXHQgKiBAcGFyYW0ge0FycmF5fSB3b3JsZEFuY2hvckFcblx0ICovXG5cdExpbmVhclNwcmluZy5wcm90b3R5cGUuc2V0V29ybGRBbmNob3JBID0gZnVuY3Rpb24od29ybGRBbmNob3JBKXtcblx0ICAgIHRoaXMuYm9keUEudG9Mb2NhbEZyYW1lKHRoaXMubG9jYWxBbmNob3JBLCB3b3JsZEFuY2hvckEpO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIFNldCB0aGUgYW5jaG9yIHBvaW50IG9uIGJvZHkgQiwgdXNpbmcgd29ybGQgY29vcmRpbmF0ZXMuXG5cdCAqIEBtZXRob2Qgc2V0V29ybGRBbmNob3JCXG5cdCAqIEBwYXJhbSB7QXJyYXl9IHdvcmxkQW5jaG9yQlxuXHQgKi9cblx0TGluZWFyU3ByaW5nLnByb3RvdHlwZS5zZXRXb3JsZEFuY2hvckIgPSBmdW5jdGlvbih3b3JsZEFuY2hvckIpe1xuXHQgICAgdGhpcy5ib2R5Qi50b0xvY2FsRnJhbWUodGhpcy5sb2NhbEFuY2hvckIsIHdvcmxkQW5jaG9yQik7XG5cdH07XG5cdFxuXHQvKipcblx0ICogR2V0IHRoZSBhbmNob3IgcG9pbnQgb24gYm9keSBBLCBpbiB3b3JsZCBjb29yZGluYXRlcy5cblx0ICogQG1ldGhvZCBnZXRXb3JsZEFuY2hvckFcblx0ICogQHBhcmFtIHtBcnJheX0gcmVzdWx0IFRoZSB2ZWN0b3IgdG8gc3RvcmUgdGhlIHJlc3VsdCBpbi5cblx0ICovXG5cdExpbmVhclNwcmluZy5wcm90b3R5cGUuZ2V0V29ybGRBbmNob3JBID0gZnVuY3Rpb24ocmVzdWx0KXtcblx0ICAgIHRoaXMuYm9keUEudG9Xb3JsZEZyYW1lKHJlc3VsdCwgdGhpcy5sb2NhbEFuY2hvckEpO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIEdldCB0aGUgYW5jaG9yIHBvaW50IG9uIGJvZHkgQiwgaW4gd29ybGQgY29vcmRpbmF0ZXMuXG5cdCAqIEBtZXRob2QgZ2V0V29ybGRBbmNob3JCXG5cdCAqIEBwYXJhbSB7QXJyYXl9IHJlc3VsdCBUaGUgdmVjdG9yIHRvIHN0b3JlIHRoZSByZXN1bHQgaW4uXG5cdCAqL1xuXHRMaW5lYXJTcHJpbmcucHJvdG90eXBlLmdldFdvcmxkQW5jaG9yQiA9IGZ1bmN0aW9uKHJlc3VsdCl7XG5cdCAgICB0aGlzLmJvZHlCLnRvV29ybGRGcmFtZShyZXN1bHQsIHRoaXMubG9jYWxBbmNob3JCKTtcblx0fTtcblx0XG5cdHZhciBhcHBseUZvcmNlX3IgPSAgICAgICAgICAgICAgdmVjMi5jcmVhdGUoKSxcblx0ICAgIGFwcGx5Rm9yY2Vfcl91bml0ID0gICAgICAgICB2ZWMyLmNyZWF0ZSgpLFxuXHQgICAgYXBwbHlGb3JjZV91ID0gICAgICAgICAgICAgIHZlYzIuY3JlYXRlKCksXG5cdCAgICBhcHBseUZvcmNlX2YgPSAgICAgICAgICAgICAgdmVjMi5jcmVhdGUoKSxcblx0ICAgIGFwcGx5Rm9yY2Vfd29ybGRBbmNob3JBID0gICB2ZWMyLmNyZWF0ZSgpLFxuXHQgICAgYXBwbHlGb3JjZV93b3JsZEFuY2hvckIgPSAgIHZlYzIuY3JlYXRlKCksXG5cdCAgICBhcHBseUZvcmNlX3JpID0gICAgICAgICAgICAgdmVjMi5jcmVhdGUoKSxcblx0ICAgIGFwcGx5Rm9yY2VfcmogPSAgICAgICAgICAgICB2ZWMyLmNyZWF0ZSgpLFxuXHQgICAgYXBwbHlGb3JjZV90bXAgPSAgICAgICAgICAgIHZlYzIuY3JlYXRlKCk7XG5cdFxuXHQvKipcblx0ICogQXBwbHkgdGhlIHNwcmluZyBmb3JjZSB0byB0aGUgY29ubmVjdGVkIGJvZGllcy5cblx0ICogQG1ldGhvZCBhcHBseUZvcmNlXG5cdCAqL1xuXHRMaW5lYXJTcHJpbmcucHJvdG90eXBlLmFwcGx5Rm9yY2UgPSBmdW5jdGlvbigpe1xuXHQgICAgdmFyIGsgPSB0aGlzLnN0aWZmbmVzcyxcblx0ICAgICAgICBkID0gdGhpcy5kYW1waW5nLFxuXHQgICAgICAgIGwgPSB0aGlzLnJlc3RMZW5ndGgsXG5cdCAgICAgICAgYm9keUEgPSB0aGlzLmJvZHlBLFxuXHQgICAgICAgIGJvZHlCID0gdGhpcy5ib2R5Qixcblx0ICAgICAgICByID0gYXBwbHlGb3JjZV9yLFxuXHQgICAgICAgIHJfdW5pdCA9IGFwcGx5Rm9yY2Vfcl91bml0LFxuXHQgICAgICAgIHUgPSBhcHBseUZvcmNlX3UsXG5cdCAgICAgICAgZiA9IGFwcGx5Rm9yY2VfZixcblx0ICAgICAgICB0bXAgPSBhcHBseUZvcmNlX3RtcDtcblx0XG5cdCAgICB2YXIgd29ybGRBbmNob3JBID0gYXBwbHlGb3JjZV93b3JsZEFuY2hvckEsXG5cdCAgICAgICAgd29ybGRBbmNob3JCID0gYXBwbHlGb3JjZV93b3JsZEFuY2hvckIsXG5cdCAgICAgICAgcmkgPSBhcHBseUZvcmNlX3JpLFxuXHQgICAgICAgIHJqID0gYXBwbHlGb3JjZV9yajtcblx0XG5cdCAgICAvLyBHZXQgd29ybGQgYW5jaG9yc1xuXHQgICAgdGhpcy5nZXRXb3JsZEFuY2hvckEod29ybGRBbmNob3JBKTtcblx0ICAgIHRoaXMuZ2V0V29ybGRBbmNob3JCKHdvcmxkQW5jaG9yQik7XG5cdFxuXHQgICAgLy8gR2V0IG9mZnNldCBwb2ludHNcblx0ICAgIHZlYzIuc3ViKHJpLCB3b3JsZEFuY2hvckEsIGJvZHlBLnBvc2l0aW9uKTtcblx0ICAgIHZlYzIuc3ViKHJqLCB3b3JsZEFuY2hvckIsIGJvZHlCLnBvc2l0aW9uKTtcblx0XG5cdCAgICAvLyBDb21wdXRlIGRpc3RhbmNlIHZlY3RvciBiZXR3ZWVuIHdvcmxkIGFuY2hvciBwb2ludHNcblx0ICAgIHZlYzIuc3ViKHIsIHdvcmxkQW5jaG9yQiwgd29ybGRBbmNob3JBKTtcblx0ICAgIHZhciBybGVuID0gdmVjMi5sZW4ocik7XG5cdCAgICB2ZWMyLm5vcm1hbGl6ZShyX3VuaXQscik7XG5cdFxuXHQgICAgLy9jb25zb2xlLmxvZyhybGVuKVxuXHQgICAgLy9jb25zb2xlLmxvZyhcIkFcIix2ZWMyLnN0cih3b3JsZEFuY2hvckEpLFwiQlwiLHZlYzIuc3RyKHdvcmxkQW5jaG9yQikpXG5cdFxuXHQgICAgLy8gQ29tcHV0ZSByZWxhdGl2ZSB2ZWxvY2l0eSBvZiB0aGUgYW5jaG9yIHBvaW50cywgdVxuXHQgICAgdmVjMi5zdWIodSwgYm9keUIudmVsb2NpdHksIGJvZHlBLnZlbG9jaXR5KTtcblx0ICAgIHZlYzIuY3Jvc3NaVih0bXAsIGJvZHlCLmFuZ3VsYXJWZWxvY2l0eSwgcmopO1xuXHQgICAgdmVjMi5hZGQodSwgdSwgdG1wKTtcblx0ICAgIHZlYzIuY3Jvc3NaVih0bXAsIGJvZHlBLmFuZ3VsYXJWZWxvY2l0eSwgcmkpO1xuXHQgICAgdmVjMi5zdWIodSwgdSwgdG1wKTtcblx0XG5cdCAgICAvLyBGID0gLSBrICogKCB4IC0gTCApIC0gRCAqICggdSApXG5cdCAgICB2ZWMyLnNjYWxlKGYsIHJfdW5pdCwgLWsqKHJsZW4tbCkgLSBkKnZlYzIuZG90KHUscl91bml0KSk7XG5cdFxuXHQgICAgLy8gQWRkIGZvcmNlcyB0byBib2RpZXNcblx0ICAgIHZlYzIuc3ViKCBib2R5QS5mb3JjZSwgYm9keUEuZm9yY2UsIGYpO1xuXHQgICAgdmVjMi5hZGQoIGJvZHlCLmZvcmNlLCBib2R5Qi5mb3JjZSwgZik7XG5cdFxuXHQgICAgLy8gQW5ndWxhciBmb3JjZVxuXHQgICAgdmFyIHJpX3hfZiA9IHZlYzIuY3Jvc3NMZW5ndGgocmksIGYpO1xuXHQgICAgdmFyIHJqX3hfZiA9IHZlYzIuY3Jvc3NMZW5ndGgocmosIGYpO1xuXHQgICAgYm9keUEuYW5ndWxhckZvcmNlIC09IHJpX3hfZjtcblx0ICAgIGJvZHlCLmFuZ3VsYXJGb3JjZSArPSByal94X2Y7XG5cdH07XG5cblxuLyoqKi8gfSxcbi8qIDU0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgdmVjMiA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdHZhciBTcHJpbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI4KTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gUm90YXRpb25hbFNwcmluZztcblx0XG5cdC8qKlxuXHQgKiBBIHJvdGF0aW9uYWwgc3ByaW5nLCBjb25uZWN0aW5nIHR3byBib2RpZXMgcm90YXRpb24uIFRoaXMgc3ByaW5nIGV4cGxpY2l0bHkgYWRkcyBhbmd1bGFyRm9yY2UgKHRvcnF1ZSkgdG8gdGhlIGJvZGllcy5cblx0ICpcblx0ICogVGhlIHNwcmluZyBjYW4gYmUgY29tYmluZWQgd2l0aCBhIHt7I2Nyb3NzTGluayBcIlJldm9sdXRlQ29uc3RyYWludFwifX17ey9jcm9zc0xpbmt9fSB0byBtYWtlLCBmb3IgZXhhbXBsZSwgYSBtb3VzZSB0cmFwLlxuXHQgKlxuXHQgKiBAY2xhc3MgUm90YXRpb25hbFNwcmluZ1xuXHQgKiBAZXh0ZW5kcyBTcHJpbmdcblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqIEBwYXJhbSB7Qm9keX0gYm9keUFcblx0ICogQHBhcmFtIHtCb2R5fSBib2R5QlxuXHQgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5yZXN0QW5nbGVdIFRoZSByZWxhdGl2ZSBhbmdsZSBvZiBib2RpZXMgYXQgd2hpY2ggdGhlIHNwcmluZyBpcyBhdCByZXN0LiBJZiBub3QgZ2l2ZW4sIGl0J3Mgc2V0IHRvIHRoZSBjdXJyZW50IHJlbGF0aXZlIGFuZ2xlIGJldHdlZW4gdGhlIGJvZGllcy5cblx0ICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnN0aWZmbmVzcz0xMDBdIFNwcmluZyBjb25zdGFudCAoc2VlIEhvb2tlcyBMYXcpLiBBIG51bWJlciA+PSAwLlxuXHQgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuZGFtcGluZz0xXSBBIG51bWJlciA+PSAwLlxuXHQgKi9cblx0ZnVuY3Rpb24gUm90YXRpb25hbFNwcmluZyhib2R5QSwgYm9keUIsIG9wdGlvbnMpe1xuXHQgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cdFxuXHQgICAgU3ByaW5nLmNhbGwodGhpcywgYm9keUEsIGJvZHlCLCBvcHRpb25zKTtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIFJlc3QgYW5nbGUgb2YgdGhlIHNwcmluZy5cblx0ICAgICAqIEBwcm9wZXJ0eSByZXN0QW5nbGVcblx0ICAgICAqIEB0eXBlIHtudW1iZXJ9XG5cdCAgICAgKi9cblx0ICAgIHRoaXMucmVzdEFuZ2xlID0gdHlwZW9mKG9wdGlvbnMucmVzdEFuZ2xlKSA9PT0gXCJudW1iZXJcIiA/IG9wdGlvbnMucmVzdEFuZ2xlIDogYm9keUIuYW5nbGUgLSBib2R5QS5hbmdsZTtcblx0fVxuXHRSb3RhdGlvbmFsU3ByaW5nLnByb3RvdHlwZSA9IG5ldyBTcHJpbmcoKTtcblx0Um90YXRpb25hbFNwcmluZy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBSb3RhdGlvbmFsU3ByaW5nO1xuXHRcblx0LyoqXG5cdCAqIEFwcGx5IHRoZSBzcHJpbmcgZm9yY2UgdG8gdGhlIGNvbm5lY3RlZCBib2RpZXMuXG5cdCAqIEBtZXRob2QgYXBwbHlGb3JjZVxuXHQgKi9cblx0Um90YXRpb25hbFNwcmluZy5wcm90b3R5cGUuYXBwbHlGb3JjZSA9IGZ1bmN0aW9uKCl7XG5cdCAgICB2YXIgayA9IHRoaXMuc3RpZmZuZXNzLFxuXHQgICAgICAgIGQgPSB0aGlzLmRhbXBpbmcsXG5cdCAgICAgICAgbCA9IHRoaXMucmVzdEFuZ2xlLFxuXHQgICAgICAgIGJvZHlBID0gdGhpcy5ib2R5QSxcblx0ICAgICAgICBib2R5QiA9IHRoaXMuYm9keUIsXG5cdCAgICAgICAgeCA9IGJvZHlCLmFuZ2xlIC0gYm9keUEuYW5nbGUsXG5cdCAgICAgICAgdSA9IGJvZHlCLmFuZ3VsYXJWZWxvY2l0eSAtIGJvZHlBLmFuZ3VsYXJWZWxvY2l0eTtcblx0XG5cdCAgICB2YXIgdG9ycXVlID0gLSBrICogKHggLSBsKSAtIGQgKiB1ICogMDtcblx0XG5cdCAgICBib2R5QS5hbmd1bGFyRm9yY2UgLT0gdG9ycXVlO1xuXHQgICAgYm9keUIuYW5ndWxhckZvcmNlICs9IHRvcnF1ZTtcblx0fTtcblxuXG4vKioqLyB9LFxuLyogNTUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciB2ZWMyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKVxuXHQsICAgU2hhcGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpXG5cdCwgICBDb252ZXggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1KTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gQm94O1xuXHRcblx0LyoqXG5cdCAqIEJveCBzaGFwZSBjbGFzcy5cblx0ICogQGNsYXNzIEJveFxuXHQgKiBAY29uc3RydWN0b3Jcblx0ICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAoTm90ZSB0aGF0IHRoaXMgb3B0aW9ucyBvYmplY3Qgd2lsbCBiZSBwYXNzZWQgb24gdG8gdGhlIHt7I2Nyb3NzTGluayBcIlNoYXBlXCJ9fXt7L2Nyb3NzTGlua319IGNvbnN0cnVjdG9yLilcblx0ICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLndpZHRoPTFdIFRvdGFsIHdpZHRoIG9mIHRoZSBib3hcblx0ICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLmhlaWdodD0xXSBUb3RhbCBoZWlnaHQgb2YgdGhlIGJveFxuXHQgKiBAZXh0ZW5kcyBDb252ZXhcblx0ICovXG5cdGZ1bmN0aW9uIEJveChvcHRpb25zKXtcblx0ICAgIGlmKHR5cGVvZihhcmd1bWVudHNbMF0pID09PSAnbnVtYmVyJyAmJiB0eXBlb2YoYXJndW1lbnRzWzFdKSA9PT0gJ251bWJlcicpe1xuXHQgICAgICAgIG9wdGlvbnMgPSB7XG5cdCAgICAgICAgICAgIHdpZHRoOiBhcmd1bWVudHNbMF0sXG5cdCAgICAgICAgICAgIGhlaWdodDogYXJndW1lbnRzWzFdXG5cdCAgICAgICAgfTtcblx0ICAgICAgICBjb25zb2xlLndhcm4oJ1RoZSBSZWN0YW5nbGUgaGFzIGJlZW4gcmVuYW1lZCB0byBCb3ggYW5kIGl0cyBjb25zdHJ1Y3RvciBzaWduYXR1cmUgaGFzIGNoYW5nZWQuIFBsZWFzZSB1c2UgdGhlIGZvbGxvd2luZyBmb3JtYXQ6IG5ldyBCb3goeyB3aWR0aDogMSwgaGVpZ2h0OiAxLCAuLi4gfSknKTtcblx0ICAgIH1cblx0ICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVG90YWwgd2lkdGggb2YgdGhlIGJveFxuXHQgICAgICogQHByb3BlcnR5IHdpZHRoXG5cdCAgICAgKiBAdHlwZSB7TnVtYmVyfVxuXHQgICAgICovXG5cdCAgICB2YXIgd2lkdGggPSB0aGlzLndpZHRoID0gb3B0aW9ucy53aWR0aCB8fCAxO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVG90YWwgaGVpZ2h0IG9mIHRoZSBib3hcblx0ICAgICAqIEBwcm9wZXJ0eSBoZWlnaHRcblx0ICAgICAqIEB0eXBlIHtOdW1iZXJ9XG5cdCAgICAgKi9cblx0ICAgIHZhciBoZWlnaHQgPSB0aGlzLmhlaWdodCA9IG9wdGlvbnMuaGVpZ2h0IHx8IDE7XG5cdFxuXHQgICAgdmFyIHZlcnRzID0gW1xuXHQgICAgICAgIHZlYzIuZnJvbVZhbHVlcygtd2lkdGgvMiwgLWhlaWdodC8yKSxcblx0ICAgICAgICB2ZWMyLmZyb21WYWx1ZXMoIHdpZHRoLzIsIC1oZWlnaHQvMiksXG5cdCAgICAgICAgdmVjMi5mcm9tVmFsdWVzKCB3aWR0aC8yLCAgaGVpZ2h0LzIpLFxuXHQgICAgICAgIHZlYzIuZnJvbVZhbHVlcygtd2lkdGgvMiwgIGhlaWdodC8yKVxuXHQgICAgXTtcblx0ICAgIHZhciBheGVzID0gW1xuXHQgICAgICAgIHZlYzIuZnJvbVZhbHVlcygxLCAwKSxcblx0ICAgICAgICB2ZWMyLmZyb21WYWx1ZXMoMCwgMSlcblx0ICAgIF07XG5cdFxuXHQgICAgb3B0aW9ucy52ZXJ0aWNlcyA9IHZlcnRzO1xuXHQgICAgb3B0aW9ucy5heGVzID0gYXhlcztcblx0ICAgIG9wdGlvbnMudHlwZSA9IFNoYXBlLkJPWDtcblx0ICAgIENvbnZleC5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuXHR9XG5cdEJveC5wcm90b3R5cGUgPSBuZXcgQ29udmV4KCk7XG5cdEJveC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBCb3g7XG5cdFxuXHQvKipcblx0ICogQ29tcHV0ZSBtb21lbnQgb2YgaW5lcnRpYVxuXHQgKiBAbWV0aG9kIGNvbXB1dGVNb21lbnRPZkluZXJ0aWFcblx0ICogQHBhcmFtICB7TnVtYmVyfSBtYXNzXG5cdCAqIEByZXR1cm4ge051bWJlcn1cblx0ICovXG5cdEJveC5wcm90b3R5cGUuY29tcHV0ZU1vbWVudE9mSW5lcnRpYSA9IGZ1bmN0aW9uKG1hc3Mpe1xuXHQgICAgdmFyIHcgPSB0aGlzLndpZHRoLFxuXHQgICAgICAgIGggPSB0aGlzLmhlaWdodDtcblx0ICAgIHJldHVybiBtYXNzICogKGgqaCArIHcqdykgLyAxMjtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBVcGRhdGUgdGhlIGJvdW5kaW5nIHJhZGl1c1xuXHQgKiBAbWV0aG9kIHVwZGF0ZUJvdW5kaW5nUmFkaXVzXG5cdCAqL1xuXHRCb3gucHJvdG90eXBlLnVwZGF0ZUJvdW5kaW5nUmFkaXVzID0gZnVuY3Rpb24oKXtcblx0ICAgIHZhciB3ID0gdGhpcy53aWR0aCxcblx0ICAgICAgICBoID0gdGhpcy5oZWlnaHQ7XG5cdCAgICB0aGlzLmJvdW5kaW5nUmFkaXVzID0gTWF0aC5zcXJ0KHcqdyArIGgqaCkgLyAyO1xuXHR9O1xuXHRcblx0dmFyIGNvcm5lcjEgPSB2ZWMyLmNyZWF0ZSgpLFxuXHQgICAgY29ybmVyMiA9IHZlYzIuY3JlYXRlKCksXG5cdCAgICBjb3JuZXIzID0gdmVjMi5jcmVhdGUoKSxcblx0ICAgIGNvcm5lcjQgPSB2ZWMyLmNyZWF0ZSgpO1xuXHRcblx0LyoqXG5cdCAqIEBtZXRob2QgY29tcHV0ZUFBQkJcblx0ICogQHBhcmFtICB7QUFCQn0gICBvdXQgICAgICBUaGUgcmVzdWx0aW5nIEFBQkIuXG5cdCAqIEBwYXJhbSAge0FycmF5fSAgcG9zaXRpb25cblx0ICogQHBhcmFtICB7TnVtYmVyfSBhbmdsZVxuXHQgKi9cblx0Qm94LnByb3RvdHlwZS5jb21wdXRlQUFCQiA9IGZ1bmN0aW9uKG91dCwgcG9zaXRpb24sIGFuZ2xlKXtcblx0ICAgIG91dC5zZXRGcm9tUG9pbnRzKHRoaXMudmVydGljZXMscG9zaXRpb24sYW5nbGUsMCk7XG5cdH07XG5cdFxuXHRCb3gucHJvdG90eXBlLnVwZGF0ZUFyZWEgPSBmdW5jdGlvbigpe1xuXHQgICAgdGhpcy5hcmVhID0gdGhpcy53aWR0aCAqIHRoaXMuaGVpZ2h0O1xuXHR9O1xuXHRcblxuXG4vKioqLyB9LFxuLyogNTYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBTaGFwZSA9IF9fd2VicGFja19yZXF1aXJlX18oNClcblx0LCAgIHZlYzIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBDYXBzdWxlO1xuXHRcblx0LyoqXG5cdCAqIENhcHN1bGUgc2hhcGUgY2xhc3MuXG5cdCAqIEBjbGFzcyBDYXBzdWxlXG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKiBAZXh0ZW5kcyBTaGFwZVxuXHQgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIChOb3RlIHRoYXQgdGhpcyBvcHRpb25zIG9iamVjdCB3aWxsIGJlIHBhc3NlZCBvbiB0byB0aGUge3sjY3Jvc3NMaW5rIFwiU2hhcGVcIn19e3svY3Jvc3NMaW5rfX0gY29uc3RydWN0b3IuKVxuXHQgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMubGVuZ3RoPTFdIFRoZSBkaXN0YW5jZSBiZXR3ZWVuIHRoZSBlbmQgcG9pbnRzXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5yYWRpdXM9MV0gUmFkaXVzIG9mIHRoZSBjYXBzdWxlXG5cdCAqIEBleGFtcGxlXG5cdCAqICAgICB2YXIgY2Fwc3VsZVNoYXBlID0gbmV3IENhcHN1bGUoe1xuXHQgKiAgICAgICAgIGxlbmd0aDogMSxcblx0ICogICAgICAgICByYWRpdXM6IDJcblx0ICogICAgIH0pO1xuXHQgKiAgICAgYm9keS5hZGRTaGFwZShjYXBzdWxlU2hhcGUpO1xuXHQgKi9cblx0ZnVuY3Rpb24gQ2Fwc3VsZShvcHRpb25zKXtcblx0ICAgIGlmKHR5cGVvZihhcmd1bWVudHNbMF0pID09PSAnbnVtYmVyJyAmJiB0eXBlb2YoYXJndW1lbnRzWzFdKSA9PT0gJ251bWJlcicpe1xuXHQgICAgICAgIG9wdGlvbnMgPSB7XG5cdCAgICAgICAgICAgIGxlbmd0aDogYXJndW1lbnRzWzBdLFxuXHQgICAgICAgICAgICByYWRpdXM6IGFyZ3VtZW50c1sxXVxuXHQgICAgICAgIH07XG5cdCAgICAgICAgY29uc29sZS53YXJuKCdUaGUgQ2Fwc3VsZSBjb25zdHJ1Y3RvciBzaWduYXR1cmUgaGFzIGNoYW5nZWQuIFBsZWFzZSB1c2UgdGhlIGZvbGxvd2luZyBmb3JtYXQ6IG5ldyBDYXBzdWxlKHsgcmFkaXVzOiAxLCBsZW5ndGg6IDEgfSknKTtcblx0ICAgIH1cblx0ICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVGhlIGRpc3RhbmNlIGJldHdlZW4gdGhlIGVuZCBwb2ludHMuXG5cdCAgICAgKiBAcHJvcGVydHkge051bWJlcn0gbGVuZ3RoXG5cdCAgICAgKi9cblx0ICAgIHRoaXMubGVuZ3RoID0gb3B0aW9ucy5sZW5ndGggfHwgMTtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIFRoZSByYWRpdXMgb2YgdGhlIGNhcHN1bGUuXG5cdCAgICAgKiBAcHJvcGVydHkge051bWJlcn0gcmFkaXVzXG5cdCAgICAgKi9cblx0ICAgIHRoaXMucmFkaXVzID0gb3B0aW9ucy5yYWRpdXMgfHwgMTtcblx0XG5cdCAgICBvcHRpb25zLnR5cGUgPSBTaGFwZS5DQVBTVUxFO1xuXHQgICAgU2hhcGUuY2FsbCh0aGlzLCBvcHRpb25zKTtcblx0fVxuXHRDYXBzdWxlLnByb3RvdHlwZSA9IG5ldyBTaGFwZSgpO1xuXHRDYXBzdWxlLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IENhcHN1bGU7XG5cdFxuXHQvKipcblx0ICogQ29tcHV0ZSB0aGUgbWFzcyBtb21lbnQgb2YgaW5lcnRpYSBvZiB0aGUgQ2Fwc3VsZS5cblx0ICogQG1ldGhvZCBjb25wdXRlTW9tZW50T2ZJbmVydGlhXG5cdCAqIEBwYXJhbSAge051bWJlcn0gbWFzc1xuXHQgKiBAcmV0dXJuIHtOdW1iZXJ9XG5cdCAqIEB0b2RvXG5cdCAqL1xuXHRDYXBzdWxlLnByb3RvdHlwZS5jb21wdXRlTW9tZW50T2ZJbmVydGlhID0gZnVuY3Rpb24obWFzcyl7XG5cdCAgICAvLyBBcHByb3hpbWF0ZSB3aXRoIHJlY3RhbmdsZVxuXHQgICAgdmFyIHIgPSB0aGlzLnJhZGl1cyxcblx0ICAgICAgICB3ID0gdGhpcy5sZW5ndGggKyByLCAvLyAyKnIgaXMgdG9vIG11Y2gsIDAgaXMgdG9vIGxpdHRsZVxuXHQgICAgICAgIGggPSByKjI7XG5cdCAgICByZXR1cm4gbWFzcyAqIChoKmggKyB3KncpIC8gMTI7XG5cdH07XG5cdFxuXHQvKipcblx0ICogQG1ldGhvZCB1cGRhdGVCb3VuZGluZ1JhZGl1c1xuXHQgKi9cblx0Q2Fwc3VsZS5wcm90b3R5cGUudXBkYXRlQm91bmRpbmdSYWRpdXMgPSBmdW5jdGlvbigpe1xuXHQgICAgdGhpcy5ib3VuZGluZ1JhZGl1cyA9IHRoaXMucmFkaXVzICsgdGhpcy5sZW5ndGgvMjtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBAbWV0aG9kIHVwZGF0ZUFyZWFcblx0ICovXG5cdENhcHN1bGUucHJvdG90eXBlLnVwZGF0ZUFyZWEgPSBmdW5jdGlvbigpe1xuXHQgICAgdGhpcy5hcmVhID0gTWF0aC5QSSAqIHRoaXMucmFkaXVzICogdGhpcy5yYWRpdXMgKyB0aGlzLnJhZGl1cyAqIDIgKiB0aGlzLmxlbmd0aDtcblx0fTtcblx0XG5cdHZhciByID0gdmVjMi5jcmVhdGUoKTtcblx0XG5cdC8qKlxuXHQgKiBAbWV0aG9kIGNvbXB1dGVBQUJCXG5cdCAqIEBwYXJhbSAge0FBQkJ9ICAgb3V0ICAgICAgVGhlIHJlc3VsdGluZyBBQUJCLlxuXHQgKiBAcGFyYW0gIHtBcnJheX0gIHBvc2l0aW9uXG5cdCAqIEBwYXJhbSAge051bWJlcn0gYW5nbGVcblx0ICovXG5cdENhcHN1bGUucHJvdG90eXBlLmNvbXB1dGVBQUJCID0gZnVuY3Rpb24ob3V0LCBwb3NpdGlvbiwgYW5nbGUpe1xuXHQgICAgdmFyIHJhZGl1cyA9IHRoaXMucmFkaXVzO1xuXHRcblx0ICAgIC8vIENvbXB1dGUgY2VudGVyIHBvc2l0aW9uIG9mIG9uZSBvZiB0aGUgdGhlIGNpcmNsZXMsIHdvcmxkIG9yaWVudGVkLCBidXQgd2l0aCBsb2NhbCBvZmZzZXRcblx0ICAgIHZlYzIuc2V0KHIsdGhpcy5sZW5ndGggLyAyLDApO1xuXHQgICAgaWYoYW5nbGUgIT09IDApe1xuXHQgICAgICAgIHZlYzIucm90YXRlKHIscixhbmdsZSk7XG5cdCAgICB9XG5cdFxuXHQgICAgLy8gR2V0IGJvdW5kc1xuXHQgICAgdmVjMi5zZXQob3V0LnVwcGVyQm91bmQsICBNYXRoLm1heChyWzBdK3JhZGl1cywgLXJbMF0rcmFkaXVzKSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5tYXgoclsxXStyYWRpdXMsIC1yWzFdK3JhZGl1cykpO1xuXHQgICAgdmVjMi5zZXQob3V0Lmxvd2VyQm91bmQsICBNYXRoLm1pbihyWzBdLXJhZGl1cywgLXJbMF0tcmFkaXVzKSxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5taW4oclsxXS1yYWRpdXMsIC1yWzFdLXJhZGl1cykpO1xuXHRcblx0ICAgIC8vIEFkZCBvZmZzZXRcblx0ICAgIHZlYzIuYWRkKG91dC5sb3dlckJvdW5kLCBvdXQubG93ZXJCb3VuZCwgcG9zaXRpb24pO1xuXHQgICAgdmVjMi5hZGQob3V0LnVwcGVyQm91bmQsIG91dC51cHBlckJvdW5kLCBwb3NpdGlvbik7XG5cdH07XG5cdFxuXHR2YXIgaW50ZXJzZWN0Q2Fwc3VsZV9oaXRQb2ludFdvcmxkID0gdmVjMi5jcmVhdGUoKTtcblx0dmFyIGludGVyc2VjdENhcHN1bGVfbm9ybWFsID0gdmVjMi5jcmVhdGUoKTtcblx0dmFyIGludGVyc2VjdENhcHN1bGVfbDAgPSB2ZWMyLmNyZWF0ZSgpO1xuXHR2YXIgaW50ZXJzZWN0Q2Fwc3VsZV9sMSA9IHZlYzIuY3JlYXRlKCk7XG5cdHZhciBpbnRlcnNlY3RDYXBzdWxlX3VuaXRfeSA9IHZlYzIuZnJvbVZhbHVlcygwLDEpO1xuXHRcblx0LyoqXG5cdCAqIEBtZXRob2QgcmF5Y2FzdFxuXHQgKiBAcGFyYW0gIHtSYXljYXN0UmVzdWx0fSByZXN1bHRcblx0ICogQHBhcmFtICB7UmF5fSByYXlcblx0ICogQHBhcmFtICB7YXJyYXl9IHBvc2l0aW9uXG5cdCAqIEBwYXJhbSAge251bWJlcn0gYW5nbGVcblx0ICovXG5cdENhcHN1bGUucHJvdG90eXBlLnJheWNhc3QgPSBmdW5jdGlvbihyZXN1bHQsIHJheSwgcG9zaXRpb24sIGFuZ2xlKXtcblx0ICAgIHZhciBmcm9tID0gcmF5LmZyb207XG5cdCAgICB2YXIgdG8gPSByYXkudG87XG5cdCAgICB2YXIgZGlyZWN0aW9uID0gcmF5LmRpcmVjdGlvbjtcblx0XG5cdCAgICB2YXIgaGl0UG9pbnRXb3JsZCA9IGludGVyc2VjdENhcHN1bGVfaGl0UG9pbnRXb3JsZDtcblx0ICAgIHZhciBub3JtYWwgPSBpbnRlcnNlY3RDYXBzdWxlX25vcm1hbDtcblx0ICAgIHZhciBsMCA9IGludGVyc2VjdENhcHN1bGVfbDA7XG5cdCAgICB2YXIgbDEgPSBpbnRlcnNlY3RDYXBzdWxlX2wxO1xuXHRcblx0ICAgIC8vIFRoZSBzaWRlc1xuXHQgICAgdmFyIGhhbGZMZW4gPSB0aGlzLmxlbmd0aCAvIDI7XG5cdCAgICBmb3IodmFyIGk9MDsgaTwyOyBpKyspe1xuXHRcblx0ICAgICAgICAvLyBnZXQgc3RhcnQgYW5kIGVuZCBvZiB0aGUgbGluZVxuXHQgICAgICAgIHZhciB5ID0gdGhpcy5yYWRpdXMgKiAoaSoyLTEpO1xuXHQgICAgICAgIHZlYzIuc2V0KGwwLCAtaGFsZkxlbiwgeSk7XG5cdCAgICAgICAgdmVjMi5zZXQobDEsIGhhbGZMZW4sIHkpO1xuXHQgICAgICAgIHZlYzIudG9HbG9iYWxGcmFtZShsMCwgbDAsIHBvc2l0aW9uLCBhbmdsZSk7XG5cdCAgICAgICAgdmVjMi50b0dsb2JhbEZyYW1lKGwxLCBsMSwgcG9zaXRpb24sIGFuZ2xlKTtcblx0XG5cdCAgICAgICAgdmFyIGRlbHRhID0gdmVjMi5nZXRMaW5lU2VnbWVudHNJbnRlcnNlY3Rpb25GcmFjdGlvbihmcm9tLCB0bywgbDAsIGwxKTtcblx0ICAgICAgICBpZihkZWx0YSA+PSAwKXtcblx0ICAgICAgICAgICAgdmVjMi5yb3RhdGUobm9ybWFsLCBpbnRlcnNlY3RDYXBzdWxlX3VuaXRfeSwgYW5nbGUpO1xuXHQgICAgICAgICAgICB2ZWMyLnNjYWxlKG5vcm1hbCwgbm9ybWFsLCAoaSoyLTEpKTtcblx0ICAgICAgICAgICAgcmF5LnJlcG9ydEludGVyc2VjdGlvbihyZXN1bHQsIGRlbHRhLCBub3JtYWwsIC0xKTtcblx0ICAgICAgICAgICAgaWYocmVzdWx0LnNob3VsZFN0b3AocmF5KSl7XG5cdCAgICAgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgLy8gQ2lyY2xlc1xuXHQgICAgdmFyIGRpYWdvbmFsTGVuZ3RoU3F1YXJlZCA9IE1hdGgucG93KHRoaXMucmFkaXVzLCAyKSArIE1hdGgucG93KGhhbGZMZW4sIDIpO1xuXHQgICAgZm9yKHZhciBpPTA7IGk8MjsgaSsrKXtcblx0ICAgICAgICB2ZWMyLnNldChsMCwgaGFsZkxlbiAqIChpKjItMSksIDApO1xuXHQgICAgICAgIHZlYzIudG9HbG9iYWxGcmFtZShsMCwgbDAsIHBvc2l0aW9uLCBhbmdsZSk7XG5cdFxuXHQgICAgICAgIHZhciBhID0gTWF0aC5wb3codG9bMF0gLSBmcm9tWzBdLCAyKSArIE1hdGgucG93KHRvWzFdIC0gZnJvbVsxXSwgMik7XG5cdCAgICAgICAgdmFyIGIgPSAyICogKCh0b1swXSAtIGZyb21bMF0pICogKGZyb21bMF0gLSBsMFswXSkgKyAodG9bMV0gLSBmcm9tWzFdKSAqIChmcm9tWzFdIC0gbDBbMV0pKTtcblx0ICAgICAgICB2YXIgYyA9IE1hdGgucG93KGZyb21bMF0gLSBsMFswXSwgMikgKyBNYXRoLnBvdyhmcm9tWzFdIC0gbDBbMV0sIDIpIC0gTWF0aC5wb3codGhpcy5yYWRpdXMsIDIpO1xuXHQgICAgICAgIHZhciBkZWx0YSA9IE1hdGgucG93KGIsIDIpIC0gNCAqIGEgKiBjO1xuXHRcblx0ICAgICAgICBpZihkZWx0YSA8IDApe1xuXHQgICAgICAgICAgICAvLyBObyBpbnRlcnNlY3Rpb25cblx0ICAgICAgICAgICAgY29udGludWU7XG5cdFxuXHQgICAgICAgIH0gZWxzZSBpZihkZWx0YSA9PT0gMCl7XG5cdCAgICAgICAgICAgIC8vIHNpbmdsZSBpbnRlcnNlY3Rpb24gcG9pbnRcblx0ICAgICAgICAgICAgdmVjMi5sZXJwKGhpdFBvaW50V29ybGQsIGZyb20sIHRvLCBkZWx0YSk7XG5cdFxuXHQgICAgICAgICAgICBpZih2ZWMyLnNxdWFyZWREaXN0YW5jZShoaXRQb2ludFdvcmxkLCBwb3NpdGlvbikgPiBkaWFnb25hbExlbmd0aFNxdWFyZWQpe1xuXHQgICAgICAgICAgICAgICAgdmVjMi5zdWIobm9ybWFsLCBoaXRQb2ludFdvcmxkLCBsMCk7XG5cdCAgICAgICAgICAgICAgICB2ZWMyLm5vcm1hbGl6ZShub3JtYWwsbm9ybWFsKTtcblx0ICAgICAgICAgICAgICAgIHJheS5yZXBvcnRJbnRlcnNlY3Rpb24ocmVzdWx0LCBkZWx0YSwgbm9ybWFsLCAtMSk7XG5cdCAgICAgICAgICAgICAgICBpZihyZXN1bHQuc2hvdWxkU3RvcChyYXkpKXtcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgdmFyIHNxcnREZWx0YSA9IE1hdGguc3FydChkZWx0YSk7XG5cdCAgICAgICAgICAgIHZhciBpbnYyYSA9IDEgLyAoMiAqIGEpO1xuXHQgICAgICAgICAgICB2YXIgZDEgPSAoLSBiIC0gc3FydERlbHRhKSAqIGludjJhO1xuXHQgICAgICAgICAgICB2YXIgZDIgPSAoLSBiICsgc3FydERlbHRhKSAqIGludjJhO1xuXHRcblx0ICAgICAgICAgICAgaWYoZDEgPj0gMCAmJiBkMSA8PSAxKXtcblx0ICAgICAgICAgICAgICAgIHZlYzIubGVycChoaXRQb2ludFdvcmxkLCBmcm9tLCB0bywgZDEpO1xuXHQgICAgICAgICAgICAgICAgaWYodmVjMi5zcXVhcmVkRGlzdGFuY2UoaGl0UG9pbnRXb3JsZCwgcG9zaXRpb24pID4gZGlhZ29uYWxMZW5ndGhTcXVhcmVkKXtcblx0ICAgICAgICAgICAgICAgICAgICB2ZWMyLnN1Yihub3JtYWwsIGhpdFBvaW50V29ybGQsIGwwKTtcblx0ICAgICAgICAgICAgICAgICAgICB2ZWMyLm5vcm1hbGl6ZShub3JtYWwsbm9ybWFsKTtcblx0ICAgICAgICAgICAgICAgICAgICByYXkucmVwb3J0SW50ZXJzZWN0aW9uKHJlc3VsdCwgZDEsIG5vcm1hbCwgLTEpO1xuXHQgICAgICAgICAgICAgICAgICAgIGlmKHJlc3VsdC5zaG91bGRTdG9wKHJheSkpe1xuXHQgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICBpZihkMiA+PSAwICYmIGQyIDw9IDEpe1xuXHQgICAgICAgICAgICAgICAgdmVjMi5sZXJwKGhpdFBvaW50V29ybGQsIGZyb20sIHRvLCBkMik7XG5cdCAgICAgICAgICAgICAgICBpZih2ZWMyLnNxdWFyZWREaXN0YW5jZShoaXRQb2ludFdvcmxkLCBwb3NpdGlvbikgPiBkaWFnb25hbExlbmd0aFNxdWFyZWQpe1xuXHQgICAgICAgICAgICAgICAgICAgIHZlYzIuc3ViKG5vcm1hbCwgaGl0UG9pbnRXb3JsZCwgbDApO1xuXHQgICAgICAgICAgICAgICAgICAgIHZlYzIubm9ybWFsaXplKG5vcm1hbCxub3JtYWwpO1xuXHQgICAgICAgICAgICAgICAgICAgIHJheS5yZXBvcnRJbnRlcnNlY3Rpb24ocmVzdWx0LCBkMiwgbm9ybWFsLCAtMSk7XG5cdCAgICAgICAgICAgICAgICAgICAgaWYocmVzdWx0LnNob3VsZFN0b3AocmF5KSl7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICB9XG5cdH07XG5cbi8qKiovIH0sXG4vKiA1NyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIFNoYXBlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KVxuXHQsICAgdmVjMiA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IExpbmU7XG5cdFxuXHQvKipcblx0ICogTGluZSBzaGFwZSBjbGFzcy4gVGhlIGxpbmUgc2hhcGUgaXMgYWxvbmcgdGhlIHggZGlyZWN0aW9uLCBhbmQgc3RyZXRjaGVzIGZyb20gWy1sZW5ndGgvMiwgMF0gdG8gW2xlbmd0aC8yLDBdLlxuXHQgKiBAY2xhc3MgTGluZVxuXHQgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIChOb3RlIHRoYXQgdGhpcyBvcHRpb25zIG9iamVjdCB3aWxsIGJlIHBhc3NlZCBvbiB0byB0aGUge3sjY3Jvc3NMaW5rIFwiU2hhcGVcIn19e3svY3Jvc3NMaW5rfX0gY29uc3RydWN0b3IuKVxuXHQgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMubGVuZ3RoPTFdIFRoZSB0b3RhbCBsZW5ndGggb2YgdGhlIGxpbmVcblx0ICogQGV4dGVuZHMgU2hhcGVcblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqL1xuXHRmdW5jdGlvbiBMaW5lKG9wdGlvbnMpe1xuXHQgICAgaWYodHlwZW9mKGFyZ3VtZW50c1swXSkgPT09ICdudW1iZXInKXtcblx0ICAgICAgICBvcHRpb25zID0ge1xuXHQgICAgICAgICAgICBsZW5ndGg6IGFyZ3VtZW50c1swXVxuXHQgICAgICAgIH07XG5cdCAgICAgICAgY29uc29sZS53YXJuKCdUaGUgTGluZSBjb25zdHJ1Y3RvciBzaWduYXR1cmUgaGFzIGNoYW5nZWQuIFBsZWFzZSB1c2UgdGhlIGZvbGxvd2luZyBmb3JtYXQ6IG5ldyBMaW5lKHsgbGVuZ3RoOiAxLCAuLi4gfSknKTtcblx0ICAgIH1cblx0ICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogTGVuZ3RoIG9mIHRoaXMgbGluZVxuXHQgICAgICogQHByb3BlcnR5IHtOdW1iZXJ9IGxlbmd0aFxuXHQgICAgICogQGRlZmF1bHQgMVxuXHQgICAgICovXG5cdCAgICB0aGlzLmxlbmd0aCA9IG9wdGlvbnMubGVuZ3RoIHx8IDE7XG5cdFxuXHQgICAgb3B0aW9ucy50eXBlID0gU2hhcGUuTElORTtcblx0ICAgIFNoYXBlLmNhbGwodGhpcywgb3B0aW9ucyk7XG5cdH1cblx0TGluZS5wcm90b3R5cGUgPSBuZXcgU2hhcGUoKTtcblx0TGluZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBMaW5lO1xuXHRcblx0TGluZS5wcm90b3R5cGUuY29tcHV0ZU1vbWVudE9mSW5lcnRpYSA9IGZ1bmN0aW9uKG1hc3Mpe1xuXHQgICAgcmV0dXJuIG1hc3MgKiBNYXRoLnBvdyh0aGlzLmxlbmd0aCwyKSAvIDEyO1xuXHR9O1xuXHRcblx0TGluZS5wcm90b3R5cGUudXBkYXRlQm91bmRpbmdSYWRpdXMgPSBmdW5jdGlvbigpe1xuXHQgICAgdGhpcy5ib3VuZGluZ1JhZGl1cyA9IHRoaXMubGVuZ3RoLzI7XG5cdH07XG5cdFxuXHR2YXIgcG9pbnRzID0gW3ZlYzIuY3JlYXRlKCksdmVjMi5jcmVhdGUoKV07XG5cdFxuXHQvKipcblx0ICogQG1ldGhvZCBjb21wdXRlQUFCQlxuXHQgKiBAcGFyYW0gIHtBQUJCfSAgIG91dCAgICAgIFRoZSByZXN1bHRpbmcgQUFCQi5cblx0ICogQHBhcmFtICB7QXJyYXl9ICBwb3NpdGlvblxuXHQgKiBAcGFyYW0gIHtOdW1iZXJ9IGFuZ2xlXG5cdCAqL1xuXHRMaW5lLnByb3RvdHlwZS5jb21wdXRlQUFCQiA9IGZ1bmN0aW9uKG91dCwgcG9zaXRpb24sIGFuZ2xlKXtcblx0ICAgIHZhciBsMiA9IHRoaXMubGVuZ3RoIC8gMjtcblx0ICAgIHZlYzIuc2V0KHBvaW50c1swXSwgLWwyLCAgMCk7XG5cdCAgICB2ZWMyLnNldChwb2ludHNbMV0sICBsMiwgIDApO1xuXHQgICAgb3V0LnNldEZyb21Qb2ludHMocG9pbnRzLHBvc2l0aW9uLGFuZ2xlLDApO1xuXHR9O1xuXHRcblx0dmFyIHJheWNhc3RfaGl0UG9pbnQgPSB2ZWMyLmNyZWF0ZSgpO1xuXHR2YXIgcmF5Y2FzdF9ub3JtYWwgPSB2ZWMyLmNyZWF0ZSgpO1xuXHR2YXIgcmF5Y2FzdF9sMCA9IHZlYzIuY3JlYXRlKCk7XG5cdHZhciByYXljYXN0X2wxID0gdmVjMi5jcmVhdGUoKTtcblx0dmFyIHJheWNhc3RfdW5pdF95ID0gdmVjMi5mcm9tVmFsdWVzKDAsMSk7XG5cdFxuXHQvKipcblx0ICogQG1ldGhvZCByYXljYXN0XG5cdCAqIEBwYXJhbSAge1JheWNhc3RSZXN1bHR9IHJlc3VsdFxuXHQgKiBAcGFyYW0gIHtSYXl9IHJheVxuXHQgKiBAcGFyYW0gIHtudW1iZXJ9IGFuZ2xlXG5cdCAqIEBwYXJhbSAge2FycmF5fSBwb3NpdGlvblxuXHQgKi9cblx0TGluZS5wcm90b3R5cGUucmF5Y2FzdCA9IGZ1bmN0aW9uKHJlc3VsdCwgcmF5LCBwb3NpdGlvbiwgYW5nbGUpe1xuXHQgICAgdmFyIGZyb20gPSByYXkuZnJvbTtcblx0ICAgIHZhciB0byA9IHJheS50bztcblx0XG5cdCAgICB2YXIgbDAgPSByYXljYXN0X2wwO1xuXHQgICAgdmFyIGwxID0gcmF5Y2FzdF9sMTtcblx0XG5cdCAgICAvLyBnZXQgc3RhcnQgYW5kIGVuZCBvZiB0aGUgbGluZVxuXHQgICAgdmFyIGhhbGZMZW4gPSB0aGlzLmxlbmd0aCAvIDI7XG5cdCAgICB2ZWMyLnNldChsMCwgLWhhbGZMZW4sIDApO1xuXHQgICAgdmVjMi5zZXQobDEsIGhhbGZMZW4sIDApO1xuXHQgICAgdmVjMi50b0dsb2JhbEZyYW1lKGwwLCBsMCwgcG9zaXRpb24sIGFuZ2xlKTtcblx0ICAgIHZlYzIudG9HbG9iYWxGcmFtZShsMSwgbDEsIHBvc2l0aW9uLCBhbmdsZSk7XG5cdFxuXHQgICAgdmFyIGZyYWN0aW9uID0gdmVjMi5nZXRMaW5lU2VnbWVudHNJbnRlcnNlY3Rpb25GcmFjdGlvbihsMCwgbDEsIGZyb20sIHRvKTtcblx0ICAgIGlmKGZyYWN0aW9uID49IDApe1xuXHQgICAgICAgIHZhciBub3JtYWwgPSByYXljYXN0X25vcm1hbDtcblx0ICAgICAgICB2ZWMyLnJvdGF0ZShub3JtYWwsIHJheWNhc3RfdW5pdF95LCBhbmdsZSk7IC8vIHRvZG86IHRoaXMgc2hvdWxkIGRlcGVuZCBvbiB3aGljaCBzaWRlIHRoZSByYXkgY29tZXMgZnJvbVxuXHQgICAgICAgIHJheS5yZXBvcnRJbnRlcnNlY3Rpb24ocmVzdWx0LCBmcmFjdGlvbiwgbm9ybWFsLCAtMSk7XG5cdCAgICB9XG5cdH07XG5cbi8qKiovIH0sXG4vKiA1OCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIHZlYzIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpXG5cdCwgICBTb2x2ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMxKVxuXHQsICAgVXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpXG5cdCwgICBGcmljdGlvbkVxdWF0aW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNCk7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IEdTU29sdmVyO1xuXHRcblx0LyoqXG5cdCAqIEl0ZXJhdGl2ZSBHYXVzcy1TZWlkZWwgY29uc3RyYWludCBlcXVhdGlvbiBzb2x2ZXIuXG5cdCAqXG5cdCAqIEBjbGFzcyBHU1NvbHZlclxuXHQgKiBAY29uc3RydWN0b3Jcblx0ICogQGV4dGVuZHMgU29sdmVyXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cblx0ICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLml0ZXJhdGlvbnM9MTBdXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy50b2xlcmFuY2U9MF1cblx0ICovXG5cdGZ1bmN0aW9uIEdTU29sdmVyKG9wdGlvbnMpe1xuXHQgICAgU29sdmVyLmNhbGwodGhpcyxvcHRpb25zLFNvbHZlci5HUyk7XG5cdCAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIFRoZSBtYXggbnVtYmVyIG9mIGl0ZXJhdGlvbnMgdG8gZG8gd2hlbiBzb2x2aW5nLiBNb3JlIGdpdmVzIGJldHRlciByZXN1bHRzLCBidXQgaXMgbW9yZSBleHBlbnNpdmUuXG5cdCAgICAgKiBAcHJvcGVydHkgaXRlcmF0aW9uc1xuXHQgICAgICogQHR5cGUge051bWJlcn1cblx0ICAgICAqL1xuXHQgICAgdGhpcy5pdGVyYXRpb25zID0gb3B0aW9ucy5pdGVyYXRpb25zIHx8IDEwO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVGhlIGVycm9yIHRvbGVyYW5jZSwgcGVyIGNvbnN0cmFpbnQuIElmIHRoZSB0b3RhbCBlcnJvciBpcyBiZWxvdyB0aGlzIGxpbWl0LCB0aGUgc29sdmVyIHdpbGwgc3RvcCBpdGVyYXRpbmcuIFNldCB0byB6ZXJvIGZvciBhcyBnb29kIHNvbHV0aW9uIGFzIHBvc3NpYmxlLCBidXQgdG8gc29tZXRoaW5nIGxhcmdlciB0aGFuIHplcm8gdG8gbWFrZSBjb21wdXRhdGlvbnMgZmFzdGVyLlxuXHQgICAgICogQHByb3BlcnR5IHRvbGVyYW5jZVxuXHQgICAgICogQHR5cGUge051bWJlcn1cblx0ICAgICAqIEBkZWZhdWx0IDFlLTdcblx0ICAgICAqL1xuXHQgICAgdGhpcy50b2xlcmFuY2UgPSBvcHRpb25zLnRvbGVyYW5jZSB8fCAxZS03O1xuXHRcblx0ICAgIHRoaXMuYXJyYXlTdGVwID0gMzA7XG5cdCAgICB0aGlzLmxhbWJkYSA9IG5ldyBVdGlscy5BUlJBWV9UWVBFKHRoaXMuYXJyYXlTdGVwKTtcblx0ICAgIHRoaXMuQnMgPSAgICAgbmV3IFV0aWxzLkFSUkFZX1RZUEUodGhpcy5hcnJheVN0ZXApO1xuXHQgICAgdGhpcy5pbnZDcyA9ICBuZXcgVXRpbHMuQVJSQVlfVFlQRSh0aGlzLmFycmF5U3RlcCk7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBTZXQgdG8gdHJ1ZSB0byBzZXQgYWxsIHJpZ2h0IGhhbmQgc2lkZSB0ZXJtcyB0byB6ZXJvIHdoZW4gc29sdmluZy4gQ2FuIGJlIGhhbmR5IGZvciBhIGZldyBhcHBsaWNhdGlvbnMuXG5cdCAgICAgKiBAcHJvcGVydHkgdXNlWmVyb1JIU1xuXHQgICAgICogQHR5cGUge0Jvb2xlYW59XG5cdCAgICAgKi9cblx0ICAgIHRoaXMudXNlWmVyb1JIUyA9IGZhbHNlO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogTnVtYmVyIG9mIHNvbHZlciBpdGVyYXRpb25zIHRoYXQgYXJlIGRvbmUgdG8gYXBwcm94aW1hdGUgbm9ybWFsIGZvcmNlcy4gV2hlbiB0aGVzZSBpdGVyYXRpb25zIGFyZSBkb25lLCBmcmljdGlvbiBmb3JjZSB3aWxsIGJlIGNvbXB1dGVkIGZyb20gdGhlIGNvbnRhY3Qgbm9ybWFsIGZvcmNlcy4gVGhlc2UgZnJpY3Rpb24gZm9yY2VzIHdpbGwgb3ZlcnJpZGUgYW55IG90aGVyIGZyaWN0aW9uIGZvcmNlcyBzZXQgZnJvbSB0aGUgV29ybGQgZm9yIGV4YW1wbGUuXG5cdCAgICAgKiBUaGUgc29sdmVyIHdpbGwgdXNlIGxlc3MgaXRlcmF0aW9ucyBpZiB0aGUgc29sdXRpb24gaXMgYmVsb3cgdGhlIC50b2xlcmFuY2UuXG5cdCAgICAgKiBAcHJvcGVydHkgZnJpY3Rpb25JdGVyYXRpb25zXG5cdCAgICAgKiBAdHlwZSB7TnVtYmVyfVxuXHQgICAgICovXG5cdCAgICB0aGlzLmZyaWN0aW9uSXRlcmF0aW9ucyA9IDA7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGUgbnVtYmVyIG9mIGl0ZXJhdGlvbnMgdGhhdCB3ZXJlIG1hZGUgZHVyaW5nIHRoZSBsYXN0IHNvbHZlLiBJZiAudG9sZXJhbmNlIGlzIHplcm8sIHRoaXMgdmFsdWUgd2lsbCBhbHdheXMgYmUgZXF1YWwgdG8gLml0ZXJhdGlvbnMsIGJ1dCBpZiAudG9sZXJhbmNlIGlzIGxhcmdlciB0aGFuIHplcm8sIGFuZCB0aGUgc29sdmVyIGNhbiBxdWl0IGVhcmx5LCB0aGVuIHRoaXMgbnVtYmVyIHdpbGwgYmUgc29tZXdoZXJlIGJldHdlZW4gMSBhbmQgLml0ZXJhdGlvbnMuXG5cdCAgICAgKiBAcHJvcGVydHkge051bWJlcn0gdXNlZEl0ZXJhdGlvbnNcblx0ICAgICAqL1xuXHQgICAgdGhpcy51c2VkSXRlcmF0aW9ucyA9IDA7XG5cdH1cblx0R1NTb2x2ZXIucHJvdG90eXBlID0gbmV3IFNvbHZlcigpO1xuXHRHU1NvbHZlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBHU1NvbHZlcjtcblx0XG5cdGZ1bmN0aW9uIHNldEFycmF5WmVybyhhcnJheSl7XG5cdCAgICB2YXIgbCA9IGFycmF5Lmxlbmd0aDtcblx0ICAgIHdoaWxlKGwtLSl7XG5cdCAgICAgICAgYXJyYXlbbF0gPSArMC4wO1xuXHQgICAgfVxuXHR9XG5cdFxuXHQvKipcblx0ICogU29sdmUgdGhlIHN5c3RlbSBvZiBlcXVhdGlvbnNcblx0ICogQG1ldGhvZCBzb2x2ZVxuXHQgKiBAcGFyYW0gIHtOdW1iZXJ9ICBoICAgICAgIFRpbWUgc3RlcFxuXHQgKiBAcGFyYW0gIHtXb3JsZH0gICB3b3JsZCAgICBXb3JsZCB0byBzb2x2ZVxuXHQgKi9cblx0R1NTb2x2ZXIucHJvdG90eXBlLnNvbHZlID0gZnVuY3Rpb24oaCwgd29ybGQpe1xuXHRcblx0ICAgIHRoaXMuc29ydEVxdWF0aW9ucygpO1xuXHRcblx0ICAgIHZhciBpdGVyID0gMCxcblx0ICAgICAgICBtYXhJdGVyID0gdGhpcy5pdGVyYXRpb25zLFxuXHQgICAgICAgIG1heEZyaWN0aW9uSXRlciA9IHRoaXMuZnJpY3Rpb25JdGVyYXRpb25zLFxuXHQgICAgICAgIGVxdWF0aW9ucyA9IHRoaXMuZXF1YXRpb25zLFxuXHQgICAgICAgIE5lcSA9IGVxdWF0aW9ucy5sZW5ndGgsXG5cdCAgICAgICAgdG9sU3F1YXJlZCA9IE1hdGgucG93KHRoaXMudG9sZXJhbmNlKk5lcSwgMiksXG5cdCAgICAgICAgYm9kaWVzID0gd29ybGQuYm9kaWVzLFxuXHQgICAgICAgIE5ib2RpZXMgPSB3b3JsZC5ib2RpZXMubGVuZ3RoLFxuXHQgICAgICAgIGFkZCA9IHZlYzIuYWRkLFxuXHQgICAgICAgIHNldCA9IHZlYzIuc2V0LFxuXHQgICAgICAgIHVzZVplcm9SSFMgPSB0aGlzLnVzZVplcm9SSFMsXG5cdCAgICAgICAgbGFtYmRhID0gdGhpcy5sYW1iZGE7XG5cdFxuXHQgICAgdGhpcy51c2VkSXRlcmF0aW9ucyA9IDA7XG5cdFxuXHQgICAgaWYoTmVxKXtcblx0ICAgICAgICBmb3IodmFyIGk9MDsgaSE9PU5ib2RpZXM7IGkrKyl7XG5cdCAgICAgICAgICAgIHZhciBiID0gYm9kaWVzW2ldO1xuXHRcblx0ICAgICAgICAgICAgLy8gVXBkYXRlIHNvbHZlIG1hc3Ncblx0ICAgICAgICAgICAgYi51cGRhdGVTb2x2ZU1hc3NQcm9wZXJ0aWVzKCk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIC8vIFRoaW5ncyB0aGF0IGRvZXMgbm90IGNoYW5nZSBkdXJpbmcgaXRlcmF0aW9uIGNhbiBiZSBjb21wdXRlZCBvbmNlXG5cdCAgICBpZihsYW1iZGEubGVuZ3RoIDwgTmVxKXtcblx0ICAgICAgICBsYW1iZGEgPSB0aGlzLmxhbWJkYSA9ICBuZXcgVXRpbHMuQVJSQVlfVFlQRShOZXEgKyB0aGlzLmFycmF5U3RlcCk7XG5cdCAgICAgICAgdGhpcy5CcyA9ICAgICAgICAgICAgICAgbmV3IFV0aWxzLkFSUkFZX1RZUEUoTmVxICsgdGhpcy5hcnJheVN0ZXApO1xuXHQgICAgICAgIHRoaXMuaW52Q3MgPSAgICAgICAgICAgIG5ldyBVdGlscy5BUlJBWV9UWVBFKE5lcSArIHRoaXMuYXJyYXlTdGVwKTtcblx0ICAgIH1cblx0ICAgIHNldEFycmF5WmVybyhsYW1iZGEpO1xuXHQgICAgdmFyIGludkNzID0gdGhpcy5pbnZDcyxcblx0ICAgICAgICBCcyA9IHRoaXMuQnMsXG5cdCAgICAgICAgbGFtYmRhID0gdGhpcy5sYW1iZGE7XG5cdFxuXHQgICAgZm9yKHZhciBpPTA7IGkhPT1lcXVhdGlvbnMubGVuZ3RoOyBpKyspe1xuXHQgICAgICAgIHZhciBjID0gZXF1YXRpb25zW2ldO1xuXHQgICAgICAgIGlmKGMudGltZVN0ZXAgIT09IGggfHwgYy5uZWVkc1VwZGF0ZSl7XG5cdCAgICAgICAgICAgIGMudGltZVN0ZXAgPSBoO1xuXHQgICAgICAgICAgICBjLnVwZGF0ZSgpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBCc1tpXSA9ICAgICBjLmNvbXB1dGVCKGMuYSxjLmIsaCk7XG5cdCAgICAgICAgaW52Q3NbaV0gPSAgYy5jb21wdXRlSW52QyhjLmVwc2lsb24pO1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciBxLCBCLCBjLCBkZWx0YWxhbWJkYVRvdCxpLGo7XG5cdFxuXHQgICAgaWYoTmVxICE9PSAwKXtcblx0XG5cdCAgICAgICAgZm9yKGk9MDsgaSE9PU5ib2RpZXM7IGkrKyl7XG5cdCAgICAgICAgICAgIHZhciBiID0gYm9kaWVzW2ldO1xuXHRcblx0ICAgICAgICAgICAgLy8gUmVzZXQgdmxhbWJkYVxuXHQgICAgICAgICAgICBiLnJlc2V0Q29uc3RyYWludFZlbG9jaXR5KCk7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBpZihtYXhGcmljdGlvbkl0ZXIpe1xuXHQgICAgICAgICAgICAvLyBJdGVyYXRlIG92ZXIgY29udGFjdCBlcXVhdGlvbnMgdG8gZ2V0IG5vcm1hbCBmb3JjZXNcblx0ICAgICAgICAgICAgZm9yKGl0ZXI9MDsgaXRlciE9PW1heEZyaWN0aW9uSXRlcjsgaXRlcisrKXtcblx0XG5cdCAgICAgICAgICAgICAgICAvLyBBY2N1bXVsYXRlIHRoZSB0b3RhbCBlcnJvciBmb3IgZWFjaCBpdGVyYXRpb24uXG5cdCAgICAgICAgICAgICAgICBkZWx0YWxhbWJkYVRvdCA9IDAuMDtcblx0XG5cdCAgICAgICAgICAgICAgICBmb3Ioaj0wOyBqIT09TmVxOyBqKyspe1xuXHQgICAgICAgICAgICAgICAgICAgIGMgPSBlcXVhdGlvbnNbal07XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgIHZhciBkZWx0YWxhbWJkYSA9IEdTU29sdmVyLml0ZXJhdGVFcXVhdGlvbihqLGMsYy5lcHNpbG9uLEJzLGludkNzLGxhbWJkYSx1c2VaZXJvUkhTLGgsaXRlcik7XG5cdCAgICAgICAgICAgICAgICAgICAgZGVsdGFsYW1iZGFUb3QgKz0gTWF0aC5hYnMoZGVsdGFsYW1iZGEpO1xuXHQgICAgICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgICAgIHRoaXMudXNlZEl0ZXJhdGlvbnMrKztcblx0XG5cdCAgICAgICAgICAgICAgICAvLyBJZiB0aGUgdG90YWwgZXJyb3IgaXMgc21hbGwgZW5vdWdoIC0gc3RvcCBpdGVyYXRlXG5cdCAgICAgICAgICAgICAgICBpZihkZWx0YWxhbWJkYVRvdCpkZWx0YWxhbWJkYVRvdCA8PSB0b2xTcXVhcmVkKXtcblx0ICAgICAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgR1NTb2x2ZXIudXBkYXRlTXVsdGlwbGllcnMoZXF1YXRpb25zLCBsYW1iZGEsIDEvaCk7XG5cdFxuXHQgICAgICAgICAgICAvLyBTZXQgY29tcHV0ZWQgZnJpY3Rpb24gZm9yY2Vcblx0ICAgICAgICAgICAgZm9yKGo9MDsgaiE9PU5lcTsgaisrKXtcblx0ICAgICAgICAgICAgICAgIHZhciBlcSA9IGVxdWF0aW9uc1tqXTtcblx0ICAgICAgICAgICAgICAgIGlmKGVxIGluc3RhbmNlb2YgRnJpY3Rpb25FcXVhdGlvbil7XG5cdCAgICAgICAgICAgICAgICAgICAgdmFyIGYgPSAwLjA7XG5cdCAgICAgICAgICAgICAgICAgICAgZm9yKHZhciBrPTA7IGshPT1lcS5jb250YWN0RXF1YXRpb25zLmxlbmd0aDsgaysrKXtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgZiArPSBlcS5jb250YWN0RXF1YXRpb25zW2tdLm11bHRpcGxpZXI7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgICAgIGYgKj0gZXEuZnJpY3Rpb25Db2VmZmljaWVudCAvIGVxLmNvbnRhY3RFcXVhdGlvbnMubGVuZ3RoO1xuXHQgICAgICAgICAgICAgICAgICAgIGVxLm1heEZvcmNlID0gIGY7XG5cdCAgICAgICAgICAgICAgICAgICAgZXEubWluRm9yY2UgPSAtZjtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgLy8gSXRlcmF0ZSBvdmVyIGFsbCBlcXVhdGlvbnNcblx0ICAgICAgICBmb3IoaXRlcj0wOyBpdGVyIT09bWF4SXRlcjsgaXRlcisrKXtcblx0XG5cdCAgICAgICAgICAgIC8vIEFjY3VtdWxhdGUgdGhlIHRvdGFsIGVycm9yIGZvciBlYWNoIGl0ZXJhdGlvbi5cblx0ICAgICAgICAgICAgZGVsdGFsYW1iZGFUb3QgPSAwLjA7XG5cdFxuXHQgICAgICAgICAgICBmb3Ioaj0wOyBqIT09TmVxOyBqKyspe1xuXHQgICAgICAgICAgICAgICAgYyA9IGVxdWF0aW9uc1tqXTtcblx0XG5cdCAgICAgICAgICAgICAgICB2YXIgZGVsdGFsYW1iZGEgPSBHU1NvbHZlci5pdGVyYXRlRXF1YXRpb24oaixjLGMuZXBzaWxvbixCcyxpbnZDcyxsYW1iZGEsdXNlWmVyb1JIUyxoLGl0ZXIpO1xuXHQgICAgICAgICAgICAgICAgZGVsdGFsYW1iZGFUb3QgKz0gTWF0aC5hYnMoZGVsdGFsYW1iZGEpO1xuXHQgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICB0aGlzLnVzZWRJdGVyYXRpb25zKys7XG5cdFxuXHQgICAgICAgICAgICAvLyBJZiB0aGUgdG90YWwgZXJyb3IgaXMgc21hbGwgZW5vdWdoIC0gc3RvcCBpdGVyYXRlXG5cdCAgICAgICAgICAgIGlmKGRlbHRhbGFtYmRhVG90KmRlbHRhbGFtYmRhVG90IDw9IHRvbFNxdWFyZWQpe1xuXHQgICAgICAgICAgICAgICAgYnJlYWs7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIC8vIEFkZCByZXN1bHQgdG8gdmVsb2NpdHlcblx0ICAgICAgICBmb3IoaT0wOyBpIT09TmJvZGllczsgaSsrKXtcblx0ICAgICAgICAgICAgYm9kaWVzW2ldLmFkZENvbnN0cmFpbnRWZWxvY2l0eSgpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgR1NTb2x2ZXIudXBkYXRlTXVsdGlwbGllcnMoZXF1YXRpb25zLCBsYW1iZGEsIDEvaCk7XG5cdCAgICB9XG5cdH07XG5cdFxuXHQvLyBTZXRzIHRoZSAubXVsdGlwbGllciBwcm9wZXJ0eSBvZiBlYWNoIGVxdWF0aW9uXG5cdEdTU29sdmVyLnVwZGF0ZU11bHRpcGxpZXJzID0gZnVuY3Rpb24oZXF1YXRpb25zLCBsYW1iZGEsIGludkR0KXtcblx0ICAgIC8vIFNldCB0aGUgLm11bHRpcGxpZXIgcHJvcGVydHkgb2YgZWFjaCBlcXVhdGlvblxuXHQgICAgdmFyIGwgPSBlcXVhdGlvbnMubGVuZ3RoO1xuXHQgICAgd2hpbGUobC0tKXtcblx0ICAgICAgICBlcXVhdGlvbnNbbF0ubXVsdGlwbGllciA9IGxhbWJkYVtsXSAqIGludkR0O1xuXHQgICAgfVxuXHR9O1xuXHRcblx0R1NTb2x2ZXIuaXRlcmF0ZUVxdWF0aW9uID0gZnVuY3Rpb24oaixlcSxlcHMsQnMsaW52Q3MsbGFtYmRhLHVzZVplcm9SSFMsZHQsaXRlcil7XG5cdCAgICAvLyBDb21wdXRlIGl0ZXJhdGlvblxuXHQgICAgdmFyIEIgPSBCc1tqXSxcblx0ICAgICAgICBpbnZDID0gaW52Q3Nbal0sXG5cdCAgICAgICAgbGFtYmRhaiA9IGxhbWJkYVtqXSxcblx0ICAgICAgICBHV2xhbWJkYSA9IGVxLmNvbXB1dGVHV2xhbWJkYSgpO1xuXHRcblx0ICAgIHZhciBtYXhGb3JjZSA9IGVxLm1heEZvcmNlLFxuXHQgICAgICAgIG1pbkZvcmNlID0gZXEubWluRm9yY2U7XG5cdFxuXHQgICAgaWYodXNlWmVyb1JIUyl7XG5cdCAgICAgICAgQiA9IDA7XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIGRlbHRhbGFtYmRhID0gaW52QyAqICggQiAtIEdXbGFtYmRhIC0gZXBzICogbGFtYmRhaiApO1xuXHRcblx0ICAgIC8vIENsYW1wIGlmIHdlIGFyZSBub3Qgd2l0aGluIHRoZSBtaW4vbWF4IGludGVydmFsXG5cdCAgICB2YXIgbGFtYmRhal9wbHVzX2RlbHRhbGFtYmRhID0gbGFtYmRhaiArIGRlbHRhbGFtYmRhO1xuXHQgICAgaWYobGFtYmRhal9wbHVzX2RlbHRhbGFtYmRhIDwgbWluRm9yY2UqZHQpe1xuXHQgICAgICAgIGRlbHRhbGFtYmRhID0gbWluRm9yY2UqZHQgLSBsYW1iZGFqO1xuXHQgICAgfSBlbHNlIGlmKGxhbWJkYWpfcGx1c19kZWx0YWxhbWJkYSA+IG1heEZvcmNlKmR0KXtcblx0ICAgICAgICBkZWx0YWxhbWJkYSA9IG1heEZvcmNlKmR0IC0gbGFtYmRhajtcblx0ICAgIH1cblx0ICAgIGxhbWJkYVtqXSArPSBkZWx0YWxhbWJkYTtcblx0ICAgIGVxLmFkZFRvV2xhbWJkYShkZWx0YWxhbWJkYSk7XG5cdFxuXHQgICAgcmV0dXJuIGRlbHRhbGFtYmRhO1xuXHR9O1xuXG5cbi8qKiovIH0sXG4vKiA1OSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIENvbnRhY3RFcXVhdGlvbiA9IF9fd2VicGFja19yZXF1aXJlX18oMTkpO1xuXHR2YXIgUG9vbCA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IENvbnRhY3RFcXVhdGlvblBvb2w7XG5cdFxuXHQvKipcblx0ICogQGNsYXNzXG5cdCAqL1xuXHRmdW5jdGlvbiBDb250YWN0RXF1YXRpb25Qb29sKCkge1xuXHRcdFBvb2wuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0fVxuXHRDb250YWN0RXF1YXRpb25Qb29sLnByb3RvdHlwZSA9IG5ldyBQb29sKCk7XG5cdENvbnRhY3RFcXVhdGlvblBvb2wucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQ29udGFjdEVxdWF0aW9uUG9vbDtcblx0XG5cdC8qKlxuXHQgKiBAbWV0aG9kIGNyZWF0ZVxuXHQgKiBAcmV0dXJuIHtDb250YWN0RXF1YXRpb259XG5cdCAqL1xuXHRDb250YWN0RXF1YXRpb25Qb29sLnByb3RvdHlwZS5jcmVhdGUgPSBmdW5jdGlvbiAoKSB7XG5cdFx0cmV0dXJuIG5ldyBDb250YWN0RXF1YXRpb24oKTtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBAbWV0aG9kIGRlc3Ryb3lcblx0ICogQHBhcmFtIHtDb250YWN0RXF1YXRpb259IGVxdWF0aW9uXG5cdCAqIEByZXR1cm4ge0NvbnRhY3RFcXVhdGlvblBvb2x9XG5cdCAqL1xuXHRDb250YWN0RXF1YXRpb25Qb29sLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKGVxdWF0aW9uKSB7XG5cdFx0ZXF1YXRpb24uYm9keUEgPSBlcXVhdGlvbi5ib2R5QiA9IG51bGw7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH07XG5cblxuLyoqKi8gfSxcbi8qIDYwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgRnJpY3Rpb25FcXVhdGlvbiA9IF9fd2VicGFja19yZXF1aXJlX18oMTQpO1xuXHR2YXIgUG9vbCA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IEZyaWN0aW9uRXF1YXRpb25Qb29sO1xuXHRcblx0LyoqXG5cdCAqIEBjbGFzc1xuXHQgKi9cblx0ZnVuY3Rpb24gRnJpY3Rpb25FcXVhdGlvblBvb2woKSB7XG5cdFx0UG9vbC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHR9XG5cdEZyaWN0aW9uRXF1YXRpb25Qb29sLnByb3RvdHlwZSA9IG5ldyBQb29sKCk7XG5cdEZyaWN0aW9uRXF1YXRpb25Qb29sLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEZyaWN0aW9uRXF1YXRpb25Qb29sO1xuXHRcblx0LyoqXG5cdCAqIEBtZXRob2QgY3JlYXRlXG5cdCAqIEByZXR1cm4ge0ZyaWN0aW9uRXF1YXRpb259XG5cdCAqL1xuXHRGcmljdGlvbkVxdWF0aW9uUG9vbC5wcm90b3R5cGUuY3JlYXRlID0gZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiBuZXcgRnJpY3Rpb25FcXVhdGlvbigpO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIEBtZXRob2QgZGVzdHJveVxuXHQgKiBAcGFyYW0ge0ZyaWN0aW9uRXF1YXRpb259IGVxdWF0aW9uXG5cdCAqIEByZXR1cm4ge0ZyaWN0aW9uRXF1YXRpb25Qb29sfVxuXHQgKi9cblx0RnJpY3Rpb25FcXVhdGlvblBvb2wucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoZXF1YXRpb24pIHtcblx0XHRlcXVhdGlvbi5ib2R5QSA9IGVxdWF0aW9uLmJvZHlCID0gbnVsbDtcblx0XHRyZXR1cm4gdGhpcztcblx0fTtcblxuXG4vKioqLyB9LFxuLyogNjEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gT3ZlcmxhcEtlZXBlclJlY29yZDtcblx0XG5cdC8qKlxuXHQgKiBPdmVybGFwIGRhdGEgY29udGFpbmVyIGZvciB0aGUgT3ZlcmxhcEtlZXBlclxuXHQgKiBAY2xhc3MgT3ZlcmxhcEtlZXBlclJlY29yZFxuXHQgKiBAY29uc3RydWN0b3Jcblx0ICogQHBhcmFtIHtCb2R5fSBib2R5QVxuXHQgKiBAcGFyYW0ge1NoYXBlfSBzaGFwZUFcblx0ICogQHBhcmFtIHtCb2R5fSBib2R5QlxuXHQgKiBAcGFyYW0ge1NoYXBlfSBzaGFwZUJcblx0ICovXG5cdGZ1bmN0aW9uIE92ZXJsYXBLZWVwZXJSZWNvcmQoYm9keUEsIHNoYXBlQSwgYm9keUIsIHNoYXBlQil7XG5cdCAgICAvKipcblx0ICAgICAqIEBwcm9wZXJ0eSB7U2hhcGV9IHNoYXBlQVxuXHQgICAgICovXG5cdCAgICB0aGlzLnNoYXBlQSA9IHNoYXBlQTtcblx0ICAgIC8qKlxuXHQgICAgICogQHByb3BlcnR5IHtTaGFwZX0gc2hhcGVCXG5cdCAgICAgKi9cblx0ICAgIHRoaXMuc2hhcGVCID0gc2hhcGVCO1xuXHQgICAgLyoqXG5cdCAgICAgKiBAcHJvcGVydHkge0JvZHl9IGJvZHlBXG5cdCAgICAgKi9cblx0ICAgIHRoaXMuYm9keUEgPSBib2R5QTtcblx0ICAgIC8qKlxuXHQgICAgICogQHByb3BlcnR5IHtCb2R5fSBib2R5QlxuXHQgICAgICovXG5cdCAgICB0aGlzLmJvZHlCID0gYm9keUI7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBTZXQgdGhlIGRhdGEgZm9yIHRoZSByZWNvcmRcblx0ICogQG1ldGhvZCBzZXRcblx0ICogQHBhcmFtIHtCb2R5fSBib2R5QVxuXHQgKiBAcGFyYW0ge1NoYXBlfSBzaGFwZUFcblx0ICogQHBhcmFtIHtCb2R5fSBib2R5QlxuXHQgKiBAcGFyYW0ge1NoYXBlfSBzaGFwZUJcblx0ICovXG5cdE92ZXJsYXBLZWVwZXJSZWNvcmQucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uKGJvZHlBLCBzaGFwZUEsIGJvZHlCLCBzaGFwZUIpe1xuXHQgICAgT3ZlcmxhcEtlZXBlclJlY29yZC5jYWxsKHRoaXMsIGJvZHlBLCBzaGFwZUEsIGJvZHlCLCBzaGFwZUIpO1xuXHR9O1xuXG5cbi8qKiovIH0sXG4vKiA2MiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIFV0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gVHVwbGVEaWN0aW9uYXJ5O1xuXHRcblx0LyoqXG5cdCAqIEBjbGFzcyBUdXBsZURpY3Rpb25hcnlcblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqL1xuXHRmdW5jdGlvbiBUdXBsZURpY3Rpb25hcnkoKSB7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGUgZGF0YSBzdG9yYWdlXG5cdCAgICAgKiBAcHJvcGVydHkgZGF0YVxuXHQgICAgICogQHR5cGUge09iamVjdH1cblx0ICAgICAqL1xuXHQgICAgdGhpcy5kYXRhID0ge307XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBLZXlzIHRoYXQgYXJlIGN1cnJlbnRseSB1c2VkLlxuXHQgICAgICogQHByb3BlcnR5IHtBcnJheX0ga2V5c1xuXHQgICAgICovXG5cdCAgICB0aGlzLmtleXMgPSBbXTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIEdlbmVyYXRlIGEga2V5IGdpdmVuIHR3byBpbnRlZ2Vyc1xuXHQgKiBAbWV0aG9kIGdldEtleVxuXHQgKiBAcGFyYW0gIHtudW1iZXJ9IGlcblx0ICogQHBhcmFtICB7bnVtYmVyfSBqXG5cdCAqIEByZXR1cm4ge3N0cmluZ31cblx0ICovXG5cdFR1cGxlRGljdGlvbmFyeS5wcm90b3R5cGUuZ2V0S2V5ID0gZnVuY3Rpb24oaWQxLCBpZDIpIHtcblx0ICAgIGlkMSA9IGlkMXwwO1xuXHQgICAgaWQyID0gaWQyfDA7XG5cdFxuXHQgICAgaWYgKCAoaWQxfDApID09PSAoaWQyfDApICl7XG5cdCAgICAgICAgcmV0dXJuIC0xO1xuXHQgICAgfVxuXHRcblx0ICAgIC8vIHZhbGlkIGZvciB2YWx1ZXMgPCAyXjE2XG5cdCAgICByZXR1cm4gKChpZDF8MCkgPiAoaWQyfDApID9cblx0ICAgICAgICAoaWQxIDw8IDE2KSB8IChpZDIgJiAweEZGRkYpIDpcblx0ICAgICAgICAoaWQyIDw8IDE2KSB8IChpZDEgJiAweEZGRkYpKXwwXG5cdCAgICAgICAgO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIEBtZXRob2QgZ2V0QnlLZXlcblx0ICogQHBhcmFtICB7TnVtYmVyfSBrZXlcblx0ICogQHJldHVybiB7T2JqZWN0fVxuXHQgKi9cblx0VHVwbGVEaWN0aW9uYXJ5LnByb3RvdHlwZS5nZXRCeUtleSA9IGZ1bmN0aW9uKGtleSkge1xuXHQgICAga2V5ID0ga2V5fDA7XG5cdCAgICByZXR1cm4gdGhpcy5kYXRhW2tleV07XG5cdH07XG5cdFxuXHQvKipcblx0ICogQG1ldGhvZCBnZXRcblx0ICogQHBhcmFtICB7TnVtYmVyfSBpXG5cdCAqIEBwYXJhbSAge051bWJlcn0galxuXHQgKiBAcmV0dXJuIHtOdW1iZXJ9XG5cdCAqL1xuXHRUdXBsZURpY3Rpb25hcnkucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uKGksIGopIHtcblx0ICAgIHJldHVybiB0aGlzLmRhdGFbdGhpcy5nZXRLZXkoaSwgaildO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIFNldCBhIHZhbHVlLlxuXHQgKiBAbWV0aG9kIHNldFxuXHQgKiBAcGFyYW0gIHtOdW1iZXJ9IGlcblx0ICogQHBhcmFtICB7TnVtYmVyfSBqXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSB2YWx1ZVxuXHQgKi9cblx0VHVwbGVEaWN0aW9uYXJ5LnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbihpLCBqLCB2YWx1ZSkge1xuXHQgICAgaWYoIXZhbHVlKXtcblx0ICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBkYXRhIVwiKTtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIga2V5ID0gdGhpcy5nZXRLZXkoaSwgaik7XG5cdFxuXHQgICAgLy8gQ2hlY2sgaWYga2V5IGFscmVhZHkgZXhpc3RzXG5cdCAgICBpZighdGhpcy5kYXRhW2tleV0pe1xuXHQgICAgICAgIHRoaXMua2V5cy5wdXNoKGtleSk7XG5cdCAgICB9XG5cdFxuXHQgICAgdGhpcy5kYXRhW2tleV0gPSB2YWx1ZTtcblx0XG5cdCAgICByZXR1cm4ga2V5O1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIFJlbW92ZSBhbGwgZGF0YS5cblx0ICogQG1ldGhvZCByZXNldFxuXHQgKi9cblx0VHVwbGVEaWN0aW9uYXJ5LnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgdmFyIGRhdGEgPSB0aGlzLmRhdGEsXG5cdCAgICAgICAga2V5cyA9IHRoaXMua2V5cztcblx0XG5cdCAgICB2YXIgbCA9IGtleXMubGVuZ3RoO1xuXHQgICAgd2hpbGUobC0tKSB7XG5cdCAgICAgICAgZGVsZXRlIGRhdGFba2V5c1tsXV07XG5cdCAgICB9XG5cdFxuXHQgICAga2V5cy5sZW5ndGggPSAwO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIENvcHkgYW5vdGhlciBUdXBsZURpY3Rpb25hcnkuIE5vdGUgdGhhdCBhbGwgZGF0YSBpbiB0aGlzIGRpY3Rpb25hcnkgd2lsbCBiZSByZW1vdmVkLlxuXHQgKiBAbWV0aG9kIGNvcHlcblx0ICogQHBhcmFtIHtUdXBsZURpY3Rpb25hcnl9IGRpY3QgVGhlIFR1cGxlRGljdGlvbmFyeSB0byBjb3B5IGludG8gdGhpcyBvbmUuXG5cdCAqL1xuXHRUdXBsZURpY3Rpb25hcnkucHJvdG90eXBlLmNvcHkgPSBmdW5jdGlvbihkaWN0KSB7XG5cdCAgICB0aGlzLnJlc2V0KCk7XG5cdCAgICBVdGlscy5hcHBlbmRBcnJheSh0aGlzLmtleXMsIGRpY3Qua2V5cyk7XG5cdCAgICB2YXIgbCA9IGRpY3Qua2V5cy5sZW5ndGg7XG5cdCAgICB3aGlsZShsLS0pe1xuXHQgICAgICAgIHZhciBrZXkgPSBkaWN0LmtleXNbbF07XG5cdCAgICAgICAgdGhpcy5kYXRhW2tleV0gPSBkaWN0LmRhdGFba2V5XTtcblx0ICAgIH1cblx0fTtcblxuXG4vKioqLyB9LFxuLyogNjMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBCb2R5ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gSXNsYW5kO1xuXHRcblx0LyoqXG5cdCAqIEFuIGlzbGFuZCBvZiBib2RpZXMgY29ubmVjdGVkIHdpdGggZXF1YXRpb25zLlxuXHQgKiBAY2xhc3MgSXNsYW5kXG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKi9cblx0ZnVuY3Rpb24gSXNsYW5kKCl7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBDdXJyZW50IGVxdWF0aW9ucyBpbiB0aGlzIGlzbGFuZC5cblx0ICAgICAqIEBwcm9wZXJ0eSBlcXVhdGlvbnNcblx0ICAgICAqIEB0eXBlIHtBcnJheX1cblx0ICAgICAqL1xuXHQgICAgdGhpcy5lcXVhdGlvbnMgPSBbXTtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIEN1cnJlbnQgYm9kaWVzIGluIHRoaXMgaXNsYW5kLlxuXHQgICAgICogQHByb3BlcnR5IGJvZGllc1xuXHQgICAgICogQHR5cGUge0FycmF5fVxuXHQgICAgICovXG5cdCAgICB0aGlzLmJvZGllcyA9IFtdO1xuXHR9XG5cdFxuXHQvKipcblx0ICogQ2xlYW4gdGhpcyBpc2xhbmQgZnJvbSBib2RpZXMgYW5kIGVxdWF0aW9ucy5cblx0ICogQG1ldGhvZCByZXNldFxuXHQgKi9cblx0SXNsYW5kLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uKCl7XG5cdCAgICB0aGlzLmVxdWF0aW9ucy5sZW5ndGggPSB0aGlzLmJvZGllcy5sZW5ndGggPSAwO1xuXHR9O1xuXHRcblx0dmFyIGJvZHlJZHMgPSBbXTtcblx0XG5cdC8qKlxuXHQgKiBHZXQgYWxsIHVuaXF1ZSBib2RpZXMgaW4gdGhpcyBpc2xhbmQuXG5cdCAqIEBtZXRob2QgZ2V0Qm9kaWVzXG5cdCAqIEByZXR1cm4ge0FycmF5fSBBbiBhcnJheSBvZiBCb2R5XG5cdCAqL1xuXHRJc2xhbmQucHJvdG90eXBlLmdldEJvZGllcyA9IGZ1bmN0aW9uKHJlc3VsdCl7XG5cdCAgICB2YXIgYm9kaWVzID0gcmVzdWx0IHx8IFtdLFxuXHQgICAgICAgIGVxcyA9IHRoaXMuZXF1YXRpb25zO1xuXHQgICAgYm9keUlkcy5sZW5ndGggPSAwO1xuXHQgICAgZm9yKHZhciBpPTA7IGkhPT1lcXMubGVuZ3RoOyBpKyspe1xuXHQgICAgICAgIHZhciBlcSA9IGVxc1tpXTtcblx0ICAgICAgICBpZihib2R5SWRzLmluZGV4T2YoZXEuYm9keUEuaWQpPT09LTEpe1xuXHQgICAgICAgICAgICBib2RpZXMucHVzaChlcS5ib2R5QSk7XG5cdCAgICAgICAgICAgIGJvZHlJZHMucHVzaChlcS5ib2R5QS5pZCk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGlmKGJvZHlJZHMuaW5kZXhPZihlcS5ib2R5Qi5pZCk9PT0tMSl7XG5cdCAgICAgICAgICAgIGJvZGllcy5wdXNoKGVxLmJvZHlCKTtcblx0ICAgICAgICAgICAgYm9keUlkcy5wdXNoKGVxLmJvZHlCLmlkKTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICByZXR1cm4gYm9kaWVzO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIENoZWNrIGlmIHRoZSBlbnRpcmUgaXNsYW5kIHdhbnRzIHRvIHNsZWVwLlxuXHQgKiBAbWV0aG9kIHdhbnRzVG9TbGVlcFxuXHQgKiBAcmV0dXJuIHtCb29sZWFufVxuXHQgKi9cblx0SXNsYW5kLnByb3RvdHlwZS53YW50c1RvU2xlZXAgPSBmdW5jdGlvbigpe1xuXHQgICAgZm9yKHZhciBpPTA7IGk8dGhpcy5ib2RpZXMubGVuZ3RoOyBpKyspe1xuXHQgICAgICAgIHZhciBiID0gdGhpcy5ib2RpZXNbaV07XG5cdCAgICAgICAgaWYoYi50eXBlID09PSBCb2R5LkRZTkFNSUMgJiYgIWIud2FudHNUb1NsZWVwKXtcblx0ICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0ICAgIHJldHVybiB0cnVlO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIE1ha2UgYWxsIGJvZGllcyBpbiB0aGUgaXNsYW5kIHNsZWVwLlxuXHQgKiBAbWV0aG9kIHNsZWVwXG5cdCAqL1xuXHRJc2xhbmQucHJvdG90eXBlLnNsZWVwID0gZnVuY3Rpb24oKXtcblx0ICAgIGZvcih2YXIgaT0wOyBpPHRoaXMuYm9kaWVzLmxlbmd0aDsgaSsrKXtcblx0ICAgICAgICB2YXIgYiA9IHRoaXMuYm9kaWVzW2ldO1xuXHQgICAgICAgIGIuc2xlZXAoKTtcblx0ICAgIH1cblx0ICAgIHJldHVybiB0cnVlO1xuXHR9O1xuXG5cbi8qKiovIH0sXG4vKiA2NCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBJc2xhbmROb2RlO1xuXHRcblx0LyoqXG5cdCAqIEhvbGRzIGEgYm9keSBhbmQga2VlcHMgdHJhY2sgb2Ygc29tZSBhZGRpdGlvbmFsIHByb3BlcnRpZXMgbmVlZGVkIGZvciBncmFwaCB0cmF2ZXJzYWwuXG5cdCAqIEBjbGFzcyBJc2xhbmROb2RlXG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKiBAcGFyYW0ge0JvZHl9IGJvZHlcblx0ICovXG5cdGZ1bmN0aW9uIElzbGFuZE5vZGUoYm9keSl7XG5cdFxuXHRcdC8qKlxuXHRcdCAqIFRoZSBib2R5IHRoYXQgaXMgY29udGFpbmVkIGluIHRoaXMgbm9kZS5cblx0XHQgKiBAcHJvcGVydHkge0JvZHl9IGJvZHlcblx0XHQgKi9cblx0ICAgIHRoaXMuYm9keSA9IGJvZHk7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBOZWlnaGJvcmluZyBJc2xhbmROb2Rlc1xuXHQgICAgICogQHByb3BlcnR5IHtBcnJheX0gbmVpZ2hib3JzXG5cdCAgICAgKi9cblx0ICAgIHRoaXMubmVpZ2hib3JzID0gW107XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBFcXVhdGlvbnMgY29ubmVjdGVkIHRvIHRoaXMgbm9kZS5cblx0ICAgICAqIEBwcm9wZXJ0eSB7QXJyYXl9IGVxdWF0aW9uc1xuXHQgICAgICovXG5cdCAgICB0aGlzLmVxdWF0aW9ucyA9IFtdO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogSWYgdGhpcyBub2RlIHdhcyB2aXNpdGluZyBkdXJpbmcgdGhlIGdyYXBoIHRyYXZlcnNhbC5cblx0ICAgICAqIEBwcm9wZXJ0eSB2aXNpdGVkXG5cdCAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cblx0ICAgICAqL1xuXHQgICAgdGhpcy52aXNpdGVkID0gZmFsc2U7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBDbGVhbiB0aGlzIG5vZGUgZnJvbSBib2RpZXMgYW5kIGVxdWF0aW9ucy5cblx0ICogQG1ldGhvZCByZXNldFxuXHQgKi9cblx0SXNsYW5kTm9kZS5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbigpe1xuXHQgICAgdGhpcy5lcXVhdGlvbnMubGVuZ3RoID0gMDtcblx0ICAgIHRoaXMubmVpZ2hib3JzLmxlbmd0aCA9IDA7XG5cdCAgICB0aGlzLnZpc2l0ZWQgPSBmYWxzZTtcblx0ICAgIHRoaXMuYm9keSA9IG51bGw7XG5cdH07XG5cblxuLyoqKi8gfSxcbi8qIDY1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cblx0Ly9cblx0Ly8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcblx0Ly8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuXHQvLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcblx0Ly8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuXHQvLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG5cdC8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuXHQvLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcblx0Ly9cblx0Ly8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcblx0Ly8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG5cdC8vXG5cdC8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncblx0Ly8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuXHQvLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG5cdC8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuXHQvLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcblx0Ly8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuXHQvLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXHRcblx0ZnVuY3Rpb24gRXZlbnRFbWl0dGVyKCkge1xuXHQgIHRoaXMuX2V2ZW50cyA9IHRoaXMuX2V2ZW50cyB8fCB7fTtcblx0ICB0aGlzLl9tYXhMaXN0ZW5lcnMgPSB0aGlzLl9tYXhMaXN0ZW5lcnMgfHwgdW5kZWZpbmVkO1xuXHR9XG5cdG1vZHVsZS5leHBvcnRzID0gRXZlbnRFbWl0dGVyO1xuXHRcblx0Ly8gQmFja3dhcmRzLWNvbXBhdCB3aXRoIG5vZGUgMC4xMC54XG5cdEV2ZW50RW1pdHRlci5FdmVudEVtaXR0ZXIgPSBFdmVudEVtaXR0ZXI7XG5cdFxuXHRFdmVudEVtaXR0ZXIucHJvdG90eXBlLl9ldmVudHMgPSB1bmRlZmluZWQ7XG5cdEV2ZW50RW1pdHRlci5wcm90b3R5cGUuX21heExpc3RlbmVycyA9IHVuZGVmaW5lZDtcblx0XG5cdC8vIEJ5IGRlZmF1bHQgRXZlbnRFbWl0dGVycyB3aWxsIHByaW50IGEgd2FybmluZyBpZiBtb3JlIHRoYW4gMTAgbGlzdGVuZXJzIGFyZVxuXHQvLyBhZGRlZCB0byBpdC4gVGhpcyBpcyBhIHVzZWZ1bCBkZWZhdWx0IHdoaWNoIGhlbHBzIGZpbmRpbmcgbWVtb3J5IGxlYWtzLlxuXHRFdmVudEVtaXR0ZXIuZGVmYXVsdE1heExpc3RlbmVycyA9IDEwO1xuXHRcblx0Ly8gT2J2aW91c2x5IG5vdCBhbGwgRW1pdHRlcnMgc2hvdWxkIGJlIGxpbWl0ZWQgdG8gMTAuIFRoaXMgZnVuY3Rpb24gYWxsb3dzXG5cdC8vIHRoYXQgdG8gYmUgaW5jcmVhc2VkLiBTZXQgdG8gemVybyBmb3IgdW5saW1pdGVkLlxuXHRFdmVudEVtaXR0ZXIucHJvdG90eXBlLnNldE1heExpc3RlbmVycyA9IGZ1bmN0aW9uKG4pIHtcblx0ICBpZiAoIWlzTnVtYmVyKG4pIHx8IG4gPCAwIHx8IGlzTmFOKG4pKVxuXHQgICAgdGhyb3cgVHlwZUVycm9yKCduIG11c3QgYmUgYSBwb3NpdGl2ZSBudW1iZXInKTtcblx0ICB0aGlzLl9tYXhMaXN0ZW5lcnMgPSBuO1xuXHQgIHJldHVybiB0aGlzO1xuXHR9O1xuXHRcblx0RXZlbnRFbWl0dGVyLnByb3RvdHlwZS5lbWl0ID0gZnVuY3Rpb24odHlwZSkge1xuXHQgIHZhciBlciwgaGFuZGxlciwgbGVuLCBhcmdzLCBpLCBsaXN0ZW5lcnM7XG5cdFxuXHQgIGlmICghdGhpcy5fZXZlbnRzKVxuXHQgICAgdGhpcy5fZXZlbnRzID0ge307XG5cdFxuXHQgIC8vIElmIHRoZXJlIGlzIG5vICdlcnJvcicgZXZlbnQgbGlzdGVuZXIgdGhlbiB0aHJvdy5cblx0ICBpZiAodHlwZSA9PT0gJ2Vycm9yJykge1xuXHQgICAgaWYgKCF0aGlzLl9ldmVudHMuZXJyb3IgfHxcblx0ICAgICAgICAoaXNPYmplY3QodGhpcy5fZXZlbnRzLmVycm9yKSAmJiAhdGhpcy5fZXZlbnRzLmVycm9yLmxlbmd0aCkpIHtcblx0ICAgICAgZXIgPSBhcmd1bWVudHNbMV07XG5cdCAgICAgIGlmIChlciBpbnN0YW5jZW9mIEVycm9yKSB7XG5cdCAgICAgICAgdGhyb3cgZXI7IC8vIFVuaGFuZGxlZCAnZXJyb3InIGV2ZW50XG5cdCAgICAgIH1cblx0ICAgICAgdGhyb3cgVHlwZUVycm9yKCdVbmNhdWdodCwgdW5zcGVjaWZpZWQgXCJlcnJvclwiIGV2ZW50LicpO1xuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgaGFuZGxlciA9IHRoaXMuX2V2ZW50c1t0eXBlXTtcblx0XG5cdCAgaWYgKGlzVW5kZWZpbmVkKGhhbmRsZXIpKVxuXHQgICAgcmV0dXJuIGZhbHNlO1xuXHRcblx0ICBpZiAoaXNGdW5jdGlvbihoYW5kbGVyKSkge1xuXHQgICAgc3dpdGNoIChhcmd1bWVudHMubGVuZ3RoKSB7XG5cdCAgICAgIC8vIGZhc3QgY2FzZXNcblx0ICAgICAgY2FzZSAxOlxuXHQgICAgICAgIGhhbmRsZXIuY2FsbCh0aGlzKTtcblx0ICAgICAgICBicmVhaztcblx0ICAgICAgY2FzZSAyOlxuXHQgICAgICAgIGhhbmRsZXIuY2FsbCh0aGlzLCBhcmd1bWVudHNbMV0pO1xuXHQgICAgICAgIGJyZWFrO1xuXHQgICAgICBjYXNlIDM6XG5cdCAgICAgICAgaGFuZGxlci5jYWxsKHRoaXMsIGFyZ3VtZW50c1sxXSwgYXJndW1lbnRzWzJdKTtcblx0ICAgICAgICBicmVhaztcblx0ICAgICAgLy8gc2xvd2VyXG5cdCAgICAgIGRlZmF1bHQ6XG5cdCAgICAgICAgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcblx0ICAgICAgICBhcmdzID0gbmV3IEFycmF5KGxlbiAtIDEpO1xuXHQgICAgICAgIGZvciAoaSA9IDE7IGkgPCBsZW47IGkrKylcblx0ICAgICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuXHQgICAgICAgIGhhbmRsZXIuYXBwbHkodGhpcywgYXJncyk7XG5cdCAgICB9XG5cdCAgfSBlbHNlIGlmIChpc09iamVjdChoYW5kbGVyKSkge1xuXHQgICAgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcblx0ICAgIGFyZ3MgPSBuZXcgQXJyYXkobGVuIC0gMSk7XG5cdCAgICBmb3IgKGkgPSAxOyBpIDwgbGVuOyBpKyspXG5cdCAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuXHRcblx0ICAgIGxpc3RlbmVycyA9IGhhbmRsZXIuc2xpY2UoKTtcblx0ICAgIGxlbiA9IGxpc3RlbmVycy5sZW5ndGg7XG5cdCAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspXG5cdCAgICAgIGxpc3RlbmVyc1tpXS5hcHBseSh0aGlzLCBhcmdzKTtcblx0ICB9XG5cdFxuXHQgIHJldHVybiB0cnVlO1xuXHR9O1xuXHRcblx0RXZlbnRFbWl0dGVyLnByb3RvdHlwZS5hZGRMaXN0ZW5lciA9IGZ1bmN0aW9uKHR5cGUsIGxpc3RlbmVyKSB7XG5cdCAgdmFyIG07XG5cdFxuXHQgIGlmICghaXNGdW5jdGlvbihsaXN0ZW5lcikpXG5cdCAgICB0aHJvdyBUeXBlRXJyb3IoJ2xpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuXHRcblx0ICBpZiAoIXRoaXMuX2V2ZW50cylcblx0ICAgIHRoaXMuX2V2ZW50cyA9IHt9O1xuXHRcblx0ICAvLyBUbyBhdm9pZCByZWN1cnNpb24gaW4gdGhlIGNhc2UgdGhhdCB0eXBlID09PSBcIm5ld0xpc3RlbmVyXCIhIEJlZm9yZVxuXHQgIC8vIGFkZGluZyBpdCB0byB0aGUgbGlzdGVuZXJzLCBmaXJzdCBlbWl0IFwibmV3TGlzdGVuZXJcIi5cblx0ICBpZiAodGhpcy5fZXZlbnRzLm5ld0xpc3RlbmVyKVxuXHQgICAgdGhpcy5lbWl0KCduZXdMaXN0ZW5lcicsIHR5cGUsXG5cdCAgICAgICAgICAgICAgaXNGdW5jdGlvbihsaXN0ZW5lci5saXN0ZW5lcikgP1xuXHQgICAgICAgICAgICAgIGxpc3RlbmVyLmxpc3RlbmVyIDogbGlzdGVuZXIpO1xuXHRcblx0ICBpZiAoIXRoaXMuX2V2ZW50c1t0eXBlXSlcblx0ICAgIC8vIE9wdGltaXplIHRoZSBjYXNlIG9mIG9uZSBsaXN0ZW5lci4gRG9uJ3QgbmVlZCB0aGUgZXh0cmEgYXJyYXkgb2JqZWN0LlxuXHQgICAgdGhpcy5fZXZlbnRzW3R5cGVdID0gbGlzdGVuZXI7XG5cdCAgZWxzZSBpZiAoaXNPYmplY3QodGhpcy5fZXZlbnRzW3R5cGVdKSlcblx0ICAgIC8vIElmIHdlJ3ZlIGFscmVhZHkgZ290IGFuIGFycmF5LCBqdXN0IGFwcGVuZC5cblx0ICAgIHRoaXMuX2V2ZW50c1t0eXBlXS5wdXNoKGxpc3RlbmVyKTtcblx0ICBlbHNlXG5cdCAgICAvLyBBZGRpbmcgdGhlIHNlY29uZCBlbGVtZW50LCBuZWVkIHRvIGNoYW5nZSB0byBhcnJheS5cblx0ICAgIHRoaXMuX2V2ZW50c1t0eXBlXSA9IFt0aGlzLl9ldmVudHNbdHlwZV0sIGxpc3RlbmVyXTtcblx0XG5cdCAgLy8gQ2hlY2sgZm9yIGxpc3RlbmVyIGxlYWtcblx0ICBpZiAoaXNPYmplY3QodGhpcy5fZXZlbnRzW3R5cGVdKSAmJiAhdGhpcy5fZXZlbnRzW3R5cGVdLndhcm5lZCkge1xuXHQgICAgdmFyIG07XG5cdCAgICBpZiAoIWlzVW5kZWZpbmVkKHRoaXMuX21heExpc3RlbmVycykpIHtcblx0ICAgICAgbSA9IHRoaXMuX21heExpc3RlbmVycztcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIG0gPSBFdmVudEVtaXR0ZXIuZGVmYXVsdE1heExpc3RlbmVycztcblx0ICAgIH1cblx0XG5cdCAgICBpZiAobSAmJiBtID4gMCAmJiB0aGlzLl9ldmVudHNbdHlwZV0ubGVuZ3RoID4gbSkge1xuXHQgICAgICB0aGlzLl9ldmVudHNbdHlwZV0ud2FybmVkID0gdHJ1ZTtcblx0ICAgICAgY29uc29sZS5lcnJvcignKG5vZGUpIHdhcm5pbmc6IHBvc3NpYmxlIEV2ZW50RW1pdHRlciBtZW1vcnkgJyArXG5cdCAgICAgICAgICAgICAgICAgICAgJ2xlYWsgZGV0ZWN0ZWQuICVkIGxpc3RlbmVycyBhZGRlZC4gJyArXG5cdCAgICAgICAgICAgICAgICAgICAgJ1VzZSBlbWl0dGVyLnNldE1heExpc3RlbmVycygpIHRvIGluY3JlYXNlIGxpbWl0LicsXG5cdCAgICAgICAgICAgICAgICAgICAgdGhpcy5fZXZlbnRzW3R5cGVdLmxlbmd0aCk7XG5cdCAgICAgIGlmICh0eXBlb2YgY29uc29sZS50cmFjZSA9PT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICAgIC8vIG5vdCBzdXBwb3J0ZWQgaW4gSUUgMTBcblx0ICAgICAgICBjb25zb2xlLnRyYWNlKCk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIHJldHVybiB0aGlzO1xuXHR9O1xuXHRcblx0RXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbiA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXI7XG5cdFxuXHRFdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uY2UgPSBmdW5jdGlvbih0eXBlLCBsaXN0ZW5lcikge1xuXHQgIGlmICghaXNGdW5jdGlvbihsaXN0ZW5lcikpXG5cdCAgICB0aHJvdyBUeXBlRXJyb3IoJ2xpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuXHRcblx0ICB2YXIgZmlyZWQgPSBmYWxzZTtcblx0XG5cdCAgZnVuY3Rpb24gZygpIHtcblx0ICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSwgZyk7XG5cdFxuXHQgICAgaWYgKCFmaXJlZCkge1xuXHQgICAgICBmaXJlZCA9IHRydWU7XG5cdCAgICAgIGxpc3RlbmVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICBnLmxpc3RlbmVyID0gbGlzdGVuZXI7XG5cdCAgdGhpcy5vbih0eXBlLCBnKTtcblx0XG5cdCAgcmV0dXJuIHRoaXM7XG5cdH07XG5cdFxuXHQvLyBlbWl0cyBhICdyZW1vdmVMaXN0ZW5lcicgZXZlbnQgaWZmIHRoZSBsaXN0ZW5lciB3YXMgcmVtb3ZlZFxuXHRFdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyID0gZnVuY3Rpb24odHlwZSwgbGlzdGVuZXIpIHtcblx0ICB2YXIgbGlzdCwgcG9zaXRpb24sIGxlbmd0aCwgaTtcblx0XG5cdCAgaWYgKCFpc0Z1bmN0aW9uKGxpc3RlbmVyKSlcblx0ICAgIHRocm93IFR5cGVFcnJvcignbGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG5cdFxuXHQgIGlmICghdGhpcy5fZXZlbnRzIHx8ICF0aGlzLl9ldmVudHNbdHlwZV0pXG5cdCAgICByZXR1cm4gdGhpcztcblx0XG5cdCAgbGlzdCA9IHRoaXMuX2V2ZW50c1t0eXBlXTtcblx0ICBsZW5ndGggPSBsaXN0Lmxlbmd0aDtcblx0ICBwb3NpdGlvbiA9IC0xO1xuXHRcblx0ICBpZiAobGlzdCA9PT0gbGlzdGVuZXIgfHxcblx0ICAgICAgKGlzRnVuY3Rpb24obGlzdC5saXN0ZW5lcikgJiYgbGlzdC5saXN0ZW5lciA9PT0gbGlzdGVuZXIpKSB7XG5cdCAgICBkZWxldGUgdGhpcy5fZXZlbnRzW3R5cGVdO1xuXHQgICAgaWYgKHRoaXMuX2V2ZW50cy5yZW1vdmVMaXN0ZW5lcilcblx0ICAgICAgdGhpcy5lbWl0KCdyZW1vdmVMaXN0ZW5lcicsIHR5cGUsIGxpc3RlbmVyKTtcblx0XG5cdCAgfSBlbHNlIGlmIChpc09iamVjdChsaXN0KSkge1xuXHQgICAgZm9yIChpID0gbGVuZ3RoOyBpLS0gPiAwOykge1xuXHQgICAgICBpZiAobGlzdFtpXSA9PT0gbGlzdGVuZXIgfHxcblx0ICAgICAgICAgIChsaXN0W2ldLmxpc3RlbmVyICYmIGxpc3RbaV0ubGlzdGVuZXIgPT09IGxpc3RlbmVyKSkge1xuXHQgICAgICAgIHBvc2l0aW9uID0gaTtcblx0ICAgICAgICBicmVhaztcblx0ICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIGlmIChwb3NpdGlvbiA8IDApXG5cdCAgICAgIHJldHVybiB0aGlzO1xuXHRcblx0ICAgIGlmIChsaXN0Lmxlbmd0aCA9PT0gMSkge1xuXHQgICAgICBsaXN0Lmxlbmd0aCA9IDA7XG5cdCAgICAgIGRlbGV0ZSB0aGlzLl9ldmVudHNbdHlwZV07XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBsaXN0LnNwbGljZShwb3NpdGlvbiwgMSk7XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKHRoaXMuX2V2ZW50cy5yZW1vdmVMaXN0ZW5lcilcblx0ICAgICAgdGhpcy5lbWl0KCdyZW1vdmVMaXN0ZW5lcicsIHR5cGUsIGxpc3RlbmVyKTtcblx0ICB9XG5cdFxuXHQgIHJldHVybiB0aGlzO1xuXHR9O1xuXHRcblx0RXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBmdW5jdGlvbih0eXBlKSB7XG5cdCAgdmFyIGtleSwgbGlzdGVuZXJzO1xuXHRcblx0ICBpZiAoIXRoaXMuX2V2ZW50cylcblx0ICAgIHJldHVybiB0aGlzO1xuXHRcblx0ICAvLyBub3QgbGlzdGVuaW5nIGZvciByZW1vdmVMaXN0ZW5lciwgbm8gbmVlZCB0byBlbWl0XG5cdCAgaWYgKCF0aGlzLl9ldmVudHMucmVtb3ZlTGlzdGVuZXIpIHtcblx0ICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKVxuXHQgICAgICB0aGlzLl9ldmVudHMgPSB7fTtcblx0ICAgIGVsc2UgaWYgKHRoaXMuX2V2ZW50c1t0eXBlXSlcblx0ICAgICAgZGVsZXRlIHRoaXMuX2V2ZW50c1t0eXBlXTtcblx0ICAgIHJldHVybiB0aGlzO1xuXHQgIH1cblx0XG5cdCAgLy8gZW1pdCByZW1vdmVMaXN0ZW5lciBmb3IgYWxsIGxpc3RlbmVycyBvbiBhbGwgZXZlbnRzXG5cdCAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcblx0ICAgIGZvciAoa2V5IGluIHRoaXMuX2V2ZW50cykge1xuXHQgICAgICBpZiAoa2V5ID09PSAncmVtb3ZlTGlzdGVuZXInKSBjb250aW51ZTtcblx0ICAgICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoa2V5KTtcblx0ICAgIH1cblx0ICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCdyZW1vdmVMaXN0ZW5lcicpO1xuXHQgICAgdGhpcy5fZXZlbnRzID0ge307XG5cdCAgICByZXR1cm4gdGhpcztcblx0ICB9XG5cdFxuXHQgIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50c1t0eXBlXTtcblx0XG5cdCAgaWYgKGlzRnVuY3Rpb24obGlzdGVuZXJzKSkge1xuXHQgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcnMpO1xuXHQgIH0gZWxzZSB7XG5cdCAgICAvLyBMSUZPIG9yZGVyXG5cdCAgICB3aGlsZSAobGlzdGVuZXJzLmxlbmd0aClcblx0ICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcnNbbGlzdGVuZXJzLmxlbmd0aCAtIDFdKTtcblx0ICB9XG5cdCAgZGVsZXRlIHRoaXMuX2V2ZW50c1t0eXBlXTtcblx0XG5cdCAgcmV0dXJuIHRoaXM7XG5cdH07XG5cdFxuXHRFdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVycyA9IGZ1bmN0aW9uKHR5cGUpIHtcblx0ICB2YXIgcmV0O1xuXHQgIGlmICghdGhpcy5fZXZlbnRzIHx8ICF0aGlzLl9ldmVudHNbdHlwZV0pXG5cdCAgICByZXQgPSBbXTtcblx0ICBlbHNlIGlmIChpc0Z1bmN0aW9uKHRoaXMuX2V2ZW50c1t0eXBlXSkpXG5cdCAgICByZXQgPSBbdGhpcy5fZXZlbnRzW3R5cGVdXTtcblx0ICBlbHNlXG5cdCAgICByZXQgPSB0aGlzLl9ldmVudHNbdHlwZV0uc2xpY2UoKTtcblx0ICByZXR1cm4gcmV0O1xuXHR9O1xuXHRcblx0RXZlbnRFbWl0dGVyLmxpc3RlbmVyQ291bnQgPSBmdW5jdGlvbihlbWl0dGVyLCB0eXBlKSB7XG5cdCAgdmFyIHJldDtcblx0ICBpZiAoIWVtaXR0ZXIuX2V2ZW50cyB8fCAhZW1pdHRlci5fZXZlbnRzW3R5cGVdKVxuXHQgICAgcmV0ID0gMDtcblx0ICBlbHNlIGlmIChpc0Z1bmN0aW9uKGVtaXR0ZXIuX2V2ZW50c1t0eXBlXSkpXG5cdCAgICByZXQgPSAxO1xuXHQgIGVsc2Vcblx0ICAgIHJldCA9IGVtaXR0ZXIuX2V2ZW50c1t0eXBlXS5sZW5ndGg7XG5cdCAgcmV0dXJuIHJldDtcblx0fTtcblx0XG5cdGZ1bmN0aW9uIGlzRnVuY3Rpb24oYXJnKSB7XG5cdCAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdmdW5jdGlvbic7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGlzTnVtYmVyKGFyZykge1xuXHQgIHJldHVybiB0eXBlb2YgYXJnID09PSAnbnVtYmVyJztcblx0fVxuXHRcblx0ZnVuY3Rpb24gaXNPYmplY3QoYXJnKSB7XG5cdCAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdvYmplY3QnICYmIGFyZyAhPT0gbnVsbDtcblx0fVxuXHRcblx0ZnVuY3Rpb24gaXNVbmRlZmluZWQoYXJnKSB7XG5cdCAgcmV0dXJuIGFyZyA9PT0gdm9pZCAwO1xuXHR9XG5cblxuLyoqKi8gfSxcbi8qIDY2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKipcblx0ICogQW4gZXZlbiBiZXR0ZXIgYW5pbWF0aW9uIGZyYW1lLlxuXHQgKlxuXHQgKiBAY29weXJpZ2h0IE9sZWcgU2xvYm9kc2tvaSAyMDE1XG5cdCAqIEB3ZWJzaXRlIGh0dHBzOi8vZ2l0aHViLmNvbS9rb2YvYW5pbWF0aW9uRnJhbWVcblx0ICogQGxpY2Vuc2UgTUlUXG5cdCAqL1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY3KVxuXG5cbi8qKiovIH0sXG4vKiA2NyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnXG5cdFxuXHR2YXIgbmF0aXZlSW1wbCA9IF9fd2VicGFja19yZXF1aXJlX18oNjgpXG5cdHZhciBub3cgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIyKVxuXHR2YXIgcGVyZm9ybWFuY2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcwKVxuXHRcblx0Ly8gV2VpcmQgbmF0aXZlIGltcGxlbWVudGF0aW9uIGRvZXNuJ3Qgd29yayBpZiBjb250ZXh0IGlzIGRlZmluZWQuXG5cdHZhciBuYXRpdmVSZXF1ZXN0ID0gbmF0aXZlSW1wbC5yZXF1ZXN0XG5cdHZhciBuYXRpdmVDYW5jZWwgPSBuYXRpdmVJbXBsLmNhbmNlbFxuXHRcblx0LyoqXG5cdCAqIEFuaW1hdGlvbiBmcmFtZSBjb25zdHJ1Y3Rvci5cblx0ICpcblx0ICogT3B0aW9uczpcblx0ICogICAtIGB1c2VOYXRpdmVgIHVzZSB0aGUgbmF0aXZlIGFuaW1hdGlvbiBmcmFtZSBpZiBwb3NzaWJsZSwgZGVmYXVsdHMgdG8gdHJ1ZVxuXHQgKiAgIC0gYGZyYW1lUmF0ZWAgcGFzcyBhIGN1c3RvbSBmcmFtZSByYXRlXG5cdCAqXG5cdCAqIEBwYXJhbSB7T2JqZWN0fE51bWJlcn0gb3B0aW9uc1xuXHQgKi9cblx0ZnVuY3Rpb24gQW5pbWF0aW9uRnJhbWUob3B0aW9ucykge1xuXHQgICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIEFuaW1hdGlvbkZyYW1lKSkgcmV0dXJuIG5ldyBBbmltYXRpb25GcmFtZShvcHRpb25zKVxuXHQgICAgb3B0aW9ucyB8fCAob3B0aW9ucyA9IHt9KVxuXHRcblx0ICAgIC8vIEl0cyBhIGZyYW1lIHJhdGUuXG5cdCAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT0gJ251bWJlcicpIG9wdGlvbnMgPSB7ZnJhbWVSYXRlOiBvcHRpb25zfVxuXHQgICAgb3B0aW9ucy51c2VOYXRpdmUgIT0gbnVsbCB8fCAob3B0aW9ucy51c2VOYXRpdmUgPSB0cnVlKVxuXHQgICAgdGhpcy5vcHRpb25zID0gb3B0aW9uc1xuXHQgICAgdGhpcy5mcmFtZVJhdGUgPSBvcHRpb25zLmZyYW1lUmF0ZSB8fCBBbmltYXRpb25GcmFtZS5GUkFNRV9SQVRFXG5cdCAgICB0aGlzLl9mcmFtZUxlbmd0aCA9IDEwMDAgLyB0aGlzLmZyYW1lUmF0ZVxuXHQgICAgdGhpcy5faXNDdXN0b21GcmFtZVJhdGUgPSB0aGlzLmZyYW1lUmF0ZSAhPT0gQW5pbWF0aW9uRnJhbWUuRlJBTUVfUkFURVxuXHQgICAgdGhpcy5fdGltZW91dElkID0gbnVsbFxuXHQgICAgdGhpcy5fY2FsbGJhY2tzID0ge31cblx0ICAgIHRoaXMuX2xhc3RUaWNrVGltZSA9IDBcblx0ICAgIHRoaXMuX3RpY2tDb3VudGVyID0gMFxuXHR9XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IEFuaW1hdGlvbkZyYW1lXG5cdFxuXHQvKipcblx0ICogRGVmYXVsdCBmcmFtZSByYXRlIHVzZWQgZm9yIHNoaW0gaW1wbGVtZW50YXRpb24uIE5hdGl2ZSBpbXBsZW1lbnRhdGlvblxuXHQgKiB3aWxsIHVzZSB0aGUgc2NyZWVuIGZyYW1lIHJhdGUsIGJ1dCBqcyBoYXZlIG5vIHdheSB0byBkZXRlY3QgaXQuXG5cdCAqXG5cdCAqIElmIHlvdSBrbm93IHlvdXIgdGFyZ2V0IGRldmljZSwgZGVmaW5lIGl0IG1hbnVhbGx5LlxuXHQgKlxuXHQgKiBAdHlwZSB7TnVtYmVyfVxuXHQgKiBAYXBpIHB1YmxpY1xuXHQgKi9cblx0QW5pbWF0aW9uRnJhbWUuRlJBTUVfUkFURSA9IDYwXG5cdFxuXHQvKipcblx0ICogUmVwbGFjZSB0aGUgZ2xvYmFsbHkgZGVmaW5lZCBpbXBsZW1lbnRhdGlvbiBvciBkZWZpbmUgaXQgZ2xvYmFsbHkuXG5cdCAqXG5cdCAqIEBwYXJhbSB7T2JqZWN0fE51bWJlcn0gW29wdGlvbnNdXG5cdCAqIEBhcGkgcHVibGljXG5cdCAqL1xuXHRBbmltYXRpb25GcmFtZS5zaGltID0gZnVuY3Rpb24ob3B0aW9ucykge1xuXHQgICAgdmFyIGFuaW1hdGlvbkZyYW1lID0gbmV3IEFuaW1hdGlvbkZyYW1lKG9wdGlvbnMpXG5cdFxuXHQgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG5cdCAgICAgICAgcmV0dXJuIGFuaW1hdGlvbkZyYW1lLnJlcXVlc3QoY2FsbGJhY2spXG5cdCAgICB9XG5cdCAgICB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUgPSBmdW5jdGlvbihpZCkge1xuXHQgICAgICAgIHJldHVybiBhbmltYXRpb25GcmFtZS5jYW5jZWwoaWQpXG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIGFuaW1hdGlvbkZyYW1lXG5cdH1cblx0XG5cdC8qKlxuXHQgKiBSZXF1ZXN0IGFuaW1hdGlvbiBmcmFtZS5cblx0ICogV2Ugd2lsbCB1c2UgdGhlIG5hdGl2ZSBSQUYgYXMgc29vbiBhcyB3ZSBrbm93IGl0IGRvZXMgd29ya3MuXG5cdCAqXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG5cdCAqIEByZXR1cm4ge051bWJlcn0gdGltZW91dCBpZCBvciByZXF1ZXN0ZWQgYW5pbWF0aW9uIGZyYW1lIGlkXG5cdCAqIEBhcGkgcHVibGljXG5cdCAqL1xuXHRBbmltYXRpb25GcmFtZS5wcm90b3R5cGUucmVxdWVzdCA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG5cdCAgICB2YXIgc2VsZiA9IHRoaXNcblx0XG5cdCAgICAvLyBBbGF3eXMgaW5jIGNvdW50ZXIgdG8gZW5zdXJlIGl0IG5ldmVyIGhhcyBhIGNvbmZsaWN0IHdpdGggdGhlIG5hdGl2ZSBjb3VudGVyLlxuXHQgICAgLy8gQWZ0ZXIgdGhlIGZlYXR1cmUgdGVzdCBwaGFzZSB3ZSBkb24ndCBrbm93IGV4YWN0bHkgd2hpY2ggaW1wbGVtZW50YXRpb24gaGFzIGJlZW4gdXNlZC5cblx0ICAgIC8vIFRoZXJlZm9yZSBvbiAjY2FuY2VsIHdlIGRvIGl0IGZvciBib3RoLlxuXHQgICAgKyt0aGlzLl90aWNrQ291bnRlclxuXHRcblx0ICAgIGlmIChuYXRpdmVJbXBsLnN1cHBvcnRlZCAmJiB0aGlzLm9wdGlvbnMudXNlTmF0aXZlICYmICF0aGlzLl9pc0N1c3RvbUZyYW1lUmF0ZSkge1xuXHQgICAgICAgIHJldHVybiBuYXRpdmVSZXF1ZXN0KGNhbGxiYWNrKVxuXHQgICAgfVxuXHRcblx0ICAgIGlmICghY2FsbGJhY2spIHRocm93IG5ldyBUeXBlRXJyb3IoJ05vdCBlbm91Z2ggYXJndW1lbnRzJylcblx0XG5cdCAgICBpZiAodGhpcy5fdGltZW91dElkID09IG51bGwpIHtcblx0ICAgICAgICAvLyBNdWNoIGZhc3RlciB0aGFuIE1hdGgubWF4XG5cdCAgICAgICAgLy8gaHR0cDovL2pzcGVyZi5jb20vbWF0aC1tYXgtdnMtY29tcGFyaXNvbi8zXG5cdCAgICAgICAgLy8gaHR0cDovL2pzcGVyZi5jb20vZGF0ZS1ub3ctdnMtZGF0ZS1nZXR0aW1lLzExXG5cdCAgICAgICAgdmFyIGRlbGF5ID0gdGhpcy5fZnJhbWVMZW5ndGggKyB0aGlzLl9sYXN0VGlja1RpbWUgLSBub3coKVxuXHQgICAgICAgIGlmIChkZWxheSA8IDApIGRlbGF5ID0gMFxuXHRcblx0ICAgICAgICB0aGlzLl90aW1lb3V0SWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICBzZWxmLl9sYXN0VGlja1RpbWUgPSBub3coKVxuXHQgICAgICAgICAgICBzZWxmLl90aW1lb3V0SWQgPSBudWxsXG5cdCAgICAgICAgICAgICsrc2VsZi5fdGlja0NvdW50ZXJcblx0ICAgICAgICAgICAgdmFyIGNhbGxiYWNrcyA9IHNlbGYuX2NhbGxiYWNrc1xuXHQgICAgICAgICAgICBzZWxmLl9jYWxsYmFja3MgPSB7fVxuXHQgICAgICAgICAgICBmb3IgKHZhciBpZCBpbiBjYWxsYmFja3MpIHtcblx0ICAgICAgICAgICAgICAgIGlmIChjYWxsYmFja3NbaWRdKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKG5hdGl2ZUltcGwuc3VwcG9ydGVkICYmIHNlbGYub3B0aW9ucy51c2VOYXRpdmUpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgbmF0aXZlUmVxdWVzdChjYWxsYmFja3NbaWRdKVxuXHQgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrc1tpZF0ocGVyZm9ybWFuY2Uubm93KCkpXG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfSwgZGVsYXkpXG5cdCAgICB9XG5cdFxuXHQgICAgdGhpcy5fY2FsbGJhY2tzW3RoaXMuX3RpY2tDb3VudGVyXSA9IGNhbGxiYWNrXG5cdFxuXHQgICAgcmV0dXJuIHRoaXMuX3RpY2tDb3VudGVyXG5cdH1cblx0XG5cdC8qKlxuXHQgKiBDYW5jZWwgYW5pbWF0aW9uIGZyYW1lLlxuXHQgKlxuXHQgKiBAcGFyYW0ge051bWJlcn0gdGltZW91dCBpZCBvciByZXF1ZXN0ZWQgYW5pbWF0aW9uIGZyYW1lIGlkXG5cdCAqXG5cdCAqIEBhcGkgcHVibGljXG5cdCAqL1xuXHRBbmltYXRpb25GcmFtZS5wcm90b3R5cGUuY2FuY2VsID0gZnVuY3Rpb24oaWQpIHtcblx0ICAgIGlmIChuYXRpdmVJbXBsLnN1cHBvcnRlZCAmJiB0aGlzLm9wdGlvbnMudXNlTmF0aXZlKSBuYXRpdmVDYW5jZWwoaWQpXG5cdCAgICBkZWxldGUgdGhpcy5fY2FsbGJhY2tzW2lkXVxuXHR9XG5cblxuLyoqKi8gfSxcbi8qIDY4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCdcblx0XG5cdHZhciBnbG9iYWwgPSB3aW5kb3dcblx0XG5cdC8vIFRlc3QgaWYgd2UgYXJlIHdpdGhpbiBhIGZvcmVpZ24gZG9tYWluLiBVc2UgcmFmIGZyb20gdGhlIHRvcCBpZiBwb3NzaWJsZS5cblx0dHJ5IHtcblx0ICAgIC8vIEFjY2Vzc2luZyAubmFtZSB3aWxsIHRocm93IFNlY3VyaXR5RXJyb3Igd2l0aGluIGEgZm9yZWlnbiBkb21haW4uXG5cdCAgICBnbG9iYWwudG9wLm5hbWVcblx0ICAgIGdsb2JhbCA9IGdsb2JhbC50b3Bcblx0fSBjYXRjaChlKSB7fVxuXHRcblx0ZXhwb3J0cy5yZXF1ZXN0ID0gZ2xvYmFsLnJlcXVlc3RBbmltYXRpb25GcmFtZVxuXHRleHBvcnRzLmNhbmNlbCA9IGdsb2JhbC5jYW5jZWxBbmltYXRpb25GcmFtZSB8fCBnbG9iYWwuY2FuY2VsUmVxdWVzdEFuaW1hdGlvbkZyYW1lXG5cdGV4cG9ydHMuc3VwcG9ydGVkID0gZmFsc2Vcblx0XG5cdHZhciB2ZW5kb3JzID0gWydXZWJraXQnLCAnTW96JywgJ21zJywgJ08nXVxuXHRcblx0Ly8gR3JhYiB0aGUgbmF0aXZlIGltcGxlbWVudGF0aW9uLlxuXHRmb3IgKHZhciBpID0gMDsgaSA8IHZlbmRvcnMubGVuZ3RoICYmICFleHBvcnRzLnJlcXVlc3Q7IGkrKykge1xuXHQgICAgZXhwb3J0cy5yZXF1ZXN0ID0gZ2xvYmFsW3ZlbmRvcnNbaV0gKyAnUmVxdWVzdEFuaW1hdGlvbkZyYW1lJ11cblx0ICAgIGV4cG9ydHMuY2FuY2VsID0gZ2xvYmFsW3ZlbmRvcnNbaV0gKyAnQ2FuY2VsQW5pbWF0aW9uRnJhbWUnXSB8fFxuXHQgICAgICAgIGdsb2JhbFt2ZW5kb3JzW2ldICsgJ0NhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZSddXG5cdH1cblx0XG5cdC8vIFRlc3QgaWYgbmF0aXZlIGltcGxlbWVudGF0aW9uIHdvcmtzLlxuXHQvLyBUaGVyZSBhcmUgc29tZSBpc3N1ZXMgb24gaW9zNlxuXHQvLyBodHRwOi8vc2hpdHdlYmtpdGRvZXMudHVtYmxyLmNvbS9wb3N0LzQ3MTg2OTQ1ODU2L25hdGl2ZS1yZXF1ZXN0YW5pbWF0aW9uZnJhbWUtYnJva2VuLW9uLWlvcy02XG5cdC8vIGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL0tyb2ZEcmFrdWxhLzUzMTgwNDhcblx0XG5cdGlmIChleHBvcnRzLnJlcXVlc3QpIHtcblx0ICAgIGV4cG9ydHMucmVxdWVzdC5jYWxsKG51bGwsIGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIGV4cG9ydHMuc3VwcG9ydGVkID0gdHJ1ZVxuXHQgICAgfSk7XG5cdH1cblxuXG4vKioqLyB9LFxuLyogNjkgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0J1xuXHRcblx0dmFyIG5vdyA9IF9fd2VicGFja19yZXF1aXJlX18oMjIpXG5cdFxuXHQvKipcblx0ICogUmVwbGFjZW1lbnQgZm9yIFBlcmZvcm1hbmNlVGltaW5nLm5hdmlnYXRpb25TdGFydCBmb3IgdGhlIGNhc2Ugd2hlblxuXHQgKiBwZXJmb3JtYW5jZS5ub3cgaXMgbm90IGltcGxlbWVudGVkLlxuXHQgKlxuXHQgKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvUGVyZm9ybWFuY2VUaW1pbmcubmF2aWdhdGlvblN0YXJ0XG5cdCAqXG5cdCAqIEB0eXBlIHtOdW1iZXJ9XG5cdCAqIEBhcGkgcHJpdmF0ZVxuXHQgKi9cblx0ZXhwb3J0cy5uYXZpZ2F0aW9uU3RhcnQgPSBub3coKVxuXG5cbi8qKiovIH0sXG4vKiA3MCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnXG5cdFxuXHR2YXIgbm93ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMilcblx0dmFyIFBlcmZvcm1hbmNlVGltaW5nID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2OSlcblx0XG5cdC8qKlxuXHQgKiBDcm9zc3BsYXRmb3JtIHBlcmZvcm1hbmNlLm5vdygpXG5cdCAqXG5cdCAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9QZXJmb3JtYW5jZS5ub3coKVxuXHQgKlxuXHQgKiBAcmV0dXJuIHtOdW1iZXJ9IHJlbGF0aXZlIHRpbWUgaW4gbXNcblx0ICogQGFwaSBwdWJsaWNcblx0ICovXG5cdGV4cG9ydHMubm93ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgaWYgKHdpbmRvdy5wZXJmb3JtYW5jZSAmJiB3aW5kb3cucGVyZm9ybWFuY2Uubm93KSByZXR1cm4gd2luZG93LnBlcmZvcm1hbmNlLm5vdygpXG5cdCAgICByZXR1cm4gbm93KCkgLSBQZXJmb3JtYW5jZVRpbWluZy5uYXZpZ2F0aW9uU3RhcnRcblx0fVxuXHRcblxuXG4vKioqLyB9LFxuLyogNzEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBBdWRpb09iamVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oNzIpXG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IHtcblx0XG5cdCAgY3JlYXRlOiBmdW5jdGlvbiAodXJsKSB7XG5cdCAgICByZXR1cm4gbmV3IEF1ZGlvT2JqZWN0KHVybClcblx0ICB9LFxuXHRcblx0ICB3aGVuTG9hZGVkOiBmdW5jdGlvbiAob2JqZWN0cywgY2IpIHtcblx0ICAgIHZhciBsb2FkZWQgPSAwXG5cdCAgICBpZiAoIUFycmF5LmlzQXJyYXkob2JqZWN0cykpIHtcblx0ICAgICAgb2JqZWN0cyA9IFtvYmplY3RzXVxuXHQgICAgfVxuXHQgICAgb2JqZWN0cy5mb3JFYWNoKGZ1bmN0aW9uIChvKSB7XG5cdCAgICAgIGlmIChvLnN0YXRlID09PSAnbG9hZGVkJykge1xuXHQgICAgICAgIGNoZWNrKClcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICBvLm9uY2UoJ2xvYWQnLCBjaGVjaylcblx0ICAgICAgfVxuXHQgICAgfSlcblx0ICAgIGZ1bmN0aW9uIGNoZWNrICgpIHtcblx0ICAgICAgbG9hZGVkKytcblx0ICAgICAgaWYgKGxvYWRlZCA9PT0gb2JqZWN0cy5sZW5ndGgpIHtcblx0ICAgICAgICBjYigpXG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9XG5cdFxuXHR9XG5cbi8qKiovIH0sXG4vKiA3MiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIEF1ZGlvVGFnUGxheWVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3Mylcblx0dmFyIFdlYkF1ZGlvUGxheWVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3NClcblx0dmFyIEVtaXR0ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY1KS5FdmVudEVtaXR0ZXJcblx0dmFyIEF1ZGlvQ29udGV4dCA9IHdpbmRvdy5BdWRpb0NvbnRleHQgfHwgd2luZG93LndlYmtpdEF1ZGlvQ29udGV4dFxuXHRcblx0dmFyIHBsYXllclxuXHRpZiAoQXVkaW9Db250ZXh0KSB7XG5cdCAgdHJ5IHtcblx0ICAgIC8vIENocm9tZSB0aHJvd3MgZXJyb3Igd2hlbiBoYXZpbmcgdG9vIG1hbnkgQXVkaW9Db250ZXh0c1xuXHQgICAgY29uc29sZS5sb2coJ2F1ZGlvIGNvbnRleHQnKVxuXHQgICAgcGxheWVyID0gbmV3IFdlYkF1ZGlvUGxheWVyKEF1ZGlvQ29udGV4dClcblx0ICB9IGNhdGNoIChlKSB7XG5cdCAgICBjb25zb2xlLmxvZygnZXJyb3IsIGZhbGxiYWNrIHRvIGF1ZGlvIHRhZycpXG5cdCAgICBwbGF5ZXIgPSBuZXcgQXVkaW9UYWdQbGF5ZXIoKVxuXHQgIH1cblx0fSBlbHNlIHtcblx0ICBwbGF5ZXIgPSBuZXcgQXVkaW9UYWdQbGF5ZXIoKVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBub29wICgpIHt9XG5cdFxuXHRmdW5jdGlvbiBBdWRpb09iamVjdCAodXJsKSB7XG5cdCAgRW1pdHRlci5jYWxsKHRoaXMpXG5cdCAgdGhpcy51cmwgPSB1cmxcblx0ICB0aGlzLnN0YXRlID0gJ2xvYWRpbmcnXG5cdCAgcGxheWVyLmxvYWQodXJsLCBmdW5jdGlvbiAoKSB7XG5cdCAgICB0aGlzLnN0YXRlID0gJ2xvYWRlZCdcblx0ICAgIHRoaXMuZW1pdCgnbG9hZCcpXG5cdCAgfS5iaW5kKHRoaXMpKVxuXHR9XG5cdFxuXHR2YXIgcCA9IEF1ZGlvT2JqZWN0LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoRW1pdHRlci5wcm90b3R5cGUpXG5cdFxuXHRwLnBsYXkgPSBmdW5jdGlvbiAoKSB7XG5cdCAgaWYgKHRoaXMuc3RhdGUgPT09ICdsb2FkZWQnKSB7XG5cdCAgICBwbGF5ZXIucGxheSh0aGlzLnVybClcblx0ICB9IGVsc2Uge1xuXHQgICAgdGhpcy5vbmNlKCdsb2FkJywgdGhpcy5wbGF5LmJpbmQodGhpcykpXG5cdCAgfVxuXHR9XG5cdFxuXHRwLnN0b3AgPSBmdW5jdGlvbiAoKSB7XG5cdCAgcGxheWVyLnN0b3AodGhpcy51cmwpXG5cdH1cblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwLCAnZHVyYXRpb24nLCB7XG5cdCAgZW51bWVyYWJsZTogdHJ1ZSxcblx0ICBnZXQ6IGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiBwbGF5ZXIuZHVyYXRpb25PZih0aGlzLnVybCkgIFxuXHQgIH0sXG5cdCAgc2V0OiBub29wXG5cdH0pXG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkocCwgJ2N1cnJlbnRUaW1lJywge1xuXHQgIGVudW1lcmFibGU6IHRydWUsXG5cdCAgZ2V0OiBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gcGxheWVyLnRpbWUodGhpcy51cmwpXG5cdCAgfSxcblx0ICBzZXQ6IG5vb3Bcblx0fSlcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gQXVkaW9PYmplY3RcblxuLyoqKi8gfSxcbi8qIDczICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvKipcblx0ICogQSBwbGF5ZXIgdXNpbmcgYXVkaW8gdGFnc1xuXHQgKi9cblx0XG5cdGZ1bmN0aW9uIEF1ZGlvVGFnUGxheWVyICgpIHtcblx0ICB0aGlzLmF1ZGlvcyA9IHt9XG5cdCAgdGhpcy5sb2FkZWQgPSB7fVxuXHR9XG5cdFxuXHR2YXIgcCA9IEF1ZGlvVGFnUGxheWVyLnByb3RvdHlwZVxuXHRcblx0cC5sb2FkID0gZnVuY3Rpb24gKHVybCwgY2IpIHtcblx0ICB2YXIgYXVkaW8gPSB0aGlzLmF1ZGlvc1t1cmxdXG5cdCAgaWYgKGF1ZGlvKSB7XG5cdCAgICBpZiAoY2IpIHtcblx0ICAgICAgaWYgKCF0aGlzLmxvYWRlZFt1cmxdKSB7XG5cdCAgICAgICAgYXVkaW8uYWRkRXZlbnRMaXN0ZW5lcignbG9hZGVkZGF0YScsIGNiKVxuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIGNiKClcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgICAgcmV0dXJuXG5cdCAgfVxuXHQgIGF1ZGlvID0gdGhpcy5hdWRpb3NbdXJsXSA9IG5ldyBBdWRpbygpXG5cdCAgYXVkaW8uc3JjID0gdXJsXG5cdCAgYXVkaW8ubG9hZCgpXG5cdCAgdmFyIHNlbGYgPSB0aGlzXG5cdCAgYXVkaW8uYWRkRXZlbnRMaXN0ZW5lcignbG9hZGVkZGF0YScsIGZ1bmN0aW9uICgpIHtcblx0ICAgIHNlbGYubG9hZGVkW3VybF0gPSB0cnVlXG5cdCAgICBpZiAoY2IpIGNiKClcblx0ICB9KVxuXHR9XG5cdFxuXHRwLnBsYXkgPSBmdW5jdGlvbiAodXJsKSB7XG5cdCAgdmFyIGxvYWRlZCA9IHRoaXMubG9hZGVkW3VybF1cblx0ICBpZiAoIWxvYWRlZCkge1xuXHQgICAgY29uc29sZS53YXJuKFxuXHQgICAgICAnYXVkaW86IGF0dGVtcHRpbmcgdG8gcGxheSBmaWxlOiAnICsgdXJsICtcblx0ICAgICAgJyB3aGljaCBpcyBub3QgbG9hZGVkIHlldC4nXG5cdCAgICApXG5cdCAgICByZXR1cm5cblx0ICB9XG5cdCAgdmFyIGF1ZGlvID0gdGhpcy5hdWRpb3NbdXJsXVxuXHQgIGF1ZGlvLnBsYXkoKVxuXHR9XG5cdFxuXHRwLnN0b3AgPSBmdW5jdGlvbiAodXJsKSB7XG5cdCAgdmFyIGxvYWRlZCA9IHRoaXMubG9hZGVkW3VybF1cblx0ICBpZiAobG9hZGVkKSB7XG5cdCAgICB2YXIgYXVkaW8gPSB0aGlzLmF1ZGlvc1t1cmxdXG5cdCAgICBhdWRpby5wYXVzZSgpXG5cdCAgICBhdWRpby5jdXJyZW50VGltZSA9IDBcblx0ICB9XG5cdH1cblx0XG5cdHAubG9hZEFsbCA9IGZ1bmN0aW9uIChmaWxlcywgY2IpIHtcblx0ICB2YXIgbG9hZGVkID0gMFxuXHQgIHZhciBzZWxmID0gdGhpc1xuXHQgIGZpbGVzLmZvckVhY2goZnVuY3Rpb24gKGZpbGUpIHtcblx0ICAgIHNlbGYubG9hZChmaWxlLCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIGxvYWRlZCsrXG5cdCAgICAgIGlmIChsb2FkZWQgPj0gZmlsZXMubGVuZ3RoKSB7XG5cdCAgICAgICAgY2IoKVxuXHQgICAgICB9XG5cdCAgICB9KVxuXHQgIH0pXG5cdH1cblx0XG5cdHAuZHVyYXRpb25PZiA9IGZ1bmN0aW9uICh1cmwpIHtcblx0ICBpZiAodGhpcy5sb2FkZWRbdXJsXSkge1xuXHQgICAgcmV0dXJuIHRoaXMuYXVkaW9zW3VybF0uZHVyYXRpb25cblx0ICB9XG5cdH1cblx0XG5cdHAudGltZSA9IGZ1bmN0aW9uICh1cmwpIHtcblx0ICBpZiAodGhpcy5sb2FkZWRbdXJsXSkge1xuXHQgICAgcmV0dXJuIHRoaXMuYXVkaW9zW3VybF0uY3VycmVudFRpbWVcblx0ICB9XG5cdH1cblx0XG5cdG1vZHVsZS5leHBvcnRzID0gQXVkaW9UYWdQbGF5ZXJcblxuLyoqKi8gfSxcbi8qIDc0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvKipcblx0KiBBIHBsYXllciB1c2luZyB0aGUgV2ViIEF1ZGlvIEFQSVxuXHQqL1xuXHRcblx0ZnVuY3Rpb24gV2ViQXVkaW9QbGF5ZXIgKEFkdWlvQ29udGV4dCkge1xuXHQgIHRoaXMuY29udGV4dCA9IG5ldyBBZHVpb0NvbnRleHQoKVxuXHQgIHRoaXMucGVuZGluZyA9IHt9XG5cdCAgdGhpcy5idWZmZXJzID0ge31cblx0ICB0aGlzLnNvdXJjZXMgPSB7fVxuXHQgIHRoaXMudGltZXJzID0ge31cblx0fVxuXHRcblx0dmFyIHAgPSBXZWJBdWRpb1BsYXllci5wcm90b3R5cGVcblx0XG5cdHAubG9hZCA9IGZ1bmN0aW9uICh1cmwsIGNiKSB7XG5cdCAgLy8gY2hlY2sgaWYgdGhlcmUncyBhIHBlbmRpbmcgcmVxdWVzdC5cblx0ICAvLyBpZiB5ZXMsIG1lcmdlIHRoZSBjYWxsYmFjayB3aXRoIHRoZSBleGlzdGluZyBjYWxsYmFja1xuXHQgIHZhciByZXF1ZXN0ID0gdGhpcy5wZW5kaW5nW3VybF1cblx0ICBpZiAocmVxdWVzdCkge1xuXHQgICAgaWYgKGNiKSB7XG5cdCAgICAgIHZhciBvY2IgPSByZXF1ZXN0Lm9ubG9hZFxuXHQgICAgICByZXF1ZXN0Lm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICBvY2IoKVxuXHQgICAgICAgIGNiKClcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgICAgcmV0dXJuXG5cdCAgfVxuXHQgIC8vIGNoZWNrIGlmIHRoZSBidWZmZXIgaXMgYWxyZWFkeSBsb2FkZWQuXG5cdCAgdmFyIGJ1ZmZlciA9IHRoaXMuYnVmZmVyc1t1cmxdXG5cdCAgaWYgKGJ1ZmZlcikge1xuXHQgICAgaWYgKGNiKSBjYigpXG5cdCAgICByZXR1cm5cblx0ICB9XG5cdCAgcmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpXG5cdCAgcmVxdWVzdC5vcGVuKCdHRVQnLCB1cmwsIHRydWUpXG5cdCAgcmVxdWVzdC5yZXNwb25zZVR5cGUgPSAnYXJyYXlidWZmZXInXG5cdCAgLy8gRGVjb2RlIGFzeW5jaHJvbm91c2x5XG5cdCAgdmFyIHNlbGYgPSB0aGlzXG5cdCAgcmVxdWVzdC5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBzZWxmLmNvbnRleHQuZGVjb2RlQXVkaW9EYXRhKFxuXHQgICAgICByZXF1ZXN0LnJlc3BvbnNlLFxuXHQgICAgICBmdW5jdGlvbiAoYnVmZmVyKSB7XG5cdCAgICAgICAgc2VsZi5idWZmZXJzW3VybF0gPSBidWZmZXJcblx0ICAgICAgICBpZiAoY2IpIGNiKClcblx0ICAgICAgfSxcblx0ICAgICAgZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgICBjb25zb2xlLndhcm4oXG5cdCAgICAgICAgICAnYXVkaW86IGVycm9yIGRlY29kaW5nIHJlc3BvbnNlIGZvciAnICsgdXJsXG5cdCAgICAgICAgKVxuXHQgICAgICB9XG5cdCAgICApXG5cdCAgfVxuXHQgIHJlcXVlc3Quc2VuZCgpXG5cdH1cblx0XG5cdHAucGxheSA9IGZ1bmN0aW9uICh1cmwpIHtcblx0ICB2YXIgYnVmZmVyID0gdGhpcy5idWZmZXJzW3VybF1cblx0ICBpZiAoIWJ1ZmZlcikge1xuXHQgICAgY29uc29sZS53YXJuKFxuXHQgICAgICAnYXVkaW86IGF0dGVtcHRpbmcgdG8gcGxheSBmaWxlOiAnICsgdXJsICtcblx0ICAgICAgJyB3aGljaCBpcyBub3QgbG9hZGVkIHlldC4nXG5cdCAgICApXG5cdCAgICByZXR1cm5cblx0ICB9XG5cdCAgdmFyIHNvdXJjZSA9IHRoaXMuY29udGV4dC5jcmVhdGVCdWZmZXJTb3VyY2UoKVxuXHQgIHRoaXMuc291cmNlc1t1cmxdID0gc291cmNlXG5cdCAgc291cmNlLmJ1ZmZlciA9IGJ1ZmZlclxuXHQgIHNvdXJjZS5jb25uZWN0KHRoaXMuY29udGV4dC5kZXN0aW5hdGlvbilcblx0ICBpZiAodHlwZW9mIHNvdXJjZS5ub3RlT24gPT09IFwiZnVuY3Rpb25cIikge1xuXHQgICAgc291cmNlLm5vdGVPbigwKVxuXHQgIH0gZWxzZSB7XG5cdCAgICBzb3VyY2Uuc3RhcnQoKVxuXHQgIH1cblx0ICB2YXIgdGltZXJzID0gdGhpcy50aW1lcnNcblx0ICB0aW1lcnNbdXJsXSA9IHRoaXMuY29udGV4dC5jdXJyZW50VGltZVxuXHQgIHNvdXJjZS5vbmVuZGVkID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdGltZXJzW3VybF0gPSBudWxsXG5cdCAgfVxuXHR9XG5cdFxuXHRwLnN0b3AgPSBmdW5jdGlvbiAodXJsKSB7XG5cdCAgaWYgKHRoaXMuc291cmNlc1t1cmxdKSB7XG5cdCAgICB0aGlzLnNvdXJjZXNbdXJsXS5zdG9wKDApXG5cdCAgICB0aGlzLnNvdXJjZXNbdXJsXSA9IG51bGxcblx0ICAgIHRoaXMudGltZXJzW3VybF0gPSBudWxsXG5cdCAgfVxuXHR9XG5cdFxuXHRwLmxvYWRBbGwgPSBmdW5jdGlvbiAoZmlsZXMsIGNiKSB7XG5cdCAgdmFyIGxvYWRlZCA9IDBcblx0ICB2YXIgc2VsZiA9IHRoaXNcblx0ICBmaWxlcy5mb3JFYWNoKGZ1bmN0aW9uIChmaWxlKSB7XG5cdCAgICBzZWxmLmxvYWQoZmlsZSwgZnVuY3Rpb24gKCkge1xuXHQgICAgICBsb2FkZWQrK1xuXHQgICAgICBpZiAobG9hZGVkID49IGZpbGVzLmxlbmd0aCkge1xuXHQgICAgICAgIGNiKClcblx0ICAgICAgfVxuXHQgICAgfSlcblx0ICB9KVxuXHR9XG5cdFxuXHRwLmR1cmF0aW9uT2YgPSBmdW5jdGlvbiAodXJsKSB7XG5cdCAgdmFyIGJ1ZmZlciA9IHRoaXMuYnVmZmVyc1t1cmxdXG5cdCAgaWYgKGJ1ZmZlcikgcmV0dXJuIGJ1ZmZlci5kdXJhdGlvblxuXHR9XG5cdFxuXHRwLnRpbWUgPSBmdW5jdGlvbiAodXJsKSB7XG5cdCAgaWYgKHRoaXMudGltZXJzW3VybF0gIT0gbnVsbCkge1xuXHQgICAgcmV0dXJuIHRoaXMuY29udGV4dC5jdXJyZW50VGltZSAtIHRoaXMudGltZXJzW3VybF1cblx0ICB9IGVsc2Uge1xuXHQgICAgcmV0dXJuIDBcblx0ICB9XG5cdH1cblx0XG5cdG1vZHVsZS5leHBvcnRzID0gV2ViQXVkaW9QbGF5ZXJcblxuLyoqKi8gfSxcbi8qIDc1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0dmFyIGxpc3QgPSBbXTtcclxuXHRcdGxpc3QudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcclxuXHRcdFx0dmFyIHJlc3VsdCA9IFtdO1xyXG5cdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdHZhciBpdGVtID0gdGhpc1tpXTtcclxuXHRcdFx0XHRpZihpdGVtWzJdKSB7XHJcblx0XHRcdFx0XHRyZXN1bHQucHVzaChcIkBtZWRpYSBcIiArIGl0ZW1bMl0gKyBcIntcIiArIGl0ZW1bMV0gKyBcIn1cIik7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdHJlc3VsdC5wdXNoKGl0ZW1bMV0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gcmVzdWx0LmpvaW4oXCJcIik7XHJcblx0XHR9O1xyXG5cdFx0cmV0dXJuIGxpc3Q7XHJcblx0fVxuXG4vKioqLyB9LFxuLyogNzYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oNzUpKCk7XG5cdGV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcImh0bWwsYm9keSxjYW52YXN7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTttYXJnaW46MDtvdmVyZmxvdzpoaWRkZW47Zm9udDoxM3B4ICdIZWx2ZXRpY2EgTmV1ZScsSGVsdmV0aWNhLEFyaWFsfWNhbnZhc3tkaXNwbGF5OmJsb2NrfS5tdXRle3Bvc2l0aW9uOmZpeGVkO3JpZ2h0OjFlbTt0b3A6MWVtfSNkZWJ1Z3tib3gtc2l6aW5nOmJvcmRlci1ib3g7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7bGVmdDowO2JhY2tncm91bmQ6cmdiYSgyNTUsMjU1LDI1NSwuNSk7cGFkZGluZzoxZW19I2ZwczpiZWZvcmV7Y29udGVudDonZnBzOiAnfS5mcmFtZXtwb3NpdGlvbjpmaXhlZDtsZWZ0OjA7Ym90dG9tOjA7d2lkdGg6MTAwJX1cIiwgXCJcIl0pO1xuXG4vKioqLyB9LFxuLyogNzcgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qKlxuXHQgKiBNb2R1bGUgZGVwZW5kZW5jaWVzLlxuXHQgKi9cblx0XG5cdHZhciBhc3NlcnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyNyk7XG5cdFxuXHQvKipcblx0ICogQ29udmVydCBkZWdyZWVzIHRvIHJhZGlhbnMuXG5cdCAqXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBkZWdyZWVzXG5cdCAqIEByZXR1cm4ge051bWJlcn1cblx0ICovXG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGRlZ3JlZXMpIHtcblx0ICBhc3NlcnQoJ251bWJlcicgPT0gdHlwZW9mIGRlZ3JlZXMsICdEZWdyZWVzIHNob3VsZCBiZSBhIG51bWJlcicpO1xuXHQgIHJldHVybiBkZWdyZWVzICogKE1hdGguUEkgLyAxODApO1xuXHR9XG5cblxuLyoqKi8gfSxcbi8qIDc4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwiNjA4Y2U5OTAyMzBlZTUwYjk2MjM5OGVkOTRkZjI0MDIubXAzXCJcblxuLyoqKi8gfSxcbi8qIDc5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgRXZlbnRFbWl0dGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2NSkuRXZlbnRFbWl0dGVyXG5cdCAgLCBpbmhlcml0cyA9IF9fd2VicGFja19yZXF1aXJlX18oODApXG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGZwc1xuXHRcblx0Ly8gVHJ5IHVzZSBwZXJmb3JtYW5jZS5ub3coKSwgb3RoZXJ3aXNlIHRyeVxuXHQvLyArbmV3IERhdGUuXG5cdHZhciBub3cgPSAoXG5cdCAgKGZ1bmN0aW9uKCl7IHJldHVybiB0aGlzIH0oKSkucGVyZm9ybWFuY2UgJiZcblx0ICAnZnVuY3Rpb24nID09PSB0eXBlb2YgcGVyZm9ybWFuY2Uubm93XG5cdCkgPyBmdW5jdGlvbigpIHsgcmV0dXJuIHBlcmZvcm1hbmNlLm5vdygpIH1cblx0ICA6IERhdGUubm93IHx8IGZ1bmN0aW9uKCkgeyByZXR1cm4gK25ldyBEYXRlIH1cblx0XG5cdGZ1bmN0aW9uIGZwcyhvcHRzKSB7XG5cdCAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIGZwcykpIHJldHVybiBuZXcgZnBzKG9wdHMpXG5cdCAgRXZlbnRFbWl0dGVyLmNhbGwodGhpcylcblx0XG5cdCAgb3B0cyA9IG9wdHMgfHwge31cblx0ICB0aGlzLmxhc3QgPSBub3coKVxuXHQgIHRoaXMucmF0ZSA9IDBcblx0ICB0aGlzLnRpbWUgPSAwXG5cdCAgdGhpcy5kZWNheSA9IG9wdHMuZGVjYXkgfHwgMVxuXHQgIHRoaXMuZXZlcnkgPSBvcHRzLmV2ZXJ5IHx8IDFcblx0ICB0aGlzLnRpY2tzID0gMFxuXHR9XG5cdGluaGVyaXRzKGZwcywgRXZlbnRFbWl0dGVyKVxuXHRcblx0ZnBzLnByb3RvdHlwZS50aWNrID0gZnVuY3Rpb24oKSB7XG5cdCAgdmFyIHRpbWUgPSBub3coKVxuXHQgICAgLCBkaWZmID0gdGltZSAtIHRoaXMubGFzdFxuXHQgICAgLCBmcHMgPSBkaWZmXG5cdFxuXHQgIHRoaXMudGlja3MgKz0gMVxuXHQgIHRoaXMubGFzdCA9IHRpbWVcblx0ICB0aGlzLnRpbWUgKz0gKGZwcyAtIHRoaXMudGltZSkgKiB0aGlzLmRlY2F5XG5cdCAgdGhpcy5yYXRlID0gMTAwMCAvIHRoaXMudGltZVxuXHQgIGlmICghKHRoaXMudGlja3MgJSB0aGlzLmV2ZXJ5KSkgdGhpcy5lbWl0KCdkYXRhJywgdGhpcy5yYXRlKVxuXHR9XG5cdFxuXG5cbi8qKiovIH0sXG4vKiA4MCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBpbmhlcml0c1xuXHRcblx0ZnVuY3Rpb24gaW5oZXJpdHMgKGMsIHAsIHByb3RvKSB7XG5cdCAgcHJvdG8gPSBwcm90byB8fCB7fVxuXHQgIHZhciBlID0ge31cblx0ICA7W2MucHJvdG90eXBlLCBwcm90b10uZm9yRWFjaChmdW5jdGlvbiAocykge1xuXHQgICAgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMocykuZm9yRWFjaChmdW5jdGlvbiAoaykge1xuXHQgICAgICBlW2tdID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzLCBrKVxuXHQgICAgfSlcblx0ICB9KVxuXHQgIGMucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShwLnByb3RvdHlwZSwgZSlcblx0ICBjLnN1cGVyID0gcFxuXHR9XG5cdFxuXHQvL2Z1bmN0aW9uIENoaWxkICgpIHtcblx0Ly8gIENoaWxkLnN1cGVyLmNhbGwodGhpcylcblx0Ly8gIGNvbnNvbGUuZXJyb3IoW3RoaXNcblx0Ly8gICAgICAgICAgICAgICAgLHRoaXMuY29uc3RydWN0b3Jcblx0Ly8gICAgICAgICAgICAgICAgLHRoaXMuY29uc3RydWN0b3IgPT09IENoaWxkXG5cdC8vICAgICAgICAgICAgICAgICx0aGlzLmNvbnN0cnVjdG9yLnN1cGVyID09PSBQYXJlbnRcblx0Ly8gICAgICAgICAgICAgICAgLE9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzKSA9PT0gQ2hpbGQucHJvdG90eXBlXG5cdC8vICAgICAgICAgICAgICAgICxPYmplY3QuZ2V0UHJvdG90eXBlT2YoT2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpKVxuXHQvLyAgICAgICAgICAgICAgICAgPT09IFBhcmVudC5wcm90b3R5cGVcblx0Ly8gICAgICAgICAgICAgICAgLHRoaXMgaW5zdGFuY2VvZiBDaGlsZFxuXHQvLyAgICAgICAgICAgICAgICAsdGhpcyBpbnN0YW5jZW9mIFBhcmVudF0pXG5cdC8vfVxuXHQvL2Z1bmN0aW9uIFBhcmVudCAoKSB7fVxuXHQvL2luaGVyaXRzKENoaWxkLCBQYXJlbnQpXG5cdC8vbmV3IENoaWxkXG5cblxuLyoqKi8gfSxcbi8qIDgxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKipcblx0ICogbG9kYXNoIDMuMS4xIChDdXN0b20gQnVpbGQpIDxodHRwczovL2xvZGFzaC5jb20vPlxuXHQgKiBCdWlsZDogYGxvZGFzaCBtb2Rlcm4gbW9kdWxhcml6ZSBleHBvcnRzPVwibnBtXCIgLW8gLi9gXG5cdCAqIENvcHlyaWdodCAyMDEyLTIwMTUgVGhlIERvam8gRm91bmRhdGlvbiA8aHR0cDovL2Rvam9mb3VuZGF0aW9uLm9yZy8+XG5cdCAqIEJhc2VkIG9uIFVuZGVyc2NvcmUuanMgMS44LjMgPGh0dHA6Ly91bmRlcnNjb3JlanMub3JnL0xJQ0VOU0U+XG5cdCAqIENvcHlyaWdodCAyMDA5LTIwMTUgSmVyZW15IEFzaGtlbmFzLCBEb2N1bWVudENsb3VkIGFuZCBJbnZlc3RpZ2F0aXZlIFJlcG9ydGVycyAmIEVkaXRvcnNcblx0ICogQXZhaWxhYmxlIHVuZGVyIE1JVCBsaWNlbnNlIDxodHRwczovL2xvZGFzaC5jb20vbGljZW5zZT5cblx0ICovXG5cdHZhciBjcmVhdGVXcmFwcGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4MiksXG5cdCAgICByZXBsYWNlSG9sZGVycyA9IF9fd2VicGFja19yZXF1aXJlX18oMzUpLFxuXHQgICAgcmVzdFBhcmFtID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4NSk7XG5cdFxuXHQvKiogVXNlZCB0byBjb21wb3NlIGJpdG1hc2tzIGZvciB3cmFwcGVyIG1ldGFkYXRhLiAqL1xuXHR2YXIgUEFSVElBTF9SSUdIVF9GTEFHID0gNjQ7XG5cdFxuXHQvKipcblx0ICogQ3JlYXRlcyBhIGBfLnBhcnRpYWxgIG9yIGBfLnBhcnRpYWxSaWdodGAgZnVuY3Rpb24uXG5cdCAqXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7Ym9vbGVhbn0gZmxhZyBUaGUgcGFydGlhbCBiaXQgZmxhZy5cblx0ICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcGFydGlhbCBmdW5jdGlvbi5cblx0ICovXG5cdGZ1bmN0aW9uIGNyZWF0ZVBhcnRpYWwoZmxhZykge1xuXHQgIHZhciBwYXJ0aWFsRnVuYyA9IHJlc3RQYXJhbShmdW5jdGlvbihmdW5jLCBwYXJ0aWFscykge1xuXHQgICAgdmFyIGhvbGRlcnMgPSByZXBsYWNlSG9sZGVycyhwYXJ0aWFscywgcGFydGlhbEZ1bmMucGxhY2Vob2xkZXIpO1xuXHQgICAgcmV0dXJuIGNyZWF0ZVdyYXBwZXIoZnVuYywgZmxhZywgdW5kZWZpbmVkLCBwYXJ0aWFscywgaG9sZGVycyk7XG5cdCAgfSk7XG5cdCAgcmV0dXJuIHBhcnRpYWxGdW5jO1xuXHR9XG5cdFxuXHQvKipcblx0ICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5wYXJ0aWFsYCBleGNlcHQgdGhhdCBwYXJ0aWFsbHkgYXBwbGllZCBhcmd1bWVudHNcblx0ICogYXJlIGFwcGVuZGVkIHRvIHRob3NlIHByb3ZpZGVkIHRvIHRoZSBuZXcgZnVuY3Rpb24uXG5cdCAqXG5cdCAqIFRoZSBgXy5wYXJ0aWFsUmlnaHQucGxhY2Vob2xkZXJgIHZhbHVlLCB3aGljaCBkZWZhdWx0cyB0byBgX2AgaW4gbW9ub2xpdGhpY1xuXHQgKiBidWlsZHMsIG1heSBiZSB1c2VkIGFzIGEgcGxhY2Vob2xkZXIgZm9yIHBhcnRpYWxseSBhcHBsaWVkIGFyZ3VtZW50cy5cblx0ICpcblx0ICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGRvZXMgbm90IHNldCB0aGUgXCJsZW5ndGhcIiBwcm9wZXJ0eSBvZiBwYXJ0aWFsbHlcblx0ICogYXBwbGllZCBmdW5jdGlvbnMuXG5cdCAqXG5cdCAqIEBzdGF0aWNcblx0ICogQG1lbWJlck9mIF9cblx0ICogQGNhdGVnb3J5IEZ1bmN0aW9uXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHBhcnRpYWxseSBhcHBseSBhcmd1bWVudHMgdG8uXG5cdCAqIEBwYXJhbSB7Li4uKn0gW3BhcnRpYWxzXSBUaGUgYXJndW1lbnRzIHRvIGJlIHBhcnRpYWxseSBhcHBsaWVkLlxuXHQgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBwYXJ0aWFsbHkgYXBwbGllZCBmdW5jdGlvbi5cblx0ICogQGV4YW1wbGVcblx0ICpcblx0ICogdmFyIGdyZWV0ID0gZnVuY3Rpb24oZ3JlZXRpbmcsIG5hbWUpIHtcblx0ICogICByZXR1cm4gZ3JlZXRpbmcgKyAnICcgKyBuYW1lO1xuXHQgKiB9O1xuXHQgKlxuXHQgKiB2YXIgZ3JlZXRGcmVkID0gXy5wYXJ0aWFsUmlnaHQoZ3JlZXQsICdmcmVkJyk7XG5cdCAqIGdyZWV0RnJlZCgnaGknKTtcblx0ICogLy8gPT4gJ2hpIGZyZWQnXG5cdCAqXG5cdCAqIC8vIHVzaW5nIHBsYWNlaG9sZGVyc1xuXHQgKiB2YXIgc2F5SGVsbG9UbyA9IF8ucGFydGlhbFJpZ2h0KGdyZWV0LCAnaGVsbG8nLCBfKTtcblx0ICogc2F5SGVsbG9UbygnZnJlZCcpO1xuXHQgKiAvLyA9PiAnaGVsbG8gZnJlZCdcblx0ICovXG5cdHZhciBwYXJ0aWFsUmlnaHQgPSBjcmVhdGVQYXJ0aWFsKFBBUlRJQUxfUklHSFRfRkxBRyk7XG5cdFxuXHQvLyBBc3NpZ24gZGVmYXVsdCBwbGFjZWhvbGRlcnMuXG5cdHBhcnRpYWxSaWdodC5wbGFjZWhvbGRlciA9IHt9O1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBwYXJ0aWFsUmlnaHQ7XG5cblxuLyoqKi8gfSxcbi8qIDgyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24oZ2xvYmFsKSB7LyoqXG5cdCAqIGxvZGFzaCAzLjAuNyAoQ3VzdG9tIEJ1aWxkKSA8aHR0cHM6Ly9sb2Rhc2guY29tLz5cblx0ICogQnVpbGQ6IGBsb2Rhc2ggbW9kZXJuIG1vZHVsYXJpemUgZXhwb3J0cz1cIm5wbVwiIC1vIC4vYFxuXHQgKiBDb3B5cmlnaHQgMjAxMi0yMDE1IFRoZSBEb2pvIEZvdW5kYXRpb24gPGh0dHA6Ly9kb2pvZm91bmRhdGlvbi5vcmcvPlxuXHQgKiBCYXNlZCBvbiBVbmRlcnNjb3JlLmpzIDEuOC4zIDxodHRwOi8vdW5kZXJzY29yZWpzLm9yZy9MSUNFTlNFPlxuXHQgKiBDb3B5cmlnaHQgMjAwOS0yMDE1IEplcmVteSBBc2hrZW5hcywgRG9jdW1lbnRDbG91ZCBhbmQgSW52ZXN0aWdhdGl2ZSBSZXBvcnRlcnMgJiBFZGl0b3JzXG5cdCAqIEF2YWlsYWJsZSB1bmRlciBNSVQgbGljZW5zZSA8aHR0cHM6Ly9sb2Rhc2guY29tL2xpY2Vuc2U+XG5cdCAqL1xuXHR2YXIgYXJyYXlDb3B5ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4MyksXG5cdCAgICBiYXNlQ3JlYXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4NCksXG5cdCAgICByZXBsYWNlSG9sZGVycyA9IF9fd2VicGFja19yZXF1aXJlX18oMzUpO1xuXHRcblx0LyoqIFVzZWQgdG8gY29tcG9zZSBiaXRtYXNrcyBmb3Igd3JhcHBlciBtZXRhZGF0YS4gKi9cblx0dmFyIEJJTkRfRkxBRyA9IDEsXG5cdCAgICBCSU5EX0tFWV9GTEFHID0gMixcblx0ICAgIENVUlJZX0JPVU5EX0ZMQUcgPSA0LFxuXHQgICAgQ1VSUllfRkxBRyA9IDgsXG5cdCAgICBDVVJSWV9SSUdIVF9GTEFHID0gMTYsXG5cdCAgICBQQVJUSUFMX0ZMQUcgPSAzMixcblx0ICAgIFBBUlRJQUxfUklHSFRfRkxBRyA9IDY0LFxuXHQgICAgQVJZX0ZMQUcgPSAxMjg7XG5cdFxuXHQvKiogVXNlZCBhcyB0aGUgYFR5cGVFcnJvcmAgbWVzc2FnZSBmb3IgXCJGdW5jdGlvbnNcIiBtZXRob2RzLiAqL1xuXHR2YXIgRlVOQ19FUlJPUl9URVhUID0gJ0V4cGVjdGVkIGEgZnVuY3Rpb24nO1xuXHRcblx0LyoqIFVzZWQgdG8gZGV0ZWN0IHVuc2lnbmVkIGludGVnZXIgdmFsdWVzLiAqL1xuXHR2YXIgcmVJc1VpbnQgPSAvXlxcZCskLztcblx0XG5cdC8qIE5hdGl2ZSBtZXRob2QgcmVmZXJlbmNlcyBmb3IgdGhvc2Ugd2l0aCB0aGUgc2FtZSBuYW1lIGFzIG90aGVyIGBsb2Rhc2hgIG1ldGhvZHMuICovXG5cdHZhciBuYXRpdmVNYXggPSBNYXRoLm1heCxcblx0ICAgIG5hdGl2ZU1pbiA9IE1hdGgubWluO1xuXHRcblx0LyoqXG5cdCAqIFVzZWQgYXMgdGhlIFttYXhpbXVtIGxlbmd0aF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNi4wLyNzZWMtbnVtYmVyLm1heF9zYWZlX2ludGVnZXIpXG5cdCAqIG9mIGFuIGFycmF5LWxpa2UgdmFsdWUuXG5cdCAqL1xuXHR2YXIgTUFYX1NBRkVfSU5URUdFUiA9IDkwMDcxOTkyNTQ3NDA5OTE7XG5cdFxuXHQvKipcblx0ICogQ3JlYXRlcyBhbiBhcnJheSB0aGF0IGlzIHRoZSBjb21wb3NpdGlvbiBvZiBwYXJ0aWFsbHkgYXBwbGllZCBhcmd1bWVudHMsXG5cdCAqIHBsYWNlaG9sZGVycywgYW5kIHByb3ZpZGVkIGFyZ3VtZW50cyBpbnRvIGEgc2luZ2xlIGFycmF5IG9mIGFyZ3VtZW50cy5cblx0ICpcblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGFyZ3MgVGhlIHByb3ZpZGVkIGFyZ3VtZW50cy5cblx0ICogQHBhcmFtIHtBcnJheX0gcGFydGlhbHMgVGhlIGFyZ3VtZW50cyB0byBwcmVwZW5kIHRvIHRob3NlIHByb3ZpZGVkLlxuXHQgKiBAcGFyYW0ge0FycmF5fSBob2xkZXJzIFRoZSBgcGFydGlhbHNgIHBsYWNlaG9sZGVyIGluZGV4ZXMuXG5cdCAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGNvbXBvc2VkIGFyZ3VtZW50cy5cblx0ICovXG5cdGZ1bmN0aW9uIGNvbXBvc2VBcmdzKGFyZ3MsIHBhcnRpYWxzLCBob2xkZXJzKSB7XG5cdCAgdmFyIGhvbGRlcnNMZW5ndGggPSBob2xkZXJzLmxlbmd0aCxcblx0ICAgICAgYXJnc0luZGV4ID0gLTEsXG5cdCAgICAgIGFyZ3NMZW5ndGggPSBuYXRpdmVNYXgoYXJncy5sZW5ndGggLSBob2xkZXJzTGVuZ3RoLCAwKSxcblx0ICAgICAgbGVmdEluZGV4ID0gLTEsXG5cdCAgICAgIGxlZnRMZW5ndGggPSBwYXJ0aWFscy5sZW5ndGgsXG5cdCAgICAgIHJlc3VsdCA9IEFycmF5KGxlZnRMZW5ndGggKyBhcmdzTGVuZ3RoKTtcblx0XG5cdCAgd2hpbGUgKCsrbGVmdEluZGV4IDwgbGVmdExlbmd0aCkge1xuXHQgICAgcmVzdWx0W2xlZnRJbmRleF0gPSBwYXJ0aWFsc1tsZWZ0SW5kZXhdO1xuXHQgIH1cblx0ICB3aGlsZSAoKythcmdzSW5kZXggPCBob2xkZXJzTGVuZ3RoKSB7XG5cdCAgICByZXN1bHRbaG9sZGVyc1thcmdzSW5kZXhdXSA9IGFyZ3NbYXJnc0luZGV4XTtcblx0ICB9XG5cdCAgd2hpbGUgKGFyZ3NMZW5ndGgtLSkge1xuXHQgICAgcmVzdWx0W2xlZnRJbmRleCsrXSA9IGFyZ3NbYXJnc0luZGV4KytdO1xuXHQgIH1cblx0ICByZXR1cm4gcmVzdWx0O1xuXHR9XG5cdFxuXHQvKipcblx0ICogVGhpcyBmdW5jdGlvbiBpcyBsaWtlIGBjb21wb3NlQXJnc2AgZXhjZXB0IHRoYXQgdGhlIGFyZ3VtZW50cyBjb21wb3NpdGlvblxuXHQgKiBpcyB0YWlsb3JlZCBmb3IgYF8ucGFydGlhbFJpZ2h0YC5cblx0ICpcblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGFyZ3MgVGhlIHByb3ZpZGVkIGFyZ3VtZW50cy5cblx0ICogQHBhcmFtIHtBcnJheX0gcGFydGlhbHMgVGhlIGFyZ3VtZW50cyB0byBhcHBlbmQgdG8gdGhvc2UgcHJvdmlkZWQuXG5cdCAqIEBwYXJhbSB7QXJyYXl9IGhvbGRlcnMgVGhlIGBwYXJ0aWFsc2AgcGxhY2Vob2xkZXIgaW5kZXhlcy5cblx0ICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgY29tcG9zZWQgYXJndW1lbnRzLlxuXHQgKi9cblx0ZnVuY3Rpb24gY29tcG9zZUFyZ3NSaWdodChhcmdzLCBwYXJ0aWFscywgaG9sZGVycykge1xuXHQgIHZhciBob2xkZXJzSW5kZXggPSAtMSxcblx0ICAgICAgaG9sZGVyc0xlbmd0aCA9IGhvbGRlcnMubGVuZ3RoLFxuXHQgICAgICBhcmdzSW5kZXggPSAtMSxcblx0ICAgICAgYXJnc0xlbmd0aCA9IG5hdGl2ZU1heChhcmdzLmxlbmd0aCAtIGhvbGRlcnNMZW5ndGgsIDApLFxuXHQgICAgICByaWdodEluZGV4ID0gLTEsXG5cdCAgICAgIHJpZ2h0TGVuZ3RoID0gcGFydGlhbHMubGVuZ3RoLFxuXHQgICAgICByZXN1bHQgPSBBcnJheShhcmdzTGVuZ3RoICsgcmlnaHRMZW5ndGgpO1xuXHRcblx0ICB3aGlsZSAoKythcmdzSW5kZXggPCBhcmdzTGVuZ3RoKSB7XG5cdCAgICByZXN1bHRbYXJnc0luZGV4XSA9IGFyZ3NbYXJnc0luZGV4XTtcblx0ICB9XG5cdCAgdmFyIG9mZnNldCA9IGFyZ3NJbmRleDtcblx0ICB3aGlsZSAoKytyaWdodEluZGV4IDwgcmlnaHRMZW5ndGgpIHtcblx0ICAgIHJlc3VsdFtvZmZzZXQgKyByaWdodEluZGV4XSA9IHBhcnRpYWxzW3JpZ2h0SW5kZXhdO1xuXHQgIH1cblx0ICB3aGlsZSAoKytob2xkZXJzSW5kZXggPCBob2xkZXJzTGVuZ3RoKSB7XG5cdCAgICByZXN1bHRbb2Zmc2V0ICsgaG9sZGVyc1tob2xkZXJzSW5kZXhdXSA9IGFyZ3NbYXJnc0luZGV4KytdO1xuXHQgIH1cblx0ICByZXR1cm4gcmVzdWx0O1xuXHR9XG5cdFxuXHQvKipcblx0ICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgd3JhcHMgYGZ1bmNgIGFuZCBpbnZva2VzIGl0IHdpdGggdGhlIGB0aGlzYFxuXHQgKiBiaW5kaW5nIG9mIGB0aGlzQXJnYC5cblx0ICpcblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYmluZC5cblx0ICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBmdW5jYC5cblx0ICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYm91bmQgZnVuY3Rpb24uXG5cdCAqL1xuXHRmdW5jdGlvbiBjcmVhdGVCaW5kV3JhcHBlcihmdW5jLCB0aGlzQXJnKSB7XG5cdCAgdmFyIEN0b3IgPSBjcmVhdGVDdG9yV3JhcHBlcihmdW5jKTtcblx0XG5cdCAgZnVuY3Rpb24gd3JhcHBlcigpIHtcblx0ICAgIHZhciBmbiA9ICh0aGlzICYmIHRoaXMgIT09IGdsb2JhbCAmJiB0aGlzIGluc3RhbmNlb2Ygd3JhcHBlcikgPyBDdG9yIDogZnVuYztcblx0ICAgIHJldHVybiBmbi5hcHBseSh0aGlzQXJnLCBhcmd1bWVudHMpO1xuXHQgIH1cblx0ICByZXR1cm4gd3JhcHBlcjtcblx0fVxuXHRcblx0LyoqXG5cdCAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHByb2R1Y2VzIGFuIGluc3RhbmNlIG9mIGBDdG9yYCByZWdhcmRsZXNzIG9mXG5cdCAqIHdoZXRoZXIgaXQgd2FzIGludm9rZWQgYXMgcGFydCBvZiBhIGBuZXdgIGV4cHJlc3Npb24gb3IgYnkgYGNhbGxgIG9yIGBhcHBseWAuXG5cdCAqXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IEN0b3IgVGhlIGNvbnN0cnVjdG9yIHRvIHdyYXAuXG5cdCAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHdyYXBwZWQgZnVuY3Rpb24uXG5cdCAqL1xuXHRmdW5jdGlvbiBjcmVhdGVDdG9yV3JhcHBlcihDdG9yKSB7XG5cdCAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuXHQgICAgLy8gVXNlIGEgYHN3aXRjaGAgc3RhdGVtZW50IHRvIHdvcmsgd2l0aCBjbGFzcyBjb25zdHJ1Y3RvcnMuXG5cdCAgICAvLyBTZWUgaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNi4wLyNzZWMtZWNtYXNjcmlwdC1mdW5jdGlvbi1vYmplY3RzLWNhbGwtdGhpc2FyZ3VtZW50LWFyZ3VtZW50c2xpc3Rcblx0ICAgIC8vIGZvciBtb3JlIGRldGFpbHMuXG5cdCAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcblx0ICAgIHN3aXRjaCAoYXJncy5sZW5ndGgpIHtcblx0ICAgICAgY2FzZSAwOiByZXR1cm4gbmV3IEN0b3I7XG5cdCAgICAgIGNhc2UgMTogcmV0dXJuIG5ldyBDdG9yKGFyZ3NbMF0pO1xuXHQgICAgICBjYXNlIDI6IHJldHVybiBuZXcgQ3RvcihhcmdzWzBdLCBhcmdzWzFdKTtcblx0ICAgICAgY2FzZSAzOiByZXR1cm4gbmV3IEN0b3IoYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSk7XG5cdCAgICAgIGNhc2UgNDogcmV0dXJuIG5ldyBDdG9yKGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0sIGFyZ3NbM10pO1xuXHQgICAgICBjYXNlIDU6IHJldHVybiBuZXcgQ3RvcihhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdLCBhcmdzWzNdLCBhcmdzWzRdKTtcblx0ICAgICAgY2FzZSA2OiByZXR1cm4gbmV3IEN0b3IoYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSwgYXJnc1szXSwgYXJnc1s0XSwgYXJnc1s1XSk7XG5cdCAgICAgIGNhc2UgNzogcmV0dXJuIG5ldyBDdG9yKGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0sIGFyZ3NbM10sIGFyZ3NbNF0sIGFyZ3NbNV0sIGFyZ3NbNl0pO1xuXHQgICAgfVxuXHQgICAgdmFyIHRoaXNCaW5kaW5nID0gYmFzZUNyZWF0ZShDdG9yLnByb3RvdHlwZSksXG5cdCAgICAgICAgcmVzdWx0ID0gQ3Rvci5hcHBseSh0aGlzQmluZGluZywgYXJncyk7XG5cdFxuXHQgICAgLy8gTWltaWMgdGhlIGNvbnN0cnVjdG9yJ3MgYHJldHVybmAgYmVoYXZpb3IuXG5cdCAgICAvLyBTZWUgaHR0cHM6Ly9lczUuZ2l0aHViLmlvLyN4MTMuMi4yIGZvciBtb3JlIGRldGFpbHMuXG5cdCAgICByZXR1cm4gaXNPYmplY3QocmVzdWx0KSA/IHJlc3VsdCA6IHRoaXNCaW5kaW5nO1xuXHQgIH07XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCB3cmFwcyBgZnVuY2AgYW5kIGludm9rZXMgaXQgd2l0aCBvcHRpb25hbCBgdGhpc2Bcblx0ICogYmluZGluZyBvZiwgcGFydGlhbCBhcHBsaWNhdGlvbiwgYW5kIGN1cnJ5aW5nLlxuXHQgKlxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufHN0cmluZ30gZnVuYyBUaGUgZnVuY3Rpb24gb3IgbWV0aG9kIG5hbWUgdG8gcmVmZXJlbmNlLlxuXHQgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBvZiBmbGFncy4gU2VlIGBjcmVhdGVXcmFwcGVyYCBmb3IgbW9yZSBkZXRhaWxzLlxuXHQgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGZ1bmNgLlxuXHQgKiBAcGFyYW0ge0FycmF5fSBbcGFydGlhbHNdIFRoZSBhcmd1bWVudHMgdG8gcHJlcGVuZCB0byB0aG9zZSBwcm92aWRlZCB0byB0aGUgbmV3IGZ1bmN0aW9uLlxuXHQgKiBAcGFyYW0ge0FycmF5fSBbaG9sZGVyc10gVGhlIGBwYXJ0aWFsc2AgcGxhY2Vob2xkZXIgaW5kZXhlcy5cblx0ICogQHBhcmFtIHtBcnJheX0gW3BhcnRpYWxzUmlnaHRdIFRoZSBhcmd1bWVudHMgdG8gYXBwZW5kIHRvIHRob3NlIHByb3ZpZGVkIHRvIHRoZSBuZXcgZnVuY3Rpb24uXG5cdCAqIEBwYXJhbSB7QXJyYXl9IFtob2xkZXJzUmlnaHRdIFRoZSBgcGFydGlhbHNSaWdodGAgcGxhY2Vob2xkZXIgaW5kZXhlcy5cblx0ICogQHBhcmFtIHtBcnJheX0gW2FyZ1Bvc10gVGhlIGFyZ3VtZW50IHBvc2l0aW9ucyBvZiB0aGUgbmV3IGZ1bmN0aW9uLlxuXHQgKiBAcGFyYW0ge251bWJlcn0gW2FyeV0gVGhlIGFyaXR5IGNhcCBvZiBgZnVuY2AuXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBbYXJpdHldIFRoZSBhcml0eSBvZiBgZnVuY2AuXG5cdCAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHdyYXBwZWQgZnVuY3Rpb24uXG5cdCAqL1xuXHRmdW5jdGlvbiBjcmVhdGVIeWJyaWRXcmFwcGVyKGZ1bmMsIGJpdG1hc2ssIHRoaXNBcmcsIHBhcnRpYWxzLCBob2xkZXJzLCBwYXJ0aWFsc1JpZ2h0LCBob2xkZXJzUmlnaHQsIGFyZ1BvcywgYXJ5LCBhcml0eSkge1xuXHQgIHZhciBpc0FyeSA9IGJpdG1hc2sgJiBBUllfRkxBRyxcblx0ICAgICAgaXNCaW5kID0gYml0bWFzayAmIEJJTkRfRkxBRyxcblx0ICAgICAgaXNCaW5kS2V5ID0gYml0bWFzayAmIEJJTkRfS0VZX0ZMQUcsXG5cdCAgICAgIGlzQ3VycnkgPSBiaXRtYXNrICYgQ1VSUllfRkxBRyxcblx0ICAgICAgaXNDdXJyeUJvdW5kID0gYml0bWFzayAmIENVUlJZX0JPVU5EX0ZMQUcsXG5cdCAgICAgIGlzQ3VycnlSaWdodCA9IGJpdG1hc2sgJiBDVVJSWV9SSUdIVF9GTEFHLFxuXHQgICAgICBDdG9yID0gaXNCaW5kS2V5ID8gdW5kZWZpbmVkIDogY3JlYXRlQ3RvcldyYXBwZXIoZnVuYyk7XG5cdFxuXHQgIGZ1bmN0aW9uIHdyYXBwZXIoKSB7XG5cdCAgICAvLyBBdm9pZCBgYXJndW1lbnRzYCBvYmplY3QgdXNlIGRpc3F1YWxpZnlpbmcgb3B0aW1pemF0aW9ucyBieVxuXHQgICAgLy8gY29udmVydGluZyBpdCB0byBhbiBhcnJheSBiZWZvcmUgcHJvdmlkaW5nIGl0IHRvIG90aGVyIGZ1bmN0aW9ucy5cblx0ICAgIHZhciBsZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoLFxuXHQgICAgICAgIGluZGV4ID0gbGVuZ3RoLFxuXHQgICAgICAgIGFyZ3MgPSBBcnJheShsZW5ndGgpO1xuXHRcblx0ICAgIHdoaWxlIChpbmRleC0tKSB7XG5cdCAgICAgIGFyZ3NbaW5kZXhdID0gYXJndW1lbnRzW2luZGV4XTtcblx0ICAgIH1cblx0ICAgIGlmIChwYXJ0aWFscykge1xuXHQgICAgICBhcmdzID0gY29tcG9zZUFyZ3MoYXJncywgcGFydGlhbHMsIGhvbGRlcnMpO1xuXHQgICAgfVxuXHQgICAgaWYgKHBhcnRpYWxzUmlnaHQpIHtcblx0ICAgICAgYXJncyA9IGNvbXBvc2VBcmdzUmlnaHQoYXJncywgcGFydGlhbHNSaWdodCwgaG9sZGVyc1JpZ2h0KTtcblx0ICAgIH1cblx0ICAgIGlmIChpc0N1cnJ5IHx8IGlzQ3VycnlSaWdodCkge1xuXHQgICAgICB2YXIgcGxhY2Vob2xkZXIgPSB3cmFwcGVyLnBsYWNlaG9sZGVyLFxuXHQgICAgICAgICAgYXJnc0hvbGRlcnMgPSByZXBsYWNlSG9sZGVycyhhcmdzLCBwbGFjZWhvbGRlcik7XG5cdFxuXHQgICAgICBsZW5ndGggLT0gYXJnc0hvbGRlcnMubGVuZ3RoO1xuXHQgICAgICBpZiAobGVuZ3RoIDwgYXJpdHkpIHtcblx0ICAgICAgICB2YXIgbmV3QXJnUG9zID0gYXJnUG9zID8gYXJyYXlDb3B5KGFyZ1BvcykgOiB1bmRlZmluZWQsXG5cdCAgICAgICAgICAgIG5ld0FyaXR5ID0gbmF0aXZlTWF4KGFyaXR5IC0gbGVuZ3RoLCAwKSxcblx0ICAgICAgICAgICAgbmV3c0hvbGRlcnMgPSBpc0N1cnJ5ID8gYXJnc0hvbGRlcnMgOiB1bmRlZmluZWQsXG5cdCAgICAgICAgICAgIG5ld0hvbGRlcnNSaWdodCA9IGlzQ3VycnkgPyB1bmRlZmluZWQgOiBhcmdzSG9sZGVycyxcblx0ICAgICAgICAgICAgbmV3UGFydGlhbHMgPSBpc0N1cnJ5ID8gYXJncyA6IHVuZGVmaW5lZCxcblx0ICAgICAgICAgICAgbmV3UGFydGlhbHNSaWdodCA9IGlzQ3VycnkgPyB1bmRlZmluZWQgOiBhcmdzO1xuXHRcblx0ICAgICAgICBiaXRtYXNrIHw9IChpc0N1cnJ5ID8gUEFSVElBTF9GTEFHIDogUEFSVElBTF9SSUdIVF9GTEFHKTtcblx0ICAgICAgICBiaXRtYXNrICY9IH4oaXNDdXJyeSA/IFBBUlRJQUxfUklHSFRfRkxBRyA6IFBBUlRJQUxfRkxBRyk7XG5cdFxuXHQgICAgICAgIGlmICghaXNDdXJyeUJvdW5kKSB7XG5cdCAgICAgICAgICBiaXRtYXNrICY9IH4oQklORF9GTEFHIHwgQklORF9LRVlfRkxBRyk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHZhciByZXN1bHQgPSBjcmVhdGVIeWJyaWRXcmFwcGVyKGZ1bmMsIGJpdG1hc2ssIHRoaXNBcmcsIG5ld1BhcnRpYWxzLCBuZXdzSG9sZGVycywgbmV3UGFydGlhbHNSaWdodCwgbmV3SG9sZGVyc1JpZ2h0LCBuZXdBcmdQb3MsIGFyeSwgbmV3QXJpdHkpO1xuXHRcblx0ICAgICAgICByZXN1bHQucGxhY2Vob2xkZXIgPSBwbGFjZWhvbGRlcjtcblx0ICAgICAgICByZXR1cm4gcmVzdWx0O1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgICB2YXIgdGhpc0JpbmRpbmcgPSBpc0JpbmQgPyB0aGlzQXJnIDogdGhpcyxcblx0ICAgICAgICBmbiA9IGlzQmluZEtleSA/IHRoaXNCaW5kaW5nW2Z1bmNdIDogZnVuYztcblx0XG5cdCAgICBpZiAoYXJnUG9zKSB7XG5cdCAgICAgIGFyZ3MgPSByZW9yZGVyKGFyZ3MsIGFyZ1Bvcyk7XG5cdCAgICB9XG5cdCAgICBpZiAoaXNBcnkgJiYgYXJ5IDwgYXJncy5sZW5ndGgpIHtcblx0ICAgICAgYXJncy5sZW5ndGggPSBhcnk7XG5cdCAgICB9XG5cdCAgICBpZiAodGhpcyAmJiB0aGlzICE9PSBnbG9iYWwgJiYgdGhpcyBpbnN0YW5jZW9mIHdyYXBwZXIpIHtcblx0ICAgICAgZm4gPSBDdG9yIHx8IGNyZWF0ZUN0b3JXcmFwcGVyKGZ1bmMpO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIGZuLmFwcGx5KHRoaXNCaW5kaW5nLCBhcmdzKTtcblx0ICB9XG5cdCAgcmV0dXJuIHdyYXBwZXI7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCB3cmFwcyBgZnVuY2AgYW5kIGludm9rZXMgaXQgd2l0aCB0aGUgb3B0aW9uYWwgYHRoaXNgXG5cdCAqIGJpbmRpbmcgb2YgYHRoaXNBcmdgIGFuZCB0aGUgYHBhcnRpYWxzYCBwcmVwZW5kZWQgdG8gdGhvc2UgcHJvdmlkZWQgdG9cblx0ICogdGhlIHdyYXBwZXIuXG5cdCAqXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHBhcnRpYWxseSBhcHBseSBhcmd1bWVudHMgdG8uXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIG9mIGZsYWdzLiBTZWUgYGNyZWF0ZVdyYXBwZXJgIGZvciBtb3JlIGRldGFpbHMuXG5cdCAqIEBwYXJhbSB7Kn0gdGhpc0FyZyBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGZ1bmNgLlxuXHQgKiBAcGFyYW0ge0FycmF5fSBwYXJ0aWFscyBUaGUgYXJndW1lbnRzIHRvIHByZXBlbmQgdG8gdGhvc2UgcHJvdmlkZWQgdG8gdGhlIG5ldyBmdW5jdGlvbi5cblx0ICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYm91bmQgZnVuY3Rpb24uXG5cdCAqL1xuXHRmdW5jdGlvbiBjcmVhdGVQYXJ0aWFsV3JhcHBlcihmdW5jLCBiaXRtYXNrLCB0aGlzQXJnLCBwYXJ0aWFscykge1xuXHQgIHZhciBpc0JpbmQgPSBiaXRtYXNrICYgQklORF9GTEFHLFxuXHQgICAgICBDdG9yID0gY3JlYXRlQ3RvcldyYXBwZXIoZnVuYyk7XG5cdFxuXHQgIGZ1bmN0aW9uIHdyYXBwZXIoKSB7XG5cdCAgICAvLyBBdm9pZCBgYXJndW1lbnRzYCBvYmplY3QgdXNlIGRpc3F1YWxpZnlpbmcgb3B0aW1pemF0aW9ucyBieVxuXHQgICAgLy8gY29udmVydGluZyBpdCB0byBhbiBhcnJheSBiZWZvcmUgcHJvdmlkaW5nIGl0IGBmdW5jYC5cblx0ICAgIHZhciBhcmdzSW5kZXggPSAtMSxcblx0ICAgICAgICBhcmdzTGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aCxcblx0ICAgICAgICBsZWZ0SW5kZXggPSAtMSxcblx0ICAgICAgICBsZWZ0TGVuZ3RoID0gcGFydGlhbHMubGVuZ3RoLFxuXHQgICAgICAgIGFyZ3MgPSBBcnJheShsZWZ0TGVuZ3RoICsgYXJnc0xlbmd0aCk7XG5cdFxuXHQgICAgd2hpbGUgKCsrbGVmdEluZGV4IDwgbGVmdExlbmd0aCkge1xuXHQgICAgICBhcmdzW2xlZnRJbmRleF0gPSBwYXJ0aWFsc1tsZWZ0SW5kZXhdO1xuXHQgICAgfVxuXHQgICAgd2hpbGUgKGFyZ3NMZW5ndGgtLSkge1xuXHQgICAgICBhcmdzW2xlZnRJbmRleCsrXSA9IGFyZ3VtZW50c1srK2FyZ3NJbmRleF07XG5cdCAgICB9XG5cdCAgICB2YXIgZm4gPSAodGhpcyAmJiB0aGlzICE9PSBnbG9iYWwgJiYgdGhpcyBpbnN0YW5jZW9mIHdyYXBwZXIpID8gQ3RvciA6IGZ1bmM7XG5cdCAgICByZXR1cm4gZm4uYXBwbHkoaXNCaW5kID8gdGhpc0FyZyA6IHRoaXMsIGFyZ3MpO1xuXHQgIH1cblx0ICByZXR1cm4gd3JhcHBlcjtcblx0fVxuXHRcblx0LyoqXG5cdCAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGVpdGhlciBjdXJyaWVzIG9yIGludm9rZXMgYGZ1bmNgIHdpdGggb3B0aW9uYWxcblx0ICogYHRoaXNgIGJpbmRpbmcgYW5kIHBhcnRpYWxseSBhcHBsaWVkIGFyZ3VtZW50cy5cblx0ICpcblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHtGdW5jdGlvbnxzdHJpbmd9IGZ1bmMgVGhlIGZ1bmN0aW9uIG9yIG1ldGhvZCBuYW1lIHRvIHJlZmVyZW5jZS5cblx0ICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgb2YgZmxhZ3MuXG5cdCAqICBUaGUgYml0bWFzayBtYXkgYmUgY29tcG9zZWQgb2YgdGhlIGZvbGxvd2luZyBmbGFnczpcblx0ICogICAgIDEgLSBgXy5iaW5kYFxuXHQgKiAgICAgMiAtIGBfLmJpbmRLZXlgXG5cdCAqICAgICA0IC0gYF8uY3VycnlgIG9yIGBfLmN1cnJ5UmlnaHRgIG9mIGEgYm91bmQgZnVuY3Rpb25cblx0ICogICAgIDggLSBgXy5jdXJyeWBcblx0ICogICAgMTYgLSBgXy5jdXJyeVJpZ2h0YFxuXHQgKiAgICAzMiAtIGBfLnBhcnRpYWxgXG5cdCAqICAgIDY0IC0gYF8ucGFydGlhbFJpZ2h0YFxuXHQgKiAgIDEyOCAtIGBfLnJlYXJnYFxuXHQgKiAgIDI1NiAtIGBfLmFyeWBcblx0ICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBmdW5jYC5cblx0ICogQHBhcmFtIHtBcnJheX0gW3BhcnRpYWxzXSBUaGUgYXJndW1lbnRzIHRvIGJlIHBhcnRpYWxseSBhcHBsaWVkLlxuXHQgKiBAcGFyYW0ge0FycmF5fSBbaG9sZGVyc10gVGhlIGBwYXJ0aWFsc2AgcGxhY2Vob2xkZXIgaW5kZXhlcy5cblx0ICogQHBhcmFtIHtBcnJheX0gW2FyZ1Bvc10gVGhlIGFyZ3VtZW50IHBvc2l0aW9ucyBvZiB0aGUgbmV3IGZ1bmN0aW9uLlxuXHQgKiBAcGFyYW0ge251bWJlcn0gW2FyeV0gVGhlIGFyaXR5IGNhcCBvZiBgZnVuY2AuXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBbYXJpdHldIFRoZSBhcml0eSBvZiBgZnVuY2AuXG5cdCAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHdyYXBwZWQgZnVuY3Rpb24uXG5cdCAqL1xuXHRmdW5jdGlvbiBjcmVhdGVXcmFwcGVyKGZ1bmMsIGJpdG1hc2ssIHRoaXNBcmcsIHBhcnRpYWxzLCBob2xkZXJzLCBhcmdQb3MsIGFyeSwgYXJpdHkpIHtcblx0ICB2YXIgaXNCaW5kS2V5ID0gYml0bWFzayAmIEJJTkRfS0VZX0ZMQUc7XG5cdCAgaWYgKCFpc0JpbmRLZXkgJiYgdHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuXHQgIH1cblx0ICB2YXIgbGVuZ3RoID0gcGFydGlhbHMgPyBwYXJ0aWFscy5sZW5ndGggOiAwO1xuXHQgIGlmICghbGVuZ3RoKSB7XG5cdCAgICBiaXRtYXNrICY9IH4oUEFSVElBTF9GTEFHIHwgUEFSVElBTF9SSUdIVF9GTEFHKTtcblx0ICAgIHBhcnRpYWxzID0gaG9sZGVycyA9IHVuZGVmaW5lZDtcblx0ICB9XG5cdCAgbGVuZ3RoIC09IChob2xkZXJzID8gaG9sZGVycy5sZW5ndGggOiAwKTtcblx0ICBpZiAoYml0bWFzayAmIFBBUlRJQUxfUklHSFRfRkxBRykge1xuXHQgICAgdmFyIHBhcnRpYWxzUmlnaHQgPSBwYXJ0aWFscyxcblx0ICAgICAgICBob2xkZXJzUmlnaHQgPSBob2xkZXJzO1xuXHRcblx0ICAgIHBhcnRpYWxzID0gaG9sZGVycyA9IHVuZGVmaW5lZDtcblx0ICB9XG5cdCAgdmFyIG5ld0RhdGEgPSBbZnVuYywgYml0bWFzaywgdGhpc0FyZywgcGFydGlhbHMsIGhvbGRlcnMsIHBhcnRpYWxzUmlnaHQsIGhvbGRlcnNSaWdodCwgYXJnUG9zLCBhcnksIGFyaXR5XTtcblx0XG5cdCAgbmV3RGF0YVs5XSA9IGFyaXR5ID09IG51bGxcblx0ICAgID8gKGlzQmluZEtleSA/IDAgOiBmdW5jLmxlbmd0aClcblx0ICAgIDogKG5hdGl2ZU1heChhcml0eSAtIGxlbmd0aCwgMCkgfHwgMCk7XG5cdFxuXHQgIGlmIChiaXRtYXNrID09IEJJTkRfRkxBRykge1xuXHQgICAgdmFyIHJlc3VsdCA9IGNyZWF0ZUJpbmRXcmFwcGVyKG5ld0RhdGFbMF0sIG5ld0RhdGFbMl0pO1xuXHQgIH0gZWxzZSBpZiAoKGJpdG1hc2sgPT0gUEFSVElBTF9GTEFHIHx8IGJpdG1hc2sgPT0gKEJJTkRfRkxBRyB8IFBBUlRJQUxfRkxBRykpICYmICFuZXdEYXRhWzRdLmxlbmd0aCkge1xuXHQgICAgcmVzdWx0ID0gY3JlYXRlUGFydGlhbFdyYXBwZXIuYXBwbHkodW5kZWZpbmVkLCBuZXdEYXRhKTtcblx0ICB9IGVsc2Uge1xuXHQgICAgcmVzdWx0ID0gY3JlYXRlSHlicmlkV3JhcHBlci5hcHBseSh1bmRlZmluZWQsIG5ld0RhdGEpO1xuXHQgIH1cblx0ICByZXR1cm4gcmVzdWx0O1xuXHR9XG5cdFxuXHQvKipcblx0ICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBhcnJheS1saWtlIGluZGV4LlxuXHQgKlxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cblx0ICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGg9TUFYX1NBRkVfSU5URUdFUl0gVGhlIHVwcGVyIGJvdW5kcyBvZiBhIHZhbGlkIGluZGV4LlxuXHQgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGluZGV4LCBlbHNlIGBmYWxzZWAuXG5cdCAqL1xuXHRmdW5jdGlvbiBpc0luZGV4KHZhbHVlLCBsZW5ndGgpIHtcblx0ICB2YWx1ZSA9ICh0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicgfHwgcmVJc1VpbnQudGVzdCh2YWx1ZSkpID8gK3ZhbHVlIDogLTE7XG5cdCAgbGVuZ3RoID0gbGVuZ3RoID09IG51bGwgPyBNQVhfU0FGRV9JTlRFR0VSIDogbGVuZ3RoO1xuXHQgIHJldHVybiB2YWx1ZSA+IC0xICYmIHZhbHVlICUgMSA9PSAwICYmIHZhbHVlIDwgbGVuZ3RoO1xuXHR9XG5cdFxuXHQvKipcblx0ICogUmVvcmRlciBgYXJyYXlgIGFjY29yZGluZyB0byB0aGUgc3BlY2lmaWVkIGluZGV4ZXMgd2hlcmUgdGhlIGVsZW1lbnQgYXRcblx0ICogdGhlIGZpcnN0IGluZGV4IGlzIGFzc2lnbmVkIGFzIHRoZSBmaXJzdCBlbGVtZW50LCB0aGUgZWxlbWVudCBhdFxuXHQgKiB0aGUgc2Vjb25kIGluZGV4IGlzIGFzc2lnbmVkIGFzIHRoZSBzZWNvbmQgZWxlbWVudCwgYW5kIHNvIG9uLlxuXHQgKlxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcmVvcmRlci5cblx0ICogQHBhcmFtIHtBcnJheX0gaW5kZXhlcyBUaGUgYXJyYW5nZWQgYXJyYXkgaW5kZXhlcy5cblx0ICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG5cdCAqL1xuXHRmdW5jdGlvbiByZW9yZGVyKGFycmF5LCBpbmRleGVzKSB7XG5cdCAgdmFyIGFyckxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcblx0ICAgICAgbGVuZ3RoID0gbmF0aXZlTWluKGluZGV4ZXMubGVuZ3RoLCBhcnJMZW5ndGgpLFxuXHQgICAgICBvbGRBcnJheSA9IGFycmF5Q29weShhcnJheSk7XG5cdFxuXHQgIHdoaWxlIChsZW5ndGgtLSkge1xuXHQgICAgdmFyIGluZGV4ID0gaW5kZXhlc1tsZW5ndGhdO1xuXHQgICAgYXJyYXlbbGVuZ3RoXSA9IGlzSW5kZXgoaW5kZXgsIGFyckxlbmd0aCkgPyBvbGRBcnJheVtpbmRleF0gOiB1bmRlZmluZWQ7XG5cdCAgfVxuXHQgIHJldHVybiBhcnJheTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHRoZSBbbGFuZ3VhZ2UgdHlwZV0oaHR0cHM6Ly9lczUuZ2l0aHViLmlvLyN4OCkgb2YgYE9iamVjdGAuXG5cdCAqIChlLmcuIGFycmF5cywgZnVuY3Rpb25zLCBvYmplY3RzLCByZWdleGVzLCBgbmV3IE51bWJlcigwKWAsIGFuZCBgbmV3IFN0cmluZygnJylgKVxuXHQgKlxuXHQgKiBAc3RhdGljXG5cdCAqIEBtZW1iZXJPZiBfXG5cdCAqIEBjYXRlZ29yeSBMYW5nXG5cdCAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuXHQgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBvYmplY3QsIGVsc2UgYGZhbHNlYC5cblx0ICogQGV4YW1wbGVcblx0ICpcblx0ICogXy5pc09iamVjdCh7fSk7XG5cdCAqIC8vID0+IHRydWVcblx0ICpcblx0ICogXy5pc09iamVjdChbMSwgMiwgM10pO1xuXHQgKiAvLyA9PiB0cnVlXG5cdCAqXG5cdCAqIF8uaXNPYmplY3QoMSk7XG5cdCAqIC8vID0+IGZhbHNlXG5cdCAqL1xuXHRmdW5jdGlvbiBpc09iamVjdCh2YWx1ZSkge1xuXHQgIC8vIEF2b2lkIGEgVjggSklUIGJ1ZyBpbiBDaHJvbWUgMTktMjAuXG5cdCAgLy8gU2VlIGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvdjgvaXNzdWVzL2RldGFpbD9pZD0yMjkxIGZvciBtb3JlIGRldGFpbHMuXG5cdCAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG5cdCAgcmV0dXJuICEhdmFsdWUgJiYgKHR5cGUgPT0gJ29iamVjdCcgfHwgdHlwZSA9PSAnZnVuY3Rpb24nKTtcblx0fVxuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBjcmVhdGVXcmFwcGVyO1xuXHRcblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIChmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0oKSkpKVxuXG4vKioqLyB9LFxuLyogODMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8qKlxuXHQgKiBsb2Rhc2ggMy4wLjAgKEN1c3RvbSBCdWlsZCkgPGh0dHBzOi8vbG9kYXNoLmNvbS8+XG5cdCAqIEJ1aWxkOiBgbG9kYXNoIG1vZGVybiBtb2R1bGFyaXplIGV4cG9ydHM9XCJucG1cIiAtbyAuL2Bcblx0ICogQ29weXJpZ2h0IDIwMTItMjAxNSBUaGUgRG9qbyBGb3VuZGF0aW9uIDxodHRwOi8vZG9qb2ZvdW5kYXRpb24ub3JnLz5cblx0ICogQmFzZWQgb24gVW5kZXJzY29yZS5qcyAxLjcuMCA8aHR0cDovL3VuZGVyc2NvcmVqcy5vcmcvTElDRU5TRT5cblx0ICogQ29weXJpZ2h0IDIwMDktMjAxNSBKZXJlbXkgQXNoa2VuYXMsIERvY3VtZW50Q2xvdWQgYW5kIEludmVzdGlnYXRpdmUgUmVwb3J0ZXJzICYgRWRpdG9yc1xuXHQgKiBBdmFpbGFibGUgdW5kZXIgTUlUIGxpY2Vuc2UgPGh0dHBzOi8vbG9kYXNoLmNvbS9saWNlbnNlPlxuXHQgKi9cblx0XG5cdC8qKlxuXHQgKiBDb3BpZXMgdGhlIHZhbHVlcyBvZiBgc291cmNlYCB0byBgYXJyYXlgLlxuXHQgKlxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0ge0FycmF5fSBzb3VyY2UgVGhlIGFycmF5IHRvIGNvcHkgdmFsdWVzIGZyb20uXG5cdCAqIEBwYXJhbSB7QXJyYXl9IFthcnJheT1bXV0gVGhlIGFycmF5IHRvIGNvcHkgdmFsdWVzIHRvLlxuXHQgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cblx0ICovXG5cdGZ1bmN0aW9uIGFycmF5Q29weShzb3VyY2UsIGFycmF5KSB7XG5cdCAgdmFyIGluZGV4ID0gLTEsXG5cdCAgICAgIGxlbmd0aCA9IHNvdXJjZS5sZW5ndGg7XG5cdFxuXHQgIGFycmF5IHx8IChhcnJheSA9IEFycmF5KGxlbmd0aCkpO1xuXHQgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG5cdCAgICBhcnJheVtpbmRleF0gPSBzb3VyY2VbaW5kZXhdO1xuXHQgIH1cblx0ICByZXR1cm4gYXJyYXk7XG5cdH1cblx0XG5cdG1vZHVsZS5leHBvcnRzID0gYXJyYXlDb3B5O1xuXG5cbi8qKiovIH0sXG4vKiA4NCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0LyoqXG5cdCAqIGxvZGFzaCAzLjAuMyAoQ3VzdG9tIEJ1aWxkKSA8aHR0cHM6Ly9sb2Rhc2guY29tLz5cblx0ICogQnVpbGQ6IGBsb2Rhc2ggbW9kZXJuIG1vZHVsYXJpemUgZXhwb3J0cz1cIm5wbVwiIC1vIC4vYFxuXHQgKiBDb3B5cmlnaHQgMjAxMi0yMDE1IFRoZSBEb2pvIEZvdW5kYXRpb24gPGh0dHA6Ly9kb2pvZm91bmRhdGlvbi5vcmcvPlxuXHQgKiBCYXNlZCBvbiBVbmRlcnNjb3JlLmpzIDEuOC4zIDxodHRwOi8vdW5kZXJzY29yZWpzLm9yZy9MSUNFTlNFPlxuXHQgKiBDb3B5cmlnaHQgMjAwOS0yMDE1IEplcmVteSBBc2hrZW5hcywgRG9jdW1lbnRDbG91ZCBhbmQgSW52ZXN0aWdhdGl2ZSBSZXBvcnRlcnMgJiBFZGl0b3JzXG5cdCAqIEF2YWlsYWJsZSB1bmRlciBNSVQgbGljZW5zZSA8aHR0cHM6Ly9sb2Rhc2guY29tL2xpY2Vuc2U+XG5cdCAqL1xuXHRcblx0LyoqXG5cdCAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmNyZWF0ZWAgd2l0aG91dCBzdXBwb3J0IGZvciBhc3NpZ25pbmdcblx0ICogcHJvcGVydGllcyB0byB0aGUgY3JlYXRlZCBvYmplY3QuXG5cdCAqXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBwcm90b3R5cGUgVGhlIG9iamVjdCB0byBpbmhlcml0IGZyb20uXG5cdCAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG5cdCAqL1xuXHR2YXIgYmFzZUNyZWF0ZSA9IChmdW5jdGlvbigpIHtcblx0ICBmdW5jdGlvbiBvYmplY3QoKSB7fVxuXHQgIHJldHVybiBmdW5jdGlvbihwcm90b3R5cGUpIHtcblx0ICAgIGlmIChpc09iamVjdChwcm90b3R5cGUpKSB7XG5cdCAgICAgIG9iamVjdC5wcm90b3R5cGUgPSBwcm90b3R5cGU7XG5cdCAgICAgIHZhciByZXN1bHQgPSBuZXcgb2JqZWN0O1xuXHQgICAgICBvYmplY3QucHJvdG90eXBlID0gdW5kZWZpbmVkO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIHJlc3VsdCB8fCB7fTtcblx0ICB9O1xuXHR9KCkpO1xuXHRcblx0LyoqXG5cdCAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHRoZSBbbGFuZ3VhZ2UgdHlwZV0oaHR0cHM6Ly9lczUuZ2l0aHViLmlvLyN4OCkgb2YgYE9iamVjdGAuXG5cdCAqIChlLmcuIGFycmF5cywgZnVuY3Rpb25zLCBvYmplY3RzLCByZWdleGVzLCBgbmV3IE51bWJlcigwKWAsIGFuZCBgbmV3IFN0cmluZygnJylgKVxuXHQgKlxuXHQgKiBAc3RhdGljXG5cdCAqIEBtZW1iZXJPZiBfXG5cdCAqIEBjYXRlZ29yeSBMYW5nXG5cdCAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuXHQgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBvYmplY3QsIGVsc2UgYGZhbHNlYC5cblx0ICogQGV4YW1wbGVcblx0ICpcblx0ICogXy5pc09iamVjdCh7fSk7XG5cdCAqIC8vID0+IHRydWVcblx0ICpcblx0ICogXy5pc09iamVjdChbMSwgMiwgM10pO1xuXHQgKiAvLyA9PiB0cnVlXG5cdCAqXG5cdCAqIF8uaXNPYmplY3QoMSk7XG5cdCAqIC8vID0+IGZhbHNlXG5cdCAqL1xuXHRmdW5jdGlvbiBpc09iamVjdCh2YWx1ZSkge1xuXHQgIC8vIEF2b2lkIGEgVjggSklUIGJ1ZyBpbiBDaHJvbWUgMTktMjAuXG5cdCAgLy8gU2VlIGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvdjgvaXNzdWVzL2RldGFpbD9pZD0yMjkxIGZvciBtb3JlIGRldGFpbHMuXG5cdCAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG5cdCAgcmV0dXJuICEhdmFsdWUgJiYgKHR5cGUgPT0gJ29iamVjdCcgfHwgdHlwZSA9PSAnZnVuY3Rpb24nKTtcblx0fVxuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBiYXNlQ3JlYXRlO1xuXG5cbi8qKiovIH0sXG4vKiA4NSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0LyoqXG5cdCAqIGxvZGFzaCAzLjYuMSAoQ3VzdG9tIEJ1aWxkKSA8aHR0cHM6Ly9sb2Rhc2guY29tLz5cblx0ICogQnVpbGQ6IGBsb2Rhc2ggbW9kZXJuIG1vZHVsYXJpemUgZXhwb3J0cz1cIm5wbVwiIC1vIC4vYFxuXHQgKiBDb3B5cmlnaHQgMjAxMi0yMDE1IFRoZSBEb2pvIEZvdW5kYXRpb24gPGh0dHA6Ly9kb2pvZm91bmRhdGlvbi5vcmcvPlxuXHQgKiBCYXNlZCBvbiBVbmRlcnNjb3JlLmpzIDEuOC4zIDxodHRwOi8vdW5kZXJzY29yZWpzLm9yZy9MSUNFTlNFPlxuXHQgKiBDb3B5cmlnaHQgMjAwOS0yMDE1IEplcmVteSBBc2hrZW5hcywgRG9jdW1lbnRDbG91ZCBhbmQgSW52ZXN0aWdhdGl2ZSBSZXBvcnRlcnMgJiBFZGl0b3JzXG5cdCAqIEF2YWlsYWJsZSB1bmRlciBNSVQgbGljZW5zZSA8aHR0cHM6Ly9sb2Rhc2guY29tL2xpY2Vuc2U+XG5cdCAqL1xuXHRcblx0LyoqIFVzZWQgYXMgdGhlIGBUeXBlRXJyb3JgIG1lc3NhZ2UgZm9yIFwiRnVuY3Rpb25zXCIgbWV0aG9kcy4gKi9cblx0dmFyIEZVTkNfRVJST1JfVEVYVCA9ICdFeHBlY3RlZCBhIGZ1bmN0aW9uJztcblx0XG5cdC8qIE5hdGl2ZSBtZXRob2QgcmVmZXJlbmNlcyBmb3IgdGhvc2Ugd2l0aCB0aGUgc2FtZSBuYW1lIGFzIG90aGVyIGBsb2Rhc2hgIG1ldGhvZHMuICovXG5cdHZhciBuYXRpdmVNYXggPSBNYXRoLm1heDtcblx0XG5cdC8qKlxuXHQgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBvZiB0aGVcblx0ICogY3JlYXRlZCBmdW5jdGlvbiBhbmQgYXJndW1lbnRzIGZyb20gYHN0YXJ0YCBhbmQgYmV5b25kIHByb3ZpZGVkIGFzIGFuIGFycmF5LlxuXHQgKlxuXHQgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgYmFzZWQgb24gdGhlIFtyZXN0IHBhcmFtZXRlcl0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvRnVuY3Rpb25zL3Jlc3RfcGFyYW1ldGVycykuXG5cdCAqXG5cdCAqIEBzdGF0aWNcblx0ICogQG1lbWJlck9mIF9cblx0ICogQGNhdGVnb3J5IEZ1bmN0aW9uXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFwcGx5IGEgcmVzdCBwYXJhbWV0ZXIgdG8uXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9ZnVuYy5sZW5ndGgtMV0gVGhlIHN0YXJ0IHBvc2l0aW9uIG9mIHRoZSByZXN0IHBhcmFtZXRlci5cblx0ICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG5cdCAqIEBleGFtcGxlXG5cdCAqXG5cdCAqIHZhciBzYXkgPSBfLnJlc3RQYXJhbShmdW5jdGlvbih3aGF0LCBuYW1lcykge1xuXHQgKiAgIHJldHVybiB3aGF0ICsgJyAnICsgXy5pbml0aWFsKG5hbWVzKS5qb2luKCcsICcpICtcblx0ICogICAgIChfLnNpemUobmFtZXMpID4gMSA/ICcsICYgJyA6ICcnKSArIF8ubGFzdChuYW1lcyk7XG5cdCAqIH0pO1xuXHQgKlxuXHQgKiBzYXkoJ2hlbGxvJywgJ2ZyZWQnLCAnYmFybmV5JywgJ3BlYmJsZXMnKTtcblx0ICogLy8gPT4gJ2hlbGxvIGZyZWQsIGJhcm5leSwgJiBwZWJibGVzJ1xuXHQgKi9cblx0ZnVuY3Rpb24gcmVzdFBhcmFtKGZ1bmMsIHN0YXJ0KSB7XG5cdCAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcblx0ICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcblx0ICB9XG5cdCAgc3RhcnQgPSBuYXRpdmVNYXgoc3RhcnQgPT09IHVuZGVmaW5lZCA/IChmdW5jLmxlbmd0aCAtIDEpIDogKCtzdGFydCB8fCAwKSwgMCk7XG5cdCAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuXHQgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHMsXG5cdCAgICAgICAgaW5kZXggPSAtMSxcblx0ICAgICAgICBsZW5ndGggPSBuYXRpdmVNYXgoYXJncy5sZW5ndGggLSBzdGFydCwgMCksXG5cdCAgICAgICAgcmVzdCA9IEFycmF5KGxlbmd0aCk7XG5cdFxuXHQgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcblx0ICAgICAgcmVzdFtpbmRleF0gPSBhcmdzW3N0YXJ0ICsgaW5kZXhdO1xuXHQgICAgfVxuXHQgICAgc3dpdGNoIChzdGFydCkge1xuXHQgICAgICBjYXNlIDA6IHJldHVybiBmdW5jLmNhbGwodGhpcywgcmVzdCk7XG5cdCAgICAgIGNhc2UgMTogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzLCBhcmdzWzBdLCByZXN0KTtcblx0ICAgICAgY2FzZSAyOiByZXR1cm4gZnVuYy5jYWxsKHRoaXMsIGFyZ3NbMF0sIGFyZ3NbMV0sIHJlc3QpO1xuXHQgICAgfVxuXHQgICAgdmFyIG90aGVyQXJncyA9IEFycmF5KHN0YXJ0ICsgMSk7XG5cdCAgICBpbmRleCA9IC0xO1xuXHQgICAgd2hpbGUgKCsraW5kZXggPCBzdGFydCkge1xuXHQgICAgICBvdGhlckFyZ3NbaW5kZXhdID0gYXJnc1tpbmRleF07XG5cdCAgICB9XG5cdCAgICBvdGhlckFyZ3Nbc3RhcnRdID0gcmVzdDtcblx0ICAgIHJldHVybiBmdW5jLmFwcGx5KHRoaXMsIG90aGVyQXJncyk7XG5cdCAgfTtcblx0fVxuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSByZXN0UGFyYW07XG5cblxuLyoqKi8gfSxcbi8qIDg2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKipcblx0ICogbG9kYXNoIDMuMC4xIChDdXN0b20gQnVpbGQpIDxodHRwczovL2xvZGFzaC5jb20vPlxuXHQgKiBCdWlsZDogYGxvZGFzaCBtb2Rlcm4gbW9kdWxhcml6ZSBleHBvcnRzPVwibnBtXCIgLW8gLi9gXG5cdCAqIENvcHlyaWdodCAyMDEyLTIwMTUgVGhlIERvam8gRm91bmRhdGlvbiA8aHR0cDovL2Rvam9mb3VuZGF0aW9uLm9yZy8+XG5cdCAqIEJhc2VkIG9uIFVuZGVyc2NvcmUuanMgMS44LjMgPGh0dHA6Ly91bmRlcnNjb3JlanMub3JnL0xJQ0VOU0U+XG5cdCAqIENvcHlyaWdodCAyMDA5LTIwMTUgSmVyZW15IEFzaGtlbmFzLCBEb2N1bWVudENsb3VkIGFuZCBJbnZlc3RpZ2F0aXZlIFJlcG9ydGVycyAmIEVkaXRvcnNcblx0ICogQXZhaWxhYmxlIHVuZGVyIE1JVCBsaWNlbnNlIDxodHRwczovL2xvZGFzaC5jb20vbGljZW5zZT5cblx0ICovXG5cdHZhciBpc0l0ZXJhdGVlQ2FsbCA9IF9fd2VicGFja19yZXF1aXJlX18oODcpO1xuXHRcblx0LyogTmF0aXZlIG1ldGhvZCByZWZlcmVuY2VzIGZvciB0aG9zZSB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgb3RoZXIgYGxvZGFzaGAgbWV0aG9kcy4gKi9cblx0dmFyIG5hdGl2ZUNlaWwgPSBNYXRoLmNlaWwsXG5cdCAgICBuYXRpdmVNYXggPSBNYXRoLm1heDtcblx0XG5cdC8qKlxuXHQgKiBDcmVhdGVzIGFuIGFycmF5IG9mIG51bWJlcnMgKHBvc2l0aXZlIGFuZC9vciBuZWdhdGl2ZSkgcHJvZ3Jlc3NpbmcgZnJvbVxuXHQgKiBgc3RhcnRgIHVwIHRvLCBidXQgbm90IGluY2x1ZGluZywgYGVuZGAuIElmIGBlbmRgIGlzIG5vdCBzcGVjaWZpZWQgaXQgaXNcblx0ICogc2V0IHRvIGBzdGFydGAgd2l0aCBgc3RhcnRgIHRoZW4gc2V0IHRvIGAwYC4gSWYgYGVuZGAgaXMgbGVzcyB0aGFuIGBzdGFydGBcblx0ICogYSB6ZXJvLWxlbmd0aCByYW5nZSBpcyBjcmVhdGVkIHVubGVzcyBhIG5lZ2F0aXZlIGBzdGVwYCBpcyBzcGVjaWZpZWQuXG5cdCAqXG5cdCAqIEBzdGF0aWNcblx0ICogQG1lbWJlck9mIF9cblx0ICogQGNhdGVnb3J5IFV0aWxpdHlcblx0ICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD0wXSBUaGUgc3RhcnQgb2YgdGhlIHJhbmdlLlxuXHQgKiBAcGFyYW0ge251bWJlcn0gZW5kIFRoZSBlbmQgb2YgdGhlIHJhbmdlLlxuXHQgKiBAcGFyYW0ge251bWJlcn0gW3N0ZXA9MV0gVGhlIHZhbHVlIHRvIGluY3JlbWVudCBvciBkZWNyZW1lbnQgYnkuXG5cdCAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIG51bWJlcnMuXG5cdCAqIEBleGFtcGxlXG5cdCAqXG5cdCAqIF8ucmFuZ2UoNCk7XG5cdCAqIC8vID0+IFswLCAxLCAyLCAzXVxuXHQgKlxuXHQgKiBfLnJhbmdlKDEsIDUpO1xuXHQgKiAvLyA9PiBbMSwgMiwgMywgNF1cblx0ICpcblx0ICogXy5yYW5nZSgwLCAyMCwgNSk7XG5cdCAqIC8vID0+IFswLCA1LCAxMCwgMTVdXG5cdCAqXG5cdCAqIF8ucmFuZ2UoMCwgLTQsIC0xKTtcblx0ICogLy8gPT4gWzAsIC0xLCAtMiwgLTNdXG5cdCAqXG5cdCAqIF8ucmFuZ2UoMSwgNCwgMCk7XG5cdCAqIC8vID0+IFsxLCAxLCAxXVxuXHQgKlxuXHQgKiBfLnJhbmdlKDApO1xuXHQgKiAvLyA9PiBbXVxuXHQgKi9cblx0ZnVuY3Rpb24gcmFuZ2Uoc3RhcnQsIGVuZCwgc3RlcCkge1xuXHQgIGlmIChzdGVwICYmIGlzSXRlcmF0ZWVDYWxsKHN0YXJ0LCBlbmQsIHN0ZXApKSB7XG5cdCAgICBlbmQgPSBzdGVwID0gdW5kZWZpbmVkO1xuXHQgIH1cblx0ICBzdGFydCA9ICtzdGFydCB8fCAwO1xuXHQgIHN0ZXAgPSBzdGVwID09IG51bGwgPyAxIDogKCtzdGVwIHx8IDApO1xuXHRcblx0ICBpZiAoZW5kID09IG51bGwpIHtcblx0ICAgIGVuZCA9IHN0YXJ0O1xuXHQgICAgc3RhcnQgPSAwO1xuXHQgIH0gZWxzZSB7XG5cdCAgICBlbmQgPSArZW5kIHx8IDA7XG5cdCAgfVxuXHQgIC8vIFVzZSBgQXJyYXkobGVuZ3RoKWAgc28gZW5naW5lcyBsaWtlIENoYWtyYSBhbmQgVjggYXZvaWQgc2xvd2VyIG1vZGVzLlxuXHQgIC8vIFNlZSBodHRwczovL3lvdXR1LmJlL1hBcUlwR1U4WlprI3Q9MTdtMjVzIGZvciBtb3JlIGRldGFpbHMuXG5cdCAgdmFyIGluZGV4ID0gLTEsXG5cdCAgICAgIGxlbmd0aCA9IG5hdGl2ZU1heChuYXRpdmVDZWlsKChlbmQgLSBzdGFydCkgLyAoc3RlcCB8fCAxKSksIDApLFxuXHQgICAgICByZXN1bHQgPSBBcnJheShsZW5ndGgpO1xuXHRcblx0ICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuXHQgICAgcmVzdWx0W2luZGV4XSA9IHN0YXJ0O1xuXHQgICAgc3RhcnQgKz0gc3RlcDtcblx0ICB9XG5cdCAgcmV0dXJuIHJlc3VsdDtcblx0fVxuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSByYW5nZTtcblxuXG4vKioqLyB9LFxuLyogODcgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8qKlxuXHQgKiBsb2Rhc2ggMy4wLjkgKEN1c3RvbSBCdWlsZCkgPGh0dHBzOi8vbG9kYXNoLmNvbS8+XG5cdCAqIEJ1aWxkOiBgbG9kYXNoIG1vZGVybiBtb2R1bGFyaXplIGV4cG9ydHM9XCJucG1cIiAtbyAuL2Bcblx0ICogQ29weXJpZ2h0IDIwMTItMjAxNSBUaGUgRG9qbyBGb3VuZGF0aW9uIDxodHRwOi8vZG9qb2ZvdW5kYXRpb24ub3JnLz5cblx0ICogQmFzZWQgb24gVW5kZXJzY29yZS5qcyAxLjguMyA8aHR0cDovL3VuZGVyc2NvcmVqcy5vcmcvTElDRU5TRT5cblx0ICogQ29weXJpZ2h0IDIwMDktMjAxNSBKZXJlbXkgQXNoa2VuYXMsIERvY3VtZW50Q2xvdWQgYW5kIEludmVzdGlnYXRpdmUgUmVwb3J0ZXJzICYgRWRpdG9yc1xuXHQgKiBBdmFpbGFibGUgdW5kZXIgTUlUIGxpY2Vuc2UgPGh0dHBzOi8vbG9kYXNoLmNvbS9saWNlbnNlPlxuXHQgKi9cblx0XG5cdC8qKiBVc2VkIHRvIGRldGVjdCB1bnNpZ25lZCBpbnRlZ2VyIHZhbHVlcy4gKi9cblx0dmFyIHJlSXNVaW50ID0gL15cXGQrJC87XG5cdFxuXHQvKipcblx0ICogVXNlZCBhcyB0aGUgW21heGltdW0gbGVuZ3RoXShodHRwczovL3Blb3BsZS5tb3ppbGxhLm9yZy9+am9yZW5kb3JmZi9lczYtZHJhZnQuaHRtbCNzZWMtbnVtYmVyLm1heF9zYWZlX2ludGVnZXIpXG5cdCAqIG9mIGFuIGFycmF5LWxpa2UgdmFsdWUuXG5cdCAqL1xuXHR2YXIgTUFYX1NBRkVfSU5URUdFUiA9IDkwMDcxOTkyNTQ3NDA5OTE7XG5cdFxuXHQvKipcblx0ICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucHJvcGVydHlgIHdpdGhvdXQgc3VwcG9ydCBmb3IgZGVlcCBwYXRocy5cblx0ICpcblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG5cdCAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuXHQgKi9cblx0ZnVuY3Rpb24gYmFzZVByb3BlcnR5KGtleSkge1xuXHQgIHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcblx0ICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IG9iamVjdFtrZXldO1xuXHQgIH07XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBHZXRzIHRoZSBcImxlbmd0aFwiIHByb3BlcnR5IHZhbHVlIG9mIGBvYmplY3RgLlxuXHQgKlxuXHQgKiAqKk5vdGU6KiogVGhpcyBmdW5jdGlvbiBpcyB1c2VkIHRvIGF2b2lkIGEgW0pJVCBidWddKGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD0xNDI3OTIpXG5cdCAqIHRoYXQgYWZmZWN0cyBTYWZhcmkgb24gYXQgbGVhc3QgaU9TIDguMS04LjMgQVJNNjQuXG5cdCAqXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cblx0ICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIFwibGVuZ3RoXCIgdmFsdWUuXG5cdCAqL1xuXHR2YXIgZ2V0TGVuZ3RoID0gYmFzZVByb3BlcnR5KCdsZW5ndGgnKTtcblx0XG5cdC8qKlxuXHQgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhcnJheS1saWtlLlxuXHQgKlxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cblx0ICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYXJyYXktbGlrZSwgZWxzZSBgZmFsc2VgLlxuXHQgKi9cblx0ZnVuY3Rpb24gaXNBcnJheUxpa2UodmFsdWUpIHtcblx0ICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiBpc0xlbmd0aChnZXRMZW5ndGgodmFsdWUpKTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgYXJyYXktbGlrZSBpbmRleC5cblx0ICpcblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBbbGVuZ3RoPU1BWF9TQUZFX0lOVEVHRVJdIFRoZSB1cHBlciBib3VuZHMgb2YgYSB2YWxpZCBpbmRleC5cblx0ICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBpbmRleCwgZWxzZSBgZmFsc2VgLlxuXHQgKi9cblx0ZnVuY3Rpb24gaXNJbmRleCh2YWx1ZSwgbGVuZ3RoKSB7XG5cdCAgdmFsdWUgPSAodHlwZW9mIHZhbHVlID09ICdudW1iZXInIHx8IHJlSXNVaW50LnRlc3QodmFsdWUpKSA/ICt2YWx1ZSA6IC0xO1xuXHQgIGxlbmd0aCA9IGxlbmd0aCA9PSBudWxsID8gTUFYX1NBRkVfSU5URUdFUiA6IGxlbmd0aDtcblx0ICByZXR1cm4gdmFsdWUgPiAtMSAmJiB2YWx1ZSAlIDEgPT0gMCAmJiB2YWx1ZSA8IGxlbmd0aDtcblx0fVxuXHRcblx0LyoqXG5cdCAqIENoZWNrcyBpZiB0aGUgcHJvdmlkZWQgYXJndW1lbnRzIGFyZSBmcm9tIGFuIGl0ZXJhdGVlIGNhbGwuXG5cdCAqXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHBvdGVudGlhbCBpdGVyYXRlZSB2YWx1ZSBhcmd1bWVudC5cblx0ICogQHBhcmFtIHsqfSBpbmRleCBUaGUgcG90ZW50aWFsIGl0ZXJhdGVlIGluZGV4IG9yIGtleSBhcmd1bWVudC5cblx0ICogQHBhcmFtIHsqfSBvYmplY3QgVGhlIHBvdGVudGlhbCBpdGVyYXRlZSBvYmplY3QgYXJndW1lbnQuXG5cdCAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgYXJndW1lbnRzIGFyZSBmcm9tIGFuIGl0ZXJhdGVlIGNhbGwsIGVsc2UgYGZhbHNlYC5cblx0ICovXG5cdGZ1bmN0aW9uIGlzSXRlcmF0ZWVDYWxsKHZhbHVlLCBpbmRleCwgb2JqZWN0KSB7XG5cdCAgaWYgKCFpc09iamVjdChvYmplY3QpKSB7XG5cdCAgICByZXR1cm4gZmFsc2U7XG5cdCAgfVxuXHQgIHZhciB0eXBlID0gdHlwZW9mIGluZGV4O1xuXHQgIGlmICh0eXBlID09ICdudW1iZXInXG5cdCAgICAgID8gKGlzQXJyYXlMaWtlKG9iamVjdCkgJiYgaXNJbmRleChpbmRleCwgb2JqZWN0Lmxlbmd0aCkpXG5cdCAgICAgIDogKHR5cGUgPT0gJ3N0cmluZycgJiYgaW5kZXggaW4gb2JqZWN0KSkge1xuXHQgICAgdmFyIG90aGVyID0gb2JqZWN0W2luZGV4XTtcblx0ICAgIHJldHVybiB2YWx1ZSA9PT0gdmFsdWUgPyAodmFsdWUgPT09IG90aGVyKSA6IChvdGhlciAhPT0gb3RoZXIpO1xuXHQgIH1cblx0ICByZXR1cm4gZmFsc2U7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGFycmF5LWxpa2UgbGVuZ3RoLlxuXHQgKlxuXHQgKiAqKk5vdGU6KiogVGhpcyBmdW5jdGlvbiBpcyBiYXNlZCBvbiBbYFRvTGVuZ3RoYF0oaHR0cHM6Ly9wZW9wbGUubW96aWxsYS5vcmcvfmpvcmVuZG9yZmYvZXM2LWRyYWZ0Lmh0bWwjc2VjLXRvbGVuZ3RoKS5cblx0ICpcblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG5cdCAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgbGVuZ3RoLCBlbHNlIGBmYWxzZWAuXG5cdCAqL1xuXHRmdW5jdGlvbiBpc0xlbmd0aCh2YWx1ZSkge1xuXHQgIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicgJiYgdmFsdWUgPiAtMSAmJiB2YWx1ZSAlIDEgPT0gMCAmJiB2YWx1ZSA8PSBNQVhfU0FGRV9JTlRFR0VSO1xuXHR9XG5cdFxuXHQvKipcblx0ICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgdGhlIFtsYW5ndWFnZSB0eXBlXShodHRwczovL2VzNS5naXRodWIuaW8vI3g4KSBvZiBgT2JqZWN0YC5cblx0ICogKGUuZy4gYXJyYXlzLCBmdW5jdGlvbnMsIG9iamVjdHMsIHJlZ2V4ZXMsIGBuZXcgTnVtYmVyKDApYCwgYW5kIGBuZXcgU3RyaW5nKCcnKWApXG5cdCAqXG5cdCAqIEBzdGF0aWNcblx0ICogQG1lbWJlck9mIF9cblx0ICogQGNhdGVnb3J5IExhbmdcblx0ICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG5cdCAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuXHQgKiBAZXhhbXBsZVxuXHQgKlxuXHQgKiBfLmlzT2JqZWN0KHt9KTtcblx0ICogLy8gPT4gdHJ1ZVxuXHQgKlxuXHQgKiBfLmlzT2JqZWN0KFsxLCAyLCAzXSk7XG5cdCAqIC8vID0+IHRydWVcblx0ICpcblx0ICogXy5pc09iamVjdCgxKTtcblx0ICogLy8gPT4gZmFsc2Vcblx0ICovXG5cdGZ1bmN0aW9uIGlzT2JqZWN0KHZhbHVlKSB7XG5cdCAgLy8gQXZvaWQgYSBWOCBKSVQgYnVnIGluIENocm9tZSAxOS0yMC5cblx0ICAvLyBTZWUgaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTIyOTEgZm9yIG1vcmUgZGV0YWlscy5cblx0ICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcblx0ICByZXR1cm4gISF2YWx1ZSAmJiAodHlwZSA9PSAnb2JqZWN0JyB8fCB0eXBlID09ICdmdW5jdGlvbicpO1xuXHR9XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGlzSXRlcmF0ZWVDYWxsO1xuXG5cbi8qKiovIH0sXG4vKiA4OCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyoqXG5cdCAqIGxvZGFzaCAzLjcuNCAoQ3VzdG9tIEJ1aWxkKSA8aHR0cHM6Ly9sb2Rhc2guY29tLz5cblx0ICogQnVpbGQ6IGBsb2Rhc2ggbW9kZXJuIG1vZHVsYXJpemUgZXhwb3J0cz1cIm5wbVwiIC1vIC4vYFxuXHQgKiBDb3B5cmlnaHQgMjAxMi0yMDE1IFRoZSBEb2pvIEZvdW5kYXRpb24gPGh0dHA6Ly9kb2pvZm91bmRhdGlvbi5vcmcvPlxuXHQgKiBCYXNlZCBvbiBVbmRlcnNjb3JlLmpzIDEuOC4zIDxodHRwOi8vdW5kZXJzY29yZWpzLm9yZy9MSUNFTlNFPlxuXHQgKiBDb3B5cmlnaHQgMjAwOS0yMDE1IEplcmVteSBBc2hrZW5hcywgRG9jdW1lbnRDbG91ZCBhbmQgSW52ZXN0aWdhdGl2ZSBSZXBvcnRlcnMgJiBFZGl0b3JzXG5cdCAqIEF2YWlsYWJsZSB1bmRlciBNSVQgbGljZW5zZSA8aHR0cHM6Ly9sb2Rhc2guY29tL2xpY2Vuc2U+XG5cdCAqL1xuXHR2YXIgdG9QYXRoID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4OSksXG5cdCAgICBpc0FycmF5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNik7XG5cdFxuXHQvKiogVXNlZCB0byBtYXRjaCBwcm9wZXJ0eSBuYW1lcyB3aXRoaW4gcHJvcGVydHkgcGF0aHMuICovXG5cdHZhciByZUlzRGVlcFByb3AgPSAvXFwufFxcWyg/OlteW1xcXV0qfChbXCInXSkoPzooPyFcXDEpW15cXG5cXFxcXXxcXFxcLikqP1xcMSlcXF0vLFxuXHQgICAgcmVJc1BsYWluUHJvcCA9IC9eXFx3KiQvO1xuXHRcblx0LyoqIFVzZWQgdG8gZGV0ZWN0IHVuc2lnbmVkIGludGVnZXIgdmFsdWVzLiAqL1xuXHR2YXIgcmVJc1VpbnQgPSAvXlxcZCskLztcblx0XG5cdC8qKlxuXHQgKiBVc2VkIGFzIHRoZSBbbWF4aW11bSBsZW5ndGhdKGh0dHBzOi8vcGVvcGxlLm1vemlsbGEub3JnL35qb3JlbmRvcmZmL2VzNi1kcmFmdC5odG1sI3NlYy1udW1iZXIubWF4X3NhZmVfaW50ZWdlcilcblx0ICogb2YgYW4gYXJyYXktbGlrZSB2YWx1ZS5cblx0ICovXG5cdHZhciBNQVhfU0FGRV9JTlRFR0VSID0gOTAwNzE5OTI1NDc0MDk5MTtcblx0XG5cdC8qKlxuXHQgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGFycmF5LWxpa2UgaW5kZXguXG5cdCAqXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuXHQgKiBAcGFyYW0ge251bWJlcn0gW2xlbmd0aD1NQVhfU0FGRV9JTlRFR0VSXSBUaGUgdXBwZXIgYm91bmRzIG9mIGEgdmFsaWQgaW5kZXguXG5cdCAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgaW5kZXgsIGVsc2UgYGZhbHNlYC5cblx0ICovXG5cdGZ1bmN0aW9uIGlzSW5kZXgodmFsdWUsIGxlbmd0aCkge1xuXHQgIHZhbHVlID0gKHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyB8fCByZUlzVWludC50ZXN0KHZhbHVlKSkgPyArdmFsdWUgOiAtMTtcblx0ICBsZW5ndGggPSBsZW5ndGggPT0gbnVsbCA/IE1BWF9TQUZFX0lOVEVHRVIgOiBsZW5ndGg7XG5cdCAgcmV0dXJuIHZhbHVlID4gLTEgJiYgdmFsdWUgJSAxID09IDAgJiYgdmFsdWUgPCBsZW5ndGg7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHByb3BlcnR5IG5hbWUgYW5kIG5vdCBhIHByb3BlcnR5IHBhdGguXG5cdCAqXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuXHQgKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIG9iamVjdCB0byBxdWVyeSBrZXlzIG9uLlxuXHQgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHByb3BlcnR5IG5hbWUsIGVsc2UgYGZhbHNlYC5cblx0ICovXG5cdGZ1bmN0aW9uIGlzS2V5KHZhbHVlLCBvYmplY3QpIHtcblx0ICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcblx0ICBpZiAoKHR5cGUgPT0gJ3N0cmluZycgJiYgcmVJc1BsYWluUHJvcC50ZXN0KHZhbHVlKSkgfHwgdHlwZSA9PSAnbnVtYmVyJykge1xuXHQgICAgcmV0dXJuIHRydWU7XG5cdCAgfVxuXHQgIGlmIChpc0FycmF5KHZhbHVlKSkge1xuXHQgICAgcmV0dXJuIGZhbHNlO1xuXHQgIH1cblx0ICB2YXIgcmVzdWx0ID0gIXJlSXNEZWVwUHJvcC50ZXN0KHZhbHVlKTtcblx0ICByZXR1cm4gcmVzdWx0IHx8IChvYmplY3QgIT0gbnVsbCAmJiB2YWx1ZSBpbiB0b09iamVjdChvYmplY3QpKTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYW4gb2JqZWN0IGlmIGl0J3Mgbm90IG9uZS5cblx0ICpcblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcHJvY2Vzcy5cblx0ICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgb2JqZWN0LlxuXHQgKi9cblx0ZnVuY3Rpb24gdG9PYmplY3QodmFsdWUpIHtcblx0ICByZXR1cm4gaXNPYmplY3QodmFsdWUpID8gdmFsdWUgOiBPYmplY3QodmFsdWUpO1xuXHR9XG5cdFxuXHQvKipcblx0ICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgdGhlIFtsYW5ndWFnZSB0eXBlXShodHRwczovL2VzNS5naXRodWIuaW8vI3g4KSBvZiBgT2JqZWN0YC5cblx0ICogKGUuZy4gYXJyYXlzLCBmdW5jdGlvbnMsIG9iamVjdHMsIHJlZ2V4ZXMsIGBuZXcgTnVtYmVyKDApYCwgYW5kIGBuZXcgU3RyaW5nKCcnKWApXG5cdCAqXG5cdCAqIEBzdGF0aWNcblx0ICogQG1lbWJlck9mIF9cblx0ICogQGNhdGVnb3J5IExhbmdcblx0ICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG5cdCAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuXHQgKiBAZXhhbXBsZVxuXHQgKlxuXHQgKiBfLmlzT2JqZWN0KHt9KTtcblx0ICogLy8gPT4gdHJ1ZVxuXHQgKlxuXHQgKiBfLmlzT2JqZWN0KFsxLCAyLCAzXSk7XG5cdCAqIC8vID0+IHRydWVcblx0ICpcblx0ICogXy5pc09iamVjdCgxKTtcblx0ICogLy8gPT4gZmFsc2Vcblx0ICovXG5cdGZ1bmN0aW9uIGlzT2JqZWN0KHZhbHVlKSB7XG5cdCAgLy8gQXZvaWQgYSBWOCBKSVQgYnVnIGluIENocm9tZSAxOS0yMC5cblx0ICAvLyBTZWUgaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTIyOTEgZm9yIG1vcmUgZGV0YWlscy5cblx0ICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcblx0ICByZXR1cm4gISF2YWx1ZSAmJiAodHlwZSA9PSAnb2JqZWN0JyB8fCB0eXBlID09ICdmdW5jdGlvbicpO1xuXHR9XG5cdFxuXHQvKipcblx0ICogU2V0cyB0aGUgcHJvcGVydHkgdmFsdWUgb2YgYHBhdGhgIG9uIGBvYmplY3RgLiBJZiBhIHBvcnRpb24gb2YgYHBhdGhgXG5cdCAqIGRvZXMgbm90IGV4aXN0IGl0IGlzIGNyZWF0ZWQuXG5cdCAqXG5cdCAqIEBzdGF0aWNcblx0ICogQG1lbWJlck9mIF9cblx0ICogQGNhdGVnb3J5IE9iamVjdFxuXHQgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gYXVnbWVudC5cblx0ICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIHNldC5cblx0ICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuXHQgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuXHQgKiBAZXhhbXBsZVxuXHQgKlxuXHQgKiB2YXIgb2JqZWN0ID0geyAnYSc6IFt7ICdiJzogeyAnYyc6IDMgfSB9XSB9O1xuXHQgKlxuXHQgKiBfLnNldChvYmplY3QsICdhWzBdLmIuYycsIDQpO1xuXHQgKiBjb25zb2xlLmxvZyhvYmplY3QuYVswXS5iLmMpO1xuXHQgKiAvLyA9PiA0XG5cdCAqXG5cdCAqIF8uc2V0KG9iamVjdCwgJ3hbMF0ueS56JywgNSk7XG5cdCAqIGNvbnNvbGUubG9nKG9iamVjdC54WzBdLnkueik7XG5cdCAqIC8vID0+IDVcblx0ICovXG5cdGZ1bmN0aW9uIHNldChvYmplY3QsIHBhdGgsIHZhbHVlKSB7XG5cdCAgaWYgKG9iamVjdCA9PSBudWxsKSB7XG5cdCAgICByZXR1cm4gb2JqZWN0O1xuXHQgIH1cblx0ICB2YXIgcGF0aEtleSA9IChwYXRoICsgJycpO1xuXHQgIHBhdGggPSAob2JqZWN0W3BhdGhLZXldICE9IG51bGwgfHwgaXNLZXkocGF0aCwgb2JqZWN0KSkgPyBbcGF0aEtleV0gOiB0b1BhdGgocGF0aCk7XG5cdFxuXHQgIHZhciBpbmRleCA9IC0xLFxuXHQgICAgICBsZW5ndGggPSBwYXRoLmxlbmd0aCxcblx0ICAgICAgbGFzdEluZGV4ID0gbGVuZ3RoIC0gMSxcblx0ICAgICAgbmVzdGVkID0gb2JqZWN0O1xuXHRcblx0ICB3aGlsZSAobmVzdGVkICE9IG51bGwgJiYgKytpbmRleCA8IGxlbmd0aCkge1xuXHQgICAgdmFyIGtleSA9IHBhdGhbaW5kZXhdO1xuXHQgICAgaWYgKGlzT2JqZWN0KG5lc3RlZCkpIHtcblx0ICAgICAgaWYgKGluZGV4ID09IGxhc3RJbmRleCkge1xuXHQgICAgICAgIG5lc3RlZFtrZXldID0gdmFsdWU7XG5cdCAgICAgIH0gZWxzZSBpZiAobmVzdGVkW2tleV0gPT0gbnVsbCkge1xuXHQgICAgICAgIG5lc3RlZFtrZXldID0gaXNJbmRleChwYXRoW2luZGV4ICsgMV0pID8gW10gOiB7fTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgICAgbmVzdGVkID0gbmVzdGVkW2tleV07XG5cdCAgfVxuXHQgIHJldHVybiBvYmplY3Q7XG5cdH1cblx0XG5cdG1vZHVsZS5leHBvcnRzID0gc2V0O1xuXG5cbi8qKiovIH0sXG4vKiA4OSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyoqXG5cdCAqIGxvZGFzaCAzLjguMSAoQ3VzdG9tIEJ1aWxkKSA8aHR0cHM6Ly9sb2Rhc2guY29tLz5cblx0ICogQnVpbGQ6IGBsb2Rhc2ggbW9kZXJuIG1vZHVsYXJpemUgZXhwb3J0cz1cIm5wbVwiIC1vIC4vYFxuXHQgKiBDb3B5cmlnaHQgMjAxMi0yMDE1IFRoZSBEb2pvIEZvdW5kYXRpb24gPGh0dHA6Ly9kb2pvZm91bmRhdGlvbi5vcmcvPlxuXHQgKiBCYXNlZCBvbiBVbmRlcnNjb3JlLmpzIDEuOC4zIDxodHRwOi8vdW5kZXJzY29yZWpzLm9yZy9MSUNFTlNFPlxuXHQgKiBDb3B5cmlnaHQgMjAwOS0yMDE1IEplcmVteSBBc2hrZW5hcywgRG9jdW1lbnRDbG91ZCBhbmQgSW52ZXN0aWdhdGl2ZSBSZXBvcnRlcnMgJiBFZGl0b3JzXG5cdCAqIEF2YWlsYWJsZSB1bmRlciBNSVQgbGljZW5zZSA8aHR0cHM6Ly9sb2Rhc2guY29tL2xpY2Vuc2U+XG5cdCAqL1xuXHR2YXIgaXNBcnJheSA9IF9fd2VicGFja19yZXF1aXJlX18oMzYpO1xuXHRcblx0LyoqIFVzZWQgdG8gbWF0Y2ggcHJvcGVydHkgbmFtZXMgd2l0aGluIHByb3BlcnR5IHBhdGhzLiAqL1xuXHR2YXIgcmVQcm9wTmFtZSA9IC9bXi5bXFxdXSt8XFxbKD86KC0/XFxkKyg/OlxcLlxcZCspPyl8KFtcIiddKSgoPzooPyFcXDIpW15cXG5cXFxcXXxcXFxcLikqPylcXDIpXFxdL2c7XG5cdFxuXHQvKiogVXNlZCB0byBtYXRjaCBiYWNrc2xhc2hlcyBpbiBwcm9wZXJ0eSBwYXRocy4gKi9cblx0dmFyIHJlRXNjYXBlQ2hhciA9IC9cXFxcKFxcXFwpPy9nO1xuXHRcblx0LyoqXG5cdCAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBzdHJpbmcgaWYgaXQncyBub3Qgb25lLiBBbiBlbXB0eSBzdHJpbmcgaXMgcmV0dXJuZWRcblx0ICogZm9yIGBudWxsYCBvciBgdW5kZWZpbmVkYCB2YWx1ZXMuXG5cdCAqXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb2Nlc3MuXG5cdCAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHN0cmluZy5cblx0ICovXG5cdGZ1bmN0aW9uIGJhc2VUb1N0cmluZyh2YWx1ZSkge1xuXHQgIHJldHVybiB2YWx1ZSA9PSBudWxsID8gJycgOiAodmFsdWUgKyAnJyk7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIHByb3BlcnR5IHBhdGggYXJyYXkgaWYgaXQncyBub3Qgb25lLlxuXHQgKlxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwcm9jZXNzLlxuXHQgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHByb3BlcnR5IHBhdGggYXJyYXkuXG5cdCAqL1xuXHRmdW5jdGlvbiB0b1BhdGgodmFsdWUpIHtcblx0ICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcblx0ICAgIHJldHVybiB2YWx1ZTtcblx0ICB9XG5cdCAgdmFyIHJlc3VsdCA9IFtdO1xuXHQgIGJhc2VUb1N0cmluZyh2YWx1ZSkucmVwbGFjZShyZVByb3BOYW1lLCBmdW5jdGlvbihtYXRjaCwgbnVtYmVyLCBxdW90ZSwgc3RyaW5nKSB7XG5cdCAgICByZXN1bHQucHVzaChxdW90ZSA/IHN0cmluZy5yZXBsYWNlKHJlRXNjYXBlQ2hhciwgJyQxJykgOiAobnVtYmVyIHx8IG1hdGNoKSk7XG5cdCAgfSk7XG5cdCAgcmV0dXJuIHJlc3VsdDtcblx0fVxuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSB0b1BhdGg7XG5cblxuLyoqKi8gfSxcbi8qIDkwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKipcblx0ICogbG9kYXNoIDMuMC4wIChDdXN0b20gQnVpbGQpIDxodHRwczovL2xvZGFzaC5jb20vPlxuXHQgKiBCdWlsZDogYGxvZGFzaCBtb2Rlcm4gbW9kdWxhcml6ZSBleHBvcnRzPVwibnBtXCIgLW8gLi9gXG5cdCAqIENvcHlyaWdodCAyMDEyLTIwMTUgVGhlIERvam8gRm91bmRhdGlvbiA8aHR0cDovL2Rvam9mb3VuZGF0aW9uLm9yZy8+XG5cdCAqIEJhc2VkIG9uIFVuZGVyc2NvcmUuanMgMS43LjAgPGh0dHA6Ly91bmRlcnNjb3JlanMub3JnL0xJQ0VOU0U+XG5cdCAqIENvcHlyaWdodCAyMDA5LTIwMTUgSmVyZW15IEFzaGtlbmFzLCBEb2N1bWVudENsb3VkIGFuZCBJbnZlc3RpZ2F0aXZlIFJlcG9ydGVycyAmIEVkaXRvcnNcblx0ICogQXZhaWxhYmxlIHVuZGVyIE1JVCBsaWNlbnNlIDxodHRwczovL2xvZGFzaC5jb20vbGljZW5zZT5cblx0ICovXG5cdHZhciBpc0FycmF5ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5MSk7XG5cdFxuXHQvKipcblx0ICogQ3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgZnJvbSBhcnJheXMgb2YgcHJvcGVydHkgbmFtZXMgYW5kIHZhbHVlcy4gUHJvdmlkZVxuXHQgKiBlaXRoZXIgYSBzaW5nbGUgdHdvIGRpbWVuc2lvbmFsIGFycmF5LCBlLmcuIGBbW2tleTEsIHZhbHVlMV0sIFtrZXkyLCB2YWx1ZTJdXWBcblx0ICogb3IgdHdvIGFycmF5cywgb25lIG9mIHByb3BlcnR5IG5hbWVzIGFuZCBvbmUgb2YgY29ycmVzcG9uZGluZyB2YWx1ZXMuXG5cdCAqXG5cdCAqIEBzdGF0aWNcblx0ICogQG1lbWJlck9mIF9cblx0ICogQGFsaWFzIG9iamVjdFxuXHQgKiBAY2F0ZWdvcnkgQXJyYXlcblx0ICogQHBhcmFtIHtBcnJheX0gcHJvcHMgVGhlIHByb3BlcnR5IG5hbWVzLlxuXHQgKiBAcGFyYW0ge0FycmF5fSBbdmFsdWVzPVtdXSBUaGUgcHJvcGVydHkgdmFsdWVzLlxuXHQgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuXHQgKiBAZXhhbXBsZVxuXHQgKlxuXHQgKiBfLnppcE9iamVjdChbJ2ZyZWQnLCAnYmFybmV5J10sIFszMCwgNDBdKTtcblx0ICogLy8gPT4geyAnZnJlZCc6IDMwLCAnYmFybmV5JzogNDAgfVxuXHQgKi9cblx0ZnVuY3Rpb24gemlwT2JqZWN0KHByb3BzLCB2YWx1ZXMpIHtcblx0ICB2YXIgaW5kZXggPSAtMSxcblx0ICAgICAgbGVuZ3RoID0gcHJvcHMgPyBwcm9wcy5sZW5ndGggOiAwLFxuXHQgICAgICByZXN1bHQgPSB7fTtcblx0XG5cdCAgaWYgKGxlbmd0aCAmJiAhdmFsdWVzICYmICFpc0FycmF5KHByb3BzWzBdKSkge1xuXHQgICAgdmFsdWVzID0gW107XG5cdCAgfVxuXHQgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG5cdCAgICB2YXIga2V5ID0gcHJvcHNbaW5kZXhdO1xuXHQgICAgaWYgKHZhbHVlcykge1xuXHQgICAgICByZXN1bHRba2V5XSA9IHZhbHVlc1tpbmRleF07XG5cdCAgICB9IGVsc2UgaWYgKGtleSkge1xuXHQgICAgICByZXN1bHRba2V5WzBdXSA9IGtleVsxXTtcblx0ICAgIH1cblx0ICB9XG5cdCAgcmV0dXJuIHJlc3VsdDtcblx0fVxuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSB6aXBPYmplY3Q7XG5cblxuLyoqKi8gfSxcbi8qIDkxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvKipcblx0ICogbG9kYXNoIDMuMC40IChDdXN0b20gQnVpbGQpIDxodHRwczovL2xvZGFzaC5jb20vPlxuXHQgKiBCdWlsZDogYGxvZGFzaCBtb2Rlcm4gbW9kdWxhcml6ZSBleHBvcnRzPVwibnBtXCIgLW8gLi9gXG5cdCAqIENvcHlyaWdodCAyMDEyLTIwMTUgVGhlIERvam8gRm91bmRhdGlvbiA8aHR0cDovL2Rvam9mb3VuZGF0aW9uLm9yZy8+XG5cdCAqIEJhc2VkIG9uIFVuZGVyc2NvcmUuanMgMS44LjMgPGh0dHA6Ly91bmRlcnNjb3JlanMub3JnL0xJQ0VOU0U+XG5cdCAqIENvcHlyaWdodCAyMDA5LTIwMTUgSmVyZW15IEFzaGtlbmFzLCBEb2N1bWVudENsb3VkIGFuZCBJbnZlc3RpZ2F0aXZlIFJlcG9ydGVycyAmIEVkaXRvcnNcblx0ICogQXZhaWxhYmxlIHVuZGVyIE1JVCBsaWNlbnNlIDxodHRwczovL2xvZGFzaC5jb20vbGljZW5zZT5cblx0ICovXG5cdFxuXHQvKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG5cdHZhciBhcnJheVRhZyA9ICdbb2JqZWN0IEFycmF5XScsXG5cdCAgICBmdW5jVGFnID0gJ1tvYmplY3QgRnVuY3Rpb25dJztcblx0XG5cdC8qKiBVc2VkIHRvIGRldGVjdCBob3N0IGNvbnN0cnVjdG9ycyAoU2FmYXJpID4gNSkuICovXG5cdHZhciByZUlzSG9zdEN0b3IgPSAvXlxcW29iamVjdCAuKz9Db25zdHJ1Y3RvclxcXSQvO1xuXHRcblx0LyoqXG5cdCAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLlxuXHQgKlxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cblx0ICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UsIGVsc2UgYGZhbHNlYC5cblx0ICovXG5cdGZ1bmN0aW9uIGlzT2JqZWN0TGlrZSh2YWx1ZSkge1xuXHQgIHJldHVybiAhIXZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0Jztcblx0fVxuXHRcblx0LyoqIFVzZWQgZm9yIG5hdGl2ZSBtZXRob2QgcmVmZXJlbmNlcy4gKi9cblx0dmFyIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblx0XG5cdC8qKiBVc2VkIHRvIHJlc29sdmUgdGhlIGRlY29tcGlsZWQgc291cmNlIG9mIGZ1bmN0aW9ucy4gKi9cblx0dmFyIGZuVG9TdHJpbmcgPSBGdW5jdGlvbi5wcm90b3R5cGUudG9TdHJpbmc7XG5cdFxuXHQvKiogVXNlZCB0byBjaGVjayBvYmplY3RzIGZvciBvd24gcHJvcGVydGllcy4gKi9cblx0dmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cdFxuXHQvKipcblx0ICogVXNlZCB0byByZXNvbHZlIHRoZSBbYHRvU3RyaW5nVGFnYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNi4wLyNzZWMtb2JqZWN0LnByb3RvdHlwZS50b3N0cmluZylcblx0ICogb2YgdmFsdWVzLlxuXHQgKi9cblx0dmFyIG9ialRvU3RyaW5nID0gb2JqZWN0UHJvdG8udG9TdHJpbmc7XG5cdFxuXHQvKiogVXNlZCB0byBkZXRlY3QgaWYgYSBtZXRob2QgaXMgbmF0aXZlLiAqL1xuXHR2YXIgcmVJc05hdGl2ZSA9IFJlZ0V4cCgnXicgK1xuXHQgIGZuVG9TdHJpbmcuY2FsbChoYXNPd25Qcm9wZXJ0eSkucmVwbGFjZSgvW1xcXFxeJC4qKz8oKVtcXF17fXxdL2csICdcXFxcJCYnKVxuXHQgIC5yZXBsYWNlKC9oYXNPd25Qcm9wZXJ0eXwoZnVuY3Rpb24pLio/KD89XFxcXFxcKCl8IGZvciAuKz8oPz1cXFxcXFxdKS9nLCAnJDEuKj8nKSArICckJ1xuXHQpO1xuXHRcblx0LyogTmF0aXZlIG1ldGhvZCByZWZlcmVuY2VzIGZvciB0aG9zZSB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgb3RoZXIgYGxvZGFzaGAgbWV0aG9kcy4gKi9cblx0dmFyIG5hdGl2ZUlzQXJyYXkgPSBnZXROYXRpdmUoQXJyYXksICdpc0FycmF5Jyk7XG5cdFxuXHQvKipcblx0ICogVXNlZCBhcyB0aGUgW21heGltdW0gbGVuZ3RoXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi82LjAvI3NlYy1udW1iZXIubWF4X3NhZmVfaW50ZWdlcilcblx0ICogb2YgYW4gYXJyYXktbGlrZSB2YWx1ZS5cblx0ICovXG5cdHZhciBNQVhfU0FGRV9JTlRFR0VSID0gOTAwNzE5OTI1NDc0MDk5MTtcblx0XG5cdC8qKlxuXHQgKiBHZXRzIHRoZSBuYXRpdmUgZnVuY3Rpb24gYXQgYGtleWAgb2YgYG9iamVjdGAuXG5cdCAqXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cblx0ICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBtZXRob2QgdG8gZ2V0LlxuXHQgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZnVuY3Rpb24gaWYgaXQncyBuYXRpdmUsIGVsc2UgYHVuZGVmaW5lZGAuXG5cdCAqL1xuXHRmdW5jdGlvbiBnZXROYXRpdmUob2JqZWN0LCBrZXkpIHtcblx0ICB2YXIgdmFsdWUgPSBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IG9iamVjdFtrZXldO1xuXHQgIHJldHVybiBpc05hdGl2ZSh2YWx1ZSkgPyB2YWx1ZSA6IHVuZGVmaW5lZDtcblx0fVxuXHRcblx0LyoqXG5cdCAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgYXJyYXktbGlrZSBsZW5ndGguXG5cdCAqXG5cdCAqICoqTm90ZToqKiBUaGlzIGZ1bmN0aW9uIGlzIGJhc2VkIG9uIFtgVG9MZW5ndGhgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi82LjAvI3NlYy10b2xlbmd0aCkuXG5cdCAqXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuXHQgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGxlbmd0aCwgZWxzZSBgZmFsc2VgLlxuXHQgKi9cblx0ZnVuY3Rpb24gaXNMZW5ndGgodmFsdWUpIHtcblx0ICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdudW1iZXInICYmIHZhbHVlID4gLTEgJiYgdmFsdWUgJSAxID09IDAgJiYgdmFsdWUgPD0gTUFYX1NBRkVfSU5URUdFUjtcblx0fVxuXHRcblx0LyoqXG5cdCAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYW4gYEFycmF5YCBvYmplY3QuXG5cdCAqXG5cdCAqIEBzdGF0aWNcblx0ICogQG1lbWJlck9mIF9cblx0ICogQGNhdGVnb3J5IExhbmdcblx0ICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG5cdCAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGNvcnJlY3RseSBjbGFzc2lmaWVkLCBlbHNlIGBmYWxzZWAuXG5cdCAqIEBleGFtcGxlXG5cdCAqXG5cdCAqIF8uaXNBcnJheShbMSwgMiwgM10pO1xuXHQgKiAvLyA9PiB0cnVlXG5cdCAqXG5cdCAqIF8uaXNBcnJheShmdW5jdGlvbigpIHsgcmV0dXJuIGFyZ3VtZW50czsgfSgpKTtcblx0ICogLy8gPT4gZmFsc2Vcblx0ICovXG5cdHZhciBpc0FycmF5ID0gbmF0aXZlSXNBcnJheSB8fCBmdW5jdGlvbih2YWx1ZSkge1xuXHQgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGlzTGVuZ3RoKHZhbHVlLmxlbmd0aCkgJiYgb2JqVG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT0gYXJyYXlUYWc7XG5cdH07XG5cdFxuXHQvKipcblx0ICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBGdW5jdGlvbmAgb2JqZWN0LlxuXHQgKlxuXHQgKiBAc3RhdGljXG5cdCAqIEBtZW1iZXJPZiBfXG5cdCAqIEBjYXRlZ29yeSBMYW5nXG5cdCAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuXHQgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBjb3JyZWN0bHkgY2xhc3NpZmllZCwgZWxzZSBgZmFsc2VgLlxuXHQgKiBAZXhhbXBsZVxuXHQgKlxuXHQgKiBfLmlzRnVuY3Rpb24oXyk7XG5cdCAqIC8vID0+IHRydWVcblx0ICpcblx0ICogXy5pc0Z1bmN0aW9uKC9hYmMvKTtcblx0ICogLy8gPT4gZmFsc2Vcblx0ICovXG5cdGZ1bmN0aW9uIGlzRnVuY3Rpb24odmFsdWUpIHtcblx0ICAvLyBUaGUgdXNlIG9mIGBPYmplY3QjdG9TdHJpbmdgIGF2b2lkcyBpc3N1ZXMgd2l0aCB0aGUgYHR5cGVvZmAgb3BlcmF0b3Jcblx0ICAvLyBpbiBvbGRlciB2ZXJzaW9ucyBvZiBDaHJvbWUgYW5kIFNhZmFyaSB3aGljaCByZXR1cm4gJ2Z1bmN0aW9uJyBmb3IgcmVnZXhlc1xuXHQgIC8vIGFuZCBTYWZhcmkgOCBlcXVpdmFsZW50cyB3aGljaCByZXR1cm4gJ29iamVjdCcgZm9yIHR5cGVkIGFycmF5IGNvbnN0cnVjdG9ycy5cblx0ICByZXR1cm4gaXNPYmplY3QodmFsdWUpICYmIG9ialRvU3RyaW5nLmNhbGwodmFsdWUpID09IGZ1bmNUYWc7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyB0aGUgW2xhbmd1YWdlIHR5cGVdKGh0dHBzOi8vZXM1LmdpdGh1Yi5pby8jeDgpIG9mIGBPYmplY3RgLlxuXHQgKiAoZS5nLiBhcnJheXMsIGZ1bmN0aW9ucywgb2JqZWN0cywgcmVnZXhlcywgYG5ldyBOdW1iZXIoMClgLCBhbmQgYG5ldyBTdHJpbmcoJycpYClcblx0ICpcblx0ICogQHN0YXRpY1xuXHQgKiBAbWVtYmVyT2YgX1xuXHQgKiBAY2F0ZWdvcnkgTGFuZ1xuXHQgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cblx0ICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG5cdCAqIEBleGFtcGxlXG5cdCAqXG5cdCAqIF8uaXNPYmplY3Qoe30pO1xuXHQgKiAvLyA9PiB0cnVlXG5cdCAqXG5cdCAqIF8uaXNPYmplY3QoWzEsIDIsIDNdKTtcblx0ICogLy8gPT4gdHJ1ZVxuXHQgKlxuXHQgKiBfLmlzT2JqZWN0KDEpO1xuXHQgKiAvLyA9PiBmYWxzZVxuXHQgKi9cblx0ZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcblx0ICAvLyBBdm9pZCBhIFY4IEpJVCBidWcgaW4gQ2hyb21lIDE5LTIwLlxuXHQgIC8vIFNlZSBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9MjI5MSBmb3IgbW9yZSBkZXRhaWxzLlxuXHQgIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuXHQgIHJldHVybiAhIXZhbHVlICYmICh0eXBlID09ICdvYmplY3QnIHx8IHR5cGUgPT0gJ2Z1bmN0aW9uJyk7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIG5hdGl2ZSBmdW5jdGlvbi5cblx0ICpcblx0ICogQHN0YXRpY1xuXHQgKiBAbWVtYmVyT2YgX1xuXHQgKiBAY2F0ZWdvcnkgTGFuZ1xuXHQgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cblx0ICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBuYXRpdmUgZnVuY3Rpb24sIGVsc2UgYGZhbHNlYC5cblx0ICogQGV4YW1wbGVcblx0ICpcblx0ICogXy5pc05hdGl2ZShBcnJheS5wcm90b3R5cGUucHVzaCk7XG5cdCAqIC8vID0+IHRydWVcblx0ICpcblx0ICogXy5pc05hdGl2ZShfKTtcblx0ICogLy8gPT4gZmFsc2Vcblx0ICovXG5cdGZ1bmN0aW9uIGlzTmF0aXZlKHZhbHVlKSB7XG5cdCAgaWYgKHZhbHVlID09IG51bGwpIHtcblx0ICAgIHJldHVybiBmYWxzZTtcblx0ICB9XG5cdCAgaWYgKGlzRnVuY3Rpb24odmFsdWUpKSB7XG5cdCAgICByZXR1cm4gcmVJc05hdGl2ZS50ZXN0KGZuVG9TdHJpbmcuY2FsbCh2YWx1ZSkpO1xuXHQgIH1cblx0ICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiByZUlzSG9zdEN0b3IudGVzdCh2YWx1ZSk7XG5cdH1cblx0XG5cdG1vZHVsZS5leHBvcnRzID0gaXNBcnJheTtcblxuXG4vKioqLyB9LFxuLyogOTIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5yZW5kZXIgPSByZW5kZXI7XG5cdFxuXHR2YXIgX3JlbmRlclV0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMik7XG5cdFxuXHR2YXIgX3V0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzOCk7XG5cdFxuXHR2YXIgX3JlbmRlckNvbnN0YW50cyA9IF9fd2VicGFja19yZXF1aXJlX18oMjUpO1xuXHRcblx0dmFyIF93b3JsZCA9IF9fd2VicGFja19yZXF1aXJlX18oMTMpO1xuXHRcblx0dmFyIF9yZW5kZXJDYW52YXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXHRcblx0dmFyIFNLWV9DT0xPUiA9IFsxNjgsIDIyNywgMjMzXTtcblx0ZXhwb3J0cy5TS1lfQ09MT1IgPSBTS1lfQ09MT1I7XG5cdHZhciBTUEFDRV9DT0xPUiA9IFsxNywgMTAzLCAxMjVdO1xuXHRcblx0ZXhwb3J0cy5TUEFDRV9DT0xPUiA9IFNQQUNFX0NPTE9SO1xuXHR2YXIgU0NBTEVEX0dST1VORF9MRVZFTCA9ICgwLCBfcmVuZGVyVXRpbHMuc2NhbGUpKF9yZW5kZXJDb25zdGFudHMuR1JPVU5EX0xFVkVMKTtcblx0XG5cdHZhciBHUk9VTkQgPSAoMCwgX3JlbmRlclV0aWxzLmltYWdlKShfX3dlYnBhY2tfcmVxdWlyZV9fKDEyMikpO1xuXHRcblx0dmFyIENMT1VEUyA9IFsoMCwgX3JlbmRlclV0aWxzLmltYWdlKShfX3dlYnBhY2tfcmVxdWlyZV9fKDExOCkpLCAoMCwgX3JlbmRlclV0aWxzLmltYWdlKShfX3dlYnBhY2tfcmVxdWlyZV9fKDExOSkpLCAoMCwgX3JlbmRlclV0aWxzLmltYWdlKShfX3dlYnBhY2tfcmVxdWlyZV9fKDEyMCkpXTtcblx0XG5cdHZhciBDTE9VRF9TRUVEID0gTWF0aC5jZWlsKE1hdGgucmFuZG9tKCkgKiAxMDApO1xuXHRcblx0dmFyIFNDQUxFRF9XT1JMRF9XSURUSCA9ICgwLCBfcmVuZGVyVXRpbHMuc2NhbGUpKF93b3JsZC5XSURUSCk7XG5cdHZhciBTQ0FMRURfV09STERfSEVJR0hUID0gKDAsIF9yZW5kZXJVdGlscy5zY2FsZSkoX3dvcmxkLkhFSUdIVCk7XG5cdFxuXHR2YXIgbGF5ZXJzID0gW3tcblx0ICBzdHJva2VTdHlsZTogJyM4ZWRiZTInLFxuXHQgIGZpbGxTdHlsZTogJyM4ZWRiZTInLFxuXHQgIG1heEhlaWdodDogMjUwLFxuXHQgIG1pbkhlaWdodDogMjAwLFxuXHQgIHNwYWNlQmV0d2VlbjogNTAwLFxuXHQgIHBhcmFsbGF4OiAwLjlcblx0fSwge1xuXHQgIHN0cm9rZVN0eWxlOiAnIzZjZDBkOScsXG5cdCAgZmlsbFN0eWxlOiAnIzZjZDBkOScsXG5cdCAgbWF4SGVpZ2h0OiAyMDAsXG5cdCAgbWluSGVpZ2h0OiAxMDAsXG5cdCAgc3BhY2VCZXR3ZWVuOiAzMDAsXG5cdCAgcGFyYWxsYXg6IDAuOFxuXHR9LCB7XG5cdCAgc3Ryb2tlU3R5bGU6ICcjOWU5MTdiJyxcblx0ICBmaWxsU3R5bGU6ICcjYjZhNzhlJyxcblx0ICBtYXhIZWlnaHQ6IDEyMCxcblx0ICBtaW5IZWlnaHQ6IDEwMCxcblx0ICBzcGFjZUJldHdlZW46IDI1MCxcblx0ICBwYXJhbGxheDogMC40XG5cdH0sIHtcblx0ICBzdHJva2VTdHlsZTogJyM5MTg1NmUnLFxuXHQgIGZpbGxTdHlsZTogJyM5ZTkxN2InLFxuXHQgIG1heEhlaWdodDogMTAwLFxuXHQgIG1pbkhlaWdodDogODAsXG5cdCAgc3BhY2VCZXR3ZWVuOiAyMDAsXG5cdCAgcGFyYWxsYXg6IDAuM1xuXHR9XS5tYXAoZnVuY3Rpb24gKGxheWVyKSB7XG5cdCAgbGF5ZXIuc2VlZCA9IE1hdGguY2VpbChNYXRoLnJhbmRvbSgpICogMTAwKTtcblx0ICByZXR1cm4gbGF5ZXI7XG5cdH0pO1xuXHRcblx0ZnVuY3Rpb24gaHVlRm9ySGVpZ2h0KGNhbWVyYVBvc2l0aW9uKSB7XG5cdCAgdmFyIG1vZGlmaWVyID0gLShjYW1lcmFQb3NpdGlvbiAqIF9yZW5kZXJDb25zdGFudHMuU0NBTEUpIC8gX3dvcmxkLkhFSUdIVDtcblx0ICByZXR1cm4gU0tZX0NPTE9SLm1hcChmdW5jdGlvbiAobnVtLCBpKSB7XG5cdCAgICByZXR1cm4gKDAsIF91dGlscy5jbGFtcCkoMCwgMjU1LCBNYXRoLmZsb29yKG51bSAtIChudW0gLSBTUEFDRV9DT0xPUltpXSkgKiBtb2RpZmllcikpO1xuXHQgIH0pO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBjcmVhdGVHcmFkaWVudCh0cmFuc2xhdGlvbikge1xuXHQgIHZhciBncmFkaWVudCA9IF9yZW5kZXJDYW52YXMuY3R4LmNyZWF0ZUxpbmVhckdyYWRpZW50KDAsIDAsIDAsIF9yZW5kZXJDYW52YXMuY2FudmFzLmhlaWdodCk7XG5cdFxuXHQgIHZhciBjYW52YXNJbkdhbWUgPSBfcmVuZGVyQ2FudmFzLmNhbnZhcy5oZWlnaHQgKiBfcmVuZGVyQ29uc3RhbnRzLlNDQUxFO1xuXHRcblx0ICBncmFkaWVudC5hZGRDb2xvclN0b3AoMCwgKDAsIF9yZW5kZXJVdGlscy50b1JHQikoaHVlRm9ySGVpZ2h0KC10cmFuc2xhdGlvbi55KSkpO1xuXHQgIGdyYWRpZW50LmFkZENvbG9yU3RvcCgxLCAoMCwgX3JlbmRlclV0aWxzLnRvUkdCKShodWVGb3JIZWlnaHQoLXRyYW5zbGF0aW9uLnkgLSBjYW52YXNJbkdhbWUpKSk7XG5cdFxuXHQgIHJldHVybiBncmFkaWVudDtcblx0fVxuXHRcblx0ZnVuY3Rpb24gcmVuZGVyQmFja2dyb3VuZExheWVyKGxheWVyLCB0cmFuc2xhdGlvbikge1xuXHQgIHZhciBncm91bmRMZXZlbCA9IFNDQUxFRF9HUk9VTkRfTEVWRUw7XG5cdFxuXHQgIHZhciBuZXh0T2Zmc2V0ID0gMTtcblx0XG5cdCAgdmFyIHN0cm9rZVN0eWxlID0gbGF5ZXIuc3Ryb2tlU3R5bGU7XG5cdCAgdmFyIGZpbGxTdHlsZSA9IGxheWVyLmZpbGxTdHlsZTtcblx0ICB2YXIgbWF4SGVpZ2h0ID0gbGF5ZXIubWF4SGVpZ2h0O1xuXHQgIHZhciBtaW5IZWlnaHQgPSBsYXllci5taW5IZWlnaHQ7XG5cdCAgdmFyIHNwYWNlQmV0d2VlbiA9IGxheWVyLnNwYWNlQmV0d2Vlbjtcblx0ICB2YXIgcGFyYWxsYXggPSBsYXllci5wYXJhbGxheDtcblx0XG5cdCAgX3JlbmRlckNhbnZhcy5jdHguc2F2ZSgpO1xuXHQgIF9yZW5kZXJDYW52YXMuY3R4LnN0cm9rZVN0eWxlID0gc3Ryb2tlU3R5bGU7XG5cdCAgX3JlbmRlckNhbnZhcy5jdHguZmlsbFN0eWxlID0gZmlsbFN0eWxlO1xuXHQgIF9yZW5kZXJDYW52YXMuY3R4LmxpbmVXaWR0aCA9IDM7XG5cdCAgX3JlbmRlckNhbnZhcy5jdHguYmVnaW5QYXRoKCk7XG5cdFxuXHQgIHZhciBib3VuY2VzID0gTWF0aC5mbG9vcihTQ0FMRURfV09STERfV0lEVEggLyBzcGFjZUJldHdlZW4pO1xuXHRcblx0ICB2YXIgeSA9IGZ1bmN0aW9uIHkodmFsKSB7XG5cdCAgICByZXR1cm4gX3JlbmRlckNhbnZhcy5jYW52YXMuaGVpZ2h0IC0gZ3JvdW5kTGV2ZWwgLSB2YWw7XG5cdCAgfTtcblx0XG5cdCAgdmFyIHRyYW5zbGF0aW9uT2Zmc2V0ID0gLXRyYW5zbGF0aW9uLnggKiBwYXJhbGxheDtcblx0ICB2YXIgdG90YWxUcmFuc2xhdGlvbiA9IHRyYW5zbGF0aW9uLnggKyB0cmFuc2xhdGlvbk9mZnNldDtcblx0XG5cdCAgX3JlbmRlckNhbnZhcy5jdHgudHJhbnNsYXRlKHRyYW5zbGF0aW9uT2Zmc2V0LCAwKTtcblx0XG5cdCAgdmFyIHN0YXJ0Qm91bmNlID0gTWF0aC5mbG9vcigtdG90YWxUcmFuc2xhdGlvbiAvIGxheWVyLnNwYWNlQmV0d2Vlbik7XG5cdFxuXHQgIHZhciBlbmRCb3VuY2UgPSBNYXRoLm1pbihib3VuY2VzLCBzdGFydEJvdW5jZSArIE1hdGguZmxvb3IoX3JlbmRlckNhbnZhcy5jYW52YXMud2lkdGggLyBsYXllci5zcGFjZUJldHdlZW4pICsgMSArIG5leHRPZmZzZXQpO1xuXHRcblx0ICB2YXIgcmFuZG9tRm4gPSB1bmRlZmluZWQ7XG5cdCAgdmFyIHN0YXJ0RnJvbSA9IHVuZGVmaW5lZDtcblx0XG5cdCAgaWYgKHN0YXJ0Qm91bmNlID4gMCkge1xuXHQgICAgdmFyIHNlZWRPZmZzZXQgPSBzdGFydEJvdW5jZSAqIDI7XG5cdCAgICByYW5kb21GbiA9ICgwLCBfdXRpbHMucmFuZG9tR2VuZXJhdG9yKShsYXllci5zZWVkICsgc2VlZE9mZnNldCAtIDIpO1xuXHQgICAgc3RhcnRGcm9tID0geShtaW5IZWlnaHQgLyAyICogcmFuZG9tRm4oKSk7XG5cdCAgICByYW5kb21GbiA9ICgwLCBfdXRpbHMucmFuZG9tR2VuZXJhdG9yKShsYXllci5zZWVkICsgc2VlZE9mZnNldCk7XG5cdCAgfSBlbHNlIHtcblx0ICAgIHJhbmRvbUZuID0gKDAsIF91dGlscy5yYW5kb21HZW5lcmF0b3IpKGxheWVyLnNlZWQpO1xuXHQgICAgc3RhcnRGcm9tID0gX3JlbmRlckNhbnZhcy5jYW52YXMuaGVpZ2h0IC0gZ3JvdW5kTGV2ZWw7XG5cdCAgfVxuXHRcblx0ICBmb3IgKHZhciBpID0gc3RhcnRCb3VuY2U7IGkgPCBlbmRCb3VuY2U7IGkrKykge1xuXHQgICAgdmFyIGVuZEhlaWdodCA9IGkgPT09IGJvdW5jZXMgLSAxID8geSgwKSA6IHkobWluSGVpZ2h0IC8gMiAqIHJhbmRvbUZuKCkpO1xuXHRcblx0ICAgIF9yZW5kZXJDYW52YXMuY3R4LmJlemllckN1cnZlVG8oaSAqIHNwYWNlQmV0d2Vlbiwgc3RhcnRGcm9tLCBpICogc3BhY2VCZXR3ZWVuICsgc3BhY2VCZXR3ZWVuIC8gMiwgeShNYXRoLm1heChtaW5IZWlnaHQsIHJhbmRvbUZuKCkgKiBtYXhIZWlnaHQpKSwgKGkgKyAxKSAqIHNwYWNlQmV0d2VlbiwgZW5kSGVpZ2h0KTtcblx0XG5cdCAgICBzdGFydEZyb20gPSBlbmRIZWlnaHQ7XG5cdCAgfVxuXHRcblx0ICBfcmVuZGVyQ2FudmFzLmN0eC5saW5lVG8oLXRvdGFsVHJhbnNsYXRpb24gKyBfcmVuZGVyQ2FudmFzLmNhbnZhcy53aWR0aCwgX3JlbmRlckNhbnZhcy5jYW52YXMuaGVpZ2h0IC0gZ3JvdW5kTGV2ZWwpO1xuXHRcblx0ICBfcmVuZGVyQ2FudmFzLmN0eC5saW5lVG8oc3RhcnRCb3VuY2UgKiBzcGFjZUJldHdlZW4sIF9yZW5kZXJDYW52YXMuY2FudmFzLmhlaWdodCAtIGdyb3VuZExldmVsKTtcblx0ICBfcmVuZGVyQ2FudmFzLmN0eC5jbG9zZVBhdGgoKTtcblx0ICBfcmVuZGVyQ2FudmFzLmN0eC5maWxsKCk7XG5cdCAgX3JlbmRlckNhbnZhcy5jdHguc3Ryb2tlKCk7XG5cdCAgX3JlbmRlckNhbnZhcy5jdHgucmVzdG9yZSgpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiByZW5kZXJHcm91bmQodHJhbnNsYXRpb24pIHtcblx0XG5cdCAgdmFyIHdpZHRoID0gR1JPVU5ELndpZHRoIC8gMjtcblx0ICB2YXIgcmF0aW8gPSB3aWR0aCAvIEdST1VORC53aWR0aDtcblx0ICB2YXIgaGVpZ2h0ID0gd2lkdGggKiByYXRpbztcblx0ICB2YXIgcGllY2VzID0gTWF0aC5jZWlsKF9yZW5kZXJDYW52YXMuY2FudmFzLndpZHRoIC8gd2lkdGgpICsgMTtcblx0XG5cdCAgdmFyIHkgPSBfcmVuZGVyQ2FudmFzLmNhbnZhcy5oZWlnaHQgLSBTQ0FMRURfR1JPVU5EX0xFVkVMO1xuXHQgIF9yZW5kZXJDYW52YXMuY3R4LnNhdmUoKTtcblx0XG5cdCAgX3JlbmRlckNhbnZhcy5jdHguc3Ryb2tlU3R5bGUgPSAnIzczNmM2MSc7XG5cdCAgX3JlbmRlckNhbnZhcy5jdHguZmlsbFN0eWxlID0gJyM3Zjc4NmYnO1xuXHQgIF9yZW5kZXJDYW52YXMuY3R4LmxpbmVXaWR0aCA9IDI7XG5cdFxuXHQgICgwLCBfcmVuZGVyVXRpbHMucmVjdFBhdGgpKDAsIHksIFNDQUxFRF9XT1JMRF9XSURUSCwgU0NBTEVEX0dST1VORF9MRVZFTCk7XG5cdCAgX3JlbmRlckNhbnZhcy5jdHguZmlsbCgpO1xuXHQgIF9yZW5kZXJDYW52YXMuY3R4LnN0cm9rZSgpO1xuXHRcblx0ICBfcmVuZGVyQ2FudmFzLmN0eC50cmFuc2xhdGUoLXRyYW5zbGF0aW9uLngsIDApO1xuXHRcblx0ICBmb3IgKHZhciBpID0gMDsgaSA8IHBpZWNlczsgaSsrKSB7XG5cdCAgICB2YXIgeCA9IHdpZHRoICogaSArIHRyYW5zbGF0aW9uLnggJSB3aWR0aDtcblx0ICAgIF9yZW5kZXJDYW52YXMuY3R4LmRyYXdJbWFnZShHUk9VTkQsIHgsIHksIHdpZHRoLCBoZWlnaHQpO1xuXHQgIH1cblx0XG5cdCAgX3JlbmRlckNhbnZhcy5jdHgucmVzdG9yZSgpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiByZW5kZXJDbG91ZHModHJhbnNsYXRpb24sIGVsYXBzZWRUaW1lKSB7XG5cdCAgLypcblx0ICAgKiBUT0RPXG5cdCAgICogLSBub3JtYWwgZGlzdHJpYnV0aW9uXG5cdCAgICogLSB3b3VsZCBiZSBjb29sIGlmIHNvbWUgY2xvdWRzIHdvdWxkIGJlIG9uIHRvcCBvZiBwbGF5ZXJcblx0ICAgKi9cblx0XG5cdCAgdmFyIHJhbmRvbSA9ICgwLCBfdXRpbHMucmFuZG9tR2VuZXJhdG9yKShDTE9VRF9TRUVEKTtcblx0XG5cdCAgdmFyIGJhc2UgPSBfcmVuZGVyQ2FudmFzLmNhbnZhcy5oZWlnaHQgLSBTQ0FMRURfR1JPVU5EX0xFVkVMIC0gMjAwO1xuXHRcblx0ICB2YXIgbWF4WCA9IFNDQUxFRF9XT1JMRF9XSURUSDtcblx0XG5cdCAgZm9yICh2YXIgaSA9IDA7IGkgPCBfd29ybGQuV0lEVEggLyAxMDsgaSsrKSB7XG5cdCAgICB2YXIgbW92ZW1lbnQgPSBlbGFwc2VkVGltZSAqIHJhbmRvbSgpO1xuXHQgICAgdmFyIHNwcml0ZSA9IENMT1VEU1tNYXRoLmZsb29yKHJhbmRvbSgpICogQ0xPVURTLmxlbmd0aCldO1xuXHRcblx0ICAgIHZhciBkZXB0aCA9ICgwLCBfdXRpbHMuY2xhbXApKDAuMiwgMSwgcmFuZG9tKCkpO1xuXHRcblx0ICAgIHZhciB3aWR0aCA9IHNwcml0ZS53aWR0aCAqIGRlcHRoO1xuXHQgICAgdmFyIGhlaWdodCA9IHNwcml0ZS5oZWlnaHQgKiBkZXB0aDtcblx0XG5cdCAgICB2YXIgb2Zmc2V0UmlnaHQgPSB3aWR0aDtcblx0ICAgIHZhciBvZmZzZXRMZWZ0ID0gLXdpZHRoO1xuXHRcblx0ICAgIHZhciB4ID0gKDAsIF91dGlscy5tb2QpKHJhbmRvbSgpICogbWF4WCAtIG1vdmVtZW50LCBtYXhYICsgb2Zmc2V0UmlnaHQpICsgb2Zmc2V0TGVmdDtcblx0ICAgIHZhciB5ID0gYmFzZSAtIHJhbmRvbSgpICogKFNDQUxFRF9XT1JMRF9IRUlHSFQgLyAyKTtcblx0XG5cdCAgICB2YXIgY2FudmFzWCA9IHggKyB0cmFuc2xhdGlvbi54ICogZGVwdGg7XG5cdCAgICB2YXIgY2FudmFzWSA9IHkgKyB0cmFuc2xhdGlvbi55ICogZGVwdGg7XG5cdFxuXHQgICAgaWYgKGNhbnZhc1ggPiBfcmVuZGVyQ2FudmFzLmNhbnZhcy53aWR0aCB8fCBjYW52YXNYIDwgLXdpZHRoIHx8IGNhbnZhc1kgPiBfcmVuZGVyQ2FudmFzLmNhbnZhcy5oZWlnaHQgfHwgY2FudmFzWSA8IC1oZWlnaHQpIHtcblx0ICAgICAgY29udGludWU7XG5cdCAgICB9XG5cdFxuXHQgICAgX3JlbmRlckNhbnZhcy5jdHguc2F2ZSgpO1xuXHQgICAgX3JlbmRlckNhbnZhcy5jdHgudHJhbnNsYXRlKC0odHJhbnNsYXRpb24ueCAtIHRyYW5zbGF0aW9uLnggKiBkZXB0aCkgKyB4LCAtKHRyYW5zbGF0aW9uLnkgLSB0cmFuc2xhdGlvbi55ICogZGVwdGgpICsgeSk7XG5cdFxuXHQgICAgX3JlbmRlckNhbnZhcy5jdHguZHJhd0ltYWdlKHNwcml0ZSwgMCwgMCwgc3ByaXRlLndpZHRoLCBzcHJpdGUuaGVpZ2h0LCAwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcblx0XG5cdCAgICAvLyBjdHguc3Ryb2tlUmVjdCgwLCAwLCBzcHJpdGUud2lkdGggKiAwLjc1LCBzcHJpdGUuaGVpZ2h0ICogMC43NSk7XG5cdFxuXHQgICAgX3JlbmRlckNhbnZhcy5jdHgucmVzdG9yZSgpO1xuXHQgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gcmVuZGVyKHRyYW5zbGF0aW9uLCBlbGFwc2VkVGltZSkge1xuXHQgIF9yZW5kZXJDYW52YXMuY3R4LmZpbGxTdHlsZSA9IGNyZWF0ZUdyYWRpZW50KHRyYW5zbGF0aW9uKTtcblx0ICBfcmVuZGVyQ2FudmFzLmN0eC5maWxsUmVjdCgtdHJhbnNsYXRpb24ueCwgLXRyYW5zbGF0aW9uLnksIF9yZW5kZXJDYW52YXMuY2FudmFzLndpZHRoLCBfcmVuZGVyQ2FudmFzLmNhbnZhcy5oZWlnaHQpO1xuXHRcblx0ICByZW5kZXJCYWNrZ3JvdW5kTGF5ZXIobGF5ZXJzWzBdLCB0cmFuc2xhdGlvbik7XG5cdCAgcmVuZGVyQmFja2dyb3VuZExheWVyKGxheWVyc1sxXSwgdHJhbnNsYXRpb24pO1xuXHQgIHJlbmRlckJhY2tncm91bmRMYXllcihsYXllcnNbMl0sIHRyYW5zbGF0aW9uKTtcblx0XG5cdCAgcmVuZGVyQ2xvdWRzKHRyYW5zbGF0aW9uLCBlbGFwc2VkVGltZSk7XG5cdFxuXHQgIHJlbmRlckJhY2tncm91bmRMYXllcihsYXllcnNbM10sIHRyYW5zbGF0aW9uKTtcblx0XG5cdCAgcmVuZGVyR3JvdW5kKHRyYW5zbGF0aW9uKTtcblx0fVxuXG5cdC8qIEhPVCBQQVRDSCBMT0FERVIgKi8gdmFyIF9fbW9kdWxlQmluZGluZ3MgPSBbXCJodWVGb3JIZWlnaHRcIixcImNyZWF0ZUdyYWRpZW50XCIsXCJyZW5kZXJCYWNrZ3JvdW5kTGF5ZXJcIixcInJlbmRlckdyb3VuZFwiLFwicmVuZGVyQ2xvdWRzXCIsXCJyZW5kZXJcIl07IGlmKGZhbHNlKSB7XG5cdCAgbW9kdWxlLmhvdC5hY2NlcHQoZnVuY3Rpb24oZXJyKSB7XG5cdCAgICBjb25zb2xlLmxvZygnW0hNUl0gRXJyb3IgYWNjZXB0aW5nOiAnICsgZXJyKTtcblx0ICB9KTtcblxuXHQgIHZhciBnZXRFdmFsU291cmNlID0gZnVuY3Rpb24oZnVuYykge1xuXHQgICAgdmFyIGNvZGUgPSBmdW5jLnRvU3RyaW5nKCk7XG5cdCAgICB2YXIgbSA9IGNvZGUubWF0Y2goL15mdW5jdGlvblxccytfX2V2YWxcXHMqXFwoKC4qKVxcKVxccypcXHsoW1xcc1xcU10qKVxcfSQvaSk7XG5cdCAgICBpZighbSkge1xuXHQgICAgICByZXR1cm4gbnVsbDtcblx0ICAgIH1cblx0ICAgIHZhciBhcmdzID0gbVsxXTtcblx0ICAgIHZhciBib2R5ID0gbVsyXTtcblx0ICAgIHZhciBzY29wZSA9IHt9O1xuXG5cdCAgICBpZihhcmdzLnRyaW0oKSkge1xuXHQgICAgICBhcmdzLnNwbGl0KCcsJykuZm9yRWFjaChmdW5jdGlvbihhcmcpIHtcblx0ICAgICAgICBpZihhcmcuaW5kZXhPZignPScpICE9PSAtMSkge1xuXHQgICAgICAgICAgdmFyIHAgPSBhcmcuc3BsaXQoJz0nKTtcblx0ICAgICAgICAgIHNjb3BlW3BbMF0udHJpbSgpXSA9IEpTT04ucGFyc2UocFsxXSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGVsc2Uge1xuXHQgICAgICAgICAgc2NvcGVbYXJnLnRyaW0oKV0gPSB1bmRlZmluZWQ7XG5cdCAgICAgICAgfVxuXHQgICAgICB9KTtcblx0ICAgIH1cblxuXHQgICAgcmV0dXJuIHsgYm9keTogYm9keSwgc2NvcGU6IHNjb3BlIH07XG5cdCAgfVxuXG5cdCAgdmFyIGluamVjdFNjb3BlID0gZnVuY3Rpb24oc2NvcGUsIGNvZGUpIHtcblx0ICAgIC8vIFRha2UgYW4gZXhwbGljaXQgc2NvcGUgb2JqZWN0IGFuZCBpbmplY3QgaXQgc28gdGhhdFxuXHQgICAgLy8gYGNvZGVgIHJ1bnMgaW4gY29udGV4dCBvZiBpdFxuXHQgICAgdmFyIGluamVjdGVkID0gT2JqZWN0LmtleXMoc2NvcGUpLm1hcChmdW5jdGlvbihiaW5kaW5nKSB7XG5cdCAgICAgIHJldHVybiAndmFyICcgKyBiaW5kaW5nICsgJyA9IGV2YWxTY29wZS4nICsgYmluZGluZyArICc7J1xuXHQgICAgfSkuam9pbignICcpO1xuXG5cdCAgICAvLyBVcGRhdGUgb3VyIHNjb3BlIG9iamVjdCB3aXRoIGFueSBtb2RpZmljYXRpb25zXG5cdCAgICB2YXIgZXh0cmFjdGVkID0gT2JqZWN0LmtleXMoc2NvcGUpLm1hcChmdW5jdGlvbihiaW5kaW5nKSB7XG5cdCAgICAgIHJldHVybiAnZXZhbFNjb3BlLicgKyBiaW5kaW5nICsgJyA9ICcgKyBiaW5kaW5nICsgJzsnO1xuXHQgICAgfSkuam9pbignICcpO1xuXG5cdCAgICByZXR1cm4gaW5qZWN0ZWQgKyBjb2RlICsgZXh0cmFjdGVkO1xuXHQgIH1cblxuXHQgIHZhciBiaW5kaW5ncyA9IF9fbW9kdWxlQmluZGluZ3M7XG5cblx0ICBpZighbW9kdWxlLmhvdC5kYXRhKSB7XG5cdCAgICAvLyBGaXJzdCB0aW1lIGxvYWRpbmcuIFRyeSBhbmQgcGF0Y2ggc29tZXRoaW5nLlxuXHQgICAgdmFyIHBhdGNoZWRCaW5kaW5ncyA9IHt9O1xuXHQgICAgdmFyIGV2YWxTY29wZSA9IHt9O1xuXG5cdCAgICB2YXIgbW9kdWxlRXZhbFdpdGhTY29wZSA9IGZ1bmN0aW9uKGZyYW1lKSB7XG5cdCAgICAgIC8vIFVwZGF0ZSB0aGUgc2NvcGUgdG8gcmVmbGVjdCBvbmx5IHRoZSB2YWx1ZXMgc3BlY2lmaWVkIGFzXG5cdCAgICAgIC8vIGFyZ3VtZW50cyB0byB0aGUgX19ldmFsIGZ1bmN0aW9uLiBDb3B5IG92ZXIgdmFsdWVzIGZyb20gdGhlXG5cdCAgICAgIC8vIGV4aXN0aW5nIHNjb3BlIGFuZCBpZ25vcmUgdGhlIHJlc3QuXG5cdCAgICAgIE9iamVjdC5rZXlzKGV2YWxTY29wZSkuZm9yRWFjaChmdW5jdGlvbihhcmcpIHtcblx0ICAgICAgICBpZihhcmcgaW4gZnJhbWUuc2NvcGUpIHtcblx0ICAgICAgICAgIGZyYW1lLnNjb3BlW2FyZ10gPSBldmFsU2NvcGVbYXJnXTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0pO1xuXHQgICAgICBldmFsU2NvcGUgPSBmcmFtZS5zY29wZTtcblxuXHQgICAgICB2YXIgY29kZSA9IGluamVjdFNjb3BlKGV2YWxTY29wZSwgZnJhbWUuYm9keSk7XG5cdCAgICAgIHJldHVybiBldmFsKGNvZGUpO1xuXHQgICAgfVxuXG5cdCAgICB2YXIgbW9kdWxlRXZhbCA9IGZ1bmN0aW9uKGNvZGUpIHtcblx0ICAgICAgcmV0dXJuIGV2YWwoY29kZSk7XG5cdCAgICB9XG5cblx0ICAgIGJpbmRpbmdzLmZvckVhY2goZnVuY3Rpb24oYmluZGluZykge1xuXHQgICAgICB2YXIgZiA9IGV2YWwoYmluZGluZyk7XG5cblx0ICAgICAgaWYodHlwZW9mIGYgPT09ICdmdW5jdGlvbicgJiYgYmluZGluZyAhPT0gJ19fZXZhbCcpIHtcblx0ICAgICAgICB2YXIgcGF0Y2hlZCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgaWYocGF0Y2hlZEJpbmRpbmdzW2JpbmRpbmddKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBwYXRjaGVkQmluZGluZ3NbYmluZGluZ10uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIGVsc2Uge1xuXHQgICAgICAgICAgICByZXR1cm4gZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH07XG5cdCAgICAgICAgcGF0Y2hlZC5wcm90b3R5cGUgPSBmLnByb3RvdHlwZTtcblxuXHQgICAgICAgIGV2YWwoYmluZGluZyArICcgPSBwYXRjaGVkO1xcbicpO1xuXG5cdCAgICAgICAgaWYobW9kdWxlLmV4cG9ydHNbYmluZGluZ10pIHtcblx0ICAgICAgICAgIG1vZHVsZS5leHBvcnRzW2JpbmRpbmddID0gcGF0Y2hlZDtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXG5cdCAgICBtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oZGF0YSkge1xuXHQgICAgICBkYXRhLnBhdGNoZWRCaW5kaW5ncyA9IHBhdGNoZWRCaW5kaW5ncztcblx0ICAgICAgZGF0YS5tb2R1bGVFdmFsID0gbW9kdWxlRXZhbDtcblx0ICAgICAgZGF0YS5tb2R1bGVFdmFsV2l0aFNjb3BlID0gbW9kdWxlRXZhbFdpdGhTY29wZTtcblx0ICAgIH0pO1xuXHQgIH1cblx0ICBlbHNlIHtcblx0ICAgIHZhciBwYXRjaGVkQmluZGluZ3MgPSBtb2R1bGUuaG90LmRhdGEucGF0Y2hlZEJpbmRpbmdzO1xuXG5cdCAgICBiaW5kaW5ncy5mb3JFYWNoKGZ1bmN0aW9uKGJpbmRpbmcpIHtcblx0ICAgICAgdmFyIGYgPSBldmFsKGJpbmRpbmcpO1xuXG5cdCAgICAgIGlmKHR5cGVvZiBmID09PSAnZnVuY3Rpb24nICYmIGJpbmRpbmcgIT09ICdfX2V2YWwnKSB7XG5cdCAgICAgICAgLy8gV2UgbmVlZCB0byByZWlmeSB0aGUgZnVuY3Rpb24gaW4gdGhlIG9yaWdpbmFsIG1vZHVsZSBzb1xuXHQgICAgICAgIC8vIGl0IHJlZmVyZW5jZXMgYW55IG9mIHRoZSBvcmlnaW5hbCBzdGF0ZS4gU3RyaXAgdGhlIG5hbWVcblx0ICAgICAgICAvLyBhbmQgc2ltcGx5IGV2YWwgaXQuXG5cdCAgICAgICAgdmFyIGZ1bmNDb2RlID0gKFxuXHQgICAgICAgICAgJygnICsgZi50b1N0cmluZygpLnJlcGxhY2UoL15mdW5jdGlvbiBcXHcrXFwoLywgJ2Z1bmN0aW9uICgnKSArICcpJ1xuXHQgICAgICAgICk7XG5cdCAgICAgICAgcGF0Y2hlZEJpbmRpbmdzW2JpbmRpbmddID0gbW9kdWxlLmhvdC5kYXRhLm1vZHVsZUV2YWwoZnVuY0NvZGUpO1xuXHQgICAgICB9XG5cdCAgICB9KTtcblxuXHQgICAgaWYodHlwZW9mIF9fZXZhbCA9PT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICB0cnkge1xuXHQgICAgICAgIG1vZHVsZS5ob3QuZGF0YS5tb2R1bGVFdmFsV2l0aFNjb3BlKGdldEV2YWxTb3VyY2UoX19ldmFsKSk7XG5cdCAgICAgIH1cblx0ICAgICAgY2F0Y2goZSkge1xuXHQgICAgICAgIGNvbnNvbGUubG9nKCdlcnJvciBldmFsaW5nOiAnICsgZSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblxuXHQgICAgbW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKGRhdGEpIHtcblx0ICAgICAgZGF0YS5wYXRjaGVkQmluZGluZ3MgPSBwYXRjaGVkQmluZGluZ3M7XG5cdCAgICAgIGRhdGEubW9kdWxlRXZhbCA9IG1vZHVsZS5ob3QuZGF0YS5tb2R1bGVFdmFsO1xuXHQgICAgICBkYXRhLm1vZHVsZUV2YWxXaXRoU2NvcGUgPSBtb2R1bGUuaG90LmRhdGEubW9kdWxlRXZhbFdpdGhTY29wZTtcblx0ICAgIH0pO1xuXHQgIH1cblx0fVxuXG5cbi8qKiovIH0sXG4vKiA5MyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLnJlbmRlciA9IHJlbmRlcjtcblx0XG5cdHZhciBfcmVuZGVyVXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyKTtcblx0XG5cdHZhciBfcmVuZGVyQ2FudmFzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblx0XG5cdHZhciBfYnVsbGV0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNyk7XG5cdFxuXHR2YXIgU1BSSVRFID0gKDAsIF9yZW5kZXJVdGlscy5pbWFnZSkoX193ZWJwYWNrX3JlcXVpcmVfXygxMTcpKTtcblx0XG5cdGZ1bmN0aW9uIHJlbmRlcihidWxsZXQpIHtcblx0XG5cdCAgdmFyIHdpZHRoID0gKDAsIF9yZW5kZXJVdGlscy5zY2FsZSkoX2J1bGxldC5XSURUSCk7XG5cdCAgdmFyIGhlaWdodCA9ICgwLCBfcmVuZGVyVXRpbHMuc2NhbGUpKF9idWxsZXQuSEVJR0hUKTtcblx0XG5cdCAgdmFyIGNhbnZhc0Nvb3JkaW5hdGVzID0gKDAsIF9yZW5kZXJVdGlscy5ib2R5VG9DYW52YXMpKGJ1bGxldC5ib2R5KTtcblx0XG5cdCAgX3JlbmRlckNhbnZhcy5jdHguc2F2ZSgpO1xuXHRcblx0ICBfcmVuZGVyQ2FudmFzLmN0eC50cmFuc2xhdGUoY2FudmFzQ29vcmRpbmF0ZXMueCwgY2FudmFzQ29vcmRpbmF0ZXMueSk7XG5cdCAgX3JlbmRlckNhbnZhcy5jdHgucm90YXRlKGJ1bGxldC5ib2R5LmFuZ2xlKTtcblx0XG5cdCAgX3JlbmRlckNhbnZhcy5jdHgudHJhbnNsYXRlKC13aWR0aCAvIDIsIC1oZWlnaHQgLyAyKTtcblx0XG5cdCAgX3JlbmRlckNhbnZhcy5jdHguZHJhd0ltYWdlKFNQUklURSwgMCwgMCwgU1BSSVRFLndpZHRoLCBTUFJJVEUuaGVpZ2h0LCAwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcblx0ICAvLyBjdHguc3Ryb2tlUmVjdCgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcblx0ICBfcmVuZGVyQ2FudmFzLmN0eC5yZXN0b3JlKCk7XG5cdH1cblxuXHQvKiBIT1QgUEFUQ0ggTE9BREVSICovIHZhciBfX21vZHVsZUJpbmRpbmdzID0gW1wicmVuZGVyXCJdOyBpZihmYWxzZSkge1xuXHQgIG1vZHVsZS5ob3QuYWNjZXB0KGZ1bmN0aW9uKGVycikge1xuXHQgICAgY29uc29sZS5sb2coJ1tITVJdIEVycm9yIGFjY2VwdGluZzogJyArIGVycik7XG5cdCAgfSk7XG5cblx0ICB2YXIgZ2V0RXZhbFNvdXJjZSA9IGZ1bmN0aW9uKGZ1bmMpIHtcblx0ICAgIHZhciBjb2RlID0gZnVuYy50b1N0cmluZygpO1xuXHQgICAgdmFyIG0gPSBjb2RlLm1hdGNoKC9eZnVuY3Rpb25cXHMrX19ldmFsXFxzKlxcKCguKilcXClcXHMqXFx7KFtcXHNcXFNdKilcXH0kL2kpO1xuXHQgICAgaWYoIW0pIHtcblx0ICAgICAgcmV0dXJuIG51bGw7XG5cdCAgICB9XG5cdCAgICB2YXIgYXJncyA9IG1bMV07XG5cdCAgICB2YXIgYm9keSA9IG1bMl07XG5cdCAgICB2YXIgc2NvcGUgPSB7fTtcblxuXHQgICAgaWYoYXJncy50cmltKCkpIHtcblx0ICAgICAgYXJncy5zcGxpdCgnLCcpLmZvckVhY2goZnVuY3Rpb24oYXJnKSB7XG5cdCAgICAgICAgaWYoYXJnLmluZGV4T2YoJz0nKSAhPT0gLTEpIHtcblx0ICAgICAgICAgIHZhciBwID0gYXJnLnNwbGl0KCc9Jyk7XG5cdCAgICAgICAgICBzY29wZVtwWzBdLnRyaW0oKV0gPSBKU09OLnBhcnNlKHBbMV0pO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBlbHNlIHtcblx0ICAgICAgICAgIHNjb3BlW2FyZy50cmltKCldID0gdW5kZWZpbmVkO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSk7XG5cdCAgICB9XG5cblx0ICAgIHJldHVybiB7IGJvZHk6IGJvZHksIHNjb3BlOiBzY29wZSB9O1xuXHQgIH1cblxuXHQgIHZhciBpbmplY3RTY29wZSA9IGZ1bmN0aW9uKHNjb3BlLCBjb2RlKSB7XG5cdCAgICAvLyBUYWtlIGFuIGV4cGxpY2l0IHNjb3BlIG9iamVjdCBhbmQgaW5qZWN0IGl0IHNvIHRoYXRcblx0ICAgIC8vIGBjb2RlYCBydW5zIGluIGNvbnRleHQgb2YgaXRcblx0ICAgIHZhciBpbmplY3RlZCA9IE9iamVjdC5rZXlzKHNjb3BlKS5tYXAoZnVuY3Rpb24oYmluZGluZykge1xuXHQgICAgICByZXR1cm4gJ3ZhciAnICsgYmluZGluZyArICcgPSBldmFsU2NvcGUuJyArIGJpbmRpbmcgKyAnOydcblx0ICAgIH0pLmpvaW4oJyAnKTtcblxuXHQgICAgLy8gVXBkYXRlIG91ciBzY29wZSBvYmplY3Qgd2l0aCBhbnkgbW9kaWZpY2F0aW9uc1xuXHQgICAgdmFyIGV4dHJhY3RlZCA9IE9iamVjdC5rZXlzKHNjb3BlKS5tYXAoZnVuY3Rpb24oYmluZGluZykge1xuXHQgICAgICByZXR1cm4gJ2V2YWxTY29wZS4nICsgYmluZGluZyArICcgPSAnICsgYmluZGluZyArICc7Jztcblx0ICAgIH0pLmpvaW4oJyAnKTtcblxuXHQgICAgcmV0dXJuIGluamVjdGVkICsgY29kZSArIGV4dHJhY3RlZDtcblx0ICB9XG5cblx0ICB2YXIgYmluZGluZ3MgPSBfX21vZHVsZUJpbmRpbmdzO1xuXG5cdCAgaWYoIW1vZHVsZS5ob3QuZGF0YSkge1xuXHQgICAgLy8gRmlyc3QgdGltZSBsb2FkaW5nLiBUcnkgYW5kIHBhdGNoIHNvbWV0aGluZy5cblx0ICAgIHZhciBwYXRjaGVkQmluZGluZ3MgPSB7fTtcblx0ICAgIHZhciBldmFsU2NvcGUgPSB7fTtcblxuXHQgICAgdmFyIG1vZHVsZUV2YWxXaXRoU2NvcGUgPSBmdW5jdGlvbihmcmFtZSkge1xuXHQgICAgICAvLyBVcGRhdGUgdGhlIHNjb3BlIHRvIHJlZmxlY3Qgb25seSB0aGUgdmFsdWVzIHNwZWNpZmllZCBhc1xuXHQgICAgICAvLyBhcmd1bWVudHMgdG8gdGhlIF9fZXZhbCBmdW5jdGlvbi4gQ29weSBvdmVyIHZhbHVlcyBmcm9tIHRoZVxuXHQgICAgICAvLyBleGlzdGluZyBzY29wZSBhbmQgaWdub3JlIHRoZSByZXN0LlxuXHQgICAgICBPYmplY3Qua2V5cyhldmFsU2NvcGUpLmZvckVhY2goZnVuY3Rpb24oYXJnKSB7XG5cdCAgICAgICAgaWYoYXJnIGluIGZyYW1lLnNjb3BlKSB7XG5cdCAgICAgICAgICBmcmFtZS5zY29wZVthcmddID0gZXZhbFNjb3BlW2FyZ107XG5cdCAgICAgICAgfVxuXHQgICAgICB9KTtcblx0ICAgICAgZXZhbFNjb3BlID0gZnJhbWUuc2NvcGU7XG5cblx0ICAgICAgdmFyIGNvZGUgPSBpbmplY3RTY29wZShldmFsU2NvcGUsIGZyYW1lLmJvZHkpO1xuXHQgICAgICByZXR1cm4gZXZhbChjb2RlKTtcblx0ICAgIH1cblxuXHQgICAgdmFyIG1vZHVsZUV2YWwgPSBmdW5jdGlvbihjb2RlKSB7XG5cdCAgICAgIHJldHVybiBldmFsKGNvZGUpO1xuXHQgICAgfVxuXG5cdCAgICBiaW5kaW5ncy5mb3JFYWNoKGZ1bmN0aW9uKGJpbmRpbmcpIHtcblx0ICAgICAgdmFyIGYgPSBldmFsKGJpbmRpbmcpO1xuXG5cdCAgICAgIGlmKHR5cGVvZiBmID09PSAnZnVuY3Rpb24nICYmIGJpbmRpbmcgIT09ICdfX2V2YWwnKSB7XG5cdCAgICAgICAgdmFyIHBhdGNoZWQgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgIGlmKHBhdGNoZWRCaW5kaW5nc1tiaW5kaW5nXSkge1xuXHQgICAgICAgICAgICByZXR1cm4gcGF0Y2hlZEJpbmRpbmdzW2JpbmRpbmddLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICBlbHNlIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGYuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9O1xuXHQgICAgICAgIHBhdGNoZWQucHJvdG90eXBlID0gZi5wcm90b3R5cGU7XG5cblx0ICAgICAgICBldmFsKGJpbmRpbmcgKyAnID0gcGF0Y2hlZDtcXG4nKTtcblxuXHQgICAgICAgIGlmKG1vZHVsZS5leHBvcnRzW2JpbmRpbmddKSB7XG5cdCAgICAgICAgICBtb2R1bGUuZXhwb3J0c1tiaW5kaW5nXSA9IHBhdGNoZWQ7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9KTtcblxuXHQgICAgbW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKGRhdGEpIHtcblx0ICAgICAgZGF0YS5wYXRjaGVkQmluZGluZ3MgPSBwYXRjaGVkQmluZGluZ3M7XG5cdCAgICAgIGRhdGEubW9kdWxlRXZhbCA9IG1vZHVsZUV2YWw7XG5cdCAgICAgIGRhdGEubW9kdWxlRXZhbFdpdGhTY29wZSA9IG1vZHVsZUV2YWxXaXRoU2NvcGU7XG5cdCAgICB9KTtcblx0ICB9XG5cdCAgZWxzZSB7XG5cdCAgICB2YXIgcGF0Y2hlZEJpbmRpbmdzID0gbW9kdWxlLmhvdC5kYXRhLnBhdGNoZWRCaW5kaW5ncztcblxuXHQgICAgYmluZGluZ3MuZm9yRWFjaChmdW5jdGlvbihiaW5kaW5nKSB7XG5cdCAgICAgIHZhciBmID0gZXZhbChiaW5kaW5nKTtcblxuXHQgICAgICBpZih0eXBlb2YgZiA9PT0gJ2Z1bmN0aW9uJyAmJiBiaW5kaW5nICE9PSAnX19ldmFsJykge1xuXHQgICAgICAgIC8vIFdlIG5lZWQgdG8gcmVpZnkgdGhlIGZ1bmN0aW9uIGluIHRoZSBvcmlnaW5hbCBtb2R1bGUgc29cblx0ICAgICAgICAvLyBpdCByZWZlcmVuY2VzIGFueSBvZiB0aGUgb3JpZ2luYWwgc3RhdGUuIFN0cmlwIHRoZSBuYW1lXG5cdCAgICAgICAgLy8gYW5kIHNpbXBseSBldmFsIGl0LlxuXHQgICAgICAgIHZhciBmdW5jQ29kZSA9IChcblx0ICAgICAgICAgICcoJyArIGYudG9TdHJpbmcoKS5yZXBsYWNlKC9eZnVuY3Rpb24gXFx3K1xcKC8sICdmdW5jdGlvbiAoJykgKyAnKSdcblx0ICAgICAgICApO1xuXHQgICAgICAgIHBhdGNoZWRCaW5kaW5nc1tiaW5kaW5nXSA9IG1vZHVsZS5ob3QuZGF0YS5tb2R1bGVFdmFsKGZ1bmNDb2RlKTtcblx0ICAgICAgfVxuXHQgICAgfSk7XG5cblx0ICAgIGlmKHR5cGVvZiBfX2V2YWwgPT09ICdmdW5jdGlvbicpIHtcblx0ICAgICAgdHJ5IHtcblx0ICAgICAgICBtb2R1bGUuaG90LmRhdGEubW9kdWxlRXZhbFdpdGhTY29wZShnZXRFdmFsU291cmNlKF9fZXZhbCkpO1xuXHQgICAgICB9XG5cdCAgICAgIGNhdGNoKGUpIHtcblx0ICAgICAgICBjb25zb2xlLmxvZygnZXJyb3IgZXZhbGluZzogJyArIGUpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cblx0ICAgIG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbihkYXRhKSB7XG5cdCAgICAgIGRhdGEucGF0Y2hlZEJpbmRpbmdzID0gcGF0Y2hlZEJpbmRpbmdzO1xuXHQgICAgICBkYXRhLm1vZHVsZUV2YWwgPSBtb2R1bGUuaG90LmRhdGEubW9kdWxlRXZhbDtcblx0ICAgICAgZGF0YS5tb2R1bGVFdmFsV2l0aFNjb3BlID0gbW9kdWxlLmhvdC5kYXRhLm1vZHVsZUV2YWxXaXRoU2NvcGU7XG5cdCAgICB9KTtcblx0ICB9XG5cdH1cblxuXG4vKioqLyB9LFxuLyogOTQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5yZW5kZXIgPSByZW5kZXI7XG5cdFxuXHR2YXIgX3JlbmRlclV0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMik7XG5cdFxuXHR2YXIgX3JlbmRlckNhbnZhcyA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cdFxuXHR2YXIgX2NyYXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMyk7XG5cdFxuXHR2YXIgQ1JBVEVfU1BSSVRFID0gKDAsIF9yZW5kZXJVdGlscy5pbWFnZSkoX193ZWJwYWNrX3JlcXVpcmVfXygxMjEpKTtcblx0XG5cdGZ1bmN0aW9uIHJlbmRlcihjcmF0ZSkge1xuXHQgIHZhciB3aWR0aCA9ICgwLCBfcmVuZGVyVXRpbHMuc2NhbGUpKF9jcmF0ZS5DUkFURV9TSVpFKTtcblx0ICB2YXIgaGVpZ2h0ID0gKDAsIF9yZW5kZXJVdGlscy5zY2FsZSkoX2NyYXRlLkNSQVRFX1NJWkUpO1xuXHRcblx0ICB2YXIgY2FudmFzQ29vcmRpbmF0ZXMgPSAoMCwgX3JlbmRlclV0aWxzLmJvZHlUb0NhbnZhcykoY3JhdGUuYm9keSk7XG5cdFxuXHQgIF9yZW5kZXJDYW52YXMuY3R4LnNhdmUoKTtcblx0XG5cdCAgX3JlbmRlckNhbnZhcy5jdHgudHJhbnNsYXRlKGNhbnZhc0Nvb3JkaW5hdGVzLngsIGNhbnZhc0Nvb3JkaW5hdGVzLnkpO1xuXHQgIF9yZW5kZXJDYW52YXMuY3R4LnJvdGF0ZShjcmF0ZS5ib2R5LmFuZ2xlKTtcblx0XG5cdCAgX3JlbmRlckNhbnZhcy5jdHgudHJhbnNsYXRlKC13aWR0aCAvIDIsIC1oZWlnaHQgLyAyKTtcblx0XG5cdCAgX3JlbmRlckNhbnZhcy5jdHguZHJhd0ltYWdlKENSQVRFX1NQUklURSwgMCwgMCwgd2lkdGgsIGhlaWdodCk7XG5cdCAgLy8gY3R4LnN0cm9rZVJlY3QoMCwgMCwgd2lkdGgsIGhlaWdodCk7XG5cdCAgX3JlbmRlckNhbnZhcy5jdHgucmVzdG9yZSgpO1xuXHR9XG5cblx0LyogSE9UIFBBVENIIExPQURFUiAqLyB2YXIgX19tb2R1bGVCaW5kaW5ncyA9IFtcInJlbmRlclwiXTsgaWYoZmFsc2UpIHtcblx0ICBtb2R1bGUuaG90LmFjY2VwdChmdW5jdGlvbihlcnIpIHtcblx0ICAgIGNvbnNvbGUubG9nKCdbSE1SXSBFcnJvciBhY2NlcHRpbmc6ICcgKyBlcnIpO1xuXHQgIH0pO1xuXG5cdCAgdmFyIGdldEV2YWxTb3VyY2UgPSBmdW5jdGlvbihmdW5jKSB7XG5cdCAgICB2YXIgY29kZSA9IGZ1bmMudG9TdHJpbmcoKTtcblx0ICAgIHZhciBtID0gY29kZS5tYXRjaCgvXmZ1bmN0aW9uXFxzK19fZXZhbFxccypcXCgoLiopXFwpXFxzKlxceyhbXFxzXFxTXSopXFx9JC9pKTtcblx0ICAgIGlmKCFtKSB7XG5cdCAgICAgIHJldHVybiBudWxsO1xuXHQgICAgfVxuXHQgICAgdmFyIGFyZ3MgPSBtWzFdO1xuXHQgICAgdmFyIGJvZHkgPSBtWzJdO1xuXHQgICAgdmFyIHNjb3BlID0ge307XG5cblx0ICAgIGlmKGFyZ3MudHJpbSgpKSB7XG5cdCAgICAgIGFyZ3Muc3BsaXQoJywnKS5mb3JFYWNoKGZ1bmN0aW9uKGFyZykge1xuXHQgICAgICAgIGlmKGFyZy5pbmRleE9mKCc9JykgIT09IC0xKSB7XG5cdCAgICAgICAgICB2YXIgcCA9IGFyZy5zcGxpdCgnPScpO1xuXHQgICAgICAgICAgc2NvcGVbcFswXS50cmltKCldID0gSlNPTi5wYXJzZShwWzFdKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgZWxzZSB7XG5cdCAgICAgICAgICBzY29wZVthcmcudHJpbSgpXSA9IHVuZGVmaW5lZDtcblx0ICAgICAgICB9XG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXG5cdCAgICByZXR1cm4geyBib2R5OiBib2R5LCBzY29wZTogc2NvcGUgfTtcblx0ICB9XG5cblx0ICB2YXIgaW5qZWN0U2NvcGUgPSBmdW5jdGlvbihzY29wZSwgY29kZSkge1xuXHQgICAgLy8gVGFrZSBhbiBleHBsaWNpdCBzY29wZSBvYmplY3QgYW5kIGluamVjdCBpdCBzbyB0aGF0XG5cdCAgICAvLyBgY29kZWAgcnVucyBpbiBjb250ZXh0IG9mIGl0XG5cdCAgICB2YXIgaW5qZWN0ZWQgPSBPYmplY3Qua2V5cyhzY29wZSkubWFwKGZ1bmN0aW9uKGJpbmRpbmcpIHtcblx0ICAgICAgcmV0dXJuICd2YXIgJyArIGJpbmRpbmcgKyAnID0gZXZhbFNjb3BlLicgKyBiaW5kaW5nICsgJzsnXG5cdCAgICB9KS5qb2luKCcgJyk7XG5cblx0ICAgIC8vIFVwZGF0ZSBvdXIgc2NvcGUgb2JqZWN0IHdpdGggYW55IG1vZGlmaWNhdGlvbnNcblx0ICAgIHZhciBleHRyYWN0ZWQgPSBPYmplY3Qua2V5cyhzY29wZSkubWFwKGZ1bmN0aW9uKGJpbmRpbmcpIHtcblx0ICAgICAgcmV0dXJuICdldmFsU2NvcGUuJyArIGJpbmRpbmcgKyAnID0gJyArIGJpbmRpbmcgKyAnOyc7XG5cdCAgICB9KS5qb2luKCcgJyk7XG5cblx0ICAgIHJldHVybiBpbmplY3RlZCArIGNvZGUgKyBleHRyYWN0ZWQ7XG5cdCAgfVxuXG5cdCAgdmFyIGJpbmRpbmdzID0gX19tb2R1bGVCaW5kaW5ncztcblxuXHQgIGlmKCFtb2R1bGUuaG90LmRhdGEpIHtcblx0ICAgIC8vIEZpcnN0IHRpbWUgbG9hZGluZy4gVHJ5IGFuZCBwYXRjaCBzb21ldGhpbmcuXG5cdCAgICB2YXIgcGF0Y2hlZEJpbmRpbmdzID0ge307XG5cdCAgICB2YXIgZXZhbFNjb3BlID0ge307XG5cblx0ICAgIHZhciBtb2R1bGVFdmFsV2l0aFNjb3BlID0gZnVuY3Rpb24oZnJhbWUpIHtcblx0ICAgICAgLy8gVXBkYXRlIHRoZSBzY29wZSB0byByZWZsZWN0IG9ubHkgdGhlIHZhbHVlcyBzcGVjaWZpZWQgYXNcblx0ICAgICAgLy8gYXJndW1lbnRzIHRvIHRoZSBfX2V2YWwgZnVuY3Rpb24uIENvcHkgb3ZlciB2YWx1ZXMgZnJvbSB0aGVcblx0ICAgICAgLy8gZXhpc3Rpbmcgc2NvcGUgYW5kIGlnbm9yZSB0aGUgcmVzdC5cblx0ICAgICAgT2JqZWN0LmtleXMoZXZhbFNjb3BlKS5mb3JFYWNoKGZ1bmN0aW9uKGFyZykge1xuXHQgICAgICAgIGlmKGFyZyBpbiBmcmFtZS5zY29wZSkge1xuXHQgICAgICAgICAgZnJhbWUuc2NvcGVbYXJnXSA9IGV2YWxTY29wZVthcmddO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSk7XG5cdCAgICAgIGV2YWxTY29wZSA9IGZyYW1lLnNjb3BlO1xuXG5cdCAgICAgIHZhciBjb2RlID0gaW5qZWN0U2NvcGUoZXZhbFNjb3BlLCBmcmFtZS5ib2R5KTtcblx0ICAgICAgcmV0dXJuIGV2YWwoY29kZSk7XG5cdCAgICB9XG5cblx0ICAgIHZhciBtb2R1bGVFdmFsID0gZnVuY3Rpb24oY29kZSkge1xuXHQgICAgICByZXR1cm4gZXZhbChjb2RlKTtcblx0ICAgIH1cblxuXHQgICAgYmluZGluZ3MuZm9yRWFjaChmdW5jdGlvbihiaW5kaW5nKSB7XG5cdCAgICAgIHZhciBmID0gZXZhbChiaW5kaW5nKTtcblxuXHQgICAgICBpZih0eXBlb2YgZiA9PT0gJ2Z1bmN0aW9uJyAmJiBiaW5kaW5nICE9PSAnX19ldmFsJykge1xuXHQgICAgICAgIHZhciBwYXRjaGVkID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICBpZihwYXRjaGVkQmluZGluZ3NbYmluZGluZ10pIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHBhdGNoZWRCaW5kaW5nc1tiaW5kaW5nXS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgICAgZWxzZSB7XG5cdCAgICAgICAgICAgIHJldHVybiBmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfTtcblx0ICAgICAgICBwYXRjaGVkLnByb3RvdHlwZSA9IGYucHJvdG90eXBlO1xuXG5cdCAgICAgICAgZXZhbChiaW5kaW5nICsgJyA9IHBhdGNoZWQ7XFxuJyk7XG5cblx0ICAgICAgICBpZihtb2R1bGUuZXhwb3J0c1tiaW5kaW5nXSkge1xuXHQgICAgICAgICAgbW9kdWxlLmV4cG9ydHNbYmluZGluZ10gPSBwYXRjaGVkO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfSk7XG5cblx0ICAgIG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbihkYXRhKSB7XG5cdCAgICAgIGRhdGEucGF0Y2hlZEJpbmRpbmdzID0gcGF0Y2hlZEJpbmRpbmdzO1xuXHQgICAgICBkYXRhLm1vZHVsZUV2YWwgPSBtb2R1bGVFdmFsO1xuXHQgICAgICBkYXRhLm1vZHVsZUV2YWxXaXRoU2NvcGUgPSBtb2R1bGVFdmFsV2l0aFNjb3BlO1xuXHQgICAgfSk7XG5cdCAgfVxuXHQgIGVsc2Uge1xuXHQgICAgdmFyIHBhdGNoZWRCaW5kaW5ncyA9IG1vZHVsZS5ob3QuZGF0YS5wYXRjaGVkQmluZGluZ3M7XG5cblx0ICAgIGJpbmRpbmdzLmZvckVhY2goZnVuY3Rpb24oYmluZGluZykge1xuXHQgICAgICB2YXIgZiA9IGV2YWwoYmluZGluZyk7XG5cblx0ICAgICAgaWYodHlwZW9mIGYgPT09ICdmdW5jdGlvbicgJiYgYmluZGluZyAhPT0gJ19fZXZhbCcpIHtcblx0ICAgICAgICAvLyBXZSBuZWVkIHRvIHJlaWZ5IHRoZSBmdW5jdGlvbiBpbiB0aGUgb3JpZ2luYWwgbW9kdWxlIHNvXG5cdCAgICAgICAgLy8gaXQgcmVmZXJlbmNlcyBhbnkgb2YgdGhlIG9yaWdpbmFsIHN0YXRlLiBTdHJpcCB0aGUgbmFtZVxuXHQgICAgICAgIC8vIGFuZCBzaW1wbHkgZXZhbCBpdC5cblx0ICAgICAgICB2YXIgZnVuY0NvZGUgPSAoXG5cdCAgICAgICAgICAnKCcgKyBmLnRvU3RyaW5nKCkucmVwbGFjZSgvXmZ1bmN0aW9uIFxcdytcXCgvLCAnZnVuY3Rpb24gKCcpICsgJyknXG5cdCAgICAgICAgKTtcblx0ICAgICAgICBwYXRjaGVkQmluZGluZ3NbYmluZGluZ10gPSBtb2R1bGUuaG90LmRhdGEubW9kdWxlRXZhbChmdW5jQ29kZSk7XG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXG5cdCAgICBpZih0eXBlb2YgX19ldmFsID09PSAnZnVuY3Rpb24nKSB7XG5cdCAgICAgIHRyeSB7XG5cdCAgICAgICAgbW9kdWxlLmhvdC5kYXRhLm1vZHVsZUV2YWxXaXRoU2NvcGUoZ2V0RXZhbFNvdXJjZShfX2V2YWwpKTtcblx0ICAgICAgfVxuXHQgICAgICBjYXRjaChlKSB7XG5cdCAgICAgICAgY29uc29sZS5sb2coJ2Vycm9yIGV2YWxpbmc6ICcgKyBlKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXG5cdCAgICBtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oZGF0YSkge1xuXHQgICAgICBkYXRhLnBhdGNoZWRCaW5kaW5ncyA9IHBhdGNoZWRCaW5kaW5ncztcblx0ICAgICAgZGF0YS5tb2R1bGVFdmFsID0gbW9kdWxlLmhvdC5kYXRhLm1vZHVsZUV2YWw7XG5cdCAgICAgIGRhdGEubW9kdWxlRXZhbFdpdGhTY29wZSA9IG1vZHVsZS5ob3QuZGF0YS5tb2R1bGVFdmFsV2l0aFNjb3BlO1xuXHQgICAgfSk7XG5cdCAgfVxuXHR9XG5cblxuLyoqKi8gfSxcbi8qIDk1ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX3NsaWNlZFRvQXJyYXkgPSAoZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBzbGljZUl0ZXJhdG9yKGFyciwgaSkgeyB2YXIgX2FyciA9IFtdOyB2YXIgX24gPSB0cnVlOyB2YXIgX2QgPSBmYWxzZTsgdmFyIF9lID0gdW5kZWZpbmVkOyB0cnkgeyBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7IF9hcnIucHVzaChfcy52YWx1ZSk7IGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsgfSB9IGNhdGNoIChlcnIpIHsgX2QgPSB0cnVlOyBfZSA9IGVycjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFfbiAmJiBfaVsncmV0dXJuJ10pIF9pWydyZXR1cm4nXSgpOyB9IGZpbmFsbHkgeyBpZiAoX2QpIHRocm93IF9lOyB9IH0gcmV0dXJuIF9hcnI7IH0gcmV0dXJuIGZ1bmN0aW9uIChhcnIsIGkpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgeyByZXR1cm4gYXJyOyB9IGVsc2UgaWYgKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoYXJyKSkgeyByZXR1cm4gc2xpY2VJdGVyYXRvcihhcnIsIGkpOyB9IGVsc2UgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlJyk7IH0gfTsgfSkoKTtcblx0XG5cdGV4cG9ydHMuaW5pdGlhbCA9IGluaXRpYWw7XG5cdGV4cG9ydHMudXBkYXRlID0gdXBkYXRlO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXHRcblx0dmFyIF9sb2Rhc2hTZXQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDg4KTtcblx0XG5cdHZhciBfbG9kYXNoU2V0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2xvZGFzaFNldCk7XG5cdFxuXHR2YXIgX2xvZGFzaFBhcnRpYWxyaWdodCA9IF9fd2VicGFja19yZXF1aXJlX18oODEpO1xuXHRcblx0dmFyIF9sb2Rhc2hQYXJ0aWFscmlnaHQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbG9kYXNoUGFydGlhbHJpZ2h0KTtcblx0XG5cdHZhciBBTElWRV9USU1FID0gMTAwMDtcblx0XG5cdGV4cG9ydHMuQUxJVkVfVElNRSA9IEFMSVZFX1RJTUU7XG5cdFxuXHRmdW5jdGlvbiBpbml0aWFsKCkge1xuXHQgIHJldHVybiB7XG5cdCAgICBleHBsb3Npb25zOiBbXSxcblx0ICAgIHNvdW5kczoge1xuXHQgICAgICBjcmVhdGVkOiBbXVxuXHQgICAgfVxuXHQgIH07XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHVwZGF0ZShfcmVmLCBpbnB1dCwgYnVsbGV0cykge1xuXHQgIHZhciBleHBsb3Npb25zID0gX3JlZi5leHBsb3Npb25zO1xuXHQgIHZhciBzb3VuZHMgPSBfcmVmLnNvdW5kcztcblx0XG5cdCAgdmFyIG5ld0V4cGxvc2lvbnMgPSBidWxsZXRzLmV4cGxvc2lvbnMubWFwKGZ1bmN0aW9uIChfcmVmMikge1xuXHQgICAgdmFyIF9yZWYyJGJvZHkkcG9zaXRpb24gPSBfc2xpY2VkVG9BcnJheShfcmVmMi5ib2R5LnBvc2l0aW9uLCAyKTtcblx0XG5cdCAgICB2YXIgeCA9IF9yZWYyJGJvZHkkcG9zaXRpb25bMF07XG5cdCAgICB2YXIgeSA9IF9yZWYyJGJvZHkkcG9zaXRpb25bMV07XG5cdCAgICByZXR1cm4ge1xuXHQgICAgICBwb3NpdGlvbjogeyB4OiB4LCB5OiB5IH0sXG5cdCAgICAgIGFsaXZlVGltZTogMFxuXHQgICAgfTtcblx0ICB9KTtcblx0XG5cdCAgcmV0dXJuIHtcblx0ICAgIGV4cGxvc2lvbnM6IGV4cGxvc2lvbnMuZmlsdGVyKGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgIHJldHVybiBlLmFsaXZlVGltZSA8IEFMSVZFX1RJTUU7XG5cdCAgICB9KS5tYXAoZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgZS5hbGl2ZVRpbWUgKz0gaW5wdXQuZGVsdGE7XG5cdCAgICAgIHJldHVybiBlO1xuXHQgICAgfSkuY29uY2F0KG5ld0V4cGxvc2lvbnMpLFxuXHQgICAgc291bmRzOiB7XG5cdCAgICAgIGNyZWF0ZWQ6IHNvdW5kcy5jcmVhdGVkLmNvbmNhdChidWxsZXRzLmV4cGxvc2lvbnMpXG5cdCAgICB9XG5cdCAgfTtcblx0fVxuXG5cdC8qIEhPVCBQQVRDSCBMT0FERVIgKi8gdmFyIF9fbW9kdWxlQmluZGluZ3MgPSBbXCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0XCIsXCJpbml0aWFsXCIsXCJ1cGRhdGVcIl07IGlmKGZhbHNlKSB7XG5cdCAgbW9kdWxlLmhvdC5hY2NlcHQoZnVuY3Rpb24oZXJyKSB7XG5cdCAgICBjb25zb2xlLmxvZygnW0hNUl0gRXJyb3IgYWNjZXB0aW5nOiAnICsgZXJyKTtcblx0ICB9KTtcblxuXHQgIHZhciBnZXRFdmFsU291cmNlID0gZnVuY3Rpb24oZnVuYykge1xuXHQgICAgdmFyIGNvZGUgPSBmdW5jLnRvU3RyaW5nKCk7XG5cdCAgICB2YXIgbSA9IGNvZGUubWF0Y2goL15mdW5jdGlvblxccytfX2V2YWxcXHMqXFwoKC4qKVxcKVxccypcXHsoW1xcc1xcU10qKVxcfSQvaSk7XG5cdCAgICBpZighbSkge1xuXHQgICAgICByZXR1cm4gbnVsbDtcblx0ICAgIH1cblx0ICAgIHZhciBhcmdzID0gbVsxXTtcblx0ICAgIHZhciBib2R5ID0gbVsyXTtcblx0ICAgIHZhciBzY29wZSA9IHt9O1xuXG5cdCAgICBpZihhcmdzLnRyaW0oKSkge1xuXHQgICAgICBhcmdzLnNwbGl0KCcsJykuZm9yRWFjaChmdW5jdGlvbihhcmcpIHtcblx0ICAgICAgICBpZihhcmcuaW5kZXhPZignPScpICE9PSAtMSkge1xuXHQgICAgICAgICAgdmFyIHAgPSBhcmcuc3BsaXQoJz0nKTtcblx0ICAgICAgICAgIHNjb3BlW3BbMF0udHJpbSgpXSA9IEpTT04ucGFyc2UocFsxXSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGVsc2Uge1xuXHQgICAgICAgICAgc2NvcGVbYXJnLnRyaW0oKV0gPSB1bmRlZmluZWQ7XG5cdCAgICAgICAgfVxuXHQgICAgICB9KTtcblx0ICAgIH1cblxuXHQgICAgcmV0dXJuIHsgYm9keTogYm9keSwgc2NvcGU6IHNjb3BlIH07XG5cdCAgfVxuXG5cdCAgdmFyIGluamVjdFNjb3BlID0gZnVuY3Rpb24oc2NvcGUsIGNvZGUpIHtcblx0ICAgIC8vIFRha2UgYW4gZXhwbGljaXQgc2NvcGUgb2JqZWN0IGFuZCBpbmplY3QgaXQgc28gdGhhdFxuXHQgICAgLy8gYGNvZGVgIHJ1bnMgaW4gY29udGV4dCBvZiBpdFxuXHQgICAgdmFyIGluamVjdGVkID0gT2JqZWN0LmtleXMoc2NvcGUpLm1hcChmdW5jdGlvbihiaW5kaW5nKSB7XG5cdCAgICAgIHJldHVybiAndmFyICcgKyBiaW5kaW5nICsgJyA9IGV2YWxTY29wZS4nICsgYmluZGluZyArICc7J1xuXHQgICAgfSkuam9pbignICcpO1xuXG5cdCAgICAvLyBVcGRhdGUgb3VyIHNjb3BlIG9iamVjdCB3aXRoIGFueSBtb2RpZmljYXRpb25zXG5cdCAgICB2YXIgZXh0cmFjdGVkID0gT2JqZWN0LmtleXMoc2NvcGUpLm1hcChmdW5jdGlvbihiaW5kaW5nKSB7XG5cdCAgICAgIHJldHVybiAnZXZhbFNjb3BlLicgKyBiaW5kaW5nICsgJyA9ICcgKyBiaW5kaW5nICsgJzsnO1xuXHQgICAgfSkuam9pbignICcpO1xuXG5cdCAgICByZXR1cm4gaW5qZWN0ZWQgKyBjb2RlICsgZXh0cmFjdGVkO1xuXHQgIH1cblxuXHQgIHZhciBiaW5kaW5ncyA9IF9fbW9kdWxlQmluZGluZ3M7XG5cblx0ICBpZighbW9kdWxlLmhvdC5kYXRhKSB7XG5cdCAgICAvLyBGaXJzdCB0aW1lIGxvYWRpbmcuIFRyeSBhbmQgcGF0Y2ggc29tZXRoaW5nLlxuXHQgICAgdmFyIHBhdGNoZWRCaW5kaW5ncyA9IHt9O1xuXHQgICAgdmFyIGV2YWxTY29wZSA9IHt9O1xuXG5cdCAgICB2YXIgbW9kdWxlRXZhbFdpdGhTY29wZSA9IGZ1bmN0aW9uKGZyYW1lKSB7XG5cdCAgICAgIC8vIFVwZGF0ZSB0aGUgc2NvcGUgdG8gcmVmbGVjdCBvbmx5IHRoZSB2YWx1ZXMgc3BlY2lmaWVkIGFzXG5cdCAgICAgIC8vIGFyZ3VtZW50cyB0byB0aGUgX19ldmFsIGZ1bmN0aW9uLiBDb3B5IG92ZXIgdmFsdWVzIGZyb20gdGhlXG5cdCAgICAgIC8vIGV4aXN0aW5nIHNjb3BlIGFuZCBpZ25vcmUgdGhlIHJlc3QuXG5cdCAgICAgIE9iamVjdC5rZXlzKGV2YWxTY29wZSkuZm9yRWFjaChmdW5jdGlvbihhcmcpIHtcblx0ICAgICAgICBpZihhcmcgaW4gZnJhbWUuc2NvcGUpIHtcblx0ICAgICAgICAgIGZyYW1lLnNjb3BlW2FyZ10gPSBldmFsU2NvcGVbYXJnXTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0pO1xuXHQgICAgICBldmFsU2NvcGUgPSBmcmFtZS5zY29wZTtcblxuXHQgICAgICB2YXIgY29kZSA9IGluamVjdFNjb3BlKGV2YWxTY29wZSwgZnJhbWUuYm9keSk7XG5cdCAgICAgIHJldHVybiBldmFsKGNvZGUpO1xuXHQgICAgfVxuXG5cdCAgICB2YXIgbW9kdWxlRXZhbCA9IGZ1bmN0aW9uKGNvZGUpIHtcblx0ICAgICAgcmV0dXJuIGV2YWwoY29kZSk7XG5cdCAgICB9XG5cblx0ICAgIGJpbmRpbmdzLmZvckVhY2goZnVuY3Rpb24oYmluZGluZykge1xuXHQgICAgICB2YXIgZiA9IGV2YWwoYmluZGluZyk7XG5cblx0ICAgICAgaWYodHlwZW9mIGYgPT09ICdmdW5jdGlvbicgJiYgYmluZGluZyAhPT0gJ19fZXZhbCcpIHtcblx0ICAgICAgICB2YXIgcGF0Y2hlZCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgaWYocGF0Y2hlZEJpbmRpbmdzW2JpbmRpbmddKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBwYXRjaGVkQmluZGluZ3NbYmluZGluZ10uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIGVsc2Uge1xuXHQgICAgICAgICAgICByZXR1cm4gZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH07XG5cdCAgICAgICAgcGF0Y2hlZC5wcm90b3R5cGUgPSBmLnByb3RvdHlwZTtcblxuXHQgICAgICAgIGV2YWwoYmluZGluZyArICcgPSBwYXRjaGVkO1xcbicpO1xuXG5cdCAgICAgICAgaWYobW9kdWxlLmV4cG9ydHNbYmluZGluZ10pIHtcblx0ICAgICAgICAgIG1vZHVsZS5leHBvcnRzW2JpbmRpbmddID0gcGF0Y2hlZDtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXG5cdCAgICBtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oZGF0YSkge1xuXHQgICAgICBkYXRhLnBhdGNoZWRCaW5kaW5ncyA9IHBhdGNoZWRCaW5kaW5ncztcblx0ICAgICAgZGF0YS5tb2R1bGVFdmFsID0gbW9kdWxlRXZhbDtcblx0ICAgICAgZGF0YS5tb2R1bGVFdmFsV2l0aFNjb3BlID0gbW9kdWxlRXZhbFdpdGhTY29wZTtcblx0ICAgIH0pO1xuXHQgIH1cblx0ICBlbHNlIHtcblx0ICAgIHZhciBwYXRjaGVkQmluZGluZ3MgPSBtb2R1bGUuaG90LmRhdGEucGF0Y2hlZEJpbmRpbmdzO1xuXG5cdCAgICBiaW5kaW5ncy5mb3JFYWNoKGZ1bmN0aW9uKGJpbmRpbmcpIHtcblx0ICAgICAgdmFyIGYgPSBldmFsKGJpbmRpbmcpO1xuXG5cdCAgICAgIGlmKHR5cGVvZiBmID09PSAnZnVuY3Rpb24nICYmIGJpbmRpbmcgIT09ICdfX2V2YWwnKSB7XG5cdCAgICAgICAgLy8gV2UgbmVlZCB0byByZWlmeSB0aGUgZnVuY3Rpb24gaW4gdGhlIG9yaWdpbmFsIG1vZHVsZSBzb1xuXHQgICAgICAgIC8vIGl0IHJlZmVyZW5jZXMgYW55IG9mIHRoZSBvcmlnaW5hbCBzdGF0ZS4gU3RyaXAgdGhlIG5hbWVcblx0ICAgICAgICAvLyBhbmQgc2ltcGx5IGV2YWwgaXQuXG5cdCAgICAgICAgdmFyIGZ1bmNDb2RlID0gKFxuXHQgICAgICAgICAgJygnICsgZi50b1N0cmluZygpLnJlcGxhY2UoL15mdW5jdGlvbiBcXHcrXFwoLywgJ2Z1bmN0aW9uICgnKSArICcpJ1xuXHQgICAgICAgICk7XG5cdCAgICAgICAgcGF0Y2hlZEJpbmRpbmdzW2JpbmRpbmddID0gbW9kdWxlLmhvdC5kYXRhLm1vZHVsZUV2YWwoZnVuY0NvZGUpO1xuXHQgICAgICB9XG5cdCAgICB9KTtcblxuXHQgICAgaWYodHlwZW9mIF9fZXZhbCA9PT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICB0cnkge1xuXHQgICAgICAgIG1vZHVsZS5ob3QuZGF0YS5tb2R1bGVFdmFsV2l0aFNjb3BlKGdldEV2YWxTb3VyY2UoX19ldmFsKSk7XG5cdCAgICAgIH1cblx0ICAgICAgY2F0Y2goZSkge1xuXHQgICAgICAgIGNvbnNvbGUubG9nKCdlcnJvciBldmFsaW5nOiAnICsgZSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblxuXHQgICAgbW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKGRhdGEpIHtcblx0ICAgICAgZGF0YS5wYXRjaGVkQmluZGluZ3MgPSBwYXRjaGVkQmluZGluZ3M7XG5cdCAgICAgIGRhdGEubW9kdWxlRXZhbCA9IG1vZHVsZS5ob3QuZGF0YS5tb2R1bGVFdmFsO1xuXHQgICAgICBkYXRhLm1vZHVsZUV2YWxXaXRoU2NvcGUgPSBtb2R1bGUuaG90LmRhdGEubW9kdWxlRXZhbFdpdGhTY29wZTtcblx0ICAgIH0pO1xuXHQgIH1cblx0fVxuXG5cbi8qKiovIH0sXG4vKiA5NiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzWydkZWZhdWx0J10gPSBnYW1lTG9vcDtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblx0XG5cdHZhciBfYW5pbWF0aW9uRnJhbWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY2KTtcblx0XG5cdHZhciBfYW5pbWF0aW9uRnJhbWUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYW5pbWF0aW9uRnJhbWUpO1xuXHRcblx0dmFyIF9jb25zdGFudHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKTtcblx0XG5cdHZhciBkZWx0YVRpbWUgPSAoZnVuY3Rpb24gKCkge1xuXHQgIHZhciBsYXN0VGltZSA9IHVuZGVmaW5lZDtcblx0XG5cdCAgcmV0dXJuIGZ1bmN0aW9uIHRpbWVEZWx0YSh0aW1lc3RhbXApIHtcblx0ICAgIHZhciBjdXJyZW50ID0gdGltZXN0YW1wIC8gMTAwMDtcblx0XG5cdCAgICBsYXN0VGltZSA9IGxhc3RUaW1lIHx8IGN1cnJlbnQ7XG5cdCAgICB2YXIgZGlmZmVyZW5jZSA9IGN1cnJlbnQgLSBsYXN0VGltZTtcblx0XG5cdCAgICBsYXN0VGltZSA9IGN1cnJlbnQ7XG5cdFxuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgY3VycmVudDogY3VycmVudCxcblx0ICAgICAgZGlmZmVyZW5jZTogZGlmZmVyZW5jZSxcblx0ICAgICAgZGVsdGE6IGRpZmZlcmVuY2UgLyBfY29uc3RhbnRzLldPUkxEX1NQRUVEXG5cdCAgICB9O1xuXHQgIH07XG5cdH0pKCk7XG5cdFxuXHR2YXIgYW5pbWF0aW9uRnJhbWUgPSBuZXcgX2FuaW1hdGlvbkZyYW1lMlsnZGVmYXVsdCddKF9jb25zdGFudHMuRlJBTUVfUkFURSk7XG5cdFxuXHRmdW5jdGlvbiBnYW1lTG9vcChmbikge1xuXHRcblx0ICBmdW5jdGlvbiBsb29wKHRpbWVzdGFtcCkge1xuXHQgICAgYW5pbWF0aW9uRnJhbWUucmVxdWVzdChsb29wKTtcblx0ICAgIHJldHVybiBmbihkZWx0YVRpbWUodGltZXN0YW1wKSk7XG5cdCAgfVxuXHRcblx0ICBsb29wKDApO1xuXHR9XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcblxuXHQvKiBIT1QgUEFUQ0ggTE9BREVSICovIHZhciBfX21vZHVsZUJpbmRpbmdzID0gW1wiX2ludGVyb3BSZXF1aXJlRGVmYXVsdFwiLFwiZ2FtZUxvb3BcIl07IGlmKGZhbHNlKSB7XG5cdCAgbW9kdWxlLmhvdC5hY2NlcHQoZnVuY3Rpb24oZXJyKSB7XG5cdCAgICBjb25zb2xlLmxvZygnW0hNUl0gRXJyb3IgYWNjZXB0aW5nOiAnICsgZXJyKTtcblx0ICB9KTtcblxuXHQgIHZhciBnZXRFdmFsU291cmNlID0gZnVuY3Rpb24oZnVuYykge1xuXHQgICAgdmFyIGNvZGUgPSBmdW5jLnRvU3RyaW5nKCk7XG5cdCAgICB2YXIgbSA9IGNvZGUubWF0Y2goL15mdW5jdGlvblxccytfX2V2YWxcXHMqXFwoKC4qKVxcKVxccypcXHsoW1xcc1xcU10qKVxcfSQvaSk7XG5cdCAgICBpZighbSkge1xuXHQgICAgICByZXR1cm4gbnVsbDtcblx0ICAgIH1cblx0ICAgIHZhciBhcmdzID0gbVsxXTtcblx0ICAgIHZhciBib2R5ID0gbVsyXTtcblx0ICAgIHZhciBzY29wZSA9IHt9O1xuXG5cdCAgICBpZihhcmdzLnRyaW0oKSkge1xuXHQgICAgICBhcmdzLnNwbGl0KCcsJykuZm9yRWFjaChmdW5jdGlvbihhcmcpIHtcblx0ICAgICAgICBpZihhcmcuaW5kZXhPZignPScpICE9PSAtMSkge1xuXHQgICAgICAgICAgdmFyIHAgPSBhcmcuc3BsaXQoJz0nKTtcblx0ICAgICAgICAgIHNjb3BlW3BbMF0udHJpbSgpXSA9IEpTT04ucGFyc2UocFsxXSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGVsc2Uge1xuXHQgICAgICAgICAgc2NvcGVbYXJnLnRyaW0oKV0gPSB1bmRlZmluZWQ7XG5cdCAgICAgICAgfVxuXHQgICAgICB9KTtcblx0ICAgIH1cblxuXHQgICAgcmV0dXJuIHsgYm9keTogYm9keSwgc2NvcGU6IHNjb3BlIH07XG5cdCAgfVxuXG5cdCAgdmFyIGluamVjdFNjb3BlID0gZnVuY3Rpb24oc2NvcGUsIGNvZGUpIHtcblx0ICAgIC8vIFRha2UgYW4gZXhwbGljaXQgc2NvcGUgb2JqZWN0IGFuZCBpbmplY3QgaXQgc28gdGhhdFxuXHQgICAgLy8gYGNvZGVgIHJ1bnMgaW4gY29udGV4dCBvZiBpdFxuXHQgICAgdmFyIGluamVjdGVkID0gT2JqZWN0LmtleXMoc2NvcGUpLm1hcChmdW5jdGlvbihiaW5kaW5nKSB7XG5cdCAgICAgIHJldHVybiAndmFyICcgKyBiaW5kaW5nICsgJyA9IGV2YWxTY29wZS4nICsgYmluZGluZyArICc7J1xuXHQgICAgfSkuam9pbignICcpO1xuXG5cdCAgICAvLyBVcGRhdGUgb3VyIHNjb3BlIG9iamVjdCB3aXRoIGFueSBtb2RpZmljYXRpb25zXG5cdCAgICB2YXIgZXh0cmFjdGVkID0gT2JqZWN0LmtleXMoc2NvcGUpLm1hcChmdW5jdGlvbihiaW5kaW5nKSB7XG5cdCAgICAgIHJldHVybiAnZXZhbFNjb3BlLicgKyBiaW5kaW5nICsgJyA9ICcgKyBiaW5kaW5nICsgJzsnO1xuXHQgICAgfSkuam9pbignICcpO1xuXG5cdCAgICByZXR1cm4gaW5qZWN0ZWQgKyBjb2RlICsgZXh0cmFjdGVkO1xuXHQgIH1cblxuXHQgIHZhciBiaW5kaW5ncyA9IF9fbW9kdWxlQmluZGluZ3M7XG5cblx0ICBpZighbW9kdWxlLmhvdC5kYXRhKSB7XG5cdCAgICAvLyBGaXJzdCB0aW1lIGxvYWRpbmcuIFRyeSBhbmQgcGF0Y2ggc29tZXRoaW5nLlxuXHQgICAgdmFyIHBhdGNoZWRCaW5kaW5ncyA9IHt9O1xuXHQgICAgdmFyIGV2YWxTY29wZSA9IHt9O1xuXG5cdCAgICB2YXIgbW9kdWxlRXZhbFdpdGhTY29wZSA9IGZ1bmN0aW9uKGZyYW1lKSB7XG5cdCAgICAgIC8vIFVwZGF0ZSB0aGUgc2NvcGUgdG8gcmVmbGVjdCBvbmx5IHRoZSB2YWx1ZXMgc3BlY2lmaWVkIGFzXG5cdCAgICAgIC8vIGFyZ3VtZW50cyB0byB0aGUgX19ldmFsIGZ1bmN0aW9uLiBDb3B5IG92ZXIgdmFsdWVzIGZyb20gdGhlXG5cdCAgICAgIC8vIGV4aXN0aW5nIHNjb3BlIGFuZCBpZ25vcmUgdGhlIHJlc3QuXG5cdCAgICAgIE9iamVjdC5rZXlzKGV2YWxTY29wZSkuZm9yRWFjaChmdW5jdGlvbihhcmcpIHtcblx0ICAgICAgICBpZihhcmcgaW4gZnJhbWUuc2NvcGUpIHtcblx0ICAgICAgICAgIGZyYW1lLnNjb3BlW2FyZ10gPSBldmFsU2NvcGVbYXJnXTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0pO1xuXHQgICAgICBldmFsU2NvcGUgPSBmcmFtZS5zY29wZTtcblxuXHQgICAgICB2YXIgY29kZSA9IGluamVjdFNjb3BlKGV2YWxTY29wZSwgZnJhbWUuYm9keSk7XG5cdCAgICAgIHJldHVybiBldmFsKGNvZGUpO1xuXHQgICAgfVxuXG5cdCAgICB2YXIgbW9kdWxlRXZhbCA9IGZ1bmN0aW9uKGNvZGUpIHtcblx0ICAgICAgcmV0dXJuIGV2YWwoY29kZSk7XG5cdCAgICB9XG5cblx0ICAgIGJpbmRpbmdzLmZvckVhY2goZnVuY3Rpb24oYmluZGluZykge1xuXHQgICAgICB2YXIgZiA9IGV2YWwoYmluZGluZyk7XG5cblx0ICAgICAgaWYodHlwZW9mIGYgPT09ICdmdW5jdGlvbicgJiYgYmluZGluZyAhPT0gJ19fZXZhbCcpIHtcblx0ICAgICAgICB2YXIgcGF0Y2hlZCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgaWYocGF0Y2hlZEJpbmRpbmdzW2JpbmRpbmddKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBwYXRjaGVkQmluZGluZ3NbYmluZGluZ10uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIGVsc2Uge1xuXHQgICAgICAgICAgICByZXR1cm4gZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH07XG5cdCAgICAgICAgcGF0Y2hlZC5wcm90b3R5cGUgPSBmLnByb3RvdHlwZTtcblxuXHQgICAgICAgIGV2YWwoYmluZGluZyArICcgPSBwYXRjaGVkO1xcbicpO1xuXG5cdCAgICAgICAgaWYobW9kdWxlLmV4cG9ydHNbYmluZGluZ10pIHtcblx0ICAgICAgICAgIG1vZHVsZS5leHBvcnRzW2JpbmRpbmddID0gcGF0Y2hlZDtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXG5cdCAgICBtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oZGF0YSkge1xuXHQgICAgICBkYXRhLnBhdGNoZWRCaW5kaW5ncyA9IHBhdGNoZWRCaW5kaW5ncztcblx0ICAgICAgZGF0YS5tb2R1bGVFdmFsID0gbW9kdWxlRXZhbDtcblx0ICAgICAgZGF0YS5tb2R1bGVFdmFsV2l0aFNjb3BlID0gbW9kdWxlRXZhbFdpdGhTY29wZTtcblx0ICAgIH0pO1xuXHQgIH1cblx0ICBlbHNlIHtcblx0ICAgIHZhciBwYXRjaGVkQmluZGluZ3MgPSBtb2R1bGUuaG90LmRhdGEucGF0Y2hlZEJpbmRpbmdzO1xuXG5cdCAgICBiaW5kaW5ncy5mb3JFYWNoKGZ1bmN0aW9uKGJpbmRpbmcpIHtcblx0ICAgICAgdmFyIGYgPSBldmFsKGJpbmRpbmcpO1xuXG5cdCAgICAgIGlmKHR5cGVvZiBmID09PSAnZnVuY3Rpb24nICYmIGJpbmRpbmcgIT09ICdfX2V2YWwnKSB7XG5cdCAgICAgICAgLy8gV2UgbmVlZCB0byByZWlmeSB0aGUgZnVuY3Rpb24gaW4gdGhlIG9yaWdpbmFsIG1vZHVsZSBzb1xuXHQgICAgICAgIC8vIGl0IHJlZmVyZW5jZXMgYW55IG9mIHRoZSBvcmlnaW5hbCBzdGF0ZS4gU3RyaXAgdGhlIG5hbWVcblx0ICAgICAgICAvLyBhbmQgc2ltcGx5IGV2YWwgaXQuXG5cdCAgICAgICAgdmFyIGZ1bmNDb2RlID0gKFxuXHQgICAgICAgICAgJygnICsgZi50b1N0cmluZygpLnJlcGxhY2UoL15mdW5jdGlvbiBcXHcrXFwoLywgJ2Z1bmN0aW9uICgnKSArICcpJ1xuXHQgICAgICAgICk7XG5cdCAgICAgICAgcGF0Y2hlZEJpbmRpbmdzW2JpbmRpbmddID0gbW9kdWxlLmhvdC5kYXRhLm1vZHVsZUV2YWwoZnVuY0NvZGUpO1xuXHQgICAgICB9XG5cdCAgICB9KTtcblxuXHQgICAgaWYodHlwZW9mIF9fZXZhbCA9PT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICB0cnkge1xuXHQgICAgICAgIG1vZHVsZS5ob3QuZGF0YS5tb2R1bGVFdmFsV2l0aFNjb3BlKGdldEV2YWxTb3VyY2UoX19ldmFsKSk7XG5cdCAgICAgIH1cblx0ICAgICAgY2F0Y2goZSkge1xuXHQgICAgICAgIGNvbnNvbGUubG9nKCdlcnJvciBldmFsaW5nOiAnICsgZSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblxuXHQgICAgbW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKGRhdGEpIHtcblx0ICAgICAgZGF0YS5wYXRjaGVkQmluZGluZ3MgPSBwYXRjaGVkQmluZGluZ3M7XG5cdCAgICAgIGRhdGEubW9kdWxlRXZhbCA9IG1vZHVsZS5ob3QuZGF0YS5tb2R1bGVFdmFsO1xuXHQgICAgICBkYXRhLm1vZHVsZUV2YWxXaXRoU2NvcGUgPSBtb2R1bGUuaG90LmRhdGEubW9kdWxlRXZhbFdpdGhTY29wZTtcblx0ICAgIH0pO1xuXHQgIH1cblx0fVxuXG5cbi8qKiovIH0sXG4vKiA5NyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09ialsnZGVmYXVsdCddID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblx0XG5cdHZhciBfcDIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXHRcblx0dmFyIF9yZW5kZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwMSk7XG5cdFxuXHR2YXIgX21hdGVyaWFscyA9IF9fd2VicGFja19yZXF1aXJlX18oMjQpO1xuXHRcblx0dmFyIF9zb3VuZHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwMik7XG5cdFxuXHR2YXIgX2dhbWVMb29wID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5Nik7XG5cdFxuXHR2YXIgX2dhbWVMb29wMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dhbWVMb29wKTtcblx0XG5cdHZhciBfaW5wdXQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDk4KTtcblx0XG5cdHZhciBpbnB1dCA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9pbnB1dCk7XG5cdFxuXHR2YXIgX3dvcmxkID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMyk7XG5cdFxuXHR2YXIgX3BsYXllciA9IF9fd2VicGFja19yZXF1aXJlX18oMTAwKTtcblx0XG5cdHZhciBfcGxhbmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExKTtcblx0XG5cdHZhciBfYnVsbGV0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzNyk7XG5cdFxuXHR2YXIgX2NyYXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMyk7XG5cdFxuXHR2YXIgX2V4cGxvc2lvbiA9IF9fd2VicGFja19yZXF1aXJlX18oOTUpO1xuXHRcblx0Lypcblx0ICogUGh5c2ljcyB3b3JsZCBpbml0aWFsaXphdGlvblxuXHQgKi9cblx0XG5cdHZhciBlbmdpbmUgPSBuZXcgX3AyLldvcmxkKHtcblx0ICBncmF2aXR5OiBbMCwgLTkuODJdXG5cdH0pO1xuXHRcblx0X21hdGVyaWFscy5jb250YWN0TWF0ZXJpYWxzLmZvckVhY2goZnVuY3Rpb24gKG1hdGVyaWFsKSB7XG5cdCAgcmV0dXJuIGVuZ2luZS5hZGRDb250YWN0TWF0ZXJpYWwobWF0ZXJpYWwpO1xuXHR9KTtcblx0XG5cdC8qXG5cdCAqIEdhbWUgc3RhdGUgJiBnYW1lIGxvb3Bcblx0ICovXG5cdFxuXHR2YXIgc3RhdGUgPSB7XG5cdCAgd29ybGQ6ICgwLCBfd29ybGQuaW5pdGlhbCkoZW5naW5lKSxcblx0ICBwbGF5ZXI6ICgwLCBfcGxheWVyLmluaXRpYWwpKGVuZ2luZSksXG5cdCAgYnVsbGV0czogKDAsIF9idWxsZXQuaW5pdGlhbCkoZW5naW5lKSxcblx0ICBjcmF0ZXM6ICgwLCBfY3JhdGUuaW5pdGlhbCkoZW5naW5lKSxcblx0ICBleHBsb3Npb25zOiAoMCwgX2V4cGxvc2lvbi5pbml0aWFsKShlbmdpbmUpLFxuXHQgIHBsYW5lczogKDAsIF9wbGFuZS5pbml0aWFsKShlbmdpbmUpLFxuXHQgIGVsYXBzZWRUaW1lOiAwXG5cdH07XG5cdFxuXHQoMCwgX2dhbWVMb29wMlsnZGVmYXVsdCddKShmdW5jdGlvbiAoX3JlZikge1xuXHQgIHZhciBkZWx0YSA9IF9yZWYuZGVsdGE7XG5cdFxuXHQgIHZhciBpbnB1dFN0YXRlID0gaW5wdXQuZ2V0U3RhdGUoKTtcblx0XG5cdCAgaW5wdXRTdGF0ZS5kZWx0YSA9IGRlbHRhO1xuXHQgIGlucHV0LmZsdXNoKCk7XG5cdFxuXHQgIHZhciB3b3JsZCA9ICgwLCBfd29ybGQudXBkYXRlKShzdGF0ZS53b3JsZCwgaW5wdXRTdGF0ZSk7XG5cdCAgdmFyIHBsYXllciA9ICgwLCBfcGxheWVyLnVwZGF0ZSkoc3RhdGUucGxheWVyLCBpbnB1dFN0YXRlLCB3b3JsZCk7XG5cdCAgdmFyIHBsYW5lcyA9ICgwLCBfcGxhbmUudXBkYXRlKShzdGF0ZS5wbGFuZXMsIGlucHV0U3RhdGUsIHdvcmxkKTtcblx0ICB2YXIgYnVsbGV0cyA9ICgwLCBfYnVsbGV0LnVwZGF0ZSkoc3RhdGUuYnVsbGV0cywgaW5wdXRTdGF0ZSwgd29ybGQsIHBsYXllcik7XG5cdCAgdmFyIGNyYXRlcyA9ICgwLCBfY3JhdGUudXBkYXRlKShzdGF0ZS5jcmF0ZXMsIGlucHV0U3RhdGUsIHdvcmxkKTtcblx0ICB2YXIgZXhwbG9zaW9ucyA9ICgwLCBfZXhwbG9zaW9uLnVwZGF0ZSkoc3RhdGUuZXhwbG9zaW9ucywgaW5wdXRTdGF0ZSwgYnVsbGV0cyk7XG5cdFxuXHQgIHN0YXRlID0ge1xuXHQgICAgd29ybGQ6IHdvcmxkLFxuXHQgICAgcGxheWVyOiBwbGF5ZXIsXG5cdCAgICBwbGFuZXM6IHBsYW5lcyxcblx0ICAgIGJ1bGxldHM6IGJ1bGxldHMsXG5cdCAgICBjcmF0ZXM6IGNyYXRlcyxcblx0ICAgIGV4cGxvc2lvbnM6IGV4cGxvc2lvbnMsXG5cdCAgICBlbGFwc2VkVGltZTogc3RhdGUuZWxhcHNlZFRpbWUgKyBkZWx0YVxuXHQgIH07XG5cdFxuXHQgICgwLCBfcmVuZGVyLnJlbmRlcikoc3RhdGUpO1xuXHQgICgwLCBfc291bmRzLnBsYXlTb3VuZHMpKHN0YXRlKTtcblx0fSk7XG5cdFxuXHQvKiBIT1QgUEFUQ0ggTE9BREVSICovIHZhciBfX21vZHVsZUJpbmRpbmdzID0gW1wiX2ludGVyb3BSZXF1aXJlV2lsZGNhcmRcIixcIl9pbnRlcm9wUmVxdWlyZURlZmF1bHRcIl07IGlmKGZhbHNlKSB7XG5cdCAgbW9kdWxlLmhvdC5hY2NlcHQoZnVuY3Rpb24oZXJyKSB7XG5cdCAgICBjb25zb2xlLmxvZygnW0hNUl0gRXJyb3IgYWNjZXB0aW5nOiAnICsgZXJyKTtcblx0ICB9KTtcblxuXHQgIHZhciBnZXRFdmFsU291cmNlID0gZnVuY3Rpb24oZnVuYykge1xuXHQgICAgdmFyIGNvZGUgPSBmdW5jLnRvU3RyaW5nKCk7XG5cdCAgICB2YXIgbSA9IGNvZGUubWF0Y2goL15mdW5jdGlvblxccytfX2V2YWxcXHMqXFwoKC4qKVxcKVxccypcXHsoW1xcc1xcU10qKVxcfSQvaSk7XG5cdCAgICBpZighbSkge1xuXHQgICAgICByZXR1cm4gbnVsbDtcblx0ICAgIH1cblx0ICAgIHZhciBhcmdzID0gbVsxXTtcblx0ICAgIHZhciBib2R5ID0gbVsyXTtcblx0ICAgIHZhciBzY29wZSA9IHt9O1xuXG5cdCAgICBpZihhcmdzLnRyaW0oKSkge1xuXHQgICAgICBhcmdzLnNwbGl0KCcsJykuZm9yRWFjaChmdW5jdGlvbihhcmcpIHtcblx0ICAgICAgICBpZihhcmcuaW5kZXhPZignPScpICE9PSAtMSkge1xuXHQgICAgICAgICAgdmFyIHAgPSBhcmcuc3BsaXQoJz0nKTtcblx0ICAgICAgICAgIHNjb3BlW3BbMF0udHJpbSgpXSA9IEpTT04ucGFyc2UocFsxXSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGVsc2Uge1xuXHQgICAgICAgICAgc2NvcGVbYXJnLnRyaW0oKV0gPSB1bmRlZmluZWQ7XG5cdCAgICAgICAgfVxuXHQgICAgICB9KTtcblx0ICAgIH1cblxuXHQgICAgcmV0dXJuIHsgYm9keTogYm9keSwgc2NvcGU6IHNjb3BlIH07XG5cdCAgfVxuXG5cdCAgdmFyIGluamVjdFNjb3BlID0gZnVuY3Rpb24oc2NvcGUsIGNvZGUpIHtcblx0ICAgIC8vIFRha2UgYW4gZXhwbGljaXQgc2NvcGUgb2JqZWN0IGFuZCBpbmplY3QgaXQgc28gdGhhdFxuXHQgICAgLy8gYGNvZGVgIHJ1bnMgaW4gY29udGV4dCBvZiBpdFxuXHQgICAgdmFyIGluamVjdGVkID0gT2JqZWN0LmtleXMoc2NvcGUpLm1hcChmdW5jdGlvbihiaW5kaW5nKSB7XG5cdCAgICAgIHJldHVybiAndmFyICcgKyBiaW5kaW5nICsgJyA9IGV2YWxTY29wZS4nICsgYmluZGluZyArICc7J1xuXHQgICAgfSkuam9pbignICcpO1xuXG5cdCAgICAvLyBVcGRhdGUgb3VyIHNjb3BlIG9iamVjdCB3aXRoIGFueSBtb2RpZmljYXRpb25zXG5cdCAgICB2YXIgZXh0cmFjdGVkID0gT2JqZWN0LmtleXMoc2NvcGUpLm1hcChmdW5jdGlvbihiaW5kaW5nKSB7XG5cdCAgICAgIHJldHVybiAnZXZhbFNjb3BlLicgKyBiaW5kaW5nICsgJyA9ICcgKyBiaW5kaW5nICsgJzsnO1xuXHQgICAgfSkuam9pbignICcpO1xuXG5cdCAgICByZXR1cm4gaW5qZWN0ZWQgKyBjb2RlICsgZXh0cmFjdGVkO1xuXHQgIH1cblxuXHQgIHZhciBiaW5kaW5ncyA9IF9fbW9kdWxlQmluZGluZ3M7XG5cblx0ICBpZighbW9kdWxlLmhvdC5kYXRhKSB7XG5cdCAgICAvLyBGaXJzdCB0aW1lIGxvYWRpbmcuIFRyeSBhbmQgcGF0Y2ggc29tZXRoaW5nLlxuXHQgICAgdmFyIHBhdGNoZWRCaW5kaW5ncyA9IHt9O1xuXHQgICAgdmFyIGV2YWxTY29wZSA9IHt9O1xuXG5cdCAgICB2YXIgbW9kdWxlRXZhbFdpdGhTY29wZSA9IGZ1bmN0aW9uKGZyYW1lKSB7XG5cdCAgICAgIC8vIFVwZGF0ZSB0aGUgc2NvcGUgdG8gcmVmbGVjdCBvbmx5IHRoZSB2YWx1ZXMgc3BlY2lmaWVkIGFzXG5cdCAgICAgIC8vIGFyZ3VtZW50cyB0byB0aGUgX19ldmFsIGZ1bmN0aW9uLiBDb3B5IG92ZXIgdmFsdWVzIGZyb20gdGhlXG5cdCAgICAgIC8vIGV4aXN0aW5nIHNjb3BlIGFuZCBpZ25vcmUgdGhlIHJlc3QuXG5cdCAgICAgIE9iamVjdC5rZXlzKGV2YWxTY29wZSkuZm9yRWFjaChmdW5jdGlvbihhcmcpIHtcblx0ICAgICAgICBpZihhcmcgaW4gZnJhbWUuc2NvcGUpIHtcblx0ICAgICAgICAgIGZyYW1lLnNjb3BlW2FyZ10gPSBldmFsU2NvcGVbYXJnXTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0pO1xuXHQgICAgICBldmFsU2NvcGUgPSBmcmFtZS5zY29wZTtcblxuXHQgICAgICB2YXIgY29kZSA9IGluamVjdFNjb3BlKGV2YWxTY29wZSwgZnJhbWUuYm9keSk7XG5cdCAgICAgIHJldHVybiBldmFsKGNvZGUpO1xuXHQgICAgfVxuXG5cdCAgICB2YXIgbW9kdWxlRXZhbCA9IGZ1bmN0aW9uKGNvZGUpIHtcblx0ICAgICAgcmV0dXJuIGV2YWwoY29kZSk7XG5cdCAgICB9XG5cblx0ICAgIGJpbmRpbmdzLmZvckVhY2goZnVuY3Rpb24oYmluZGluZykge1xuXHQgICAgICB2YXIgZiA9IGV2YWwoYmluZGluZyk7XG5cblx0ICAgICAgaWYodHlwZW9mIGYgPT09ICdmdW5jdGlvbicgJiYgYmluZGluZyAhPT0gJ19fZXZhbCcpIHtcblx0ICAgICAgICB2YXIgcGF0Y2hlZCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgaWYocGF0Y2hlZEJpbmRpbmdzW2JpbmRpbmddKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBwYXRjaGVkQmluZGluZ3NbYmluZGluZ10uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIGVsc2Uge1xuXHQgICAgICAgICAgICByZXR1cm4gZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH07XG5cdCAgICAgICAgcGF0Y2hlZC5wcm90b3R5cGUgPSBmLnByb3RvdHlwZTtcblxuXHQgICAgICAgIGV2YWwoYmluZGluZyArICcgPSBwYXRjaGVkO1xcbicpO1xuXG5cdCAgICAgICAgaWYobW9kdWxlLmV4cG9ydHNbYmluZGluZ10pIHtcblx0ICAgICAgICAgIG1vZHVsZS5leHBvcnRzW2JpbmRpbmddID0gcGF0Y2hlZDtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXG5cdCAgICBtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oZGF0YSkge1xuXHQgICAgICBkYXRhLnBhdGNoZWRCaW5kaW5ncyA9IHBhdGNoZWRCaW5kaW5ncztcblx0ICAgICAgZGF0YS5tb2R1bGVFdmFsID0gbW9kdWxlRXZhbDtcblx0ICAgICAgZGF0YS5tb2R1bGVFdmFsV2l0aFNjb3BlID0gbW9kdWxlRXZhbFdpdGhTY29wZTtcblx0ICAgIH0pO1xuXHQgIH1cblx0ICBlbHNlIHtcblx0ICAgIHZhciBwYXRjaGVkQmluZGluZ3MgPSBtb2R1bGUuaG90LmRhdGEucGF0Y2hlZEJpbmRpbmdzO1xuXG5cdCAgICBiaW5kaW5ncy5mb3JFYWNoKGZ1bmN0aW9uKGJpbmRpbmcpIHtcblx0ICAgICAgdmFyIGYgPSBldmFsKGJpbmRpbmcpO1xuXG5cdCAgICAgIGlmKHR5cGVvZiBmID09PSAnZnVuY3Rpb24nICYmIGJpbmRpbmcgIT09ICdfX2V2YWwnKSB7XG5cdCAgICAgICAgLy8gV2UgbmVlZCB0byByZWlmeSB0aGUgZnVuY3Rpb24gaW4gdGhlIG9yaWdpbmFsIG1vZHVsZSBzb1xuXHQgICAgICAgIC8vIGl0IHJlZmVyZW5jZXMgYW55IG9mIHRoZSBvcmlnaW5hbCBzdGF0ZS4gU3RyaXAgdGhlIG5hbWVcblx0ICAgICAgICAvLyBhbmQgc2ltcGx5IGV2YWwgaXQuXG5cdCAgICAgICAgdmFyIGZ1bmNDb2RlID0gKFxuXHQgICAgICAgICAgJygnICsgZi50b1N0cmluZygpLnJlcGxhY2UoL15mdW5jdGlvbiBcXHcrXFwoLywgJ2Z1bmN0aW9uICgnKSArICcpJ1xuXHQgICAgICAgICk7XG5cdCAgICAgICAgcGF0Y2hlZEJpbmRpbmdzW2JpbmRpbmddID0gbW9kdWxlLmhvdC5kYXRhLm1vZHVsZUV2YWwoZnVuY0NvZGUpO1xuXHQgICAgICB9XG5cdCAgICB9KTtcblxuXHQgICAgaWYodHlwZW9mIF9fZXZhbCA9PT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICB0cnkge1xuXHQgICAgICAgIG1vZHVsZS5ob3QuZGF0YS5tb2R1bGVFdmFsV2l0aFNjb3BlKGdldEV2YWxTb3VyY2UoX19ldmFsKSk7XG5cdCAgICAgIH1cblx0ICAgICAgY2F0Y2goZSkge1xuXHQgICAgICAgIGNvbnNvbGUubG9nKCdlcnJvciBldmFsaW5nOiAnICsgZSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblxuXHQgICAgbW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKGRhdGEpIHtcblx0ICAgICAgZGF0YS5wYXRjaGVkQmluZGluZ3MgPSBwYXRjaGVkQmluZGluZ3M7XG5cdCAgICAgIGRhdGEubW9kdWxlRXZhbCA9IG1vZHVsZS5ob3QuZGF0YS5tb2R1bGVFdmFsO1xuXHQgICAgICBkYXRhLm1vZHVsZUV2YWxXaXRoU2NvcGUgPSBtb2R1bGUuaG90LmRhdGEubW9kdWxlRXZhbFdpdGhTY29wZTtcblx0ICAgIH0pO1xuXHQgIH1cblx0fVxuXG5cbi8qKiovIH0sXG4vKiA5OCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9rZXlzO1xuXHRcblx0ZXhwb3J0cy5nZXRTdGF0ZSA9IGdldFN0YXRlO1xuXHRleHBvcnRzLmZsdXNoID0gZmx1c2g7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuXHRcblx0dmFyIF9iYWNvbmpzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMik7XG5cdFxuXHR2YXIgX2JhY29uanMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYmFjb25qcyk7XG5cdFxuXHR2YXIgX2V4dGVuZCA9IF9fd2VicGFja19yZXF1aXJlX18oMzMpO1xuXHRcblx0dmFyIF9leHRlbmQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0ZW5kKTtcblx0XG5cdHZhciBfY29uc3RhbnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMCk7XG5cdFxuXHQvLyBVc2VyIGV2ZW50c1xuXHR2YXIga2V5cyA9IChfa2V5cyA9IHt9LCBfZGVmaW5lUHJvcGVydHkoX2tleXMsIF9jb25zdGFudHMuVVBfS0VZLCAndXAnKSwgX2RlZmluZVByb3BlcnR5KF9rZXlzLCBfY29uc3RhbnRzLkRPV05fS0VZLCAnZG93bicpLCBfZGVmaW5lUHJvcGVydHkoX2tleXMsIF9jb25zdGFudHMuTEVGVF9LRVksICdsZWZ0JyksIF9kZWZpbmVQcm9wZXJ0eShfa2V5cywgX2NvbnN0YW50cy5SSUdIVF9LRVksICdyaWdodCcpLCBfa2V5cyk7XG5cdFxuXHRmdW5jdGlvbiBpbml0aWFsU3RhdGUoKSB7XG5cdCAgcmV0dXJuIHtcblx0ICAgIGtleXM6IHtcblx0ICAgICAgdXA6IGZhbHNlLFxuXHQgICAgICBkb3duOiBmYWxzZSxcblx0ICAgICAgbGVmdDogZmFsc2UsXG5cdCAgICAgIHJpZ2h0OiBmYWxzZVxuXHQgICAgfSxcblx0ICAgIHNob290OiBbXVxuXHQgIH07XG5cdH1cblx0XG5cdHZhciBpbnB1dFN0YXRlID0gaW5pdGlhbFN0YXRlKCk7XG5cdFxuXHR2YXIga2V5RG93biQgPSBfYmFjb25qczJbJ2RlZmF1bHQnXS5mcm9tRXZlbnQod2luZG93LCAna2V5ZG93bicpLm1hcCgnLmtleUNvZGUnKS5maWx0ZXIoZnVuY3Rpb24gKGMpIHtcblx0ICByZXR1cm4ga2V5cy5oYXNPd25Qcm9wZXJ0eShjKTtcblx0fSkubWFwKGZ1bmN0aW9uIChrZXlDb2RlKSB7XG5cdCAgcmV0dXJuIF9kZWZpbmVQcm9wZXJ0eSh7fSwga2V5c1trZXlDb2RlXSwgdHJ1ZSk7XG5cdH0pO1xuXHRcblx0dmFyIGtleVVwJCA9IF9iYWNvbmpzMlsnZGVmYXVsdCddLmZyb21FdmVudCh3aW5kb3csICdrZXl1cCcpLm1hcCgnLmtleUNvZGUnKS5maWx0ZXIoZnVuY3Rpb24gKGMpIHtcblx0ICByZXR1cm4ga2V5cy5oYXNPd25Qcm9wZXJ0eShjKTtcblx0fSkubWFwKGZ1bmN0aW9uIChrZXlDb2RlKSB7XG5cdCAgcmV0dXJuIF9kZWZpbmVQcm9wZXJ0eSh7fSwga2V5c1trZXlDb2RlXSwgZmFsc2UpO1xuXHR9KTtcblx0XG5cdHZhciBrZXlzRG93biQgPSBrZXlVcCQubWVyZ2Uoa2V5RG93biQpLnNjYW4oaW5wdXRTdGF0ZS5rZXlzLCBfZXh0ZW5kMlsnZGVmYXVsdCddKTtcblx0XG5cdHZhciBzaG9vdCQgPSBfYmFjb25qczJbJ2RlZmF1bHQnXS5mcm9tRXZlbnQod2luZG93LCAna2V5ZG93bicpLm1hcCgnLmtleUNvZGUnKS5maWx0ZXIoZnVuY3Rpb24gKGMpIHtcblx0ICByZXR1cm4gYyA9PT0gX2NvbnN0YW50cy5TUEFDRV9LRVk7XG5cdH0pO1xuXHRcblx0a2V5c0Rvd24kLm9uVmFsdWUoZnVuY3Rpb24gKHZhbHVlKSB7XG5cdCAgcmV0dXJuIGlucHV0U3RhdGUua2V5cyA9IHZhbHVlO1xuXHR9KTtcblx0c2hvb3QkLm9uVmFsdWUoZnVuY3Rpb24gKCkge1xuXHQgIHJldHVybiBpbnB1dFN0YXRlLnNob290LnB1c2godHJ1ZSk7XG5cdH0pO1xuXHRcblx0ZnVuY3Rpb24gZ2V0U3RhdGUoKSB7XG5cdCAgcmV0dXJuIGlucHV0U3RhdGU7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGZsdXNoKCkge1xuXHQgIGlucHV0U3RhdGUgPSB7XG5cdCAgICBrZXlzOiBpbnB1dFN0YXRlLmtleXMsXG5cdCAgICBzaG9vdDogW11cblx0ICB9O1xuXHR9XG5cblx0LyogSE9UIFBBVENIIExPQURFUiAqLyB2YXIgX19tb2R1bGVCaW5kaW5ncyA9IFtcIl9pbnRlcm9wUmVxdWlyZURlZmF1bHRcIixcIl9kZWZpbmVQcm9wZXJ0eVwiLFwiaW5pdGlhbFN0YXRlXCIsXCJnZXRTdGF0ZVwiLFwiZmx1c2hcIl07IGlmKGZhbHNlKSB7XG5cdCAgbW9kdWxlLmhvdC5hY2NlcHQoZnVuY3Rpb24oZXJyKSB7XG5cdCAgICBjb25zb2xlLmxvZygnW0hNUl0gRXJyb3IgYWNjZXB0aW5nOiAnICsgZXJyKTtcblx0ICB9KTtcblxuXHQgIHZhciBnZXRFdmFsU291cmNlID0gZnVuY3Rpb24oZnVuYykge1xuXHQgICAgdmFyIGNvZGUgPSBmdW5jLnRvU3RyaW5nKCk7XG5cdCAgICB2YXIgbSA9IGNvZGUubWF0Y2goL15mdW5jdGlvblxccytfX2V2YWxcXHMqXFwoKC4qKVxcKVxccypcXHsoW1xcc1xcU10qKVxcfSQvaSk7XG5cdCAgICBpZighbSkge1xuXHQgICAgICByZXR1cm4gbnVsbDtcblx0ICAgIH1cblx0ICAgIHZhciBhcmdzID0gbVsxXTtcblx0ICAgIHZhciBib2R5ID0gbVsyXTtcblx0ICAgIHZhciBzY29wZSA9IHt9O1xuXG5cdCAgICBpZihhcmdzLnRyaW0oKSkge1xuXHQgICAgICBhcmdzLnNwbGl0KCcsJykuZm9yRWFjaChmdW5jdGlvbihhcmcpIHtcblx0ICAgICAgICBpZihhcmcuaW5kZXhPZignPScpICE9PSAtMSkge1xuXHQgICAgICAgICAgdmFyIHAgPSBhcmcuc3BsaXQoJz0nKTtcblx0ICAgICAgICAgIHNjb3BlW3BbMF0udHJpbSgpXSA9IEpTT04ucGFyc2UocFsxXSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGVsc2Uge1xuXHQgICAgICAgICAgc2NvcGVbYXJnLnRyaW0oKV0gPSB1bmRlZmluZWQ7XG5cdCAgICAgICAgfVxuXHQgICAgICB9KTtcblx0ICAgIH1cblxuXHQgICAgcmV0dXJuIHsgYm9keTogYm9keSwgc2NvcGU6IHNjb3BlIH07XG5cdCAgfVxuXG5cdCAgdmFyIGluamVjdFNjb3BlID0gZnVuY3Rpb24oc2NvcGUsIGNvZGUpIHtcblx0ICAgIC8vIFRha2UgYW4gZXhwbGljaXQgc2NvcGUgb2JqZWN0IGFuZCBpbmplY3QgaXQgc28gdGhhdFxuXHQgICAgLy8gYGNvZGVgIHJ1bnMgaW4gY29udGV4dCBvZiBpdFxuXHQgICAgdmFyIGluamVjdGVkID0gT2JqZWN0LmtleXMoc2NvcGUpLm1hcChmdW5jdGlvbihiaW5kaW5nKSB7XG5cdCAgICAgIHJldHVybiAndmFyICcgKyBiaW5kaW5nICsgJyA9IGV2YWxTY29wZS4nICsgYmluZGluZyArICc7J1xuXHQgICAgfSkuam9pbignICcpO1xuXG5cdCAgICAvLyBVcGRhdGUgb3VyIHNjb3BlIG9iamVjdCB3aXRoIGFueSBtb2RpZmljYXRpb25zXG5cdCAgICB2YXIgZXh0cmFjdGVkID0gT2JqZWN0LmtleXMoc2NvcGUpLm1hcChmdW5jdGlvbihiaW5kaW5nKSB7XG5cdCAgICAgIHJldHVybiAnZXZhbFNjb3BlLicgKyBiaW5kaW5nICsgJyA9ICcgKyBiaW5kaW5nICsgJzsnO1xuXHQgICAgfSkuam9pbignICcpO1xuXG5cdCAgICByZXR1cm4gaW5qZWN0ZWQgKyBjb2RlICsgZXh0cmFjdGVkO1xuXHQgIH1cblxuXHQgIHZhciBiaW5kaW5ncyA9IF9fbW9kdWxlQmluZGluZ3M7XG5cblx0ICBpZighbW9kdWxlLmhvdC5kYXRhKSB7XG5cdCAgICAvLyBGaXJzdCB0aW1lIGxvYWRpbmcuIFRyeSBhbmQgcGF0Y2ggc29tZXRoaW5nLlxuXHQgICAgdmFyIHBhdGNoZWRCaW5kaW5ncyA9IHt9O1xuXHQgICAgdmFyIGV2YWxTY29wZSA9IHt9O1xuXG5cdCAgICB2YXIgbW9kdWxlRXZhbFdpdGhTY29wZSA9IGZ1bmN0aW9uKGZyYW1lKSB7XG5cdCAgICAgIC8vIFVwZGF0ZSB0aGUgc2NvcGUgdG8gcmVmbGVjdCBvbmx5IHRoZSB2YWx1ZXMgc3BlY2lmaWVkIGFzXG5cdCAgICAgIC8vIGFyZ3VtZW50cyB0byB0aGUgX19ldmFsIGZ1bmN0aW9uLiBDb3B5IG92ZXIgdmFsdWVzIGZyb20gdGhlXG5cdCAgICAgIC8vIGV4aXN0aW5nIHNjb3BlIGFuZCBpZ25vcmUgdGhlIHJlc3QuXG5cdCAgICAgIE9iamVjdC5rZXlzKGV2YWxTY29wZSkuZm9yRWFjaChmdW5jdGlvbihhcmcpIHtcblx0ICAgICAgICBpZihhcmcgaW4gZnJhbWUuc2NvcGUpIHtcblx0ICAgICAgICAgIGZyYW1lLnNjb3BlW2FyZ10gPSBldmFsU2NvcGVbYXJnXTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0pO1xuXHQgICAgICBldmFsU2NvcGUgPSBmcmFtZS5zY29wZTtcblxuXHQgICAgICB2YXIgY29kZSA9IGluamVjdFNjb3BlKGV2YWxTY29wZSwgZnJhbWUuYm9keSk7XG5cdCAgICAgIHJldHVybiBldmFsKGNvZGUpO1xuXHQgICAgfVxuXG5cdCAgICB2YXIgbW9kdWxlRXZhbCA9IGZ1bmN0aW9uKGNvZGUpIHtcblx0ICAgICAgcmV0dXJuIGV2YWwoY29kZSk7XG5cdCAgICB9XG5cblx0ICAgIGJpbmRpbmdzLmZvckVhY2goZnVuY3Rpb24oYmluZGluZykge1xuXHQgICAgICB2YXIgZiA9IGV2YWwoYmluZGluZyk7XG5cblx0ICAgICAgaWYodHlwZW9mIGYgPT09ICdmdW5jdGlvbicgJiYgYmluZGluZyAhPT0gJ19fZXZhbCcpIHtcblx0ICAgICAgICB2YXIgcGF0Y2hlZCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgaWYocGF0Y2hlZEJpbmRpbmdzW2JpbmRpbmddKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBwYXRjaGVkQmluZGluZ3NbYmluZGluZ10uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIGVsc2Uge1xuXHQgICAgICAgICAgICByZXR1cm4gZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH07XG5cdCAgICAgICAgcGF0Y2hlZC5wcm90b3R5cGUgPSBmLnByb3RvdHlwZTtcblxuXHQgICAgICAgIGV2YWwoYmluZGluZyArICcgPSBwYXRjaGVkO1xcbicpO1xuXG5cdCAgICAgICAgaWYobW9kdWxlLmV4cG9ydHNbYmluZGluZ10pIHtcblx0ICAgICAgICAgIG1vZHVsZS5leHBvcnRzW2JpbmRpbmddID0gcGF0Y2hlZDtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXG5cdCAgICBtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oZGF0YSkge1xuXHQgICAgICBkYXRhLnBhdGNoZWRCaW5kaW5ncyA9IHBhdGNoZWRCaW5kaW5ncztcblx0ICAgICAgZGF0YS5tb2R1bGVFdmFsID0gbW9kdWxlRXZhbDtcblx0ICAgICAgZGF0YS5tb2R1bGVFdmFsV2l0aFNjb3BlID0gbW9kdWxlRXZhbFdpdGhTY29wZTtcblx0ICAgIH0pO1xuXHQgIH1cblx0ICBlbHNlIHtcblx0ICAgIHZhciBwYXRjaGVkQmluZGluZ3MgPSBtb2R1bGUuaG90LmRhdGEucGF0Y2hlZEJpbmRpbmdzO1xuXG5cdCAgICBiaW5kaW5ncy5mb3JFYWNoKGZ1bmN0aW9uKGJpbmRpbmcpIHtcblx0ICAgICAgdmFyIGYgPSBldmFsKGJpbmRpbmcpO1xuXG5cdCAgICAgIGlmKHR5cGVvZiBmID09PSAnZnVuY3Rpb24nICYmIGJpbmRpbmcgIT09ICdfX2V2YWwnKSB7XG5cdCAgICAgICAgLy8gV2UgbmVlZCB0byByZWlmeSB0aGUgZnVuY3Rpb24gaW4gdGhlIG9yaWdpbmFsIG1vZHVsZSBzb1xuXHQgICAgICAgIC8vIGl0IHJlZmVyZW5jZXMgYW55IG9mIHRoZSBvcmlnaW5hbCBzdGF0ZS4gU3RyaXAgdGhlIG5hbWVcblx0ICAgICAgICAvLyBhbmQgc2ltcGx5IGV2YWwgaXQuXG5cdCAgICAgICAgdmFyIGZ1bmNDb2RlID0gKFxuXHQgICAgICAgICAgJygnICsgZi50b1N0cmluZygpLnJlcGxhY2UoL15mdW5jdGlvbiBcXHcrXFwoLywgJ2Z1bmN0aW9uICgnKSArICcpJ1xuXHQgICAgICAgICk7XG5cdCAgICAgICAgcGF0Y2hlZEJpbmRpbmdzW2JpbmRpbmddID0gbW9kdWxlLmhvdC5kYXRhLm1vZHVsZUV2YWwoZnVuY0NvZGUpO1xuXHQgICAgICB9XG5cdCAgICB9KTtcblxuXHQgICAgaWYodHlwZW9mIF9fZXZhbCA9PT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICB0cnkge1xuXHQgICAgICAgIG1vZHVsZS5ob3QuZGF0YS5tb2R1bGVFdmFsV2l0aFNjb3BlKGdldEV2YWxTb3VyY2UoX19ldmFsKSk7XG5cdCAgICAgIH1cblx0ICAgICAgY2F0Y2goZSkge1xuXHQgICAgICAgIGNvbnNvbGUubG9nKCdlcnJvciBldmFsaW5nOiAnICsgZSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblxuXHQgICAgbW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKGRhdGEpIHtcblx0ICAgICAgZGF0YS5wYXRjaGVkQmluZGluZ3MgPSBwYXRjaGVkQmluZGluZ3M7XG5cdCAgICAgIGRhdGEubW9kdWxlRXZhbCA9IG1vZHVsZS5ob3QuZGF0YS5tb2R1bGVFdmFsO1xuXHQgICAgICBkYXRhLm1vZHVsZUV2YWxXaXRoU2NvcGUgPSBtb2R1bGUuaG90LmRhdGEubW9kdWxlRXZhbFdpdGhTY29wZTtcblx0ICAgIH0pO1xuXHQgIH1cblx0fVxuXG5cbi8qKiovIH0sXG4vKiA5OSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLnJlbmRlciA9IHJlbmRlcjtcblx0XG5cdHZhciBfcmVuZGVyVXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyKTtcblx0XG5cdHZhciBfcmVuZGVyQ2FudmFzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblx0XG5cdHZhciBfcGxhbmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExKTtcblx0XG5cdHZhciBfcmVuZGVyQ29uc3RhbnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNSk7XG5cdFxuXHR2YXIgU1BSSVRFID0gKDAsIF9yZW5kZXJVdGlscy5pbWFnZSkoX193ZWJwYWNrX3JlcXVpcmVfXygxMjMpKTtcblx0XG5cdHZhciB3aWR0aCA9ICgwLCBfcmVuZGVyVXRpbHMuc2NhbGUpKF9wbGFuZS5XSURUSCk7XG5cdHZhciBoZWlnaHQgPSAoMCwgX3JlbmRlclV0aWxzLnNjYWxlKShfcGxhbmUuSEVJR0hUKTtcblx0XG5cdHZhciBncm91bmRMZXZlbCA9ICgwLCBfcmVuZGVyVXRpbHMuc2NhbGUpKF9yZW5kZXJDb25zdGFudHMuR1JPVU5EX0xFVkVMKTtcblx0XG5cdGZ1bmN0aW9uIHJlbmRlcihwbGFuZSkge1xuXHRcblx0ICB2YXIgY2FudmFzQ29vcmRpbmF0ZXMgPSAoMCwgX3JlbmRlclV0aWxzLmJvZHlUb0NhbnZhcykocGxhbmUuYm9keSk7XG5cdFxuXHQgIF9yZW5kZXJDYW52YXMuY3R4LnNhdmUoKTtcblx0XG5cdCAgLypcblx0ICAgKiBTaGFkb3dcblx0ICAgKi9cblx0XG5cdCAgdmFyIGRlbHRhID0gTWF0aC5tYXgoMCwgMSAtIHBsYW5lLmJvZHkucG9zaXRpb25bMV0gLyAzKTtcblx0XG5cdCAgdmFyIHNjYWxlWCA9IDIgLyBkZWx0YTtcblx0ICB2YXIgc2NhbGVZID0gMC4xNSAqIGRlbHRhO1xuXHRcblx0ICBfcmVuZGVyQ2FudmFzLmN0eC5zYXZlKCk7XG5cdCAgX3JlbmRlckNhbnZhcy5jdHgudHJhbnNsYXRlKGNhbnZhc0Nvb3JkaW5hdGVzLngsIF9yZW5kZXJDYW52YXMuY2FudmFzLmhlaWdodCAtIGdyb3VuZExldmVsICsgaGVpZ2h0KTtcblx0ICBfcmVuZGVyQ2FudmFzLmN0eC5iZWdpblBhdGgoKTtcblx0ICBfcmVuZGVyQ2FudmFzLmN0eC5zY2FsZSgxLCBzY2FsZVkpO1xuXHRcblx0ICBfcmVuZGVyQ2FudmFzLmN0eC5hcmMoMCwgaGVpZ2h0IC8gKHNjYWxlWSAqIDIpLCB3aWR0aCAvIHNjYWxlWCwgMCwgTWF0aC5QSSAqIDIpO1xuXHQgIF9yZW5kZXJDYW52YXMuY3R4LmZpbGxTdHlsZSA9ICdyZ2JhKDAsIDAsIDAsICcgKyAoMC4yICsgMC40ICogZGVsdGEpICsgJyknO1xuXHQgIF9yZW5kZXJDYW52YXMuY3R4LmZpbGwoKTtcblx0ICBfcmVuZGVyQ2FudmFzLmN0eC5yZXN0b3JlKCk7XG5cdFxuXHQgIF9yZW5kZXJDYW52YXMuY3R4LnRyYW5zbGF0ZShjYW52YXNDb29yZGluYXRlcy54LCBjYW52YXNDb29yZGluYXRlcy55KTtcblx0ICBfcmVuZGVyQ2FudmFzLmN0eC5yb3RhdGUocGxhbmUuYm9keS5hbmdsZSk7XG5cdCAgX3JlbmRlckNhbnZhcy5jdHgudHJhbnNsYXRlKC13aWR0aCAvIDIsIC1oZWlnaHQgLyAyKTtcblx0ICBfcmVuZGVyQ2FudmFzLmN0eC5kcmF3SW1hZ2UoU1BSSVRFLCAwLCAwLCBTUFJJVEUud2lkdGgsIFNQUklURS5oZWlnaHQsIDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuXHRcblx0ICAvLyBjdHguc3Ryb2tlUmVjdCgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcblx0XG5cdCAgX3JlbmRlckNhbnZhcy5jdHgucmVzdG9yZSgpO1xuXHR9XG5cblx0LyogSE9UIFBBVENIIExPQURFUiAqLyB2YXIgX19tb2R1bGVCaW5kaW5ncyA9IFtcInJlbmRlclwiXTsgaWYoZmFsc2UpIHtcblx0ICBtb2R1bGUuaG90LmFjY2VwdChmdW5jdGlvbihlcnIpIHtcblx0ICAgIGNvbnNvbGUubG9nKCdbSE1SXSBFcnJvciBhY2NlcHRpbmc6ICcgKyBlcnIpO1xuXHQgIH0pO1xuXG5cdCAgdmFyIGdldEV2YWxTb3VyY2UgPSBmdW5jdGlvbihmdW5jKSB7XG5cdCAgICB2YXIgY29kZSA9IGZ1bmMudG9TdHJpbmcoKTtcblx0ICAgIHZhciBtID0gY29kZS5tYXRjaCgvXmZ1bmN0aW9uXFxzK19fZXZhbFxccypcXCgoLiopXFwpXFxzKlxceyhbXFxzXFxTXSopXFx9JC9pKTtcblx0ICAgIGlmKCFtKSB7XG5cdCAgICAgIHJldHVybiBudWxsO1xuXHQgICAgfVxuXHQgICAgdmFyIGFyZ3MgPSBtWzFdO1xuXHQgICAgdmFyIGJvZHkgPSBtWzJdO1xuXHQgICAgdmFyIHNjb3BlID0ge307XG5cblx0ICAgIGlmKGFyZ3MudHJpbSgpKSB7XG5cdCAgICAgIGFyZ3Muc3BsaXQoJywnKS5mb3JFYWNoKGZ1bmN0aW9uKGFyZykge1xuXHQgICAgICAgIGlmKGFyZy5pbmRleE9mKCc9JykgIT09IC0xKSB7XG5cdCAgICAgICAgICB2YXIgcCA9IGFyZy5zcGxpdCgnPScpO1xuXHQgICAgICAgICAgc2NvcGVbcFswXS50cmltKCldID0gSlNPTi5wYXJzZShwWzFdKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgZWxzZSB7XG5cdCAgICAgICAgICBzY29wZVthcmcudHJpbSgpXSA9IHVuZGVmaW5lZDtcblx0ICAgICAgICB9XG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXG5cdCAgICByZXR1cm4geyBib2R5OiBib2R5LCBzY29wZTogc2NvcGUgfTtcblx0ICB9XG5cblx0ICB2YXIgaW5qZWN0U2NvcGUgPSBmdW5jdGlvbihzY29wZSwgY29kZSkge1xuXHQgICAgLy8gVGFrZSBhbiBleHBsaWNpdCBzY29wZSBvYmplY3QgYW5kIGluamVjdCBpdCBzbyB0aGF0XG5cdCAgICAvLyBgY29kZWAgcnVucyBpbiBjb250ZXh0IG9mIGl0XG5cdCAgICB2YXIgaW5qZWN0ZWQgPSBPYmplY3Qua2V5cyhzY29wZSkubWFwKGZ1bmN0aW9uKGJpbmRpbmcpIHtcblx0ICAgICAgcmV0dXJuICd2YXIgJyArIGJpbmRpbmcgKyAnID0gZXZhbFNjb3BlLicgKyBiaW5kaW5nICsgJzsnXG5cdCAgICB9KS5qb2luKCcgJyk7XG5cblx0ICAgIC8vIFVwZGF0ZSBvdXIgc2NvcGUgb2JqZWN0IHdpdGggYW55IG1vZGlmaWNhdGlvbnNcblx0ICAgIHZhciBleHRyYWN0ZWQgPSBPYmplY3Qua2V5cyhzY29wZSkubWFwKGZ1bmN0aW9uKGJpbmRpbmcpIHtcblx0ICAgICAgcmV0dXJuICdldmFsU2NvcGUuJyArIGJpbmRpbmcgKyAnID0gJyArIGJpbmRpbmcgKyAnOyc7XG5cdCAgICB9KS5qb2luKCcgJyk7XG5cblx0ICAgIHJldHVybiBpbmplY3RlZCArIGNvZGUgKyBleHRyYWN0ZWQ7XG5cdCAgfVxuXG5cdCAgdmFyIGJpbmRpbmdzID0gX19tb2R1bGVCaW5kaW5ncztcblxuXHQgIGlmKCFtb2R1bGUuaG90LmRhdGEpIHtcblx0ICAgIC8vIEZpcnN0IHRpbWUgbG9hZGluZy4gVHJ5IGFuZCBwYXRjaCBzb21ldGhpbmcuXG5cdCAgICB2YXIgcGF0Y2hlZEJpbmRpbmdzID0ge307XG5cdCAgICB2YXIgZXZhbFNjb3BlID0ge307XG5cblx0ICAgIHZhciBtb2R1bGVFdmFsV2l0aFNjb3BlID0gZnVuY3Rpb24oZnJhbWUpIHtcblx0ICAgICAgLy8gVXBkYXRlIHRoZSBzY29wZSB0byByZWZsZWN0IG9ubHkgdGhlIHZhbHVlcyBzcGVjaWZpZWQgYXNcblx0ICAgICAgLy8gYXJndW1lbnRzIHRvIHRoZSBfX2V2YWwgZnVuY3Rpb24uIENvcHkgb3ZlciB2YWx1ZXMgZnJvbSB0aGVcblx0ICAgICAgLy8gZXhpc3Rpbmcgc2NvcGUgYW5kIGlnbm9yZSB0aGUgcmVzdC5cblx0ICAgICAgT2JqZWN0LmtleXMoZXZhbFNjb3BlKS5mb3JFYWNoKGZ1bmN0aW9uKGFyZykge1xuXHQgICAgICAgIGlmKGFyZyBpbiBmcmFtZS5zY29wZSkge1xuXHQgICAgICAgICAgZnJhbWUuc2NvcGVbYXJnXSA9IGV2YWxTY29wZVthcmddO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSk7XG5cdCAgICAgIGV2YWxTY29wZSA9IGZyYW1lLnNjb3BlO1xuXG5cdCAgICAgIHZhciBjb2RlID0gaW5qZWN0U2NvcGUoZXZhbFNjb3BlLCBmcmFtZS5ib2R5KTtcblx0ICAgICAgcmV0dXJuIGV2YWwoY29kZSk7XG5cdCAgICB9XG5cblx0ICAgIHZhciBtb2R1bGVFdmFsID0gZnVuY3Rpb24oY29kZSkge1xuXHQgICAgICByZXR1cm4gZXZhbChjb2RlKTtcblx0ICAgIH1cblxuXHQgICAgYmluZGluZ3MuZm9yRWFjaChmdW5jdGlvbihiaW5kaW5nKSB7XG5cdCAgICAgIHZhciBmID0gZXZhbChiaW5kaW5nKTtcblxuXHQgICAgICBpZih0eXBlb2YgZiA9PT0gJ2Z1bmN0aW9uJyAmJiBiaW5kaW5nICE9PSAnX19ldmFsJykge1xuXHQgICAgICAgIHZhciBwYXRjaGVkID0gZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgICBpZihwYXRjaGVkQmluZGluZ3NbYmluZGluZ10pIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHBhdGNoZWRCaW5kaW5nc1tiaW5kaW5nXS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgICAgZWxzZSB7XG5cdCAgICAgICAgICAgIHJldHVybiBmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgfTtcblx0ICAgICAgICBwYXRjaGVkLnByb3RvdHlwZSA9IGYucHJvdG90eXBlO1xuXG5cdCAgICAgICAgZXZhbChiaW5kaW5nICsgJyA9IHBhdGNoZWQ7XFxuJyk7XG5cblx0ICAgICAgICBpZihtb2R1bGUuZXhwb3J0c1tiaW5kaW5nXSkge1xuXHQgICAgICAgICAgbW9kdWxlLmV4cG9ydHNbYmluZGluZ10gPSBwYXRjaGVkO1xuXHQgICAgICAgIH1cblx0ICAgICAgfVxuXHQgICAgfSk7XG5cblx0ICAgIG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbihkYXRhKSB7XG5cdCAgICAgIGRhdGEucGF0Y2hlZEJpbmRpbmdzID0gcGF0Y2hlZEJpbmRpbmdzO1xuXHQgICAgICBkYXRhLm1vZHVsZUV2YWwgPSBtb2R1bGVFdmFsO1xuXHQgICAgICBkYXRhLm1vZHVsZUV2YWxXaXRoU2NvcGUgPSBtb2R1bGVFdmFsV2l0aFNjb3BlO1xuXHQgICAgfSk7XG5cdCAgfVxuXHQgIGVsc2Uge1xuXHQgICAgdmFyIHBhdGNoZWRCaW5kaW5ncyA9IG1vZHVsZS5ob3QuZGF0YS5wYXRjaGVkQmluZGluZ3M7XG5cblx0ICAgIGJpbmRpbmdzLmZvckVhY2goZnVuY3Rpb24oYmluZGluZykge1xuXHQgICAgICB2YXIgZiA9IGV2YWwoYmluZGluZyk7XG5cblx0ICAgICAgaWYodHlwZW9mIGYgPT09ICdmdW5jdGlvbicgJiYgYmluZGluZyAhPT0gJ19fZXZhbCcpIHtcblx0ICAgICAgICAvLyBXZSBuZWVkIHRvIHJlaWZ5IHRoZSBmdW5jdGlvbiBpbiB0aGUgb3JpZ2luYWwgbW9kdWxlIHNvXG5cdCAgICAgICAgLy8gaXQgcmVmZXJlbmNlcyBhbnkgb2YgdGhlIG9yaWdpbmFsIHN0YXRlLiBTdHJpcCB0aGUgbmFtZVxuXHQgICAgICAgIC8vIGFuZCBzaW1wbHkgZXZhbCBpdC5cblx0ICAgICAgICB2YXIgZnVuY0NvZGUgPSAoXG5cdCAgICAgICAgICAnKCcgKyBmLnRvU3RyaW5nKCkucmVwbGFjZSgvXmZ1bmN0aW9uIFxcdytcXCgvLCAnZnVuY3Rpb24gKCcpICsgJyknXG5cdCAgICAgICAgKTtcblx0ICAgICAgICBwYXRjaGVkQmluZGluZ3NbYmluZGluZ10gPSBtb2R1bGUuaG90LmRhdGEubW9kdWxlRXZhbChmdW5jQ29kZSk7XG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXG5cdCAgICBpZih0eXBlb2YgX19ldmFsID09PSAnZnVuY3Rpb24nKSB7XG5cdCAgICAgIHRyeSB7XG5cdCAgICAgICAgbW9kdWxlLmhvdC5kYXRhLm1vZHVsZUV2YWxXaXRoU2NvcGUoZ2V0RXZhbFNvdXJjZShfX2V2YWwpKTtcblx0ICAgICAgfVxuXHQgICAgICBjYXRjaChlKSB7XG5cdCAgICAgICAgY29uc29sZS5sb2coJ2Vycm9yIGV2YWxpbmc6ICcgKyBlKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXG5cdCAgICBtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oZGF0YSkge1xuXHQgICAgICBkYXRhLnBhdGNoZWRCaW5kaW5ncyA9IHBhdGNoZWRCaW5kaW5ncztcblx0ICAgICAgZGF0YS5tb2R1bGVFdmFsID0gbW9kdWxlLmhvdC5kYXRhLm1vZHVsZUV2YWw7XG5cdCAgICAgIGRhdGEubW9kdWxlRXZhbFdpdGhTY29wZSA9IG1vZHVsZS5ob3QuZGF0YS5tb2R1bGVFdmFsV2l0aFNjb3BlO1xuXHQgICAgfSk7XG5cdCAgfVxuXHR9XG5cblxuLyoqKi8gfSxcbi8qIDEwMCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLmluaXRpYWwgPSBpbml0aWFsO1xuXHRleHBvcnRzLnVwZGF0ZSA9IHVwZGF0ZTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblx0XG5cdHZhciBfd29ybGQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzKTtcblx0XG5cdHZhciBfY29uc3RhbnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMCk7XG5cdFxuXHR2YXIgX3BsYW5lID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMSk7XG5cdFxuXHR2YXIgX2NyYXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMyk7XG5cdFxuXHR2YXIgX2NyYXRlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyYXRlKTtcblx0XG5cdHZhciBfZXh0ZW5kID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMyk7XG5cdFxuXHR2YXIgX2V4dGVuZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmQpO1xuXHRcblx0dmFyIF91dGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMzgpO1xuXHRcblx0dmFyIE1BWF9TUEVFRCA9IDAuNztcblx0dmFyIEtFWV9ST1RBVElPTiA9IDAuMDU7XG5cdFxuXHR2YXIgY29sbGlzaW9uSGFuZGxlcnMgPSBuZXcgTWFwKCk7XG5cdFxuXHRjb2xsaXNpb25IYW5kbGVycy5zZXQoX2NyYXRlMlsnZGVmYXVsdCddLCBmdW5jdGlvbiAocGxheWVyKSB7XG5cdCAgcGxheWVyLmJ1bGxldHMgKz0gMjA7XG5cdCAgcmV0dXJuIHBsYXllcjtcblx0fSk7XG5cdFxuXHRmdW5jdGlvbiBpbml0aWFsKHdvcmxkKSB7XG5cdCAgcmV0dXJuICgwLCBfZXh0ZW5kMlsnZGVmYXVsdCddKSgoMCwgX3BsYW5lLmNyZWF0ZSkobnVsbCwgd29ybGQpLCB7XG5cdCAgICBjcmVhdGVkQnVsbGV0czogW11cblx0ICB9KTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gcm90YXRlUGxhbmUocGxheWVyLCBkZWdyZWVzKSB7XG5cdCAgdmFyIHkgPSBwbGF5ZXIuYm9keS5wb3NpdGlvblsxXTtcblx0XG5cdCAgaWYgKHkgPCAyKSB7XG5cdCAgICB2YXIgZGVsdGFTcGVlZCA9IHBsYXllci50aHJ1c3QgLyBNQVhfU1BFRUQ7XG5cdCAgICByZXR1cm4gZGVncmVlcyAvIDEwICogZGVsdGFTcGVlZDtcblx0ICB9XG5cdFxuXHQgIGlmICh5IDwgNCkge1xuXHQgICAgcmV0dXJuIGRlZ3JlZXMgKiB5IC8gNCAqIDAuNTtcblx0ICB9XG5cdFxuXHQgIHJldHVybiBkZWdyZWVzO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBjcmVhdGVOZXdCdWxsZXRzKGlucHV0KSB7XG5cdCAgdGhpcy5jcmVhdGVkQnVsbGV0cyA9IGlucHV0LnNob290LnNsaWNlKDAsIHRoaXMuYnVsbGV0cykubWFwKGZ1bmN0aW9uICgpIHtcblx0ICAgIHJldHVybiB0cnVlO1xuXHQgIH0pO1xuXHQgIHRoaXMuYnVsbGV0cyAtPSB0aGlzLmNyZWF0ZWRCdWxsZXRzLmxlbmd0aDtcblx0ICByZXR1cm4gdGhpcztcblx0fVxuXHRcblx0dmFyIGhhbmRsZUNvbGxpc2lvbnMgPSAoMCwgX3V0aWxzLmNyZWF0ZUNvbGxpc2lvbkRpc3BhdGNoZXIpKGNvbGxpc2lvbkhhbmRsZXJzKTtcblx0XG5cdGZ1bmN0aW9uIHVwZGF0ZShwbGF5ZXIsIGlucHV0LCB3b3JsZCkge1xuXHQgIHZhciBfY29udGV4dDtcblx0XG5cdCAgaWYgKGlucHV0LmtleXMuZG93bikge1xuXHQgICAgcGxheWVyLmJvZHkuYW5nbGUgKz0gcm90YXRlUGxhbmUocGxheWVyLCAtS0VZX1JPVEFUSU9OKSAqIGlucHV0LmRlbHRhO1xuXHRcblx0ICAgIGlmIChwbGF5ZXIudGhydXN0IDwgTUFYX1NQRUVEKSB7XG5cdCAgICAgIHBsYXllci50aHJ1c3QgKz0gMC4wMDUgKiBpbnB1dC5kZWx0YTtcblx0ICAgIH1cblx0ICB9IGVsc2UgaWYgKGlucHV0LmtleXMudXApIHtcblx0ICAgIHBsYXllci5ib2R5LmFuZ2xlICs9IHJvdGF0ZVBsYW5lKHBsYXllciwgS0VZX1JPVEFUSU9OKSAqIGlucHV0LmRlbHRhO1xuXHQgIH1cblx0XG5cdCAgcGxheWVyLnRocnVzdCA9IE1hdGgubWluKE1BWF9TUEVFRCwgcGxheWVyLnRocnVzdCk7XG5cdFxuXHQgIHZhciBkZWx0YUFuZ2xlID0gTWF0aC5zaW4ocGxheWVyLmJvZHkuYW5nbGUgLSBfY29uc3RhbnRzLlJBRElBTiAvIDIpO1xuXHQgIHBsYXllci50aHJ1c3QgLT0gMC4wMDUgKiBkZWx0YUFuZ2xlO1xuXHRcblx0ICBpZiAocGxheWVyLmJvZHkucG9zaXRpb25bMV0gPD0gX3dvcmxkLkdST1VORF9MRVZFTCkge1xuXHQgICAgcGxheWVyLmJvZHkucG9zaXRpb25bMV0gPSBfd29ybGQuR1JPVU5EX0xFVkVMO1xuXHQgIH1cblx0XG5cdCAgcGxheWVyLmJvZHkucG9zaXRpb25bMF0gKz0gcGxheWVyLnRocnVzdCAqIE1hdGguc2luKHBsYXllci5ib2R5LmFuZ2xlICsgX2NvbnN0YW50cy5SQURJQU4gKiAwLjI1KSAqIGlucHV0LmRlbHRhO1xuXHRcblx0ICBwbGF5ZXIuYm9keS5wb3NpdGlvblsxXSArPSBwbGF5ZXIudGhydXN0ICogTWF0aC5jb3MocGxheWVyLmJvZHkuYW5nbGUgKyBfY29uc3RhbnRzLlJBRElBTiAqIDAuMjUpICogaW5wdXQuZGVsdGE7XG5cdFxuXHQgIHJldHVybiAoX2NvbnRleHQgPSBoYW5kbGVDb2xsaXNpb25zLmNhbGwocGxheWVyLCB3b3JsZCksIGNyZWF0ZU5ld0J1bGxldHMpLmNhbGwoX2NvbnRleHQsIGlucHV0KTtcblx0fVxuXG5cdC8qIEhPVCBQQVRDSCBMT0FERVIgKi8gdmFyIF9fbW9kdWxlQmluZGluZ3MgPSBbXCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0XCIsXCJpbml0aWFsXCIsXCJyb3RhdGVQbGFuZVwiLFwiY3JlYXRlTmV3QnVsbGV0c1wiLFwidXBkYXRlXCJdOyBpZihmYWxzZSkge1xuXHQgIG1vZHVsZS5ob3QuYWNjZXB0KGZ1bmN0aW9uKGVycikge1xuXHQgICAgY29uc29sZS5sb2coJ1tITVJdIEVycm9yIGFjY2VwdGluZzogJyArIGVycik7XG5cdCAgfSk7XG5cblx0ICB2YXIgZ2V0RXZhbFNvdXJjZSA9IGZ1bmN0aW9uKGZ1bmMpIHtcblx0ICAgIHZhciBjb2RlID0gZnVuYy50b1N0cmluZygpO1xuXHQgICAgdmFyIG0gPSBjb2RlLm1hdGNoKC9eZnVuY3Rpb25cXHMrX19ldmFsXFxzKlxcKCguKilcXClcXHMqXFx7KFtcXHNcXFNdKilcXH0kL2kpO1xuXHQgICAgaWYoIW0pIHtcblx0ICAgICAgcmV0dXJuIG51bGw7XG5cdCAgICB9XG5cdCAgICB2YXIgYXJncyA9IG1bMV07XG5cdCAgICB2YXIgYm9keSA9IG1bMl07XG5cdCAgICB2YXIgc2NvcGUgPSB7fTtcblxuXHQgICAgaWYoYXJncy50cmltKCkpIHtcblx0ICAgICAgYXJncy5zcGxpdCgnLCcpLmZvckVhY2goZnVuY3Rpb24oYXJnKSB7XG5cdCAgICAgICAgaWYoYXJnLmluZGV4T2YoJz0nKSAhPT0gLTEpIHtcblx0ICAgICAgICAgIHZhciBwID0gYXJnLnNwbGl0KCc9Jyk7XG5cdCAgICAgICAgICBzY29wZVtwWzBdLnRyaW0oKV0gPSBKU09OLnBhcnNlKHBbMV0pO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBlbHNlIHtcblx0ICAgICAgICAgIHNjb3BlW2FyZy50cmltKCldID0gdW5kZWZpbmVkO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSk7XG5cdCAgICB9XG5cblx0ICAgIHJldHVybiB7IGJvZHk6IGJvZHksIHNjb3BlOiBzY29wZSB9O1xuXHQgIH1cblxuXHQgIHZhciBpbmplY3RTY29wZSA9IGZ1bmN0aW9uKHNjb3BlLCBjb2RlKSB7XG5cdCAgICAvLyBUYWtlIGFuIGV4cGxpY2l0IHNjb3BlIG9iamVjdCBhbmQgaW5qZWN0IGl0IHNvIHRoYXRcblx0ICAgIC8vIGBjb2RlYCBydW5zIGluIGNvbnRleHQgb2YgaXRcblx0ICAgIHZhciBpbmplY3RlZCA9IE9iamVjdC5rZXlzKHNjb3BlKS5tYXAoZnVuY3Rpb24oYmluZGluZykge1xuXHQgICAgICByZXR1cm4gJ3ZhciAnICsgYmluZGluZyArICcgPSBldmFsU2NvcGUuJyArIGJpbmRpbmcgKyAnOydcblx0ICAgIH0pLmpvaW4oJyAnKTtcblxuXHQgICAgLy8gVXBkYXRlIG91ciBzY29wZSBvYmplY3Qgd2l0aCBhbnkgbW9kaWZpY2F0aW9uc1xuXHQgICAgdmFyIGV4dHJhY3RlZCA9IE9iamVjdC5rZXlzKHNjb3BlKS5tYXAoZnVuY3Rpb24oYmluZGluZykge1xuXHQgICAgICByZXR1cm4gJ2V2YWxTY29wZS4nICsgYmluZGluZyArICcgPSAnICsgYmluZGluZyArICc7Jztcblx0ICAgIH0pLmpvaW4oJyAnKTtcblxuXHQgICAgcmV0dXJuIGluamVjdGVkICsgY29kZSArIGV4dHJhY3RlZDtcblx0ICB9XG5cblx0ICB2YXIgYmluZGluZ3MgPSBfX21vZHVsZUJpbmRpbmdzO1xuXG5cdCAgaWYoIW1vZHVsZS5ob3QuZGF0YSkge1xuXHQgICAgLy8gRmlyc3QgdGltZSBsb2FkaW5nLiBUcnkgYW5kIHBhdGNoIHNvbWV0aGluZy5cblx0ICAgIHZhciBwYXRjaGVkQmluZGluZ3MgPSB7fTtcblx0ICAgIHZhciBldmFsU2NvcGUgPSB7fTtcblxuXHQgICAgdmFyIG1vZHVsZUV2YWxXaXRoU2NvcGUgPSBmdW5jdGlvbihmcmFtZSkge1xuXHQgICAgICAvLyBVcGRhdGUgdGhlIHNjb3BlIHRvIHJlZmxlY3Qgb25seSB0aGUgdmFsdWVzIHNwZWNpZmllZCBhc1xuXHQgICAgICAvLyBhcmd1bWVudHMgdG8gdGhlIF9fZXZhbCBmdW5jdGlvbi4gQ29weSBvdmVyIHZhbHVlcyBmcm9tIHRoZVxuXHQgICAgICAvLyBleGlzdGluZyBzY29wZSBhbmQgaWdub3JlIHRoZSByZXN0LlxuXHQgICAgICBPYmplY3Qua2V5cyhldmFsU2NvcGUpLmZvckVhY2goZnVuY3Rpb24oYXJnKSB7XG5cdCAgICAgICAgaWYoYXJnIGluIGZyYW1lLnNjb3BlKSB7XG5cdCAgICAgICAgICBmcmFtZS5zY29wZVthcmddID0gZXZhbFNjb3BlW2FyZ107XG5cdCAgICAgICAgfVxuXHQgICAgICB9KTtcblx0ICAgICAgZXZhbFNjb3BlID0gZnJhbWUuc2NvcGU7XG5cblx0ICAgICAgdmFyIGNvZGUgPSBpbmplY3RTY29wZShldmFsU2NvcGUsIGZyYW1lLmJvZHkpO1xuXHQgICAgICByZXR1cm4gZXZhbChjb2RlKTtcblx0ICAgIH1cblxuXHQgICAgdmFyIG1vZHVsZUV2YWwgPSBmdW5jdGlvbihjb2RlKSB7XG5cdCAgICAgIHJldHVybiBldmFsKGNvZGUpO1xuXHQgICAgfVxuXG5cdCAgICBiaW5kaW5ncy5mb3JFYWNoKGZ1bmN0aW9uKGJpbmRpbmcpIHtcblx0ICAgICAgdmFyIGYgPSBldmFsKGJpbmRpbmcpO1xuXG5cdCAgICAgIGlmKHR5cGVvZiBmID09PSAnZnVuY3Rpb24nICYmIGJpbmRpbmcgIT09ICdfX2V2YWwnKSB7XG5cdCAgICAgICAgdmFyIHBhdGNoZWQgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgIGlmKHBhdGNoZWRCaW5kaW5nc1tiaW5kaW5nXSkge1xuXHQgICAgICAgICAgICByZXR1cm4gcGF0Y2hlZEJpbmRpbmdzW2JpbmRpbmddLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdCAgICAgICAgICB9XG5cdCAgICAgICAgICBlbHNlIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGYuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICB9O1xuXHQgICAgICAgIHBhdGNoZWQucHJvdG90eXBlID0gZi5wcm90b3R5cGU7XG5cblx0ICAgICAgICBldmFsKGJpbmRpbmcgKyAnID0gcGF0Y2hlZDtcXG4nKTtcblxuXHQgICAgICAgIGlmKG1vZHVsZS5leHBvcnRzW2JpbmRpbmddKSB7XG5cdCAgICAgICAgICBtb2R1bGUuZXhwb3J0c1tiaW5kaW5nXSA9IHBhdGNoZWQ7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdCAgICB9KTtcblxuXHQgICAgbW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKGRhdGEpIHtcblx0ICAgICAgZGF0YS5wYXRjaGVkQmluZGluZ3MgPSBwYXRjaGVkQmluZGluZ3M7XG5cdCAgICAgIGRhdGEubW9kdWxlRXZhbCA9IG1vZHVsZUV2YWw7XG5cdCAgICAgIGRhdGEubW9kdWxlRXZhbFdpdGhTY29wZSA9IG1vZHVsZUV2YWxXaXRoU2NvcGU7XG5cdCAgICB9KTtcblx0ICB9XG5cdCAgZWxzZSB7XG5cdCAgICB2YXIgcGF0Y2hlZEJpbmRpbmdzID0gbW9kdWxlLmhvdC5kYXRhLnBhdGNoZWRCaW5kaW5ncztcblxuXHQgICAgYmluZGluZ3MuZm9yRWFjaChmdW5jdGlvbihiaW5kaW5nKSB7XG5cdCAgICAgIHZhciBmID0gZXZhbChiaW5kaW5nKTtcblxuXHQgICAgICBpZih0eXBlb2YgZiA9PT0gJ2Z1bmN0aW9uJyAmJiBiaW5kaW5nICE9PSAnX19ldmFsJykge1xuXHQgICAgICAgIC8vIFdlIG5lZWQgdG8gcmVpZnkgdGhlIGZ1bmN0aW9uIGluIHRoZSBvcmlnaW5hbCBtb2R1bGUgc29cblx0ICAgICAgICAvLyBpdCByZWZlcmVuY2VzIGFueSBvZiB0aGUgb3JpZ2luYWwgc3RhdGUuIFN0cmlwIHRoZSBuYW1lXG5cdCAgICAgICAgLy8gYW5kIHNpbXBseSBldmFsIGl0LlxuXHQgICAgICAgIHZhciBmdW5jQ29kZSA9IChcblx0ICAgICAgICAgICcoJyArIGYudG9TdHJpbmcoKS5yZXBsYWNlKC9eZnVuY3Rpb24gXFx3K1xcKC8sICdmdW5jdGlvbiAoJykgKyAnKSdcblx0ICAgICAgICApO1xuXHQgICAgICAgIHBhdGNoZWRCaW5kaW5nc1tiaW5kaW5nXSA9IG1vZHVsZS5ob3QuZGF0YS5tb2R1bGVFdmFsKGZ1bmNDb2RlKTtcblx0ICAgICAgfVxuXHQgICAgfSk7XG5cblx0ICAgIGlmKHR5cGVvZiBfX2V2YWwgPT09ICdmdW5jdGlvbicpIHtcblx0ICAgICAgdHJ5IHtcblx0ICAgICAgICBtb2R1bGUuaG90LmRhdGEubW9kdWxlRXZhbFdpdGhTY29wZShnZXRFdmFsU291cmNlKF9fZXZhbCkpO1xuXHQgICAgICB9XG5cdCAgICAgIGNhdGNoKGUpIHtcblx0ICAgICAgICBjb25zb2xlLmxvZygnZXJyb3IgZXZhbGluZzogJyArIGUpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cblx0ICAgIG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbihkYXRhKSB7XG5cdCAgICAgIGRhdGEucGF0Y2hlZEJpbmRpbmdzID0gcGF0Y2hlZEJpbmRpbmdzO1xuXHQgICAgICBkYXRhLm1vZHVsZUV2YWwgPSBtb2R1bGUuaG90LmRhdGEubW9kdWxlRXZhbDtcblx0ICAgICAgZGF0YS5tb2R1bGVFdmFsV2l0aFNjb3BlID0gbW9kdWxlLmhvdC5kYXRhLm1vZHVsZUV2YWxXaXRoU2NvcGU7XG5cdCAgICB9KTtcblx0ICB9XG5cdH1cblxuXG4vKioqLyB9LFxuLyogMTAxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMucmVuZGVyID0gcmVuZGVyO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXHRcblx0dmFyIF9yZW5kZXJDYW52YXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXHRcblx0dmFyIF9yZW5kZXJVdGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMTIpO1xuXHRcblx0dmFyIF9wbGFuZVJlbmRlciA9IF9fd2VicGFja19yZXF1aXJlX18oOTkpO1xuXHRcblx0dmFyIF9iYWNrZ3JvdW5kUmVuZGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5Mik7XG5cdFxuXHR2YXIgX2J1bGxldFJlbmRlciA9IF9fd2VicGFja19yZXF1aXJlX18oOTMpO1xuXHRcblx0dmFyIF9jcmF0ZVJlbmRlciA9IF9fd2VicGFja19yZXF1aXJlX18oOTQpO1xuXHRcblx0dmFyIF9mcHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc5KTtcblx0XG5cdHZhciBfZnBzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Zwcyk7XG5cdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDExNik7XG5cdFxuXHR2YXIgR1JPVU5EX0xFVkVMID0gLTMwO1xuXHRcblx0dmFyIHRpY2tlciA9ICgwLCBfZnBzMlsnZGVmYXVsdCddKSh7IGV2ZXJ5OiAxMCB9KTtcblx0XG5cdHZhciAkZnBzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZwcycpO1xuXHRcblx0dGlja2VyLm9uKCdkYXRhJywgZnVuY3Rpb24gKGZyYW1lcmF0ZSkge1xuXHQgIHJldHVybiAkZnBzLmlubmVySFRNTCA9IE1hdGgucm91bmQoZnJhbWVyYXRlKTtcblx0fSk7XG5cdFxuXHRmdW5jdGlvbiByZW5kZXIoX3JlZikge1xuXHQgIHZhciBwbGF5ZXIgPSBfcmVmLnBsYXllcjtcblx0ICB2YXIgYnVsbGV0cyA9IF9yZWYuYnVsbGV0cztcblx0ICB2YXIgY3JhdGVzID0gX3JlZi5jcmF0ZXM7XG5cdCAgdmFyIHBsYW5lcyA9IF9yZWYucGxhbmVzO1xuXHQgIHZhciBlbGFwc2VkVGltZSA9IF9yZWYuZWxhcHNlZFRpbWU7XG5cdFxuXHQgIF9yZW5kZXJDYW52YXMuY3R4LnNhdmUoKTtcblx0XG5cdCAgdmFyIHRyYW5zbGF0aW9uID0gKDAsIF9yZW5kZXJVdGlscy5jYW1lcmFUcmFuc2xhdGlvbikocGxheWVyKTtcblx0ICBfcmVuZGVyQ2FudmFzLmN0eC50cmFuc2xhdGUodHJhbnNsYXRpb24ueCwgdHJhbnNsYXRpb24ueSk7XG5cdFxuXHQgICgwLCBfYmFja2dyb3VuZFJlbmRlci5yZW5kZXIpKHRyYW5zbGF0aW9uLCBlbGFwc2VkVGltZSk7XG5cdFxuXHQgIF9yZW5kZXJDYW52YXMuY3R4LnRyYW5zbGF0ZSgwLCBHUk9VTkRfTEVWRUwpO1xuXHRcblx0ICAoMCwgX3BsYW5lUmVuZGVyLnJlbmRlcikocGxheWVyKTtcblx0XG5cdCAgYnVsbGV0cy5idWxsZXRzLmZvckVhY2goX2J1bGxldFJlbmRlci5yZW5kZXIpO1xuXHQgIGNyYXRlcy5jcmF0ZXMuZm9yRWFjaChfY3JhdGVSZW5kZXIucmVuZGVyKTtcblx0XG5cdCAgZm9yICh2YXIgaWQgaW4gcGxhbmVzKSB7XG5cdCAgICAoMCwgX3BsYW5lUmVuZGVyLnJlbmRlcikocGxhbmVzW2lkXSk7XG5cdCAgfVxuXHRcblx0ICBfcmVuZGVyQ2FudmFzLmN0eC5yZXN0b3JlKCk7XG5cdCAgdGlja2VyLnRpY2soKTtcblx0fVxuXG5cdC8qIEhPVCBQQVRDSCBMT0FERVIgKi8gdmFyIF9fbW9kdWxlQmluZGluZ3MgPSBbXCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0XCIsXCJyZW5kZXJcIl07IGlmKGZhbHNlKSB7XG5cdCAgbW9kdWxlLmhvdC5hY2NlcHQoZnVuY3Rpb24oZXJyKSB7XG5cdCAgICBjb25zb2xlLmxvZygnW0hNUl0gRXJyb3IgYWNjZXB0aW5nOiAnICsgZXJyKTtcblx0ICB9KTtcblxuXHQgIHZhciBnZXRFdmFsU291cmNlID0gZnVuY3Rpb24oZnVuYykge1xuXHQgICAgdmFyIGNvZGUgPSBmdW5jLnRvU3RyaW5nKCk7XG5cdCAgICB2YXIgbSA9IGNvZGUubWF0Y2goL15mdW5jdGlvblxccytfX2V2YWxcXHMqXFwoKC4qKVxcKVxccypcXHsoW1xcc1xcU10qKVxcfSQvaSk7XG5cdCAgICBpZighbSkge1xuXHQgICAgICByZXR1cm4gbnVsbDtcblx0ICAgIH1cblx0ICAgIHZhciBhcmdzID0gbVsxXTtcblx0ICAgIHZhciBib2R5ID0gbVsyXTtcblx0ICAgIHZhciBzY29wZSA9IHt9O1xuXG5cdCAgICBpZihhcmdzLnRyaW0oKSkge1xuXHQgICAgICBhcmdzLnNwbGl0KCcsJykuZm9yRWFjaChmdW5jdGlvbihhcmcpIHtcblx0ICAgICAgICBpZihhcmcuaW5kZXhPZignPScpICE9PSAtMSkge1xuXHQgICAgICAgICAgdmFyIHAgPSBhcmcuc3BsaXQoJz0nKTtcblx0ICAgICAgICAgIHNjb3BlW3BbMF0udHJpbSgpXSA9IEpTT04ucGFyc2UocFsxXSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGVsc2Uge1xuXHQgICAgICAgICAgc2NvcGVbYXJnLnRyaW0oKV0gPSB1bmRlZmluZWQ7XG5cdCAgICAgICAgfVxuXHQgICAgICB9KTtcblx0ICAgIH1cblxuXHQgICAgcmV0dXJuIHsgYm9keTogYm9keSwgc2NvcGU6IHNjb3BlIH07XG5cdCAgfVxuXG5cdCAgdmFyIGluamVjdFNjb3BlID0gZnVuY3Rpb24oc2NvcGUsIGNvZGUpIHtcblx0ICAgIC8vIFRha2UgYW4gZXhwbGljaXQgc2NvcGUgb2JqZWN0IGFuZCBpbmplY3QgaXQgc28gdGhhdFxuXHQgICAgLy8gYGNvZGVgIHJ1bnMgaW4gY29udGV4dCBvZiBpdFxuXHQgICAgdmFyIGluamVjdGVkID0gT2JqZWN0LmtleXMoc2NvcGUpLm1hcChmdW5jdGlvbihiaW5kaW5nKSB7XG5cdCAgICAgIHJldHVybiAndmFyICcgKyBiaW5kaW5nICsgJyA9IGV2YWxTY29wZS4nICsgYmluZGluZyArICc7J1xuXHQgICAgfSkuam9pbignICcpO1xuXG5cdCAgICAvLyBVcGRhdGUgb3VyIHNjb3BlIG9iamVjdCB3aXRoIGFueSBtb2RpZmljYXRpb25zXG5cdCAgICB2YXIgZXh0cmFjdGVkID0gT2JqZWN0LmtleXMoc2NvcGUpLm1hcChmdW5jdGlvbihiaW5kaW5nKSB7XG5cdCAgICAgIHJldHVybiAnZXZhbFNjb3BlLicgKyBiaW5kaW5nICsgJyA9ICcgKyBiaW5kaW5nICsgJzsnO1xuXHQgICAgfSkuam9pbignICcpO1xuXG5cdCAgICByZXR1cm4gaW5qZWN0ZWQgKyBjb2RlICsgZXh0cmFjdGVkO1xuXHQgIH1cblxuXHQgIHZhciBiaW5kaW5ncyA9IF9fbW9kdWxlQmluZGluZ3M7XG5cblx0ICBpZighbW9kdWxlLmhvdC5kYXRhKSB7XG5cdCAgICAvLyBGaXJzdCB0aW1lIGxvYWRpbmcuIFRyeSBhbmQgcGF0Y2ggc29tZXRoaW5nLlxuXHQgICAgdmFyIHBhdGNoZWRCaW5kaW5ncyA9IHt9O1xuXHQgICAgdmFyIGV2YWxTY29wZSA9IHt9O1xuXG5cdCAgICB2YXIgbW9kdWxlRXZhbFdpdGhTY29wZSA9IGZ1bmN0aW9uKGZyYW1lKSB7XG5cdCAgICAgIC8vIFVwZGF0ZSB0aGUgc2NvcGUgdG8gcmVmbGVjdCBvbmx5IHRoZSB2YWx1ZXMgc3BlY2lmaWVkIGFzXG5cdCAgICAgIC8vIGFyZ3VtZW50cyB0byB0aGUgX19ldmFsIGZ1bmN0aW9uLiBDb3B5IG92ZXIgdmFsdWVzIGZyb20gdGhlXG5cdCAgICAgIC8vIGV4aXN0aW5nIHNjb3BlIGFuZCBpZ25vcmUgdGhlIHJlc3QuXG5cdCAgICAgIE9iamVjdC5rZXlzKGV2YWxTY29wZSkuZm9yRWFjaChmdW5jdGlvbihhcmcpIHtcblx0ICAgICAgICBpZihhcmcgaW4gZnJhbWUuc2NvcGUpIHtcblx0ICAgICAgICAgIGZyYW1lLnNjb3BlW2FyZ10gPSBldmFsU2NvcGVbYXJnXTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0pO1xuXHQgICAgICBldmFsU2NvcGUgPSBmcmFtZS5zY29wZTtcblxuXHQgICAgICB2YXIgY29kZSA9IGluamVjdFNjb3BlKGV2YWxTY29wZSwgZnJhbWUuYm9keSk7XG5cdCAgICAgIHJldHVybiBldmFsKGNvZGUpO1xuXHQgICAgfVxuXG5cdCAgICB2YXIgbW9kdWxlRXZhbCA9IGZ1bmN0aW9uKGNvZGUpIHtcblx0ICAgICAgcmV0dXJuIGV2YWwoY29kZSk7XG5cdCAgICB9XG5cblx0ICAgIGJpbmRpbmdzLmZvckVhY2goZnVuY3Rpb24oYmluZGluZykge1xuXHQgICAgICB2YXIgZiA9IGV2YWwoYmluZGluZyk7XG5cblx0ICAgICAgaWYodHlwZW9mIGYgPT09ICdmdW5jdGlvbicgJiYgYmluZGluZyAhPT0gJ19fZXZhbCcpIHtcblx0ICAgICAgICB2YXIgcGF0Y2hlZCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgaWYocGF0Y2hlZEJpbmRpbmdzW2JpbmRpbmddKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBwYXRjaGVkQmluZGluZ3NbYmluZGluZ10uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIGVsc2Uge1xuXHQgICAgICAgICAgICByZXR1cm4gZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH07XG5cdCAgICAgICAgcGF0Y2hlZC5wcm90b3R5cGUgPSBmLnByb3RvdHlwZTtcblxuXHQgICAgICAgIGV2YWwoYmluZGluZyArICcgPSBwYXRjaGVkO1xcbicpO1xuXG5cdCAgICAgICAgaWYobW9kdWxlLmV4cG9ydHNbYmluZGluZ10pIHtcblx0ICAgICAgICAgIG1vZHVsZS5leHBvcnRzW2JpbmRpbmddID0gcGF0Y2hlZDtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXG5cdCAgICBtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oZGF0YSkge1xuXHQgICAgICBkYXRhLnBhdGNoZWRCaW5kaW5ncyA9IHBhdGNoZWRCaW5kaW5ncztcblx0ICAgICAgZGF0YS5tb2R1bGVFdmFsID0gbW9kdWxlRXZhbDtcblx0ICAgICAgZGF0YS5tb2R1bGVFdmFsV2l0aFNjb3BlID0gbW9kdWxlRXZhbFdpdGhTY29wZTtcblx0ICAgIH0pO1xuXHQgIH1cblx0ICBlbHNlIHtcblx0ICAgIHZhciBwYXRjaGVkQmluZGluZ3MgPSBtb2R1bGUuaG90LmRhdGEucGF0Y2hlZEJpbmRpbmdzO1xuXG5cdCAgICBiaW5kaW5ncy5mb3JFYWNoKGZ1bmN0aW9uKGJpbmRpbmcpIHtcblx0ICAgICAgdmFyIGYgPSBldmFsKGJpbmRpbmcpO1xuXG5cdCAgICAgIGlmKHR5cGVvZiBmID09PSAnZnVuY3Rpb24nICYmIGJpbmRpbmcgIT09ICdfX2V2YWwnKSB7XG5cdCAgICAgICAgLy8gV2UgbmVlZCB0byByZWlmeSB0aGUgZnVuY3Rpb24gaW4gdGhlIG9yaWdpbmFsIG1vZHVsZSBzb1xuXHQgICAgICAgIC8vIGl0IHJlZmVyZW5jZXMgYW55IG9mIHRoZSBvcmlnaW5hbCBzdGF0ZS4gU3RyaXAgdGhlIG5hbWVcblx0ICAgICAgICAvLyBhbmQgc2ltcGx5IGV2YWwgaXQuXG5cdCAgICAgICAgdmFyIGZ1bmNDb2RlID0gKFxuXHQgICAgICAgICAgJygnICsgZi50b1N0cmluZygpLnJlcGxhY2UoL15mdW5jdGlvbiBcXHcrXFwoLywgJ2Z1bmN0aW9uICgnKSArICcpJ1xuXHQgICAgICAgICk7XG5cdCAgICAgICAgcGF0Y2hlZEJpbmRpbmdzW2JpbmRpbmddID0gbW9kdWxlLmhvdC5kYXRhLm1vZHVsZUV2YWwoZnVuY0NvZGUpO1xuXHQgICAgICB9XG5cdCAgICB9KTtcblxuXHQgICAgaWYodHlwZW9mIF9fZXZhbCA9PT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICB0cnkge1xuXHQgICAgICAgIG1vZHVsZS5ob3QuZGF0YS5tb2R1bGVFdmFsV2l0aFNjb3BlKGdldEV2YWxTb3VyY2UoX19ldmFsKSk7XG5cdCAgICAgIH1cblx0ICAgICAgY2F0Y2goZSkge1xuXHQgICAgICAgIGNvbnNvbGUubG9nKCdlcnJvciBldmFsaW5nOiAnICsgZSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblxuXHQgICAgbW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKGRhdGEpIHtcblx0ICAgICAgZGF0YS5wYXRjaGVkQmluZGluZ3MgPSBwYXRjaGVkQmluZGluZ3M7XG5cdCAgICAgIGRhdGEubW9kdWxlRXZhbCA9IG1vZHVsZS5ob3QuZGF0YS5tb2R1bGVFdmFsO1xuXHQgICAgICBkYXRhLm1vZHVsZUV2YWxXaXRoU2NvcGUgPSBtb2R1bGUuaG90LmRhdGEubW9kdWxlRXZhbFdpdGhTY29wZTtcblx0ICAgIH0pO1xuXHQgIH1cblx0fVxuXG5cbi8qKiovIH0sXG4vKiAxMDIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblx0XG5cdHZhciBfYnJvd3NlckF1ZGlvID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3MSk7XG5cdFxuXHR2YXIgX2Jyb3dzZXJBdWRpbzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9icm93c2VyQXVkaW8pO1xuXHRcblx0dmFyIF9iYWNvbmpzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMik7XG5cdFxuXHR2YXIgX2JhY29uanMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYmFjb25qcyk7XG5cdFxuXHR2YXIgc2hvb3RTb3VuZCA9IF9icm93c2VyQXVkaW8yWydkZWZhdWx0J10uY3JlYXRlKF9fd2VicGFja19yZXF1aXJlX18oNzgpKTtcblx0XG5cdHZhciAkbXV0ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtdXRlJyk7XG5cdCRtdXRlLmNoZWNrZWQgPSBKU09OLnBhcnNlKHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnc291bmRzTXV0ZWQnKSk7XG5cdFxuXHR2YXIgbXV0ZWQkID0gX2JhY29uanMyWydkZWZhdWx0J10uZnJvbUV2ZW50KCRtdXRlLCAnY2hhbmdlJykubWFwKCcudGFyZ2V0JykubWFwKCcuY2hlY2tlZCcpLmRvQWN0aW9uKGZ1bmN0aW9uICh2YWx1ZSkge1xuXHQgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnc291bmRzTXV0ZWQnLCB2YWx1ZSk7XG5cdH0pLnRvUHJvcGVydHkoJG11dGUuY2hlY2tlZCk7XG5cdFxuXHRleHBvcnRzLm11dGVkJCA9IG11dGVkJDtcblx0dmFyIHNvdW5kQnVzJCA9IG5ldyBfYmFjb25qczJbJ2RlZmF1bHQnXS5CdXMoKTtcblx0XG5cdHNvdW5kQnVzJC5maWx0ZXIobXV0ZWQkLm5vdCgpKS5vblZhbHVlKGZ1bmN0aW9uIChfcmVmKSB7XG5cdCAgdmFyIGJ1bGxldHMgPSBfcmVmLmJ1bGxldHM7XG5cdFxuXHQgIGJ1bGxldHMuc291bmRzLmNyZWF0ZWQuZm9yRWFjaChmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gc2hvb3RTb3VuZC5wbGF5KCk7XG5cdCAgfSk7XG5cdH0pO1xuXHRcblx0dmFyIHBsYXlTb3VuZHMgPSBzb3VuZEJ1cyQucHVzaC5iaW5kKHNvdW5kQnVzJCk7XG5cdGV4cG9ydHMucGxheVNvdW5kcyA9IHBsYXlTb3VuZHM7XG5cblx0LyogSE9UIFBBVENIIExPQURFUiAqLyB2YXIgX19tb2R1bGVCaW5kaW5ncyA9IFtcIl9pbnRlcm9wUmVxdWlyZURlZmF1bHRcIl07IGlmKGZhbHNlKSB7XG5cdCAgbW9kdWxlLmhvdC5hY2NlcHQoZnVuY3Rpb24oZXJyKSB7XG5cdCAgICBjb25zb2xlLmxvZygnW0hNUl0gRXJyb3IgYWNjZXB0aW5nOiAnICsgZXJyKTtcblx0ICB9KTtcblxuXHQgIHZhciBnZXRFdmFsU291cmNlID0gZnVuY3Rpb24oZnVuYykge1xuXHQgICAgdmFyIGNvZGUgPSBmdW5jLnRvU3RyaW5nKCk7XG5cdCAgICB2YXIgbSA9IGNvZGUubWF0Y2goL15mdW5jdGlvblxccytfX2V2YWxcXHMqXFwoKC4qKVxcKVxccypcXHsoW1xcc1xcU10qKVxcfSQvaSk7XG5cdCAgICBpZighbSkge1xuXHQgICAgICByZXR1cm4gbnVsbDtcblx0ICAgIH1cblx0ICAgIHZhciBhcmdzID0gbVsxXTtcblx0ICAgIHZhciBib2R5ID0gbVsyXTtcblx0ICAgIHZhciBzY29wZSA9IHt9O1xuXG5cdCAgICBpZihhcmdzLnRyaW0oKSkge1xuXHQgICAgICBhcmdzLnNwbGl0KCcsJykuZm9yRWFjaChmdW5jdGlvbihhcmcpIHtcblx0ICAgICAgICBpZihhcmcuaW5kZXhPZignPScpICE9PSAtMSkge1xuXHQgICAgICAgICAgdmFyIHAgPSBhcmcuc3BsaXQoJz0nKTtcblx0ICAgICAgICAgIHNjb3BlW3BbMF0udHJpbSgpXSA9IEpTT04ucGFyc2UocFsxXSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGVsc2Uge1xuXHQgICAgICAgICAgc2NvcGVbYXJnLnRyaW0oKV0gPSB1bmRlZmluZWQ7XG5cdCAgICAgICAgfVxuXHQgICAgICB9KTtcblx0ICAgIH1cblxuXHQgICAgcmV0dXJuIHsgYm9keTogYm9keSwgc2NvcGU6IHNjb3BlIH07XG5cdCAgfVxuXG5cdCAgdmFyIGluamVjdFNjb3BlID0gZnVuY3Rpb24oc2NvcGUsIGNvZGUpIHtcblx0ICAgIC8vIFRha2UgYW4gZXhwbGljaXQgc2NvcGUgb2JqZWN0IGFuZCBpbmplY3QgaXQgc28gdGhhdFxuXHQgICAgLy8gYGNvZGVgIHJ1bnMgaW4gY29udGV4dCBvZiBpdFxuXHQgICAgdmFyIGluamVjdGVkID0gT2JqZWN0LmtleXMoc2NvcGUpLm1hcChmdW5jdGlvbihiaW5kaW5nKSB7XG5cdCAgICAgIHJldHVybiAndmFyICcgKyBiaW5kaW5nICsgJyA9IGV2YWxTY29wZS4nICsgYmluZGluZyArICc7J1xuXHQgICAgfSkuam9pbignICcpO1xuXG5cdCAgICAvLyBVcGRhdGUgb3VyIHNjb3BlIG9iamVjdCB3aXRoIGFueSBtb2RpZmljYXRpb25zXG5cdCAgICB2YXIgZXh0cmFjdGVkID0gT2JqZWN0LmtleXMoc2NvcGUpLm1hcChmdW5jdGlvbihiaW5kaW5nKSB7XG5cdCAgICAgIHJldHVybiAnZXZhbFNjb3BlLicgKyBiaW5kaW5nICsgJyA9ICcgKyBiaW5kaW5nICsgJzsnO1xuXHQgICAgfSkuam9pbignICcpO1xuXG5cdCAgICByZXR1cm4gaW5qZWN0ZWQgKyBjb2RlICsgZXh0cmFjdGVkO1xuXHQgIH1cblxuXHQgIHZhciBiaW5kaW5ncyA9IF9fbW9kdWxlQmluZGluZ3M7XG5cblx0ICBpZighbW9kdWxlLmhvdC5kYXRhKSB7XG5cdCAgICAvLyBGaXJzdCB0aW1lIGxvYWRpbmcuIFRyeSBhbmQgcGF0Y2ggc29tZXRoaW5nLlxuXHQgICAgdmFyIHBhdGNoZWRCaW5kaW5ncyA9IHt9O1xuXHQgICAgdmFyIGV2YWxTY29wZSA9IHt9O1xuXG5cdCAgICB2YXIgbW9kdWxlRXZhbFdpdGhTY29wZSA9IGZ1bmN0aW9uKGZyYW1lKSB7XG5cdCAgICAgIC8vIFVwZGF0ZSB0aGUgc2NvcGUgdG8gcmVmbGVjdCBvbmx5IHRoZSB2YWx1ZXMgc3BlY2lmaWVkIGFzXG5cdCAgICAgIC8vIGFyZ3VtZW50cyB0byB0aGUgX19ldmFsIGZ1bmN0aW9uLiBDb3B5IG92ZXIgdmFsdWVzIGZyb20gdGhlXG5cdCAgICAgIC8vIGV4aXN0aW5nIHNjb3BlIGFuZCBpZ25vcmUgdGhlIHJlc3QuXG5cdCAgICAgIE9iamVjdC5rZXlzKGV2YWxTY29wZSkuZm9yRWFjaChmdW5jdGlvbihhcmcpIHtcblx0ICAgICAgICBpZihhcmcgaW4gZnJhbWUuc2NvcGUpIHtcblx0ICAgICAgICAgIGZyYW1lLnNjb3BlW2FyZ10gPSBldmFsU2NvcGVbYXJnXTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0pO1xuXHQgICAgICBldmFsU2NvcGUgPSBmcmFtZS5zY29wZTtcblxuXHQgICAgICB2YXIgY29kZSA9IGluamVjdFNjb3BlKGV2YWxTY29wZSwgZnJhbWUuYm9keSk7XG5cdCAgICAgIHJldHVybiBldmFsKGNvZGUpO1xuXHQgICAgfVxuXG5cdCAgICB2YXIgbW9kdWxlRXZhbCA9IGZ1bmN0aW9uKGNvZGUpIHtcblx0ICAgICAgcmV0dXJuIGV2YWwoY29kZSk7XG5cdCAgICB9XG5cblx0ICAgIGJpbmRpbmdzLmZvckVhY2goZnVuY3Rpb24oYmluZGluZykge1xuXHQgICAgICB2YXIgZiA9IGV2YWwoYmluZGluZyk7XG5cblx0ICAgICAgaWYodHlwZW9mIGYgPT09ICdmdW5jdGlvbicgJiYgYmluZGluZyAhPT0gJ19fZXZhbCcpIHtcblx0ICAgICAgICB2YXIgcGF0Y2hlZCA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgaWYocGF0Y2hlZEJpbmRpbmdzW2JpbmRpbmddKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBwYXRjaGVkQmluZGluZ3NbYmluZGluZ10uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0ICAgICAgICAgIH1cblx0ICAgICAgICAgIGVsc2Uge1xuXHQgICAgICAgICAgICByZXR1cm4gZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH07XG5cdCAgICAgICAgcGF0Y2hlZC5wcm90b3R5cGUgPSBmLnByb3RvdHlwZTtcblxuXHQgICAgICAgIGV2YWwoYmluZGluZyArICcgPSBwYXRjaGVkO1xcbicpO1xuXG5cdCAgICAgICAgaWYobW9kdWxlLmV4cG9ydHNbYmluZGluZ10pIHtcblx0ICAgICAgICAgIG1vZHVsZS5leHBvcnRzW2JpbmRpbmddID0gcGF0Y2hlZDtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH0pO1xuXG5cdCAgICBtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oZGF0YSkge1xuXHQgICAgICBkYXRhLnBhdGNoZWRCaW5kaW5ncyA9IHBhdGNoZWRCaW5kaW5ncztcblx0ICAgICAgZGF0YS5tb2R1bGVFdmFsID0gbW9kdWxlRXZhbDtcblx0ICAgICAgZGF0YS5tb2R1bGVFdmFsV2l0aFNjb3BlID0gbW9kdWxlRXZhbFdpdGhTY29wZTtcblx0ICAgIH0pO1xuXHQgIH1cblx0ICBlbHNlIHtcblx0ICAgIHZhciBwYXRjaGVkQmluZGluZ3MgPSBtb2R1bGUuaG90LmRhdGEucGF0Y2hlZEJpbmRpbmdzO1xuXG5cdCAgICBiaW5kaW5ncy5mb3JFYWNoKGZ1bmN0aW9uKGJpbmRpbmcpIHtcblx0ICAgICAgdmFyIGYgPSBldmFsKGJpbmRpbmcpO1xuXG5cdCAgICAgIGlmKHR5cGVvZiBmID09PSAnZnVuY3Rpb24nICYmIGJpbmRpbmcgIT09ICdfX2V2YWwnKSB7XG5cdCAgICAgICAgLy8gV2UgbmVlZCB0byByZWlmeSB0aGUgZnVuY3Rpb24gaW4gdGhlIG9yaWdpbmFsIG1vZHVsZSBzb1xuXHQgICAgICAgIC8vIGl0IHJlZmVyZW5jZXMgYW55IG9mIHRoZSBvcmlnaW5hbCBzdGF0ZS4gU3RyaXAgdGhlIG5hbWVcblx0ICAgICAgICAvLyBhbmQgc2ltcGx5IGV2YWwgaXQuXG5cdCAgICAgICAgdmFyIGZ1bmNDb2RlID0gKFxuXHQgICAgICAgICAgJygnICsgZi50b1N0cmluZygpLnJlcGxhY2UoL15mdW5jdGlvbiBcXHcrXFwoLywgJ2Z1bmN0aW9uICgnKSArICcpJ1xuXHQgICAgICAgICk7XG5cdCAgICAgICAgcGF0Y2hlZEJpbmRpbmdzW2JpbmRpbmddID0gbW9kdWxlLmhvdC5kYXRhLm1vZHVsZUV2YWwoZnVuY0NvZGUpO1xuXHQgICAgICB9XG5cdCAgICB9KTtcblxuXHQgICAgaWYodHlwZW9mIF9fZXZhbCA9PT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICB0cnkge1xuXHQgICAgICAgIG1vZHVsZS5ob3QuZGF0YS5tb2R1bGVFdmFsV2l0aFNjb3BlKGdldEV2YWxTb3VyY2UoX19ldmFsKSk7XG5cdCAgICAgIH1cblx0ICAgICAgY2F0Y2goZSkge1xuXHQgICAgICAgIGNvbnNvbGUubG9nKCdlcnJvciBldmFsaW5nOiAnICsgZSk7XG5cdCAgICAgIH1cblx0ICAgIH1cblxuXHQgICAgbW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKGRhdGEpIHtcblx0ICAgICAgZGF0YS5wYXRjaGVkQmluZGluZ3MgPSBwYXRjaGVkQmluZGluZ3M7XG5cdCAgICAgIGRhdGEubW9kdWxlRXZhbCA9IG1vZHVsZS5ob3QuZGF0YS5tb2R1bGVFdmFsO1xuXHQgICAgICBkYXRhLm1vZHVsZUV2YWxXaXRoU2NvcGUgPSBtb2R1bGUuaG90LmRhdGEubW9kdWxlRXZhbFdpdGhTY29wZTtcblx0ICAgIH0pO1xuXHQgIH1cblx0fVxuXG5cbi8qKiovIH0sXG4vKiAxMDMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBTY2FsYXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQwKTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gTGluZTtcblx0XG5cdC8qKlxuXHQgKiBDb250YWluZXIgZm9yIGxpbmUtcmVsYXRlZCBmdW5jdGlvbnNcblx0ICogQGNsYXNzIExpbmVcblx0ICovXG5cdGZ1bmN0aW9uIExpbmUoKXt9O1xuXHRcblx0LyoqXG5cdCAqIENvbXB1dGUgdGhlIGludGVyc2VjdGlvbiBiZXR3ZWVuIHR3byBsaW5lcy5cblx0ICogQHN0YXRpY1xuXHQgKiBAbWV0aG9kIGxpbmVJbnRcblx0ICogQHBhcmFtICB7QXJyYXl9ICBsMSAgICAgICAgICBMaW5lIHZlY3RvciAxXG5cdCAqIEBwYXJhbSAge0FycmF5fSAgbDIgICAgICAgICAgTGluZSB2ZWN0b3IgMlxuXHQgKiBAcGFyYW0gIHtOdW1iZXJ9IHByZWNpc2lvbiAgIFByZWNpc2lvbiB0byB1c2Ugd2hlbiBjaGVja2luZyBpZiB0aGUgbGluZXMgYXJlIHBhcmFsbGVsXG5cdCAqIEByZXR1cm4ge0FycmF5fSAgICAgICAgICAgICAgVGhlIGludGVyc2VjdGlvbiBwb2ludC5cblx0ICovXG5cdExpbmUubGluZUludCA9IGZ1bmN0aW9uKGwxLGwyLHByZWNpc2lvbil7XG5cdCAgICBwcmVjaXNpb24gPSBwcmVjaXNpb24gfHwgMDtcblx0ICAgIHZhciBpID0gWzAsMF07IC8vIHBvaW50XG5cdCAgICB2YXIgYTEsIGIxLCBjMSwgYTIsIGIyLCBjMiwgZGV0OyAvLyBzY2FsYXJzXG5cdCAgICBhMSA9IGwxWzFdWzFdIC0gbDFbMF1bMV07XG5cdCAgICBiMSA9IGwxWzBdWzBdIC0gbDFbMV1bMF07XG5cdCAgICBjMSA9IGExICogbDFbMF1bMF0gKyBiMSAqIGwxWzBdWzFdO1xuXHQgICAgYTIgPSBsMlsxXVsxXSAtIGwyWzBdWzFdO1xuXHQgICAgYjIgPSBsMlswXVswXSAtIGwyWzFdWzBdO1xuXHQgICAgYzIgPSBhMiAqIGwyWzBdWzBdICsgYjIgKiBsMlswXVsxXTtcblx0ICAgIGRldCA9IGExICogYjIgLSBhMipiMTtcblx0ICAgIGlmICghU2NhbGFyLmVxKGRldCwgMCwgcHJlY2lzaW9uKSkgeyAvLyBsaW5lcyBhcmUgbm90IHBhcmFsbGVsXG5cdCAgICAgICAgaVswXSA9IChiMiAqIGMxIC0gYjEgKiBjMikgLyBkZXQ7XG5cdCAgICAgICAgaVsxXSA9IChhMSAqIGMyIC0gYTIgKiBjMSkgLyBkZXQ7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gaTtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBDaGVja3MgaWYgdHdvIGxpbmUgc2VnbWVudHMgaW50ZXJzZWN0cy5cblx0ICogQG1ldGhvZCBzZWdtZW50c0ludGVyc2VjdFxuXHQgKiBAcGFyYW0ge0FycmF5fSBwMSBUaGUgc3RhcnQgdmVydGV4IG9mIHRoZSBmaXJzdCBsaW5lIHNlZ21lbnQuXG5cdCAqIEBwYXJhbSB7QXJyYXl9IHAyIFRoZSBlbmQgdmVydGV4IG9mIHRoZSBmaXJzdCBsaW5lIHNlZ21lbnQuXG5cdCAqIEBwYXJhbSB7QXJyYXl9IHExIFRoZSBzdGFydCB2ZXJ0ZXggb2YgdGhlIHNlY29uZCBsaW5lIHNlZ21lbnQuXG5cdCAqIEBwYXJhbSB7QXJyYXl9IHEyIFRoZSBlbmQgdmVydGV4IG9mIHRoZSBzZWNvbmQgbGluZSBzZWdtZW50LlxuXHQgKiBAcmV0dXJuIHtCb29sZWFufSBUcnVlIGlmIHRoZSB0d28gbGluZSBzZWdtZW50cyBpbnRlcnNlY3Rcblx0ICovXG5cdExpbmUuc2VnbWVudHNJbnRlcnNlY3QgPSBmdW5jdGlvbihwMSwgcDIsIHExLCBxMil7XG5cdCAgIHZhciBkeCA9IHAyWzBdIC0gcDFbMF07XG5cdCAgIHZhciBkeSA9IHAyWzFdIC0gcDFbMV07XG5cdCAgIHZhciBkYSA9IHEyWzBdIC0gcTFbMF07XG5cdCAgIHZhciBkYiA9IHEyWzFdIC0gcTFbMV07XG5cdFxuXHQgICAvLyBzZWdtZW50cyBhcmUgcGFyYWxsZWxcblx0ICAgaWYoZGEqZHkgLSBkYipkeCA9PSAwKVxuXHQgICAgICByZXR1cm4gZmFsc2U7XG5cdFxuXHQgICB2YXIgcyA9IChkeCAqIChxMVsxXSAtIHAxWzFdKSArIGR5ICogKHAxWzBdIC0gcTFbMF0pKSAvIChkYSAqIGR5IC0gZGIgKiBkeClcblx0ICAgdmFyIHQgPSAoZGEgKiAocDFbMV0gLSBxMVsxXSkgKyBkYiAqIChxMVswXSAtIHAxWzBdKSkgLyAoZGIgKiBkeCAtIGRhICogZHkpXG5cdFxuXHQgICByZXR1cm4gKHM+PTAgJiYgczw9MSAmJiB0Pj0wICYmIHQ8PTEpO1xuXHR9O1xuXHRcblxuXG4vKioqLyB9LFxuLyogMTA0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgTGluZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTAzKVxuXHQsICAgUG9pbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM5KVxuXHQsICAgU2NhbGFyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0MClcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gUG9seWdvbjtcblx0XG5cdC8qKlxuXHQgKiBQb2x5Z29uIGNsYXNzLlxuXHQgKiBAY2xhc3MgUG9seWdvblxuXHQgKiBAY29uc3RydWN0b3Jcblx0ICovXG5cdGZ1bmN0aW9uIFBvbHlnb24oKXtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIFZlcnRpY2VzIHRoYXQgdGhpcyBwb2x5Z29uIGNvbnNpc3RzIG9mLiBBbiBhcnJheSBvZiBhcnJheSBvZiBudW1iZXJzLCBleGFtcGxlOiBbWzAsMF0sWzEsMF0sLi5dXG5cdCAgICAgKiBAcHJvcGVydHkgdmVydGljZXNcblx0ICAgICAqIEB0eXBlIHtBcnJheX1cblx0ICAgICAqL1xuXHQgICAgdGhpcy52ZXJ0aWNlcyA9IFtdO1xuXHR9XG5cdFxuXHQvKipcblx0ICogR2V0IGEgdmVydGV4IGF0IHBvc2l0aW9uIGkuIEl0IGRvZXMgbm90IG1hdHRlciBpZiBpIGlzIG91dCBvZiBib3VuZHMsIHRoaXMgZnVuY3Rpb24gd2lsbCBqdXN0IGN5Y2xlLlxuXHQgKiBAbWV0aG9kIGF0XG5cdCAqIEBwYXJhbSAge051bWJlcn0gaVxuXHQgKiBAcmV0dXJuIHtBcnJheX1cblx0ICovXG5cdFBvbHlnb24ucHJvdG90eXBlLmF0ID0gZnVuY3Rpb24oaSl7XG5cdCAgICB2YXIgdiA9IHRoaXMudmVydGljZXMsXG5cdCAgICAgICAgcyA9IHYubGVuZ3RoO1xuXHQgICAgcmV0dXJuIHZbaSA8IDAgPyBpICUgcyArIHMgOiBpICUgc107XG5cdH07XG5cdFxuXHQvKipcblx0ICogR2V0IGZpcnN0IHZlcnRleFxuXHQgKiBAbWV0aG9kIGZpcnN0XG5cdCAqIEByZXR1cm4ge0FycmF5fVxuXHQgKi9cblx0UG9seWdvbi5wcm90b3R5cGUuZmlyc3QgPSBmdW5jdGlvbigpe1xuXHQgICAgcmV0dXJuIHRoaXMudmVydGljZXNbMF07XG5cdH07XG5cdFxuXHQvKipcblx0ICogR2V0IGxhc3QgdmVydGV4XG5cdCAqIEBtZXRob2QgbGFzdFxuXHQgKiBAcmV0dXJuIHtBcnJheX1cblx0ICovXG5cdFBvbHlnb24ucHJvdG90eXBlLmxhc3QgPSBmdW5jdGlvbigpe1xuXHQgICAgcmV0dXJuIHRoaXMudmVydGljZXNbdGhpcy52ZXJ0aWNlcy5sZW5ndGgtMV07XG5cdH07XG5cdFxuXHQvKipcblx0ICogQ2xlYXIgdGhlIHBvbHlnb24gZGF0YVxuXHQgKiBAbWV0aG9kIGNsZWFyXG5cdCAqIEByZXR1cm4ge0FycmF5fVxuXHQgKi9cblx0UG9seWdvbi5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbigpe1xuXHQgICAgdGhpcy52ZXJ0aWNlcy5sZW5ndGggPSAwO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIEFwcGVuZCBwb2ludHMgXCJmcm9tXCIgdG8gXCJ0b1wiLTEgZnJvbSBhbiBvdGhlciBwb2x5Z29uIFwicG9seVwiIG9udG8gdGhpcyBvbmUuXG5cdCAqIEBtZXRob2QgYXBwZW5kXG5cdCAqIEBwYXJhbSB7UG9seWdvbn0gcG9seSBUaGUgcG9seWdvbiB0byBnZXQgcG9pbnRzIGZyb20uXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSAgZnJvbSBUaGUgdmVydGV4IGluZGV4IGluIFwicG9seVwiLlxuXHQgKiBAcGFyYW0ge051bWJlcn0gIHRvIFRoZSBlbmQgdmVydGV4IGluZGV4IGluIFwicG9seVwiLiBOb3RlIHRoYXQgdGhpcyB2ZXJ0ZXggaXMgTk9UIGluY2x1ZGVkIHdoZW4gYXBwZW5kaW5nLlxuXHQgKiBAcmV0dXJuIHtBcnJheX1cblx0ICovXG5cdFBvbHlnb24ucHJvdG90eXBlLmFwcGVuZCA9IGZ1bmN0aW9uKHBvbHksZnJvbSx0byl7XG5cdCAgICBpZih0eXBlb2YoZnJvbSkgPT0gXCJ1bmRlZmluZWRcIikgdGhyb3cgbmV3IEVycm9yKFwiRnJvbSBpcyBub3QgZ2l2ZW4hXCIpO1xuXHQgICAgaWYodHlwZW9mKHRvKSA9PSBcInVuZGVmaW5lZFwiKSAgIHRocm93IG5ldyBFcnJvcihcIlRvIGlzIG5vdCBnaXZlbiFcIik7XG5cdFxuXHQgICAgaWYodG8tMSA8IGZyb20pICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJsb2wxXCIpO1xuXHQgICAgaWYodG8gPiBwb2x5LnZlcnRpY2VzLmxlbmd0aCkgICB0aHJvdyBuZXcgRXJyb3IoXCJsb2wyXCIpO1xuXHQgICAgaWYoZnJvbSA8IDApICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJsb2wzXCIpO1xuXHRcblx0ICAgIGZvcih2YXIgaT1mcm9tOyBpPHRvOyBpKyspe1xuXHQgICAgICAgIHRoaXMudmVydGljZXMucHVzaChwb2x5LnZlcnRpY2VzW2ldKTtcblx0ICAgIH1cblx0fTtcblx0XG5cdC8qKlxuXHQgKiBNYWtlIHN1cmUgdGhhdCB0aGUgcG9seWdvbiB2ZXJ0aWNlcyBhcmUgb3JkZXJlZCBjb3VudGVyLWNsb2Nrd2lzZS5cblx0ICogQG1ldGhvZCBtYWtlQ0NXXG5cdCAqL1xuXHRQb2x5Z29uLnByb3RvdHlwZS5tYWtlQ0NXID0gZnVuY3Rpb24oKXtcblx0ICAgIHZhciBiciA9IDAsXG5cdCAgICAgICAgdiA9IHRoaXMudmVydGljZXM7XG5cdFxuXHQgICAgLy8gZmluZCBib3R0b20gcmlnaHQgcG9pbnRcblx0ICAgIGZvciAodmFyIGkgPSAxOyBpIDwgdGhpcy52ZXJ0aWNlcy5sZW5ndGg7ICsraSkge1xuXHQgICAgICAgIGlmICh2W2ldWzFdIDwgdlticl1bMV0gfHwgKHZbaV1bMV0gPT0gdlticl1bMV0gJiYgdltpXVswXSA+IHZbYnJdWzBdKSkge1xuXHQgICAgICAgICAgICBiciA9IGk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIC8vIHJldmVyc2UgcG9seSBpZiBjbG9ja3dpc2Vcblx0ICAgIGlmICghUG9pbnQubGVmdCh0aGlzLmF0KGJyIC0gMSksIHRoaXMuYXQoYnIpLCB0aGlzLmF0KGJyICsgMSkpKSB7XG5cdCAgICAgICAgdGhpcy5yZXZlcnNlKCk7XG5cdCAgICB9XG5cdH07XG5cdFxuXHQvKipcblx0ICogUmV2ZXJzZSB0aGUgdmVydGljZXMgaW4gdGhlIHBvbHlnb25cblx0ICogQG1ldGhvZCByZXZlcnNlXG5cdCAqL1xuXHRQb2x5Z29uLnByb3RvdHlwZS5yZXZlcnNlID0gZnVuY3Rpb24oKXtcblx0ICAgIHZhciB0bXAgPSBbXTtcblx0ICAgIGZvcih2YXIgaT0wLCBOPXRoaXMudmVydGljZXMubGVuZ3RoOyBpIT09TjsgaSsrKXtcblx0ICAgICAgICB0bXAucHVzaCh0aGlzLnZlcnRpY2VzLnBvcCgpKTtcblx0ICAgIH1cblx0ICAgIHRoaXMudmVydGljZXMgPSB0bXA7XG5cdH07XG5cdFxuXHQvKipcblx0ICogQ2hlY2sgaWYgYSBwb2ludCBpbiB0aGUgcG9seWdvbiBpcyBhIHJlZmxleCBwb2ludFxuXHQgKiBAbWV0aG9kIGlzUmVmbGV4XG5cdCAqIEBwYXJhbSAge051bWJlcn0gIGlcblx0ICogQHJldHVybiB7Qm9vbGVhbn1cblx0ICovXG5cdFBvbHlnb24ucHJvdG90eXBlLmlzUmVmbGV4ID0gZnVuY3Rpb24oaSl7XG5cdCAgICByZXR1cm4gUG9pbnQucmlnaHQodGhpcy5hdChpIC0gMSksIHRoaXMuYXQoaSksIHRoaXMuYXQoaSArIDEpKTtcblx0fTtcblx0XG5cdHZhciB0bXBMaW5lMT1bXSxcblx0ICAgIHRtcExpbmUyPVtdO1xuXHRcblx0LyoqXG5cdCAqIENoZWNrIGlmIHR3byB2ZXJ0aWNlcyBpbiB0aGUgcG9seWdvbiBjYW4gc2VlIGVhY2ggb3RoZXJcblx0ICogQG1ldGhvZCBjYW5TZWVcblx0ICogQHBhcmFtICB7TnVtYmVyfSBhIFZlcnRleCBpbmRleCAxXG5cdCAqIEBwYXJhbSAge051bWJlcn0gYiBWZXJ0ZXggaW5kZXggMlxuXHQgKiBAcmV0dXJuIHtCb29sZWFufVxuXHQgKi9cblx0UG9seWdvbi5wcm90b3R5cGUuY2FuU2VlID0gZnVuY3Rpb24oYSxiKSB7XG5cdCAgICB2YXIgcCwgZGlzdCwgbDE9dG1wTGluZTEsIGwyPXRtcExpbmUyO1xuXHRcblx0ICAgIGlmIChQb2ludC5sZWZ0T24odGhpcy5hdChhICsgMSksIHRoaXMuYXQoYSksIHRoaXMuYXQoYikpICYmIFBvaW50LnJpZ2h0T24odGhpcy5hdChhIC0gMSksIHRoaXMuYXQoYSksIHRoaXMuYXQoYikpKSB7XG5cdCAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgfVxuXHQgICAgZGlzdCA9IFBvaW50LnNxZGlzdCh0aGlzLmF0KGEpLCB0aGlzLmF0KGIpKTtcblx0ICAgIGZvciAodmFyIGkgPSAwOyBpICE9PSB0aGlzLnZlcnRpY2VzLmxlbmd0aDsgKytpKSB7IC8vIGZvciBlYWNoIGVkZ2Vcblx0ICAgICAgICBpZiAoKGkgKyAxKSAlIHRoaXMudmVydGljZXMubGVuZ3RoID09PSBhIHx8IGkgPT09IGEpIC8vIGlnbm9yZSBpbmNpZGVudCBlZGdlc1xuXHQgICAgICAgICAgICBjb250aW51ZTtcblx0ICAgICAgICBpZiAoUG9pbnQubGVmdE9uKHRoaXMuYXQoYSksIHRoaXMuYXQoYiksIHRoaXMuYXQoaSArIDEpKSAmJiBQb2ludC5yaWdodE9uKHRoaXMuYXQoYSksIHRoaXMuYXQoYiksIHRoaXMuYXQoaSkpKSB7IC8vIGlmIGRpYWcgaW50ZXJzZWN0cyBhbiBlZGdlXG5cdCAgICAgICAgICAgIGwxWzBdID0gdGhpcy5hdChhKTtcblx0ICAgICAgICAgICAgbDFbMV0gPSB0aGlzLmF0KGIpO1xuXHQgICAgICAgICAgICBsMlswXSA9IHRoaXMuYXQoaSk7XG5cdCAgICAgICAgICAgIGwyWzFdID0gdGhpcy5hdChpICsgMSk7XG5cdCAgICAgICAgICAgIHAgPSBMaW5lLmxpbmVJbnQobDEsbDIpO1xuXHQgICAgICAgICAgICBpZiAoUG9pbnQuc3FkaXN0KHRoaXMuYXQoYSksIHApIDwgZGlzdCkgeyAvLyBpZiBlZGdlIGlzIGJsb2NraW5nIHZpc2liaWxpdHkgdG8gYlxuXHQgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiB0cnVlO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIENvcHkgdGhlIHBvbHlnb24gZnJvbSB2ZXJ0ZXggaSB0byB2ZXJ0ZXggai5cblx0ICogQG1ldGhvZCBjb3B5XG5cdCAqIEBwYXJhbSAge051bWJlcn0gaVxuXHQgKiBAcGFyYW0gIHtOdW1iZXJ9IGpcblx0ICogQHBhcmFtICB7UG9seWdvbn0gW3RhcmdldFBvbHldICAgT3B0aW9uYWwgdGFyZ2V0IHBvbHlnb24gdG8gc2F2ZSBpbi5cblx0ICogQHJldHVybiB7UG9seWdvbn0gICAgICAgICAgICAgICAgVGhlIHJlc3VsdGluZyBjb3B5LlxuXHQgKi9cblx0UG9seWdvbi5wcm90b3R5cGUuY29weSA9IGZ1bmN0aW9uKGksaix0YXJnZXRQb2x5KXtcblx0ICAgIHZhciBwID0gdGFyZ2V0UG9seSB8fCBuZXcgUG9seWdvbigpO1xuXHQgICAgcC5jbGVhcigpO1xuXHQgICAgaWYgKGkgPCBqKSB7XG5cdCAgICAgICAgLy8gSW5zZXJ0IGFsbCB2ZXJ0aWNlcyBmcm9tIGkgdG8galxuXHQgICAgICAgIGZvcih2YXIgaz1pOyBrPD1qOyBrKyspXG5cdCAgICAgICAgICAgIHAudmVydGljZXMucHVzaCh0aGlzLnZlcnRpY2VzW2tdKTtcblx0XG5cdCAgICB9IGVsc2Uge1xuXHRcblx0ICAgICAgICAvLyBJbnNlcnQgdmVydGljZXMgMCB0byBqXG5cdCAgICAgICAgZm9yKHZhciBrPTA7IGs8PWo7IGsrKylcblx0ICAgICAgICAgICAgcC52ZXJ0aWNlcy5wdXNoKHRoaXMudmVydGljZXNba10pO1xuXHRcblx0ICAgICAgICAvLyBJbnNlcnQgdmVydGljZXMgaSB0byBlbmRcblx0ICAgICAgICBmb3IodmFyIGs9aTsgazx0aGlzLnZlcnRpY2VzLmxlbmd0aDsgaysrKVxuXHQgICAgICAgICAgICBwLnZlcnRpY2VzLnB1c2godGhpcy52ZXJ0aWNlc1trXSk7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIHA7XG5cdH07XG5cdFxuXHQvKipcblx0ICogRGVjb21wb3NlcyB0aGUgcG9seWdvbiBpbnRvIGNvbnZleCBwaWVjZXMuIFJldHVybnMgYSBsaXN0IG9mIGVkZ2VzIFtbcDEscDJdLFtwMixwM10sLi4uXSB0aGF0IGN1dHMgdGhlIHBvbHlnb24uXG5cdCAqIE5vdGUgdGhhdCB0aGlzIGFsZ29yaXRobSBoYXMgY29tcGxleGl0eSBPKE5eNCkgYW5kIHdpbGwgYmUgdmVyeSBzbG93IGZvciBwb2x5Z29ucyB3aXRoIG1hbnkgdmVydGljZXMuXG5cdCAqIEBtZXRob2QgZ2V0Q3V0RWRnZXNcblx0ICogQHJldHVybiB7QXJyYXl9XG5cdCAqL1xuXHRQb2x5Z29uLnByb3RvdHlwZS5nZXRDdXRFZGdlcyA9IGZ1bmN0aW9uKCkge1xuXHQgICAgdmFyIG1pbj1bXSwgdG1wMT1bXSwgdG1wMj1bXSwgdG1wUG9seSA9IG5ldyBQb2x5Z29uKCk7XG5cdCAgICB2YXIgbkRpYWdzID0gTnVtYmVyLk1BWF9WQUxVRTtcblx0XG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMudmVydGljZXMubGVuZ3RoOyArK2kpIHtcblx0ICAgICAgICBpZiAodGhpcy5pc1JlZmxleChpKSkge1xuXHQgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHRoaXMudmVydGljZXMubGVuZ3RoOyArK2opIHtcblx0ICAgICAgICAgICAgICAgIGlmICh0aGlzLmNhblNlZShpLCBqKSkge1xuXHQgICAgICAgICAgICAgICAgICAgIHRtcDEgPSB0aGlzLmNvcHkoaSwgaiwgdG1wUG9seSkuZ2V0Q3V0RWRnZXMoKTtcblx0ICAgICAgICAgICAgICAgICAgICB0bXAyID0gdGhpcy5jb3B5KGosIGksIHRtcFBvbHkpLmdldEN1dEVkZ2VzKCk7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgIGZvcih2YXIgaz0wOyBrPHRtcDIubGVuZ3RoOyBrKyspXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHRtcDEucHVzaCh0bXAyW2tdKTtcblx0XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKHRtcDEubGVuZ3RoIDwgbkRpYWdzKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIG1pbiA9IHRtcDE7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIG5EaWFncyA9IHRtcDEubGVuZ3RoO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBtaW4ucHVzaChbdGhpcy5hdChpKSwgdGhpcy5hdChqKV0pO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gbWluO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIERlY29tcG9zZXMgdGhlIHBvbHlnb24gaW50byBvbmUgb3IgbW9yZSBjb252ZXggc3ViLVBvbHlnb25zLlxuXHQgKiBAbWV0aG9kIGRlY29tcFxuXHQgKiBAcmV0dXJuIHtBcnJheX0gQW4gYXJyYXkgb3IgUG9seWdvbiBvYmplY3RzLlxuXHQgKi9cblx0UG9seWdvbi5wcm90b3R5cGUuZGVjb21wID0gZnVuY3Rpb24oKXtcblx0ICAgIHZhciBlZGdlcyA9IHRoaXMuZ2V0Q3V0RWRnZXMoKTtcblx0ICAgIGlmKGVkZ2VzLmxlbmd0aCA+IDApXG5cdCAgICAgICAgcmV0dXJuIHRoaXMuc2xpY2UoZWRnZXMpO1xuXHQgICAgZWxzZVxuXHQgICAgICAgIHJldHVybiBbdGhpc107XG5cdH07XG5cdFxuXHQvKipcblx0ICogU2xpY2VzIHRoZSBwb2x5Z29uIGdpdmVuIG9uZSBvciBtb3JlIGN1dCBlZGdlcy4gSWYgZ2l2ZW4gb25lLCB0aGlzIGZ1bmN0aW9uIHdpbGwgcmV0dXJuIHR3byBwb2x5Z29ucyAoZmFsc2Ugb24gZmFpbHVyZSkuIElmIG1hbnksIGFuIGFycmF5IG9mIHBvbHlnb25zLlxuXHQgKiBAbWV0aG9kIHNsaWNlXG5cdCAqIEBwYXJhbSB7QXJyYXl9IGN1dEVkZ2VzIEEgbGlzdCBvZiBlZGdlcywgYXMgcmV0dXJuZWQgYnkgLmdldEN1dEVkZ2VzKClcblx0ICogQHJldHVybiB7QXJyYXl9XG5cdCAqL1xuXHRQb2x5Z29uLnByb3RvdHlwZS5zbGljZSA9IGZ1bmN0aW9uKGN1dEVkZ2VzKXtcblx0ICAgIGlmKGN1dEVkZ2VzLmxlbmd0aCA9PSAwKSByZXR1cm4gW3RoaXNdO1xuXHQgICAgaWYoY3V0RWRnZXMgaW5zdGFuY2VvZiBBcnJheSAmJiBjdXRFZGdlcy5sZW5ndGggJiYgY3V0RWRnZXNbMF0gaW5zdGFuY2VvZiBBcnJheSAmJiBjdXRFZGdlc1swXS5sZW5ndGg9PTIgJiYgY3V0RWRnZXNbMF1bMF0gaW5zdGFuY2VvZiBBcnJheSl7XG5cdFxuXHQgICAgICAgIHZhciBwb2x5cyA9IFt0aGlzXTtcblx0XG5cdCAgICAgICAgZm9yKHZhciBpPTA7IGk8Y3V0RWRnZXMubGVuZ3RoOyBpKyspe1xuXHQgICAgICAgICAgICB2YXIgY3V0RWRnZSA9IGN1dEVkZ2VzW2ldO1xuXHQgICAgICAgICAgICAvLyBDdXQgYWxsIHBvbHlzXG5cdCAgICAgICAgICAgIGZvcih2YXIgaj0wOyBqPHBvbHlzLmxlbmd0aDsgaisrKXtcblx0ICAgICAgICAgICAgICAgIHZhciBwb2x5ID0gcG9seXNbal07XG5cdCAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gcG9seS5zbGljZShjdXRFZGdlKTtcblx0ICAgICAgICAgICAgICAgIGlmKHJlc3VsdCl7XG5cdCAgICAgICAgICAgICAgICAgICAgLy8gRm91bmQgcG9seSEgQ3V0IGFuZCBxdWl0XG5cdCAgICAgICAgICAgICAgICAgICAgcG9seXMuc3BsaWNlKGosMSk7XG5cdCAgICAgICAgICAgICAgICAgICAgcG9seXMucHVzaChyZXN1bHRbMF0scmVzdWx0WzFdKTtcblx0ICAgICAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgcmV0dXJuIHBvbHlzO1xuXHQgICAgfSBlbHNlIHtcblx0XG5cdCAgICAgICAgLy8gV2FzIGdpdmVuIG9uZSBlZGdlXG5cdCAgICAgICAgdmFyIGN1dEVkZ2UgPSBjdXRFZGdlcztcblx0ICAgICAgICB2YXIgaSA9IHRoaXMudmVydGljZXMuaW5kZXhPZihjdXRFZGdlWzBdKTtcblx0ICAgICAgICB2YXIgaiA9IHRoaXMudmVydGljZXMuaW5kZXhPZihjdXRFZGdlWzFdKTtcblx0XG5cdCAgICAgICAgaWYoaSAhPSAtMSAmJiBqICE9IC0xKXtcblx0ICAgICAgICAgICAgcmV0dXJuIFt0aGlzLmNvcHkoaSxqKSxcblx0ICAgICAgICAgICAgICAgICAgICB0aGlzLmNvcHkoaixpKV07XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0fTtcblx0XG5cdC8qKlxuXHQgKiBDaGVja3MgdGhhdCB0aGUgbGluZSBzZWdtZW50cyBvZiB0aGlzIHBvbHlnb24gZG8gbm90IGludGVyc2VjdCBlYWNoIG90aGVyLlxuXHQgKiBAbWV0aG9kIGlzU2ltcGxlXG5cdCAqIEBwYXJhbSAge0FycmF5fSBwYXRoIEFuIGFycmF5IG9mIHZlcnRpY2VzIGUuZy4gW1swLDBdLFswLDFdLC4uLl1cblx0ICogQHJldHVybiB7Qm9vbGVhbn1cblx0ICogQHRvZG8gU2hvdWxkIGl0IGNoZWNrIGFsbCBzZWdtZW50cyB3aXRoIGFsbCBvdGhlcnM/XG5cdCAqL1xuXHRQb2x5Z29uLnByb3RvdHlwZS5pc1NpbXBsZSA9IGZ1bmN0aW9uKCl7XG5cdCAgICB2YXIgcGF0aCA9IHRoaXMudmVydGljZXM7XG5cdCAgICAvLyBDaGVja1xuXHQgICAgZm9yKHZhciBpPTA7IGk8cGF0aC5sZW5ndGgtMTsgaSsrKXtcblx0ICAgICAgICBmb3IodmFyIGo9MDsgajxpLTE7IGorKyl7XG5cdCAgICAgICAgICAgIGlmKExpbmUuc2VnbWVudHNJbnRlcnNlY3QocGF0aFtpXSwgcGF0aFtpKzFdLCBwYXRoW2pdLCBwYXRoW2orMV0gKSl7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgLy8gQ2hlY2sgdGhlIHNlZ21lbnQgYmV0d2VlbiB0aGUgbGFzdCBhbmQgdGhlIGZpcnN0IHBvaW50IHRvIGFsbCBvdGhlcnNcblx0ICAgIGZvcih2YXIgaT0xOyBpPHBhdGgubGVuZ3RoLTI7IGkrKyl7XG5cdCAgICAgICAgaWYoTGluZS5zZWdtZW50c0ludGVyc2VjdChwYXRoWzBdLCBwYXRoW3BhdGgubGVuZ3RoLTFdLCBwYXRoW2ldLCBwYXRoW2krMV0gKSl7XG5cdCAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIHRydWU7XG5cdH07XG5cdFxuXHRmdW5jdGlvbiBnZXRJbnRlcnNlY3Rpb25Qb2ludChwMSwgcDIsIHExLCBxMiwgZGVsdGEpe1xuXHQgICAgZGVsdGEgPSBkZWx0YSB8fCAwO1xuXHQgICB2YXIgYTEgPSBwMlsxXSAtIHAxWzFdO1xuXHQgICB2YXIgYjEgPSBwMVswXSAtIHAyWzBdO1xuXHQgICB2YXIgYzEgPSAoYTEgKiBwMVswXSkgKyAoYjEgKiBwMVsxXSk7XG5cdCAgIHZhciBhMiA9IHEyWzFdIC0gcTFbMV07XG5cdCAgIHZhciBiMiA9IHExWzBdIC0gcTJbMF07XG5cdCAgIHZhciBjMiA9IChhMiAqIHExWzBdKSArIChiMiAqIHExWzFdKTtcblx0ICAgdmFyIGRldCA9IChhMSAqIGIyKSAtIChhMiAqIGIxKTtcblx0XG5cdCAgIGlmKCFTY2FsYXIuZXEoZGV0LDAsZGVsdGEpKVxuXHQgICAgICByZXR1cm4gWygoYjIgKiBjMSkgLSAoYjEgKiBjMikpIC8gZGV0LCAoKGExICogYzIpIC0gKGEyICogYzEpKSAvIGRldF1cblx0ICAgZWxzZVxuXHQgICAgICByZXR1cm4gWzAsMF1cblx0fVxuXHRcblx0LyoqXG5cdCAqIFF1aWNrbHkgZGVjb21wb3NlIHRoZSBQb2x5Z29uIGludG8gY29udmV4IHN1Yi1wb2x5Z29ucy5cblx0ICogQG1ldGhvZCBxdWlja0RlY29tcFxuXHQgKiBAcGFyYW0gIHtBcnJheX0gcmVzdWx0XG5cdCAqIEBwYXJhbSAge0FycmF5fSBbcmVmbGV4VmVydGljZXNdXG5cdCAqIEBwYXJhbSAge0FycmF5fSBbc3RlaW5lclBvaW50c11cblx0ICogQHBhcmFtICB7TnVtYmVyfSBbZGVsdGFdXG5cdCAqIEBwYXJhbSAge051bWJlcn0gW21heGxldmVsXVxuXHQgKiBAcGFyYW0gIHtOdW1iZXJ9IFtsZXZlbF1cblx0ICogQHJldHVybiB7QXJyYXl9XG5cdCAqL1xuXHRQb2x5Z29uLnByb3RvdHlwZS5xdWlja0RlY29tcCA9IGZ1bmN0aW9uKHJlc3VsdCxyZWZsZXhWZXJ0aWNlcyxzdGVpbmVyUG9pbnRzLGRlbHRhLG1heGxldmVsLGxldmVsKXtcblx0ICAgIG1heGxldmVsID0gbWF4bGV2ZWwgfHwgMTAwO1xuXHQgICAgbGV2ZWwgPSBsZXZlbCB8fCAwO1xuXHQgICAgZGVsdGEgPSBkZWx0YSB8fCAyNTtcblx0ICAgIHJlc3VsdCA9IHR5cGVvZihyZXN1bHQpIT1cInVuZGVmaW5lZFwiID8gcmVzdWx0IDogW107XG5cdCAgICByZWZsZXhWZXJ0aWNlcyA9IHJlZmxleFZlcnRpY2VzIHx8IFtdO1xuXHQgICAgc3RlaW5lclBvaW50cyA9IHN0ZWluZXJQb2ludHMgfHwgW107XG5cdFxuXHQgICAgdmFyIHVwcGVySW50PVswLDBdLCBsb3dlckludD1bMCwwXSwgcD1bMCwwXTsgLy8gUG9pbnRzXG5cdCAgICB2YXIgdXBwZXJEaXN0PTAsIGxvd2VyRGlzdD0wLCBkPTAsIGNsb3Nlc3REaXN0PTA7IC8vIHNjYWxhcnNcblx0ICAgIHZhciB1cHBlckluZGV4PTAsIGxvd2VySW5kZXg9MCwgY2xvc2VzdEluZGV4PTA7IC8vIEludGVnZXJzXG5cdCAgICB2YXIgbG93ZXJQb2x5PW5ldyBQb2x5Z29uKCksIHVwcGVyUG9seT1uZXcgUG9seWdvbigpOyAvLyBwb2x5Z29uc1xuXHQgICAgdmFyIHBvbHkgPSB0aGlzLFxuXHQgICAgICAgIHYgPSB0aGlzLnZlcnRpY2VzO1xuXHRcblx0ICAgIGlmKHYubGVuZ3RoIDwgMykgcmV0dXJuIHJlc3VsdDtcblx0XG5cdCAgICBsZXZlbCsrO1xuXHQgICAgaWYobGV2ZWwgPiBtYXhsZXZlbCl7XG5cdCAgICAgICAgY29uc29sZS53YXJuKFwicXVpY2tEZWNvbXA6IG1heCBsZXZlbCAoXCIrbWF4bGV2ZWwrXCIpIHJlYWNoZWQuXCIpO1xuXHQgICAgICAgIHJldHVybiByZXN1bHQ7XG5cdCAgICB9XG5cdFxuXHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnZlcnRpY2VzLmxlbmd0aDsgKytpKSB7XG5cdCAgICAgICAgaWYgKHBvbHkuaXNSZWZsZXgoaSkpIHtcblx0ICAgICAgICAgICAgcmVmbGV4VmVydGljZXMucHVzaChwb2x5LnZlcnRpY2VzW2ldKTtcblx0ICAgICAgICAgICAgdXBwZXJEaXN0ID0gbG93ZXJEaXN0ID0gTnVtYmVyLk1BWF9WQUxVRTtcblx0XG5cdFxuXHQgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHRoaXMudmVydGljZXMubGVuZ3RoOyArK2opIHtcblx0ICAgICAgICAgICAgICAgIGlmIChQb2ludC5sZWZ0KHBvbHkuYXQoaSAtIDEpLCBwb2x5LmF0KGkpLCBwb2x5LmF0KGopKVxuXHQgICAgICAgICAgICAgICAgICAgICAgICAmJiBQb2ludC5yaWdodE9uKHBvbHkuYXQoaSAtIDEpLCBwb2x5LmF0KGkpLCBwb2x5LmF0KGogLSAxKSkpIHsgLy8gaWYgbGluZSBpbnRlcnNlY3RzIHdpdGggYW4gZWRnZVxuXHQgICAgICAgICAgICAgICAgICAgIHAgPSBnZXRJbnRlcnNlY3Rpb25Qb2ludChwb2x5LmF0KGkgLSAxKSwgcG9seS5hdChpKSwgcG9seS5hdChqKSwgcG9seS5hdChqIC0gMSkpOyAvLyBmaW5kIHRoZSBwb2ludCBvZiBpbnRlcnNlY3Rpb25cblx0ICAgICAgICAgICAgICAgICAgICBpZiAoUG9pbnQucmlnaHQocG9seS5hdChpICsgMSksIHBvbHkuYXQoaSksIHApKSB7IC8vIG1ha2Ugc3VyZSBpdCdzIGluc2lkZSB0aGUgcG9seVxuXHQgICAgICAgICAgICAgICAgICAgICAgICBkID0gUG9pbnQuc3FkaXN0KHBvbHkudmVydGljZXNbaV0sIHApO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZCA8IGxvd2VyRGlzdCkgeyAvLyBrZWVwIG9ubHkgdGhlIGNsb3Nlc3QgaW50ZXJzZWN0aW9uXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb3dlckRpc3QgPSBkO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG93ZXJJbnQgPSBwO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG93ZXJJbmRleCA9IGo7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICBpZiAoUG9pbnQubGVmdChwb2x5LmF0KGkgKyAxKSwgcG9seS5hdChpKSwgcG9seS5hdChqICsgMSkpXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICYmIFBvaW50LnJpZ2h0T24ocG9seS5hdChpICsgMSksIHBvbHkuYXQoaSksIHBvbHkuYXQoaikpKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgcCA9IGdldEludGVyc2VjdGlvblBvaW50KHBvbHkuYXQoaSArIDEpLCBwb2x5LmF0KGkpLCBwb2x5LmF0KGopLCBwb2x5LmF0KGogKyAxKSk7XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKFBvaW50LmxlZnQocG9seS5hdChpIC0gMSksIHBvbHkuYXQoaSksIHApKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGQgPSBQb2ludC5zcWRpc3QocG9seS52ZXJ0aWNlc1tpXSwgcCk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkIDwgdXBwZXJEaXN0KSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cHBlckRpc3QgPSBkO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBwZXJJbnQgPSBwO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBwZXJJbmRleCA9IGo7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgIC8vIGlmIHRoZXJlIGFyZSBubyB2ZXJ0aWNlcyB0byBjb25uZWN0IHRvLCBjaG9vc2UgYSBwb2ludCBpbiB0aGUgbWlkZGxlXG5cdCAgICAgICAgICAgIGlmIChsb3dlckluZGV4ID09ICh1cHBlckluZGV4ICsgMSkgJSB0aGlzLnZlcnRpY2VzLmxlbmd0aCkge1xuXHQgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcIkNhc2UgMTogVmVydGV4KFwiK2krXCIpLCBsb3dlckluZGV4KFwiK2xvd2VySW5kZXgrXCIpLCB1cHBlckluZGV4KFwiK3VwcGVySW5kZXgrXCIpLCBwb2x5LnNpemUoXCIrdGhpcy52ZXJ0aWNlcy5sZW5ndGgrXCIpXCIpO1xuXHQgICAgICAgICAgICAgICAgcFswXSA9IChsb3dlckludFswXSArIHVwcGVySW50WzBdKSAvIDI7XG5cdCAgICAgICAgICAgICAgICBwWzFdID0gKGxvd2VySW50WzFdICsgdXBwZXJJbnRbMV0pIC8gMjtcblx0ICAgICAgICAgICAgICAgIHN0ZWluZXJQb2ludHMucHVzaChwKTtcblx0XG5cdCAgICAgICAgICAgICAgICBpZiAoaSA8IHVwcGVySW5kZXgpIHtcblx0ICAgICAgICAgICAgICAgICAgICAvL2xvd2VyUG9seS5pbnNlcnQobG93ZXJQb2x5LmVuZCgpLCBwb2x5LmJlZ2luKCkgKyBpLCBwb2x5LmJlZ2luKCkgKyB1cHBlckluZGV4ICsgMSk7XG5cdCAgICAgICAgICAgICAgICAgICAgbG93ZXJQb2x5LmFwcGVuZChwb2x5LCBpLCB1cHBlckluZGV4KzEpO1xuXHQgICAgICAgICAgICAgICAgICAgIGxvd2VyUG9seS52ZXJ0aWNlcy5wdXNoKHApO1xuXHQgICAgICAgICAgICAgICAgICAgIHVwcGVyUG9seS52ZXJ0aWNlcy5wdXNoKHApO1xuXHQgICAgICAgICAgICAgICAgICAgIGlmIChsb3dlckluZGV4ICE9IDApe1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAvL3VwcGVyUG9seS5pbnNlcnQodXBwZXJQb2x5LmVuZCgpLCBwb2x5LmJlZ2luKCkgKyBsb3dlckluZGV4LCBwb2x5LmVuZCgpKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdXBwZXJQb2x5LmFwcGVuZChwb2x5LGxvd2VySW5kZXgscG9seS52ZXJ0aWNlcy5sZW5ndGgpO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgICAgICAvL3VwcGVyUG9seS5pbnNlcnQodXBwZXJQb2x5LmVuZCgpLCBwb2x5LmJlZ2luKCksIHBvbHkuYmVnaW4oKSArIGkgKyAxKTtcblx0ICAgICAgICAgICAgICAgICAgICB1cHBlclBvbHkuYXBwZW5kKHBvbHksMCxpKzEpO1xuXHQgICAgICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgICAgICBpZiAoaSAhPSAwKXtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgLy9sb3dlclBvbHkuaW5zZXJ0KGxvd2VyUG9seS5lbmQoKSwgcG9seS5iZWdpbigpICsgaSwgcG9seS5lbmQoKSk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGxvd2VyUG9seS5hcHBlbmQocG9seSxpLHBvbHkudmVydGljZXMubGVuZ3RoKTtcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgLy9sb3dlclBvbHkuaW5zZXJ0KGxvd2VyUG9seS5lbmQoKSwgcG9seS5iZWdpbigpLCBwb2x5LmJlZ2luKCkgKyB1cHBlckluZGV4ICsgMSk7XG5cdCAgICAgICAgICAgICAgICAgICAgbG93ZXJQb2x5LmFwcGVuZChwb2x5LDAsdXBwZXJJbmRleCsxKTtcblx0ICAgICAgICAgICAgICAgICAgICBsb3dlclBvbHkudmVydGljZXMucHVzaChwKTtcblx0ICAgICAgICAgICAgICAgICAgICB1cHBlclBvbHkudmVydGljZXMucHVzaChwKTtcblx0ICAgICAgICAgICAgICAgICAgICAvL3VwcGVyUG9seS5pbnNlcnQodXBwZXJQb2x5LmVuZCgpLCBwb2x5LmJlZ2luKCkgKyBsb3dlckluZGV4LCBwb2x5LmJlZ2luKCkgKyBpICsgMSk7XG5cdCAgICAgICAgICAgICAgICAgICAgdXBwZXJQb2x5LmFwcGVuZChwb2x5LGxvd2VySW5kZXgsaSsxKTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgIC8vIGNvbm5lY3QgdG8gdGhlIGNsb3Nlc3QgcG9pbnQgd2l0aGluIHRoZSB0cmlhbmdsZVxuXHQgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcIkNhc2UgMjogVmVydGV4KFwiK2krXCIpLCBjbG9zZXN0SW5kZXgoXCIrY2xvc2VzdEluZGV4K1wiKSwgcG9seS5zaXplKFwiK3RoaXMudmVydGljZXMubGVuZ3RoK1wiKVxcblwiKTtcblx0XG5cdCAgICAgICAgICAgICAgICBpZiAobG93ZXJJbmRleCA+IHVwcGVySW5kZXgpIHtcblx0ICAgICAgICAgICAgICAgICAgICB1cHBlckluZGV4ICs9IHRoaXMudmVydGljZXMubGVuZ3RoO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgY2xvc2VzdERpc3QgPSBOdW1iZXIuTUFYX1ZBTFVFO1xuXHRcblx0ICAgICAgICAgICAgICAgIGlmKHVwcGVySW5kZXggPCBsb3dlckluZGV4KXtcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuXHQgICAgICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSBsb3dlckluZGV4OyBqIDw9IHVwcGVySW5kZXg7ICsraikge1xuXHQgICAgICAgICAgICAgICAgICAgIGlmIChQb2ludC5sZWZ0T24ocG9seS5hdChpIC0gMSksIHBvbHkuYXQoaSksIHBvbHkuYXQoaikpXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJiBQb2ludC5yaWdodE9uKHBvbHkuYXQoaSArIDEpLCBwb2x5LmF0KGkpLCBwb2x5LmF0KGopKSkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBkID0gUG9pbnQuc3FkaXN0KHBvbHkuYXQoaSksIHBvbHkuYXQoaikpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZCA8IGNsb3Nlc3REaXN0KSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbG9zZXN0RGlzdCA9IGQ7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbG9zZXN0SW5kZXggPSBqICUgdGhpcy52ZXJ0aWNlcy5sZW5ndGg7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICAgICAgaWYgKGkgPCBjbG9zZXN0SW5kZXgpIHtcblx0ICAgICAgICAgICAgICAgICAgICBsb3dlclBvbHkuYXBwZW5kKHBvbHksaSxjbG9zZXN0SW5kZXgrMSk7XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKGNsb3Nlc3RJbmRleCAhPSAwKXtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdXBwZXJQb2x5LmFwcGVuZChwb2x5LGNsb3Nlc3RJbmRleCx2Lmxlbmd0aCk7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgICAgIHVwcGVyUG9seS5hcHBlbmQocG9seSwwLGkrMSk7XG5cdCAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgICAgIGlmIChpICE9IDApe1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBsb3dlclBvbHkuYXBwZW5kKHBvbHksaSx2Lmxlbmd0aCk7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgICAgIGxvd2VyUG9seS5hcHBlbmQocG9seSwwLGNsb3Nlc3RJbmRleCsxKTtcblx0ICAgICAgICAgICAgICAgICAgICB1cHBlclBvbHkuYXBwZW5kKHBvbHksY2xvc2VzdEluZGV4LGkrMSk7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgIC8vIHNvbHZlIHNtYWxsZXN0IHBvbHkgZmlyc3Rcblx0ICAgICAgICAgICAgaWYgKGxvd2VyUG9seS52ZXJ0aWNlcy5sZW5ndGggPCB1cHBlclBvbHkudmVydGljZXMubGVuZ3RoKSB7XG5cdCAgICAgICAgICAgICAgICBsb3dlclBvbHkucXVpY2tEZWNvbXAocmVzdWx0LHJlZmxleFZlcnRpY2VzLHN0ZWluZXJQb2ludHMsZGVsdGEsbWF4bGV2ZWwsbGV2ZWwpO1xuXHQgICAgICAgICAgICAgICAgdXBwZXJQb2x5LnF1aWNrRGVjb21wKHJlc3VsdCxyZWZsZXhWZXJ0aWNlcyxzdGVpbmVyUG9pbnRzLGRlbHRhLG1heGxldmVsLGxldmVsKTtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgIHVwcGVyUG9seS5xdWlja0RlY29tcChyZXN1bHQscmVmbGV4VmVydGljZXMsc3RlaW5lclBvaW50cyxkZWx0YSxtYXhsZXZlbCxsZXZlbCk7XG5cdCAgICAgICAgICAgICAgICBsb3dlclBvbHkucXVpY2tEZWNvbXAocmVzdWx0LHJlZmxleFZlcnRpY2VzLHN0ZWluZXJQb2ludHMsZGVsdGEsbWF4bGV2ZWwsbGV2ZWwpO1xuXHQgICAgICAgICAgICB9XG5cdFxuXHQgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0ICAgIHJlc3VsdC5wdXNoKHRoaXMpO1xuXHRcblx0ICAgIHJldHVybiByZXN1bHQ7XG5cdH07XG5cdFxuXHQvKipcblx0ICogUmVtb3ZlIGNvbGxpbmVhciBwb2ludHMgaW4gdGhlIHBvbHlnb24uXG5cdCAqIEBtZXRob2QgcmVtb3ZlQ29sbGluZWFyUG9pbnRzXG5cdCAqIEBwYXJhbSAge051bWJlcn0gW3ByZWNpc2lvbl0gVGhlIHRocmVzaG9sZCBhbmdsZSB0byB1c2Ugd2hlbiBkZXRlcm1pbmluZyB3aGV0aGVyIHR3byBlZGdlcyBhcmUgY29sbGluZWFyLiBVc2UgemVybyBmb3IgZmluZXN0IHByZWNpc2lvbi5cblx0ICogQHJldHVybiB7TnVtYmVyfSAgICAgICAgICAgVGhlIG51bWJlciBvZiBwb2ludHMgcmVtb3ZlZFxuXHQgKi9cblx0UG9seWdvbi5wcm90b3R5cGUucmVtb3ZlQ29sbGluZWFyUG9pbnRzID0gZnVuY3Rpb24ocHJlY2lzaW9uKXtcblx0ICAgIHZhciBudW0gPSAwO1xuXHQgICAgZm9yKHZhciBpPXRoaXMudmVydGljZXMubGVuZ3RoLTE7IHRoaXMudmVydGljZXMubGVuZ3RoPjMgJiYgaT49MDsgLS1pKXtcblx0ICAgICAgICBpZihQb2ludC5jb2xsaW5lYXIodGhpcy5hdChpLTEpLHRoaXMuYXQoaSksdGhpcy5hdChpKzEpLHByZWNpc2lvbikpe1xuXHQgICAgICAgICAgICAvLyBSZW1vdmUgdGhlIG1pZGRsZSBwb2ludFxuXHQgICAgICAgICAgICB0aGlzLnZlcnRpY2VzLnNwbGljZShpJXRoaXMudmVydGljZXMubGVuZ3RoLDEpO1xuXHQgICAgICAgICAgICBpLS07IC8vIEp1bXAgb25lIHBvaW50IGZvcndhcmQuIE90aGVyd2lzZSB3ZSBtYXkgZ2V0IGEgY2hhaW4gcmVtb3ZhbFxuXHQgICAgICAgICAgICBudW0rKztcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICByZXR1cm4gbnVtO1xuXHR9O1xuXG5cbi8qKiovIH0sXG4vKiAxMDUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBDaXJjbGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIxKSxcblx0ICAgIFBsYW5lID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMCksXG5cdCAgICBTaGFwZSA9IF9fd2VicGFja19yZXF1aXJlX18oNCksXG5cdCAgICBQYXJ0aWNsZSA9IF9fd2VicGFja19yZXF1aXJlX18oMjkpLFxuXHQgICAgQnJvYWRwaGFzZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTcpLFxuXHQgICAgdmVjMiA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IE5haXZlQnJvYWRwaGFzZTtcblx0XG5cdC8qKlxuXHQgKiBOYWl2ZSBicm9hZHBoYXNlIGltcGxlbWVudGF0aW9uLiBEb2VzIE5eMiB0ZXN0cy5cblx0ICpcblx0ICogQGNsYXNzIE5haXZlQnJvYWRwaGFzZVxuXHQgKiBAY29uc3RydWN0b3Jcblx0ICogQGV4dGVuZHMgQnJvYWRwaGFzZVxuXHQgKi9cblx0ZnVuY3Rpb24gTmFpdmVCcm9hZHBoYXNlKCl7XG5cdCAgICBCcm9hZHBoYXNlLmNhbGwodGhpcywgQnJvYWRwaGFzZS5OQUlWRSk7XG5cdH1cblx0TmFpdmVCcm9hZHBoYXNlLnByb3RvdHlwZSA9IG5ldyBCcm9hZHBoYXNlKCk7XG5cdE5haXZlQnJvYWRwaGFzZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBOYWl2ZUJyb2FkcGhhc2U7XG5cdFxuXHQvKipcblx0ICogR2V0IHRoZSBjb2xsaWRpbmcgcGFpcnNcblx0ICogQG1ldGhvZCBnZXRDb2xsaXNpb25QYWlyc1xuXHQgKiBAcGFyYW0gIHtXb3JsZH0gd29ybGRcblx0ICogQHJldHVybiB7QXJyYXl9XG5cdCAqL1xuXHROYWl2ZUJyb2FkcGhhc2UucHJvdG90eXBlLmdldENvbGxpc2lvblBhaXJzID0gZnVuY3Rpb24od29ybGQpe1xuXHQgICAgdmFyIGJvZGllcyA9IHdvcmxkLmJvZGllcyxcblx0ICAgICAgICByZXN1bHQgPSB0aGlzLnJlc3VsdDtcblx0XG5cdCAgICByZXN1bHQubGVuZ3RoID0gMDtcblx0XG5cdCAgICBmb3IodmFyIGk9MCwgTmNvbGxpZGluZz1ib2RpZXMubGVuZ3RoOyBpIT09TmNvbGxpZGluZzsgaSsrKXtcblx0ICAgICAgICB2YXIgYmkgPSBib2RpZXNbaV07XG5cdFxuXHQgICAgICAgIGZvcih2YXIgaj0wOyBqPGk7IGorKyl7XG5cdCAgICAgICAgICAgIHZhciBiaiA9IGJvZGllc1tqXTtcblx0XG5cdCAgICAgICAgICAgIGlmKEJyb2FkcGhhc2UuY2FuQ29sbGlkZShiaSxiaikgJiYgdGhpcy5ib3VuZGluZ1ZvbHVtZUNoZWNrKGJpLGJqKSl7XG5cdCAgICAgICAgICAgICAgICByZXN1bHQucHVzaChiaSxiaik7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIHJlc3VsdDtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBSZXR1cm5zIGFsbCB0aGUgYm9kaWVzIHdpdGhpbiBhbiBBQUJCLlxuXHQgKiBAbWV0aG9kIGFhYmJRdWVyeVxuXHQgKiBAcGFyYW0gIHtXb3JsZH0gd29ybGRcblx0ICogQHBhcmFtICB7QUFCQn0gYWFiYlxuXHQgKiBAcGFyYW0ge2FycmF5fSByZXN1bHQgQW4gYXJyYXkgdG8gc3RvcmUgcmVzdWx0aW5nIGJvZGllcyBpbi5cblx0ICogQHJldHVybiB7YXJyYXl9XG5cdCAqL1xuXHROYWl2ZUJyb2FkcGhhc2UucHJvdG90eXBlLmFhYmJRdWVyeSA9IGZ1bmN0aW9uKHdvcmxkLCBhYWJiLCByZXN1bHQpe1xuXHQgICAgcmVzdWx0ID0gcmVzdWx0IHx8IFtdO1xuXHRcblx0ICAgIHZhciBib2RpZXMgPSB3b3JsZC5ib2RpZXM7XG5cdCAgICBmb3IodmFyIGkgPSAwOyBpIDwgYm9kaWVzLmxlbmd0aDsgaSsrKXtcblx0ICAgICAgICB2YXIgYiA9IGJvZGllc1tpXTtcblx0XG5cdCAgICAgICAgaWYoYi5hYWJiTmVlZHNVcGRhdGUpe1xuXHQgICAgICAgICAgICBiLnVwZGF0ZUFBQkIoKTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIGlmKGIuYWFiYi5vdmVybGFwcyhhYWJiKSl7XG5cdCAgICAgICAgICAgIHJlc3VsdC5wdXNoKGIpO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gcmVzdWx0O1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMTA2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRcblx0ICAgIC8qXG5cdCAgICAgICAgUG9seUsgbGlicmFyeVxuXHQgICAgICAgIHVybDogaHR0cDovL3BvbHlrLml2YW5rLm5ldFxuXHQgICAgICAgIFJlbGVhc2VkIHVuZGVyIE1JVCBsaWNlbmNlLlxuXHRcblx0ICAgICAgICBDb3B5cmlnaHQgKGMpIDIwMTIgSXZhbiBLdWNraXJcblx0XG5cdCAgICAgICAgUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb25cblx0ICAgICAgICBvYnRhaW5pbmcgYSBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvblxuXHQgICAgICAgIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dFxuXHQgICAgICAgIHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLFxuXHQgICAgICAgIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXG5cdCAgICAgICAgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlXG5cdCAgICAgICAgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmdcblx0ICAgICAgICBjb25kaXRpb25zOlxuXHRcblx0ICAgICAgICBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZVxuXHQgICAgICAgIGluY2x1ZGVkIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuXHRcblx0ICAgICAgICBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELFxuXHQgICAgICAgIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFU1xuXHQgICAgICAgIE9GIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EXG5cdCAgICAgICAgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFRcblx0ICAgICAgICBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSxcblx0ICAgICAgICBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkdcblx0ICAgICAgICBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SXG5cdCAgICAgICAgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXHQgICAgKi9cblx0XG5cdCAgICB2YXIgUG9seUsgPSB7fTtcblx0XG5cdCAgICAvKlxuXHQgICAgICAgIElzIFBvbHlnb24gc2VsZi1pbnRlcnNlY3Rpbmc/XG5cdFxuXHQgICAgICAgIE8obl4yKVxuXHQgICAgKi9cblx0ICAgIC8qXG5cdCAgICBQb2x5Sy5Jc1NpbXBsZSA9IGZ1bmN0aW9uKHApXG5cdCAgICB7XG5cdCAgICAgICAgdmFyIG4gPSBwLmxlbmd0aD4+MTtcblx0ICAgICAgICBpZihuPDQpIHJldHVybiB0cnVlO1xuXHQgICAgICAgIHZhciBhMSA9IG5ldyBQb2x5Sy5fUCgpLCBhMiA9IG5ldyBQb2x5Sy5fUCgpO1xuXHQgICAgICAgIHZhciBiMSA9IG5ldyBQb2x5Sy5fUCgpLCBiMiA9IG5ldyBQb2x5Sy5fUCgpO1xuXHQgICAgICAgIHZhciBjID0gbmV3IFBvbHlLLl9QKCk7XG5cdFxuXHQgICAgICAgIGZvcih2YXIgaT0wOyBpPG47IGkrKylcblx0ICAgICAgICB7XG5cdCAgICAgICAgICAgIGExLnggPSBwWzIqaSAgXTtcblx0ICAgICAgICAgICAgYTEueSA9IHBbMippKzFdO1xuXHQgICAgICAgICAgICBpZihpPT1uLTEpICB7IGEyLnggPSBwWzAgICAgXTsgIGEyLnkgPSBwWzEgICAgXTsgfVxuXHQgICAgICAgICAgICBlbHNlICAgICAgICB7IGEyLnggPSBwWzIqaSsyXTsgIGEyLnkgPSBwWzIqaSszXTsgfVxuXHRcblx0ICAgICAgICAgICAgZm9yKHZhciBqPTA7IGo8bjsgaisrKVxuXHQgICAgICAgICAgICB7XG5cdCAgICAgICAgICAgICAgICBpZihNYXRoLmFicyhpLWopIDwgMikgY29udGludWU7XG5cdCAgICAgICAgICAgICAgICBpZihqPT1uLTEgJiYgaT09MCkgY29udGludWU7XG5cdCAgICAgICAgICAgICAgICBpZihpPT1uLTEgJiYgaj09MCkgY29udGludWU7XG5cdFxuXHQgICAgICAgICAgICAgICAgYjEueCA9IHBbMipqICBdO1xuXHQgICAgICAgICAgICAgICAgYjEueSA9IHBbMipqKzFdO1xuXHQgICAgICAgICAgICAgICAgaWYoaj09bi0xKSAgeyBiMi54ID0gcFswICAgIF07ICBiMi55ID0gcFsxICAgIF07IH1cblx0ICAgICAgICAgICAgICAgIGVsc2UgICAgICAgIHsgYjIueCA9IHBbMipqKzJdOyAgYjIueSA9IHBbMipqKzNdOyB9XG5cdFxuXHQgICAgICAgICAgICAgICAgaWYoUG9seUsuX0dldExpbmVJbnRlcnNlY3Rpb24oYTEsYTIsYjEsYjIsYykgIT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgfVxuXHRcblx0ICAgIFBvbHlLLklzQ29udmV4ID0gZnVuY3Rpb24ocClcblx0ICAgIHtcblx0ICAgICAgICBpZihwLmxlbmd0aDw2KSByZXR1cm4gdHJ1ZTtcblx0ICAgICAgICB2YXIgbCA9IHAubGVuZ3RoIC0gNDtcblx0ICAgICAgICBmb3IodmFyIGk9MDsgaTxsOyBpKz0yKVxuXHQgICAgICAgICAgICBpZighUG9seUsuX2NvbnZleChwW2ldLCBwW2krMV0sIHBbaSsyXSwgcFtpKzNdLCBwW2krNF0sIHBbaSs1XSkpIHJldHVybiBmYWxzZTtcblx0ICAgICAgICBpZighUG9seUsuX2NvbnZleChwW2wgIF0sIHBbbCsxXSwgcFtsKzJdLCBwW2wrM10sIHBbMF0sIHBbMV0pKSByZXR1cm4gZmFsc2U7XG5cdCAgICAgICAgaWYoIVBvbHlLLl9jb252ZXgocFtsKzJdLCBwW2wrM10sIHBbMCAgXSwgcFsxICBdLCBwWzJdLCBwWzNdKSkgcmV0dXJuIGZhbHNlO1xuXHQgICAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgfVxuXHQgICAgKi9cblx0ICAgIFBvbHlLLkdldEFyZWEgPSBmdW5jdGlvbihwKVxuXHQgICAge1xuXHQgICAgICAgIGlmKHAubGVuZ3RoIDw2KSByZXR1cm4gMDtcblx0ICAgICAgICB2YXIgbCA9IHAubGVuZ3RoIC0gMjtcblx0ICAgICAgICB2YXIgc3VtID0gMDtcblx0ICAgICAgICBmb3IodmFyIGk9MDsgaTxsOyBpKz0yKVxuXHQgICAgICAgICAgICBzdW0gKz0gKHBbaSsyXS1wW2ldKSAqIChwW2krMV0rcFtpKzNdKTtcblx0ICAgICAgICBzdW0gKz0gKHBbMF0tcFtsXSkgKiAocFtsKzFdK3BbMV0pO1xuXHQgICAgICAgIHJldHVybiAtIHN1bSAqIDAuNTtcblx0ICAgIH1cblx0ICAgIC8qXG5cdCAgICBQb2x5Sy5HZXRBQUJCID0gZnVuY3Rpb24ocClcblx0ICAgIHtcblx0ICAgICAgICB2YXIgbWlueCA9IEluZmluaXR5O1xuXHQgICAgICAgIHZhciBtaW55ID0gSW5maW5pdHk7XG5cdCAgICAgICAgdmFyIG1heHggPSAtbWlueDtcblx0ICAgICAgICB2YXIgbWF4eSA9IC1taW55O1xuXHQgICAgICAgIGZvcih2YXIgaT0wOyBpPHAubGVuZ3RoOyBpKz0yKVxuXHQgICAgICAgIHtcblx0ICAgICAgICAgICAgbWlueCA9IE1hdGgubWluKG1pbngsIHBbaSAgXSk7XG5cdCAgICAgICAgICAgIG1heHggPSBNYXRoLm1heChtYXh4LCBwW2kgIF0pO1xuXHQgICAgICAgICAgICBtaW55ID0gTWF0aC5taW4obWlueSwgcFtpKzFdKTtcblx0ICAgICAgICAgICAgbWF4eSA9IE1hdGgubWF4KG1heHksIHBbaSsxXSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiB7eDptaW54LCB5Om1pbnksIHdpZHRoOm1heHgtbWlueCwgaGVpZ2h0Om1heHktbWlueX07XG5cdCAgICB9XG5cdCAgICAqL1xuXHRcblx0ICAgIFBvbHlLLlRyaWFuZ3VsYXRlID0gZnVuY3Rpb24ocClcblx0ICAgIHtcblx0ICAgICAgICB2YXIgbiA9IHAubGVuZ3RoPj4xO1xuXHQgICAgICAgIGlmKG48MykgcmV0dXJuIFtdO1xuXHQgICAgICAgIHZhciB0Z3MgPSBbXTtcblx0ICAgICAgICB2YXIgYXZsID0gW107XG5cdCAgICAgICAgZm9yKHZhciBpPTA7IGk8bjsgaSsrKSBhdmwucHVzaChpKTtcblx0XG5cdCAgICAgICAgdmFyIGkgPSAwO1xuXHQgICAgICAgIHZhciBhbCA9IG47XG5cdCAgICAgICAgd2hpbGUoYWwgPiAzKVxuXHQgICAgICAgIHtcblx0ICAgICAgICAgICAgdmFyIGkwID0gYXZsWyhpKzApJWFsXTtcblx0ICAgICAgICAgICAgdmFyIGkxID0gYXZsWyhpKzEpJWFsXTtcblx0ICAgICAgICAgICAgdmFyIGkyID0gYXZsWyhpKzIpJWFsXTtcblx0XG5cdCAgICAgICAgICAgIHZhciBheCA9IHBbMippMF0sICBheSA9IHBbMippMCsxXTtcblx0ICAgICAgICAgICAgdmFyIGJ4ID0gcFsyKmkxXSwgIGJ5ID0gcFsyKmkxKzFdO1xuXHQgICAgICAgICAgICB2YXIgY3ggPSBwWzIqaTJdLCAgY3kgPSBwWzIqaTIrMV07XG5cdFxuXHQgICAgICAgICAgICB2YXIgZWFyRm91bmQgPSBmYWxzZTtcblx0ICAgICAgICAgICAgaWYoUG9seUsuX2NvbnZleChheCwgYXksIGJ4LCBieSwgY3gsIGN5KSlcblx0ICAgICAgICAgICAge1xuXHQgICAgICAgICAgICAgICAgZWFyRm91bmQgPSB0cnVlO1xuXHQgICAgICAgICAgICAgICAgZm9yKHZhciBqPTA7IGo8YWw7IGorKylcblx0ICAgICAgICAgICAgICAgIHtcblx0ICAgICAgICAgICAgICAgICAgICB2YXIgdmkgPSBhdmxbal07XG5cdCAgICAgICAgICAgICAgICAgICAgaWYodmk9PWkwIHx8IHZpPT1pMSB8fCB2aT09aTIpIGNvbnRpbnVlO1xuXHQgICAgICAgICAgICAgICAgICAgIGlmKFBvbHlLLl9Qb2ludEluVHJpYW5nbGUocFsyKnZpXSwgcFsyKnZpKzFdLCBheCwgYXksIGJ4LCBieSwgY3gsIGN5KSkge2VhckZvdW5kID0gZmFsc2U7IGJyZWFrO31cblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBpZihlYXJGb3VuZClcblx0ICAgICAgICAgICAge1xuXHQgICAgICAgICAgICAgICAgdGdzLnB1c2goaTAsIGkxLCBpMik7XG5cdCAgICAgICAgICAgICAgICBhdmwuc3BsaWNlKChpKzEpJWFsLCAxKTtcblx0ICAgICAgICAgICAgICAgIGFsLS07XG5cdCAgICAgICAgICAgICAgICBpPSAwO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGVsc2UgaWYoaSsrID4gMyphbCkgYnJlYWs7ICAgICAgLy8gbm8gY29udmV4IGFuZ2xlcyA6KFxuXHQgICAgICAgIH1cblx0ICAgICAgICB0Z3MucHVzaChhdmxbMF0sIGF2bFsxXSwgYXZsWzJdKTtcblx0ICAgICAgICByZXR1cm4gdGdzO1xuXHQgICAgfVxuXHQgICAgLypcblx0ICAgIFBvbHlLLkNvbnRhaW5zUG9pbnQgPSBmdW5jdGlvbihwLCBweCwgcHkpXG5cdCAgICB7XG5cdCAgICAgICAgdmFyIG4gPSBwLmxlbmd0aD4+MTtcblx0ICAgICAgICB2YXIgYXgsIGF5LCBieCA9IHBbMipuLTJdLXB4LCBieSA9IHBbMipuLTFdLXB5O1xuXHQgICAgICAgIHZhciBkZXB0aCA9IDA7XG5cdCAgICAgICAgZm9yKHZhciBpPTA7IGk8bjsgaSsrKVxuXHQgICAgICAgIHtcblx0ICAgICAgICAgICAgYXggPSBieDsgIGF5ID0gYnk7XG5cdCAgICAgICAgICAgIGJ4ID0gcFsyKmkgIF0gLSBweDtcblx0ICAgICAgICAgICAgYnkgPSBwWzIqaSsxXSAtIHB5O1xuXHQgICAgICAgICAgICBpZihheTwgMCAmJiBieTwgMCkgY29udGludWU7ICAgIC8vIGJvdGggXCJ1cFwiIG9yIGJvdGggXCJkb253XCJcblx0ICAgICAgICAgICAgaWYoYXk+PTAgJiYgYnk+PTApIGNvbnRpbnVlOyAgICAvLyBib3RoIFwidXBcIiBvciBib3RoIFwiZG9ud1wiXG5cdCAgICAgICAgICAgIGlmKGF4PCAwICYmIGJ4PCAwKSBjb250aW51ZTtcblx0XG5cdCAgICAgICAgICAgIHZhciBseCA9IGF4ICsgKGJ4LWF4KSooLWF5KS8oYnktYXkpO1xuXHQgICAgICAgICAgICBpZihseD4wKSBkZXB0aCsrO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gKGRlcHRoICYgMSkgPT0gMTtcblx0ICAgIH1cblx0XG5cdCAgICBQb2x5Sy5TbGljZSA9IGZ1bmN0aW9uKHAsIGF4LCBheSwgYngsIGJ5KVxuXHQgICAge1xuXHQgICAgICAgIGlmKFBvbHlLLkNvbnRhaW5zUG9pbnQocCwgYXgsIGF5KSB8fCBQb2x5Sy5Db250YWluc1BvaW50KHAsIGJ4LCBieSkpIHJldHVybiBbcC5zbGljZSgwKV07XG5cdFxuXHQgICAgICAgIHZhciBhID0gbmV3IFBvbHlLLl9QKGF4LCBheSk7XG5cdCAgICAgICAgdmFyIGIgPSBuZXcgUG9seUsuX1AoYngsIGJ5KTtcblx0ICAgICAgICB2YXIgaXNjcyA9IFtdOyAgLy8gaW50ZXJzZWN0aW9uc1xuXHQgICAgICAgIHZhciBwcyA9IFtdOyAgICAvLyBwb2ludHNcblx0ICAgICAgICBmb3IodmFyIGk9MDsgaTxwLmxlbmd0aDsgaSs9MikgcHMucHVzaChuZXcgUG9seUsuX1AocFtpXSwgcFtpKzFdKSk7XG5cdFxuXHQgICAgICAgIGZvcih2YXIgaT0wOyBpPHBzLmxlbmd0aDsgaSsrKVxuXHQgICAgICAgIHtcblx0ICAgICAgICAgICAgdmFyIGlzYyA9IG5ldyBQb2x5Sy5fUCgwLDApO1xuXHQgICAgICAgICAgICBpc2MgPSBQb2x5Sy5fR2V0TGluZUludGVyc2VjdGlvbihhLCBiLCBwc1tpXSwgcHNbKGkrMSklcHMubGVuZ3RoXSwgaXNjKTtcblx0XG5cdCAgICAgICAgICAgIGlmKGlzYylcblx0ICAgICAgICAgICAge1xuXHQgICAgICAgICAgICAgICAgaXNjLmZsYWcgPSB0cnVlO1xuXHQgICAgICAgICAgICAgICAgaXNjcy5wdXNoKGlzYyk7XG5cdCAgICAgICAgICAgICAgICBwcy5zcGxpY2UoaSsxLDAsaXNjKTtcblx0ICAgICAgICAgICAgICAgIGkrKztcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgICAgICBpZihpc2NzLmxlbmd0aCA9PSAwKSByZXR1cm4gW3Auc2xpY2UoMCldO1xuXHQgICAgICAgIHZhciBjb21wID0gZnVuY3Rpb24odSx2KSB7cmV0dXJuIFBvbHlLLl9QLmRpc3QoYSx1KSAtIFBvbHlLLl9QLmRpc3QoYSx2KTsgfVxuXHQgICAgICAgIGlzY3Muc29ydChjb21wKTtcblx0XG5cdCAgICAgICAgdmFyIHBncyA9IFtdO1xuXHQgICAgICAgIHZhciBkaXIgPSAwO1xuXHQgICAgICAgIHdoaWxlKGlzY3MubGVuZ3RoID4gMClcblx0ICAgICAgICB7XG5cdCAgICAgICAgICAgIHZhciBuID0gcHMubGVuZ3RoO1xuXHQgICAgICAgICAgICB2YXIgaTAgPSBpc2NzWzBdO1xuXHQgICAgICAgICAgICB2YXIgaTEgPSBpc2NzWzFdO1xuXHQgICAgICAgICAgICB2YXIgaW5kMCA9IHBzLmluZGV4T2YoaTApO1xuXHQgICAgICAgICAgICB2YXIgaW5kMSA9IHBzLmluZGV4T2YoaTEpO1xuXHQgICAgICAgICAgICB2YXIgc29sdmVkID0gZmFsc2U7XG5cdFxuXHQgICAgICAgICAgICBpZihQb2x5Sy5fZmlyc3RXaXRoRmxhZyhwcywgaW5kMCkgPT0gaW5kMSkgc29sdmVkID0gdHJ1ZTtcblx0ICAgICAgICAgICAgZWxzZVxuXHQgICAgICAgICAgICB7XG5cdCAgICAgICAgICAgICAgICBpMCA9IGlzY3NbMV07XG5cdCAgICAgICAgICAgICAgICBpMSA9IGlzY3NbMF07XG5cdCAgICAgICAgICAgICAgICBpbmQwID0gcHMuaW5kZXhPZihpMCk7XG5cdCAgICAgICAgICAgICAgICBpbmQxID0gcHMuaW5kZXhPZihpMSk7XG5cdCAgICAgICAgICAgICAgICBpZihQb2x5Sy5fZmlyc3RXaXRoRmxhZyhwcywgaW5kMCkgPT0gaW5kMSkgc29sdmVkID0gdHJ1ZTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBpZihzb2x2ZWQpXG5cdCAgICAgICAgICAgIHtcblx0ICAgICAgICAgICAgICAgIGRpci0tO1xuXHQgICAgICAgICAgICAgICAgdmFyIHBnbiA9IFBvbHlLLl9nZXRQb2ludHMocHMsIGluZDAsIGluZDEpO1xuXHQgICAgICAgICAgICAgICAgcGdzLnB1c2gocGduKTtcblx0ICAgICAgICAgICAgICAgIHBzID0gUG9seUsuX2dldFBvaW50cyhwcywgaW5kMSwgaW5kMCk7XG5cdCAgICAgICAgICAgICAgICBpMC5mbGFnID0gaTEuZmxhZyA9IGZhbHNlO1xuXHQgICAgICAgICAgICAgICAgaXNjcy5zcGxpY2UoMCwyKTtcblx0ICAgICAgICAgICAgICAgIGlmKGlzY3MubGVuZ3RoID09IDApIHBncy5wdXNoKHBzKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBlbHNlIHsgZGlyKys7IGlzY3MucmV2ZXJzZSgpOyB9XG5cdCAgICAgICAgICAgIGlmKGRpcj4xKSBicmVhaztcblx0ICAgICAgICB9XG5cdCAgICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuXHQgICAgICAgIGZvcih2YXIgaT0wOyBpPHBncy5sZW5ndGg7IGkrKylcblx0ICAgICAgICB7XG5cdCAgICAgICAgICAgIHZhciBwZyA9IHBnc1tpXTtcblx0ICAgICAgICAgICAgdmFyIG5wZyA9IFtdO1xuXHQgICAgICAgICAgICBmb3IodmFyIGo9MDsgajxwZy5sZW5ndGg7IGorKykgbnBnLnB1c2gocGdbal0ueCwgcGdbal0ueSk7XG5cdCAgICAgICAgICAgIHJlc3VsdC5wdXNoKG5wZyk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiByZXN1bHQ7XG5cdCAgICB9XG5cdFxuXHQgICAgUG9seUsuUmF5Y2FzdCA9IGZ1bmN0aW9uKHAsIHgsIHksIGR4LCBkeSwgaXNjKVxuXHQgICAge1xuXHQgICAgICAgIHZhciBsID0gcC5sZW5ndGggLSAyO1xuXHQgICAgICAgIHZhciB0cCA9IFBvbHlLLl90cDtcblx0ICAgICAgICB2YXIgYTEgPSB0cFswXSwgYTIgPSB0cFsxXSxcblx0ICAgICAgICBiMSA9IHRwWzJdLCBiMiA9IHRwWzNdLCBjID0gdHBbNF07XG5cdCAgICAgICAgYTEueCA9IHg7IGExLnkgPSB5O1xuXHQgICAgICAgIGEyLnggPSB4K2R4OyBhMi55ID0geStkeTtcblx0XG5cdCAgICAgICAgaWYoaXNjPT1udWxsKSBpc2MgPSB7ZGlzdDowLCBlZGdlOjAsIG5vcm06e3g6MCwgeTowfSwgcmVmbDp7eDowLCB5OjB9fTtcblx0ICAgICAgICBpc2MuZGlzdCA9IEluZmluaXR5O1xuXHRcblx0ICAgICAgICBmb3IodmFyIGk9MDsgaTxsOyBpKz0yKVxuXHQgICAgICAgIHtcblx0ICAgICAgICAgICAgYjEueCA9IHBbaSAgXTsgIGIxLnkgPSBwW2krMV07XG5cdCAgICAgICAgICAgIGIyLnggPSBwW2krMl07ICBiMi55ID0gcFtpKzNdO1xuXHQgICAgICAgICAgICB2YXIgbmlzYyA9IFBvbHlLLl9SYXlMaW5lSW50ZXJzZWN0aW9uKGExLCBhMiwgYjEsIGIyLCBjKTtcblx0ICAgICAgICAgICAgaWYobmlzYykgUG9seUsuX3VwZGF0ZUlTQyhkeCwgZHksIGExLCBiMSwgYjIsIGMsIGkvMiwgaXNjKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgYjEueCA9IGIyLng7ICBiMS55ID0gYjIueTtcblx0ICAgICAgICBiMi54ID0gcFswXTsgIGIyLnkgPSBwWzFdO1xuXHQgICAgICAgIHZhciBuaXNjID0gUG9seUsuX1JheUxpbmVJbnRlcnNlY3Rpb24oYTEsIGEyLCBiMSwgYjIsIGMpO1xuXHQgICAgICAgIGlmKG5pc2MpIFBvbHlLLl91cGRhdGVJU0MoZHgsIGR5LCBhMSwgYjEsIGIyLCBjLCBwLmxlbmd0aC8yLCBpc2MpO1xuXHRcblx0ICAgICAgICByZXR1cm4gKGlzYy5kaXN0ICE9IEluZmluaXR5KSA/IGlzYyA6IG51bGw7XG5cdCAgICB9XG5cdFxuXHQgICAgUG9seUsuQ2xvc2VzdEVkZ2UgPSBmdW5jdGlvbihwLCB4LCB5LCBpc2MpXG5cdCAgICB7XG5cdCAgICAgICAgdmFyIGwgPSBwLmxlbmd0aCAtIDI7XG5cdCAgICAgICAgdmFyIHRwID0gUG9seUsuX3RwO1xuXHQgICAgICAgIHZhciBhMSA9IHRwWzBdLFxuXHQgICAgICAgIGIxID0gdHBbMl0sIGIyID0gdHBbM10sIGMgPSB0cFs0XTtcblx0ICAgICAgICBhMS54ID0geDsgYTEueSA9IHk7XG5cdFxuXHQgICAgICAgIGlmKGlzYz09bnVsbCkgaXNjID0ge2Rpc3Q6MCwgZWRnZTowLCBwb2ludDp7eDowLCB5OjB9LCBub3JtOnt4OjAsIHk6MH19O1xuXHQgICAgICAgIGlzYy5kaXN0ID0gSW5maW5pdHk7XG5cdFxuXHQgICAgICAgIGZvcih2YXIgaT0wOyBpPGw7IGkrPTIpXG5cdCAgICAgICAge1xuXHQgICAgICAgICAgICBiMS54ID0gcFtpICBdOyAgYjEueSA9IHBbaSsxXTtcblx0ICAgICAgICAgICAgYjIueCA9IHBbaSsyXTsgIGIyLnkgPSBwW2krM107XG5cdCAgICAgICAgICAgIFBvbHlLLl9wb2ludExpbmVEaXN0KGExLCBiMSwgYjIsIGk+PjEsIGlzYyk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGIxLnggPSBiMi54OyAgYjEueSA9IGIyLnk7XG5cdCAgICAgICAgYjIueCA9IHBbMF07ICBiMi55ID0gcFsxXTtcblx0ICAgICAgICBQb2x5Sy5fcG9pbnRMaW5lRGlzdChhMSwgYjEsIGIyLCBsPj4xLCBpc2MpO1xuXHRcblx0ICAgICAgICB2YXIgaWRzdCA9IDEvaXNjLmRpc3Q7XG5cdCAgICAgICAgaXNjLm5vcm0ueCA9ICh4LWlzYy5wb2ludC54KSppZHN0O1xuXHQgICAgICAgIGlzYy5ub3JtLnkgPSAoeS1pc2MucG9pbnQueSkqaWRzdDtcblx0ICAgICAgICByZXR1cm4gaXNjO1xuXHQgICAgfVxuXHRcblx0ICAgIFBvbHlLLl9wb2ludExpbmVEaXN0ID0gZnVuY3Rpb24ocCwgYSwgYiwgZWRnZSwgaXNjKVxuXHQgICAge1xuXHQgICAgICAgIHZhciB4ID0gcC54LCB5ID0gcC55LCB4MSA9IGEueCwgeTEgPSBhLnksIHgyID0gYi54LCB5MiA9IGIueTtcblx0XG5cdCAgICAgICAgdmFyIEEgPSB4IC0geDE7XG5cdCAgICAgICAgdmFyIEIgPSB5IC0geTE7XG5cdCAgICAgICAgdmFyIEMgPSB4MiAtIHgxO1xuXHQgICAgICAgIHZhciBEID0geTIgLSB5MTtcblx0XG5cdCAgICAgICAgdmFyIGRvdCA9IEEgKiBDICsgQiAqIEQ7XG5cdCAgICAgICAgdmFyIGxlbl9zcSA9IEMgKiBDICsgRCAqIEQ7XG5cdCAgICAgICAgdmFyIHBhcmFtID0gZG90IC8gbGVuX3NxO1xuXHRcblx0ICAgICAgICB2YXIgeHgsIHl5O1xuXHRcblx0ICAgICAgICBpZiAocGFyYW0gPCAwIHx8ICh4MSA9PSB4MiAmJiB5MSA9PSB5MikpIHtcblx0ICAgICAgICAgICAgeHggPSB4MTtcblx0ICAgICAgICAgICAgeXkgPSB5MTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgZWxzZSBpZiAocGFyYW0gPiAxKSB7XG5cdCAgICAgICAgICAgIHh4ID0geDI7XG5cdCAgICAgICAgICAgIHl5ID0geTI7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGVsc2Uge1xuXHQgICAgICAgICAgICB4eCA9IHgxICsgcGFyYW0gKiBDO1xuXHQgICAgICAgICAgICB5eSA9IHkxICsgcGFyYW0gKiBEO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgdmFyIGR4ID0geCAtIHh4O1xuXHQgICAgICAgIHZhciBkeSA9IHkgLSB5eTtcblx0ICAgICAgICB2YXIgZHN0ID0gTWF0aC5zcXJ0KGR4ICogZHggKyBkeSAqIGR5KTtcblx0ICAgICAgICBpZihkc3Q8aXNjLmRpc3QpXG5cdCAgICAgICAge1xuXHQgICAgICAgICAgICBpc2MuZGlzdCA9IGRzdDtcblx0ICAgICAgICAgICAgaXNjLmVkZ2UgPSBlZGdlO1xuXHQgICAgICAgICAgICBpc2MucG9pbnQueCA9IHh4O1xuXHQgICAgICAgICAgICBpc2MucG9pbnQueSA9IHl5O1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICBQb2x5Sy5fdXBkYXRlSVNDID0gZnVuY3Rpb24oZHgsIGR5LCBhMSwgYjEsIGIyLCBjLCBlZGdlLCBpc2MpXG5cdCAgICB7XG5cdCAgICAgICAgdmFyIG5ybCA9IFBvbHlLLl9QLmRpc3QoYTEsIGMpO1xuXHQgICAgICAgIGlmKG5ybDxpc2MuZGlzdClcblx0ICAgICAgICB7XG5cdCAgICAgICAgICAgIHZhciBpYmwgPSAxL1BvbHlLLl9QLmRpc3QoYjEsIGIyKTtcblx0ICAgICAgICAgICAgdmFyIG54ID0gLShiMi55LWIxLnkpKmlibDtcblx0ICAgICAgICAgICAgdmFyIG55ID0gIChiMi54LWIxLngpKmlibDtcblx0ICAgICAgICAgICAgdmFyIGRkb3QgPSAyKihkeCpueCtkeSpueSk7XG5cdCAgICAgICAgICAgIGlzYy5kaXN0ID0gbnJsO1xuXHQgICAgICAgICAgICBpc2Mubm9ybS54ID0gbng7XG5cdCAgICAgICAgICAgIGlzYy5ub3JtLnkgPSBueTtcblx0ICAgICAgICAgICAgaXNjLnJlZmwueCA9IC1kZG90Km54K2R4O1xuXHQgICAgICAgICAgICBpc2MucmVmbC55ID0gLWRkb3QqbnkrZHk7XG5cdCAgICAgICAgICAgIGlzYy5lZGdlID0gZWRnZTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgUG9seUsuX2dldFBvaW50cyA9IGZ1bmN0aW9uKHBzLCBpbmQwLCBpbmQxKVxuXHQgICAge1xuXHQgICAgICAgIHZhciBuID0gcHMubGVuZ3RoO1xuXHQgICAgICAgIHZhciBucHMgPSBbXTtcblx0ICAgICAgICBpZihpbmQxPGluZDApIGluZDEgKz0gbjtcblx0ICAgICAgICBmb3IodmFyIGk9aW5kMDsgaTw9IGluZDE7IGkrKykgbnBzLnB1c2gocHNbaSVuXSk7XG5cdCAgICAgICAgcmV0dXJuIG5wcztcblx0ICAgIH1cblx0XG5cdCAgICBQb2x5Sy5fZmlyc3RXaXRoRmxhZyA9IGZ1bmN0aW9uKHBzLCBpbmQpXG5cdCAgICB7XG5cdCAgICAgICAgdmFyIG4gPSBwcy5sZW5ndGg7XG5cdCAgICAgICAgd2hpbGUodHJ1ZSlcblx0ICAgICAgICB7XG5cdCAgICAgICAgICAgIGluZCA9IChpbmQrMSklbjtcblx0ICAgICAgICAgICAgaWYocHNbaW5kXS5mbGFnKSByZXR1cm4gaW5kO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0ICAgICovXG5cdCAgICBQb2x5Sy5fUG9pbnRJblRyaWFuZ2xlID0gZnVuY3Rpb24ocHgsIHB5LCBheCwgYXksIGJ4LCBieSwgY3gsIGN5KVxuXHQgICAge1xuXHQgICAgICAgIHZhciB2MHggPSBjeC1heDtcblx0ICAgICAgICB2YXIgdjB5ID0gY3ktYXk7XG5cdCAgICAgICAgdmFyIHYxeCA9IGJ4LWF4O1xuXHQgICAgICAgIHZhciB2MXkgPSBieS1heTtcblx0ICAgICAgICB2YXIgdjJ4ID0gcHgtYXg7XG5cdCAgICAgICAgdmFyIHYyeSA9IHB5LWF5O1xuXHRcblx0ICAgICAgICB2YXIgZG90MDAgPSB2MHgqdjB4K3YweSp2MHk7XG5cdCAgICAgICAgdmFyIGRvdDAxID0gdjB4KnYxeCt2MHkqdjF5O1xuXHQgICAgICAgIHZhciBkb3QwMiA9IHYweCp2MngrdjB5KnYyeTtcblx0ICAgICAgICB2YXIgZG90MTEgPSB2MXgqdjF4K3YxeSp2MXk7XG5cdCAgICAgICAgdmFyIGRvdDEyID0gdjF4KnYyeCt2MXkqdjJ5O1xuXHRcblx0ICAgICAgICB2YXIgaW52RGVub20gPSAxIC8gKGRvdDAwICogZG90MTEgLSBkb3QwMSAqIGRvdDAxKTtcblx0ICAgICAgICB2YXIgdSA9IChkb3QxMSAqIGRvdDAyIC0gZG90MDEgKiBkb3QxMikgKiBpbnZEZW5vbTtcblx0ICAgICAgICB2YXIgdiA9IChkb3QwMCAqIGRvdDEyIC0gZG90MDEgKiBkb3QwMikgKiBpbnZEZW5vbTtcblx0XG5cdCAgICAgICAgLy8gQ2hlY2sgaWYgcG9pbnQgaXMgaW4gdHJpYW5nbGVcblx0ICAgICAgICByZXR1cm4gKHUgPj0gMCkgJiYgKHYgPj0gMCkgJiYgKHUgKyB2IDwgMSk7XG5cdCAgICB9XG5cdCAgICAvKlxuXHQgICAgUG9seUsuX1JheUxpbmVJbnRlcnNlY3Rpb24gPSBmdW5jdGlvbihhMSwgYTIsIGIxLCBiMiwgYylcblx0ICAgIHtcblx0ICAgICAgICB2YXIgZGF4ID0gKGExLngtYTIueCksIGRieCA9IChiMS54LWIyLngpO1xuXHQgICAgICAgIHZhciBkYXkgPSAoYTEueS1hMi55KSwgZGJ5ID0gKGIxLnktYjIueSk7XG5cdFxuXHQgICAgICAgIHZhciBEZW4gPSBkYXgqZGJ5IC0gZGF5KmRieDtcblx0ICAgICAgICBpZiAoRGVuID09IDApIHJldHVybiBudWxsOyAgLy8gcGFyYWxsZWxcblx0XG5cdCAgICAgICAgdmFyIEEgPSAoYTEueCAqIGEyLnkgLSBhMS55ICogYTIueCk7XG5cdCAgICAgICAgdmFyIEIgPSAoYjEueCAqIGIyLnkgLSBiMS55ICogYjIueCk7XG5cdFxuXHQgICAgICAgIHZhciBJID0gYztcblx0ICAgICAgICB2YXIgaURlbiA9IDEvRGVuO1xuXHQgICAgICAgIEkueCA9ICggQSpkYnggLSBkYXgqQiApICogaURlbjtcblx0ICAgICAgICBJLnkgPSAoIEEqZGJ5IC0gZGF5KkIgKSAqIGlEZW47XG5cdFxuXHQgICAgICAgIGlmKCFQb2x5Sy5fSW5SZWN0KEksIGIxLCBiMikpIHJldHVybiBudWxsO1xuXHQgICAgICAgIGlmKChkYXk+MCAmJiBJLnk+YTEueSkgfHwgKGRheTwwICYmIEkueTxhMS55KSkgcmV0dXJuIG51bGw7XG5cdCAgICAgICAgaWYoKGRheD4wICYmIEkueD5hMS54KSB8fCAoZGF4PDAgJiYgSS54PGExLngpKSByZXR1cm4gbnVsbDtcblx0ICAgICAgICByZXR1cm4gSTtcblx0ICAgIH1cblx0XG5cdCAgICBQb2x5Sy5fR2V0TGluZUludGVyc2VjdGlvbiA9IGZ1bmN0aW9uKGExLCBhMiwgYjEsIGIyLCBjKVxuXHQgICAge1xuXHQgICAgICAgIHZhciBkYXggPSAoYTEueC1hMi54KSwgZGJ4ID0gKGIxLngtYjIueCk7XG5cdCAgICAgICAgdmFyIGRheSA9IChhMS55LWEyLnkpLCBkYnkgPSAoYjEueS1iMi55KTtcblx0XG5cdCAgICAgICAgdmFyIERlbiA9IGRheCpkYnkgLSBkYXkqZGJ4O1xuXHQgICAgICAgIGlmIChEZW4gPT0gMCkgcmV0dXJuIG51bGw7ICAvLyBwYXJhbGxlbFxuXHRcblx0ICAgICAgICB2YXIgQSA9IChhMS54ICogYTIueSAtIGExLnkgKiBhMi54KTtcblx0ICAgICAgICB2YXIgQiA9IChiMS54ICogYjIueSAtIGIxLnkgKiBiMi54KTtcblx0XG5cdCAgICAgICAgdmFyIEkgPSBjO1xuXHQgICAgICAgIEkueCA9ICggQSpkYnggLSBkYXgqQiApIC8gRGVuO1xuXHQgICAgICAgIEkueSA9ICggQSpkYnkgLSBkYXkqQiApIC8gRGVuO1xuXHRcblx0ICAgICAgICBpZihQb2x5Sy5fSW5SZWN0KEksIGExLCBhMikgJiYgUG9seUsuX0luUmVjdChJLCBiMSwgYjIpKSByZXR1cm4gSTtcblx0ICAgICAgICByZXR1cm4gbnVsbDtcblx0ICAgIH1cblx0XG5cdCAgICBQb2x5Sy5fSW5SZWN0ID0gZnVuY3Rpb24oYSwgYiwgYylcblx0ICAgIHtcblx0ICAgICAgICBpZiAgKGIueCA9PSBjLngpIHJldHVybiAoYS55Pj1NYXRoLm1pbihiLnksIGMueSkgJiYgYS55PD1NYXRoLm1heChiLnksIGMueSkpO1xuXHQgICAgICAgIGlmICAoYi55ID09IGMueSkgcmV0dXJuIChhLng+PU1hdGgubWluKGIueCwgYy54KSAmJiBhLng8PU1hdGgubWF4KGIueCwgYy54KSk7XG5cdFxuXHQgICAgICAgIGlmKGEueCA+PSBNYXRoLm1pbihiLngsIGMueCkgJiYgYS54IDw9IE1hdGgubWF4KGIueCwgYy54KVxuXHQgICAgICAgICYmIGEueSA+PSBNYXRoLm1pbihiLnksIGMueSkgJiYgYS55IDw9IE1hdGgubWF4KGIueSwgYy55KSlcblx0ICAgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgICAgICByZXR1cm4gZmFsc2U7XG5cdCAgICB9XG5cdCAgICAqL1xuXHQgICAgUG9seUsuX2NvbnZleCA9IGZ1bmN0aW9uKGF4LCBheSwgYngsIGJ5LCBjeCwgY3kpXG5cdCAgICB7XG5cdCAgICAgICAgcmV0dXJuIChheS1ieSkqKGN4LWJ4KSArIChieC1heCkqKGN5LWJ5KSA+PSAwO1xuXHQgICAgfVxuXHQgICAgLypcblx0ICAgIFBvbHlLLl9QID0gZnVuY3Rpb24oeCx5KVxuXHQgICAge1xuXHQgICAgICAgIHRoaXMueCA9IHg7XG5cdCAgICAgICAgdGhpcy55ID0geTtcblx0ICAgICAgICB0aGlzLmZsYWcgPSBmYWxzZTtcblx0ICAgIH1cblx0ICAgIFBvbHlLLl9QLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKClcblx0ICAgIHtcblx0ICAgICAgICByZXR1cm4gXCJQb2ludCBbXCIrdGhpcy54K1wiLCBcIit0aGlzLnkrXCJdXCI7XG5cdCAgICB9XG5cdCAgICBQb2x5Sy5fUC5kaXN0ID0gZnVuY3Rpb24oYSxiKVxuXHQgICAge1xuXHQgICAgICAgIHZhciBkeCA9IGIueC1hLng7XG5cdCAgICAgICAgdmFyIGR5ID0gYi55LWEueTtcblx0ICAgICAgICByZXR1cm4gTWF0aC5zcXJ0KGR4KmR4ICsgZHkqZHkpO1xuXHQgICAgfVxuXHRcblx0ICAgIFBvbHlLLl90cCA9IFtdO1xuXHQgICAgZm9yKHZhciBpPTA7IGk8MTA7IGkrKykgUG9seUsuX3RwLnB1c2gobmV3IFBvbHlLLl9QKDAsMCkpO1xuXHQgICAgICAgICovXG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IFBvbHlLO1xuXG5cbi8qKiovIH0sXG4vKiAxMDcgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciB2ZWMyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcblx0dmFyIFV0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0dmFyIENvbnN0cmFpbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXHR2YXIgRnJpY3Rpb25FcXVhdGlvbiA9IF9fd2VicGFja19yZXF1aXJlX18oMTQpO1xuXHR2YXIgQm9keSA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IFRvcERvd25WZWhpY2xlO1xuXHRcblx0LyoqXG5cdCAqIEBjbGFzcyBUb3BEb3duVmVoaWNsZVxuXHQgKiBAY29uc3RydWN0b3Jcblx0ICogQHBhcmFtIHtCb2R5fSBjaGFzc2lzQm9keSBBIGR5bmFtaWMgYm9keSwgYWxyZWFkeSBhZGRlZCB0byB0aGUgd29ybGQuXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cblx0ICpcblx0ICogQGV4YW1wbGVcblx0ICpcblx0ICogICAgIC8vIENyZWF0ZSBhIGR5bmFtaWMgYm9keSBmb3IgdGhlIGNoYXNzaXNcblx0ICogICAgIHZhciBjaGFzc2lzQm9keSA9IG5ldyBCb2R5KHtcblx0ICogICAgICAgICBtYXNzOiAxXG5cdCAqICAgICB9KTtcblx0ICogICAgIHZhciBib3hTaGFwZSA9IG5ldyBCb3goeyB3aWR0aDogMC41LCBoZWlnaHQ6IDEgfSk7XG5cdCAqICAgICBjaGFzc2lzQm9keS5hZGRTaGFwZShib3hTaGFwZSk7XG5cdCAqICAgICB3b3JsZC5hZGRCb2R5KGNoYXNzaXNCb2R5KTtcblx0ICpcblx0ICogICAgIC8vIENyZWF0ZSB0aGUgdmVoaWNsZVxuXHQgKiAgICAgdmFyIHZlaGljbGUgPSBuZXcgVG9wRG93blZlaGljbGUoY2hhc3Npc0JvZHkpO1xuXHQgKlxuXHQgKiAgICAgLy8gQWRkIG9uZSBmcm9udCB3aGVlbCBhbmQgb25lIGJhY2sgd2hlZWwgLSB3ZSBkb24ndCBhY3R1YWxseSBuZWVkIGZvdXIgOilcblx0ICogICAgIHZhciBmcm9udFdoZWVsID0gdmVoaWNsZS5hZGRXaGVlbCh7XG5cdCAqICAgICAgICAgbG9jYWxQb3NpdGlvbjogWzAsIDAuNV0gLy8gZnJvbnRcblx0ICogICAgIH0pO1xuXHQgKiAgICAgZnJvbnRXaGVlbC5zZXRTaWRlRnJpY3Rpb24oNCk7XG5cdCAqXG5cdCAqICAgICAvLyBCYWNrIHdoZWVsXG5cdCAqICAgICB2YXIgYmFja1doZWVsID0gdmVoaWNsZS5hZGRXaGVlbCh7XG5cdCAqICAgICAgICAgbG9jYWxQb3NpdGlvbjogWzAsIC0wLjVdIC8vIGJhY2tcblx0ICogICAgIH0pO1xuXHQgKiAgICAgYmFja1doZWVsLnNldFNpZGVGcmljdGlvbigzKTsgLy8gTGVzcyBzaWRlIGZyaWN0aW9uIG9uIGJhY2sgd2hlZWwgbWFrZXMgaXQgZWFzaWVyIHRvIGRyaWZ0XG5cdCAqICAgICB2ZWhpY2xlLmFkZFRvV29ybGQod29ybGQpO1xuXHQgKlxuXHQgKiAgICAgLy8gU3RlZXIgdmFsdWUgemVybyBtZWFucyBzdHJhaWdodCBmb3J3YXJkLiBQb3NpdGl2ZSBpcyBsZWZ0IGFuZCBuZWdhdGl2ZSByaWdodC5cblx0ICogICAgIGZyb250V2hlZWwuc3RlZXJWYWx1ZSA9IE1hdGguUEkgLyAxNjtcblx0ICpcblx0ICogICAgIC8vIEVuZ2luZSBmb3JjZSBmb3J3YXJkXG5cdCAqICAgICBiYWNrV2hlZWwuZW5naW5lRm9yY2UgPSAxMDtcblx0ICogICAgIGJhY2tXaGVlbC5zZXRCcmFrZUZvcmNlKDApO1xuXHQgKi9cblx0ZnVuY3Rpb24gVG9wRG93blZlaGljbGUoY2hhc3Npc0JvZHksIG9wdGlvbnMpe1xuXHQgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBAcHJvcGVydHkge0JvZHl9IGNoYXNzaXNCb2R5XG5cdCAgICAgKi9cblx0ICAgIHRoaXMuY2hhc3Npc0JvZHkgPSBjaGFzc2lzQm9keTtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIEBwcm9wZXJ0eSB7QXJyYXl9IHdoZWVsc1xuXHQgICAgICovXG5cdCAgICB0aGlzLndoZWVscyA9IFtdO1xuXHRcblx0ICAgIC8vIEEgZHVtbXkgYm9keSB0byBjb25zdHJhaW4gdGhlIGNoYXNzaXMgdG9cblx0ICAgIHRoaXMuZ3JvdW5kQm9keSA9IG5ldyBCb2R5KHsgbWFzczogMCB9KTtcblx0XG5cdCAgICB0aGlzLndvcmxkID0gbnVsbDtcblx0XG5cdCAgICB2YXIgdGhhdCA9IHRoaXM7XG5cdCAgICB0aGlzLnByZVN0ZXBDYWxsYmFjayA9IGZ1bmN0aW9uKCl7XG5cdCAgICAgICAgdGhhdC51cGRhdGUoKTtcblx0ICAgIH07XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBAbWV0aG9kIGFkZFRvV29ybGRcblx0ICogQHBhcmFtIHtXb3JsZH0gd29ybGRcblx0ICovXG5cdFRvcERvd25WZWhpY2xlLnByb3RvdHlwZS5hZGRUb1dvcmxkID0gZnVuY3Rpb24od29ybGQpe1xuXHQgICAgdGhpcy53b3JsZCA9IHdvcmxkO1xuXHQgICAgd29ybGQuYWRkQm9keSh0aGlzLmdyb3VuZEJvZHkpO1xuXHQgICAgd29ybGQub24oJ3ByZVN0ZXAnLCB0aGlzLnByZVN0ZXBDYWxsYmFjayk7XG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMud2hlZWxzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgdmFyIHdoZWVsID0gdGhpcy53aGVlbHNbaV07XG5cdCAgICAgICAgd29ybGQuYWRkQ29uc3RyYWludCh3aGVlbCk7XG5cdCAgICB9XG5cdH07XG5cdFxuXHQvKipcblx0ICogQG1ldGhvZCByZW1vdmVGcm9tV29ybGRcblx0ICogQHBhcmFtIHtXb3JsZH0gd29ybGRcblx0ICovXG5cdFRvcERvd25WZWhpY2xlLnByb3RvdHlwZS5yZW1vdmVGcm9tV29ybGQgPSBmdW5jdGlvbigpe1xuXHQgICAgdmFyIHdvcmxkID0gdGhpcy53b3JsZDtcblx0ICAgIHdvcmxkLnJlbW92ZUJvZHkodGhpcy5ncm91bmRCb2R5KTtcblx0ICAgIHdvcmxkLm9mZigncHJlU3RlcCcsIHRoaXMucHJlU3RlcENhbGxiYWNrKTtcblx0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy53aGVlbHMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICB2YXIgd2hlZWwgPSB0aGlzLndoZWVsc1tpXTtcblx0ICAgICAgICB3b3JsZC5yZW1vdmVDb25zdHJhaW50KHdoZWVsKTtcblx0ICAgIH1cblx0ICAgIHRoaXMud29ybGQgPSBudWxsO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIEBtZXRob2QgYWRkV2hlZWxcblx0ICogQHBhcmFtIHtvYmplY3R9IFt3aGVlbE9wdGlvbnNdXG5cdCAqIEByZXR1cm4ge1doZWVsQ29uc3RyYWludH1cblx0ICovXG5cdFRvcERvd25WZWhpY2xlLnByb3RvdHlwZS5hZGRXaGVlbCA9IGZ1bmN0aW9uKHdoZWVsT3B0aW9ucyl7XG5cdCAgICB2YXIgd2hlZWwgPSBuZXcgV2hlZWxDb25zdHJhaW50KHRoaXMsd2hlZWxPcHRpb25zKTtcblx0ICAgIHRoaXMud2hlZWxzLnB1c2god2hlZWwpO1xuXHQgICAgcmV0dXJuIHdoZWVsO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIEBtZXRob2QgdXBkYXRlXG5cdCAqL1xuXHRUb3BEb3duVmVoaWNsZS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24oKXtcblx0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy53aGVlbHMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICB0aGlzLndoZWVsc1tpXS51cGRhdGUoKTtcblx0ICAgIH1cblx0fTtcblx0XG5cdC8qKlxuXHQgKiBAY2xhc3MgV2hlZWxDb25zdHJhaW50XG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKiBAZXh0ZW5kcyB7Q29uc3RyYWludH1cblx0ICogQHBhcmFtIHtWZWhpY2xlfSB2ZWhpY2xlXG5cdCAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc11cblx0ICogQHBhcmFtIHtBcnJheX0gW29wdGlvbnMubG9jYWxGb3J3YXJkVmVjdG9yXVRoZSBsb2NhbCB3aGVlbCBmb3J3YXJkIHZlY3RvciBpbiBsb2NhbCBib2R5IHNwYWNlLiBEZWZhdWx0IGlzIHplcm8uXG5cdCAqIEBwYXJhbSB7QXJyYXl9IFtvcHRpb25zLmxvY2FsUG9zaXRpb25dIFRoZSBsb2NhbCBwb3NpdGlvbiBvZiB0aGUgd2hlZW4gaW4gdGhlIGNoYXNzaXMgYm9keS4gRGVmYXVsdCBpcyB6ZXJvIC0gdGhlIGNlbnRlciBvZiB0aGUgYm9keS5cblx0ICogQHBhcmFtIHtBcnJheX0gW29wdGlvbnMuc2lkZUZyaWN0aW9uPTVdIFRoZSBtYXggZnJpY3Rpb24gZm9yY2UgaW4gdGhlIHNpZGV3YXlzIGRpcmVjdGlvbi5cblx0ICovXG5cdGZ1bmN0aW9uIFdoZWVsQ29uc3RyYWludCh2ZWhpY2xlLCBvcHRpb25zKXtcblx0ICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXHRcblx0ICAgIHRoaXMudmVoaWNsZSA9IHZlaGljbGU7XG5cdFxuXHQgICAgdGhpcy5mb3J3YXJkRXF1YXRpb24gPSBuZXcgRnJpY3Rpb25FcXVhdGlvbih2ZWhpY2xlLmNoYXNzaXNCb2R5LCB2ZWhpY2xlLmdyb3VuZEJvZHkpO1xuXHRcblx0ICAgIHRoaXMuc2lkZUVxdWF0aW9uID0gbmV3IEZyaWN0aW9uRXF1YXRpb24odmVoaWNsZS5jaGFzc2lzQm9keSwgdmVoaWNsZS5ncm91bmRCb2R5KTtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBzdGVlclZhbHVlXG5cdCAgICAgKi9cblx0ICAgIHRoaXMuc3RlZXJWYWx1ZSA9IDA7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBAcHJvcGVydHkge251bWJlcn0gZW5naW5lRm9yY2Vcblx0ICAgICAqL1xuXHQgICAgdGhpcy5lbmdpbmVGb3JjZSA9IDA7XG5cdFxuXHQgICAgdGhpcy5zZXRTaWRlRnJpY3Rpb24ob3B0aW9ucy5zaWRlRnJpY3Rpb24gIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuc2lkZUZyaWN0aW9uIDogNSk7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBAcHJvcGVydHkge0FycmF5fSBsb2NhbEZvcndhcmRWZWN0b3Jcblx0ICAgICAqL1xuXHQgICAgdGhpcy5sb2NhbEZvcndhcmRWZWN0b3IgPSB2ZWMyLmZyb21WYWx1ZXMoMCwgMSk7XG5cdCAgICBpZihvcHRpb25zLmxvY2FsRm9yd2FyZFZlY3Rvcil7XG5cdCAgICAgICAgdmVjMi5jb3B5KHRoaXMubG9jYWxGb3J3YXJkVmVjdG9yLCBvcHRpb25zLmxvY2FsRm9yd2FyZFZlY3Rvcik7XG5cdCAgICB9XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBAcHJvcGVydHkge0FycmF5fSBsb2NhbFBvc2l0aW9uXG5cdCAgICAgKi9cblx0ICAgIHRoaXMubG9jYWxQb3NpdGlvbiA9IHZlYzIuZnJvbVZhbHVlcygwLCAwKTtcblx0ICAgIGlmKG9wdGlvbnMubG9jYWxQb3NpdGlvbil7XG5cdCAgICAgICAgdmVjMi5jb3B5KHRoaXMubG9jYWxQb3NpdGlvbiwgb3B0aW9ucy5sb2NhbFBvc2l0aW9uKTtcblx0ICAgIH1cblx0XG5cdCAgICBDb25zdHJhaW50LmFwcGx5KHRoaXMsIHZlaGljbGUuY2hhc3Npc0JvZHksIHZlaGljbGUuZ3JvdW5kQm9keSk7XG5cdFxuXHQgICAgdGhpcy5lcXVhdGlvbnMucHVzaChcblx0ICAgICAgICB0aGlzLmZvcndhcmRFcXVhdGlvbixcblx0ICAgICAgICB0aGlzLnNpZGVFcXVhdGlvblxuXHQgICAgKTtcblx0XG5cdCAgICB0aGlzLnNldEJyYWtlRm9yY2UoMCk7XG5cdH1cblx0V2hlZWxDb25zdHJhaW50LnByb3RvdHlwZSA9IG5ldyBDb25zdHJhaW50KCk7XG5cdFxuXHQvKipcblx0ICogQG1ldGhvZCBzZXRGb3J3YXJkRnJpY3Rpb25cblx0ICovXG5cdFdoZWVsQ29uc3RyYWludC5wcm90b3R5cGUuc2V0QnJha2VGb3JjZSA9IGZ1bmN0aW9uKGZvcmNlKXtcblx0ICAgIHRoaXMuZm9yd2FyZEVxdWF0aW9uLnNldFNsaXBGb3JjZShmb3JjZSk7XG5cdH07XG5cdFxuXHQvKipcblx0ICogQG1ldGhvZCBzZXRTaWRlRnJpY3Rpb25cblx0ICovXG5cdFdoZWVsQ29uc3RyYWludC5wcm90b3R5cGUuc2V0U2lkZUZyaWN0aW9uID0gZnVuY3Rpb24oZm9yY2Upe1xuXHQgICAgdGhpcy5zaWRlRXF1YXRpb24uc2V0U2xpcEZvcmNlKGZvcmNlKTtcblx0fTtcblx0XG5cdHZhciB3b3JsZFZlbG9jaXR5ID0gdmVjMi5jcmVhdGUoKTtcblx0dmFyIHJlbGF0aXZlUG9pbnQgPSB2ZWMyLmNyZWF0ZSgpO1xuXHRcblx0LyoqXG5cdCAqIEBtZXRob2QgZ2V0U3BlZWRcblx0ICovXG5cdFdoZWVsQ29uc3RyYWludC5wcm90b3R5cGUuZ2V0U3BlZWQgPSBmdW5jdGlvbigpe1xuXHQgICAgdGhpcy52ZWhpY2xlLmNoYXNzaXNCb2R5LnZlY3RvclRvV29ybGRGcmFtZShyZWxhdGl2ZVBvaW50LCB0aGlzLmxvY2FsRm9yd2FyZFZlY3Rvcik7XG5cdCAgICB0aGlzLnZlaGljbGUuY2hhc3Npc0JvZHkuZ2V0VmVsb2NpdHlBdFBvaW50KHdvcmxkVmVsb2NpdHksIHJlbGF0aXZlUG9pbnQpO1xuXHQgICAgcmV0dXJuIHZlYzIuZG90KHdvcmxkVmVsb2NpdHksIHJlbGF0aXZlUG9pbnQpO1xuXHR9O1xuXHRcblx0dmFyIHRtcFZlYyA9IHZlYzIuY3JlYXRlKCk7XG5cdFxuXHQvKipcblx0ICogQG1ldGhvZCB1cGRhdGVcblx0ICovXG5cdFdoZWVsQ29uc3RyYWludC5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24oKXtcblx0XG5cdCAgICAvLyBEaXJlY3Rpb25hbFxuXHQgICAgdGhpcy52ZWhpY2xlLmNoYXNzaXNCb2R5LnZlY3RvclRvV29ybGRGcmFtZSh0aGlzLmZvcndhcmRFcXVhdGlvbi50LCB0aGlzLmxvY2FsRm9yd2FyZFZlY3Rvcik7XG5cdCAgICB2ZWMyLnJvdGF0ZSh0aGlzLnNpZGVFcXVhdGlvbi50LCB0aGlzLmxvY2FsRm9yd2FyZFZlY3RvciwgTWF0aC5QSSAvIDIpO1xuXHQgICAgdGhpcy52ZWhpY2xlLmNoYXNzaXNCb2R5LnZlY3RvclRvV29ybGRGcmFtZSh0aGlzLnNpZGVFcXVhdGlvbi50LCB0aGlzLnNpZGVFcXVhdGlvbi50KTtcblx0XG5cdCAgICB2ZWMyLnJvdGF0ZSh0aGlzLmZvcndhcmRFcXVhdGlvbi50LCB0aGlzLmZvcndhcmRFcXVhdGlvbi50LCB0aGlzLnN0ZWVyVmFsdWUpO1xuXHQgICAgdmVjMi5yb3RhdGUodGhpcy5zaWRlRXF1YXRpb24udCwgdGhpcy5zaWRlRXF1YXRpb24udCwgdGhpcy5zdGVlclZhbHVlKTtcblx0XG5cdCAgICAvLyBBdHRhY2htZW50IHBvaW50XG5cdCAgICB0aGlzLnZlaGljbGUuY2hhc3Npc0JvZHkudG9Xb3JsZEZyYW1lKHRoaXMuZm9yd2FyZEVxdWF0aW9uLmNvbnRhY3RQb2ludEIsIHRoaXMubG9jYWxQb3NpdGlvbik7XG5cdCAgICB2ZWMyLmNvcHkodGhpcy5zaWRlRXF1YXRpb24uY29udGFjdFBvaW50QiwgdGhpcy5mb3J3YXJkRXF1YXRpb24uY29udGFjdFBvaW50Qik7XG5cdFxuXHQgICAgdGhpcy52ZWhpY2xlLmNoYXNzaXNCb2R5LnZlY3RvclRvV29ybGRGcmFtZSh0aGlzLmZvcndhcmRFcXVhdGlvbi5jb250YWN0UG9pbnRBLCB0aGlzLmxvY2FsUG9zaXRpb24pO1xuXHQgICAgdmVjMi5jb3B5KHRoaXMuc2lkZUVxdWF0aW9uLmNvbnRhY3RQb2ludEEsIHRoaXMuZm9yd2FyZEVxdWF0aW9uLmNvbnRhY3RQb2ludEEpO1xuXHRcblx0ICAgIC8vIEFkZCBlbmdpbmUgZm9yY2Vcblx0ICAgIHZlYzIubm9ybWFsaXplKHRtcFZlYywgdGhpcy5mb3J3YXJkRXF1YXRpb24udCk7XG5cdCAgICB2ZWMyLnNjYWxlKHRtcFZlYywgdG1wVmVjLCB0aGlzLmVuZ2luZUZvcmNlKTtcblx0XG5cdCAgICB0aGlzLnZlaGljbGUuY2hhc3Npc0JvZHkuYXBwbHlGb3JjZSh0bXBWZWMsIHRoaXMuZm9yd2FyZEVxdWF0aW9uLmNvbnRhY3RQb2ludEEpO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMTA4ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgU2hhcGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpXG5cdCwgICAgdmVjMiA9IF9fd2VicGFja19yZXF1aXJlX18oMSlcblx0LCAgICBVdGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IEhlaWdodGZpZWxkO1xuXHRcblx0LyoqXG5cdCAqIEhlaWdodGZpZWxkIHNoYXBlIGNsYXNzLiBIZWlnaHQgZGF0YSBpcyBnaXZlbiBhcyBhbiBhcnJheS4gVGhlc2UgZGF0YSBwb2ludHMgYXJlIHNwcmVhZCBvdXQgZXZlbmx5IHdpdGggYSBkaXN0YW5jZSBcImVsZW1lbnRXaWR0aFwiLlxuXHQgKiBAY2xhc3MgSGVpZ2h0ZmllbGRcblx0ICogQGV4dGVuZHMgU2hhcGVcblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gKE5vdGUgdGhhdCB0aGlzIG9wdGlvbnMgb2JqZWN0IHdpbGwgYmUgcGFzc2VkIG9uIHRvIHRoZSB7eyNjcm9zc0xpbmsgXCJTaGFwZVwifX17ey9jcm9zc0xpbmt9fSBjb25zdHJ1Y3Rvci4pXG5cdCAqIEBwYXJhbSB7YXJyYXl9IFtvcHRpb25zLmhlaWdodHNdIEFuIGFycmF5IG9mIFkgdmFsdWVzIHRoYXQgd2lsbCBiZSB1c2VkIHRvIGNvbnN0cnVjdCB0aGUgdGVycmFpbi5cblx0ICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLm1pblZhbHVlXSBNaW5pbXVtIHZhbHVlIG9mIHRoZSBkYXRhIHBvaW50cyBpbiB0aGUgZGF0YSBhcnJheS4gV2lsbCBiZSBjb21wdXRlZCBhdXRvbWF0aWNhbGx5IGlmIG5vdCBnaXZlbi5cblx0ICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLm1heFZhbHVlXSBNYXhpbXVtIHZhbHVlLlxuXHQgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMuZWxlbWVudFdpZHRoPTAuMV0gV29ybGQgc3BhY2luZyBiZXR3ZWVuIHRoZSBkYXRhIHBvaW50cyBpbiBYIGRpcmVjdGlvbi5cblx0ICpcblx0ICogQGV4YW1wbGVcblx0ICogICAgIC8vIEdlbmVyYXRlIHNvbWUgaGVpZ2h0IGRhdGEgKHktdmFsdWVzKS5cblx0ICogICAgIHZhciBoZWlnaHRzID0gW107XG5cdCAqICAgICBmb3IodmFyIGkgPSAwOyBpIDwgMTAwMDsgaSsrKXtcblx0ICogICAgICAgICB2YXIgeSA9IDAuNSAqIE1hdGguY29zKDAuMiAqIGkpO1xuXHQgKiAgICAgICAgIGhlaWdodHMucHVzaCh5KTtcblx0ICogICAgIH1cblx0ICpcblx0ICogICAgIC8vIENyZWF0ZSB0aGUgaGVpZ2h0ZmllbGQgc2hhcGVcblx0ICogICAgIHZhciBoZWlnaHRmaWVsZFNoYXBlID0gbmV3IEhlaWdodGZpZWxkKHtcblx0ICogICAgICAgICBoZWlnaHRzOiBoZWlnaHRzLFxuXHQgKiAgICAgICAgIGVsZW1lbnRXaWR0aDogMSAvLyBEaXN0YW5jZSBiZXR3ZWVuIHRoZSBkYXRhIHBvaW50cyBpbiBYIGRpcmVjdGlvblxuXHQgKiAgICAgfSk7XG5cdCAqICAgICB2YXIgaGVpZ2h0ZmllbGRCb2R5ID0gbmV3IEJvZHkoKTtcblx0ICogICAgIGhlaWdodGZpZWxkQm9keS5hZGRTaGFwZShoZWlnaHRmaWVsZFNoYXBlKTtcblx0ICogICAgIHdvcmxkLmFkZEJvZHkoaGVpZ2h0ZmllbGRCb2R5KTtcblx0ICpcblx0ICogQHRvZG8gU2hvdWxkIHVzZSBhIHNjYWxlIHByb3BlcnR5IHdpdGggWCBhbmQgWSBkaXJlY3Rpb24gaW5zdGVhZCBvZiBqdXN0IGVsZW1lbnRXaWR0aFxuXHQgKi9cblx0ZnVuY3Rpb24gSGVpZ2h0ZmllbGQob3B0aW9ucyl7XG5cdCAgICBpZihBcnJheS5pc0FycmF5KGFyZ3VtZW50c1swXSkpe1xuXHQgICAgICAgIG9wdGlvbnMgPSB7XG5cdCAgICAgICAgICAgIGhlaWdodHM6IGFyZ3VtZW50c1swXVxuXHQgICAgICAgIH07XG5cdFxuXHQgICAgICAgIGlmKHR5cGVvZihhcmd1bWVudHNbMV0pID09PSAnb2JqZWN0Jyl7XG5cdCAgICAgICAgICAgIGZvcih2YXIga2V5IGluIGFyZ3VtZW50c1sxXSl7XG5cdCAgICAgICAgICAgICAgICBvcHRpb25zW2tleV0gPSBhcmd1bWVudHNbMV1ba2V5XTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgY29uc29sZS53YXJuKCdUaGUgSGVpZ2h0ZmllbGQgY29uc3RydWN0b3Igc2lnbmF0dXJlIGhhcyBjaGFuZ2VkLiBQbGVhc2UgdXNlIHRoZSBmb2xsb3dpbmcgZm9ybWF0OiBuZXcgSGVpZ2h0ZmllbGQoeyBoZWlnaHRzOiBbLi4uXSwgLi4uIH0pJyk7XG5cdCAgICB9XG5cdCAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIEFuIGFycmF5IG9mIG51bWJlcnMsIG9yIGhlaWdodCB2YWx1ZXMsIHRoYXQgYXJlIHNwcmVhZCBvdXQgYWxvbmcgdGhlIHggYXhpcy5cblx0ICAgICAqIEBwcm9wZXJ0eSB7YXJyYXl9IGhlaWdodHNcblx0ICAgICAqL1xuXHQgICAgdGhpcy5oZWlnaHRzID0gb3B0aW9ucy5oZWlnaHRzID8gb3B0aW9ucy5oZWlnaHRzLnNsaWNlKDApIDogW107XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBNYXggdmFsdWUgb2YgdGhlIGhlaWdodHNcblx0ICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBtYXhWYWx1ZVxuXHQgICAgICovXG5cdCAgICB0aGlzLm1heFZhbHVlID0gb3B0aW9ucy5tYXhWYWx1ZSB8fCBudWxsO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogTWF4IHZhbHVlIG9mIHRoZSBoZWlnaHRzXG5cdCAgICAgKiBAcHJvcGVydHkge251bWJlcn0gbWluVmFsdWVcblx0ICAgICAqL1xuXHQgICAgdGhpcy5taW5WYWx1ZSA9IG9wdGlvbnMubWluVmFsdWUgfHwgbnVsbDtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIFRoZSB3aWR0aCBvZiBlYWNoIGVsZW1lbnRcblx0ICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBlbGVtZW50V2lkdGhcblx0ICAgICAqL1xuXHQgICAgdGhpcy5lbGVtZW50V2lkdGggPSBvcHRpb25zLmVsZW1lbnRXaWR0aCB8fCAwLjE7XG5cdFxuXHQgICAgaWYob3B0aW9ucy5tYXhWYWx1ZSA9PT0gdW5kZWZpbmVkIHx8IG9wdGlvbnMubWluVmFsdWUgPT09IHVuZGVmaW5lZCl7XG5cdCAgICAgICAgdGhpcy51cGRhdGVNYXhNaW5WYWx1ZXMoKTtcblx0ICAgIH1cblx0XG5cdCAgICBvcHRpb25zLnR5cGUgPSBTaGFwZS5IRUlHSFRGSUVMRDtcblx0ICAgIFNoYXBlLmNhbGwodGhpcywgb3B0aW9ucyk7XG5cdH1cblx0SGVpZ2h0ZmllbGQucHJvdG90eXBlID0gbmV3IFNoYXBlKCk7XG5cdEhlaWdodGZpZWxkLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEhlaWdodGZpZWxkO1xuXHRcblx0LyoqXG5cdCAqIFVwZGF0ZSB0aGUgLm1pblZhbHVlIGFuZCB0aGUgLm1heFZhbHVlXG5cdCAqIEBtZXRob2QgdXBkYXRlTWF4TWluVmFsdWVzXG5cdCAqL1xuXHRIZWlnaHRmaWVsZC5wcm90b3R5cGUudXBkYXRlTWF4TWluVmFsdWVzID0gZnVuY3Rpb24oKXtcblx0ICAgIHZhciBkYXRhID0gdGhpcy5oZWlnaHRzO1xuXHQgICAgdmFyIG1heFZhbHVlID0gZGF0YVswXTtcblx0ICAgIHZhciBtaW5WYWx1ZSA9IGRhdGFbMF07XG5cdCAgICBmb3IodmFyIGk9MDsgaSAhPT0gZGF0YS5sZW5ndGg7IGkrKyl7XG5cdCAgICAgICAgdmFyIHYgPSBkYXRhW2ldO1xuXHQgICAgICAgIGlmKHYgPiBtYXhWYWx1ZSl7XG5cdCAgICAgICAgICAgIG1heFZhbHVlID0gdjtcblx0ICAgICAgICB9XG5cdCAgICAgICAgaWYodiA8IG1pblZhbHVlKXtcblx0ICAgICAgICAgICAgbWluVmFsdWUgPSB2O1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0ICAgIHRoaXMubWF4VmFsdWUgPSBtYXhWYWx1ZTtcblx0ICAgIHRoaXMubWluVmFsdWUgPSBtaW5WYWx1ZTtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBAbWV0aG9kIGNvbXB1dGVNb21lbnRPZkluZXJ0aWFcblx0ICogQHBhcmFtICB7TnVtYmVyfSBtYXNzXG5cdCAqIEByZXR1cm4ge051bWJlcn1cblx0ICovXG5cdEhlaWdodGZpZWxkLnByb3RvdHlwZS5jb21wdXRlTW9tZW50T2ZJbmVydGlhID0gZnVuY3Rpb24obWFzcyl7XG5cdCAgICByZXR1cm4gTnVtYmVyLk1BWF9WQUxVRTtcblx0fTtcblx0XG5cdEhlaWdodGZpZWxkLnByb3RvdHlwZS51cGRhdGVCb3VuZGluZ1JhZGl1cyA9IGZ1bmN0aW9uKCl7XG5cdCAgICB0aGlzLmJvdW5kaW5nUmFkaXVzID0gTnVtYmVyLk1BWF9WQUxVRTtcblx0fTtcblx0XG5cdEhlaWdodGZpZWxkLnByb3RvdHlwZS51cGRhdGVBcmVhID0gZnVuY3Rpb24oKXtcblx0ICAgIHZhciBkYXRhID0gdGhpcy5oZWlnaHRzLFxuXHQgICAgICAgIGFyZWEgPSAwO1xuXHQgICAgZm9yKHZhciBpPTA7IGk8ZGF0YS5sZW5ndGgtMTsgaSsrKXtcblx0ICAgICAgICBhcmVhICs9IChkYXRhW2ldK2RhdGFbaSsxXSkgLyAyICogdGhpcy5lbGVtZW50V2lkdGg7XG5cdCAgICB9XG5cdCAgICB0aGlzLmFyZWEgPSBhcmVhO1xuXHR9O1xuXHRcblx0dmFyIHBvaW50cyA9IFtcblx0ICAgIHZlYzIuY3JlYXRlKCksXG5cdCAgICB2ZWMyLmNyZWF0ZSgpLFxuXHQgICAgdmVjMi5jcmVhdGUoKSxcblx0ICAgIHZlYzIuY3JlYXRlKClcblx0XTtcblx0XG5cdC8qKlxuXHQgKiBAbWV0aG9kIGNvbXB1dGVBQUJCXG5cdCAqIEBwYXJhbSAge0FBQkJ9ICAgb3V0ICAgICAgVGhlIHJlc3VsdGluZyBBQUJCLlxuXHQgKiBAcGFyYW0gIHtBcnJheX0gIHBvc2l0aW9uXG5cdCAqIEBwYXJhbSAge051bWJlcn0gYW5nbGVcblx0ICovXG5cdEhlaWdodGZpZWxkLnByb3RvdHlwZS5jb21wdXRlQUFCQiA9IGZ1bmN0aW9uKG91dCwgcG9zaXRpb24sIGFuZ2xlKXtcblx0ICAgIHZlYzIuc2V0KHBvaW50c1swXSwgMCwgdGhpcy5tYXhWYWx1ZSk7XG5cdCAgICB2ZWMyLnNldChwb2ludHNbMV0sIHRoaXMuZWxlbWVudFdpZHRoICogdGhpcy5oZWlnaHRzLmxlbmd0aCwgdGhpcy5tYXhWYWx1ZSk7XG5cdCAgICB2ZWMyLnNldChwb2ludHNbMl0sIHRoaXMuZWxlbWVudFdpZHRoICogdGhpcy5oZWlnaHRzLmxlbmd0aCwgdGhpcy5taW5WYWx1ZSk7XG5cdCAgICB2ZWMyLnNldChwb2ludHNbM10sIDAsIHRoaXMubWluVmFsdWUpO1xuXHQgICAgb3V0LnNldEZyb21Qb2ludHMocG9pbnRzLCBwb3NpdGlvbiwgYW5nbGUpO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIEdldCBhIGxpbmUgc2VnbWVudCBpbiB0aGUgaGVpZ2h0ZmllbGRcblx0ICogQG1ldGhvZCBnZXRMaW5lU2VnbWVudFxuXHQgKiBAcGFyYW0gIHthcnJheX0gc3RhcnQgV2hlcmUgdG8gc3RvcmUgdGhlIHJlc3VsdGluZyBzdGFydCBwb2ludFxuXHQgKiBAcGFyYW0gIHthcnJheX0gZW5kIFdoZXJlIHRvIHN0b3JlIHRoZSByZXN1bHRpbmcgZW5kIHBvaW50XG5cdCAqIEBwYXJhbSAge251bWJlcn0gaVxuXHQgKi9cblx0SGVpZ2h0ZmllbGQucHJvdG90eXBlLmdldExpbmVTZWdtZW50ID0gZnVuY3Rpb24oc3RhcnQsIGVuZCwgaSl7XG5cdCAgICB2YXIgZGF0YSA9IHRoaXMuaGVpZ2h0cztcblx0ICAgIHZhciB3aWR0aCA9IHRoaXMuZWxlbWVudFdpZHRoO1xuXHQgICAgdmVjMi5zZXQoc3RhcnQsIGkgKiB3aWR0aCwgZGF0YVtpXSk7XG5cdCAgICB2ZWMyLnNldChlbmQsIChpICsgMSkgKiB3aWR0aCwgZGF0YVtpICsgMV0pO1xuXHR9O1xuXHRcblx0SGVpZ2h0ZmllbGQucHJvdG90eXBlLmdldFNlZ21lbnRJbmRleCA9IGZ1bmN0aW9uKHBvc2l0aW9uKXtcblx0ICAgIHJldHVybiBNYXRoLmZsb29yKHBvc2l0aW9uWzBdIC8gdGhpcy5lbGVtZW50V2lkdGgpO1xuXHR9O1xuXHRcblx0SGVpZ2h0ZmllbGQucHJvdG90eXBlLmdldENsYW1wZWRTZWdtZW50SW5kZXggPSBmdW5jdGlvbihwb3NpdGlvbil7XG5cdCAgICB2YXIgaSA9IHRoaXMuZ2V0U2VnbWVudEluZGV4KHBvc2l0aW9uKTtcblx0ICAgIGkgPSBNYXRoLm1pbih0aGlzLmhlaWdodHMubGVuZ3RoLCBNYXRoLm1heChpLCAwKSk7IC8vIGNsYW1wXG5cdCAgICByZXR1cm4gaTtcblx0fTtcblx0XG5cdHZhciBpbnRlcnNlY3RIZWlnaHRmaWVsZF9oaXRQb2ludFdvcmxkID0gdmVjMi5jcmVhdGUoKTtcblx0dmFyIGludGVyc2VjdEhlaWdodGZpZWxkX3dvcmxkTm9ybWFsID0gdmVjMi5jcmVhdGUoKTtcblx0dmFyIGludGVyc2VjdEhlaWdodGZpZWxkX2wwID0gdmVjMi5jcmVhdGUoKTtcblx0dmFyIGludGVyc2VjdEhlaWdodGZpZWxkX2wxID0gdmVjMi5jcmVhdGUoKTtcblx0dmFyIGludGVyc2VjdEhlaWdodGZpZWxkX2xvY2FsRnJvbSA9IHZlYzIuY3JlYXRlKCk7XG5cdHZhciBpbnRlcnNlY3RIZWlnaHRmaWVsZF9sb2NhbFRvID0gdmVjMi5jcmVhdGUoKTtcblx0dmFyIGludGVyc2VjdEhlaWdodGZpZWxkX3VuaXRfeSA9IHZlYzIuZnJvbVZhbHVlcygwLDEpO1xuXHRcblx0Ly8gUmV0dXJucyAxIGlmIHRoZSBsaW5lcyBpbnRlcnNlY3QsIG90aGVyd2lzZSAwLlxuXHRmdW5jdGlvbiBnZXRMaW5lU2VnbWVudHNJbnRlcnNlY3Rpb24gKG91dCwgcDAsIHAxLCBwMiwgcDMpIHtcblx0XG5cdCAgICB2YXIgczFfeCwgczFfeSwgczJfeCwgczJfeTtcblx0ICAgIHMxX3ggPSBwMVswXSAtIHAwWzBdO1xuXHQgICAgczFfeSA9IHAxWzFdIC0gcDBbMV07XG5cdCAgICBzMl94ID0gcDNbMF0gLSBwMlswXTtcblx0ICAgIHMyX3kgPSBwM1sxXSAtIHAyWzFdO1xuXHRcblx0ICAgIHZhciBzLCB0O1xuXHQgICAgcyA9ICgtczFfeSAqIChwMFswXSAtIHAyWzBdKSArIHMxX3ggKiAocDBbMV0gLSBwMlsxXSkpIC8gKC1zMl94ICogczFfeSArIHMxX3ggKiBzMl95KTtcblx0ICAgIHQgPSAoIHMyX3ggKiAocDBbMV0gLSBwMlsxXSkgLSBzMl95ICogKHAwWzBdIC0gcDJbMF0pKSAvICgtczJfeCAqIHMxX3kgKyBzMV94ICogczJfeSk7XG5cdCAgICBpZiAocyA+PSAwICYmIHMgPD0gMSAmJiB0ID49IDAgJiYgdCA8PSAxKSB7IC8vIENvbGxpc2lvbiBkZXRlY3RlZFxuXHQgICAgICAgIHZhciBpbnRYID0gcDBbMF0gKyAodCAqIHMxX3gpO1xuXHQgICAgICAgIHZhciBpbnRZID0gcDBbMV0gKyAodCAqIHMxX3kpO1xuXHQgICAgICAgIG91dFswXSA9IGludFg7XG5cdCAgICAgICAgb3V0WzFdID0gaW50WTtcblx0ICAgICAgICByZXR1cm4gdDtcblx0ICAgIH1cblx0ICAgIHJldHVybiAtMTsgLy8gTm8gY29sbGlzaW9uXG5cdH1cblx0XG5cdC8qKlxuXHQgKiBAbWV0aG9kIHJheWNhc3Rcblx0ICogQHBhcmFtICB7UmF5UmVzdWx0fSByZXN1bHRcblx0ICogQHBhcmFtICB7UmF5fSByYXlcblx0ICogQHBhcmFtICB7YXJyYXl9IHBvc2l0aW9uXG5cdCAqIEBwYXJhbSAge251bWJlcn0gYW5nbGVcblx0ICovXG5cdEhlaWdodGZpZWxkLnByb3RvdHlwZS5yYXljYXN0ID0gZnVuY3Rpb24ocmVzdWx0LCByYXksIHBvc2l0aW9uLCBhbmdsZSl7XG5cdCAgICB2YXIgZnJvbSA9IHJheS5mcm9tO1xuXHQgICAgdmFyIHRvID0gcmF5LnRvO1xuXHQgICAgdmFyIGRpcmVjdGlvbiA9IHJheS5kaXJlY3Rpb247XG5cdFxuXHQgICAgdmFyIGhpdFBvaW50V29ybGQgPSBpbnRlcnNlY3RIZWlnaHRmaWVsZF9oaXRQb2ludFdvcmxkO1xuXHQgICAgdmFyIHdvcmxkTm9ybWFsID0gaW50ZXJzZWN0SGVpZ2h0ZmllbGRfd29ybGROb3JtYWw7XG5cdCAgICB2YXIgbDAgPSBpbnRlcnNlY3RIZWlnaHRmaWVsZF9sMDtcblx0ICAgIHZhciBsMSA9IGludGVyc2VjdEhlaWdodGZpZWxkX2wxO1xuXHQgICAgdmFyIGxvY2FsRnJvbSA9IGludGVyc2VjdEhlaWdodGZpZWxkX2xvY2FsRnJvbTtcblx0ICAgIHZhciBsb2NhbFRvID0gaW50ZXJzZWN0SGVpZ2h0ZmllbGRfbG9jYWxUbztcblx0XG5cdCAgICAvLyBnZXQgbG9jYWwgcmF5IHN0YXJ0IGFuZCBlbmRcblx0ICAgIHZlYzIudG9Mb2NhbEZyYW1lKGxvY2FsRnJvbSwgZnJvbSwgcG9zaXRpb24sIGFuZ2xlKTtcblx0ICAgIHZlYzIudG9Mb2NhbEZyYW1lKGxvY2FsVG8sIHRvLCBwb3NpdGlvbiwgYW5nbGUpO1xuXHRcblx0ICAgIC8vIEdldCB0aGUgc2VnbWVudCByYW5nZVxuXHQgICAgdmFyIGkwID0gdGhpcy5nZXRDbGFtcGVkU2VnbWVudEluZGV4KGxvY2FsRnJvbSk7XG5cdCAgICB2YXIgaTEgPSB0aGlzLmdldENsYW1wZWRTZWdtZW50SW5kZXgobG9jYWxUbyk7XG5cdCAgICBpZihpMCA+IGkxKXtcblx0ICAgICAgICB2YXIgdG1wID0gaTA7XG5cdCAgICAgICAgaTAgPSBpMTtcblx0ICAgICAgICBpMSA9IHRtcDtcblx0ICAgIH1cblx0XG5cdCAgICAvLyBUaGUgc2VnbWVudHNcblx0ICAgIGZvcih2YXIgaT0wOyBpPHRoaXMuaGVpZ2h0cy5sZW5ndGggLSAxOyBpKyspe1xuXHQgICAgICAgIHRoaXMuZ2V0TGluZVNlZ21lbnQobDAsIGwxLCBpKTtcblx0ICAgICAgICB2YXIgdCA9IHZlYzIuZ2V0TGluZVNlZ21lbnRzSW50ZXJzZWN0aW9uRnJhY3Rpb24obG9jYWxGcm9tLCBsb2NhbFRvLCBsMCwgbDEpO1xuXHQgICAgICAgIGlmKHQgPj0gMCl7XG5cdCAgICAgICAgICAgIHZlYzIuc3ViKHdvcmxkTm9ybWFsLCBsMSwgbDApO1xuXHQgICAgICAgICAgICB2ZWMyLnJvdGF0ZSh3b3JsZE5vcm1hbCwgd29ybGROb3JtYWwsIGFuZ2xlICsgTWF0aC5QSSAvIDIpO1xuXHQgICAgICAgICAgICB2ZWMyLm5vcm1hbGl6ZSh3b3JsZE5vcm1hbCwgd29ybGROb3JtYWwpO1xuXHQgICAgICAgICAgICByYXkucmVwb3J0SW50ZXJzZWN0aW9uKHJlc3VsdCwgdCwgd29ybGROb3JtYWwsIC0xKTtcblx0ICAgICAgICAgICAgaWYocmVzdWx0LnNob3VsZFN0b3AocmF5KSl7XG5cdCAgICAgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICB9XG5cdH07XG5cbi8qKiovIH0sXG4vKiAxMDkgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBJc2xhbmROb2RlID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2NCk7XG5cdHZhciBQb29sID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gSXNsYW5kTm9kZVBvb2w7XG5cdFxuXHQvKipcblx0ICogQGNsYXNzXG5cdCAqL1xuXHRmdW5jdGlvbiBJc2xhbmROb2RlUG9vbCgpIHtcblx0XHRQb29sLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdH1cblx0SXNsYW5kTm9kZVBvb2wucHJvdG90eXBlID0gbmV3IFBvb2woKTtcblx0SXNsYW5kTm9kZVBvb2wucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gSXNsYW5kTm9kZVBvb2w7XG5cdFxuXHQvKipcblx0ICogQG1ldGhvZCBjcmVhdGVcblx0ICogQHJldHVybiB7SXNsYW5kTm9kZX1cblx0ICovXG5cdElzbGFuZE5vZGVQb29sLnByb3RvdHlwZS5jcmVhdGUgPSBmdW5jdGlvbiAoKSB7XG5cdFx0cmV0dXJuIG5ldyBJc2xhbmROb2RlKCk7XG5cdH07XG5cdFxuXHQvKipcblx0ICogQG1ldGhvZCBkZXN0cm95XG5cdCAqIEBwYXJhbSB7SXNsYW5kTm9kZX0gbm9kZVxuXHQgKiBAcmV0dXJuIHtJc2xhbmROb2RlUG9vbH1cblx0ICovXG5cdElzbGFuZE5vZGVQb29sLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKG5vZGUpIHtcblx0XHRub2RlLnJlc2V0KCk7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH07XG5cblxuLyoqKi8gfSxcbi8qIDExMCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0dmFyIElzbGFuZCA9IF9fd2VicGFja19yZXF1aXJlX18oNjMpO1xuXHR2YXIgUG9vbCA9IF9fd2VicGFja19yZXF1aXJlX18oOSk7XG5cdFxuXHRtb2R1bGUuZXhwb3J0cyA9IElzbGFuZFBvb2w7XG5cdFxuXHQvKipcblx0ICogQGNsYXNzXG5cdCAqL1xuXHRmdW5jdGlvbiBJc2xhbmRQb29sKCkge1xuXHRcdFBvb2wuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0fVxuXHRJc2xhbmRQb29sLnByb3RvdHlwZSA9IG5ldyBQb29sKCk7XG5cdElzbGFuZFBvb2wucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gSXNsYW5kUG9vbDtcblx0XG5cdC8qKlxuXHQgKiBAbWV0aG9kIGNyZWF0ZVxuXHQgKiBAcmV0dXJuIHtJc2xhbmR9XG5cdCAqL1xuXHRJc2xhbmRQb29sLnByb3RvdHlwZS5jcmVhdGUgPSBmdW5jdGlvbiAoKSB7XG5cdFx0cmV0dXJuIG5ldyBJc2xhbmQoKTtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBAbWV0aG9kIGRlc3Ryb3lcblx0ICogQHBhcmFtIHtJc2xhbmR9IGlzbGFuZFxuXHQgKiBAcmV0dXJuIHtJc2xhbmRQb29sfVxuXHQgKi9cblx0SXNsYW5kUG9vbC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIChpc2xhbmQpIHtcblx0XHRpc2xhbmQucmVzZXQoKTtcblx0XHRyZXR1cm4gdGhpcztcblx0fTtcblxuXG4vKioqLyB9LFxuLyogMTExICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgVHVwbGVEaWN0aW9uYXJ5ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2Mik7XG5cdHZhciBPdmVybGFwS2VlcGVyUmVjb3JkID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MSk7XG5cdHZhciBPdmVybGFwS2VlcGVyUmVjb3JkUG9vbCA9IF9fd2VicGFja19yZXF1aXJlX18oMTEyKTtcblx0dmFyIFV0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gT3ZlcmxhcEtlZXBlcjtcblx0XG5cdC8qKlxuXHQgKiBLZWVwcyB0cmFjayBvZiBvdmVybGFwcyBpbiB0aGUgY3VycmVudCBzdGF0ZSBhbmQgdGhlIGxhc3Qgc3RlcCBzdGF0ZS5cblx0ICogQGNsYXNzIE92ZXJsYXBLZWVwZXJcblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqL1xuXHRmdW5jdGlvbiBPdmVybGFwS2VlcGVyKCkge1xuXHQgICAgdGhpcy5vdmVybGFwcGluZ1NoYXBlc0xhc3RTdGF0ZSA9IG5ldyBUdXBsZURpY3Rpb25hcnkoKTtcblx0ICAgIHRoaXMub3ZlcmxhcHBpbmdTaGFwZXNDdXJyZW50U3RhdGUgPSBuZXcgVHVwbGVEaWN0aW9uYXJ5KCk7XG5cdCAgICB0aGlzLnJlY29yZFBvb2wgPSBuZXcgT3ZlcmxhcEtlZXBlclJlY29yZFBvb2woeyBzaXplOiAxNiB9KTtcblx0ICAgIHRoaXMudG1wRGljdCA9IG5ldyBUdXBsZURpY3Rpb25hcnkoKTtcblx0ICAgIHRoaXMudG1wQXJyYXkxID0gW107XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBUaWNrcyBvbmUgc3RlcCBmb3J3YXJkIGluIHRpbWUuIFRoaXMgd2lsbCBtb3ZlIHRoZSBjdXJyZW50IG92ZXJsYXAgc3RhdGUgdG8gdGhlIFwib2xkXCIgb3ZlcmxhcCBzdGF0ZSwgYW5kIGNyZWF0ZSBhIG5ldyBvbmUgYXMgY3VycmVudC5cblx0ICogQG1ldGhvZCB0aWNrXG5cdCAqL1xuXHRPdmVybGFwS2VlcGVyLnByb3RvdHlwZS50aWNrID0gZnVuY3Rpb24oKSB7XG5cdCAgICB2YXIgbGFzdCA9IHRoaXMub3ZlcmxhcHBpbmdTaGFwZXNMYXN0U3RhdGU7XG5cdCAgICB2YXIgY3VycmVudCA9IHRoaXMub3ZlcmxhcHBpbmdTaGFwZXNDdXJyZW50U3RhdGU7XG5cdFxuXHQgICAgLy8gU2F2ZSBvbGQgb2JqZWN0cyBpbnRvIHBvb2xcblx0ICAgIHZhciBsID0gbGFzdC5rZXlzLmxlbmd0aDtcblx0ICAgIHdoaWxlKGwtLSl7XG5cdCAgICAgICAgdmFyIGtleSA9IGxhc3Qua2V5c1tsXTtcblx0ICAgICAgICB2YXIgbGFzdE9iamVjdCA9IGxhc3QuZ2V0QnlLZXkoa2V5KTtcblx0ICAgICAgICB2YXIgY3VycmVudE9iamVjdCA9IGN1cnJlbnQuZ2V0QnlLZXkoa2V5KTtcblx0ICAgICAgICBpZihsYXN0T2JqZWN0KXtcblx0ICAgICAgICAgICAgLy8gVGhlIHJlY29yZCBpcyBvbmx5IHVzZWQgaW4gdGhlIFwibGFzdFwiIGRpY3QsIGFuZCB3aWxsIGJlIHJlbW92ZWQuIFdlIG1pZ2h0IGFzIHdlbGwgcG9vbCBpdC5cblx0ICAgICAgICAgICAgdGhpcy5yZWNvcmRQb29sLnJlbGVhc2UobGFzdE9iamVjdCk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIC8vIENsZWFyIGxhc3Qgb2JqZWN0XG5cdCAgICBsYXN0LnJlc2V0KCk7XG5cdFxuXHQgICAgLy8gVHJhbnNmZXIgZnJvbSBuZXcgb2JqZWN0IHRvIG9sZFxuXHQgICAgbGFzdC5jb3B5KGN1cnJlbnQpO1xuXHRcblx0ICAgIC8vIENsZWFyIGN1cnJlbnQgb2JqZWN0XG5cdCAgICBjdXJyZW50LnJlc2V0KCk7XG5cdH07XG5cdFxuXHQvKipcblx0ICogQG1ldGhvZCBzZXRPdmVybGFwcGluZ1xuXHQgKiBAcGFyYW0ge0JvZHl9IGJvZHlBXG5cdCAqIEBwYXJhbSB7Qm9keX0gc2hhcGVBXG5cdCAqIEBwYXJhbSB7Qm9keX0gYm9keUJcblx0ICogQHBhcmFtIHtCb2R5fSBzaGFwZUJcblx0ICovXG5cdE92ZXJsYXBLZWVwZXIucHJvdG90eXBlLnNldE92ZXJsYXBwaW5nID0gZnVuY3Rpb24oYm9keUEsIHNoYXBlQSwgYm9keUIsIHNoYXBlQikge1xuXHQgICAgdmFyIGxhc3QgPSB0aGlzLm92ZXJsYXBwaW5nU2hhcGVzTGFzdFN0YXRlO1xuXHQgICAgdmFyIGN1cnJlbnQgPSB0aGlzLm92ZXJsYXBwaW5nU2hhcGVzQ3VycmVudFN0YXRlO1xuXHRcblx0ICAgIC8vIFN0b3JlIGN1cnJlbnQgY29udGFjdCBzdGF0ZVxuXHQgICAgaWYoIWN1cnJlbnQuZ2V0KHNoYXBlQS5pZCwgc2hhcGVCLmlkKSl7XG5cdCAgICAgICAgdmFyIGRhdGEgPSB0aGlzLnJlY29yZFBvb2wuZ2V0KCk7XG5cdCAgICAgICAgZGF0YS5zZXQoYm9keUEsIHNoYXBlQSwgYm9keUIsIHNoYXBlQik7XG5cdCAgICAgICAgY3VycmVudC5zZXQoc2hhcGVBLmlkLCBzaGFwZUIuaWQsIGRhdGEpO1xuXHQgICAgfVxuXHR9O1xuXHRcblx0T3ZlcmxhcEtlZXBlci5wcm90b3R5cGUuZ2V0TmV3T3ZlcmxhcHMgPSBmdW5jdGlvbihyZXN1bHQpe1xuXHQgICAgcmV0dXJuIHRoaXMuZ2V0RGlmZih0aGlzLm92ZXJsYXBwaW5nU2hhcGVzTGFzdFN0YXRlLCB0aGlzLm92ZXJsYXBwaW5nU2hhcGVzQ3VycmVudFN0YXRlLCByZXN1bHQpO1xuXHR9O1xuXHRcblx0T3ZlcmxhcEtlZXBlci5wcm90b3R5cGUuZ2V0RW5kT3ZlcmxhcHMgPSBmdW5jdGlvbihyZXN1bHQpe1xuXHQgICAgcmV0dXJuIHRoaXMuZ2V0RGlmZih0aGlzLm92ZXJsYXBwaW5nU2hhcGVzQ3VycmVudFN0YXRlLCB0aGlzLm92ZXJsYXBwaW5nU2hhcGVzTGFzdFN0YXRlLCByZXN1bHQpO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIENoZWNrcyBpZiB0d28gYm9kaWVzIGFyZSBjdXJyZW50bHkgb3ZlcmxhcHBpbmcuXG5cdCAqIEBtZXRob2QgYm9kaWVzQXJlT3ZlcmxhcHBpbmdcblx0ICogQHBhcmFtICB7Qm9keX0gYm9keUFcblx0ICogQHBhcmFtICB7Qm9keX0gYm9keUJcblx0ICogQHJldHVybiB7Ym9vbGVhbn1cblx0ICovXG5cdE92ZXJsYXBLZWVwZXIucHJvdG90eXBlLmJvZGllc0FyZU92ZXJsYXBwaW5nID0gZnVuY3Rpb24oYm9keUEsIGJvZHlCKXtcblx0ICAgIHZhciBjdXJyZW50ID0gdGhpcy5vdmVybGFwcGluZ1NoYXBlc0N1cnJlbnRTdGF0ZTtcblx0ICAgIHZhciBsID0gY3VycmVudC5rZXlzLmxlbmd0aDtcblx0ICAgIHdoaWxlKGwtLSl7XG5cdCAgICAgICAgdmFyIGtleSA9IGN1cnJlbnQua2V5c1tsXTtcblx0ICAgICAgICB2YXIgZGF0YSA9IGN1cnJlbnQuZGF0YVtrZXldO1xuXHQgICAgICAgIGlmKChkYXRhLmJvZHlBID09PSBib2R5QSAmJiBkYXRhLmJvZHlCID09PSBib2R5QikgfHwgZGF0YS5ib2R5QSA9PT0gYm9keUIgJiYgZGF0YS5ib2R5QiA9PT0gYm9keUEpe1xuXHQgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICByZXR1cm4gZmFsc2U7XG5cdH07XG5cdFxuXHRPdmVybGFwS2VlcGVyLnByb3RvdHlwZS5nZXREaWZmID0gZnVuY3Rpb24oZGljdEEsIGRpY3RCLCByZXN1bHQpe1xuXHQgICAgdmFyIHJlc3VsdCA9IHJlc3VsdCB8fCBbXTtcblx0ICAgIHZhciBsYXN0ID0gZGljdEE7XG5cdCAgICB2YXIgY3VycmVudCA9IGRpY3RCO1xuXHRcblx0ICAgIHJlc3VsdC5sZW5ndGggPSAwO1xuXHRcblx0ICAgIHZhciBsID0gY3VycmVudC5rZXlzLmxlbmd0aDtcblx0ICAgIHdoaWxlKGwtLSl7XG5cdCAgICAgICAgdmFyIGtleSA9IGN1cnJlbnQua2V5c1tsXTtcblx0ICAgICAgICB2YXIgZGF0YSA9IGN1cnJlbnQuZGF0YVtrZXldO1xuXHRcblx0ICAgICAgICBpZighZGF0YSl7XG5cdCAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignS2V5ICcra2V5KycgaGFkIG5vIGRhdGEhJyk7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICB2YXIgbGFzdERhdGEgPSBsYXN0LmRhdGFba2V5XTtcblx0ICAgICAgICBpZighbGFzdERhdGEpe1xuXHQgICAgICAgICAgICAvLyBOb3Qgb3ZlcmxhcHBpbmcgaW4gbGFzdCBzdGF0ZSwgYnV0IGluIGN1cnJlbnQuXG5cdCAgICAgICAgICAgIHJlc3VsdC5wdXNoKGRhdGEpO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gcmVzdWx0O1xuXHR9O1xuXHRcblx0T3ZlcmxhcEtlZXBlci5wcm90b3R5cGUuaXNOZXdPdmVybGFwID0gZnVuY3Rpb24oc2hhcGVBLCBzaGFwZUIpe1xuXHQgICAgdmFyIGlkQSA9IHNoYXBlQS5pZHwwLFxuXHQgICAgICAgIGlkQiA9IHNoYXBlQi5pZHwwO1xuXHQgICAgdmFyIGxhc3QgPSB0aGlzLm92ZXJsYXBwaW5nU2hhcGVzTGFzdFN0YXRlO1xuXHQgICAgdmFyIGN1cnJlbnQgPSB0aGlzLm92ZXJsYXBwaW5nU2hhcGVzQ3VycmVudFN0YXRlO1xuXHQgICAgLy8gTm90IGluIGxhc3QgYnV0IGluIG5ld1xuXHQgICAgcmV0dXJuICEhIWxhc3QuZ2V0KGlkQSwgaWRCKSAmJiAhIWN1cnJlbnQuZ2V0KGlkQSwgaWRCKTtcblx0fTtcblx0XG5cdE92ZXJsYXBLZWVwZXIucHJvdG90eXBlLmdldE5ld0JvZHlPdmVybGFwcyA9IGZ1bmN0aW9uKHJlc3VsdCl7XG5cdCAgICB0aGlzLnRtcEFycmF5MS5sZW5ndGggPSAwO1xuXHQgICAgdmFyIG92ZXJsYXBzID0gdGhpcy5nZXROZXdPdmVybGFwcyh0aGlzLnRtcEFycmF5MSk7XG5cdCAgICByZXR1cm4gdGhpcy5nZXRCb2R5RGlmZihvdmVybGFwcywgcmVzdWx0KTtcblx0fTtcblx0XG5cdE92ZXJsYXBLZWVwZXIucHJvdG90eXBlLmdldEVuZEJvZHlPdmVybGFwcyA9IGZ1bmN0aW9uKHJlc3VsdCl7XG5cdCAgICB0aGlzLnRtcEFycmF5MS5sZW5ndGggPSAwO1xuXHQgICAgdmFyIG92ZXJsYXBzID0gdGhpcy5nZXRFbmRPdmVybGFwcyh0aGlzLnRtcEFycmF5MSk7XG5cdCAgICByZXR1cm4gdGhpcy5nZXRCb2R5RGlmZihvdmVybGFwcywgcmVzdWx0KTtcblx0fTtcblx0XG5cdE92ZXJsYXBLZWVwZXIucHJvdG90eXBlLmdldEJvZHlEaWZmID0gZnVuY3Rpb24ob3ZlcmxhcHMsIHJlc3VsdCl7XG5cdCAgICByZXN1bHQgPSByZXN1bHQgfHwgW107XG5cdCAgICB2YXIgYWNjdW11bGF0b3IgPSB0aGlzLnRtcERpY3Q7XG5cdFxuXHQgICAgdmFyIGwgPSBvdmVybGFwcy5sZW5ndGg7XG5cdFxuXHQgICAgd2hpbGUobC0tKXtcblx0ICAgICAgICB2YXIgZGF0YSA9IG92ZXJsYXBzW2xdO1xuXHRcblx0ICAgICAgICAvLyBTaW5jZSB3ZSB1c2UgYm9keSBpZCdzIGZvciB0aGUgYWNjdW11bGF0b3IsIHRoZXNlIHdpbGwgYmUgYSBzdWJzZXQgb2YgdGhlIG9yaWdpbmFsIG9uZVxuXHQgICAgICAgIGFjY3VtdWxhdG9yLnNldChkYXRhLmJvZHlBLmlkfDAsIGRhdGEuYm9keUIuaWR8MCwgZGF0YSk7XG5cdCAgICB9XG5cdFxuXHQgICAgbCA9IGFjY3VtdWxhdG9yLmtleXMubGVuZ3RoO1xuXHQgICAgd2hpbGUobC0tKXtcblx0ICAgICAgICB2YXIgZGF0YSA9IGFjY3VtdWxhdG9yLmdldEJ5S2V5KGFjY3VtdWxhdG9yLmtleXNbbF0pO1xuXHQgICAgICAgIGlmKGRhdGEpe1xuXHQgICAgICAgICAgICByZXN1bHQucHVzaChkYXRhLmJvZHlBLCBkYXRhLmJvZHlCKTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgYWNjdW11bGF0b3IucmVzZXQoKTtcblx0XG5cdCAgICByZXR1cm4gcmVzdWx0O1xuXHR9O1xuXG5cbi8qKiovIH0sXG4vKiAxMTIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciBPdmVybGFwS2VlcGVyUmVjb3JkID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MSk7XG5cdHZhciBQb29sID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gT3ZlcmxhcEtlZXBlclJlY29yZFBvb2w7XG5cdFxuXHQvKipcblx0ICogQGNsYXNzXG5cdCAqL1xuXHRmdW5jdGlvbiBPdmVybGFwS2VlcGVyUmVjb3JkUG9vbCgpIHtcblx0XHRQb29sLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdH1cblx0T3ZlcmxhcEtlZXBlclJlY29yZFBvb2wucHJvdG90eXBlID0gbmV3IFBvb2woKTtcblx0T3ZlcmxhcEtlZXBlclJlY29yZFBvb2wucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gT3ZlcmxhcEtlZXBlclJlY29yZFBvb2w7XG5cdFxuXHQvKipcblx0ICogQG1ldGhvZCBjcmVhdGVcblx0ICogQHJldHVybiB7T3ZlcmxhcEtlZXBlclJlY29yZH1cblx0ICovXG5cdE92ZXJsYXBLZWVwZXJSZWNvcmRQb29sLnByb3RvdHlwZS5jcmVhdGUgPSBmdW5jdGlvbiAoKSB7XG5cdFx0cmV0dXJuIG5ldyBPdmVybGFwS2VlcGVyUmVjb3JkKCk7XG5cdH07XG5cdFxuXHQvKipcblx0ICogQG1ldGhvZCBkZXN0cm95XG5cdCAqIEBwYXJhbSB7T3ZlcmxhcEtlZXBlclJlY29yZH0gcmVjb3JkXG5cdCAqIEByZXR1cm4ge092ZXJsYXBLZWVwZXJSZWNvcmRQb29sfVxuXHQgKi9cblx0T3ZlcmxhcEtlZXBlclJlY29yZFBvb2wucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAocmVjb3JkKSB7XG5cdFx0cmVjb3JkLmJvZHlBID0gcmVjb3JkLmJvZHlCID0gcmVjb3JkLnNoYXBlQSA9IHJlY29yZC5zaGFwZUIgPSBudWxsO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9O1xuXG5cbi8qKiovIH0sXG4vKiAxMTMgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdHZhciB2ZWMyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKVxuXHQsICAgSXNsYW5kID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2Mylcblx0LCAgIElzbGFuZE5vZGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDY0KVxuXHQsICAgSXNsYW5kTm9kZVBvb2wgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwOSlcblx0LCAgIElzbGFuZFBvb2wgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExMClcblx0LCAgIEJvZHkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBJc2xhbmRNYW5hZ2VyO1xuXHRcblx0LyoqXG5cdCAqIFNwbGl0cyB0aGUgc3lzdGVtIG9mIGJvZGllcyBhbmQgZXF1YXRpb25zIGludG8gaW5kZXBlbmRlbnQgaXNsYW5kc1xuXHQgKlxuXHQgKiBAY2xhc3MgSXNsYW5kTWFuYWdlclxuXHQgKiBAY29uc3RydWN0b3Jcblx0ICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuXHQgKiBAZXh0ZW5kcyBTb2x2ZXJcblx0ICovXG5cdGZ1bmN0aW9uIElzbGFuZE1hbmFnZXIob3B0aW9ucyl7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBAcHJvcGVydHkgbm9kZVBvb2xcblx0ICAgICAqIEB0eXBlIHtJc2xhbmROb2RlUG9vbH1cblx0ICAgICAqL1xuXHQgICAgdGhpcy5ub2RlUG9vbCA9IG5ldyBJc2xhbmROb2RlUG9vbCh7IHNpemU6IDE2IH0pO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQHByb3BlcnR5IGlzbGFuZFBvb2xcblx0ICAgICAqIEB0eXBlIHtJc2xhbmRQb29sfVxuXHQgICAgICovXG5cdCAgICB0aGlzLmlzbGFuZFBvb2wgPSBuZXcgSXNsYW5kUG9vbCh7IHNpemU6IDggfSk7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGUgZXF1YXRpb25zIHRvIHNwbGl0LiBNYW51YWxseSBmaWxsIHRoaXMgYXJyYXkgYmVmb3JlIHJ1bm5pbmcgLnNwbGl0KCkuXG5cdCAgICAgKiBAcHJvcGVydHkge0FycmF5fSBlcXVhdGlvbnNcblx0ICAgICAqL1xuXHQgICAgdGhpcy5lcXVhdGlvbnMgPSBbXTtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIFRoZSByZXN1bHRpbmcge3sjY3Jvc3NMaW5rIFwiSXNsYW5kXCJ9fXt7L2Nyb3NzTGlua319cy5cblx0ICAgICAqIEBwcm9wZXJ0eSB7QXJyYXl9IGlzbGFuZHNcblx0ICAgICAqL1xuXHQgICAgdGhpcy5pc2xhbmRzID0gW107XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGUgcmVzdWx0aW5nIGdyYXBoIG5vZGVzLlxuXHQgICAgICogQHByb3BlcnR5IHtBcnJheX0gbm9kZXNcblx0ICAgICAqL1xuXHQgICAgdGhpcy5ub2RlcyA9IFtdO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVGhlIG5vZGUgcXVldWUsIHVzZWQgd2hlbiB0cmF2ZXJzaW5nIHRoZSBncmFwaCBvZiBub2Rlcy5cblx0ICAgICAqIEBwcml2YXRlXG5cdCAgICAgKiBAcHJvcGVydHkge0FycmF5fSBxdWV1ZVxuXHQgICAgICovXG5cdCAgICB0aGlzLnF1ZXVlID0gW107XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBHZXQgYW4gdW52aXNpdGVkIG5vZGUgZnJvbSBhIGxpc3Qgb2Ygbm9kZXMuXG5cdCAqIEBzdGF0aWNcblx0ICogQG1ldGhvZCBnZXRVbnZpc2l0ZWROb2RlXG5cdCAqIEBwYXJhbSAge0FycmF5fSBub2Rlc1xuXHQgKiBAcmV0dXJuIHtJc2xhbmROb2RlfGJvb2xlYW59IFRoZSBub2RlIGlmIGZvdW5kLCBlbHNlIGZhbHNlLlxuXHQgKi9cblx0SXNsYW5kTWFuYWdlci5nZXRVbnZpc2l0ZWROb2RlID0gZnVuY3Rpb24obm9kZXMpe1xuXHQgICAgdmFyIE5ub2RlcyA9IG5vZGVzLmxlbmd0aDtcblx0ICAgIGZvcih2YXIgaT0wOyBpIT09Tm5vZGVzOyBpKyspe1xuXHQgICAgICAgIHZhciBub2RlID0gbm9kZXNbaV07XG5cdCAgICAgICAgaWYoIW5vZGUudmlzaXRlZCAmJiBub2RlLmJvZHkudHlwZSA9PT0gQm9keS5EWU5BTUlDKXtcblx0ICAgICAgICAgICAgcmV0dXJuIG5vZGU7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQgICAgcmV0dXJuIGZhbHNlO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIFZpc2l0IGEgbm9kZS5cblx0ICogQG1ldGhvZCB2aXNpdFxuXHQgKiBAcGFyYW0gIHtJc2xhbmROb2RlfSBub2RlXG5cdCAqIEBwYXJhbSAge0FycmF5fSBiZHNcblx0ICogQHBhcmFtICB7QXJyYXl9IGVxc1xuXHQgKi9cblx0SXNsYW5kTWFuYWdlci5wcm90b3R5cGUudmlzaXQgPSBmdW5jdGlvbiAobm9kZSxiZHMsZXFzKXtcblx0ICAgIGJkcy5wdXNoKG5vZGUuYm9keSk7XG5cdCAgICB2YXIgTmVxcyA9IG5vZGUuZXF1YXRpb25zLmxlbmd0aDtcblx0ICAgIGZvcih2YXIgaT0wOyBpIT09TmVxczsgaSsrKXtcblx0ICAgICAgICB2YXIgZXEgPSBub2RlLmVxdWF0aW9uc1tpXTtcblx0ICAgICAgICBpZihlcXMuaW5kZXhPZihlcSkgPT09IC0xKXsgLy8gQWxyZWFkeSBhZGRlZD9cblx0ICAgICAgICAgICAgZXFzLnB1c2goZXEpO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0fTtcblx0XG5cdC8qKlxuXHQgKiBSdW5zIHRoZSBzZWFyY2ggYWxnb3JpdGhtLCBzdGFydGluZyBhdCBhIHJvb3Qgbm9kZS4gVGhlIHJlc3VsdGluZyBib2RpZXMgYW5kIGVxdWF0aW9ucyB3aWxsIGJlIHN0b3JlZCBpbiB0aGUgcHJvdmlkZWQgYXJyYXlzLlxuXHQgKiBAbWV0aG9kIGJmc1xuXHQgKiBAcGFyYW0gIHtJc2xhbmROb2RlfSByb290IFRoZSBub2RlIHRvIHN0YXJ0IGZyb21cblx0ICogQHBhcmFtICB7QXJyYXl9IGJkcyAgQW4gYXJyYXkgdG8gYXBwZW5kIHJlc3VsdGluZyBCb2RpZXMgdG8uXG5cdCAqIEBwYXJhbSAge0FycmF5fSBlcXMgIEFuIGFycmF5IHRvIGFwcGVuZCByZXN1bHRpbmcgRXF1YXRpb25zIHRvLlxuXHQgKi9cblx0SXNsYW5kTWFuYWdlci5wcm90b3R5cGUuYmZzID0gZnVuY3Rpb24ocm9vdCxiZHMsZXFzKXtcblx0XG5cdCAgICAvLyBSZXNldCB0aGUgdmlzaXQgcXVldWVcblx0ICAgIHZhciBxdWV1ZSA9IHRoaXMucXVldWU7XG5cdCAgICBxdWV1ZS5sZW5ndGggPSAwO1xuXHRcblx0ICAgIC8vIEFkZCByb290IG5vZGUgdG8gcXVldWVcblx0ICAgIHF1ZXVlLnB1c2gocm9vdCk7XG5cdCAgICByb290LnZpc2l0ZWQgPSB0cnVlO1xuXHQgICAgdGhpcy52aXNpdChyb290LGJkcyxlcXMpO1xuXHRcblx0ICAgIC8vIFByb2Nlc3MgYWxsIHF1ZXVlZCBub2Rlc1xuXHQgICAgd2hpbGUocXVldWUubGVuZ3RoKSB7XG5cdFxuXHQgICAgICAgIC8vIEdldCBuZXh0IG5vZGUgaW4gdGhlIHF1ZXVlXG5cdCAgICAgICAgdmFyIG5vZGUgPSBxdWV1ZS5wb3AoKTtcblx0XG5cdCAgICAgICAgLy8gVmlzaXQgdW52aXNpdGVkIG5laWdoYm9yaW5nIG5vZGVzXG5cdCAgICAgICAgdmFyIGNoaWxkO1xuXHQgICAgICAgIHdoaWxlKChjaGlsZCA9IElzbGFuZE1hbmFnZXIuZ2V0VW52aXNpdGVkTm9kZShub2RlLm5laWdoYm9ycykpKSB7XG5cdCAgICAgICAgICAgIGNoaWxkLnZpc2l0ZWQgPSB0cnVlO1xuXHQgICAgICAgICAgICB0aGlzLnZpc2l0KGNoaWxkLGJkcyxlcXMpO1xuXHRcblx0ICAgICAgICAgICAgLy8gT25seSB2aXNpdCB0aGUgY2hpbGRyZW4gb2YgdGhpcyBub2RlIGlmIGl0J3MgZHluYW1pY1xuXHQgICAgICAgICAgICBpZihjaGlsZC5ib2R5LnR5cGUgPT09IEJvZHkuRFlOQU1JQyl7XG5cdCAgICAgICAgICAgICAgICBxdWV1ZS5wdXNoKGNoaWxkKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgIH1cblx0fTtcblx0XG5cdC8qKlxuXHQgKiBTcGxpdCB0aGUgd29ybGQgaW50byBpbmRlcGVuZGVudCBpc2xhbmRzLiBUaGUgcmVzdWx0IGlzIHN0b3JlZCBpbiAuaXNsYW5kcy5cblx0ICogQG1ldGhvZCBzcGxpdFxuXHQgKiBAcGFyYW0gIHtXb3JsZH0gd29ybGRcblx0ICogQHJldHVybiB7QXJyYXl9IFRoZSBnZW5lcmF0ZWQgaXNsYW5kc1xuXHQgKi9cblx0SXNsYW5kTWFuYWdlci5wcm90b3R5cGUuc3BsaXQgPSBmdW5jdGlvbih3b3JsZCl7XG5cdCAgICB2YXIgYm9kaWVzID0gd29ybGQuYm9kaWVzLFxuXHQgICAgICAgIG5vZGVzID0gdGhpcy5ub2Rlcyxcblx0ICAgICAgICBlcXVhdGlvbnMgPSB0aGlzLmVxdWF0aW9ucztcblx0XG5cdCAgICAvLyBNb3ZlIG9sZCBub2RlcyB0byB0aGUgbm9kZSBwb29sXG5cdCAgICB3aGlsZShub2Rlcy5sZW5ndGgpe1xuXHQgICAgICAgIHRoaXMubm9kZVBvb2wucmVsZWFzZShub2Rlcy5wb3AoKSk7XG5cdCAgICB9XG5cdFxuXHQgICAgLy8gQ3JlYXRlIG5lZWRlZCBub2RlcywgcmV1c2UgaWYgcG9zc2libGVcblx0ICAgIGZvcih2YXIgaT0wOyBpIT09Ym9kaWVzLmxlbmd0aDsgaSsrKXtcblx0ICAgICAgICB2YXIgbm9kZSA9IHRoaXMubm9kZVBvb2wuZ2V0KCk7XG5cdCAgICAgICAgbm9kZS5ib2R5ID0gYm9kaWVzW2ldO1xuXHQgICAgICAgIG5vZGVzLnB1c2gobm9kZSk7XG5cdCAgICAgICAgLy8gaWYodGhpcy5ub2RlUG9vbC5sZW5ndGgpe1xuXHQgICAgICAgIC8vICAgICB2YXIgbm9kZSA9IHRoaXMubm9kZVBvb2wucG9wKCk7XG5cdCAgICAgICAgLy8gICAgIG5vZGUucmVzZXQoKTtcblx0ICAgICAgICAvLyAgICAgbm9kZS5ib2R5ID0gYm9kaWVzW2ldO1xuXHQgICAgICAgIC8vICAgICBub2Rlcy5wdXNoKG5vZGUpO1xuXHQgICAgICAgIC8vIH0gZWxzZSB7XG5cdCAgICAgICAgLy8gICAgIG5vZGVzLnB1c2gobmV3IElzbGFuZE5vZGUoYm9kaWVzW2ldKSk7XG5cdCAgICAgICAgLy8gfVxuXHQgICAgfVxuXHRcblx0ICAgIC8vIEFkZCBjb25uZWN0aXZpdHkgZGF0YS4gRWFjaCBlcXVhdGlvbiBjb25uZWN0cyAyIGJvZGllcy5cblx0ICAgIGZvcih2YXIgaz0wOyBrIT09ZXF1YXRpb25zLmxlbmd0aDsgaysrKXtcblx0ICAgICAgICB2YXIgZXE9ZXF1YXRpb25zW2tdLFxuXHQgICAgICAgICAgICBpPWJvZGllcy5pbmRleE9mKGVxLmJvZHlBKSxcblx0ICAgICAgICAgICAgaj1ib2RpZXMuaW5kZXhPZihlcS5ib2R5QiksXG5cdCAgICAgICAgICAgIG5pPW5vZGVzW2ldLFxuXHQgICAgICAgICAgICBuaj1ub2Rlc1tqXTtcblx0ICAgICAgICBuaS5uZWlnaGJvcnMucHVzaChuaik7XG5cdCAgICAgICAgbmoubmVpZ2hib3JzLnB1c2gobmkpO1xuXHQgICAgICAgIG5pLmVxdWF0aW9ucy5wdXNoKGVxKTtcblx0ICAgICAgICBuai5lcXVhdGlvbnMucHVzaChlcSk7XG5cdCAgICB9XG5cdFxuXHQgICAgLy8gTW92ZSBvbGQgaXNsYW5kcyB0byB0aGUgaXNsYW5kIHBvb2xcblx0ICAgIHZhciBpc2xhbmRzID0gdGhpcy5pc2xhbmRzO1xuXHQgICAgZm9yKHZhciBpPTA7IGk8aXNsYW5kcy5sZW5ndGg7IGkrKyl7XG5cdCAgICAgICAgdGhpcy5pc2xhbmRQb29sLnJlbGVhc2UoaXNsYW5kc1tpXSk7XG5cdCAgICB9XG5cdCAgICBpc2xhbmRzLmxlbmd0aCA9IDA7XG5cdFxuXHQgICAgLy8gR2V0IGlzbGFuZHNcblx0ICAgIHZhciBjaGlsZDtcblx0ICAgIHdoaWxlKChjaGlsZCA9IElzbGFuZE1hbmFnZXIuZ2V0VW52aXNpdGVkTm9kZShub2RlcykpKXtcblx0XG5cdCAgICAgICAgLy8gQ3JlYXRlIG5ldyBpc2xhbmRcblx0ICAgICAgICB2YXIgaXNsYW5kID0gdGhpcy5pc2xhbmRQb29sLmdldCgpO1xuXHRcblx0ICAgICAgICAvLyBHZXQgYWxsIGVxdWF0aW9ucyBhbmQgYm9kaWVzIGluIHRoaXMgaXNsYW5kXG5cdCAgICAgICAgdGhpcy5iZnMoY2hpbGQsIGlzbGFuZC5ib2RpZXMsIGlzbGFuZC5lcXVhdGlvbnMpO1xuXHRcblx0ICAgICAgICBpc2xhbmRzLnB1c2goaXNsYW5kKTtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gaXNsYW5kcztcblx0fTtcblxuXG4vKioqLyB9LFxuLyogMTE0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHR2YXIgIEdTU29sdmVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1OClcblx0LCAgICBTb2x2ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMxKVxuXHQsICAgIFJheSA9IF9fd2VicGFja19yZXF1aXJlX18oMTgpXG5cdCwgICAgdmVjMiA9IF9fd2VicGFja19yZXF1aXJlX18oMSlcblx0LCAgICBDaXJjbGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIxKVxuXHQsICAgIENvbnZleCA9IF9fd2VicGFja19yZXF1aXJlX18oMTUpXG5cdCwgICAgTGluZSA9IF9fd2VicGFja19yZXF1aXJlX18oNTcpXG5cdCwgICAgUGxhbmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMwKVxuXHQsICAgIENhcHN1bGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDU2KVxuXHQsICAgIFBhcnRpY2xlID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOSlcblx0LCAgICBFdmVudEVtaXR0ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIwKVxuXHQsICAgIEJvZHkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpXG5cdCwgICAgU2hhcGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpXG5cdCwgICAgTGluZWFyU3ByaW5nID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1Mylcblx0LCAgICBNYXRlcmlhbCA9IF9fd2VicGFja19yZXF1aXJlX18oMjcpXG5cdCwgICAgQ29udGFjdE1hdGVyaWFsID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1Milcblx0LCAgICBEaXN0YW5jZUNvbnN0cmFpbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ0KVxuXHQsICAgIENvbnN0cmFpbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpXG5cdCwgICAgTG9ja0NvbnN0cmFpbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ2KVxuXHQsICAgIFJldm9sdXRlQ29uc3RyYWludCA9IF9fd2VicGFja19yZXF1aXJlX18oNDgpXG5cdCwgICAgUHJpc21hdGljQ29uc3RyYWludCA9IF9fd2VicGFja19yZXF1aXJlX18oNDcpXG5cdCwgICAgR2VhckNvbnN0cmFpbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQ1KVxuXHQsICAgIHBrZyA9IF9fd2VicGFja19yZXF1aXJlX18oMzQpXG5cdCwgICAgQnJvYWRwaGFzZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTcpXG5cdCwgICAgQUFCQiA9IF9fd2VicGFja19yZXF1aXJlX18oMTYpXG5cdCwgICAgU0FQQnJvYWRwaGFzZSA9IF9fd2VicGFja19yZXF1aXJlX18oNDMpXG5cdCwgICAgTmFycm93cGhhc2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQyKVxuXHQsICAgIFV0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKVxuXHQsICAgIE92ZXJsYXBLZWVwZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExMSlcblx0LCAgICBJc2xhbmRNYW5hZ2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTMpXG5cdCwgICAgUm90YXRpb25hbFNwcmluZyA9IF9fd2VicGFja19yZXF1aXJlX18oNTQpO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBXb3JsZDtcblx0XG5cdC8qKlxuXHQgKiBUaGUgZHluYW1pY3Mgd29ybGQsIHdoZXJlIGFsbCBib2RpZXMgYW5kIGNvbnN0cmFpbnRzIGxpdmUuXG5cdCAqXG5cdCAqIEBjbGFzcyBXb3JsZFxuXHQgKiBAY29uc3RydWN0b3Jcblx0ICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuXHQgKiBAcGFyYW0ge1NvbHZlcn0gW29wdGlvbnMuc29sdmVyXSBEZWZhdWx0cyB0byBHU1NvbHZlci5cblx0ICogQHBhcmFtIHtBcnJheX0gW29wdGlvbnMuZ3Jhdml0eV0gRGVmYXVsdHMgdG8geT0tOS43OC5cblx0ICogQHBhcmFtIHtCcm9hZHBoYXNlfSBbb3B0aW9ucy5icm9hZHBoYXNlXSBEZWZhdWx0cyB0byBTQVBCcm9hZHBoYXNlXG5cdCAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuaXNsYW5kU3BsaXQ9dHJ1ZV1cblx0ICogQGV4dGVuZHMgRXZlbnRFbWl0dGVyXG5cdCAqXG5cdCAqIEBleGFtcGxlXG5cdCAqICAgICB2YXIgd29ybGQgPSBuZXcgV29ybGQoe1xuXHQgKiAgICAgICAgIGdyYXZpdHk6IFswLCAtMTBdLFxuXHQgKiAgICAgICAgIGJyb2FkcGhhc2U6IG5ldyBTQVBCcm9hZHBoYXNlKClcblx0ICogICAgIH0pO1xuXHQgKiAgICAgd29ybGQuYWRkQm9keShuZXcgQm9keSgpKTtcblx0ICovXG5cdGZ1bmN0aW9uIFdvcmxkKG9wdGlvbnMpe1xuXHQgICAgRXZlbnRFbWl0dGVyLmFwcGx5KHRoaXMpO1xuXHRcblx0ICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQWxsIHNwcmluZ3MgaW4gdGhlIHdvcmxkLiBUbyBhZGQgYSBzcHJpbmcgdG8gdGhlIHdvcmxkLCB1c2Uge3sjY3Jvc3NMaW5rIFwiV29ybGQvYWRkU3ByaW5nOm1ldGhvZFwifX17ey9jcm9zc0xpbmt9fS5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJvcGVydHkgc3ByaW5nc1xuXHQgICAgICogQHR5cGUge0FycmF5fVxuXHQgICAgICovXG5cdCAgICB0aGlzLnNwcmluZ3MgPSBbXTtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIEFsbCBib2RpZXMgaW4gdGhlIHdvcmxkLiBUbyBhZGQgYSBib2R5IHRvIHRoZSB3b3JsZCwgdXNlIHt7I2Nyb3NzTGluayBcIldvcmxkL2FkZEJvZHk6bWV0aG9kXCJ9fXt7L2Nyb3NzTGlua319LlxuXHQgICAgICogQHByb3BlcnR5IHtBcnJheX0gYm9kaWVzXG5cdCAgICAgKi9cblx0ICAgIHRoaXMuYm9kaWVzID0gW107XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBEaXNhYmxlZCBib2R5IGNvbGxpc2lvbiBwYWlycy4gU2VlIHt7I2Nyb3NzTGluayBcIldvcmxkL2Rpc2FibGVCb2R5Q29sbGlzaW9uOm1ldGhvZFwifX0uXG5cdCAgICAgKiBAcHJpdmF0ZVxuXHQgICAgICogQHByb3BlcnR5IHtBcnJheX0gZGlzYWJsZWRCb2R5Q29sbGlzaW9uUGFpcnNcblx0ICAgICAqL1xuXHQgICAgdGhpcy5kaXNhYmxlZEJvZHlDb2xsaXNpb25QYWlycyA9IFtdO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVGhlIHNvbHZlciB1c2VkIHRvIHNhdGlzZnkgY29uc3RyYWludHMgYW5kIGNvbnRhY3RzLiBEZWZhdWx0IGlzIHt7I2Nyb3NzTGluayBcIkdTU29sdmVyXCJ9fXt7L2Nyb3NzTGlua319LlxuXHQgICAgICogQHByb3BlcnR5IHtTb2x2ZXJ9IHNvbHZlclxuXHQgICAgICovXG5cdCAgICB0aGlzLnNvbHZlciA9IG9wdGlvbnMuc29sdmVyIHx8IG5ldyBHU1NvbHZlcigpO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogVGhlIG5hcnJvd3BoYXNlIHRvIHVzZSB0byBnZW5lcmF0ZSBjb250YWN0cy5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJvcGVydHkgbmFycm93cGhhc2Vcblx0ICAgICAqIEB0eXBlIHtOYXJyb3dwaGFzZX1cblx0ICAgICAqL1xuXHQgICAgdGhpcy5uYXJyb3dwaGFzZSA9IG5ldyBOYXJyb3dwaGFzZSh0aGlzKTtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIFRoZSBpc2xhbmQgbWFuYWdlciBvZiB0aGlzIHdvcmxkLlxuXHQgICAgICogQHByb3BlcnR5IHtJc2xhbmRNYW5hZ2VyfSBpc2xhbmRNYW5hZ2VyXG5cdCAgICAgKi9cblx0ICAgIHRoaXMuaXNsYW5kTWFuYWdlciA9IG5ldyBJc2xhbmRNYW5hZ2VyKCk7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBHcmF2aXR5IGluIHRoZSB3b3JsZC4gVGhpcyBpcyBhcHBsaWVkIG9uIGFsbCBib2RpZXMgaW4gdGhlIGJlZ2lubmluZyBvZiBlYWNoIHN0ZXAoKS5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJvcGVydHkgZ3Jhdml0eVxuXHQgICAgICogQHR5cGUge0FycmF5fVxuXHQgICAgICovXG5cdCAgICB0aGlzLmdyYXZpdHkgPSB2ZWMyLmZyb21WYWx1ZXMoMCwgLTkuNzgpO1xuXHQgICAgaWYob3B0aW9ucy5ncmF2aXR5KXtcblx0ICAgICAgICB2ZWMyLmNvcHkodGhpcy5ncmF2aXR5LCBvcHRpb25zLmdyYXZpdHkpO1xuXHQgICAgfVxuXHRcblx0ICAgIC8qKlxuXHQgICAgICogR3Jhdml0eSB0byB1c2Ugd2hlbiBhcHByb3hpbWF0aW5nIHRoZSBmcmljdGlvbiBtYXggZm9yY2UgKG11Km1hc3MqZ3Jhdml0eSkuXG5cdCAgICAgKiBAcHJvcGVydHkge051bWJlcn0gZnJpY3Rpb25HcmF2aXR5XG5cdCAgICAgKi9cblx0ICAgIHRoaXMuZnJpY3Rpb25HcmF2aXR5ID0gdmVjMi5sZW5ndGgodGhpcy5ncmF2aXR5KSB8fCAxMDtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIFNldCB0byB0cnVlIGlmIHlvdSB3YW50IC5mcmljdGlvbkdyYXZpdHkgdG8gYmUgYXV0b21hdGljYWxseSBzZXQgdG8gdGhlIGxlbmd0aCBvZiAuZ3Jhdml0eS5cblx0ICAgICAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gdXNlV29ybGRHcmF2aXR5QXNGcmljdGlvbkdyYXZpdHlcblx0ICAgICAqIEBkZWZhdWx0IHRydWVcblx0ICAgICAqL1xuXHQgICAgdGhpcy51c2VXb3JsZEdyYXZpdHlBc0ZyaWN0aW9uR3Jhdml0eSA9IHRydWU7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBJZiB0aGUgbGVuZ3RoIG9mIC5ncmF2aXR5IGlzIHplcm8sIGFuZCAudXNlV29ybGRHcmF2aXR5QXNGcmljdGlvbkdyYXZpdHk9dHJ1ZSwgdGhlbiBzd2l0Y2ggdG8gdXNpbmcgLmZyaWN0aW9uR3Jhdml0eSBmb3IgZnJpY3Rpb24gaW5zdGVhZC4gVGhpcyBmYWxsYmFjayBpcyB1c2VmdWwgZm9yIGdyYXZpdHlsZXNzIGdhbWVzLlxuXHQgICAgICogQHByb3BlcnR5IHtCb29sZWFufSB1c2VGcmljdGlvbkdyYXZpdHlPblplcm9HcmF2aXR5XG5cdCAgICAgKiBAZGVmYXVsdCB0cnVlXG5cdCAgICAgKi9cblx0ICAgIHRoaXMudXNlRnJpY3Rpb25HcmF2aXR5T25aZXJvR3Jhdml0eSA9IHRydWU7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGUgYnJvYWRwaGFzZSBhbGdvcml0aG0gdG8gdXNlLlxuXHQgICAgICpcblx0ICAgICAqIEBwcm9wZXJ0eSBicm9hZHBoYXNlXG5cdCAgICAgKiBAdHlwZSB7QnJvYWRwaGFzZX1cblx0ICAgICAqL1xuXHQgICAgdGhpcy5icm9hZHBoYXNlID0gb3B0aW9ucy5icm9hZHBoYXNlIHx8IG5ldyBTQVBCcm9hZHBoYXNlKCk7XG5cdCAgICB0aGlzLmJyb2FkcGhhc2Uuc2V0V29ybGQodGhpcyk7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBVc2VyLWFkZGVkIGNvbnN0cmFpbnRzLlxuXHQgICAgICpcblx0ICAgICAqIEBwcm9wZXJ0eSBjb25zdHJhaW50c1xuXHQgICAgICogQHR5cGUge0FycmF5fVxuXHQgICAgICovXG5cdCAgICB0aGlzLmNvbnN0cmFpbnRzID0gW107XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBEdW1teSBkZWZhdWx0IG1hdGVyaWFsIGluIHRoZSB3b3JsZCwgdXNlZCBpbiAuZGVmYXVsdENvbnRhY3RNYXRlcmlhbFxuXHQgICAgICogQHByb3BlcnR5IHtNYXRlcmlhbH0gZGVmYXVsdE1hdGVyaWFsXG5cdCAgICAgKi9cblx0ICAgIHRoaXMuZGVmYXVsdE1hdGVyaWFsID0gbmV3IE1hdGVyaWFsKCk7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBUaGUgZGVmYXVsdCBjb250YWN0IG1hdGVyaWFsIHRvIHVzZSwgaWYgbm8gY29udGFjdCBtYXRlcmlhbCB3YXMgc2V0IGZvciB0aGUgY29sbGlkaW5nIG1hdGVyaWFscy5cblx0ICAgICAqIEBwcm9wZXJ0eSB7Q29udGFjdE1hdGVyaWFsfSBkZWZhdWx0Q29udGFjdE1hdGVyaWFsXG5cdCAgICAgKi9cblx0ICAgIHRoaXMuZGVmYXVsdENvbnRhY3RNYXRlcmlhbCA9IG5ldyBDb250YWN0TWF0ZXJpYWwodGhpcy5kZWZhdWx0TWF0ZXJpYWwsdGhpcy5kZWZhdWx0TWF0ZXJpYWwpO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogRm9yIGtlZXBpbmcgdHJhY2sgb2Ygd2hhdCB0aW1lIHN0ZXAgc2l6ZSB3ZSB1c2VkIGxhc3Qgc3RlcFxuXHQgICAgICogQHByb3BlcnR5IGxhc3RUaW1lU3RlcFxuXHQgICAgICogQHR5cGUge051bWJlcn1cblx0ICAgICAqL1xuXHQgICAgdGhpcy5sYXN0VGltZVN0ZXAgPSAxLzYwO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogRW5hYmxlIHRvIGF1dG9tYXRpY2FsbHkgYXBwbHkgc3ByaW5nIGZvcmNlcyBlYWNoIHN0ZXAuXG5cdCAgICAgKiBAcHJvcGVydHkgYXBwbHlTcHJpbmdGb3JjZXNcblx0ICAgICAqIEB0eXBlIHtCb29sZWFufVxuXHQgICAgICogQGRlZmF1bHQgdHJ1ZVxuXHQgICAgICovXG5cdCAgICB0aGlzLmFwcGx5U3ByaW5nRm9yY2VzID0gdHJ1ZTtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIEVuYWJsZSB0byBhdXRvbWF0aWNhbGx5IGFwcGx5IGJvZHkgZGFtcGluZyBlYWNoIHN0ZXAuXG5cdCAgICAgKiBAcHJvcGVydHkgYXBwbHlEYW1waW5nXG5cdCAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cblx0ICAgICAqIEBkZWZhdWx0IHRydWVcblx0ICAgICAqL1xuXHQgICAgdGhpcy5hcHBseURhbXBpbmcgPSB0cnVlO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogRW5hYmxlIHRvIGF1dG9tYXRpY2FsbHkgYXBwbHkgZ3Jhdml0eSBlYWNoIHN0ZXAuXG5cdCAgICAgKiBAcHJvcGVydHkgYXBwbHlHcmF2aXR5XG5cdCAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cblx0ICAgICAqIEBkZWZhdWx0IHRydWVcblx0ICAgICAqL1xuXHQgICAgdGhpcy5hcHBseUdyYXZpdHkgPSB0cnVlO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogRW5hYmxlL2Rpc2FibGUgY29uc3RyYWludCBzb2x2aW5nIGluIGVhY2ggc3RlcC5cblx0ICAgICAqIEBwcm9wZXJ0eSBzb2x2ZUNvbnN0cmFpbnRzXG5cdCAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cblx0ICAgICAqIEBkZWZhdWx0IHRydWVcblx0ICAgICAqL1xuXHQgICAgdGhpcy5zb2x2ZUNvbnN0cmFpbnRzID0gdHJ1ZTtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIFRoZSBDb250YWN0TWF0ZXJpYWxzIGFkZGVkIHRvIHRoZSBXb3JsZC5cblx0ICAgICAqIEBwcm9wZXJ0eSBjb250YWN0TWF0ZXJpYWxzXG5cdCAgICAgKiBAdHlwZSB7QXJyYXl9XG5cdCAgICAgKi9cblx0ICAgIHRoaXMuY29udGFjdE1hdGVyaWFscyA9IFtdO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogV29ybGQgdGltZS5cblx0ICAgICAqIEBwcm9wZXJ0eSB0aW1lXG5cdCAgICAgKiBAdHlwZSB7TnVtYmVyfVxuXHQgICAgICovXG5cdCAgICB0aGlzLnRpbWUgPSAwLjA7XG5cdCAgICB0aGlzLmFjY3VtdWxhdG9yID0gMDtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIElzIHRydWUgZHVyaW5nIHN0ZXAoKS5cblx0ICAgICAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gc3RlcHBpbmdcblx0ICAgICAqL1xuXHQgICAgdGhpcy5zdGVwcGluZyA9IGZhbHNlO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogQm9kaWVzIHRoYXQgYXJlIHNjaGVkdWxlZCB0byBiZSByZW1vdmVkIGF0IHRoZSBlbmQgb2YgdGhlIHN0ZXAuXG5cdCAgICAgKiBAcHJvcGVydHkge0FycmF5fSBib2RpZXNUb0JlUmVtb3ZlZFxuXHQgICAgICogQHByaXZhdGVcblx0ICAgICAqL1xuXHQgICAgdGhpcy5ib2RpZXNUb0JlUmVtb3ZlZCA9IFtdO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogV2hldGhlciB0byBlbmFibGUgaXNsYW5kIHNwbGl0dGluZy4gSXNsYW5kIHNwbGl0dGluZyBjYW4gYmUgYW4gYWR2YW50YWdlIGZvciBib3RoIHByZWNpc2lvbiBhbmQgcGVyZm9ybWFuY2UuIFNlZSB7eyNjcm9zc0xpbmsgXCJJc2xhbmRNYW5hZ2VyXCJ9fXt7L2Nyb3NzTGlua319LlxuXHQgICAgICogQHByb3BlcnR5IHtCb29sZWFufSBpc2xhbmRTcGxpdFxuXHQgICAgICogQGRlZmF1bHQgdHJ1ZVxuXHQgICAgICovXG5cdCAgICB0aGlzLmlzbGFuZFNwbGl0ID0gdHlwZW9mKG9wdGlvbnMuaXNsYW5kU3BsaXQpIT09XCJ1bmRlZmluZWRcIiA/ICEhb3B0aW9ucy5pc2xhbmRTcGxpdCA6IHRydWU7XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBTZXQgdG8gdHJ1ZSBpZiB5b3Ugd2FudCB0byB0aGUgd29ybGQgdG8gZW1pdCB0aGUgXCJpbXBhY3RcIiBldmVudC4gVHVybmluZyB0aGlzIG9mZiBjb3VsZCBpbXByb3ZlIHBlcmZvcm1hbmNlLlxuXHQgICAgICogQHByb3BlcnR5IGVtaXRJbXBhY3RFdmVudFxuXHQgICAgICogQHR5cGUge0Jvb2xlYW59XG5cdCAgICAgKiBAZGVmYXVsdCB0cnVlXG5cdCAgICAgKi9cblx0ICAgIHRoaXMuZW1pdEltcGFjdEV2ZW50ID0gdHJ1ZTtcblx0XG5cdCAgICAvLyBJZCBjb3VudGVyc1xuXHQgICAgdGhpcy5fY29uc3RyYWludElkQ291bnRlciA9IDA7XG5cdCAgICB0aGlzLl9ib2R5SWRDb3VudGVyID0gMDtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIEZpcmVkIGFmdGVyIHRoZSBzdGVwKCkuXG5cdCAgICAgKiBAZXZlbnQgcG9zdFN0ZXBcblx0ICAgICAqL1xuXHQgICAgdGhpcy5wb3N0U3RlcEV2ZW50ID0ge1xuXHQgICAgICAgIHR5cGUgOiBcInBvc3RTdGVwXCJcblx0ICAgIH07XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBGaXJlZCB3aGVuIGEgYm9keSBpcyBhZGRlZCB0byB0aGUgd29ybGQuXG5cdCAgICAgKiBAZXZlbnQgYWRkQm9keVxuXHQgICAgICogQHBhcmFtIHtCb2R5fSBib2R5XG5cdCAgICAgKi9cblx0ICAgIHRoaXMuYWRkQm9keUV2ZW50ID0ge1xuXHQgICAgICAgIHR5cGUgOiBcImFkZEJvZHlcIixcblx0ICAgICAgICBib2R5IDogbnVsbFxuXHQgICAgfTtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIEZpcmVkIHdoZW4gYSBib2R5IGlzIHJlbW92ZWQgZnJvbSB0aGUgd29ybGQuXG5cdCAgICAgKiBAZXZlbnQgcmVtb3ZlQm9keVxuXHQgICAgICogQHBhcmFtIHtCb2R5fSBib2R5XG5cdCAgICAgKi9cblx0ICAgIHRoaXMucmVtb3ZlQm9keUV2ZW50ID0ge1xuXHQgICAgICAgIHR5cGUgOiBcInJlbW92ZUJvZHlcIixcblx0ICAgICAgICBib2R5IDogbnVsbFxuXHQgICAgfTtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIEZpcmVkIHdoZW4gYSBzcHJpbmcgaXMgYWRkZWQgdG8gdGhlIHdvcmxkLlxuXHQgICAgICogQGV2ZW50IGFkZFNwcmluZ1xuXHQgICAgICogQHBhcmFtIHtTcHJpbmd9IHNwcmluZ1xuXHQgICAgICovXG5cdCAgICB0aGlzLmFkZFNwcmluZ0V2ZW50ID0ge1xuXHQgICAgICAgIHR5cGUgOiBcImFkZFNwcmluZ1wiLFxuXHQgICAgICAgIHNwcmluZyA6IG51bGxcblx0ICAgIH07XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBGaXJlZCB3aGVuIGEgZmlyc3QgY29udGFjdCBpcyBjcmVhdGVkIGJldHdlZW4gdHdvIGJvZGllcy4gVGhpcyBldmVudCBpcyBmaXJlZCBhZnRlciB0aGUgc3RlcCBoYXMgYmVlbiBkb25lLlxuXHQgICAgICogQGV2ZW50IGltcGFjdFxuXHQgICAgICogQHBhcmFtIHtCb2R5fSBib2R5QVxuXHQgICAgICogQHBhcmFtIHtCb2R5fSBib2R5QlxuXHQgICAgICovXG5cdCAgICB0aGlzLmltcGFjdEV2ZW50ID0ge1xuXHQgICAgICAgIHR5cGU6IFwiaW1wYWN0XCIsXG5cdCAgICAgICAgYm9keUEgOiBudWxsLFxuXHQgICAgICAgIGJvZHlCIDogbnVsbCxcblx0ICAgICAgICBzaGFwZUEgOiBudWxsLFxuXHQgICAgICAgIHNoYXBlQiA6IG51bGwsXG5cdCAgICAgICAgY29udGFjdEVxdWF0aW9uIDogbnVsbFxuXHQgICAgfTtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIEZpcmVkIGFmdGVyIHRoZSBCcm9hZHBoYXNlIGhhcyBjb2xsZWN0ZWQgY29sbGlzaW9uIHBhaXJzIGluIHRoZSB3b3JsZC5cblx0ICAgICAqIEluc2lkZSB0aGUgZXZlbnQgaGFuZGxlciwgeW91IGNhbiBtb2RpZnkgdGhlIHBhaXJzIGFycmF5IGFzIHlvdSBsaWtlLCB0b1xuXHQgICAgICogcHJldmVudCBjb2xsaXNpb25zIGJldHdlZW4gb2JqZWN0cyB0aGF0IHlvdSBkb24ndCB3YW50LlxuXHQgICAgICogQGV2ZW50IHBvc3RCcm9hZHBoYXNlXG5cdCAgICAgKiBAcGFyYW0ge0FycmF5fSBwYWlycyBBbiBhcnJheSBvZiBjb2xsaXNpb24gcGFpcnMuIElmIHRoaXMgYXJyYXkgaXMgW2JvZHkxLGJvZHkyLGJvZHkzLGJvZHk0XSwgdGhlbiB0aGUgYm9keSBwYWlycyAxLDIgYW5kIDMsNCB3b3VsZCBhZHZhbmNlIHRvIG5hcnJvd3BoYXNlLlxuXHQgICAgICovXG5cdCAgICB0aGlzLnBvc3RCcm9hZHBoYXNlRXZlbnQgPSB7XG5cdCAgICAgICAgdHlwZTogXCJwb3N0QnJvYWRwaGFzZVwiLFxuXHQgICAgICAgIHBhaXJzOiBudWxsXG5cdCAgICB9O1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogSG93IHRvIGRlYWN0aXZhdGUgYm9kaWVzIGR1cmluZyBzaW11bGF0aW9uLiBQb3NzaWJsZSBtb2RlcyBhcmU6IHt7I2Nyb3NzTGluayBcIldvcmxkL05PX1NMRUVQSU5HOnByb3BlcnR5XCJ9fVdvcmxkLk5PX1NMRUVQSU5He3svY3Jvc3NMaW5rfX0sIHt7I2Nyb3NzTGluayBcIldvcmxkL0JPRFlfU0xFRVBJTkc6cHJvcGVydHlcIn19V29ybGQuQk9EWV9TTEVFUElOR3t7L2Nyb3NzTGlua319IGFuZCB7eyNjcm9zc0xpbmsgXCJXb3JsZC9JU0xBTkRfU0xFRVBJTkc6cHJvcGVydHlcIn19V29ybGQuSVNMQU5EX1NMRUVQSU5He3svY3Jvc3NMaW5rfX0uXG5cdCAgICAgKiBJZiBzbGVlcGluZyBpcyBlbmFibGVkLCB5b3UgbWlnaHQgbmVlZCB0byB7eyNjcm9zc0xpbmsgXCJCb2R5L3dha2VVcDptZXRob2RcIn19d2FrZSB1cHt7L2Nyb3NzTGlua319IHRoZSBib2RpZXMgaWYgdGhleSBmYWxsIGFzbGVlcCB3aGVuIHRoZXkgc2hvdWxkbid0LiBJZiB5b3Ugd2FudCB0byBlbmFibGUgc2xlZXBpbmcgaW4gdGhlIHdvcmxkLCBidXQgd2FudCB0byBkaXNhYmxlIGl0IGZvciBhIHBhcnRpY3VsYXIgYm9keSwgc2VlIHt7I2Nyb3NzTGluayBcIkJvZHkvYWxsb3dTbGVlcDpwcm9wZXJ0eVwifX1Cb2R5LmFsbG93U2xlZXB7ey9jcm9zc0xpbmt9fS5cblx0ICAgICAqIEBwcm9wZXJ0eSBzbGVlcE1vZGVcblx0ICAgICAqIEB0eXBlIHtudW1iZXJ9XG5cdCAgICAgKiBAZGVmYXVsdCBXb3JsZC5OT19TTEVFUElOR1xuXHQgICAgICovXG5cdCAgICB0aGlzLnNsZWVwTW9kZSA9IFdvcmxkLk5PX1NMRUVQSU5HO1xuXHRcblx0ICAgIC8qKlxuXHQgICAgICogRmlyZWQgd2hlbiB0d28gc2hhcGVzIHN0YXJ0cyBzdGFydCB0byBvdmVybGFwLiBGaXJlZCBpbiB0aGUgbmFycm93cGhhc2UsIGR1cmluZyBzdGVwLlxuXHQgICAgICogQGV2ZW50IGJlZ2luQ29udGFjdFxuXHQgICAgICogQHBhcmFtIHtTaGFwZX0gc2hhcGVBXG5cdCAgICAgKiBAcGFyYW0ge1NoYXBlfSBzaGFwZUJcblx0ICAgICAqIEBwYXJhbSB7Qm9keX0gIGJvZHlBXG5cdCAgICAgKiBAcGFyYW0ge0JvZHl9ICBib2R5QlxuXHQgICAgICogQHBhcmFtIHtBcnJheX0gY29udGFjdEVxdWF0aW9uc1xuXHQgICAgICovXG5cdCAgICB0aGlzLmJlZ2luQ29udGFjdEV2ZW50ID0ge1xuXHQgICAgICAgIHR5cGU6IFwiYmVnaW5Db250YWN0XCIsXG5cdCAgICAgICAgc2hhcGVBOiBudWxsLFxuXHQgICAgICAgIHNoYXBlQjogbnVsbCxcblx0ICAgICAgICBib2R5QTogbnVsbCxcblx0ICAgICAgICBib2R5QjogbnVsbCxcblx0ICAgICAgICBjb250YWN0RXF1YXRpb25zOiBbXVxuXHQgICAgfTtcblx0XG5cdCAgICAvKipcblx0ICAgICAqIEZpcmVkIHdoZW4gdHdvIHNoYXBlcyBzdG9wIG92ZXJsYXBwaW5nLCBhZnRlciB0aGUgbmFycm93cGhhc2UgKGR1cmluZyBzdGVwKS5cblx0ICAgICAqIEBldmVudCBlbmRDb250YWN0XG5cdCAgICAgKiBAcGFyYW0ge1NoYXBlfSBzaGFwZUFcblx0ICAgICAqIEBwYXJhbSB7U2hhcGV9IHNoYXBlQlxuXHQgICAgICogQHBhcmFtIHtCb2R5fSAgYm9keUFcblx0ICAgICAqIEBwYXJhbSB7Qm9keX0gIGJvZHlCXG5cdCAgICAgKi9cblx0ICAgIHRoaXMuZW5kQ29udGFjdEV2ZW50ID0ge1xuXHQgICAgICAgIHR5cGU6IFwiZW5kQ29udGFjdFwiLFxuXHQgICAgICAgIHNoYXBlQTogbnVsbCxcblx0ICAgICAgICBzaGFwZUI6IG51bGwsXG5cdCAgICAgICAgYm9keUE6IG51bGwsXG5cdCAgICAgICAgYm9keUI6IG51bGxcblx0ICAgIH07XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBGaXJlZCBqdXN0IGJlZm9yZSBlcXVhdGlvbnMgYXJlIGFkZGVkIHRvIHRoZSBzb2x2ZXIgdG8gYmUgc29sdmVkLiBDYW4gYmUgdXNlZCB0byBjb250cm9sIHdoYXQgZXF1YXRpb25zIGdvZXMgaW50byB0aGUgc29sdmVyLlxuXHQgICAgICogQGV2ZW50IHByZVNvbHZlXG5cdCAgICAgKiBAcGFyYW0ge0FycmF5fSBjb250YWN0RXF1YXRpb25zICBBbiBhcnJheSBvZiBjb250YWN0cyB0byBiZSBzb2x2ZWQuXG5cdCAgICAgKiBAcGFyYW0ge0FycmF5fSBmcmljdGlvbkVxdWF0aW9ucyBBbiBhcnJheSBvZiBmcmljdGlvbiBlcXVhdGlvbnMgdG8gYmUgc29sdmVkLlxuXHQgICAgICovXG5cdCAgICB0aGlzLnByZVNvbHZlRXZlbnQgPSB7XG5cdCAgICAgICAgdHlwZTogXCJwcmVTb2x2ZVwiLFxuXHQgICAgICAgIGNvbnRhY3RFcXVhdGlvbnM6IG51bGwsXG5cdCAgICAgICAgZnJpY3Rpb25FcXVhdGlvbnM6IG51bGxcblx0ICAgIH07XG5cdFxuXHQgICAgLy8gRm9yIGtlZXBpbmcgdHJhY2sgb2Ygb3ZlcmxhcHBpbmcgc2hhcGVzXG5cdCAgICB0aGlzLm92ZXJsYXBwaW5nU2hhcGVzTGFzdFN0YXRlID0geyBrZXlzOltdIH07XG5cdCAgICB0aGlzLm92ZXJsYXBwaW5nU2hhcGVzQ3VycmVudFN0YXRlID0geyBrZXlzOltdIH07XG5cdFxuXHQgICAgLyoqXG5cdCAgICAgKiBAcHJvcGVydHkge092ZXJsYXBLZWVwZXJ9IG92ZXJsYXBLZWVwZXJcblx0ICAgICAqL1xuXHQgICAgdGhpcy5vdmVybGFwS2VlcGVyID0gbmV3IE92ZXJsYXBLZWVwZXIoKTtcblx0fVxuXHRXb3JsZC5wcm90b3R5cGUgPSBuZXcgT2JqZWN0KEV2ZW50RW1pdHRlci5wcm90b3R5cGUpO1xuXHRXb3JsZC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBXb3JsZDtcblx0XG5cdC8qKlxuXHQgKiBOZXZlciBkZWFjdGl2YXRlIGJvZGllcy5cblx0ICogQHN0YXRpY1xuXHQgKiBAcHJvcGVydHkge251bWJlcn0gTk9fU0xFRVBJTkdcblx0ICovXG5cdFdvcmxkLk5PX1NMRUVQSU5HID0gMTtcblx0XG5cdC8qKlxuXHQgKiBEZWFjdGl2YXRlIGluZGl2aWR1YWwgYm9kaWVzIGlmIHRoZXkgYXJlIHNsZWVweS5cblx0ICogQHN0YXRpY1xuXHQgKiBAcHJvcGVydHkge251bWJlcn0gQk9EWV9TTEVFUElOR1xuXHQgKi9cblx0V29ybGQuQk9EWV9TTEVFUElORyA9IDI7XG5cdFxuXHQvKipcblx0ICogRGVhY3RpdmF0ZXMgYm9kaWVzIHRoYXQgYXJlIGluIGNvbnRhY3QsIGlmIGFsbCBvZiB0aGVtIGFyZSBzbGVlcHkuIE5vdGUgdGhhdCB5b3UgbXVzdCBlbmFibGUge3sjY3Jvc3NMaW5rIFwiV29ybGQvaXNsYW5kU3BsaXQ6cHJvcGVydHlcIn19LmlzbGFuZFNwbGl0e3svY3Jvc3NMaW5rfX0gZm9yIHRoaXMgdG8gd29yay5cblx0ICogQHN0YXRpY1xuXHQgKiBAcHJvcGVydHkge251bWJlcn0gSVNMQU5EX1NMRUVQSU5HXG5cdCAqL1xuXHRXb3JsZC5JU0xBTkRfU0xFRVBJTkcgPSA0O1xuXHRcblx0LyoqXG5cdCAqIEFkZCBhIGNvbnN0cmFpbnQgdG8gdGhlIHNpbXVsYXRpb24uXG5cdCAqXG5cdCAqIEBtZXRob2QgYWRkQ29uc3RyYWludFxuXHQgKiBAcGFyYW0ge0NvbnN0cmFpbnR9IGNvbnN0cmFpbnRcblx0ICogQGV4YW1wbGVcblx0ICogICAgIHZhciBjb25zdHJhaW50ID0gbmV3IExvY2tDb25zdHJhaW50KGJvZHlBLCBib2R5Qik7XG5cdCAqICAgICB3b3JsZC5hZGRDb25zdHJhaW50KGNvbnN0cmFpbnQpO1xuXHQgKi9cblx0V29ybGQucHJvdG90eXBlLmFkZENvbnN0cmFpbnQgPSBmdW5jdGlvbihjb25zdHJhaW50KXtcblx0ICAgIHRoaXMuY29uc3RyYWludHMucHVzaChjb25zdHJhaW50KTtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBBZGQgYSBDb250YWN0TWF0ZXJpYWwgdG8gdGhlIHNpbXVsYXRpb24uXG5cdCAqIEBtZXRob2QgYWRkQ29udGFjdE1hdGVyaWFsXG5cdCAqIEBwYXJhbSB7Q29udGFjdE1hdGVyaWFsfSBjb250YWN0TWF0ZXJpYWxcblx0ICovXG5cdFdvcmxkLnByb3RvdHlwZS5hZGRDb250YWN0TWF0ZXJpYWwgPSBmdW5jdGlvbihjb250YWN0TWF0ZXJpYWwpe1xuXHQgICAgdGhpcy5jb250YWN0TWF0ZXJpYWxzLnB1c2goY29udGFjdE1hdGVyaWFsKTtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBSZW1vdmVzIGEgY29udGFjdCBtYXRlcmlhbFxuXHQgKlxuXHQgKiBAbWV0aG9kIHJlbW92ZUNvbnRhY3RNYXRlcmlhbFxuXHQgKiBAcGFyYW0ge0NvbnRhY3RNYXRlcmlhbH0gY21cblx0ICovXG5cdFdvcmxkLnByb3RvdHlwZS5yZW1vdmVDb250YWN0TWF0ZXJpYWwgPSBmdW5jdGlvbihjbSl7XG5cdCAgICB2YXIgaWR4ID0gdGhpcy5jb250YWN0TWF0ZXJpYWxzLmluZGV4T2YoY20pO1xuXHQgICAgaWYoaWR4IT09LTEpe1xuXHQgICAgICAgIFV0aWxzLnNwbGljZSh0aGlzLmNvbnRhY3RNYXRlcmlhbHMsaWR4LDEpO1xuXHQgICAgfVxuXHR9O1xuXHRcblx0LyoqXG5cdCAqIEdldCBhIGNvbnRhY3QgbWF0ZXJpYWwgZ2l2ZW4gdHdvIG1hdGVyaWFsc1xuXHQgKiBAbWV0aG9kIGdldENvbnRhY3RNYXRlcmlhbFxuXHQgKiBAcGFyYW0ge01hdGVyaWFsfSBtYXRlcmlhbEFcblx0ICogQHBhcmFtIHtNYXRlcmlhbH0gbWF0ZXJpYWxCXG5cdCAqIEByZXR1cm4ge0NvbnRhY3RNYXRlcmlhbH0gVGhlIG1hdGNoaW5nIENvbnRhY3RNYXRlcmlhbCwgb3IgZmFsc2Ugb24gZmFpbC5cblx0ICogQHRvZG8gVXNlIGZhc3RlciBoYXNoIG1hcCB0byBsb29rdXAgZnJvbSBtYXRlcmlhbCBpZCdzXG5cdCAqL1xuXHRXb3JsZC5wcm90b3R5cGUuZ2V0Q29udGFjdE1hdGVyaWFsID0gZnVuY3Rpb24obWF0ZXJpYWxBLG1hdGVyaWFsQil7XG5cdCAgICB2YXIgY21hdHMgPSB0aGlzLmNvbnRhY3RNYXRlcmlhbHM7XG5cdCAgICBmb3IodmFyIGk9MCwgTj1jbWF0cy5sZW5ndGg7IGkhPT1OOyBpKyspe1xuXHQgICAgICAgIHZhciBjbSA9IGNtYXRzW2ldO1xuXHQgICAgICAgIGlmKCAoY20ubWF0ZXJpYWxBLmlkID09PSBtYXRlcmlhbEEuaWQpICYmIChjbS5tYXRlcmlhbEIuaWQgPT09IG1hdGVyaWFsQi5pZCkgfHxcblx0ICAgICAgICAgICAgKGNtLm1hdGVyaWFsQS5pZCA9PT0gbWF0ZXJpYWxCLmlkKSAmJiAoY20ubWF0ZXJpYWxCLmlkID09PSBtYXRlcmlhbEEuaWQpICl7XG5cdCAgICAgICAgICAgIHJldHVybiBjbTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICByZXR1cm4gZmFsc2U7XG5cdH07XG5cdFxuXHQvKipcblx0ICogUmVtb3ZlcyBhIGNvbnN0cmFpbnRcblx0ICpcblx0ICogQG1ldGhvZCByZW1vdmVDb25zdHJhaW50XG5cdCAqIEBwYXJhbSB7Q29uc3RyYWludH0gY29uc3RyYWludFxuXHQgKi9cblx0V29ybGQucHJvdG90eXBlLnJlbW92ZUNvbnN0cmFpbnQgPSBmdW5jdGlvbihjb25zdHJhaW50KXtcblx0ICAgIHZhciBpZHggPSB0aGlzLmNvbnN0cmFpbnRzLmluZGV4T2YoY29uc3RyYWludCk7XG5cdCAgICBpZihpZHghPT0tMSl7XG5cdCAgICAgICAgVXRpbHMuc3BsaWNlKHRoaXMuY29uc3RyYWludHMsaWR4LDEpO1xuXHQgICAgfVxuXHR9O1xuXHRcblx0dmFyIHN0ZXBfciA9IHZlYzIuY3JlYXRlKCksXG5cdCAgICBzdGVwX3J1bml0ID0gdmVjMi5jcmVhdGUoKSxcblx0ICAgIHN0ZXBfdSA9IHZlYzIuY3JlYXRlKCksXG5cdCAgICBzdGVwX2YgPSB2ZWMyLmNyZWF0ZSgpLFxuXHQgICAgc3RlcF9maE1pbnYgPSB2ZWMyLmNyZWF0ZSgpLFxuXHQgICAgc3RlcF92ZWxvZHQgPSB2ZWMyLmNyZWF0ZSgpLFxuXHQgICAgc3RlcF9tZyA9IHZlYzIuY3JlYXRlKCksXG5cdCAgICB4aXcgPSB2ZWMyLmZyb21WYWx1ZXMoMCwwKSxcblx0ICAgIHhqdyA9IHZlYzIuZnJvbVZhbHVlcygwLDApLFxuXHQgICAgemVybyA9IHZlYzIuZnJvbVZhbHVlcygwLDApLFxuXHQgICAgaW50ZXJwdmVsbyA9IHZlYzIuZnJvbVZhbHVlcygwLDApO1xuXHRcblx0LyoqXG5cdCAqIFN0ZXAgdGhlIHBoeXNpY3Mgd29ybGQgZm9yd2FyZCBpbiB0aW1lLlxuXHQgKlxuXHQgKiBUaGVyZSBhcmUgdHdvIG1vZGVzLiBUaGUgc2ltcGxlIG1vZGUgaXMgZml4ZWQgdGltZXN0ZXBwaW5nIHdpdGhvdXQgaW50ZXJwb2xhdGlvbi4gSW4gdGhpcyBjYXNlIHlvdSBvbmx5IHVzZSB0aGUgZmlyc3QgYXJndW1lbnQuIFRoZSBzZWNvbmQgY2FzZSB1c2VzIGludGVycG9sYXRpb24uIEluIHRoYXQgeW91IGFsc28gcHJvdmlkZSB0aGUgdGltZSBzaW5jZSB0aGUgZnVuY3Rpb24gd2FzIGxhc3QgdXNlZCwgYXMgd2VsbCBhcyB0aGUgbWF4aW11bSBmaXhlZCB0aW1lc3RlcHMgdG8gdGFrZS5cblx0ICpcblx0ICogQG1ldGhvZCBzdGVwXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBkdCAgICAgICAgICAgICAgICAgICAgICAgVGhlIGZpeGVkIHRpbWUgc3RlcCBzaXplIHRvIHVzZS5cblx0ICogQHBhcmFtIHtOdW1iZXJ9IFt0aW1lU2luY2VMYXN0Q2FsbGVkPTBdICBUaGUgdGltZSBlbGFwc2VkIHNpbmNlIHRoZSBmdW5jdGlvbiB3YXMgbGFzdCBjYWxsZWQuXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBbbWF4U3ViU3RlcHM9MTBdICAgICAgICAgTWF4aW11bSBudW1iZXIgb2YgZml4ZWQgc3RlcHMgdG8gdGFrZSBwZXIgZnVuY3Rpb24gY2FsbC5cblx0ICpcblx0ICogQGV4YW1wbGVcblx0ICogICAgIC8vIFNpbXBsZSBmaXhlZCB0aW1lc3RlcHBpbmcgd2l0aG91dCBpbnRlcnBvbGF0aW9uXG5cdCAqICAgICB2YXIgZml4ZWRUaW1lU3RlcCA9IDEgLyA2MDtcblx0ICogICAgIHZhciB3b3JsZCA9IG5ldyBXb3JsZCgpO1xuXHQgKiAgICAgdmFyIGJvZHkgPSBuZXcgQm9keSh7IG1hc3M6IDEgfSk7XG5cdCAqICAgICB3b3JsZC5hZGRCb2R5KGJvZHkpO1xuXHQgKlxuXHQgKiAgICAgZnVuY3Rpb24gYW5pbWF0ZSgpe1xuXHQgKiAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShhbmltYXRlKTtcblx0ICogICAgICAgICB3b3JsZC5zdGVwKGZpeGVkVGltZVN0ZXApO1xuXHQgKiAgICAgICAgIHJlbmRlckJvZHkoYm9keS5wb3NpdGlvbiwgYm9keS5hbmdsZSk7XG5cdCAqICAgICB9XG5cdCAqXG5cdCAqICAgICAvLyBTdGFydCBhbmltYXRpb24gbG9vcFxuXHQgKiAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGFuaW1hdGUpO1xuXHQgKlxuXHQgKiBAZXhhbXBsZVxuXHQgKiAgICAgLy8gRml4ZWQgdGltZXN0ZXBwaW5nIHdpdGggaW50ZXJwb2xhdGlvblxuXHQgKiAgICAgdmFyIG1heFN1YlN0ZXBzID0gMTA7XG5cdCAqICAgICB2YXIgbGFzdFRpbWVTZWNvbmRzO1xuXHQgKlxuXHQgKiAgICAgZnVuY3Rpb24gYW5pbWF0ZSh0KXtcblx0ICogICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoYW5pbWF0ZSk7XG5cdCAqICAgICAgICAgdGltZVNlY29uZHMgPSB0IC8gMTAwMDtcblx0ICogICAgICAgICBsYXN0VGltZVNlY29uZHMgPSBsYXN0VGltZVNlY29uZHMgfHwgdGltZVNlY29uZHM7XG5cdCAqXG5cdCAqICAgICAgICAgZGVsdGFUaW1lID0gdGltZVNlY29uZHMgLSBsYXN0VGltZVNlY29uZHM7XG5cdCAqICAgICAgICAgd29ybGQuc3RlcChmaXhlZFRpbWVTdGVwLCBkZWx0YVRpbWUsIG1heFN1YlN0ZXBzKTtcblx0ICpcblx0ICogICAgICAgICByZW5kZXJCb2R5KGJvZHkuaW50ZXJwb2xhdGVkUG9zaXRpb24sIGJvZHkuaW50ZXJwb2xhdGVkQW5nbGUpO1xuXHQgKiAgICAgfVxuXHQgKlxuXHQgKiAgICAgLy8gU3RhcnQgYW5pbWF0aW9uIGxvb3Bcblx0ICogICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShhbmltYXRlKTtcblx0ICpcblx0ICogQHNlZSBodHRwOi8vYnVsbGV0cGh5c2ljcy5vcmcvbWVkaWF3aWtpLTEuNS44L2luZGV4LnBocC9TdGVwcGluZ19UaGVfV29ybGRcblx0ICovXG5cdFdvcmxkLnByb3RvdHlwZS5zdGVwID0gZnVuY3Rpb24oZHQsdGltZVNpbmNlTGFzdENhbGxlZCxtYXhTdWJTdGVwcyl7XG5cdCAgICBtYXhTdWJTdGVwcyA9IG1heFN1YlN0ZXBzIHx8IDEwO1xuXHQgICAgdGltZVNpbmNlTGFzdENhbGxlZCA9IHRpbWVTaW5jZUxhc3RDYWxsZWQgfHwgMDtcblx0XG5cdCAgICBpZih0aW1lU2luY2VMYXN0Q2FsbGVkID09PSAwKXsgLy8gRml4ZWQsIHNpbXBsZSBzdGVwcGluZ1xuXHRcblx0ICAgICAgICB0aGlzLmludGVybmFsU3RlcChkdCk7XG5cdFxuXHQgICAgICAgIC8vIEluY3JlbWVudCB0aW1lXG5cdCAgICAgICAgdGhpcy50aW1lICs9IGR0O1xuXHRcblx0ICAgIH0gZWxzZSB7XG5cdFxuXHQgICAgICAgIHRoaXMuYWNjdW11bGF0b3IgKz0gdGltZVNpbmNlTGFzdENhbGxlZDtcblx0ICAgICAgICB2YXIgc3Vic3RlcHMgPSAwO1xuXHQgICAgICAgIHdoaWxlICh0aGlzLmFjY3VtdWxhdG9yID49IGR0ICYmIHN1YnN0ZXBzIDwgbWF4U3ViU3RlcHMpIHtcblx0ICAgICAgICAgICAgLy8gRG8gZml4ZWQgc3RlcHMgdG8gY2F0Y2ggdXBcblx0ICAgICAgICAgICAgdGhpcy5pbnRlcm5hbFN0ZXAoZHQpO1xuXHQgICAgICAgICAgICB0aGlzLnRpbWUgKz0gZHQ7XG5cdCAgICAgICAgICAgIHRoaXMuYWNjdW11bGF0b3IgLT0gZHQ7XG5cdCAgICAgICAgICAgIHN1YnN0ZXBzKys7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICB2YXIgdCA9ICh0aGlzLmFjY3VtdWxhdG9yICUgZHQpIC8gZHQ7XG5cdCAgICAgICAgZm9yKHZhciBqPTA7IGohPT10aGlzLmJvZGllcy5sZW5ndGg7IGorKyl7XG5cdCAgICAgICAgICAgIHZhciBiID0gdGhpcy5ib2RpZXNbal07XG5cdCAgICAgICAgICAgIHZlYzIubGVycChiLmludGVycG9sYXRlZFBvc2l0aW9uLCBiLnByZXZpb3VzUG9zaXRpb24sIGIucG9zaXRpb24sIHQpO1xuXHQgICAgICAgICAgICBiLmludGVycG9sYXRlZEFuZ2xlID0gYi5wcmV2aW91c0FuZ2xlICsgdCAqIChiLmFuZ2xlIC0gYi5wcmV2aW91c0FuZ2xlKTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdH07XG5cdFxuXHR2YXIgZW5kT3ZlcmxhcHMgPSBbXTtcblx0XG5cdC8qKlxuXHQgKiBNYWtlIGEgZml4ZWQgc3RlcC5cblx0ICogQG1ldGhvZCBpbnRlcm5hbFN0ZXBcblx0ICogQHBhcmFtICB7bnVtYmVyfSBkdFxuXHQgKiBAcHJpdmF0ZVxuXHQgKi9cblx0V29ybGQucHJvdG90eXBlLmludGVybmFsU3RlcCA9IGZ1bmN0aW9uKGR0KXtcblx0ICAgIHRoaXMuc3RlcHBpbmcgPSB0cnVlO1xuXHRcblx0ICAgIHZhciB0aGF0ID0gdGhpcyxcblx0ICAgICAgICBOc3ByaW5ncyA9IHRoaXMuc3ByaW5ncy5sZW5ndGgsXG5cdCAgICAgICAgc3ByaW5ncyA9IHRoaXMuc3ByaW5ncyxcblx0ICAgICAgICBib2RpZXMgPSB0aGlzLmJvZGllcyxcblx0ICAgICAgICBnID0gdGhpcy5ncmF2aXR5LFxuXHQgICAgICAgIHNvbHZlciA9IHRoaXMuc29sdmVyLFxuXHQgICAgICAgIE5ib2RpZXMgPSB0aGlzLmJvZGllcy5sZW5ndGgsXG5cdCAgICAgICAgYnJvYWRwaGFzZSA9IHRoaXMuYnJvYWRwaGFzZSxcblx0ICAgICAgICBucCA9IHRoaXMubmFycm93cGhhc2UsXG5cdCAgICAgICAgY29uc3RyYWludHMgPSB0aGlzLmNvbnN0cmFpbnRzLFxuXHQgICAgICAgIHQwLCB0MSxcblx0ICAgICAgICBmaE1pbnYgPSBzdGVwX2ZoTWludixcblx0ICAgICAgICB2ZWxvZHQgPSBzdGVwX3ZlbG9kdCxcblx0ICAgICAgICBtZyA9IHN0ZXBfbWcsXG5cdCAgICAgICAgc2NhbGUgPSB2ZWMyLnNjYWxlLFxuXHQgICAgICAgIGFkZCA9IHZlYzIuYWRkLFxuXHQgICAgICAgIHJvdGF0ZSA9IHZlYzIucm90YXRlLFxuXHQgICAgICAgIGlzbGFuZE1hbmFnZXIgPSB0aGlzLmlzbGFuZE1hbmFnZXI7XG5cdFxuXHQgICAgdGhpcy5vdmVybGFwS2VlcGVyLnRpY2soKTtcblx0XG5cdCAgICB0aGlzLmxhc3RUaW1lU3RlcCA9IGR0O1xuXHRcblx0ICAgIC8vIFVwZGF0ZSBhcHByb3hpbWF0ZSBmcmljdGlvbiBncmF2aXR5LlxuXHQgICAgaWYodGhpcy51c2VXb3JsZEdyYXZpdHlBc0ZyaWN0aW9uR3Jhdml0eSl7XG5cdCAgICAgICAgdmFyIGdyYXZpdHlMZW4gPSB2ZWMyLmxlbmd0aCh0aGlzLmdyYXZpdHkpO1xuXHQgICAgICAgIGlmKCEoZ3Jhdml0eUxlbiA9PT0gMCAmJiB0aGlzLnVzZUZyaWN0aW9uR3Jhdml0eU9uWmVyb0dyYXZpdHkpKXtcblx0ICAgICAgICAgICAgLy8gTm9uemVybyBncmF2aXR5LiBVc2UgaXQuXG5cdCAgICAgICAgICAgIHRoaXMuZnJpY3Rpb25HcmF2aXR5ID0gZ3Jhdml0eUxlbjtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgLy8gQWRkIGdyYXZpdHkgdG8gYm9kaWVzXG5cdCAgICBpZih0aGlzLmFwcGx5R3Jhdml0eSl7XG5cdCAgICAgICAgZm9yKHZhciBpPTA7IGkhPT1OYm9kaWVzOyBpKyspe1xuXHQgICAgICAgICAgICB2YXIgYiA9IGJvZGllc1tpXSxcblx0ICAgICAgICAgICAgICAgIGZpID0gYi5mb3JjZTtcblx0ICAgICAgICAgICAgaWYoYi50eXBlICE9PSBCb2R5LkRZTkFNSUMgfHwgYi5zbGVlcFN0YXRlID09PSBCb2R5LlNMRUVQSU5HKXtcblx0ICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHZlYzIuc2NhbGUobWcsZyxiLm1hc3MqYi5ncmF2aXR5U2NhbGUpOyAvLyBGPW0qZ1xuXHQgICAgICAgICAgICBhZGQoZmksZmksbWcpO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICAvLyBBZGQgc3ByaW5nIGZvcmNlc1xuXHQgICAgaWYodGhpcy5hcHBseVNwcmluZ0ZvcmNlcyl7XG5cdCAgICAgICAgZm9yKHZhciBpPTA7IGkhPT1Oc3ByaW5nczsgaSsrKXtcblx0ICAgICAgICAgICAgdmFyIHMgPSBzcHJpbmdzW2ldO1xuXHQgICAgICAgICAgICBzLmFwcGx5Rm9yY2UoKTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgaWYodGhpcy5hcHBseURhbXBpbmcpe1xuXHQgICAgICAgIGZvcih2YXIgaT0wOyBpIT09TmJvZGllczsgaSsrKXtcblx0ICAgICAgICAgICAgdmFyIGIgPSBib2RpZXNbaV07XG5cdCAgICAgICAgICAgIGlmKGIudHlwZSA9PT0gQm9keS5EWU5BTUlDKXtcblx0ICAgICAgICAgICAgICAgIGIuYXBwbHlEYW1waW5nKGR0KTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICAvLyBCcm9hZHBoYXNlXG5cdCAgICB2YXIgcmVzdWx0ID0gYnJvYWRwaGFzZS5nZXRDb2xsaXNpb25QYWlycyh0aGlzKTtcblx0XG5cdCAgICAvLyBSZW1vdmUgaWdub3JlZCBjb2xsaXNpb24gcGFpcnNcblx0ICAgIHZhciBpZ25vcmVkUGFpcnMgPSB0aGlzLmRpc2FibGVkQm9keUNvbGxpc2lvblBhaXJzO1xuXHQgICAgZm9yKHZhciBpPWlnbm9yZWRQYWlycy5sZW5ndGgtMjsgaT49MDsgaS09Mil7XG5cdCAgICAgICAgZm9yKHZhciBqPXJlc3VsdC5sZW5ndGgtMjsgaj49MDsgai09Mil7XG5cdCAgICAgICAgICAgIGlmKCAoaWdub3JlZFBhaXJzW2ldICAgPT09IHJlc3VsdFtqXSAmJiBpZ25vcmVkUGFpcnNbaSsxXSA9PT0gcmVzdWx0W2orMV0pIHx8XG5cdCAgICAgICAgICAgICAgICAoaWdub3JlZFBhaXJzW2krMV0gPT09IHJlc3VsdFtqXSAmJiBpZ25vcmVkUGFpcnNbaV0gICA9PT0gcmVzdWx0W2orMV0pKXtcblx0ICAgICAgICAgICAgICAgIHJlc3VsdC5zcGxpY2UoaiwyKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgIH1cblx0XG5cdCAgICAvLyBSZW1vdmUgY29uc3RyYWluZWQgcGFpcnMgd2l0aCBjb2xsaWRlQ29ubmVjdGVkID09IGZhbHNlXG5cdCAgICB2YXIgTmNvbnN0cmFpbnRzID0gY29uc3RyYWludHMubGVuZ3RoO1xuXHQgICAgZm9yKGk9MDsgaSE9PU5jb25zdHJhaW50czsgaSsrKXtcblx0ICAgICAgICB2YXIgYyA9IGNvbnN0cmFpbnRzW2ldO1xuXHQgICAgICAgIGlmKCFjLmNvbGxpZGVDb25uZWN0ZWQpe1xuXHQgICAgICAgICAgICBmb3IodmFyIGo9cmVzdWx0Lmxlbmd0aC0yOyBqPj0wOyBqLT0yKXtcblx0ICAgICAgICAgICAgICAgIGlmKCAoYy5ib2R5QSA9PT0gcmVzdWx0W2pdICYmIGMuYm9keUIgPT09IHJlc3VsdFtqKzFdKSB8fFxuXHQgICAgICAgICAgICAgICAgICAgIChjLmJvZHlCID09PSByZXN1bHRbal0gJiYgYy5ib2R5QSA9PT0gcmVzdWx0W2orMV0pKXtcblx0ICAgICAgICAgICAgICAgICAgICByZXN1bHQuc3BsaWNlKGosMik7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgLy8gcG9zdEJyb2FkcGhhc2UgZXZlbnRcblx0ICAgIHRoaXMucG9zdEJyb2FkcGhhc2VFdmVudC5wYWlycyA9IHJlc3VsdDtcblx0ICAgIHRoaXMuZW1pdCh0aGlzLnBvc3RCcm9hZHBoYXNlRXZlbnQpO1xuXHQgICAgdGhpcy5wb3N0QnJvYWRwaGFzZUV2ZW50LnBhaXJzID0gbnVsbDtcblx0XG5cdCAgICAvLyBOYXJyb3dwaGFzZVxuXHQgICAgbnAucmVzZXQodGhpcyk7XG5cdCAgICBmb3IodmFyIGk9MCwgTnJlc3VsdHM9cmVzdWx0Lmxlbmd0aDsgaSE9PU5yZXN1bHRzOyBpKz0yKXtcblx0ICAgICAgICB2YXIgYmkgPSByZXN1bHRbaV0sXG5cdCAgICAgICAgICAgIGJqID0gcmVzdWx0W2krMV07XG5cdFxuXHQgICAgICAgIC8vIExvb3Agb3ZlciBhbGwgc2hhcGVzIG9mIGJvZHkgaVxuXHQgICAgICAgIGZvcih2YXIgaz0wLCBOc2hhcGVzaT1iaS5zaGFwZXMubGVuZ3RoOyBrIT09TnNoYXBlc2k7IGsrKyl7XG5cdCAgICAgICAgICAgIHZhciBzaSA9IGJpLnNoYXBlc1trXSxcblx0ICAgICAgICAgICAgICAgIHhpID0gc2kucG9zaXRpb24sXG5cdCAgICAgICAgICAgICAgICBhaSA9IHNpLmFuZ2xlO1xuXHRcblx0ICAgICAgICAgICAgLy8gQWxsIHNoYXBlcyBvZiBib2R5IGpcblx0ICAgICAgICAgICAgZm9yKHZhciBsPTAsIE5zaGFwZXNqPWJqLnNoYXBlcy5sZW5ndGg7IGwhPT1Oc2hhcGVzajsgbCsrKXtcblx0ICAgICAgICAgICAgICAgIHZhciBzaiA9IGJqLnNoYXBlc1tsXSxcblx0ICAgICAgICAgICAgICAgICAgICB4aiA9IHNqLnBvc2l0aW9uLFxuXHQgICAgICAgICAgICAgICAgICAgIGFqID0gc2ouYW5nbGU7XG5cdFxuXHQgICAgICAgICAgICAgICAgdmFyIGNtID0gdGhpcy5kZWZhdWx0Q29udGFjdE1hdGVyaWFsO1xuXHQgICAgICAgICAgICAgICAgaWYoc2kubWF0ZXJpYWwgJiYgc2oubWF0ZXJpYWwpe1xuXHQgICAgICAgICAgICAgICAgICAgIHZhciB0bXAgPSB0aGlzLmdldENvbnRhY3RNYXRlcmlhbChzaS5tYXRlcmlhbCxzai5tYXRlcmlhbCk7XG5cdCAgICAgICAgICAgICAgICAgICAgaWYodG1wKXtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgY20gPSB0bXA7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgICAgIHRoaXMucnVuTmFycm93cGhhc2UobnAsYmksc2kseGksYWksYmosc2oseGosYWosY20sdGhpcy5mcmljdGlvbkdyYXZpdHkpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIC8vIFdha2UgdXAgYm9kaWVzXG5cdCAgICBmb3IodmFyIGk9MDsgaSE9PU5ib2RpZXM7IGkrKyl7XG5cdCAgICAgICAgdmFyIGJvZHkgPSBib2RpZXNbaV07XG5cdCAgICAgICAgaWYoYm9keS5fd2FrZVVwQWZ0ZXJOYXJyb3dwaGFzZSl7XG5cdCAgICAgICAgICAgIGJvZHkud2FrZVVwKCk7XG5cdCAgICAgICAgICAgIGJvZHkuX3dha2VVcEFmdGVyTmFycm93cGhhc2UgPSBmYWxzZTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgLy8gRW1pdCBlbmQgb3ZlcmxhcCBldmVudHNcblx0ICAgIGlmKHRoaXMuaGFzKCdlbmRDb250YWN0Jykpe1xuXHQgICAgICAgIHRoaXMub3ZlcmxhcEtlZXBlci5nZXRFbmRPdmVybGFwcyhlbmRPdmVybGFwcyk7XG5cdCAgICAgICAgdmFyIGUgPSB0aGlzLmVuZENvbnRhY3RFdmVudDtcblx0ICAgICAgICB2YXIgbCA9IGVuZE92ZXJsYXBzLmxlbmd0aDtcblx0ICAgICAgICB3aGlsZShsLS0pe1xuXHQgICAgICAgICAgICB2YXIgZGF0YSA9IGVuZE92ZXJsYXBzW2xdO1xuXHQgICAgICAgICAgICBlLnNoYXBlQSA9IGRhdGEuc2hhcGVBO1xuXHQgICAgICAgICAgICBlLnNoYXBlQiA9IGRhdGEuc2hhcGVCO1xuXHQgICAgICAgICAgICBlLmJvZHlBID0gZGF0YS5ib2R5QTtcblx0ICAgICAgICAgICAgZS5ib2R5QiA9IGRhdGEuYm9keUI7XG5cdCAgICAgICAgICAgIHRoaXMuZW1pdChlKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgZW5kT3ZlcmxhcHMubGVuZ3RoID0gMDtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgcHJlU29sdmVFdmVudCA9IHRoaXMucHJlU29sdmVFdmVudDtcblx0ICAgIHByZVNvbHZlRXZlbnQuY29udGFjdEVxdWF0aW9ucyA9IG5wLmNvbnRhY3RFcXVhdGlvbnM7XG5cdCAgICBwcmVTb2x2ZUV2ZW50LmZyaWN0aW9uRXF1YXRpb25zID0gbnAuZnJpY3Rpb25FcXVhdGlvbnM7XG5cdCAgICB0aGlzLmVtaXQocHJlU29sdmVFdmVudCk7XG5cdCAgICBwcmVTb2x2ZUV2ZW50LmNvbnRhY3RFcXVhdGlvbnMgPSBwcmVTb2x2ZUV2ZW50LmZyaWN0aW9uRXF1YXRpb25zID0gbnVsbDtcblx0XG5cdCAgICAvLyB1cGRhdGUgY29uc3RyYWludCBlcXVhdGlvbnNcblx0ICAgIHZhciBOY29uc3RyYWludHMgPSBjb25zdHJhaW50cy5sZW5ndGg7XG5cdCAgICBmb3IoaT0wOyBpIT09TmNvbnN0cmFpbnRzOyBpKyspe1xuXHQgICAgICAgIGNvbnN0cmFpbnRzW2ldLnVwZGF0ZSgpO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmKG5wLmNvbnRhY3RFcXVhdGlvbnMubGVuZ3RoIHx8IG5wLmZyaWN0aW9uRXF1YXRpb25zLmxlbmd0aCB8fCBOY29uc3RyYWludHMpe1xuXHQgICAgICAgIGlmKHRoaXMuaXNsYW5kU3BsaXQpe1xuXHQgICAgICAgICAgICAvLyBTcGxpdCBpbnRvIGlzbGFuZHNcblx0ICAgICAgICAgICAgaXNsYW5kTWFuYWdlci5lcXVhdGlvbnMubGVuZ3RoID0gMDtcblx0ICAgICAgICAgICAgVXRpbHMuYXBwZW5kQXJyYXkoaXNsYW5kTWFuYWdlci5lcXVhdGlvbnMsIG5wLmNvbnRhY3RFcXVhdGlvbnMpO1xuXHQgICAgICAgICAgICBVdGlscy5hcHBlbmRBcnJheShpc2xhbmRNYW5hZ2VyLmVxdWF0aW9ucywgbnAuZnJpY3Rpb25FcXVhdGlvbnMpO1xuXHQgICAgICAgICAgICBmb3IoaT0wOyBpIT09TmNvbnN0cmFpbnRzOyBpKyspe1xuXHQgICAgICAgICAgICAgICAgVXRpbHMuYXBwZW5kQXJyYXkoaXNsYW5kTWFuYWdlci5lcXVhdGlvbnMsIGNvbnN0cmFpbnRzW2ldLmVxdWF0aW9ucyk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgaXNsYW5kTWFuYWdlci5zcGxpdCh0aGlzKTtcblx0XG5cdCAgICAgICAgICAgIGZvcih2YXIgaT0wOyBpIT09aXNsYW5kTWFuYWdlci5pc2xhbmRzLmxlbmd0aDsgaSsrKXtcblx0ICAgICAgICAgICAgICAgIHZhciBpc2xhbmQgPSBpc2xhbmRNYW5hZ2VyLmlzbGFuZHNbaV07XG5cdCAgICAgICAgICAgICAgICBpZihpc2xhbmQuZXF1YXRpb25zLmxlbmd0aCl7XG5cdCAgICAgICAgICAgICAgICAgICAgc29sdmVyLnNvbHZlSXNsYW5kKGR0LGlzbGFuZCk7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgfSBlbHNlIHtcblx0XG5cdCAgICAgICAgICAgIC8vIEFkZCBjb250YWN0IGVxdWF0aW9ucyB0byBzb2x2ZXJcblx0ICAgICAgICAgICAgc29sdmVyLmFkZEVxdWF0aW9ucyhucC5jb250YWN0RXF1YXRpb25zKTtcblx0ICAgICAgICAgICAgc29sdmVyLmFkZEVxdWF0aW9ucyhucC5mcmljdGlvbkVxdWF0aW9ucyk7XG5cdFxuXHQgICAgICAgICAgICAvLyBBZGQgdXNlci1kZWZpbmVkIGNvbnN0cmFpbnQgZXF1YXRpb25zXG5cdCAgICAgICAgICAgIGZvcihpPTA7IGkhPT1OY29uc3RyYWludHM7IGkrKyl7XG5cdCAgICAgICAgICAgICAgICBzb2x2ZXIuYWRkRXF1YXRpb25zKGNvbnN0cmFpbnRzW2ldLmVxdWF0aW9ucyk7XG5cdCAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgIGlmKHRoaXMuc29sdmVDb25zdHJhaW50cyl7XG5cdCAgICAgICAgICAgICAgICBzb2x2ZXIuc29sdmUoZHQsdGhpcyk7XG5cdCAgICAgICAgICAgIH1cblx0XG5cdCAgICAgICAgICAgIHNvbHZlci5yZW1vdmVBbGxFcXVhdGlvbnMoKTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgLy8gU3RlcCBmb3J3YXJkXG5cdCAgICBmb3IodmFyIGk9MDsgaSE9PU5ib2RpZXM7IGkrKyl7XG5cdCAgICAgICAgdmFyIGJvZHkgPSBib2RpZXNbaV07XG5cdFxuXHQgICAgICAgIC8vIGlmKGJvZHkuc2xlZXBTdGF0ZSAhPT0gQm9keS5TTEVFUElORyAmJiBib2R5LnR5cGUgIT09IEJvZHkuU1RBVElDKXtcblx0ICAgICAgICBib2R5LmludGVncmF0ZShkdCk7XG5cdCAgICAgICAgLy8gfVxuXHQgICAgfVxuXHRcblx0ICAgIC8vIFJlc2V0IGZvcmNlXG5cdCAgICBmb3IodmFyIGk9MDsgaSE9PU5ib2RpZXM7IGkrKyl7XG5cdCAgICAgICAgYm9kaWVzW2ldLnNldFplcm9Gb3JjZSgpO1xuXHQgICAgfVxuXHRcblx0ICAgIC8vIEVtaXQgaW1wYWN0IGV2ZW50XG5cdCAgICBpZih0aGlzLmVtaXRJbXBhY3RFdmVudCAmJiB0aGlzLmhhcygnaW1wYWN0Jykpe1xuXHQgICAgICAgIHZhciBldiA9IHRoaXMuaW1wYWN0RXZlbnQ7XG5cdCAgICAgICAgZm9yKHZhciBpPTA7IGkhPT1ucC5jb250YWN0RXF1YXRpb25zLmxlbmd0aDsgaSsrKXtcblx0ICAgICAgICAgICAgdmFyIGVxID0gbnAuY29udGFjdEVxdWF0aW9uc1tpXTtcblx0ICAgICAgICAgICAgaWYoZXEuZmlyc3RJbXBhY3Qpe1xuXHQgICAgICAgICAgICAgICAgZXYuYm9keUEgPSBlcS5ib2R5QTtcblx0ICAgICAgICAgICAgICAgIGV2LmJvZHlCID0gZXEuYm9keUI7XG5cdCAgICAgICAgICAgICAgICBldi5zaGFwZUEgPSBlcS5zaGFwZUE7XG5cdCAgICAgICAgICAgICAgICBldi5zaGFwZUIgPSBlcS5zaGFwZUI7XG5cdCAgICAgICAgICAgICAgICBldi5jb250YWN0RXF1YXRpb24gPSBlcTtcblx0ICAgICAgICAgICAgICAgIHRoaXMuZW1pdChldik7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgLy8gU2xlZXBpbmcgdXBkYXRlXG5cdCAgICBpZih0aGlzLnNsZWVwTW9kZSA9PT0gV29ybGQuQk9EWV9TTEVFUElORyl7XG5cdCAgICAgICAgZm9yKGk9MDsgaSE9PU5ib2RpZXM7IGkrKyl7XG5cdCAgICAgICAgICAgIGJvZGllc1tpXS5zbGVlcFRpY2sodGhpcy50aW1lLCBmYWxzZSwgZHQpO1xuXHQgICAgICAgIH1cblx0ICAgIH0gZWxzZSBpZih0aGlzLnNsZWVwTW9kZSA9PT0gV29ybGQuSVNMQU5EX1NMRUVQSU5HICYmIHRoaXMuaXNsYW5kU3BsaXQpe1xuXHRcblx0ICAgICAgICAvLyBUZWxsIGFsbCBib2RpZXMgdG8gc2xlZXAgdGljayBidXQgZG9udCBzbGVlcCB5ZXRcblx0ICAgICAgICBmb3IoaT0wOyBpIT09TmJvZGllczsgaSsrKXtcblx0ICAgICAgICAgICAgYm9kaWVzW2ldLnNsZWVwVGljayh0aGlzLnRpbWUsIHRydWUsIGR0KTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIC8vIFNsZWVwIGlzbGFuZHNcblx0ICAgICAgICBmb3IodmFyIGk9MDsgaTx0aGlzLmlzbGFuZE1hbmFnZXIuaXNsYW5kcy5sZW5ndGg7IGkrKyl7XG5cdCAgICAgICAgICAgIHZhciBpc2xhbmQgPSB0aGlzLmlzbGFuZE1hbmFnZXIuaXNsYW5kc1tpXTtcblx0ICAgICAgICAgICAgaWYoaXNsYW5kLndhbnRzVG9TbGVlcCgpKXtcblx0ICAgICAgICAgICAgICAgIGlzbGFuZC5zbGVlcCgpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIHRoaXMuc3RlcHBpbmcgPSBmYWxzZTtcblx0XG5cdCAgICAvLyBSZW1vdmUgYm9kaWVzIHRoYXQgYXJlIHNjaGVkdWxlZCBmb3IgcmVtb3ZhbFxuXHQgICAgdmFyIGJvZGllc1RvQmVSZW1vdmVkID0gdGhpcy5ib2RpZXNUb0JlUmVtb3ZlZDtcblx0ICAgIGZvcih2YXIgaT0wOyBpIT09Ym9kaWVzVG9CZVJlbW92ZWQubGVuZ3RoOyBpKyspe1xuXHQgICAgICAgIHRoaXMucmVtb3ZlQm9keShib2RpZXNUb0JlUmVtb3ZlZFtpXSk7XG5cdCAgICB9XG5cdCAgICBib2RpZXNUb0JlUmVtb3ZlZC5sZW5ndGggPSAwO1xuXHRcblx0ICAgIHRoaXMuZW1pdCh0aGlzLnBvc3RTdGVwRXZlbnQpO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIFJ1bnMgbmFycm93cGhhc2UgZm9yIHRoZSBzaGFwZSBwYWlyIGkgYW5kIGouXG5cdCAqIEBtZXRob2QgcnVuTmFycm93cGhhc2Vcblx0ICogQHBhcmFtICB7TmFycm93cGhhc2V9IG5wXG5cdCAqIEBwYXJhbSAge0JvZHl9IGJpXG5cdCAqIEBwYXJhbSAge1NoYXBlfSBzaVxuXHQgKiBAcGFyYW0gIHtBcnJheX0geGlcblx0ICogQHBhcmFtICB7TnVtYmVyfSBhaVxuXHQgKiBAcGFyYW0gIHtCb2R5fSBialxuXHQgKiBAcGFyYW0gIHtTaGFwZX0gc2pcblx0ICogQHBhcmFtICB7QXJyYXl9IHhqXG5cdCAqIEBwYXJhbSAge051bWJlcn0gYWpcblx0ICogQHBhcmFtICB7TnVtYmVyfSBtdVxuXHQgKi9cblx0V29ybGQucHJvdG90eXBlLnJ1bk5hcnJvd3BoYXNlID0gZnVuY3Rpb24obnAsYmksc2kseGksYWksYmosc2oseGosYWosY20sZ2xlbil7XG5cdFxuXHQgICAgLy8gQ2hlY2sgY29sbGlzaW9uIGdyb3VwcyBhbmQgbWFza3Ncblx0ICAgIGlmKCEoKHNpLmNvbGxpc2lvbkdyb3VwICYgc2ouY29sbGlzaW9uTWFzaykgIT09IDAgJiYgKHNqLmNvbGxpc2lvbkdyb3VwICYgc2kuY29sbGlzaW9uTWFzaykgIT09IDApKXtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICB9XG5cdFxuXHQgICAgLy8gR2V0IHdvcmxkIHBvc2l0aW9uIGFuZCBhbmdsZSBvZiBlYWNoIHNoYXBlXG5cdCAgICB2ZWMyLnJvdGF0ZSh4aXcsIHhpLCBiaS5hbmdsZSk7XG5cdCAgICB2ZWMyLnJvdGF0ZSh4ancsIHhqLCBiai5hbmdsZSk7XG5cdCAgICB2ZWMyLmFkZCh4aXcsIHhpdywgYmkucG9zaXRpb24pO1xuXHQgICAgdmVjMi5hZGQoeGp3LCB4ancsIGJqLnBvc2l0aW9uKTtcblx0ICAgIHZhciBhaXcgPSBhaSArIGJpLmFuZ2xlO1xuXHQgICAgdmFyIGFqdyA9IGFqICsgYmouYW5nbGU7XG5cdFxuXHQgICAgbnAuZW5hYmxlRnJpY3Rpb24gPSBjbS5mcmljdGlvbiA+IDA7XG5cdCAgICBucC5mcmljdGlvbkNvZWZmaWNpZW50ID0gY20uZnJpY3Rpb247XG5cdCAgICB2YXIgcmVkdWNlZE1hc3M7XG5cdCAgICBpZihiaS50eXBlID09PSBCb2R5LlNUQVRJQyB8fCBiaS50eXBlID09PSBCb2R5LktJTkVNQVRJQyl7XG5cdCAgICAgICAgcmVkdWNlZE1hc3MgPSBiai5tYXNzO1xuXHQgICAgfSBlbHNlIGlmKGJqLnR5cGUgPT09IEJvZHkuU1RBVElDIHx8IGJqLnR5cGUgPT09IEJvZHkuS0lORU1BVElDKXtcblx0ICAgICAgICByZWR1Y2VkTWFzcyA9IGJpLm1hc3M7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIHJlZHVjZWRNYXNzID0gKGJpLm1hc3MqYmoubWFzcykvKGJpLm1hc3MrYmoubWFzcyk7XG5cdCAgICB9XG5cdCAgICBucC5zbGlwRm9yY2UgPSBjbS5mcmljdGlvbipnbGVuKnJlZHVjZWRNYXNzO1xuXHQgICAgbnAucmVzdGl0dXRpb24gPSBjbS5yZXN0aXR1dGlvbjtcblx0ICAgIG5wLnN1cmZhY2VWZWxvY2l0eSA9IGNtLnN1cmZhY2VWZWxvY2l0eTtcblx0ICAgIG5wLmZyaWN0aW9uU3RpZmZuZXNzID0gY20uZnJpY3Rpb25TdGlmZm5lc3M7XG5cdCAgICBucC5mcmljdGlvblJlbGF4YXRpb24gPSBjbS5mcmljdGlvblJlbGF4YXRpb247XG5cdCAgICBucC5zdGlmZm5lc3MgPSBjbS5zdGlmZm5lc3M7XG5cdCAgICBucC5yZWxheGF0aW9uID0gY20ucmVsYXhhdGlvbjtcblx0ICAgIG5wLmNvbnRhY3RTa2luU2l6ZSA9IGNtLmNvbnRhY3RTa2luU2l6ZTtcblx0ICAgIG5wLmVuYWJsZWRFcXVhdGlvbnMgPSBiaS5jb2xsaXNpb25SZXNwb25zZSAmJiBiai5jb2xsaXNpb25SZXNwb25zZSAmJiBzaS5jb2xsaXNpb25SZXNwb25zZSAmJiBzai5jb2xsaXNpb25SZXNwb25zZTtcblx0XG5cdCAgICB2YXIgcmVzb2x2ZXIgPSBucFtzaS50eXBlIHwgc2oudHlwZV0sXG5cdCAgICAgICAgbnVtQ29udGFjdHMgPSAwO1xuXHQgICAgaWYgKHJlc29sdmVyKSB7XG5cdCAgICAgICAgdmFyIHNlbnNvciA9IHNpLnNlbnNvciB8fCBzai5zZW5zb3I7XG5cdCAgICAgICAgdmFyIG51bUZyaWN0aW9uQmVmb3JlID0gbnAuZnJpY3Rpb25FcXVhdGlvbnMubGVuZ3RoO1xuXHQgICAgICAgIGlmIChzaS50eXBlIDwgc2oudHlwZSkge1xuXHQgICAgICAgICAgICBudW1Db250YWN0cyA9IHJlc29sdmVyLmNhbGwobnAsIGJpLHNpLHhpdyxhaXcsIGJqLHNqLHhqdyxhancsIHNlbnNvcik7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgbnVtQ29udGFjdHMgPSByZXNvbHZlci5jYWxsKG5wLCBiaixzaix4ancsYWp3LCBiaSxzaSx4aXcsYWl3LCBzZW5zb3IpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICB2YXIgbnVtRnJpY3Rpb25FcXVhdGlvbnMgPSBucC5mcmljdGlvbkVxdWF0aW9ucy5sZW5ndGggLSBudW1GcmljdGlvbkJlZm9yZTtcblx0XG5cdCAgICAgICAgaWYobnVtQ29udGFjdHMpe1xuXHRcblx0ICAgICAgICAgICAgaWYoIGJpLmFsbG93U2xlZXAgJiZcblx0ICAgICAgICAgICAgICAgIGJpLnR5cGUgPT09IEJvZHkuRFlOQU1JQyAmJlxuXHQgICAgICAgICAgICAgICAgYmkuc2xlZXBTdGF0ZSAgPT09IEJvZHkuU0xFRVBJTkcgJiZcblx0ICAgICAgICAgICAgICAgIGJqLnNsZWVwU3RhdGUgID09PSBCb2R5LkFXQUtFICYmXG5cdCAgICAgICAgICAgICAgICBiai50eXBlICE9PSBCb2R5LlNUQVRJQ1xuXHQgICAgICAgICAgICApe1xuXHQgICAgICAgICAgICAgICAgdmFyIHNwZWVkU3F1YXJlZEIgPSB2ZWMyLnNxdWFyZWRMZW5ndGgoYmoudmVsb2NpdHkpICsgTWF0aC5wb3coYmouYW5ndWxhclZlbG9jaXR5LDIpO1xuXHQgICAgICAgICAgICAgICAgdmFyIHNwZWVkTGltaXRTcXVhcmVkQiA9IE1hdGgucG93KGJqLnNsZWVwU3BlZWRMaW1pdCwyKTtcblx0ICAgICAgICAgICAgICAgIGlmKHNwZWVkU3F1YXJlZEIgPj0gc3BlZWRMaW1pdFNxdWFyZWRCKjIpe1xuXHQgICAgICAgICAgICAgICAgICAgIGJpLl93YWtlVXBBZnRlck5hcnJvd3BoYXNlID0gdHJ1ZTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgaWYoIGJqLmFsbG93U2xlZXAgJiZcblx0ICAgICAgICAgICAgICAgIGJqLnR5cGUgPT09IEJvZHkuRFlOQU1JQyAmJlxuXHQgICAgICAgICAgICAgICAgYmouc2xlZXBTdGF0ZSAgPT09IEJvZHkuU0xFRVBJTkcgJiZcblx0ICAgICAgICAgICAgICAgIGJpLnNsZWVwU3RhdGUgID09PSBCb2R5LkFXQUtFICYmXG5cdCAgICAgICAgICAgICAgICBiaS50eXBlICE9PSBCb2R5LlNUQVRJQ1xuXHQgICAgICAgICAgICApe1xuXHQgICAgICAgICAgICAgICAgdmFyIHNwZWVkU3F1YXJlZEEgPSB2ZWMyLnNxdWFyZWRMZW5ndGgoYmkudmVsb2NpdHkpICsgTWF0aC5wb3coYmkuYW5ndWxhclZlbG9jaXR5LDIpO1xuXHQgICAgICAgICAgICAgICAgdmFyIHNwZWVkTGltaXRTcXVhcmVkQSA9IE1hdGgucG93KGJpLnNsZWVwU3BlZWRMaW1pdCwyKTtcblx0ICAgICAgICAgICAgICAgIGlmKHNwZWVkU3F1YXJlZEEgPj0gc3BlZWRMaW1pdFNxdWFyZWRBKjIpe1xuXHQgICAgICAgICAgICAgICAgICAgIGJqLl93YWtlVXBBZnRlck5hcnJvd3BoYXNlID0gdHJ1ZTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgdGhpcy5vdmVybGFwS2VlcGVyLnNldE92ZXJsYXBwaW5nKGJpLCBzaSwgYmosIHNqKTtcblx0ICAgICAgICAgICAgaWYodGhpcy5oYXMoJ2JlZ2luQ29udGFjdCcpICYmIHRoaXMub3ZlcmxhcEtlZXBlci5pc05ld092ZXJsYXAoc2ksIHNqKSl7XG5cdFxuXHQgICAgICAgICAgICAgICAgLy8gUmVwb3J0IG5ldyBzaGFwZSBvdmVybGFwXG5cdCAgICAgICAgICAgICAgICB2YXIgZSA9IHRoaXMuYmVnaW5Db250YWN0RXZlbnQ7XG5cdCAgICAgICAgICAgICAgICBlLnNoYXBlQSA9IHNpO1xuXHQgICAgICAgICAgICAgICAgZS5zaGFwZUIgPSBzajtcblx0ICAgICAgICAgICAgICAgIGUuYm9keUEgPSBiaTtcblx0ICAgICAgICAgICAgICAgIGUuYm9keUIgPSBiajtcblx0XG5cdCAgICAgICAgICAgICAgICAvLyBSZXNldCBjb250YWN0IGVxdWF0aW9uc1xuXHQgICAgICAgICAgICAgICAgZS5jb250YWN0RXF1YXRpb25zLmxlbmd0aCA9IDA7XG5cdFxuXHQgICAgICAgICAgICAgICAgaWYodHlwZW9mKG51bUNvbnRhY3RzKT09PVwibnVtYmVyXCIpe1xuXHQgICAgICAgICAgICAgICAgICAgIGZvcih2YXIgaT1ucC5jb250YWN0RXF1YXRpb25zLmxlbmd0aC1udW1Db250YWN0czsgaTxucC5jb250YWN0RXF1YXRpb25zLmxlbmd0aDsgaSsrKXtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgZS5jb250YWN0RXF1YXRpb25zLnB1c2gobnAuY29udGFjdEVxdWF0aW9uc1tpXSk7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgICAgIHRoaXMuZW1pdChlKTtcblx0ICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgLy8gZGl2aWRlIHRoZSBtYXggZnJpY3Rpb24gZm9yY2UgYnkgdGhlIG51bWJlciBvZiBjb250YWN0c1xuXHQgICAgICAgICAgICBpZih0eXBlb2YobnVtQ29udGFjdHMpPT09XCJudW1iZXJcIiAmJiBudW1GcmljdGlvbkVxdWF0aW9ucyA+IDEpeyAvLyBXaHkgZGl2aWRlIGJ5IDE/XG5cdCAgICAgICAgICAgICAgICBmb3IodmFyIGk9bnAuZnJpY3Rpb25FcXVhdGlvbnMubGVuZ3RoLW51bUZyaWN0aW9uRXF1YXRpb25zOyBpPG5wLmZyaWN0aW9uRXF1YXRpb25zLmxlbmd0aDsgaSsrKXtcblx0ICAgICAgICAgICAgICAgICAgICB2YXIgZiA9IG5wLmZyaWN0aW9uRXF1YXRpb25zW2ldO1xuXHQgICAgICAgICAgICAgICAgICAgIGYuc2V0U2xpcEZvcmNlKGYuZ2V0U2xpcEZvcmNlKCkgLyBudW1GcmljdGlvbkVxdWF0aW9ucyk7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICB9XG5cdFxuXHR9O1xuXHRcblx0LyoqXG5cdCAqIEFkZCBhIHNwcmluZyB0byB0aGUgc2ltdWxhdGlvblxuXHQgKlxuXHQgKiBAbWV0aG9kIGFkZFNwcmluZ1xuXHQgKiBAcGFyYW0ge1NwcmluZ30gc3ByaW5nXG5cdCAqL1xuXHRXb3JsZC5wcm90b3R5cGUuYWRkU3ByaW5nID0gZnVuY3Rpb24oc3ByaW5nKXtcblx0ICAgIHRoaXMuc3ByaW5ncy5wdXNoKHNwcmluZyk7XG5cdCAgICB2YXIgZXZ0ID0gdGhpcy5hZGRTcHJpbmdFdmVudDtcblx0ICAgIGV2dC5zcHJpbmcgPSBzcHJpbmc7XG5cdCAgICB0aGlzLmVtaXQoZXZ0KTtcblx0ICAgIGV2dC5zcHJpbmcgPSBudWxsO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIFJlbW92ZSBhIHNwcmluZ1xuXHQgKlxuXHQgKiBAbWV0aG9kIHJlbW92ZVNwcmluZ1xuXHQgKiBAcGFyYW0ge1NwcmluZ30gc3ByaW5nXG5cdCAqL1xuXHRXb3JsZC5wcm90b3R5cGUucmVtb3ZlU3ByaW5nID0gZnVuY3Rpb24oc3ByaW5nKXtcblx0ICAgIHZhciBpZHggPSB0aGlzLnNwcmluZ3MuaW5kZXhPZihzcHJpbmcpO1xuXHQgICAgaWYoaWR4ICE9PSAtMSl7XG5cdCAgICAgICAgVXRpbHMuc3BsaWNlKHRoaXMuc3ByaW5ncyxpZHgsMSk7XG5cdCAgICB9XG5cdH07XG5cdFxuXHQvKipcblx0ICogQWRkIGEgYm9keSB0byB0aGUgc2ltdWxhdGlvblxuXHQgKlxuXHQgKiBAbWV0aG9kIGFkZEJvZHlcblx0ICogQHBhcmFtIHtCb2R5fSBib2R5XG5cdCAqXG5cdCAqIEBleGFtcGxlXG5cdCAqICAgICB2YXIgd29ybGQgPSBuZXcgV29ybGQoKSxcblx0ICogICAgICAgICBib2R5ID0gbmV3IEJvZHkoKTtcblx0ICogICAgIHdvcmxkLmFkZEJvZHkoYm9keSk7XG5cdCAqIEB0b2RvIFdoYXQgaWYgdGhpcyBpcyBkb25lIGR1cmluZyBzdGVwP1xuXHQgKi9cblx0V29ybGQucHJvdG90eXBlLmFkZEJvZHkgPSBmdW5jdGlvbihib2R5KXtcblx0ICAgIGlmKHRoaXMuYm9kaWVzLmluZGV4T2YoYm9keSkgPT09IC0xKXtcblx0ICAgICAgICB0aGlzLmJvZGllcy5wdXNoKGJvZHkpO1xuXHQgICAgICAgIGJvZHkud29ybGQgPSB0aGlzO1xuXHQgICAgICAgIHZhciBldnQgPSB0aGlzLmFkZEJvZHlFdmVudDtcblx0ICAgICAgICBldnQuYm9keSA9IGJvZHk7XG5cdCAgICAgICAgdGhpcy5lbWl0KGV2dCk7XG5cdCAgICAgICAgZXZ0LmJvZHkgPSBudWxsO1xuXHQgICAgfVxuXHR9O1xuXHRcblx0LyoqXG5cdCAqIFJlbW92ZSBhIGJvZHkgZnJvbSB0aGUgc2ltdWxhdGlvbi4gSWYgdGhpcyBtZXRob2QgaXMgY2FsbGVkIGR1cmluZyBzdGVwKCksIHRoZSBib2R5IHJlbW92YWwgaXMgc2NoZWR1bGVkIHRvIGFmdGVyIHRoZSBzdGVwLlxuXHQgKlxuXHQgKiBAbWV0aG9kIHJlbW92ZUJvZHlcblx0ICogQHBhcmFtIHtCb2R5fSBib2R5XG5cdCAqL1xuXHRXb3JsZC5wcm90b3R5cGUucmVtb3ZlQm9keSA9IGZ1bmN0aW9uKGJvZHkpe1xuXHQgICAgaWYodGhpcy5zdGVwcGluZyl7XG5cdCAgICAgICAgdGhpcy5ib2RpZXNUb0JlUmVtb3ZlZC5wdXNoKGJvZHkpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICBib2R5LndvcmxkID0gbnVsbDtcblx0ICAgICAgICB2YXIgaWR4ID0gdGhpcy5ib2RpZXMuaW5kZXhPZihib2R5KTtcblx0ICAgICAgICBpZihpZHghPT0tMSl7XG5cdCAgICAgICAgICAgIFV0aWxzLnNwbGljZSh0aGlzLmJvZGllcyxpZHgsMSk7XG5cdCAgICAgICAgICAgIHRoaXMucmVtb3ZlQm9keUV2ZW50LmJvZHkgPSBib2R5O1xuXHQgICAgICAgICAgICBib2R5LnJlc2V0Q29uc3RyYWludFZlbG9jaXR5KCk7XG5cdCAgICAgICAgICAgIHRoaXMuZW1pdCh0aGlzLnJlbW92ZUJvZHlFdmVudCk7XG5cdCAgICAgICAgICAgIHRoaXMucmVtb3ZlQm9keUV2ZW50LmJvZHkgPSBudWxsO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0fTtcblx0XG5cdC8qKlxuXHQgKiBHZXQgYSBib2R5IGJ5IGl0cyBpZC5cblx0ICogQG1ldGhvZCBnZXRCb2R5QnlJZFxuXHQgKiBAcGFyYW0ge251bWJlcn0gaWRcblx0ICogQHJldHVybiB7Qm9keX0gVGhlIGJvZHksIG9yIGZhbHNlIGlmIGl0IHdhcyBub3QgZm91bmQuXG5cdCAqL1xuXHRXb3JsZC5wcm90b3R5cGUuZ2V0Qm9keUJ5SWQgPSBmdW5jdGlvbihpZCl7XG5cdCAgICB2YXIgYm9kaWVzID0gdGhpcy5ib2RpZXM7XG5cdCAgICBmb3IodmFyIGk9MDsgaTxib2RpZXMubGVuZ3RoOyBpKyspe1xuXHQgICAgICAgIHZhciBiID0gYm9kaWVzW2ldO1xuXHQgICAgICAgIGlmKGIuaWQgPT09IGlkKXtcblx0ICAgICAgICAgICAgcmV0dXJuIGI7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQgICAgcmV0dXJuIGZhbHNlO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIERpc2FibGUgY29sbGlzaW9uIGJldHdlZW4gdHdvIGJvZGllc1xuXHQgKiBAbWV0aG9kIGRpc2FibGVCb2R5Q29sbGlzaW9uXG5cdCAqIEBwYXJhbSB7Qm9keX0gYm9keUFcblx0ICogQHBhcmFtIHtCb2R5fSBib2R5QlxuXHQgKi9cblx0V29ybGQucHJvdG90eXBlLmRpc2FibGVCb2R5Q29sbGlzaW9uID0gZnVuY3Rpb24oYm9keUEsYm9keUIpe1xuXHQgICAgdGhpcy5kaXNhYmxlZEJvZHlDb2xsaXNpb25QYWlycy5wdXNoKGJvZHlBLGJvZHlCKTtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBFbmFibGUgY29sbGlzaW9ucyBiZXR3ZWVuIHRoZSBnaXZlbiB0d28gYm9kaWVzXG5cdCAqIEBtZXRob2QgZW5hYmxlQm9keUNvbGxpc2lvblxuXHQgKiBAcGFyYW0ge0JvZHl9IGJvZHlBXG5cdCAqIEBwYXJhbSB7Qm9keX0gYm9keUJcblx0ICovXG5cdFdvcmxkLnByb3RvdHlwZS5lbmFibGVCb2R5Q29sbGlzaW9uID0gZnVuY3Rpb24oYm9keUEsYm9keUIpe1xuXHQgICAgdmFyIHBhaXJzID0gdGhpcy5kaXNhYmxlZEJvZHlDb2xsaXNpb25QYWlycztcblx0ICAgIGZvcih2YXIgaT0wOyBpPHBhaXJzLmxlbmd0aDsgaSs9Mil7XG5cdCAgICAgICAgaWYoKHBhaXJzW2ldID09PSBib2R5QSAmJiBwYWlyc1tpKzFdID09PSBib2R5QikgfHwgKHBhaXJzW2krMV0gPT09IGJvZHlBICYmIHBhaXJzW2ldID09PSBib2R5Qikpe1xuXHQgICAgICAgICAgICBwYWlycy5zcGxpY2UoaSwyKTtcblx0ICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0fTtcblx0XG5cdC8qKlxuXHQgKiBSZXNldHMgdGhlIFdvcmxkLCByZW1vdmVzIGFsbCBib2RpZXMsIGNvbnN0cmFpbnRzIGFuZCBzcHJpbmdzLlxuXHQgKlxuXHQgKiBAbWV0aG9kIGNsZWFyXG5cdCAqL1xuXHRXb3JsZC5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbigpe1xuXHRcblx0ICAgIHRoaXMudGltZSA9IDA7XG5cdFxuXHQgICAgLy8gUmVtb3ZlIGFsbCBzb2x2ZXIgZXF1YXRpb25zXG5cdCAgICBpZih0aGlzLnNvbHZlciAmJiB0aGlzLnNvbHZlci5lcXVhdGlvbnMubGVuZ3RoKXtcblx0ICAgICAgICB0aGlzLnNvbHZlci5yZW1vdmVBbGxFcXVhdGlvbnMoKTtcblx0ICAgIH1cblx0XG5cdCAgICAvLyBSZW1vdmUgYWxsIGNvbnN0cmFpbnRzXG5cdCAgICB2YXIgY3MgPSB0aGlzLmNvbnN0cmFpbnRzO1xuXHQgICAgZm9yKHZhciBpPWNzLmxlbmd0aC0xOyBpPj0wOyBpLS0pe1xuXHQgICAgICAgIHRoaXMucmVtb3ZlQ29uc3RyYWludChjc1tpXSk7XG5cdCAgICB9XG5cdFxuXHQgICAgLy8gUmVtb3ZlIGFsbCBib2RpZXNcblx0ICAgIHZhciBib2RpZXMgPSB0aGlzLmJvZGllcztcblx0ICAgIGZvcih2YXIgaT1ib2RpZXMubGVuZ3RoLTE7IGk+PTA7IGktLSl7XG5cdCAgICAgICAgdGhpcy5yZW1vdmVCb2R5KGJvZGllc1tpXSk7XG5cdCAgICB9XG5cdFxuXHQgICAgLy8gUmVtb3ZlIGFsbCBzcHJpbmdzXG5cdCAgICB2YXIgc3ByaW5ncyA9IHRoaXMuc3ByaW5ncztcblx0ICAgIGZvcih2YXIgaT1zcHJpbmdzLmxlbmd0aC0xOyBpPj0wOyBpLS0pe1xuXHQgICAgICAgIHRoaXMucmVtb3ZlU3ByaW5nKHNwcmluZ3NbaV0pO1xuXHQgICAgfVxuXHRcblx0ICAgIC8vIFJlbW92ZSBhbGwgY29udGFjdCBtYXRlcmlhbHNcblx0ICAgIHZhciBjbXMgPSB0aGlzLmNvbnRhY3RNYXRlcmlhbHM7XG5cdCAgICBmb3IodmFyIGk9Y21zLmxlbmd0aC0xOyBpPj0wOyBpLS0pe1xuXHQgICAgICAgIHRoaXMucmVtb3ZlQ29udGFjdE1hdGVyaWFsKGNtc1tpXSk7XG5cdCAgICB9XG5cdFxuXHQgICAgV29ybGQuYXBwbHkodGhpcyk7XG5cdH07XG5cdFxuXHR2YXIgaGl0VGVzdF90bXAxID0gdmVjMi5jcmVhdGUoKSxcblx0ICAgIGhpdFRlc3RfemVybyA9IHZlYzIuZnJvbVZhbHVlcygwLDApLFxuXHQgICAgaGl0VGVzdF90bXAyID0gdmVjMi5mcm9tVmFsdWVzKDAsMCk7XG5cdFxuXHQvKipcblx0ICogVGVzdCBpZiBhIHdvcmxkIHBvaW50IG92ZXJsYXBzIGJvZGllc1xuXHQgKiBAbWV0aG9kIGhpdFRlc3Rcblx0ICogQHBhcmFtICB7QXJyYXl9ICB3b3JsZFBvaW50ICBQb2ludCB0byB1c2UgZm9yIGludGVyc2VjdGlvbiB0ZXN0c1xuXHQgKiBAcGFyYW0gIHtBcnJheX0gIGJvZGllcyAgICAgIEEgbGlzdCBvZiBvYmplY3RzIHRvIGNoZWNrIGZvciBpbnRlcnNlY3Rpb25cblx0ICogQHBhcmFtICB7TnVtYmVyfSBwcmVjaXNpb24gICBVc2VkIGZvciBtYXRjaGluZyBhZ2FpbnN0IHBhcnRpY2xlcyBhbmQgbGluZXMuIEFkZHMgc29tZSBtYXJnaW4gdG8gdGhlc2UgaW5maW5pdGVzaW1hbCBvYmplY3RzLlxuXHQgKiBAcmV0dXJuIHtBcnJheX0gICAgICAgICAgICAgIEFycmF5IG9mIGJvZGllcyB0aGF0IG92ZXJsYXAgdGhlIHBvaW50XG5cdCAqIEB0b2RvIFNob3VsZCB1c2UgYW4gYXBpIHNpbWlsYXIgdG8gdGhlIHJheWNhc3QgZnVuY3Rpb25cblx0ICogQHRvZG8gU2hvdWxkIHByb2JhYmx5IGltcGxlbWVudCBhIC5jb250YWluc1BvaW50IG1ldGhvZCBmb3IgYWxsIHNoYXBlcy4gV291bGQgYmUgbW9yZSBlZmZpY2llbnRcblx0ICovXG5cdFdvcmxkLnByb3RvdHlwZS5oaXRUZXN0ID0gZnVuY3Rpb24od29ybGRQb2ludCxib2RpZXMscHJlY2lzaW9uKXtcblx0ICAgIHByZWNpc2lvbiA9IHByZWNpc2lvbiB8fCAwO1xuXHRcblx0ICAgIC8vIENyZWF0ZSBhIGR1bW15IHBhcnRpY2xlIGJvZHkgd2l0aCBhIHBhcnRpY2xlIHNoYXBlIHRvIHRlc3QgYWdhaW5zdCB0aGUgYm9kaWVzXG5cdCAgICB2YXIgcGIgPSBuZXcgQm9keSh7IHBvc2l0aW9uOndvcmxkUG9pbnQgfSksXG5cdCAgICAgICAgcHMgPSBuZXcgUGFydGljbGUoKSxcblx0ICAgICAgICBweCA9IHdvcmxkUG9pbnQsXG5cdCAgICAgICAgcGEgPSAwLFxuXHQgICAgICAgIHggPSBoaXRUZXN0X3RtcDEsXG5cdCAgICAgICAgemVybyA9IGhpdFRlc3RfemVybyxcblx0ICAgICAgICB0bXAgPSBoaXRUZXN0X3RtcDI7XG5cdCAgICBwYi5hZGRTaGFwZShwcyk7XG5cdFxuXHQgICAgdmFyIG4gPSB0aGlzLm5hcnJvd3BoYXNlLFxuXHQgICAgICAgIHJlc3VsdCA9IFtdO1xuXHRcblx0ICAgIC8vIENoZWNrIGJvZGllc1xuXHQgICAgZm9yKHZhciBpPTAsIE49Ym9kaWVzLmxlbmd0aDsgaSE9PU47IGkrKyl7XG5cdCAgICAgICAgdmFyIGIgPSBib2RpZXNbaV07XG5cdFxuXHQgICAgICAgIGZvcih2YXIgaj0wLCBOUz1iLnNoYXBlcy5sZW5ndGg7IGohPT1OUzsgaisrKXtcblx0ICAgICAgICAgICAgdmFyIHMgPSBiLnNoYXBlc1tqXTtcblx0XG5cdCAgICAgICAgICAgIC8vIEdldCBzaGFwZSB3b3JsZCBwb3NpdGlvbiArIGFuZ2xlXG5cdCAgICAgICAgICAgIHZlYzIucm90YXRlKHgsIHMucG9zaXRpb24sIGIuYW5nbGUpO1xuXHQgICAgICAgICAgICB2ZWMyLmFkZCh4LCB4LCBiLnBvc2l0aW9uKTtcblx0ICAgICAgICAgICAgdmFyIGEgPSBzLmFuZ2xlICsgYi5hbmdsZTtcblx0XG5cdCAgICAgICAgICAgIGlmKCAocyBpbnN0YW5jZW9mIENpcmNsZSAgICAmJiBuLmNpcmNsZVBhcnRpY2xlICAoYixzLHgsYSwgICAgIHBiLHBzLHB4LHBhLCB0cnVlKSkgfHxcblx0ICAgICAgICAgICAgICAgIChzIGluc3RhbmNlb2YgQ29udmV4ICAgICYmIG4ucGFydGljbGVDb252ZXggIChwYixwcyxweCxwYSwgYixzLHgsYSwgICAgIHRydWUpKSB8fFxuXHQgICAgICAgICAgICAgICAgKHMgaW5zdGFuY2VvZiBQbGFuZSAgICAgJiYgbi5wYXJ0aWNsZVBsYW5lICAgKHBiLHBzLHB4LHBhLCBiLHMseCxhLCAgICAgdHJ1ZSkpIHx8XG5cdCAgICAgICAgICAgICAgICAocyBpbnN0YW5jZW9mIENhcHN1bGUgICAmJiBuLnBhcnRpY2xlQ2Fwc3VsZSAocGIscHMscHgscGEsIGIscyx4LGEsICAgICB0cnVlKSkgfHxcblx0ICAgICAgICAgICAgICAgIChzIGluc3RhbmNlb2YgUGFydGljbGUgICYmIHZlYzIuc3F1YXJlZExlbmd0aCh2ZWMyLnN1Yih0bXAseCx3b3JsZFBvaW50KSkgPCBwcmVjaXNpb24qcHJlY2lzaW9uKVxuXHQgICAgICAgICAgICAgICAgKXtcblx0ICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGIpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiByZXN1bHQ7XG5cdH07XG5cdFxuXHQvKipcblx0ICogU2V0IHRoZSBzdGlmZm5lc3MgZm9yIGFsbCBlcXVhdGlvbnMgYW5kIGNvbnRhY3QgbWF0ZXJpYWxzLlxuXHQgKiBAbWV0aG9kIHNldEdsb2JhbFN0aWZmbmVzc1xuXHQgKiBAcGFyYW0ge051bWJlcn0gc3RpZmZuZXNzXG5cdCAqL1xuXHRXb3JsZC5wcm90b3R5cGUuc2V0R2xvYmFsU3RpZmZuZXNzID0gZnVuY3Rpb24oc3RpZmZuZXNzKXtcblx0XG5cdCAgICAvLyBTZXQgZm9yIGFsbCBjb25zdHJhaW50c1xuXHQgICAgdmFyIGNvbnN0cmFpbnRzID0gdGhpcy5jb25zdHJhaW50cztcblx0ICAgIGZvcih2YXIgaT0wOyBpICE9PSBjb25zdHJhaW50cy5sZW5ndGg7IGkrKyl7XG5cdCAgICAgICAgdmFyIGMgPSBjb25zdHJhaW50c1tpXTtcblx0ICAgICAgICBmb3IodmFyIGo9MDsgaiAhPT0gYy5lcXVhdGlvbnMubGVuZ3RoOyBqKyspe1xuXHQgICAgICAgICAgICB2YXIgZXEgPSBjLmVxdWF0aW9uc1tqXTtcblx0ICAgICAgICAgICAgZXEuc3RpZmZuZXNzID0gc3RpZmZuZXNzO1xuXHQgICAgICAgICAgICBlcS5uZWVkc1VwZGF0ZSA9IHRydWU7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIC8vIFNldCBmb3IgYWxsIGNvbnRhY3QgbWF0ZXJpYWxzXG5cdCAgICB2YXIgY29udGFjdE1hdGVyaWFscyA9IHRoaXMuY29udGFjdE1hdGVyaWFscztcblx0ICAgIGZvcih2YXIgaT0wOyBpICE9PSBjb250YWN0TWF0ZXJpYWxzLmxlbmd0aDsgaSsrKXtcblx0ICAgICAgICB2YXIgYyA9IGNvbnRhY3RNYXRlcmlhbHNbaV07XG5cdCAgICAgICAgYy5zdGlmZm5lc3MgPSBjLmZyaWN0aW9uU3RpZmZuZXNzID0gc3RpZmZuZXNzO1xuXHQgICAgfVxuXHRcblx0ICAgIC8vIFNldCBmb3IgZGVmYXVsdCBjb250YWN0IG1hdGVyaWFsXG5cdCAgICB2YXIgYyA9IHRoaXMuZGVmYXVsdENvbnRhY3RNYXRlcmlhbDtcblx0ICAgIGMuc3RpZmZuZXNzID0gYy5mcmljdGlvblN0aWZmbmVzcyA9IHN0aWZmbmVzcztcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBTZXQgdGhlIHJlbGF4YXRpb24gZm9yIGFsbCBlcXVhdGlvbnMgYW5kIGNvbnRhY3QgbWF0ZXJpYWxzLlxuXHQgKiBAbWV0aG9kIHNldEdsb2JhbFJlbGF4YXRpb25cblx0ICogQHBhcmFtIHtOdW1iZXJ9IHJlbGF4YXRpb25cblx0ICovXG5cdFdvcmxkLnByb3RvdHlwZS5zZXRHbG9iYWxSZWxheGF0aW9uID0gZnVuY3Rpb24ocmVsYXhhdGlvbil7XG5cdFxuXHQgICAgLy8gU2V0IGZvciBhbGwgY29uc3RyYWludHNcblx0ICAgIGZvcih2YXIgaT0wOyBpICE9PSB0aGlzLmNvbnN0cmFpbnRzLmxlbmd0aDsgaSsrKXtcblx0ICAgICAgICB2YXIgYyA9IHRoaXMuY29uc3RyYWludHNbaV07XG5cdCAgICAgICAgZm9yKHZhciBqPTA7IGogIT09IGMuZXF1YXRpb25zLmxlbmd0aDsgaisrKXtcblx0ICAgICAgICAgICAgdmFyIGVxID0gYy5lcXVhdGlvbnNbal07XG5cdCAgICAgICAgICAgIGVxLnJlbGF4YXRpb24gPSByZWxheGF0aW9uO1xuXHQgICAgICAgICAgICBlcS5uZWVkc1VwZGF0ZSA9IHRydWU7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIC8vIFNldCBmb3IgYWxsIGNvbnRhY3QgbWF0ZXJpYWxzXG5cdCAgICBmb3IodmFyIGk9MDsgaSAhPT0gdGhpcy5jb250YWN0TWF0ZXJpYWxzLmxlbmd0aDsgaSsrKXtcblx0ICAgICAgICB2YXIgYyA9IHRoaXMuY29udGFjdE1hdGVyaWFsc1tpXTtcblx0ICAgICAgICBjLnJlbGF4YXRpb24gPSBjLmZyaWN0aW9uUmVsYXhhdGlvbiA9IHJlbGF4YXRpb247XG5cdCAgICB9XG5cdFxuXHQgICAgLy8gU2V0IGZvciBkZWZhdWx0IGNvbnRhY3QgbWF0ZXJpYWxcblx0ICAgIHZhciBjID0gdGhpcy5kZWZhdWx0Q29udGFjdE1hdGVyaWFsO1xuXHQgICAgYy5yZWxheGF0aW9uID0gYy5mcmljdGlvblJlbGF4YXRpb24gPSByZWxheGF0aW9uO1xuXHR9O1xuXHRcblx0dmFyIHRtcEFBQkIgPSBuZXcgQUFCQigpO1xuXHR2YXIgdG1wQXJyYXkgPSBbXTtcblx0XG5cdC8qKlxuXHQgKiBSYXkgY2FzdCBhZ2FpbnN0IGFsbCBib2RpZXMgaW4gdGhlIHdvcmxkLlxuXHQgKiBAbWV0aG9kIHJheWNhc3Rcblx0ICogQHBhcmFtICB7UmF5Y2FzdFJlc3VsdH0gcmVzdWx0XG5cdCAqIEBwYXJhbSAge1JheX0gcmF5XG5cdCAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgYW55IGJvZHkgd2FzIGhpdC5cblx0ICpcblx0ICogQGV4YW1wbGVcblx0ICogICAgIHZhciByYXkgPSBuZXcgUmF5KHtcblx0ICogICAgICAgICBtb2RlOiBSYXkuQ0xPU0VTVCwgLy8gb3IgQU5ZXG5cdCAqICAgICAgICAgZnJvbTogWzAsIDBdLFxuXHQgKiAgICAgICAgIHRvOiBbMTAsIDBdLFxuXHQgKiAgICAgfSk7XG5cdCAqICAgICB2YXIgcmVzdWx0ID0gbmV3IFJheWNhc3RSZXN1bHQoKTtcblx0ICogICAgIHdvcmxkLnJheWNhc3QocmVzdWx0LCByYXkpO1xuXHQgKlxuXHQgKiAgICAgLy8gR2V0IHRoZSBoaXQgcG9pbnRcblx0ICogICAgIHZhciBoaXRQb2ludCA9IHZlYzIuY3JlYXRlKCk7XG5cdCAqICAgICByZXN1bHQuZ2V0SGl0UG9pbnQoaGl0UG9pbnQsIHJheSk7XG5cdCAqICAgICBjb25zb2xlLmxvZygnSGl0IHBvaW50OiAnLCBoaXRQb2ludFswXSwgaGl0UG9pbnRbMV0sICcgYXQgZGlzdGFuY2UgJyArIHJlc3VsdC5nZXRIaXREaXN0YW5jZShyYXkpKTtcblx0ICpcblx0ICogQGV4YW1wbGVcblx0ICogICAgIHZhciByYXkgPSBuZXcgUmF5KHtcblx0ICogICAgICAgICBtb2RlOiBSYXkuQUxMLFxuXHQgKiAgICAgICAgIGZyb206IFswLCAwXSxcblx0ICogICAgICAgICB0bzogWzEwLCAwXSxcblx0ICogICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24ocmVzdWx0KXtcblx0ICpcblx0ICogICAgICAgICAgICAgLy8gUHJpbnQgc29tZSBpbmZvIGFib3V0IHRoZSBoaXRcblx0ICogICAgICAgICAgICAgY29uc29sZS5sb2coJ0hpdCBib2R5IGFuZCBzaGFwZTogJywgcmVzdWx0LmJvZHksIHJlc3VsdC5zaGFwZSk7XG5cdCAqXG5cdCAqICAgICAgICAgICAgIC8vIEdldCB0aGUgaGl0IHBvaW50XG5cdCAqICAgICAgICAgICAgIHZhciBoaXRQb2ludCA9IHZlYzIuY3JlYXRlKCk7XG5cdCAqICAgICAgICAgICAgIHJlc3VsdC5nZXRIaXRQb2ludChoaXRQb2ludCwgcmF5KTtcblx0ICogICAgICAgICAgICAgY29uc29sZS5sb2coJ0hpdCBwb2ludDogJywgaGl0UG9pbnRbMF0sIGhpdFBvaW50WzFdLCAnIGF0IGRpc3RhbmNlICcgKyByZXN1bHQuZ2V0SGl0RGlzdGFuY2UocmF5KSk7XG5cdCAqXG5cdCAqICAgICAgICAgICAgIC8vIElmIHlvdSBhcmUgaGFwcHkgd2l0aCB0aGUgaGl0cyB5b3UgZ290IHRoaXMgZmFyLCB5b3UgY2FuIHN0b3AgdGhlIHRyYXZlcnNhbCBoZXJlOlxuXHQgKiAgICAgICAgICAgICByZXN1bHQuc3RvcCgpO1xuXHQgKiAgICAgICAgIH1cblx0ICogICAgIH0pO1xuXHQgKiAgICAgdmFyIHJlc3VsdCA9IG5ldyBSYXljYXN0UmVzdWx0KCk7XG5cdCAqICAgICB3b3JsZC5yYXljYXN0KHJlc3VsdCwgcmF5KTtcblx0ICovXG5cdFdvcmxkLnByb3RvdHlwZS5yYXljYXN0ID0gZnVuY3Rpb24ocmVzdWx0LCByYXkpe1xuXHRcblx0ICAgIC8vIEdldCBhbGwgYm9kaWVzIHdpdGhpbiB0aGUgcmF5IEFBQkJcblx0ICAgIHJheS5nZXRBQUJCKHRtcEFBQkIpO1xuXHQgICAgdGhpcy5icm9hZHBoYXNlLmFhYmJRdWVyeSh0aGlzLCB0bXBBQUJCLCB0bXBBcnJheSk7XG5cdCAgICByYXkuaW50ZXJzZWN0Qm9kaWVzKHJlc3VsdCwgdG1wQXJyYXkpO1xuXHQgICAgdG1wQXJyYXkubGVuZ3RoID0gMDtcblx0XG5cdCAgICByZXR1cm4gcmVzdWx0Lmhhc0hpdCgpO1xuXHR9O1xuXG5cbi8qKiovIH0sXG4vKiAxMTUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qXHJcblx0XHRNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxyXG5cdFx0QXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxyXG5cdCovXHJcblx0dmFyIHN0eWxlc0luRG9tID0ge30sXHJcblx0XHRtZW1vaXplID0gZnVuY3Rpb24oZm4pIHtcclxuXHRcdFx0dmFyIG1lbW87XHJcblx0XHRcdHJldHVybiBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0aWYgKHR5cGVvZiBtZW1vID09PSBcInVuZGVmaW5lZFwiKSBtZW1vID0gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuXHRcdFx0XHRyZXR1cm4gbWVtbztcclxuXHRcdFx0fTtcclxuXHRcdH0sXHJcblx0XHRpc09sZElFID0gbWVtb2l6ZShmdW5jdGlvbigpIHtcclxuXHRcdFx0cmV0dXJuIC9tc2llIFs2LTldXFxiLy50ZXN0KHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkpO1xyXG5cdFx0fSksXHJcblx0XHRnZXRIZWFkRWxlbWVudCA9IG1lbW9pemUoZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRyZXR1cm4gZG9jdW1lbnQuaGVhZCB8fCBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImhlYWRcIilbMF07XHJcblx0XHR9KSxcclxuXHRcdHNpbmdsZXRvbkVsZW1lbnQgPSBudWxsLFxyXG5cdFx0c2luZ2xldG9uQ291bnRlciA9IDA7XHJcblx0XHJcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihsaXN0LCBvcHRpb25zKSB7XHJcblx0XHRpZihmYWxzZSkge1xyXG5cdFx0XHRpZih0eXBlb2YgZG9jdW1lbnQgIT09IFwib2JqZWN0XCIpIHRocm93IG5ldyBFcnJvcihcIlRoZSBzdHlsZS1sb2FkZXIgY2Fubm90IGJlIHVzZWQgaW4gYSBub24tYnJvd3NlciBlbnZpcm9ubWVudFwiKTtcclxuXHRcdH1cclxuXHRcclxuXHRcdG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xyXG5cdFx0Ly8gRm9yY2Ugc2luZ2xlLXRhZyBzb2x1dGlvbiBvbiBJRTYtOSwgd2hpY2ggaGFzIGEgaGFyZCBsaW1pdCBvbiB0aGUgIyBvZiA8c3R5bGU+XHJcblx0XHQvLyB0YWdzIGl0IHdpbGwgYWxsb3cgb24gYSBwYWdlXHJcblx0XHRpZiAodHlwZW9mIG9wdGlvbnMuc2luZ2xldG9uID09PSBcInVuZGVmaW5lZFwiKSBvcHRpb25zLnNpbmdsZXRvbiA9IGlzT2xkSUUoKTtcclxuXHRcclxuXHRcdHZhciBzdHlsZXMgPSBsaXN0VG9TdHlsZXMobGlzdCk7XHJcblx0XHRhZGRTdHlsZXNUb0RvbShzdHlsZXMsIG9wdGlvbnMpO1xyXG5cdFxyXG5cdFx0cmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZShuZXdMaXN0KSB7XHJcblx0XHRcdHZhciBtYXlSZW1vdmUgPSBbXTtcclxuXHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdHZhciBpdGVtID0gc3R5bGVzW2ldO1xyXG5cdFx0XHRcdHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xyXG5cdFx0XHRcdGRvbVN0eWxlLnJlZnMtLTtcclxuXHRcdFx0XHRtYXlSZW1vdmUucHVzaChkb21TdHlsZSk7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYobmV3TGlzdCkge1xyXG5cdFx0XHRcdHZhciBuZXdTdHlsZXMgPSBsaXN0VG9TdHlsZXMobmV3TGlzdCk7XHJcblx0XHRcdFx0YWRkU3R5bGVzVG9Eb20obmV3U3R5bGVzLCBvcHRpb25zKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgbWF5UmVtb3ZlLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0dmFyIGRvbVN0eWxlID0gbWF5UmVtb3ZlW2ldO1xyXG5cdFx0XHRcdGlmKGRvbVN0eWxlLnJlZnMgPT09IDApIHtcclxuXHRcdFx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBkb21TdHlsZS5wYXJ0cy5sZW5ndGg7IGorKylcclxuXHRcdFx0XHRcdFx0ZG9tU3R5bGUucGFydHNbal0oKTtcclxuXHRcdFx0XHRcdGRlbGV0ZSBzdHlsZXNJbkRvbVtkb21TdHlsZS5pZF07XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cdH1cclxuXHRcclxuXHRmdW5jdGlvbiBhZGRTdHlsZXNUb0RvbShzdHlsZXMsIG9wdGlvbnMpIHtcclxuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBzdHlsZXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0dmFyIGl0ZW0gPSBzdHlsZXNbaV07XHJcblx0XHRcdHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xyXG5cdFx0XHRpZihkb21TdHlsZSkge1xyXG5cdFx0XHRcdGRvbVN0eWxlLnJlZnMrKztcclxuXHRcdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgZG9tU3R5bGUucGFydHMubGVuZ3RoOyBqKyspIHtcclxuXHRcdFx0XHRcdGRvbVN0eWxlLnBhcnRzW2pdKGl0ZW0ucGFydHNbal0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRmb3IoOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xyXG5cdFx0XHRcdFx0ZG9tU3R5bGUucGFydHMucHVzaChhZGRTdHlsZShpdGVtLnBhcnRzW2pdLCBvcHRpb25zKSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHZhciBwYXJ0cyA9IFtdO1xyXG5cdFx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBpdGVtLnBhcnRzLmxlbmd0aDsgaisrKSB7XHJcblx0XHRcdFx0XHRwYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0c3R5bGVzSW5Eb21baXRlbS5pZF0gPSB7aWQ6IGl0ZW0uaWQsIHJlZnM6IDEsIHBhcnRzOiBwYXJ0c307XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblx0XHJcblx0ZnVuY3Rpb24gbGlzdFRvU3R5bGVzKGxpc3QpIHtcclxuXHRcdHZhciBzdHlsZXMgPSBbXTtcclxuXHRcdHZhciBuZXdTdHlsZXMgPSB7fTtcclxuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdHZhciBpdGVtID0gbGlzdFtpXTtcclxuXHRcdFx0dmFyIGlkID0gaXRlbVswXTtcclxuXHRcdFx0dmFyIGNzcyA9IGl0ZW1bMV07XHJcblx0XHRcdHZhciBtZWRpYSA9IGl0ZW1bMl07XHJcblx0XHRcdHZhciBzb3VyY2VNYXAgPSBpdGVtWzNdO1xyXG5cdFx0XHR2YXIgcGFydCA9IHtjc3M6IGNzcywgbWVkaWE6IG1lZGlhLCBzb3VyY2VNYXA6IHNvdXJjZU1hcH07XHJcblx0XHRcdGlmKCFuZXdTdHlsZXNbaWRdKVxyXG5cdFx0XHRcdHN0eWxlcy5wdXNoKG5ld1N0eWxlc1tpZF0gPSB7aWQ6IGlkLCBwYXJ0czogW3BhcnRdfSk7XHJcblx0XHRcdGVsc2VcclxuXHRcdFx0XHRuZXdTdHlsZXNbaWRdLnBhcnRzLnB1c2gocGFydCk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gc3R5bGVzO1xyXG5cdH1cclxuXHRcclxuXHRmdW5jdGlvbiBjcmVhdGVTdHlsZUVsZW1lbnQoKSB7XHJcblx0XHR2YXIgc3R5bGVFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xyXG5cdFx0dmFyIGhlYWQgPSBnZXRIZWFkRWxlbWVudCgpO1xyXG5cdFx0c3R5bGVFbGVtZW50LnR5cGUgPSBcInRleHQvY3NzXCI7XHJcblx0XHRoZWFkLmFwcGVuZENoaWxkKHN0eWxlRWxlbWVudCk7XHJcblx0XHRyZXR1cm4gc3R5bGVFbGVtZW50O1xyXG5cdH1cclxuXHRcclxuXHRmdW5jdGlvbiBhZGRTdHlsZShvYmosIG9wdGlvbnMpIHtcclxuXHRcdHZhciBzdHlsZUVsZW1lbnQsIHVwZGF0ZSwgcmVtb3ZlO1xyXG5cdFxyXG5cdFx0aWYgKG9wdGlvbnMuc2luZ2xldG9uKSB7XHJcblx0XHRcdHZhciBzdHlsZUluZGV4ID0gc2luZ2xldG9uQ291bnRlcisrO1xyXG5cdFx0XHRzdHlsZUVsZW1lbnQgPSBzaW5nbGV0b25FbGVtZW50IHx8IChzaW5nbGV0b25FbGVtZW50ID0gY3JlYXRlU3R5bGVFbGVtZW50KCkpO1xyXG5cdFx0XHR1cGRhdGUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGVFbGVtZW50LCBzdHlsZUluZGV4LCBmYWxzZSk7XHJcblx0XHRcdHJlbW92ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZUVsZW1lbnQsIHN0eWxlSW5kZXgsIHRydWUpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0c3R5bGVFbGVtZW50ID0gY3JlYXRlU3R5bGVFbGVtZW50KCk7XHJcblx0XHRcdHVwZGF0ZSA9IGFwcGx5VG9UYWcuYmluZChudWxsLCBzdHlsZUVsZW1lbnQpO1xyXG5cdFx0XHRyZW1vdmUgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0c3R5bGVFbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGVFbGVtZW50KTtcclxuXHRcdFx0fTtcclxuXHRcdH1cclxuXHRcclxuXHRcdHVwZGF0ZShvYmopO1xyXG5cdFxyXG5cdFx0cmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZVN0eWxlKG5ld09iaikge1xyXG5cdFx0XHRpZihuZXdPYmopIHtcclxuXHRcdFx0XHRpZihuZXdPYmouY3NzID09PSBvYmouY3NzICYmIG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmIG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXApXHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0dXBkYXRlKG9iaiA9IG5ld09iaik7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0cmVtb3ZlKCk7XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblx0fVxyXG5cdFxyXG5cdGZ1bmN0aW9uIHJlcGxhY2VUZXh0KHNvdXJjZSwgaWQsIHJlcGxhY2VtZW50KSB7XHJcblx0XHR2YXIgYm91bmRhcmllcyA9IFtcIi8qKiA+PlwiICsgaWQgKyBcIiAqKi9cIiwgXCIvKiogXCIgKyBpZCArIFwiPDwgKiovXCJdO1xyXG5cdFx0dmFyIHN0YXJ0ID0gc291cmNlLmxhc3RJbmRleE9mKGJvdW5kYXJpZXNbMF0pO1xyXG5cdFx0dmFyIHdyYXBwZWRSZXBsYWNlbWVudCA9IHJlcGxhY2VtZW50XHJcblx0XHRcdD8gKGJvdW5kYXJpZXNbMF0gKyByZXBsYWNlbWVudCArIGJvdW5kYXJpZXNbMV0pXHJcblx0XHRcdDogXCJcIjtcclxuXHRcdGlmIChzb3VyY2UubGFzdEluZGV4T2YoYm91bmRhcmllc1swXSkgPj0gMCkge1xyXG5cdFx0XHR2YXIgZW5kID0gc291cmNlLmxhc3RJbmRleE9mKGJvdW5kYXJpZXNbMV0pICsgYm91bmRhcmllc1sxXS5sZW5ndGg7XHJcblx0XHRcdHJldHVybiBzb3VyY2Uuc2xpY2UoMCwgc3RhcnQpICsgd3JhcHBlZFJlcGxhY2VtZW50ICsgc291cmNlLnNsaWNlKGVuZCk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRyZXR1cm4gc291cmNlICsgd3JhcHBlZFJlcGxhY2VtZW50O1xyXG5cdFx0fVxyXG5cdH1cclxuXHRcclxuXHRmdW5jdGlvbiBhcHBseVRvU2luZ2xldG9uVGFnKHN0eWxlRWxlbWVudCwgaW5kZXgsIHJlbW92ZSwgb2JqKSB7XHJcblx0XHR2YXIgY3NzID0gcmVtb3ZlID8gXCJcIiA6IG9iai5jc3M7XHJcblx0XHJcblx0XHRpZihzdHlsZUVsZW1lbnQuc3R5bGVTaGVldCkge1xyXG5cdFx0XHRzdHlsZUVsZW1lbnQuc3R5bGVTaGVldC5jc3NUZXh0ID0gcmVwbGFjZVRleHQoc3R5bGVFbGVtZW50LnN0eWxlU2hlZXQuY3NzVGV4dCwgaW5kZXgsIGNzcyk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR2YXIgY3NzTm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcyk7XHJcblx0XHRcdHZhciBjaGlsZE5vZGVzID0gc3R5bGVFbGVtZW50LmNoaWxkTm9kZXM7XHJcblx0XHRcdGlmIChjaGlsZE5vZGVzW2luZGV4XSkgc3R5bGVFbGVtZW50LnJlbW92ZUNoaWxkKGNoaWxkTm9kZXNbaW5kZXhdKTtcclxuXHRcdFx0aWYgKGNoaWxkTm9kZXMubGVuZ3RoKSB7XHJcblx0XHRcdFx0c3R5bGVFbGVtZW50Lmluc2VydEJlZm9yZShjc3NOb2RlLCBjaGlsZE5vZGVzW2luZGV4XSk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0c3R5bGVFbGVtZW50LmFwcGVuZENoaWxkKGNzc05vZGUpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cdFxyXG5cdGZ1bmN0aW9uIGFwcGx5VG9UYWcoc3R5bGVFbGVtZW50LCBvYmopIHtcclxuXHRcdHZhciBjc3MgPSBvYmouY3NzO1xyXG5cdFx0dmFyIG1lZGlhID0gb2JqLm1lZGlhO1xyXG5cdFx0dmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XHJcblx0XHJcblx0XHRpZihzb3VyY2VNYXAgJiYgdHlwZW9mIGJ0b2EgPT09IFwiZnVuY3Rpb25cIikge1xyXG5cdFx0XHR0cnkge1xyXG5cdFx0XHRcdGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIgKyBidG9hKEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpICsgXCIgKi9cIjtcclxuXHRcdFx0XHRjc3MgPSBcIkBpbXBvcnQgdXJsKFxcXCJkYXRhOnRleHQvY3NzO2Jhc2U2NCxcIiArIGJ0b2EoY3NzKSArIFwiXFxcIilcIjtcclxuXHRcdFx0fSBjYXRjaChlKSB7fVxyXG5cdFx0fVxyXG5cdFxyXG5cdFx0aWYobWVkaWEpIHtcclxuXHRcdFx0c3R5bGVFbGVtZW50LnNldEF0dHJpYnV0ZShcIm1lZGlhXCIsIG1lZGlhKVxyXG5cdFx0fVxyXG5cdFxyXG5cdFx0aWYoc3R5bGVFbGVtZW50LnN0eWxlU2hlZXQpIHtcclxuXHRcdFx0c3R5bGVFbGVtZW50LnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHdoaWxlKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKSB7XHJcblx0XHRcdFx0c3R5bGVFbGVtZW50LnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRzdHlsZUVsZW1lbnQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XHJcblx0XHR9XHJcblx0fVxyXG5cblxuLyoqKi8gfSxcbi8qIDExNiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0Ly8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblx0XG5cdC8vIGxvYWQgdGhlIHN0eWxlc1xuXHR2YXIgY29udGVudCA9IF9fd2VicGFja19yZXF1aXJlX18oNzYpO1xuXHRpZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcblx0Ly8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxuXHR2YXIgdXBkYXRlID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTUpKGNvbnRlbnQsIHt9KTtcblx0Ly8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuXHRpZihmYWxzZSkge1xuXHRcdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdFx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS9ob21lL3RyYXZpcy9idWlsZC9yaWt1a2lzc2EvZG9nZmlnaHQtZG9kZ2Vycy9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEvaG9tZS90cmF2aXMvYnVpbGQvcmlrdWtpc3NhL2RvZ2ZpZ2h0LWRvZGdlcnMvc2NyaXB0cy9zdHlsZS5jc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS9ob21lL3RyYXZpcy9idWlsZC9yaWt1a2lzc2EvZG9nZmlnaHQtZG9kZ2Vycy9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEvaG9tZS90cmF2aXMvYnVpbGQvcmlrdWtpc3NhL2RvZ2ZpZ2h0LWRvZGdlcnMvc2NyaXB0cy9zdHlsZS5jc3NcIik7XG5cdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHR9KTtcblx0XHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdFx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG5cdH1cblxuLyoqKi8gfSxcbi8qIDExNyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBcImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQ2dBQUFBUUNBWUFBQUJrMXoydEFBQUFDWEJJV1hNQUFBc1RBQUFMRXdFQW1wd1lBQUFLVDJsRFExQlFhRzkwYjNOb2IzQWdTVU5ESUhCeWIyWnBiR1VBQUhqYW5WTm5WRlBwRmozMzN2UkNTNGlBbEV0dlVoVUlJRkpDaTRBVWtTWXFJUWtRU29naG9ka1ZVY0VSUlVVRUc4aWdpQU9Pam9DTUZWRXNESW9LMkFma0lhS09nNk9JaXNyNzRYdWphOWE4OStiTi9yWFhQdWVzODUyenp3ZkFDQXlXU0ROUk5ZQU1xVUllRWVDRHg4VEc0ZVF1UUlFS0pIQUFFQWl6WkNGei9TTUJBUGgrUER3cklzQUh2Z0FCZU5NTENBREFUWnZBTUJ5SC93L3FRcGxjQVlDRUFjQjBrVGhMQ0lBVUFFQjZqa0ttQUVCR0FZQ2RtQ1pUQUtBRUFHRExZMkxqQUZBdEFHQW5mK2JUQUlDZCtKbDdBUUJibENFVkFhQ1JBQ0FUWlloRUFHZzdBS3pQVm9wRkFGZ3dBQlJtUzhRNUFOZ3RBREJKVjJaSUFMQzNBTURPRUF1eUFBZ01BREJSaUlVcEFBUjdBR0RJSXlONEFJU1pBQlJHOGxjODhTdXVFT2NxQUFCNG1iSTh1U1E1UllGYkNDMXhCMWRYTGg0b3pra1hLeFEyWVFKaG1rQXV3bm1aR1RLQk5BL2c4OHdBQUtDUkZSSGdnL1A5ZU00T3JzN09ObzYyRGw4dDZyOEcveUppWXVQKzVjK3JjRUFBQU9GMGZ0SCtMQyt6R29BN0JvQnQvcUlsN2dSb1hndWdkZmVMWnJJUFFMVUFvT25hVi9OdytINDhQRVdoa0xuWjJlWGs1TmhLeEVKYlljcFhmZjVud2wvQVYvMXMrWDQ4L1BmMTRMN2lKSUV5WFlGSEJQamd3c3owVEtVY3o1SUpoR0xjNW85SC9MY0wvL3dkMHlMRVNXSzVXQ29VNDFFU2NZNUVtb3p6TXFVaWlVS1NLY1VsMHY5azR0OHMrd00rM3pVQXNHbytBWHVSTGFoZFl3UDJTeWNRV0hUQTR2Y0FBUEs3YjhIVUtBZ0RnR2lENGM5My8rOC8vVWVnSlFDQVprbVNjUUFBWGtRa0xsVEtzei9IQ0FBQVJLQ0JLckJCRy9UQkdDekFCaHpCQmR6QkMveGdOb1JDSk1UQ1FoQkNDbVNBSEhKZ0theUNRaWlHemJBZEttQXYxRUFkTk1CUmFJYVRjQTR1d2xXNERqMXdEL3BoQ0o3QktMeUJDUVJCeUFnVFlTSGFpQUZpaWxnampnZ1htWVg0SWNGSUJCS0xKQ0RKaUJSUklrdVJOVWd4VW9wVUlGVklIZkk5Y2dJNWgxeEd1cEU3eUFBeWd2eUd2RWN4bElHeVVUM1VETFZEdWFnM0dvUkdvZ3ZRWkhReG1vOFdvSnZRY3JRYVBZdzJvZWZRcTJnUDJvOCtROGN3d09nWUJ6UEViREF1eHNOQ3NUZ3NDWk5qeTdFaXJBeXJ4aHF3VnF3RHU0bjFZOCt4ZHdRU2dVWEFDVFlFZDBJZ1lSNUJTRmhNV0U3WVNLZ2dIQ1EwRWRvSk53a0RoRkhDSnlLVHFFdTBKcm9SK2NRWVlqSXhoMWhJTENQV0VvOFRMeEI3aUVQRU55UVNpVU15SjdtUUFrbXhwRlRTRXRKRzBtNVNJK2tzcVpzMFNCb2prOG5hWkd1eUJ6bVVMQ0FyeUlYa25lVEQ1RFBrRytRaDhsc0tuV0pBY2FUNFUrSW9Vc3BxU2hubEVPVTA1UVpsbURKQlZhT2FVdDJvb1ZRUk5ZOWFRcTJodGxLdlVZZW9FelIxbWpuTmd4WkpTNld0b3BYVEdtZ1hhUGRwcitoMHVoSGRsUjVPbDlCWDBzdnBSK2lYNkFQMGR3d05oaFdEeDRobktCbWJHQWNZWnhsM0dLK1lUS1laMDRzWngxUXdOekhybU9lWkQ1bHZWVmdxdGlwOEZaSEtDcFZLbFNhVkd5b3ZWS21xcHFyZXFndFY4MVhMVkkrcFhsTjlya1pWTTFQanFRblVscXRWcXAxUTYxTWJVMmVwTzZpSHFtZW9iMVEvcEg1Wi9Za0dXY05NdzA5RHBGR2dzVi9qdk1ZZ0MyTVpzM2dzSVdzTnE0WjFnVFhFSnJITjJYeDJLcnVZL1IyN2l6MnFxYUU1UXpOS00xZXpVdk9VWmo4SDQ1aHgrSngwVGdubktLZVg4MzZLM2hUdktlSXBHNlkwVExreFpWeHJxcGFYbGxpclNLdFJxMGZydlRhdTdhZWRwcjFGdTFuN2dRNUJ4MG9uWENkSFo0L09CWjNuVTlsVDNhY0tweFpOUFRyMXJpNnFhNlVib2J0RWQ3OXVwKzZZbnI1ZWdKNU1iNmZlZWIzbitoeDlMLzFVL1czNnAvVkhERmdHc3d3a0J0c016aGc4eFRWeGJ6d2RMOGZiOFZGRFhjTkFRNlZobFdHWDRZU1J1ZEU4bzlWR2pVWVBqR25HWE9NazQyM0diY2FqSmdZbUlTWkxUZXBON3BwU1RibW1LYVk3VER0TXg4M016YUxOMXBrMW16MHgxekxubStlYjE1dmZ0MkJhZUZvc3RxaTJ1R1ZKc3VSYXBsbnV0cnh1aFZvNVdhVllWVnBkczBhdG5hMGwxcnV0dTZjUnA3bE9rMDZybnRabnc3RHh0c20ycWJjWnNPWFlCdHV1dG0yMmZXRm5ZaGRudDhXdXcrNlR2Wk45dW4yTi9UMEhEWWZaRHFzZFdoMStjN1J5RkRwV090NmF6cHp1UDMzRjlKYnBMMmRZenhEUDJEUGp0aFBMS2NScG5WT2IwMGRuRjJlNWM0UHppSXVKUzRMTExwYytMcHNieHQzSXZlUktkUFZ4WGVGNjB2V2RtN09id3UybzI2L3VOdTVwN29mY244dzBueW1lV1ROejBNUElRK0JSNWRFL0M1K1ZNR3Zmckg1UFEwK0JaN1huSXk5akw1RlhyZGV3dDZWM3F2ZGg3eGMrOWo1eW4rTSs0enczM2pMZVdWL01OOEMzeUxmTFQ4TnZubCtGMzBOL0kvOWsvM3IvMFFDbmdDVUJad09KZ1VHQld3TDcrSHA4SWIrT1B6cmJaZmF5MmUxQmpLQzVRUlZCajRLdGd1WEJyU0ZveU95UXJTSDM1NWpPa2M1cERvVlFmdWpXMEFkaDVtR0x3MzRNSjRXSGhWZUdQNDV3aUZnYTBUR1hOWGZSM0VOejMwVDZSSlpFM3B0bk1VODVyeTFLTlNvK3FpNXFQTm8zdWpTNlA4WXVabG5NMVZpZFdFbHNTeHc1TGlxdU5tNXN2dC84N2ZPSDRwM2lDK043RjVndnlGMXdlYUhPd3ZTRnB4YXBMaElzT3BaQVRJaE9PSlR3UVJBcXFCYU1KZklUZHlXT0NubkNIY0puSWkvUk50R0kyRU5jS2g1TzhrZ3FUWHFTN0pHOE5Ya2t4VE9sTE9XNWhDZXBrTHhNRFV6ZG16cWVGcHAySUcweVBUcTlNWU9Ta1pCeFFxb2hUWk8yWitwbjVtWjJ5NnhsaGJMK3hXNkx0eThlbFFmSmE3T1FyQVZaTFFxMlFxYm9WRm9vMXlvSHNtZGxWMmEvelluS09aYXJuaXZON2N5enl0dVFONXp2bi8vdEVzSVM0WksycFlaTFZ5MGRXT2E5ckdvNXNqeHhlZHNLNHhVRks0WldCcXc4dUlxMkttM1ZUNnZ0VjVldWZyMG1lazFyZ1Y3QnlvTEJ0UUZyNnd0VkN1V0ZmZXZjMSsxZFQxZ3ZXZCsxWWZxR25ScytGWW1LcmhUYkY1Y1ZmOWdvM0hqbEc0ZHZ5citaM0pTMHFhdkV1V1RQWnRKbTZlYmVMWjViRHBhcWwrYVhEbTROMmRxMERkOVd0TzMxOWtYYkw1Zk5LTnU3ZzdaRHVhTy9QTGk4WmFmSnpzMDdQMVNrVlBSVStsUTI3dExkdFdIWCtHN1I3aHQ3dlBZMDdOWGJXN3ozL1Q3SnZ0dFZBVlZOMVdiVlpmdEorN1AzUDY2SnF1bjRsdnR0WGExT2JYSHR4d1BTQS8wSEl3NjIxN25VMVIzU1BWUlNqOVlyNjBjT3h4KysvcDN2ZHkwTk5nMVZqWnpHNGlOd1JIbms2ZmNKMy9jZURUcmFkb3g3ck9FSDB4OTJIV2NkTDJwQ212S2FScHRUbXZ0YllsdTZUOHcrMGRicTNucjhSOXNmRDV3MFBGbDVTdk5VeVduYTZZTFRrMmZ5ejR5ZGxaMTlmaTc1M0dEYm9yWjc1MlBPMzJvUGIrKzZFSFRoMGtYL2krYzd2RHZPWFBLNGRQS3kyK1VUVjdoWG1xODZYMjNxZE9vOC9wUFRUOGU3bkx1YXJybGNhN251ZXIyMWUyYjM2UnVlTjg3ZDlMMTU4UmIvMXRXZU9UM2R2Zk42Yi9mRjkvWGZGdDErY2lmOXpzdTcyWGNuN3EyOFQ3eGY5RUR0UWRsRDNZZlZQMXYrM05qdjNIOXF3SGVnODlIY1IvY0doWVBQL3BIMWp3OURCWStaajh1R0RZYnJuamcrT1RuaVAzTDk2ZnluUTg5a3p5YWVGLzZpL3N1dUZ4WXZmdmpWNjlmTzBaalJvWmZ5bDVPL2JYeWwvZXJBNnhtdjI4YkN4aDYreVhnek1WNzBWdnZ0d1hmY2R4M3ZvOThQVCtSOElIOG8vMmo1c2ZWVDBLZjdreG1Uay84RUE1anovR016TGRzQUFEdFdhVlJZZEZoTlREcGpiMjB1WVdSdlltVXVlRzF3QUFBQUFBQThQM2h3WVdOclpYUWdZbVZuYVc0OUl1Kzd2eUlnYVdROUlsYzFUVEJOY0VObGFHbEllbkpsVTNwT1ZHTjZhMk01WkNJL1BnbzhlRHA0YlhCdFpYUmhJSGh0Ykc1ek9uZzlJbUZrYjJKbE9tNXpPbTFsZEdFdklpQjRPbmh0Y0hSclBTSkJaRzlpWlNCWVRWQWdRMjl5WlNBMUxqVXRZekF5TVNBM09TNHhOVFUzTnpJc0lESXdNVFF2TURFdk1UTXRNVGs2TkRRNk1EQWdJQ0FnSUNBZ0lDSStDaUFnSUR4eVpHWTZVa1JHSUhodGJHNXpPbkprWmowaWFIUjBjRG92TDNkM2R5NTNNeTV2Y21jdk1UazVPUzh3TWk4eU1pMXlaR1l0YzNsdWRHRjRMVzV6SXlJK0NpQWdJQ0FnSUR4eVpHWTZSR1Z6WTNKcGNIUnBiMjRnY21SbU9tRmliM1YwUFNJaUNpQWdJQ0FnSUNBZ0lDQWdJSGh0Ykc1ek9uaHRjRDBpYUhSMGNEb3ZMMjV6TG1Ga2IySmxMbU52YlM5NFlYQXZNUzR3THlJS0lDQWdJQ0FnSUNBZ0lDQWdlRzFzYm5NNmVHMXdUVTA5SW1oMGRIQTZMeTl1Y3k1aFpHOWlaUzVqYjIwdmVHRndMekV1TUM5dGJTOGlDaUFnSUNBZ0lDQWdJQ0FnSUhodGJHNXpPbk4wUlhaMFBTSm9kSFJ3T2k4dmJuTXVZV1J2WW1VdVkyOXRMM2hoY0M4eExqQXZjMVI1Y0dVdlVtVnpiM1Z5WTJWRmRtVnVkQ01pQ2lBZ0lDQWdJQ0FnSUNBZ0lIaHRiRzV6T25Cb2IzUnZjMmh2Y0QwaWFIUjBjRG92TDI1ekxtRmtiMkpsTG1OdmJTOXdhRzkwYjNOb2IzQXZNUzR3THlJS0lDQWdJQ0FnSUNBZ0lDQWdlRzFzYm5NNlpHTTlJbWgwZEhBNkx5OXdkWEpzTG05eVp5OWtZeTlsYkdWdFpXNTBjeTh4TGpFdklnb2dJQ0FnSUNBZ0lDQWdJQ0I0Yld4dWN6cDBhV1ptUFNKb2RIUndPaTh2Ym5NdVlXUnZZbVV1WTI5dEwzUnBabVl2TVM0d0x5SUtJQ0FnSUNBZ0lDQWdJQ0FnZUcxc2JuTTZaWGhwWmowaWFIUjBjRG92TDI1ekxtRmtiMkpsTG1OdmJTOWxlR2xtTHpFdU1DOGlQZ29nSUNBZ0lDQWdJQ0E4ZUcxd09rTnlaV0YwYjNKVWIyOXNQa0ZrYjJKbElGQm9iM1J2YzJodmNDQkRReUF5TURFMElDaE5ZV05wYm5SdmMyZ3BQQzk0YlhBNlEzSmxZWFJ2Y2xSdmIydytDaUFnSUNBZ0lDQWdJRHg0YlhBNlEzSmxZWFJsUkdGMFpUNHlNREUxTFRBM0xURTRWREUwT2pBd09qQXhLekF6T2pBd1BDOTRiWEE2UTNKbFlYUmxSR0YwWlQ0S0lDQWdJQ0FnSUNBZ1BIaHRjRHBOWlhSaFpHRjBZVVJoZEdVK01qQXhOUzB3TnkweE9GUXhORG93TURvd01Tc3dNem93TUR3dmVHMXdPazFsZEdGa1lYUmhSR0YwWlQ0S0lDQWdJQ0FnSUNBZ1BIaHRjRHBOYjJScFpubEVZWFJsUGpJd01UVXRNRGN0TVRoVU1UUTZNREE2TURFck1ETTZNREE4TDNodGNEcE5iMlJwWm5sRVlYUmxQZ29nSUNBZ0lDQWdJQ0E4ZUcxd1RVMDZTVzV6ZEdGdVkyVkpSRDU0YlhBdWFXbGtPak0wTnpJME5tTmhMVEUwTnprdE5EWmhNeTFpWm1NM0xUWXhNbU0yWlROak56WXhNVHd2ZUcxd1RVMDZTVzV6ZEdGdVkyVkpSRDRLSUNBZ0lDQWdJQ0FnUEhodGNFMU5Pa1J2WTNWdFpXNTBTVVErWVdSdlltVTZaRzlqYVdRNmNHaHZkRzl6YUc5d09tRmxZekptTWpNMUxUWmtOall0TVRFM09DMDROMk0zTFdFNVltVmtOV00xT1RWa1lUd3ZlRzF3VFUwNlJHOWpkVzFsYm5SSlJENEtJQ0FnSUNBZ0lDQWdQSGh0Y0UxTk9rOXlhV2RwYm1Gc1JHOWpkVzFsYm5SSlJENTRiWEF1Wkdsa09tVmlZMk15WkRGaExUWTVaVFF0TkRWbVlTMDRaakF6TFRaaU9HUmxObVF4TlRRMk9Ud3ZlRzF3VFUwNlQzSnBaMmx1WVd4RWIyTjFiV1Z1ZEVsRVBnb2dJQ0FnSUNBZ0lDQThlRzF3VFUwNlNHbHpkRzl5ZVQ0S0lDQWdJQ0FnSUNBZ0lDQWdQSEprWmpwVFpYRStDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lEeHlaR1k2YkdrZ2NtUm1PbkJoY25ObFZIbHdaVDBpVW1WemIzVnlZMlVpUGdvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBOGMzUkZkblE2WVdOMGFXOXVQbU55WldGMFpXUThMM04wUlhaME9tRmpkR2x2Ymo0S0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ1BITjBSWFowT21sdWMzUmhibU5sU1VRK2VHMXdMbWxwWkRwbFltTmpNbVF4WVMwMk9XVTBMVFExWm1FdE9HWXdNeTAyWWpoa1pUWmtNVFUwTmprOEwzTjBSWFowT21sdWMzUmhibU5sU1VRK0NpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lEeHpkRVYyZERwM2FHVnVQakl3TVRVdE1EY3RNVGhVTVRRNk1EQTZNREVyTURNNk1EQThMM04wUlhaME9uZG9aVzQrQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUR4emRFVjJkRHB6YjJaMGQyRnlaVUZuWlc1MFBrRmtiMkpsSUZCb2IzUnZjMmh2Y0NCRFF5QXlNREUwSUNoTllXTnBiblJ2YzJncFBDOXpkRVYyZERwemIyWjBkMkZ5WlVGblpXNTBQZ29nSUNBZ0lDQWdJQ0FnSUNBZ0lDQThMM0prWmpwc2FUNEtJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ1BISmtaanBzYVNCeVpHWTZjR0Z5YzJWVWVYQmxQU0pTWlhOdmRYSmpaU0krQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUR4emRFVjJkRHBoWTNScGIyNCtjMkYyWldROEwzTjBSWFowT21GamRHbHZiajRLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnUEhOMFJYWjBPbWx1YzNSaGJtTmxTVVErZUcxd0xtbHBaRG96TkRjeU5EWmpZUzB4TkRjNUxUUTJZVE10WW1aak55MDJNVEpqTm1Vell6YzJNVEU4TDNOMFJYWjBPbWx1YzNSaGJtTmxTVVErQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUR4emRFVjJkRHAzYUdWdVBqSXdNVFV0TURjdE1UaFVNVFE2TURBNk1ERXJNRE02TURBOEwzTjBSWFowT25kb1pXNCtDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJRHh6ZEVWMmREcHpiMlowZDJGeVpVRm5aVzUwUGtGa2IySmxJRkJvYjNSdmMyaHZjQ0JEUXlBeU1ERTBJQ2hOWVdOcGJuUnZjMmdwUEM5emRFVjJkRHB6YjJaMGQyRnlaVUZuWlc1MFBnb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQThjM1JGZG5RNlkyaGhibWRsWkQ0dlBDOXpkRVYyZERwamFHRnVaMlZrUGdvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0E4TDNKa1pqcHNhVDRLSUNBZ0lDQWdJQ0FnSUNBZ1BDOXlaR1k2VTJWeFBnb2dJQ0FnSUNBZ0lDQThMM2h0Y0UxTk9raHBjM1J2Y25rK0NpQWdJQ0FnSUNBZ0lEeHdhRzkwYjNOb2IzQTZSRzlqZFcxbGJuUkJibU5sYzNSdmNuTStDaUFnSUNBZ0lDQWdJQ0FnSUR4eVpHWTZRbUZuUGdvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0E4Y21SbU9teHBQbUZrYjJKbE9tUnZZMmxrT25Cb2IzUnZjMmh2Y0Rvek5tTmpZbUl5WVMwMll6bGhMVEV4TnpndE9HUXpNaTA1WldVd01qUXpObVl5TVdJOEwzSmtaanBzYVQ0S0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnUEhKa1pqcHNhVDU0YlhBdVpHbGtPakE1T0RBeE1UYzBNRGN5TURZNE1URTRNakpCUWprd09EVXlRekUyUWtFeFBDOXlaR1k2YkdrK0NpQWdJQ0FnSUNBZ0lDQWdJRHd2Y21SbU9rSmhaejRLSUNBZ0lDQWdJQ0FnUEM5d2FHOTBiM05vYjNBNlJHOWpkVzFsYm5SQmJtTmxjM1J2Y25NK0NpQWdJQ0FnSUNBZ0lEeHdhRzkwYjNOb2IzQTZRMjlzYjNKTmIyUmxQak04TDNCb2IzUnZjMmh2Y0RwRGIyeHZjazF2WkdVK0NpQWdJQ0FnSUNBZ0lEeHdhRzkwYjNOb2IzQTZTVU5EVUhKdlptbHNaVDV6VWtkQ0lFbEZRell4T1RZMkxUSXVNVHd2Y0dodmRHOXphRzl3T2tsRFExQnliMlpwYkdVK0NpQWdJQ0FnSUNBZ0lEeGtZenBtYjNKdFlYUSthVzFoWjJVdmNHNW5QQzlrWXpwbWIzSnRZWFErQ2lBZ0lDQWdJQ0FnSUR4MGFXWm1Pazl5YVdWdWRHRjBhVzl1UGpFOEwzUnBabVk2VDNKcFpXNTBZWFJwYjI0K0NpQWdJQ0FnSUNBZ0lEeDBhV1ptT2xoU1pYTnZiSFYwYVc5dVBqY3lNREF3TUM4eE1EQXdNRHd2ZEdsbVpqcFlVbVZ6YjJ4MWRHbHZiajRLSUNBZ0lDQWdJQ0FnUEhScFptWTZXVkpsYzI5c2RYUnBiMjQrTnpJd01EQXdMekV3TURBd1BDOTBhV1ptT2xsU1pYTnZiSFYwYVc5dVBnb2dJQ0FnSUNBZ0lDQThkR2xtWmpwU1pYTnZiSFYwYVc5dVZXNXBkRDR5UEM5MGFXWm1PbEpsYzI5c2RYUnBiMjVWYm1sMFBnb2dJQ0FnSUNBZ0lDQThaWGhwWmpwRGIyeHZjbE53WVdObFBqRThMMlY0YVdZNlEyOXNiM0pUY0dGalpUNEtJQ0FnSUNBZ0lDQWdQR1Y0YVdZNlVHbDRaV3hZUkdsdFpXNXphVzl1UGpRd1BDOWxlR2xtT2xCcGVHVnNXRVJwYldWdWMybHZiajRLSUNBZ0lDQWdJQ0FnUEdWNGFXWTZVR2w0Wld4WlJHbHRaVzV6YVc5dVBqRTJQQzlsZUdsbU9sQnBlR1ZzV1VScGJXVnVjMmx2Ymo0S0lDQWdJQ0FnUEM5eVpHWTZSR1Z6WTNKcGNIUnBiMjQrQ2lBZ0lEd3ZjbVJtT2xKRVJqNEtQQzk0T25odGNHMWxkR0UrQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBS0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lBb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUFvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0NpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQUtJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQW9nSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBS0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lBb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUFvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0NpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQUtJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQW9nSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBS0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lBb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUFvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0NpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQUtJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQW9nSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBS0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lBb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUFvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0NpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQUtJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQW9nSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBS0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lBb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUFvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0NpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQUtJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQW9nSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBS0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lBb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUFvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0NpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQUtJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQW9nSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBS0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lBb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUFvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0NpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQUtJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQW9nSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBS0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lBb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUFvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0NpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQUtJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQW9nSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBS0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lBb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUFvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0NpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQUtJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQW9nSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBS0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lBb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUFvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0NpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQUtJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQW9nSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBS0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lBb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUFvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0NpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQUtJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQW9nSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBS0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lBb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUFvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0NpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQUtJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQW9nSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBS0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lBb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUFvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0NpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQUtJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQW9nSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBS0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lBb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdDancvZUhCaFkydGxkQ0JsYm1ROUluY2lQejdydkZaRUFBQUFJR05JVWswQUFIb2xBQUNBZ3dBQStmOEFBSURwQUFCMU1BQUE2bUFBQURxWUFBQVhiNUpmeFVZQUFBb2dTVVJCVkhnQkFCQUs3L1VCLy8vL0FBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUEvL2tIQVBqZElnRDQyaVVBK05zakFQcmdIZ0Q4NVJnQStkMGNBUHZVRndEOUFCRUEvd0FLQVAwQUNnQUFBQUFBQkFEekFBUUE2d0FHT04wQURFSEhBQTAveEFBTlBzUUFBZ24zQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUgvLy84QUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUQvL1FNQStkc2tBUFhPTUFEMnp5OEE5ODhyQVBlOUxBRDVBQ0lBQVFBQUFBQUFBQUQvQUFBQUFRQUFBUDhBQUFBQUFBQUFBQUFBQUFBQUFBQUJBQUFBQUFBQUFBQUFBQUFBQUFBQS93QUFBQUFBQUFBQUFBQUFBUUFBQUFBQUFBQVFTcXdBSUp0dkFBVWE1Z0FBQUFBQUFBQUFBZi8vL3dBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBK2Rza0FQWE1Nd0QweHpVQTlidzVBUFBYT2dBQkFBQUEvd0FBQUFBQUFBQUJBQUFBQUFBQUFBQUFBQUFBQUFBQS93QUFBQUFBQUFBQUFBQUFBQUFBQUFFQUFBQUFBQUFBQUFBQUFQOEFBQUFBQUFBQUFBQUFBQUVBQUFEL0FBQUFBUUFBQVA4QUFBQUFBQUFBQVFBQUFBQUFBQUFFQU93QUg2bHBBQkpXckFBQUFBQUIvLy8vQUFBQUFBQUFBQUFBQUFBQUFBRDMxaWtBNVhXQ0FQTzJQQUQ3QUJnQUFBQUFBQUFBQUFBQkFBQUEvd0FBQUFFQUFBQUFBQUFBQUFBQUFBQUFBQUQvQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUJBQUFBL3dBQUFBQUFBQUFCQUFBQS93QUFBQUVBQUFEL0FBQUFBUUFBQUFBQUFBRC9BQUFBQUFBQUFBRUFBQUFBQUFBQUFBQUFBUDhBQUFBQUFBQUFKS3BUQUJKVnJnSC8vLzhBQUFBQUFBRDQyU1lBMzF5WEFQUE1RZ0FBQUFBQUFRQUFBUDhBQUFBQkFBQUEvd0FBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFCQUFBQS93QUFBQUVBQUFBQUFBQUEvd0FBQUFFQUFBQUFBQUFBL3dBQUFBRUFBQUQvQUFBQUFRQUFBQUFBQUFEL0FBQUFBUUFBQUFBQUFBQUFBQUFBL3dBQUFBRUFBQUQvQUFBQUFRQUFBQUFBQUFBQUFBQUFBQUFBQVA4QUFBQUVBT29BTVBRaUJBQUFBQUFBOTlrbUFOVW8wZ0QvQUFjQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUJBQUFBQUFBQUFQOEFBQUFBQUFBQUFRQUFBUDhBQUFBQUFBQUFBQUFBQUFBQUFBQUhBQUFBQndNQUFBY2xBQUFHRmdBQUJROEFBQVVRQUFBRURRQUFBZ29BQUFJRkFBQUNCZ0FBQUFBQUFQNzVBQUQ4OUFBQSt1c0FBUFhkQUFEdnpBQUErUUFBQUFFQUFBQUFBQUFBQVFBQUFQd0FGZ0RwazJrQi8vLy9BQURYTmIwQTlNeENBUDhBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFRQUFBQVlBQUFBS0VBQUFDU2NBQUFjY0FBQUpHUUFBQkJFQUFBRUNBQUFCQVFBQUFBQUFBUC8vQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBRUJBQUQvL3dBQUFRRUFBQUFBQUFELy93QUFBQUFBQVAvK0FBRGxvQUFBN3VNQUFQOEFBQUFCQUFBQUFBQUFBQTlFc1FILy8vOEFBTXNCK1FEL0FBWUFBUUFBQUFBQUFBQUFBQUFBL3dBQUFBZ0FBQUFJRHdBQUN5d0FBQWdnQUFBS0hRQUFBd2dBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQS8vOEFBQUVCQUFELy93QUFBUUFBQVA4QUFBQUJBUUFBQUFBQUFBQUFBQUQvL3dBQUFRRUFBQUFBQUFELy93QUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFQejFBQURWakFBQUFBQUFBQUVBQUFBQUFBQUFCQUR1QkFEenlEWUFBQUFHQUFFQUFBRC9BQUFBQVFBQUFBa0FBQUFVU1FBQURpa0FBQVFPQUFELy93QUFBUUVBQUFBQUFBQUFBQUFBQUFBQUFQLy9BQUFBQUFBQUFRRUFBUC8vQUFBQUFBQUEvLzhBQUFFQkFBQUFBQUFBQVA4QUFBQUFBQUFBQUFBQS8vOEFBQUFBQUFBQUFBQUEvLzhBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQS9mWUFBQUFBQUFBQUFBQUEvd0FBQUFBQUFBQURBTzBCLy8vL0FBRExBZmtBQUFBR0FQOEFBQUFBQUFBQUFRQUFBUDhBQUFBQkFBQUFBd0FBQUFnQUFBQUpJd0FBQmg4QUFBa1hBQUFGRkFBQUJSQUFBQUVDQUFBQUFBQUFBUUVBQVAvL0FBQUFBQUFBQVFBQUFBQUJBQUFBQUFBQS8vOEFBQUVCQUFBQUFBQUEvLzhBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFCQVFBQS8vOEFBUHZ3QUFEaGtRQUE5Z0FBQUFBQUFBRC9BQUFBQVFBQUFCUmFuZ1FBQUFBQUFBMDB4QUR6ekVJQUFBQUFBQUVBQUFBQUFBQUFBUUFBQUFBQUFBRDhBQUFBOUFBQUFQWGRBQUQvM1FBQUFRQUFBUDhBQUFBQ0FBQUFCQUFBQUFZQUFBQUhIUUFBQlJrQUFBWVRBQUFFREFBQUF3MEFBQVFNQUFBRENBQUFBUVFBQUFNRkFBQUJBUUFBL3Z3QUFQNzZBQUQ5OXdBQS9QRUFBUGZsQUFEenlnQUE4dk1BQUFBQUFBRC9BQUFBQUFBQUFBRUFBQUFBQUFBQURFSEVBZi8vL3dBQTk5a21BTlFvMGdBQUFBY0Evd0FBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQkFBQUFBQUFBQUFBQUFBQUFBQUFBL3dBQUFBRUFBQUQvQUFBQUFRQUFBQUFBQUFEL0FBQUFBUUFBQVA4QUFBQUFBQUFBQUFBQUFBRUFBQUQvQUFBQUFRQUFBUDhBQUFBQkFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUQvQUFBQUFBQUFBQXNqeWdBcjNEY0NBQUFBQUFBSko5b0FMTmd1QUEwMHZnQUJBQUFBQUFBQUFBQUFBQUFCQUFBQUFBQUFBQUVBQUFBQkFBQUFBQUFBQVA4QUFBQUFBQUFBL3dBQUFQOEFBQUFBQUFBQS93QUFBQUFBQUFEL0FBQUFBQUFBQUFBQUFBRC9BQUFBQVFBQUFBQUFBQUFBQUFBQS93QUFBQUVBQUFEL0FBQUFBQUFBQVA4QUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUVBQUFBQUFQNEFJS2xwQUFBQUFBSC8vLzhBQUFBQUFBQUFBQUFBQUFBQUFQZldLUUR4dDBZQTg3NDhBUFMyUFFEN0FCY0FBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFRQUFBQUFBQUFEL0FBQUFBUUFBQUFBQUFBQUFBQUFBL3dBQUFBRUFBQUFBQUFBQS93QUFBQUFBQUFBQkFBQUFBQUFBQUFBQUFBRC9BQUFBQUFBQUFBQUFBQUFCQUFBQS93QUFBQUVBQUFEL0FBQUFDUkxUQUNDd2FRQU5QY1VBQUFBQUFmLy8vd0FBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQVB6cUZnRDEwaXdBK05VcEFQZlRLd0QzMFNjQSs4d2hBUGdBSVFBQUFBQUFBUUFBQUFBQUFBRC9BQUFBQUFBQUFBQUFBQUFCQUFBQUFBQUFBQUFBQUFEL0FBQUFBUUFBQVA4QUFBQUFBQUFBQVFBQUFQOEFBQUFCQUFBQUFBQUFBUDhBQUFBQUFBQUFDQURjQUJCcnN3QWVrM01BQUFIL0FBQUFBQUFBQUFBQi8vLy9BQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUEvL3NGQVByakhBRDQzaUVBK2QwaEFQcmVJUUQ0M1I4QS9la1VBUHZpRlFEODRoVUEvUUFPQVA4QUJ3RC9BQWtBQUFBQUFBQUEvQUFDQVBRQUJBRHhBQVlwNVFBSk45TUFERUhEQUE0L3hBQUdIK0VBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFFQUFQLy8wRHBneiszckpsa0FBQUFBU1VWT1JLNUNZSUk9XCJcblxuLyoqKi8gfSxcbi8qIDExOCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBcImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBT2NBQUFCZ0NBWUFBQURtUVdWQUFBQUFCR2RCVFVFQUFMR1BDL3hoQlFBQUFDQmpTRkpOQUFCNkpnQUFnSVFBQVBvQUFBQ0E2QUFBZFRBQUFPcGdBQUE2bUFBQUYzQ2N1bEU4QUFBQUJtSkxSMFFBQUFBQUFBRDVRN3QvQUFBQUNYQklXWE1BQUFzU0FBQUxFZ0hTM1g3OEFBQU8va2xFUVZSNDJ1MmRlN0FrVlgzSFB6UFRNN1Azc2IvZEVFeWtFbEVFWDRBOEZsbkpnNGdrWUVKNFJxbXkxQmhUVklpbEFZSkJyRElSQ21PU1FoSUVZeFVWRFlWbFJFdzJDMGpJUXlNSVlpellVRXRrWWJQeTBoQlVBaWpzNzNMbjNubjBkUDQ0M1hkbkx6UDNUdmRNOSttZU9aK3FxZG5kNlpuNW5kNyt6am45Tzc5SENVZnVVTlZOd0JiZ1dPQzF3S0hBeTRHWEFSdUFUZUdoZTRGbDRGbmdhZUJ4NEJIZ0FXQ25pT3kxUFJaSGNrcTJEWENBcWxhQVh3Wk9CMzRWT0Jvb2ovaXhYZUE3d0IzQTdjQzNSTVMzUFZiSDhEaHhXa1JWdHdDL0M3d1RPRERscjNzTytESndnNGpzdEQxMngvbzRjV2FNcXBhQnR3Ti9DUHlpSlRQK0E3Z1cyQzRpWGR2bnhORWZKODZNVU5VU2NDN3djZUIxdHUwSjJRTmNEbXdUa2NDMk1ZNzljZUxNQUZVOUh2ZzBjSUp0V3dad0wzQ2hpUHluYlVNYyszRGlUQkZWclFPWEFaY0NubTE3MXFFRGZCSzRRa1JhdG8xeE9IR21ocW9lQzN3Qk9OSzJMVEhaQmZ5T2lEeGcyNUJweDRrekJWVDFJdUFxb0JyM3ZlVnltVXFsUXJsY1hubVVTdWEvS1hvT2dtRGx1ZHZ0cmp4ODM2ZmJIWXQvcHcxOFdFU3V0WDB1cHhrbnpqRVNMbU92Qjk0OTdIdEtwUktWU29WcXRVcWxVbGtSWUZLQ0lNRDNmZHJ0TnI3dnJ3ZzVJVGNDNTRsSU00dno1OWdmSjg0eG9hb0hBTGNDSnc1emZMbGNwbGFyNFhuZXlJSWNSQkFFZERvZFdxM1dLRFBxTjRGelJPUW5xUmpwR0lnVDV4aFExWjhGdmdZY3RkNnhsVXFGZXIxT3BWTEoxRWJmOTJrMm0vaCtvaUNoQjRGVFJPU1pUSTJlY3B3NFIwUlZYNGFaWFY2LzFuSGxjcGw2dlk3bjJYWGFkam9kbXMxbWtwbDBEL0FySXZLczFRRk1FVTZjSXhBR3FOOER2SEd0NDJxMUdyVmFMYlhsYTF5Q0lLRFZhdEZxeGQ0eDJRV2M2QUxxc3lFZlYwc0JVZFVhOEsvQXlZT09LWlZLek16TVpMNkVIUmJmOTFsYVdvcnJOUG9HOE90dUx6UjlSczE4bUdhdVp3MWhsc3RsWm1kbmN5dE1NUGUvczdPemxNdXhMb08zQW45cjIvWnB3SWt6QWFwNklmQ2VRYThudk9pdGtQQkg1TGZEYytCSUViZXNqWW1xdmhuakFLcjFlNzFTcVRBek01T2IrOHRoQ1lLQXBhV2xPTjdjRnViK2M4ZDZCNGI1cW0vRVJFc2RqbkdldlFxVE5MNEptQWZxZ0FLTG1QUzJ4ekJPcU4yWWU5MkhwaTBmdFZoWGtHVlVkUjVUWmVDd2ZxOFhWWmdSQ1FUNjM4QVdFVm51YzY1K0dqZ0hrMEIrRXZ1cU55UmxMM0FYSm5IODVtbllkeTNtVldRSlZiME9lSCsvMTBxbEVuTnpjNFVWWmtRUUJDd3VMc1p4RWwwbElwZUc1NmNDdkExNEgzQW1aalpNZ3lad0cvQjU0TjhtTlNlMTJGZlNBRlQxRUdBcjhCcE1EWjdEZ0lNd3Y5NGJNUmtpSFdBQjg0djhRL2JWMzNrVTJDRWkzMXYxbVNjQ2R3ODZaM2wzL3NUQjkzMGFqY2JRaDJNY1kwY0Fsd0N2enRqY3g0RlBBRjhVa1U3RzM1MHFFeUZPVlJYZ0xPQVU0QzNBd1dQNDJDY3hZdnc2WnN2a1RnWmttTlJxTmVyMXRDWUpPN1JhTFpyTm9VTnEyeVFJOGg4emp3QlhBRGROU3VKNFljV3BxaDV3QmliSS9EUmdKc1d2ODRHKzAySzVYR1p1YnM3MjZVaUZ4Y1hGY1dXNVpNa2R3UGtpOG9SdFEwYWxjT0lNblRMdkJ5NEVYbUhibnBtWkdlc2hlV25SNlhSWVdscXliVVlTbG9DUEFWY1hlUll0akRqRG1mSjh6TklsN1VwMVF4SHRaMDR5alVZalZyQjhUdkpSSTI0RDNsdlVjTU5DaUZOVlR3SStnM0U2NUlaSmNnSU5ZajNuVUtsVXd2TThQTThiYXo1cXA5T2gwK21NbW84SzVsNzBIQkhabmZuSkc1RmNpMU5WWjRHcmdkKzNiY3RxSnZsZWN6WDk3ajJqQlBGcU5WMC9VTHZkWGtrY0g0SG5nZE5FNU43VVQ5WVl5YTA0VmZVWTRFdkFHMnpiMG85NnZVNnRWaHY5Z3dwQXIrZTJVcW1zSklsblNaUTBQb0pJRjRBelJPVHVUQTBmZ1Z5S1UxWGZBZndkcGk5SUxwbWJteXRFN093NDZIYTdOQm9ONnZWNjZqUGxlclRiYlpyTlp0TGxiZ01qMER1dERtSkljaWRPVmIwRXVKSWNCK1ZQMDVJMklnaUMzRVEvZGJ0ZGxwZVhrODZpZTRFM2k4aDNiWTlqUFhJbEFGVzlFbE8xTGxkMnJXYlNuVUQ5eUlzd1lWOG1UY0tsOVNiZzlyQ0NSYTdKalFoVU5TcStuSHVtWlRtYmQwYllZejRNMkJiR0F1ZVdYUHdjaHJtQnFkVkk3YmZ2RmoyZy8vNWI5Rmk5RHdlVEhYaFFST0x1eGZid1VSSDVDOXYyRDhLNk9GWDFWT0JmR0JBZWw0UktwYkt5N3pidUphanYrL3R0ckR2c0V6bXNFamlKMnNBdjViVkhqTlVyVEZVUEJ1N0hkR3dlaVdqZkxjMDZzSTc4RWpOUXY1ZUhnV1B5bU5GaTdlWXBYTy8vQXlNS3MxcXRNamMzeCt6c0xOVnExUWx6U2huaC8vNEk0QU8yN2UrSHRTdFpWUy9HUlA4a3d2TTg2dlc2Yzg0NFZsaGVYcWJkYmlkOSt3dEFFRDR2QUQ4QS9pOThmaFJUTG1XUGlDeGtOUjRyNGxUVlZ3SVBZV3JIeENJdnhaa2QrU09qTEpydkEvY0IzOGFVVGRtVlZ1YUxMWEhlQXB3ZDkzMmU1N0Zod3dhM2RIWDBKUWdDWG56eHhheS85bW1NUS9ObTRPdmpiUHFVK1ZXdXFsc3dUcUJZM3oySjFRWWM0MmRoSWJOVlp6OStndW5NOWprUjJUWHFoOWtRNTYyWWtpSkQ0NFRwR0JiTDR1emxQdUN2Z08xSkM1QmxLazVWUFJMVHNXcm83L1U4ajVtWk5DdVFPQ2FGSUFob05wdnJCcHRFeDBiUC9RSk91dDN1T0hKSndkVGUvYWlJM0JMM2pWbUw4eHJnb3FHTm01QnlrNDVpRWtXRmRUcWRjVFFpdmd2NGtJZzhNT3diTXJ2cXc4WS9UeEZqWDlPRnlUbnlSQ1RVZHJ1ZFZLZys4SmZBWmNNMGdzcHlrL0IwWWdpelhDNDdZVHB5UmRUNGVINStQbW4zdUFyd0VlQStWVDE4dllPekZPZmI0aHhzTzZuWDRWZ0x6L09ZbloxTldrZnFHSXhBejE3cm9DekZlV3FjZzZjeFo5SlJQS0lLalBWNlBhNXZaQjc0UjFYOTRLQURScnJuVk5VeXBudlVtekF4aXE4RmZnNTRPYVpQeHVib1VHSTJzcG1mbjNlT0lFZWg2SGE3TEMwdHhTM3ZHV0FjUmRlc2ZpSDIxYStxUDRWcFVuTVdwcEhxNWpRR3VuSGp4alErMXVGSWxTQUlhRFFhU1FUNmJoRzVxZmNmaHhabjJKZnlENEJ6U2E5NzFBcHU1blFVbFlRQ2JRQmJSZVRoNkIvV3ZmcFY5VTNBbnhIem5uRlVwcUZnczJOeWlkbXBMV0lQY0p5SU5HQU5oNUNxaXFyK0RTWU1LVk5oUm9Oek9JcEtWSTBqSnE4SFBoejlwZS9NcWFySEEzOFBIR0pyY05OWWZ0SXhXU1JNWVdzQWJ4Q1JKMTh5YzRaN0wzZGpVWmhnUEYrZFR1NHFSemdjUTVQd3Rtd1cwNFI0LzVsVFZjL0U1S1hsNG1iUHhkWTZpazdDTEJrRkRsb1JvYXB1eFhSd3psVm9UcmZiZGRGQ2prSVNCQUd0MXJvaHRQMm9BL2RYQUZSMUk2YTllaTc2WHZZU3VhTmRuSzJqYUVTQjhnbDVQcnJuL0JQZzFiWUhNNGdSeWg0NkhOWVlvZGdZd0hFbFZkMk1xVENXK3hiTnJvYVFveWdrM09mczVaa3k4RTRLSUV3d3J1bEdvK0c4dUk1Y0V3UUJ5OHZMbzM3TUFXWGdGTnVEaVVNVVhKd2d3TmpoU0oyRW9YdjlhSHZBOGJZSGxJUk9wME9uMDZGYXJWS3IxVnh4YVlkMUVtYWxET0paRHpqSTlxQkdvZDF1MDI2M1hhOFVoMVZhclJhdFZtdGNSY0VBZnVSaE9pMFZmcC9DOS8yVmVOdzB1NHc1SEwzNHZrK3oyVXdqRm55bmgra0g4U3JiZ3h3bnZVS0YwZnB6bGtvbEozREhTK2gwT3JSYXJUUVROUDdkQTNZeVllSmN6V3F4eHFWVUtxM2MyN29sOC9ReWh1cDd3N0lBZk5YRFJBYjlsdTJCNTVrb0RLdlZhdUY1SHRWcWxVcWw0b1Jxa1NBSVZyYlVvcFhSdUJsejNkbzRmRjVFR3FXdzdNaFRGR1N2TXk5RXkxM1A4eWJLQ1JWZDlORUZDZVJxMVJEOVVLNmV2VXFsMG42M0xqbXErQjZYbFpTeEVvQ3FYZ2xjYXV1RVR3SlJuZDF5dVp6YUwza2FSTE5EbEtLMzFqWkF0R3F3RWVjY0xTZW5JQURsNHlKeU9ZUXBZMkhnKzMrUjQvamFvaEhOclAxK3pXM1FiMlpJdWxTTHh0YjdHRGVSbnlCNldKckZzbWEvTWlVclYwcFl3T3ViUU0yMmhaTk10UHpxZlY3OWlJN3JmVTh2dlJkcXRDVHIvZlBxWlZydk1XbU9hUUtXbERaWnU4Q1hxcDRGYkNjbnlkWU94NVRRdHpUbWZqZEdJdklWVE9uTDFIdDNPeHdPd0FqemoxWUxFd1lYK05vS2ZCbkxkWVFjamduSEJ5NFFrZXY2dmRqWHBTZ2lPekROVmo0THVOUVBoMlA4TEFCbkRCSW1ERmRVZWl2d0NRcVdXdVp3NUpqdkFPOFNrZDFySFJTbkhjTUptSFlNN3lDRGRnd094d1RTQmE0Q0xoZVJkZXZ1Skdsa2RBQndCbkEycHBGUnJPNWhmZGdMUElucFZ1WndUQ3Aza1dYYmVWV3RzSzhGNEpIQVljRFA4OUlXZ0M4QVRlQnBUS2pnWThCRHdQM0FMaEh4VmZVeTRBcmJaOURoR0RQZkJmNVlSTGJIZmFQOVlNa2VYQmloWTRLNEQvZ1VzRTFFRWpsVmN5Vk9BRlc5QlBoa0htMXpPTmJoZVdBYjhEa1J1WC9VRDh1bEFGVDFYT0FMd0FiYnRqZ2M2L0EwcGxQQ3JjQlhoM0gwREVzdXhRbWdxbHVBR3pGdDBSeU92UEI5aksva1d4Z256NE1pa2tvZ2NHN0ZDYUNxczVoMSsvbTJiWEZNQkQ1bVo2QU1TUGdjN1Ric3hXeDFhUGo0QWFhRXp3OHhEc3lIZ1QwaXNqY3JZM010emdoVmZTdndHZUJ3MjdiMFlUZndNWXluK1VqYnhxUkVselVhTFJlRUtDTG5idHVHREVzaFRyaUlmQU00R2hNRThXUGI5b1Q4R1BnZ2NMU0kzQXk4QmJqSHRsRXBjQS93RzVqdHNLTHlQSEJxa1lRSkJaazVlMUhWZWVBRHdBV1lQZFdzZVFyNE5IQ2RpTHk0eXJZTndQWEF1MnlmcHpIeEplQThFVmxXMVNPQVc0RFgyRFlxSm84QTU2d1hLcGRIQ2lmT0NGV3RBcWNEN3dGT0kxM1BiZ2Y0R25BRDhCVVJXYk45bEtwZURGeEp6bnFkeHFBTmZFUkVQclZxWEpzd1h2UXpiUnM0SkxjQjc4M3lQbkdjRkZhY3ZZUVh6Vm5BcndFbkFhOFl3OGYrTDhZYmR5ZndUeUlTYXprZEpnemNpSW1hS2hLUFlSSi9kd3dZVnduNEVQQ253SXh0WXdld2hQRURYSjJXSnpVTEprS2NxMUhWUTRDdG1DWFk2ekFDT1Fqam9kc2NqanZBM0VjcHhpUDNPQ2JVNmxGZ2g0aDhid3gyekdNeWVpNGcvL2YzWGVDdk1hRm1pME9NN1ZCTVN1SEp0ZzFmeFIzQStTTHloRzFEUm1VaXhaazN3bG4wV3VBRTI3WU00Rjdnb2tHejVScmpLbUh1ci84Y09OanlHQjdCZU14dkt2SnMyWXNUWjBhRUYvSzV3T1hrWjB0b04rYUMzamJLQmEycWRlQTg0Qkt5cjU3eEJHYUovVVVSbWFpNm1VNmNHYU9xWmVEdHdNWEFMMWd5NDl2QU5jRDJwRUhaQThaV3dhUVQvaDV3S3VrMXlJb2NkSjhGYmhlUjFCcVcyTVNKMHlLcWVoendQa3gzOFFOVC9ycm5NSFdoYmhDUm5SbU03V2N3T2IrL2lYSFN5YWdmaVhIUS9UTndxNGc4ay9ZWWJPUEVtUVBDR2VkRXpLeHpNbkFVb3p1UXVzQ0RoTjVtNEI1Yk0wdzR2cU13ZWI5SEFJY0NyOFQ4SUFrd0Z4NjZpQkhoYzhEL1lKeDBEMk5pV1IrYzFCbHlFRTZjT1VSVk53TmJnR014SHVkRE1kN21BekU5YlRhR2h5NWdpaEUvQi93SWN6RS9DandBN0JTUkYyeVB4WkdjL3dkVXJRS0lGZ2JhNlFBQUFBQkpSVTVFcmtKZ2dnPT1cIlxuXG4vKioqLyB9LFxuLyogMTE5ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IFwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFPY0FBQUJnQ0FNQUFBRFJuNVZ5QUFBQUJHZEJUVUVBQUxHUEMveGhCUUFBQUNCalNGSk5BQUI2SmdBQWdJUUFBUG9BQUFDQTZBQUFkVEFBQU9wZ0FBQTZtQUFBRjNDY3VsRThBQUFDZGxCTVZFVUFBQUR5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkwwOVBUMzkvZjUrZm43Ky92OS9mMysvdjcvLy8vejgvUDI5dmI2K3ZyMTlmWDgvUHo0K1BnQUFBQVl4bDZoQUFBQXczUlNUbE1BRDBGeW1MdlQ2UEFEUDR2Ty9US1Q2d0pWeE1VQlZ0ZllOY2NHaGZzSE1kSnYrcVFTd2NJVzBSY1Z2cjJpbzI0dlhJYXU1dkg0N04wd052azNaTEFUQ05iYkRFcXFpcGNFWU54cFB2eitQU0ZYZk4vdXhsclpYdUZkRGlLODlxeFJjK0owc1dvcTFFQTRDdkpDOWZkVUo0bkFmbmxHNmg3SURWK0VuN2JlNzNFdXFQTWZTNTNucnkyUzdTeS9rSWpQVWxDWmEzQzBqbU5aRVN1NU5IOU9sc25wRUdpdGdVOUowTHBUbnF0aW9MZmcxZHFsZGVOMkJiVWpDMXRtTTJXejlJMWlUeXV4QUFBQUFXSkxSMFFBaUFVZFNBQUFBQWx3U0ZsekFBQUxFZ0FBQ3hJQjB0MSsvQUFBQjFCSlJFRlVlTnJkblBsajAxUWN3RFBZVldEQUpnUEcyRlpnQWs0NnpvMnRNQmdEZElpcmpCVUZqN21Od2JnUmtWUGRwcWdnYWhrTThVQkVSVVM4aDRpZ0lzZnIycVp0MnY1Skp1MlNwczN4M3N2UkpINStnVzVwOHYzc3ZiemorNUpIRUJrbWE5VG83Snpjdkh3QTh2TnljN0pIajhyS2RBVDZZeHN6ZGx3QlNLTmczTmd4TnFNajA1THhFeVlDQ1NaT0dHOTBkQnBSV1BRSWtHVlNVYUhSTWFxbmVQSVVBR1hxNUdLajQxUkp5VFM0SmNPMEVxTWpWVVBwOURJMFRRREtwcGNiSGExaUt1eW9sZ3k1RlViSHE1QVpNM0UwQVpnNXcraUlsVkErQzgrU1laYjE2bTdsbzZrSzNtR2ZQMENTd1NCSkJ2eStZYSs0Nk94S28rUEdaTTVjWHZTaHNKOFdUSVgwaDBNaW9uTWZNenB5TEtwNG5hYVhFa2lPcUZJaXBUcWx5dWpZTWNoS05yU1JhRkNHYUVRZ2FyZk82TDcwY2E0cy9VRUlma0daemlzMU9uNVVIR3pJTVJLbVNkZmVXTHBvdGRIeEl6S2ZiWDZpY010NDVVMXZrT1liYlpERXRtRGhvc1gySlRXZ2RtbmR1TVdMRnRZbjU1SE9aU04xTm9DbUdRd0cwdXJ1c3VWRzZ5V29iRmlSbjE3WjhsYzBySXovc25IVlNBT0VVR2U1dXB2V0hEV3RObHFSbms2dVdWc3Izc25YcmwxRGwrb1QrSnBDMFNlTnRteGU5eFNRb1c3OTB5MEtOQVdpcm1lWWkyMW8zZWlZMU9ZdUEyWHV0azJPamEwYk1tVlovT3h6QUVKaTdCN0MxS1JGVXh1ajNLck5qaTJDazI5eFBQOUNCalJmZkFsbXlZTFkwdktKcHA2aFJlTE03UzkzTk90Y21KM3RxSm8rZk0xZ01JWjY5cTZ0ZWpaVFdkMm9jUUN2RXMxZzBJdDhnWW5iZEN2VDdkQTdNd2wwc0NlT0gvMEtvR2VIUHBvNzNlbGxKajJmakNqVERBWWpHS0lnZTVjT21tTjI4eThSR2hhYlR3NnpMYWFDUmloQkZNY1RyS3JYWEhQUFhuNXhVVkp4VWhFVmR5ZmVIY3F3YjcvR21xL3dSbmtSMlp2UEgxSFkyQ2J3WVhtQ2dxMmFhbFkxSldzc0JRdVZDaUVQMzRVRThEd0JPS0NocHUzVlpHRWlPR0NQaFBqZ1ZWeWFnOXA1dnNhZE5LeEdBWWxoWEUvdDVxb2xNek9uaVh1RDByUWMwa2F6dVllcnRQcHJNa09GQ04weFI5bWVPVXAzelpCZTlmQVJUVHpaSkFoUTA3NGdRNHIydlZHZm5PdFJGVXZpeDBxT3YvN0dtM043M1gzYzZWUjBGMXI4QVNocDFYNUZpc1Z2elgrN1RYZ3kvQm1sMWdTa0dxa1Q3MkJMbHIvNzNrbnhrdzBicmNtWWhzVmpPNFZwK2Y3cER5UXJoOEk1aU1iNFJUdFlGODZqSElWRlIrV2FOY09yYlFKU3RFaFhvR3QyUUI2WE1GcVFReXp0NFBvUTBiTGlJd0FzNGlrcTZrR3lMRDJUbG5VS0pUdHJ0cmMyU2IxbEVLbTZoMUhXbnJZUHBEaUdxVXlNQ0ZSQWlpd1FuNFZybmp2Qms0d3BUZ1prRUpGRTBpQlU4M3l5emtiTTBYbkFFZll1YlRETmoxMmNwUldLTW9ISXRDYmY1WEtmSExqd3lhY0xSQjhXL0l6VkRCazdmc1ZETm1IV3QvajQ1K21hRjlrRUYvcGlwUmtnSVoxZ2JYWHFDdW91ZG5EZ05WRzNnUUtzdHdmZ2kwczh6eTh0cWdrclQ0YUNRVzVwN1FoYmE2M1RBaVZBUzJqM3NzKzZuaDc1UVFZU1A5cUNtRVpxUDVlNE8ydEdQbHVsMitSQVRYKzJYSTRQaE5pUEZyczdNUmJXbGpscHo2L1lUMGJIalluWStGYUt1bU1FOGJWRnl6T01yaGxmbWZpRy9iKzE3ay9rOWYwNGU2OFEzRFA2bG1wdjhUUUIrSlpJUGxaaG5mNlR4S3EwREZlSjVQTTVsaGtQK2JFWDFFQVh3Y3Z2V1VNMGdGMllOR1hKZmdWWVlyNFN3RjgwWkdnbk92Z2ZUVDcvbEZ0ZmthZU4ySlh5RUltSjh3bnk2MlVRcmliSDhaeXBPVHJTS05iNko0ejF2SGxac3ZZYW51OGpZeGlqT2dUMk1qbVU3MFIrSVptL0RWQ1UzcTB5NlZmU29zcHlJQ1Z2a3U0cXpNZEhRdkhpaHB2U0JVTC9xUlQ4UlVncXJHMVJNakRqZUg0ZURKbXcvRDNNRllnM2hwUFdEMUF4L0JFQUF0d2JCVnhlRTUxUTJDZCtFMGQ5YVFVU0NzZW9LS1JreVNnVjA2RWNFN1JjNDFKaC9maWlRTHBpaXg3ckRjZDhsRC9LSEI2WHB2OEowRitoZkxGd1JDL0RPTzBkdkp6ZitoYjFKelFudmM2VUpPNzN1OVdmMG9UdzhwcnN1dUIxbzJQU2dSK2NoSUR5TXdYcVQyd21hbWZ0RkY4MWc2L2JteFc3OEEyd1U4ZGwzbjcrY2FyUkVTdmlJR0dyYi9CY3VKN1hCMEJmM3ZVTG5vWjZ5R053aGExSDFWODIweWg3enZqU29GdjlwVE9JUy9GejQrV1hmenFwL3ZvWllsK1JVazJHNGdVemZtNHpXZ0dGS1Jwc1hKUzEvSmRGdi81bUgzSXptMXk1aDNwTk9HWWExUDg5SFJRVTlzaTVaMjhnSFhkamxBNldoTWg3VnhENkRzMVdvam03a21qZXRoUjYyTkx6cG5pUERvRGZMeEtOTi9FMWJ6WXlsMXI5eHkzWm8yNzlhWkwzSWtGM2ZFK0xmdHg5ZWZyWmE5M2VmMGRxZzZaOVZ6dHU2MmhKWUx6bjJ0NDVzdHVYc3dudEN3bWFVa2JlSzljNXVnU0hkRGsyWjJKWEVMVDNsdWY5eFgzaGJ3OXljMVRnRVZiR0RhMGJxemNOdVYzQTVSNmFWbTJ1OTlDMy9KT3lkWnNUZFI4MHA5S1k5S0Y1WFoxY3VMM2IwbmVFS3A2TTBGSGNNT0crZHJaclVtMUUyWjF6WW5PRndxSko4cGFiekxwUDRaeTczVFhwd2RaMDM1MGorUVhaZlNmL05WcEhEbHZGUGM5OSs1SUhBRHhZWXIvdnVWY0JtZlhaZGp3Y0VPNGpPdkJ3eC85cUg5RUVWL1owWnVmMDVORkR5TjE1UFRuWm5YdXVaT1N5L3dGNXhtcUMrUVVtMndBQUFBQkpSVTVFcmtKZ2dnPT1cIlxuXG4vKioqLyB9LFxuLyogMTIwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IFwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFRY0FBQUI2Q0FNQUFBQ0Z2bVkrQUFBQUJHZEJUVUVBQUxHUEMveGhCUUFBQUNCalNGSk5BQUI2SmdBQWdJUUFBUG9BQUFDQTZBQUFkVEFBQU9wZ0FBQTZtQUFBRjNDY3VsRThBQUFDblZCTVZFVUFBQUR5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMMTlmWDUrZm44L1B6OS9mMy8vLy96OC9QKy92NzQrUGo2K3ZyMjl2YjcrL3YzOS9mMDlQUUFBQUFWMG1qQUFBQUEwSFJTVGxNQUpXS0xzOWZyL0FKQm0rRkNFWHdRaFBHRld1ZGNHYmxBNm1UN2QyNTFXLzQ2K1JObnA4VG83aExpNHl0c3FkOERSNWRLYVpEcGtTd0gyc05TY3RrRzVkVklaYmNrenZaMktpQ0c3MHgvQWYybUJFbHRrclhONFBUZTFNbTZDOGY0d2dyRnZjdXhJb3cycWxpdUp3em1maFdzS09RSXBjQVgwcklZMWgvSXJUeURpY3djN0E1bWNSYWh1ekZVTTE3ZDkzQ2RGTER5d2ZOaE1KbThZejZ2VGgyT3F6dE5rMFFhRGRzM2IwT2Y4SmlWTklxMmVMUTFsaTMxT0I3S3ZrVkxQekpQWDFtL0xqbllvMkFtVXdXVW5scEdXUUFBQUFGaVMwZEVBSWdGSFVnQUFBQUpjRWhaY3dBQUN4SUFBQXNTQWRMZGZ2d0FBQW1KU1VSQlZIamEzWjMvWXhObkhjZXZsSzZ3QWdWbG85K3dvV3lRVU5vVkVEckczSEMyWmJVSWtVcG5LMklaQTV6RHpiR2hVcUdkb0p1SXpzS2NWbUZ1Zm9HaDRrQ29XNEdocUJ1NnpXMVA3a3N1eVNYL2k3bExMbm1lNUxtNzUrN3kzSFBwNjdja2wrYytuL2M5eitmNS9oekhNYU5pUnVYTXF0dXFRZlZ0VlRNcloxU3dNNFFoczJiZlhnTlFhbTZmTTR1MVdSNHpkMTZoQ0ZrcDVzMWxiWnFIMU01ZkFJeFk4SWxhMXVaNXhTY1hBak1XM3NIYVFFKzRjeEd3WXRHZHJJMmtUMTI5cFF3QTFNOW1iU1p0R2hwaGZ5TzhJRXFTSkFwOEJCV2lzWUcxb1hScGdueU44cktVUithamlCSk5yRTJseVdKWUJha1FWSWxQc1RhV0hzMkJmSW1RcFdKa3VIUUVtbG1iUzRzbExUa25ZeEtlR0NSRXl4TG92MHZyN3FxOGUxblY4bUFBQklMTHE1YmRYWGxYM1ZMV0Rqa2p0Q0xuSWk4WndVTkN0SVl5ZjF6WjFuNFB0bHE1cDcxdEpXdXY3Tk9lc3o4dUdST0gvR3pudUk1VnExdE5xOWpXMWFzNldIdG1peldXaGFLNGFIeDY3VHFDMXNhNnpudFpPMGZPK3Z0MHN4T1NPUWtDMXd2WmNIKzU5RlEvazZzd1pRc2Q1S2dESWNBRGQ1U0ZFZzl1SkFrT3hTRWlSelFTNHhWQmxHVkpsa1ZCNFdPUlFyaysreEJySnduNG5HNXR4RklHU1lvVWFwQ0lpNWpMeEhnQzFhS3JtN1dibHZUb3Rnb0VPZ2lJZHduRnBDUXBTRFRaOUhBSGEwZk42YldUSGVBTUVZMVpocE1ZbkNrMmZKNjFxNmIwa1VjSEpFSllxcEJSQWhKaTh4ZFkrMnFHWGl5aVJESklVdVlSSjBYQ3k4VmtYb2pBbHEyc3ZUVmthVGhyWkpMUU1kV3ZxRUo0c1lvQ0ZZNHZQc2phM3l6Ykt2cS90SDNna1M4SEIwRkxjT2dyT3dZR2RCTkpYVlBTNFpHa1NFQ0ZBd3FZWDkzSldnR09xNzEvN2RlR0RWczd4RzVaTkw1eFFGRmkxNk5zUmVodTJsMXQxdWdqcXkyMERHRmJCcVN2K2hqRG9qRzNiUSt3d1A1RHRnWFVFTjNid1VpRmZkc0hyVlFnclRXZEF4V05yek5SNGZGdlZGdXJRQjRtSFFNRnl5ZThWNkY3UDRrSWFVamJBNDZCK3FxRDMvUlloU2Y3V2dobEFQYXFRaWNvK1pzOTRtMnNmT0lweE5WVUl0TS8xcDZPMWtGT3BEelVBUzRaMy9KUWhhY1B3TlZpVE1CNkt1dnpWZlJsa01TOE9TM1BlQ1pEM2JQNlRhTkp4ZlJweTBveTZrVitnRFBFSXE5a2FOSnJpUWhSalJqM1FnY29RZ0J2UnFnT2ZqdDd1d1RKNElwblFEMnVQVjUwUGVkK0o2c0M5ZHJRSGxBZkhLeWlMOE4zRDJYcUIxL2xCUlY0U215RXVnemZPNnpkaUhLUHdRbnc2R2I0Q0dVWlFscHVpUG91TTBoSXpRbEFIMTBaSGgzVmFna3Y0cjl0WkZpSHA2ak83bXdkMHdJa2E0OE5RTnEzejlIVTRmdCtsZ0hKRCtBb1JSbldCSUNkc1NXUFFlSURPRVpQaGgvOFVLMHZmUmtiVk5EWnNQRHp0R1RZcWk0RWpmcXM4UVRCSXpxQU9sbzZ2S0NtenJ1M2x4WkpWSWNmVVpMaCtHWS9Cd2NKNlYrb3JLYWt3NC9WeFAzWWZzcWlvREtBRTNSaytFblk1OW1oY0ZuUllUbzZhS3ZsYVkrL3UwQXNrQUhVVTVGaGlkYXRZTzJzQ1VXcnpCWlEwV0hBenkxSnFUZzZwS0Vod3pNQmYxZWFjc29iSGJZRGY5Y1dtTFdYTk1yRitzMWEwcjV0UzhhS1phQVNKMythU2RxdlhRdnN3a3NhOWVaWUptblcvaHFBWDRoYnFuYlV6aGQvdG1YMTNoM2p3Wk81cFAyYUh3U2NFQ1ZvVjI5NzhkU0I4WEJ4MHI2TkR3SkdoK1V2TlI5M0k4TFBaN3o4QzRESHYvVUZqN1UzME5NM3g5bms5NU16ZnBsYjJKRkt4T0xhQW05dGhYYzhsa2o1dC8xZ3ZHbGhZdSt2Yk85ait2VnBQU2ZnWjIvOUdoOGs4MDBMaldkZXNiT0wvamNuOUQ4bS9Wc0FET0dCR2NPdnZ0WkJwa0t2dnYwYTNXWmFQcVNBT1J2N2ZtdXRRdTN2OUgzSFJDdTgvUWdQckdqOC9SOHNaRGlyci9IeDJ4eTJEV1JMSGRKc1dHT2l3dnB6K21VK3JoQ3NpWkFJQVhhOGJpVEQrVkU5TXBSaGVJU3dMaGdaRnZYaUE2UyszZGJIVXhORUtJUTZnTWJPUHhiTGNHLzlOSkdoZUlUU21KcitRaG02Yzd1SHFhLzlwUTFSb013UzZEeUl5QkQ2ay82TER4ZTQyTVdHRGdEMHdLMkpyUy9yWDF2dXR2VS9kdkpEbW5WL3p1dHdJZmV0ajJjbVNMRVJIelFtL3BLck1TZW1VWGJBRGtLWXNtbE9Wb2MzY2wrUjdxZnpNNlR0aHp3WE0rY205SWFuVTdFZ2JFOGlQS0ExSkM3bHZ5ajN0b05rTzB4bStHdGFob01YODUrblFYaXdYeXpTaEM5elhELzBtYlVUSmNCcS9BSFBUSTY3QW4wcy8vd1FkeVFEQ096anprQWZ5ejQrT0R0VUpjM0RYQlgwcWV6ckN5ZUg3R2dNY1BCQmlPWGVmbkFVSkRWV2NQQkppSDVlNlVLQTdhWmtucE5JZmlqdmdpRTREUTZhRG5COEtPc09oaHNaMHVYaURQTForL0VIdVVRalA0b2JHY0FrVjRsKzRmbDRsRkthNFhIbklWTGpiMGg3RWpBWW4wellQZ01GZyt5NHdzeVFia2NkTERoVTI2NFFvcnRoZmkzRzJ6b1RCNE83TXBIbVRiUy9tUkhDbG1OQzFGVnMxUnVBYm1iUVJKZVpJZDNQZWdzZGY4aGlvOENxeGRMRm5oUm93YVBUR1ZVNVpzTmhBNllLeHFOMFNKOU85a21rbkQ1TUVlNGRXcCtoaGxYQmJaRkljMTltUXVjODVtZ1hrbGwvT1Iram5ZWDhvaGh2ZDZlNDRMcEVxRnk4bWgyZ1BJWDUwWEw5QTNyeXRvUDl6UUp1cUNBVkk4NWJZc3paV0VNaDErYms1aS8yWWk4d1d3OGpKQXV2anRoVFFqQWNSMHpGQ0dvUHBVUWlBREQ0T200K3F5QlQ0TmRIcVdkYTRCd2dYa0lqOHhaZVJHS0tZYjRRbFppRHNWZ2oxbDFINWplZk5ieXdlTDJjbWYyOGRiWVdlVUkzMUR0bnptTFY3aTBLaXNYZEhkRHpOanJSZTVYa2ZReEVSSk54d1NoZnlFSThXWUw0WGpJQzU5QjVYbmo5UTBuUWp3MkNuaVZmOG1mcG1oVzQ1VUhuYjdBMnkyTWF0MlBXZ2FnVEdaZFlXK1lwZjhldkMxSjViVGxyNHp6anhqODRFMnJYTnJxL1JSbXc3S2JWU1VLOUo5emZ4ZWRVanozSEVmRFA2YTNFeHI2M1NWUlErZGNibTFoYlM0bmhWLy9kUWFxQ1N1aUZYVVFIYTVZVjFZODFPSGg3MzlPdmpFeFlKRHd4VXJtUXlBSWY0R1FmaXM2Mnk2ZjJEd1d3eVFhRzlwOTZhMXRhclRFM3h1MWEyeE53ODM5Q25POUxndGg1K1owdGwwWnVqQWVIMHlrT0I4ZjNqRnphOHM3bC9Fblo3enJ1bU5TL20vNzc4ZWFYRHRQVUluRFk1VDQxWW1xbndrNE1ERS9sWGpBWnVqbi9sbFVaZE1MZ3JmazNRNTVva0dIbFRQczJ2bG53eHFlT3E4MUh1MXJ0cDJOQWE5ZlI1djkwZUtoQmhzY1AyTW9UNGJILzR0TUoxYldkbTN5UCtOeGZEQzN2VFo1cnEvTXlGNkIwVDEwak5mWGFsTVg3VzJZZG1kM1E5LzZ0S29LVHdYTU1WdDE2djY5aDloSDJid3NLdFIwak1maFlHL25EMnJudit0a1BGcys3Y3JxOWEvZWg4YUZnVUk4aUU4SGcwUGloM1YzdHA2L01XL3pCMmV2N2ZQQ0dBNGlLcGxIVDVsZjFhTlAvV052b0VhRVBPMGVIY1JvTWozWit5SzdZTXVHaml2NExIMC8yMUtoSEJKd00xdlJNZm55aHYrSWoxbFpaOEg5NGV2L0htbWZKRVFBQUFBQkpSVTVFcmtKZ2dnPT1cIlxuXG4vKioqLyB9LFxuLyogMTIxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IFwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFFNEFBQUJNQ0FZQUFBRERZb0VXQUFBQUJHZEJUVUVBQUxHUEMveGhCUUFBQUNCalNGSk5BQUI2SmdBQWdJUUFBUG9BQUFDQTZBQUFkVEFBQU9wZ0FBQTZtQUFBRjNDY3VsRThBQUFBQm1KTFIwUUFBQUFBQUFENVE3dC9BQUFBQ1hCSVdYTUFBQXNTQUFBTEVnSFMzWDc4QUFBTzkwbEVRVlI0MnQyY1cyd2JWM3JIZjNNaEtWSWlkYjlSY2lSRjlsYUpZenQyNDlpVzdHeGFwODF1eTZqZG9uM29CUVZhRkNoMlgvalNBdTFMMy9xeVJWRUlmUWlLdml5S0JiWXRXcUJoaGUxdTNGMEhpbTZKWThlWFpPM2F1NWJrV0tJa1dqZmVoNWRoSDBhU0pjNFpha2hSMG03K0FDSHFuRE5uWnY0ODUzemYrYzgzbjhRQlkzUmt1QTNvQlRvQVA5QzArV2tFZkVBRElBSDFtMzk5Z0xxaml4ckFYZFR0VnR0aVpJQWtzQUdrZ1Fpd3VQbjVDZkFBdUJVSWhqYjJlMS9TZmp2WVFaQU1uQVNHZ05QQXE1di8rNnAxamlyaUxqQU8vQkQ0ZmlBWXlwWGJ3YjZJR3gwWi9ncndwOEJsRE1KK1VmRXZ3RDhFZ3FIYmRnK29pTGpSa2VGdkEyOWpqS3d2RS80ZCtGWWdHRnJacTJGWnhJMk9EUDg5OEMyTWRlZkxpbm5nbTRGZzZMOUxOYkpGM09qSThCWGdYWXcxcXl5b2lvVFRvZUJRSlJ5cWpLcElLTEtFcWtqSXN2RmRra0NSSlVCQ2tTR1dmTDdrU0pLRUxJR3YxckZkcGlqaXl5NFVRTmNMNVBVQ2VxSEFSanhMTGw4Z255K1F5ZWxrY3pxWnJFNWVMOWk1OUQ4SkJFUGZxWmk0elduNWwzYk81SFRJMURnVm5BNlpacCtUR3BleVNVaDUySWhuVFdYMWRZNnE5T09yZFpCTTU5aElaRm5aeUpETjZSV1JaM2xYb3lQREVvYmxHYlJxSTIxZWlNc3A0NmxSZDVGVXlZMGVCbkU3K3lrVVlEMmVZU0dTUXN0YUV2ajFRREQwZytKQ3VjUjVMVW1USkdocmRISHl4WHI2dSt2d2Vod1ZqYXlqaGlSQm85ZkpTNzArbW54T3EyYnZqbzRNbTF3cUlYR2IwMU5JV24yZGc1ZDc2K2x1OCtCMGxPTDlGd2V5TE5IYldVdGJvMHRVM1F2OG8rbVk0b0xSa2VGVENOWTBDZWh1ODlEZlZZZkwrZVVnckJqZGJSNnJKZUdQUjBlR1Qrd3NFREh3VDhVRkV0RHJ0L3hGdmxUbzdhekZvUW9IeHQ4VWM3S04wWkhodndQK292aUk3alkzYlkzV3JwdmR4WHc5NVNBY2RSR091bGlPTzBsb0NsbGRwa2JWNmZTbDZmQnA5RFNta2ZKSlcvM3RoVXFOek1xR3h0eGlVbFRsREFSRFdkaTltUWI0ZytLV2RXNjFKR2wyTURYYndOeXFtN1dVK0tKVFdabkhLeDRlcjNpWW5JR0IxZzNPK1ovdDY1ejdRWlBQeGNLenRNaFYrVjNnZTdCanFvNk9EUDhXaG5xeERVbUNZKzJlaWk5Z1lhT0c3OTNxNVBhOHo1STBFUjVFNnJtMTBISmt4RWtTdE5RTHJleGJXMTkyVHVZL0xHN1Y2SFhpZGlrVm5YeHl0b0gzUG10anZRekNkdUpCcEo2b1Zya3Z1RjgwZUlYRXZibjFaU2R4djFIY3FyV2hmR09nRnlUZWY5VEZuZm45cTBrTDBjcEgrMzdoZGltbzVxM2RpNk1qdzM3WVhPTkdSNFl2QUxVN1c3Z2NNclZ1MWRaSnRwRFRaWDcwczA1V2t1STFVWklrL0g0L1hWMWRORFkyNHZGNFVGV1ZUQ1pET0J6bTQ0OC8zdFUra25BejBMcHZ6YkZpZUQwTzFtS1o0dUlyd0w5dE1YTzV1TlpYcGhYTDVHV3VQN1ltcmF1cml6Tm56bEJYVjJlcWM3bGNkSFIwbU1vamlhTVZZV3JkcW9pNG9aM0VYU211OVhyc0U1Zk55MXgvN0djbGFaN2FzaXh6OXV4Wit2djdTL1loeTJiZlNTOGM3VGJPSTE3Zno4QnpkK1QxNHRyYUdudEdRUy9Bang5M1dwSjI2ZElsdXJxNjl1d25uVTZieXR5T3NoWHRxc0ppaC9STEFQTG95SEFyMExtelJsVWtLKy9aaFBmdXRRdW5weXpMREE0TzJpSU5JQktKbU1wYWE5TzJqajBvT0ZRWldUS04rdmJSa1dHUHZNWGdUdFE0N1kyMi83clh6bUxNUE5JVVJlSHk1Y3Y0L1g1Yi9RRE16czZheW82YU9BQ0hRN2hjK0dYQU5DVHNqTGJwdVFiQ1VmSDBIQndjRkM3MlZwaWZuMmRseFN6enQ5V21qcFEwQUljaTVLS2pJdUkrWDZ6ajA2ZG1QMDJTSkM1ZXZFaG5aeWQyb1drYXQyN2RNcFczMTZXb2RSN3RHZ2VncW1VUloyM041dGJjalAyc1NWaDMvdng1dXJ1N2JWOVVMcGRqZkh5Y1ZNbzhzczUwcmg0MVp3QWlKeGlnU2NWNG9tNm5NWUFsYWFkUG42YTN0OWYyQldXeldjYkh4NFZUdEs4eFJvdkhXTjgyMGs0aWlScldGendzeFYwa013clp2SVJMMWZIN05EcDhHc2NhVWpUWFptMmZ1eHdJakFOQW5RcVlQRkxaUWdaZjJIQVIxOHlHWTJCZ2dJR0JBZHNYazBna0dCOGZaMlBEdkN2dzFlUTQzeDNoMDRWbTVtTWVvbW14cEszbFpHWlczY3lzdXBtaWdaTWRjZDdvci80b0ZTOXhaUklYRmxqUW5wNGVUcCsyLzF4NmRYV1Y4ZkZ4b2Q4bVN3VmU2WWp6ZzRmSHl0N2dmNzVvM0VhMXliUGdvazVHRU50aDllQWx2R0gyMTNwNmVteGZ4UHo4UEI5ODhJR1FOSUNlcGhTVHN3MFZxeUtmTDlheGtxaXVvbUpCbkxlc2h3ZWQ5ZVlibnA2ZUpoNlA3M25zZ3djUG1KeWNKSmN6VzBxWHF0UG96akt6c244MTVPbkc0ZXh2VlFUUEhheE1RNmRYTTVWbE1obkd4c2E0ZXZVcUxwZDVLdWZ6ZVc3Y3VNR1RKMCtFZmZyY09WU3B3R3BTUEZLMkZKWHU3bTZhbXBwd3U5M2Jpc3JpNGlMVDA5Tzcyb2VqTHM3NFk0ZENuTzAxemwrdmNid2x5VStmN1I0WjhYaWNxYWtwM25qampWMmI5V1F5eWNURUJHdHJhOEwrV21vTjVlRlpRbXdBU2lrcVRxZVQ5dloyVTNrNGVqZ2pydXpuZkcvMHI5TGtNWnYrNWVWbGJ0eTRzZjMvMHRJUzE2NWRzeVN0M2FzaFNXTFNKRW5pM0xsekRBME5DVW5iZ3NOaEhxV1pYSFVWRll2MXZyNDhwUkpqUGZyVkV5dDgvMzRyeWN4dTEyUnViZzZmejdBMW4zMzJHWVdDT0xqbGJGZVVoV2dOa2JpWk5GbVd1WGp4b2kxSE9wazBQNG1xYytXclNwd1ZaSXp3ejEwbzdCSE0wMXFYNGVvSmNRalp2WHYzdUhmdm5wQTBWUzd3dFpjaWhLTXVsbUppMGk1ZHVtUjc5N0c4dkd3cTYvUnB0bzZ0Qm5FbVU2bnZ4UnpRM1pEbTdRSDdqL0FhM0ZuZWVXV1pPL00rb2FJaXl6SkRRME8yWlNnUUt5cUhTVnpGZUxFNXljWGU5VDNiZFhnMXZuRnFpZGxWZDBsRnBSeHhJQndPOCt5WitZZnJxcSt1RkNYZWNTR1h2Y1lWNDJ4WGxMU1c1M2E0V1ZqL2FsZVVTNzNyUElyVVdpb3FGeTVjS0V1NzB6U05Uejc1eEZUdTkybjRhcXFycUZnNXdQc21EdURsdG5WT05FZUpKR3BZVHJpUktORGJrcVBUcCtGUWRPYlczUHp2UXpHeHI3MzJHc2VPSGJOOXJudyt6K1RrcEZCUmViMW52YXFrbFVKVmlBTndLRHArWHhLL3o3QjBPMk0wU2lrcWZYMTl0cytSeldhWm1KZ1F5dXduV2hQYjYxdE1VMW1NdXBoZGNmQXNVVU15cTVMVkpWeUtqcjllbzlPbjhVSmptZ2IzM29xS2hVdnJVZ0hUYW1yRE50aUdsYUp5L1BqeHNoU1ZaRExKaHg5K2FLbW9mTFYvYmM4WWxYUk8yWTVSbVppQjAvNFlRMzFySmM4cmlSZTVHcFVLcmFwZFdDa3E1ODZkczkzSDJ0cWFwZUFKOEVwSGpQKzgwMTVXZkFyQTNRVXZRRW55TE54cG00K3k5a1BjUGhXVmNEak05ZXZYTFVucmEwNHlPZHRZTm1sYnVMdmdMUm5mWW1FY1BBZE9uRWhSbVpxYXNxV29QSHo0a1BIeDhRTlhWTDVZdDk3ZldvdzRwV3JHd1FvaVJTV2J6WlpVVkhSZDUrYk5tOHpNekFqNzlOYmtVT1VDYTNzb0toMGRIVFEzTisrS1VWbGNYRFRGcUlTakxrNTFpaFVWS3lIendJa3JWMUZKcFZKTVRVMEpuVnVBWms4R0pNbFNzQ3lscU5UVTFBZ2ZXNHFjOHVjL2dyQllsUUdUVGE2bVZRVkRVV20yVUZSMk9yS1JTSVJyMTY1Wmt0WmVweUhMQ0VtenE2aUlZbFR5dWxTaXZmV0lNMGtNdXIxWGRtekRwZXI4aW9XaU1qczdpOWZyUlZFVTd0eTVZNm1vbk9tS3NoaXRJUkxibjZJaU1qSWVaL21LeXFIRjNlK2xxTnkrZlZ0SW1pVEJsZDVGbGtvb0tvT0RnN1lWRmRGb0xpVU1XSXhGK1ZCZldDaFhVZkc2c2x6dFgrQkJwTUV5Um1Wb2FHamZNU3FsaUN2MWxNdmtpdHQ4dTY0aTJGVlVXbXJUdk5XL3dFTFVJd3d3ckVSUnNZcFJxVVNLRXU0Y0N0VzJEa1U0MnhVRllIcTJRVmovVXVzNlovMHJQRnJ4OFpObGM1c3RSYVVhTVNwZDlXbThydklWRlJYUmlNc2ZMSEZiNUozc2lMTVlkYkVRZGFIckVwMCtqUTVmbW95bXNSRDFjT05wcS9EWTgrZlBsNldvbElwUnVWQ2hvcUlDcGtVbmQ0QlRkU2VjaXM0TGpTbGVhTng5UXhrTlByWWdyWm94S2w5cFRkRHV6WlE4M21MWmlxa1lyMUlYbmF6a3k2OEhqcVc0bTJUVzdKdVhHNk95bDZKaUoxekN3alZMcU1EajRsTHRpSWtUR1lOcXg2aDh0WDhWaDdMM3pMSVljUnNxOE1oRVhFYW5VTERjYmh3WmNYYXhzTERBOVBTMFVCd0FlSHZnR2QwTjlwNU5aSE5DNHNKeUlCaEtBamQzbHVxRkFpbnRjSjVQaWlDSy9mM29vNDlzeDZoTVRFd0lTWE1xT3IvNWNvVGVKdnNoc2hidjdEL2Rjb0RIaTJ1aWlZTUoxS3VVT0UzVEdCc2JJNXNWWDFjK24yZDZlcHE3ZCs4SzNTbXZLOHViZldHVElkb0xGZ1BvcmlWeHE5SFMxdVlnMFY2WG9xZkJQTHJpOFRnVEV4UG8rdTVSa0VxbHVINzl1bVZnVDVOYjQ4MitNQzBWUkxGYkVIZDdpN2dmRnRla00zbmhpN0tIaGZQZEVYd3VzYUp5OCtiemxXVnBhWW4zMzMrZjFWV3hoV3lwVGZQVzhYbThydkx2UlM4VWlLZUU2K1NrREJBSWhtTEFlOFcxVHlQSnFpc2xkdUZVZEFaZldNTHRNUC9pTXpNejNMOS9uL3YzN3pNMk5vYW1pYmRNTDdXdDgrdkg1MUhseXU1aEk1NFYzZit0UURDVTJMbkovM1p4Q3kyak03dVk0R2lvZ3lhUHhzVmp5OEs2UFdOVUJpS2M3ZHd6UlZKSlJOYUZQOGc0N0pDVkFzSFFKUEFmeGEzV1kxbG1GaEpITnZJNnZVbXU5QzdhYnQvZ3poSTR1VXhmOC81ZUxva21zc1NUd21uNm5WM0ViZUtiUUxpNDVYb3N3LzI1Mks2Y1I0ZUpZL1VKMnpFcXYzMXFhZCtCTjdsOHdTcVp3VlFnR1ByVVJGd2dHSG9HL0xub0NDMlQ1OUVYTVI1OUVXTWprVDMwNlh1MksxcVN2RmU3b256ajlCSnV4LzUyUGJsOGdaOCtqVm41YjMrOTlVVzROeGdkR2Y0OWpGeHFsbkNvTWcxMURyeTFEZ3A2d1NUNEhWUnVwVXhlM2xaVWdPMlhSSnlLWGxZL0lpUlNPV2JDQ1RMaUxlZS9Cb0toM3k5SjNDWjU3d0QvRExSakF5Nm5qTXVoNEhMSU9CMHlMUTJ1aXZNdEhWWlNxaTJrdFR5THErbFN2dXNNY0M0UURLM3ZTZHdtZVcwWWVlTitweElDSEtwQm90TWhHNFNxTWc2SGpFT1JjYWdTcWlJTDk4T0hRVnc2a3llYXlMSWV5MXI1YWx0SUFlOEVncUVmN1N5MG0zanYxNEMvQmM1WFFtQXBxSXBCb0twSUtJcVJrQytmTDJ3bjVaTmxDVm1TOE5hcXlKTFJScEdsN1F1WEZXblhUZWg2d1VqQVZ5aXdIc3VpRjR4RWZMbGNnVnplU0xxWDFQSjJ4ZG9uR0Rua2ZseGNVVzZxeDh2QW4yR01RRysxU2Z3NXd6andSNEZnYUU1VVdiRndORG95L0RwR3lwekx3S1dqdnNzcVloNzRiaUFZK3F0U2phcWl1STJPREt2QVdlQ1hNYklrbk5yOC9Eem1BTGJDSlBCdUlCajZycDNHQnlwVmJtYUY2UUg2TUJMWTlXSzhXTnlPa1VDaEZUaXFQRUQvQjN5SU1TWC9KeEFNTFpkejhKSG5aOXpNUXRFS3RQQThuWGNUUmlydjVzM3ZQb3hNUEhXYjVYVThKOXdMN0l5clNHRkVtYWFBTldBZDQ0SFVFd3kzNGk3R1JuMWY3MmYrUDhleitJb3V0RkRuQUFBQUFFbEZUa1N1UW1DQ1wiXG5cbi8qKiovIH0sXG4vKiAxMjIgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gXCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQVJJQUFBQktDQVlBQUFCM25kc05BQUFBQkdkQlRVRUFBTEdQQy94aEJRQUFBQ0JqU0ZKTkFBQjZKZ0FBZ0lRQUFQb0FBQUNBNkFBQWRUQUFBT3BnQUFBNm1BQUFGM0NjdWxFOEFBQUFCbUpMUjBRQUFBQUFBQUQ1UTd0L0FBQUFDWEJJV1hNQUFBc1NBQUFMRWdIUzNYNzhBQUFMUTBsRVFWUjQydTJkYVd3VjF4WEhmd2F6bU0zUXNJY1N3dElFVUZJN0ZhRlVhdEltamVvMEZIVlBwRmJ0S0VsRk8xVnBSbFJkMUZSTmxiUlMrNkhUUlprc2F0cjVBRlhTZEVITkJtb0xKUGtRakZ0d2d0akNaZ2c3QVF3WWpBbExQNXc3ekxPeGEyelB2RHZ6M3ZsSlYzNTZmbS9lbWRGN1orNDl5LzlXb0NobGdPYzZNNEVGd0llQkR3RGpnWkhtMzgzQVFlQnRZQTN3RHo4SU45dTJPVTlVMkRaQVVkTEVjNTNKd0ZOQVhRL2Z1aHhZNkFmaEh0dm5rQWY2MlRaQVVWTG1aWHJ1UkREdmVjVzI4WG1oMHJZQlN2SHdYS2NDbUFQTUJXcUFXY0FZWUFRd0hKbWhualRqQ0xBSmFBVHFnUVkvQ0MvWlBvY2ljOEcyQVhsQlp5UmxndWM2ZHdOYkVhZndXK0IrSkY0d0RYRW1nNEZCNXZFMDg3Lzd6V3ZyZ2EzbUdIbmpVOENLWHJ4dk9URGZ0dkY1b2RKem5mSEFGNEE3Z0puQU5jQW80RGh3Rk5nTXJBVCs0Z2ZoUWRzR0s3M21qOEM0UHJ4L0JyQUUrWDdrQmhQanFQTmNaeFlTYkoxTEhHd2RaVjUybkRqWVdvOEVXemZadGoxUFZIaXVjd29ZZGhXdmJRRVcrMEg0dEcyamxaNWpaaE8vUTJZYnZXRUg4RzAvQ0RWdW9GeEJQNjdPaVdCZTl3dmJCaXU5d3ppQUdjZ2RlUkh3QjZBQjJJZmNKQ0phekhNTjVqV0x6SHRtcUJOUnVxSVMrZUpjN1l6ays3WU5WbnFQQ1phdU5VUEpDWjdyVEVSaVZqWEFkR0FLc3NRY0RRd2svdjIyQU9lQWQ1R3dSQk93SFFtWXIvR0RjSDlhTmxaMGlKSFVJT3ZvSWNBWjRKQXhZaFh3dk1aSUZLVTRlSzR6Q1BnNkV2Q3VUZWl3NjRGbmdOLzdRZGlXcEwxYWtLWW9HY1J6blZYQXgxSTYvR28vQ0QrZTVBRTEvYXNvMlNUTkdxL0VqNjJPUkZHeXlWMUlvTHN4d1dNMm1tUGVsYlN4dXJSUmxJemp1YzRrSkhOV0MweWxmYkIxRUREVXZQUTAwRVljYk4yTnBPM1hBL1YrRU81TnkwWjFKQjNRTGxGRjZUbnFTQXphSmFvb3ZVZGpKREhhSmFvb3ZVUWRTVEpvbDZoUzFxZ2ppZEV1VVVYcEpSb2o2WUIyaVNxS29paUtCWFJHb2hRVnozV3FrUzdrcVVnRDJpU2t2MnMwVWhzeGdyZ0piUmd3QUhpUHVFTzVCVkZ3TzRyVVN4d0M5aUxOYVR1QmJYNFFuckI5bnVXR09oSWxWVHpYdVJHcHBKd0wzSW80anpTL2Q1Y1FwN0lXV1g3KzB3L0NMYmF2UTZtamprUkpITk5SdmhENE1qTDdzTTAyNEUvQWs5ckJuZzdxU0pURThGeW5QL0F3b2x0VFpkdWVUbWhGeExrZTg0TXdNeWw3YzkydUJkNlBMUFVtSU5xNTQ0RDNJY3U5a1VBMTBuQlhiZDRhTGYwS0tWd0duZ0RPbTcvTnlKTHdHTEljUEFJY1FKYUY3d0Q3K25KTlZFVmVTWkxIa1psSVZxa0NIa0YrcU44bzlvY2JoekVOdUJuNElIQVRvdVIvSFNKUWxBUURpTE9NbzNyd3ZuT2U2K3hHZGc3WUFMd0p2QVhzdUJvSG96TVNKVEY2b1A5cm14WS9DSWNYNFhyMFE3Yi9xQU0raXZSdkRlM1RRWXZQYWFTdjdIV2tacXJCRDhLTEhWK2tNeElsU1phUzdSbEpvWjJwNGJuT1RjQUR3SDMwVGJrL0N3d0Y3alRqRWVDUTV6clBBcy80UWJnaGVsRlJIWW1aMnRVQ3R5QmJYOHhBcHBtUnZPTVFwQzI2RFpGNmpPUWVEeUFCczgzQU9tQjlsdGE0eW1XK2hSVHNmWS9zeGtoK0NUeWF4c0U5MTVrRy9CcTRoOUtkN1k4RHZnTXM4bHpuWmVBaFB3aTNwMzZ5Wm5wM0QvQVY0RzVrUjdlK2NncHBsRnNDdk5UWlZFdXhoK2M2RTRpek50TnQyNE5vY2l3Qm52S0Q4RUJLNTN3NzhBTEpmTC96UkF1d0lGVkg0cm5POWNCZlNVNjh0alBXQTUvM2czQlhtdWVpOUE3UGRXWWp3dUsyNmtoVytrRzRzUWpudVJ1WW5QYm5aSlE5YVM5dFhnRnVTUGt6YXMzbjNKank1eWk5d1B5SU55S2JjeFZXdGs0ell6SXdsbGp4cXhwWjRtSWU5d011SWlsTWtPWHVDV0lWc01QQUhtVFdzUU90YkxYQmhiUWRTYkhXaWFXNkhpMDV6SS84UDJhVUVsK2xmSmMyRDZRdEk3QUFXWHFreVhyek9ZcGlEVDhJWDBWbXh5OGh5NnRTNTVJNTExby9DRmNWSzlnNkh3bTIxcEZjc0hVNUVrQjdVWU90U3BZdzZkOEhnWHZKZi9xM0k0ZUE1NUJOdGk2bmY0dTZKUEJjcHhMeDJoOUNZaHJUYVovK0hZcFUrSjFEQ21FSzA3L2JnUzNBZjVIMDczbTcxN1BkZVZVajVjM1hJV3YrU1VpSjg2aUNNWkk0dlEwd21EaEYyZ3FjTlkrajFIY3pvbjhTalNOSU9mTWVSQjM4SFkwRlpCdHpFNzJWdUNCdEx2a3NTS3NuTGtoYjI5bU5XMk1MUGNSa29qNkNsRGpmRE14R0hJY045aUtCekxlUWt1WTMvQ0RjYWZzYUtaMWpicVF6a1RxcTJVaDUvQTNJRFdoQUh3NmRCTzhoTjZpdFNKbjhSdVNtdmVWcWJ0cnFTTHJCYzUwSzVHNXlMeUxIT01XMlRkM1FoQWhaUHdlOGJqWU9WektNS2RTY2hNeHFyd1VtSWhtc3FHbXYyb3lSaU1NWmptU3pxcnM0NUFrazAzVUtjUkRONXJrVFNOUGVZV1NHdXgvWWgybmM2MHVScHpxUy80UG5PcDhCZm9iY09mTElKdUJIZmhBdXMyMklVdHIwdDIxQVZ2RmM1NmZBRTBpc0k2K01BZTZiTjZlbTM1cUd4dFcyalZGS0YxV1I3NXJ2MmpaQXowWEpDK3BJdXVaWHRnM1FjMUh5Z2k1dHVtQk5RK09xZVhOcTNrU3lNM2xkM214R3RoTU5iQnVpbERZYWJPMEdrN1c1SGZnUzByMDh4YlpOM2RDRTlCNzlHWGhWc3paS01WQkgwa004MTVrS3pFUHJTQlRsTXVwSUVzQlV0azVHQ29zaUFkK3h0SzlzclVieS8xR2paRlRGQzNFbEw0aFk3eWtrNTE5WTJYcVlXS2gzTjdCSEsxc1ZSVkVVUlZFVUpVS1hOa3B1TVV2S3FFRXkyZ3RtREZKS0hvMUlLQ25hQXlZU1M0THU5NFdKQkpXaTV5SlJwZWFDY1lSNGo1Z2p3TjV5WEhLcUkxRXlpK2xCbVdyRzlRVmpLcEk5dThhMmpWMXdGTW1lN1FSMkZZeWR3TTVTRkM1WFI2SmtBczkxQmdFMVNLdDlEWEZHYkxCdDJ4TG1MTzB6Yld1QVJqOEkyMndiMWhmVWtTaFc4RnhuTUpKR2ovWk1xU1hXYWlrMzJoQ2x2NVhBdjVBMC90bStIYks0cUNOUmlvYm5Pc01RV2N6UElzVjllUlA1S1JhbkVSR2h2d0V2K0VGNHlyWkIzYUdPUkVrZHozWG1BTjhFdmtnK3R2VE1FaTNBODhBVGZoQTIyRGFtSzlTUktLbGhITWlqd0NkdDIxSWlyQUIrbkVXSGN0bVJlSzR6RUJpUHBOTkdJeEh4YUsrUlVjQUlNNFlqNmJTQnhGUFQvdVovRVlXN29COHZlSHdTaUNMV3A1R0t6ak5JSmVkSk00NFQ3MWx5MUR6ZUN4ejBnL0NjN1F1bWRJLzVMdjBjZUFodERFMmFDOEJ2Z0I5bTZmZFE0Ym5PT2tUYUxROXExNGNSYWJpbWd2RTJvak81VzlYazdlTzVUaFd5dHEremJVdUpzeHo0bkIrRXJiWU5BZW43U0hNN3phUVphMFpuTnAvMVhHY0xrbEpyUktMZ2E3TnlvY3VJeDFBblVnenFrR3U5MkxZaEVEZVFsUUtEa2ZxREd1QnI1cmsyejNYcWdWVklhcTArNy9uNkhPRFlOcUNNY0ZCSFVoUUdBYmVaOFJPZzFYT2QxWWpDK3JKeUxHVldsRFFvTjZuRktxUitJUVQyZTY3enBPYzZ1dmw0c29TMkRTZ2pRdHNHUkpTYkl5bGtDTEFRMk9DNXp1T2U2NVRiNXM5cDhUQ1NwbFRTWlFWeXJUTkJPVHVTaUVyQUJkN3dYR2VDYldQeWpnbHVMMEFFcDB1dU9TMERYRVN1N1lJc0pSSktQVWJTRTJZRFR3T2Z0bTFJM2pIMURZczkxM2tXTFVoTGtzd1dwS2tqYWM4bmJCdFFTcGd2ZkoyV3lQZUpYSlRJcXlOcHowcmJCcFFpNWdmUTRMbU9COHduYnRvYll0dTJqSElHMlFuZzc4Q0xlY2d1cWlPSjJRZzhhTnVJVXNiOElKWUNTNDJNd0czQUhjaDJIN2NRaTJHWEcrZUFkY0Jyd0wrQjEzSW5JK0M1VHJudmUzSWVpWTM4SUEvdDJxV0tFVGFxcGIydzBTeEtVOWhvRXlKczFBaXNCZGJsdlZDeW5CM0pHV0FKNFB0QnVNVzJNY3FWZUs1VHlaVlNpMVBJdnRUaU1hNlVXR3dDZGdDNy9DQThiOXZBcENrM1I5SUtyRVoyb1Z2bUIyR3piWU9VM3ROQi9Ia2k3Y1dmcStsZS9MbndjVVFrK0Z6NHVEUHg1K2h2SlA2OG4zSVdmeTV4UjlJR1JMMDJxeEVKdTF4UElSVWxpNVJTc0xVTjJUUmJ1MzhWcGNoVUlqKzhTV1IzdlZuSU1XVEx5aVppdWY5dGlCNUprK3FSS0lvZENoWFNxcEJOaGlZUUs2U05SdGFjSXhEVnMyR0lRbG9Wc3Y2c01QK0xWTEFLOTdZdDVBS2lmbGI0K0JLeXhteEZGTkphRUhXMGs4aGFNMUpKZXhjNENPelgyWVdpWkpQL0FWVGJXaUxscUVTdkFBQUFBRWxGVGtTdVFtQ0NcIlxuXG4vKioqLyB9LFxuLyogMTIzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IFwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFIY0FBQUJLQ0FZQUFBQ0IzY3Y1QUFBQUJHZEJUVUVBQUxHUEMveGhCUUFBQUNCalNGSk5BQUI2SmdBQWdJUUFBUG9BQUFDQTZBQUFkVEFBQU9wZ0FBQTZtQUFBRjNDY3VsRThBQUFBQm1KTFIwUUFBQUFBQUFENVE3dC9BQUFBQ1hCSVdYTUFBQXNTQUFBTEVnSFMzWDc4QUFBVTNrbEVRVlI0MnUyZGZYQWNaMzNIUDN0Nzc2KzZrMDV2bGhWbmJjZHhjR0lTUitCQUVnVmNLRE1CbWlHdHl3U1lBZHBTTW0yblNabE9XNDZiZG5vOVp0b3BFOTdLUzVrcDBKYVVHZ29VVWdiYTJpVktZcFNJaE1sNzRzUnJ5eFo2dFhTNk85M3I3dTMxajEyZFQzZDcxdDNwSkJtYzc4d3p0M3IyMldlZlo3Kzd6L043ZXg0SnZJWUtqbzFQN0FDdUI2NERkZ0hEd0pDUnVnRXJvQUJUd0ZQQUk4Q2pSdytQUExuZGJUZURzTjBOMkU0Y0c1OFlBVzRGYmdNT0F3TnRWdlVMNE4rUEhoNzUySGIzcVJvTnlZMUwwbDFWSGQ4UCtJQmw0RFJ3RXVPdGpjanl6SFozb2xrY0c1L29CdDRKdk1OSVhSMit4ZVBBdlVjUGoveDh1L3NLSnVUR0plbFR3RWNCZDVOMWpBTVBSMlQ1ejdlN000MXdiSHppdmNBSGdWL2ZndHN0QXI5NTlQRElUN2E3M3hWeTQ1STBDSHdIZUdPYmRaMEN2bnU1a0h4c2ZNSUIvQzN3QVNDMHhiYy9CZHh3OVBCSVlUdWZRVFc1NDdSUGJEVWVCZTZPeVBMOGRuWHEyUGpFQThDOWdLT1Y2MXgyT3dHWEU3L2JoZHZ1d08ydzQ3YmJjTm50MksxV0xJS0FWaTZUS3haSlpMSk1KNVk1djdpRVZpNmJWZmZWbzRkSFByeGR6d0FNY28yaCtFODZXTzk1NE42SUxQL1hWbmJtMlBqRWJjQVhnZGMxVTk3amNOQWY4Tk1YOEJQeWVuSFpiUzNmTTUzUGMvTFVhVks1bk5ucDdxT0hSNWEyOGhsVVk1WGNBbUN2UG1FUkJIYjA5ZEhmMDRQSDVjSXFpaWlxU3E1UUlKbE9NNyswUkNLVldxLytqMFJrK1N0YjBaRmo0eE9mQS81d3ZYSmRIamZEM1NFR3U3cnd1WndkdVhkZVVmanZaMStnb0NpMXAzN242T0dSZjlxSy9wdkJHcGVrMzhLRTJCdjM3eWZvOTY4cGJMTmFzVm10K0QwZWR2YjNrODVtT1RNMXhmeFN3NWZ6SCtPUzVJbkk4cWMzcXdQSHhpY09BUDhNM05pb2pHaXhjRlZQTjd2N3duUzVtNVVUbTBkQlZlbnl1SmxiVHRhZXVoWFlQbktOQnF6QlVIOS9IYkZtOExuZDNIRE5OU3lsVXJ4dytqVDVncW44OEVCY2t0Z01nbytOVDd3SmVCQzR5dXk4YUxHd3V6Zk12c0YrbkxiV2g5ejFrTTRYbUUybVdDa1VjTnJzWmtWdTYvaE5XNERWckFFRFBUMHRWUkx5KzdubGhodDQvdlRwUmwveEEzRkp5a1ZrK2N1ZGF2aXg4WW1Ed0wraFc1SHFNQmpzNHNaZHc3anQ5dFlxWGdjbFRXTXBrMlV4a3lGWHZEZ01XMFZMZmVGeSthcTRKQjBDa2tBS1NFWmtlY3NrYUN1d3J6YlQ3WEsxWEpFb2lseC96VFc4ZXU0Y2s5UFRaa1crRkpla3VZZ3NmNjlEYmY4NkpzUmFCSUdkUGQxSXZXR3NGa3NiMWRhanFLcWs4Z1dTdVJ6cGZJR3lpWFJzSmk5cmhZSU4rRmwxWGx5U0ZvQnp3TXZBejlHTlFSTVJXZFk2OUZ3cXNHS2lMbGlFOXF5U0FyQjNlQmpSWWtHZW1qSXI4bUJja3Q0YWtlWHhqVFQ2MlBqRVB3QUg2em9qaWd5R2d0aXNWczR2SlFDd2lTSnV1NjdTT0d3MjdLS0lUYlFnV2l3SWdsQlJiOHJsTWlWTlF5bHBLS1VTZVVVaFcxVElGb3NvcGRLNmJWSlV0VDV2YnRhc2FOaEloNEI3VmpQamt2UVl1aHI1OFU0UkxjUWw2UUs2VWJ5QzBadHZ4bWExYnFqaVY4K2Q0Nno1Ri93Y2NHTkVsdFVXcXdUZzJQakVIdUNWMm55cktETFVIY0lxaXAxNExpMWpPWlBoUWlxOU51L0hQMkxoNjE5dHA3b3ZBZmRIWkRtL2tUWlowSzBwYTVBMTE5bGF3cDdoWWZyTjUrNEQ2THBvV3lnWENuZlVkVUlRR0F3RnQ1ellNcEFyRnBsUEpsbXNJUllnOS9KTDdWYjlVZURwdUNTOWRTUHRzd0pQQTdkVVo2YXpXUUkrMzRZN2Y1MGtrYzNsU0dVeXRhZCtOeTVKMzR6STh2SDE2b2hMMGo2amZXOEEzcEQrNmNsRC9qdmVzcVpNajkrUGZZTWp6WHBRU3hwcXFVUlJWU21xS2dWVm9WQlVHbG1uOUlkN1JzYnY4YUNVU3BSS0pWUlZ2V1Q1R2x3REhJOUwwdDBSV2Y1T08yMFc0cEowRC9DTjZzeSs3bTZ1Mzd1M0l3OGxWeWp3eExQUG1zMUpyd0N2aThoeVJlU01TNUlGZlM1YTlVYmRpajQvVmVDLy9RNzZQbnJ2bW9xOFRpY3VoeDJyS0dJVFJTeUNCWXNBbGlxQnFtek1xNkIvY1ZxNWpLWnB4bThacmF5aGFmcThXeXBybEVvYUpVMUQxVXFvSmMxVWlMb1UvRTg5U2ZEUnNicjhvcUtRTHhiSjVuS2tNeGtTcVpUWnkxK0xkMFJrK2NldFBuc2hMa25Ed0dSMXBzMXE1ZlpEaHhEYUZLeHFNYisweERPblRwbWQrcktSZmh1ZHlEZXZWNWV0cjU5ZEQzeW1JKzNhTERobVp1ai8xamViTGw4b0ZwbWFtK1A4M0J5cWFpcUtuQUVPUm1RNTNYU2xnSGdpa1VnZUNRWS9TSlZ2VTlNMGdvRUFMa2RMZHZlRzhMaGNyR1N6Wk9ybjhwdUIzMGNuZHJpWnVyVE1DdjdiYmtmMGVEdlN0azVDekdYeFBmc000UisxWmxLM2lpS2hRSURCY0poME5rdXUzaGdVQkhwUEpCTGZiNms5QUVlQ3dldlFoOE1LQkNBYzZweW5yTXZ2WjJaaEFVM2JtSlJ2RVFURXBVVmNoOS9Vc2JadEJQYUZCZHl2dmtMWDR6K2wrOFJ4WE9jbTI2NUxGRVg2ZW5wSVpUTGs4bldDOGsxSGdzSFBua2drbXBhZ1Y2V1Fid01mcVQ0eHQ3VEV2bDI3RURza2dUcHNOdllNRC9PaUxMZDBuZHZwSk9EekVmQjY4WHU5ZU4xdUxJSkE3bnZmWWVrdFIxQURnWTYwYnoySW1ReldWQXBiWWduYjBpTDJoUVhzYzdOWWlzV08zc2NpQ0J6WXM0ZWZQdjAweFhwSHhKOEJUZnZMcS8yNU0wQi85Y2xycjc2YW9iNitqamIrWjg4L3ozSzY4ZFRoZGJzSitmMTArZjEwK1h6WTE3RUpsN3hlOG9NN0tBenVRUFg3VWYxK05JZVRzdFdLVmpXdENLVVNnakdmNmNjS2xrSUJRZEYvS3ltZlI4em5zT1J5T3FHWkZjUjBHcUVKUTBZbk1Uazl6U3ZuenRWbVB4YVI1VnVicmFPYTNNOERmMUI5MHVOeWNmamd3WTVHMFNYVGFTYWVmNzd5dDh2cEpPVDNFd29FQ1ByOTY1SjVwYUJRTFBMSVUwL1Y1ZWZ2dWVlSENNSWp3TmRqc2RnbDQ5Y3FZKzZSWVBBNTRQN3FrNHFxNG5PNzhiUmhhMjRFcDhOQnVWeW1OeFJpMzlWWHMzdG9pSEF3aU5mdDd0Z1U4S3NBcXlpeWtFalVEYzNhME5EZXNzdjFhOERIUmtkSFEyTmpZejlxVkVmbGFScFM4NDNBdGRVRmNvVUNPM3A3Tzlyd1VDQkF3T2Zic0luelZ4M3BUSVowalE2c2RYZFR2aWpvdm5GMGRQUmRvNk9qL3pjMk5sYm5qcXQxbTN5eXRrQnFaWVdsWkowVCtqVnNBYndtZ1FXVzVlWGFyRVBBUTlGb3RDNjB5Q3kwOVRpd3hxYnA5M2g0dy9YWGIzZGZ0d3lxRVU2VUt4VElGd3JrOG5seWhRSktxWVNpS0NpR0diRmtDRmtXaXdXYjFZcmI2Y1R2OWRMbDg5SFZnWkhKelBoVDJya1Q1ZmJiellxL0NMd3RGb3Y5WWpYRDdPNXhhc2hOWlRMTVhyalF5Qkh3UzR1aW9yQ1N5NUhKWmxuSlpsbko1Y2ptY3FidXUwdEIwelFLeFNLRllwRkVLbFV4OS9WMGRYR3RKT0ZzTTJEQVlTSmN1b0VWVWF5OFdGWFlEM3dMcUJnQTZpU1lFNG5FbVNQQjRKdUIzZFg1NlV5R29iNitqcGtrdHhxNVFvRkVLc1hNd2dKbkRUVkRucHBpWm1HQnhlVmwwcGtNaFdKeHcwYVdhbVR6ZWFabVozSFk3Zmc4bnBhdkwya2FVM056YS9LY2ZqK0gzdjkrWm1kbnpRamVPVG82NmgwYkcvc2ZNQ0UzTGttOTZBYU5OZXRtMUZJSm05WGFFVy9SWmtOUjFRcVJrOVBUbkpxYzVPejBOSE9MaXl5bjArUUtCVW9kSlBGU0tBTUxpUVRPTmdqV05JMXpzMnNkL3FMZHpqWHZlUS9oY0ppWm1Sa3pndDgwT2pyNjhOalkyRm16WWZtN05JZ2tuTGx3Z2VHQmR0ZEtiUjZ5dVJ6TEt5c2swMm1XMDJrekcvYTI0NlV6WndpSFFpM053eGFUTUNITnNJajUvWDVHUmtZNGVmS2ttY2ZxaThEK05YZUtTOUxmVVRWbVYyTjRZSUE5TzNkdTl6TkNLNWRKcjZ5d3ZMTENjanBOTXAwMk05TnRDQTY3bllEUFI5RHZKK0R6VmF4bExxZXpra1NMcFdKd1VWV1ZiRDdQY2lyRjlQdzh6NTA2VlJjb3FKWExUTTNOY2ZXT0hVMjN3NVRjcXI2R1FpSDI3OS9QQ3krOFVGdnMybWcwK29IYTErak8ybEtpS0hMOTNyMzBkSFYxOUFFMkM2MWNaam1WWW5GNVdTZHpaYVZqZGJ1ZFRzTGQzWVNEUWNLaEVPRlFpTzVnc0dWdm1OVnF4Vy9Zdm9jSEJ6bjgrdGR6L09SSkhuL21tVFhsbGxNcGFJRmNNK21tOWl2ZHZYczNTMHRMek03V3hXdmRXaUUzTGtraDlFWEhGeXNYQkE3dTIwZW9pUmptVHVPVnljbU9raG53K1JnSWh4a0loK2tQaCtudDd1Nm81UTMwQjUvSlprbW0wL1NhZU5RUzZmWGRzV1ZEeFNxVlNxWnlRU21mWjNKeUVvL0hnOXZ0eHVWeWNlMjExMTZhWEV5QzB3TmVMM1pSSkpmTFlSRkZSSXNGaTVFMkV4UFBQYmNoVWwwT0J6djYrOW5SMjh0QWJ5Lzk0VEJ1WjJlV2pxd2ltOHV4a3MyU1hsbTVtREtaaW9CajRwUEY2M0xwMFIrYUh1V2hHUVNXcW42YmtkWlZWU1daVEpKTUpoRUV3WXhZZ0VlcnljMlpWWkxKWnV1dUVnU2hRcktsK3JqMmIrT1lGdFNuVnlZbld5WTJGQWl3bzcrZm9iNCtkZzRNMEJNTWJwaThrcWFSemVYSUdicHZOcDhuYStqRG1XejJraVFVVlpYejgvV0xITzAyR3d1TGl4dHVXeldXbDVkWk5LOXpEYm1QMXA1ZHllVklwTk1FYTlTZjZxR2pHVlJlQmtGQVdQMnRTUlpCQUVGZ2FaM0ZaUmFMaFlGd21LSCtmajMxOWVGcGNmMVBTZFBJNS9NVURDdFVvZG9hWlpCWmFNTlBXMVJWbHBKSkZsTXBVL0k3UFhvb2lzTE1qS2xqYUNvV2kvMUxoZHlJTE9maWt2UWtOUkVaVS9QekZCV0YzbUN3YlFORzVXVm9vbHl0b2R4aXNURFkyOHRWZzRNTUR3NnlzNzhmYTVVNlVTNlhLU29LcXFxaUtBcEZSYUZZTEZLb1BpNFcxeHdySFpLdWk0cEMxakJQWmd3VFpTTjRYUzRDYlJneUdrSFROTTZkTzlkb0JMa1g2czJQOXdKUDFKYWNUeVJJWmpJTWRIZmoyNFJWY3Fzd00vdTVIQTV5K1R5dm5EM0xtZlBuSzErL2dFNnNRTTNJSUFpSWhreXdtbDhOc2VidmNybGNDVGN0VjBWRXJxNUFVS3VFRzdWVTBsOFNSYUdvcWsxSFJJcWl5STV3dUtteXRXMnJoV0NZSHMrZlAwL0IvR1g2WWl3V2V3ak1IUWVmQnY2NDBRM2RUaWZocmk1OEhzK21iSVh6NHRtenFGc2M5YkNaY0RvYzdPanBhV3RJTHBWS3ZIRDI3Sm84aTh1Rit0NzNValNmTnA2SnhXS1ZaVFoxWW05RWx1L0RaUDVkUlRhZlozSjJscGNuSjVsUEpEcE9SS2ZWaysxRWR5REEzcUdodHVkYVUxVklGQnNSdTR3ZVNWcUJhZWpEaVVUaXEwZUNRUmNtNnRFcU5FMGprOHV4bUV5U05TTDE3RGJiaGgwTEhwZUw1WFM2bGNqOHl3WVdRY0RqZGhQdTZtTFh3TUNHcDdDOG90VHB4dVZBZ05MdTNiVkZOZUR1V0N6Mmsrck1TeklSbDZRQmREdmxielRiT1ovSGc5L3R4dWZ4MU0xdnpVSXRsWmkrY0lGTUxuZFpEOUYybXcyM3c0SEw2Y1RqZEhZc3puc1ZpWFNhcVJxVnFpUkpLTGVzV2YwekMzd29Gb3ZWaGRzMDlabkZKZWxXNEsrQnR6UlRIblJoeHUxMDRuZTc4YnJkYmZzMGk0Wnp2R1FvL3F2Q3phcmdVOUswTllMUTZqSVJ1Q2dncmFJTWRkSmxSUTB6amdXdkY4SGhRSFE0OElSQ09IdytsUGw1V0ZqQUtvclliVGJzVmlzMm02M3RwYTdOWW1aeGtRczFrUmZxVFRlaDd0Ky8rdWQvQVBmR1lyRUZVdzVhdVZsY2trYlFoYTMzdGRwUW05V0sxK1hDNjNiak5UWlF1UnlSdi9OT1NuMTkrSHcrcnJwSzM0MWg3cUdIeUo0NHNlVnRlWFZxcWs2OUtoNDU4b1RXMy85RDRPSGFZYmdXVGZtZm90SG91NEQ3OHpBQ1FMazhabnZxcVVYeHBaY2tUQlpCbTBGUlZSTHBkR1VPY2Roc2VGd3VQVG1kbDArd25LR09WUnRvck50Z1d5OHFpcW5lYkQ5Ky9KWm1GMmV2KzBTajBlamZBSkUxbVlKd3UzTG9FTXFoUTNIbk43NXhEN3B6LzA1Z1Q3T05MeWdLQlVXcFdLUnNWaXR1aHdQM3Fsdk40ZGowWWM4VUpuTzhaUk4xKzBaWU5MZlVQZGJLcXZ0TGtodU5SdDlKTGJGckVjbS83MzJQeDJLeCs0RDc0cEowSGZBaDlPV1hMZTFHcDZncVNWVWxhVmlvQkVIQVliUGhjamh3T1J3NEhRNWNkdnVtT3kwRXczcFZQVGVMSGJRc05ZTjhzY2lpZWNUcG82M1VzOTZYVzlsVnp1djFNamc0Q01EMDlEUXJGNDM3OXdNL0FJakk4Z3ZBbjBJbFhPZnQ2SnRwdmcxb2FWMUt1VndtWHl5U0x4YlhxQU4ybXcybjNiNG1kVUlGcThERU5HbnhidDJLUWtWVk9Uc3pZMmFkS3JTNnIrWjY1TjY4ZWpBNE9GaXg2UTRPRG5McVlzamx6V1lYR25zLy9xdVJpRXZTUWVBT0k5MUd6VDRjeldMVi9GZTlZRmtRQk94V0t3NkRhSWVSN0RZYlZxdTFKYWx4ZFUxUTlaZHIzU0p5MDlrc1UvUHpqZFMvTDdSYVh5ZWttS2FlWFVTV24wYmZvdUV6QUhGSk9nRGN6c1ZWOUVQdE5xQmNMbGZtOExyR0NRSTJxMVZYWDZ4VzdEWWJObEhFYXJWV2Z0ZEk3c2FEcmY1eVJJOUhkMXR1Z21GRjB6UlMyU3hMeVNTWmZNUFZtVTlFWkxubHZUblhJL2RuR0xydDlQVDBtbUc1Q2hQdGRDb2l5OCtoNzJ6ekJZQzRKTzFBMy92aUZ2UTRyc09kZUhpclhxTkx4Vm10T2h1c29vaC8xeTY4ckNWWHNGaElGSXY2S2tERFZ5MVdPU1dxMXpnMWNreXNjVDZvS29WaXNSTDR2bzRENGd6Nlh0RXRZejF5SDhBZ2QyVmxwWG9vcmkyellVUmsrUmZvNjRTL0RSQ1hKQnY2N3F1dlIzZEQza1NENEwyTm9sd3VvNVpLcUtVU2pseXVubHhCWUM2WFExbFlhUDhtN2VGbDRNTVJXWDZ4bll2WEhWSk5WYUdMaU1kaXNVOXNWVS9qa2lRQ1Y2UHIxdGVoLzdPSjExRVQrN1VSK0VkRzZMbnJMaXdXQzlkZHAxZXJhUnIvZS8vOTVHczhOSnVNQjlHM05WNTNhOXhHYUdxK2pFYWo3d2J1UTk4dUNIU2Y3d094V093SFc5bmJSb2hMa2gyZDlIM29XL3pzTlg0bG10eHJZeFhlZ3dmcFBYb1VnQU1IRGxUeWozLzg0MlNxMWhWdkloNEQvaUlpeTQ5c3RLS21CS3BZTFBaOW9LWE5OcllTRVZrdW9nOWhMOWVlTTRqZmliNno2OVZjL0hjeS9jQWcrc3FLaXBxbU5RaXYyV1JEeHVQb091elhERm1rSTdoTWJINmJCNFA0MDBZeWhURy9oNEZ1OTc1OWJ3ZitIdlRoZUZWb2N1M2MrV1I2WXVJTTRBYzhSbHJka0tPTGk2TmdWMDMxS3JBQ0pJQWxkQy9PZVhSaDhtbDBTYml6RzJzWStPVmMxYlZKaUVhalhyZmIvVW5nandxRkFxVlNDYnZkVGlBUVFOTzBzY1hGeFR0anNWam5vdUkzR2ErUmF5QWFqZDREZklxYVRWOXFNQXQ4TEJhTFBiamQ3VzBHbDZmZmJZc1JqVWIvRXZnY3NKNHB5Z3ZjUFRvNnl0alkyTVBiM2U3MWNNV1RhM3l4bjJ2eHNqdEdSMGRQajQyTlBkUGlkVnVLSzNwWWprYWpYdUJWV25ScUdGZ0U5c1Jpc2VYdDdrY2ovTXBMeSt2Z2c1Z1E2L2Y3Q1lmRDJPMTJpc1VpQ3dzTHBPcjlxOTNBKzRIUGIzY25HbUZ6bmFPWFA5NWRtK0gzK3hrYUdzTGhjT2crWlllRG9hRWgvT2JSR085ZS94YmJoeXVkM0xydGZjSU5WZ1kweUQvQVpZd3JuZHk2N1huc0RhSTBHK1MzNVpQZUtsenA1TmF0Zld3UXpkOG92N1ByTVR1TUs1M2NPanZ1UWdPM1hvUDhMZkVrdElzcm5kdzZaMGdxbFdKcWFvcUM0VVF2RkFwTVRVMlpTY3NBLzduZEhiZ1VyblJWNkd2QUo2aFJoMUtwVkNNeXE3R0lFUjkydWVLSy9uSU5KOERIMnJ6OC9zdlpnQUd2bVI4Wkd4dDdkblIwRlBTb3pHYnhWN0ZZN0xQYjNmYjFjTVdUQ3pBMk52Ync2T2pvcStneFdwZHlIc3lpTDd4cTFSYTlMYmlpYmN1MU1Hek52d2ZjaFc2Z0NLRTcySjlGRjU2Kzhzdmt6LzEvbFFhemlkZXBiK3NBQUFBQVNVVk9SSzVDWUlJPVwiXG5cbi8qKiovIH0sXG4vKiAxMjQgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7IHRocm93IG5ldyBFcnJvcihcImRlZmluZSBjYW5ub3QgYmUgdXNlZCBpbmRpcmVjdFwiKTsgfTtcclxuXG5cbi8qKiovIH0sXG4vKiAxMjUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihfX3dlYnBhY2tfYW1kX29wdGlvbnNfXykge21vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX2FtZF9vcHRpb25zX187XHJcblx0XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCB7fSkpXG5cbi8qKiovIH0sXG4vKiAxMjYgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obW9kdWxlKSB7XHJcblx0XHRpZighbW9kdWxlLndlYnBhY2tQb2x5ZmlsbCkge1xyXG5cdFx0XHRtb2R1bGUuZGVwcmVjYXRlID0gZnVuY3Rpb24oKSB7fTtcclxuXHRcdFx0bW9kdWxlLnBhdGhzID0gW107XHJcblx0XHRcdC8vIG1vZHVsZS5wYXJlbnQgPSB1bmRlZmluZWQgYnkgZGVmYXVsdFxyXG5cdFx0XHRtb2R1bGUuY2hpbGRyZW4gPSBbXTtcclxuXHRcdFx0bW9kdWxlLndlYnBhY2tQb2x5ZmlsbCA9IDE7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gbW9kdWxlO1xyXG5cdH1cclxuXG5cbi8qKiovIH0sXG4vKiAxMjcgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8vIGh0dHA6Ly93aWtpLmNvbW1vbmpzLm9yZy93aWtpL1VuaXRfVGVzdGluZy8xLjBcblx0Ly9cblx0Ly8gVEhJUyBJUyBOT1QgVEVTVEVEIE5PUiBMSUtFTFkgVE8gV09SSyBPVVRTSURFIFY4IVxuXHQvL1xuXHQvLyBPcmlnaW5hbGx5IGZyb20gbmFyd2hhbC5qcyAoaHR0cDovL25hcndoYWxqcy5vcmcpXG5cdC8vIENvcHlyaWdodCAoYykgMjAwOSBUaG9tYXMgUm9iaW5zb24gPDI4MG5vcnRoLmNvbT5cblx0Ly9cblx0Ly8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxuXHQvLyBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSAnU29mdHdhcmUnKSwgdG9cblx0Ly8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGVcblx0Ly8gcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yXG5cdC8vIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXG5cdC8vIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG5cdC8vXG5cdC8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXG5cdC8vIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuXHQvL1xuXHQvLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgJ0FTIElTJywgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxuXHQvLyBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcblx0Ly8gRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG5cdC8vIEFVVEhPUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOXG5cdC8vIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT05cblx0Ly8gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cdFxuXHQvLyB3aGVuIHVzZWQgaW4gbm9kZSwgdGhpcyB3aWxsIGFjdHVhbGx5IGxvYWQgdGhlIHV0aWwgbW9kdWxlIHdlIGRlcGVuZCBvblxuXHQvLyB2ZXJzdXMgbG9hZGluZyB0aGUgYnVpbHRpbiB1dGlsIG1vZHVsZSBhcyBoYXBwZW5zIG90aGVyd2lzZVxuXHQvLyB0aGlzIGlzIGEgYnVnIGluIG5vZGUgbW9kdWxlIGxvYWRpbmcgYXMgZmFyIGFzIEkgYW0gY29uY2VybmVkXG5cdHZhciB1dGlsID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMzEpO1xuXHRcblx0dmFyIHBTbGljZSA9IEFycmF5LnByb3RvdHlwZS5zbGljZTtcblx0dmFyIGhhc093biA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5cdFxuXHQvLyAxLiBUaGUgYXNzZXJ0IG1vZHVsZSBwcm92aWRlcyBmdW5jdGlvbnMgdGhhdCB0aHJvd1xuXHQvLyBBc3NlcnRpb25FcnJvcidzIHdoZW4gcGFydGljdWxhciBjb25kaXRpb25zIGFyZSBub3QgbWV0LiBUaGVcblx0Ly8gYXNzZXJ0IG1vZHVsZSBtdXN0IGNvbmZvcm0gdG8gdGhlIGZvbGxvd2luZyBpbnRlcmZhY2UuXG5cdFxuXHR2YXIgYXNzZXJ0ID0gbW9kdWxlLmV4cG9ydHMgPSBvaztcblx0XG5cdC8vIDIuIFRoZSBBc3NlcnRpb25FcnJvciBpcyBkZWZpbmVkIGluIGFzc2VydC5cblx0Ly8gbmV3IGFzc2VydC5Bc3NlcnRpb25FcnJvcih7IG1lc3NhZ2U6IG1lc3NhZ2UsXG5cdC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3R1YWw6IGFjdHVhbCxcblx0Ly8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBleHBlY3RlZCB9KVxuXHRcblx0YXNzZXJ0LkFzc2VydGlvbkVycm9yID0gZnVuY3Rpb24gQXNzZXJ0aW9uRXJyb3Iob3B0aW9ucykge1xuXHQgIHRoaXMubmFtZSA9ICdBc3NlcnRpb25FcnJvcic7XG5cdCAgdGhpcy5hY3R1YWwgPSBvcHRpb25zLmFjdHVhbDtcblx0ICB0aGlzLmV4cGVjdGVkID0gb3B0aW9ucy5leHBlY3RlZDtcblx0ICB0aGlzLm9wZXJhdG9yID0gb3B0aW9ucy5vcGVyYXRvcjtcblx0ICBpZiAob3B0aW9ucy5tZXNzYWdlKSB7XG5cdCAgICB0aGlzLm1lc3NhZ2UgPSBvcHRpb25zLm1lc3NhZ2U7XG5cdCAgICB0aGlzLmdlbmVyYXRlZE1lc3NhZ2UgPSBmYWxzZTtcblx0ICB9IGVsc2Uge1xuXHQgICAgdGhpcy5tZXNzYWdlID0gZ2V0TWVzc2FnZSh0aGlzKTtcblx0ICAgIHRoaXMuZ2VuZXJhdGVkTWVzc2FnZSA9IHRydWU7XG5cdCAgfVxuXHQgIHZhciBzdGFja1N0YXJ0RnVuY3Rpb24gPSBvcHRpb25zLnN0YWNrU3RhcnRGdW5jdGlvbiB8fCBmYWlsO1xuXHRcblx0ICBpZiAoRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UpIHtcblx0ICAgIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsIHN0YWNrU3RhcnRGdW5jdGlvbik7XG5cdCAgfVxuXHQgIGVsc2Uge1xuXHQgICAgLy8gbm9uIHY4IGJyb3dzZXJzIHNvIHdlIGNhbiBoYXZlIGEgc3RhY2t0cmFjZVxuXHQgICAgdmFyIGVyciA9IG5ldyBFcnJvcigpO1xuXHQgICAgaWYgKGVyci5zdGFjaykge1xuXHQgICAgICB2YXIgb3V0ID0gZXJyLnN0YWNrO1xuXHRcblx0ICAgICAgLy8gdHJ5IHRvIHN0cmlwIHVzZWxlc3MgZnJhbWVzXG5cdCAgICAgIHZhciBmbl9uYW1lID0gc3RhY2tTdGFydEZ1bmN0aW9uLm5hbWU7XG5cdCAgICAgIHZhciBpZHggPSBvdXQuaW5kZXhPZignXFxuJyArIGZuX25hbWUpO1xuXHQgICAgICBpZiAoaWR4ID49IDApIHtcblx0ICAgICAgICAvLyBvbmNlIHdlIGhhdmUgbG9jYXRlZCB0aGUgZnVuY3Rpb24gZnJhbWVcblx0ICAgICAgICAvLyB3ZSBuZWVkIHRvIHN0cmlwIG91dCBldmVyeXRoaW5nIGJlZm9yZSBpdCAoYW5kIGl0cyBsaW5lKVxuXHQgICAgICAgIHZhciBuZXh0X2xpbmUgPSBvdXQuaW5kZXhPZignXFxuJywgaWR4ICsgMSk7XG5cdCAgICAgICAgb3V0ID0gb3V0LnN1YnN0cmluZyhuZXh0X2xpbmUgKyAxKTtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgdGhpcy5zdGFjayA9IG91dDtcblx0ICAgIH1cblx0ICB9XG5cdH07XG5cdFxuXHQvLyBhc3NlcnQuQXNzZXJ0aW9uRXJyb3IgaW5zdGFuY2VvZiBFcnJvclxuXHR1dGlsLmluaGVyaXRzKGFzc2VydC5Bc3NlcnRpb25FcnJvciwgRXJyb3IpO1xuXHRcblx0ZnVuY3Rpb24gcmVwbGFjZXIoa2V5LCB2YWx1ZSkge1xuXHQgIGlmICh1dGlsLmlzVW5kZWZpbmVkKHZhbHVlKSkge1xuXHQgICAgcmV0dXJuICcnICsgdmFsdWU7XG5cdCAgfVxuXHQgIGlmICh1dGlsLmlzTnVtYmVyKHZhbHVlKSAmJiAhaXNGaW5pdGUodmFsdWUpKSB7XG5cdCAgICByZXR1cm4gdmFsdWUudG9TdHJpbmcoKTtcblx0ICB9XG5cdCAgaWYgKHV0aWwuaXNGdW5jdGlvbih2YWx1ZSkgfHwgdXRpbC5pc1JlZ0V4cCh2YWx1ZSkpIHtcblx0ICAgIHJldHVybiB2YWx1ZS50b1N0cmluZygpO1xuXHQgIH1cblx0ICByZXR1cm4gdmFsdWU7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHRydW5jYXRlKHMsIG4pIHtcblx0ICBpZiAodXRpbC5pc1N0cmluZyhzKSkge1xuXHQgICAgcmV0dXJuIHMubGVuZ3RoIDwgbiA/IHMgOiBzLnNsaWNlKDAsIG4pO1xuXHQgIH0gZWxzZSB7XG5cdCAgICByZXR1cm4gcztcblx0ICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGdldE1lc3NhZ2Uoc2VsZikge1xuXHQgIHJldHVybiB0cnVuY2F0ZShKU09OLnN0cmluZ2lmeShzZWxmLmFjdHVhbCwgcmVwbGFjZXIpLCAxMjgpICsgJyAnICtcblx0ICAgICAgICAgc2VsZi5vcGVyYXRvciArICcgJyArXG5cdCAgICAgICAgIHRydW5jYXRlKEpTT04uc3RyaW5naWZ5KHNlbGYuZXhwZWN0ZWQsIHJlcGxhY2VyKSwgMTI4KTtcblx0fVxuXHRcblx0Ly8gQXQgcHJlc2VudCBvbmx5IHRoZSB0aHJlZSBrZXlzIG1lbnRpb25lZCBhYm92ZSBhcmUgdXNlZCBhbmRcblx0Ly8gdW5kZXJzdG9vZCBieSB0aGUgc3BlYy4gSW1wbGVtZW50YXRpb25zIG9yIHN1YiBtb2R1bGVzIGNhbiBwYXNzXG5cdC8vIG90aGVyIGtleXMgdG8gdGhlIEFzc2VydGlvbkVycm9yJ3MgY29uc3RydWN0b3IgLSB0aGV5IHdpbGwgYmVcblx0Ly8gaWdub3JlZC5cblx0XG5cdC8vIDMuIEFsbCBvZiB0aGUgZm9sbG93aW5nIGZ1bmN0aW9ucyBtdXN0IHRocm93IGFuIEFzc2VydGlvbkVycm9yXG5cdC8vIHdoZW4gYSBjb3JyZXNwb25kaW5nIGNvbmRpdGlvbiBpcyBub3QgbWV0LCB3aXRoIGEgbWVzc2FnZSB0aGF0XG5cdC8vIG1heSBiZSB1bmRlZmluZWQgaWYgbm90IHByb3ZpZGVkLiAgQWxsIGFzc2VydGlvbiBtZXRob2RzIHByb3ZpZGVcblx0Ly8gYm90aCB0aGUgYWN0dWFsIGFuZCBleHBlY3RlZCB2YWx1ZXMgdG8gdGhlIGFzc2VydGlvbiBlcnJvciBmb3Jcblx0Ly8gZGlzcGxheSBwdXJwb3Nlcy5cblx0XG5cdGZ1bmN0aW9uIGZhaWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZSwgb3BlcmF0b3IsIHN0YWNrU3RhcnRGdW5jdGlvbikge1xuXHQgIHRocm93IG5ldyBhc3NlcnQuQXNzZXJ0aW9uRXJyb3Ioe1xuXHQgICAgbWVzc2FnZTogbWVzc2FnZSxcblx0ICAgIGFjdHVhbDogYWN0dWFsLFxuXHQgICAgZXhwZWN0ZWQ6IGV4cGVjdGVkLFxuXHQgICAgb3BlcmF0b3I6IG9wZXJhdG9yLFxuXHQgICAgc3RhY2tTdGFydEZ1bmN0aW9uOiBzdGFja1N0YXJ0RnVuY3Rpb25cblx0ICB9KTtcblx0fVxuXHRcblx0Ly8gRVhURU5TSU9OISBhbGxvd3MgZm9yIHdlbGwgYmVoYXZlZCBlcnJvcnMgZGVmaW5lZCBlbHNld2hlcmUuXG5cdGFzc2VydC5mYWlsID0gZmFpbDtcblx0XG5cdC8vIDQuIFB1cmUgYXNzZXJ0aW9uIHRlc3RzIHdoZXRoZXIgYSB2YWx1ZSBpcyB0cnV0aHksIGFzIGRldGVybWluZWRcblx0Ly8gYnkgISFndWFyZC5cblx0Ly8gYXNzZXJ0Lm9rKGd1YXJkLCBtZXNzYWdlX29wdCk7XG5cdC8vIFRoaXMgc3RhdGVtZW50IGlzIGVxdWl2YWxlbnQgdG8gYXNzZXJ0LmVxdWFsKHRydWUsICEhZ3VhcmQsXG5cdC8vIG1lc3NhZ2Vfb3B0KTsuIFRvIHRlc3Qgc3RyaWN0bHkgZm9yIHRoZSB2YWx1ZSB0cnVlLCB1c2Vcblx0Ly8gYXNzZXJ0LnN0cmljdEVxdWFsKHRydWUsIGd1YXJkLCBtZXNzYWdlX29wdCk7LlxuXHRcblx0ZnVuY3Rpb24gb2sodmFsdWUsIG1lc3NhZ2UpIHtcblx0ICBpZiAoIXZhbHVlKSBmYWlsKHZhbHVlLCB0cnVlLCBtZXNzYWdlLCAnPT0nLCBhc3NlcnQub2spO1xuXHR9XG5cdGFzc2VydC5vayA9IG9rO1xuXHRcblx0Ly8gNS4gVGhlIGVxdWFsaXR5IGFzc2VydGlvbiB0ZXN0cyBzaGFsbG93LCBjb2VyY2l2ZSBlcXVhbGl0eSB3aXRoXG5cdC8vID09LlxuXHQvLyBhc3NlcnQuZXF1YWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZV9vcHQpO1xuXHRcblx0YXNzZXJ0LmVxdWFsID0gZnVuY3Rpb24gZXF1YWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZSkge1xuXHQgIGlmIChhY3R1YWwgIT0gZXhwZWN0ZWQpIGZhaWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZSwgJz09JywgYXNzZXJ0LmVxdWFsKTtcblx0fTtcblx0XG5cdC8vIDYuIFRoZSBub24tZXF1YWxpdHkgYXNzZXJ0aW9uIHRlc3RzIGZvciB3aGV0aGVyIHR3byBvYmplY3RzIGFyZSBub3QgZXF1YWxcblx0Ly8gd2l0aCAhPSBhc3NlcnQubm90RXF1YWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZV9vcHQpO1xuXHRcblx0YXNzZXJ0Lm5vdEVxdWFsID0gZnVuY3Rpb24gbm90RXF1YWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZSkge1xuXHQgIGlmIChhY3R1YWwgPT0gZXhwZWN0ZWQpIHtcblx0ICAgIGZhaWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZSwgJyE9JywgYXNzZXJ0Lm5vdEVxdWFsKTtcblx0ICB9XG5cdH07XG5cdFxuXHQvLyA3LiBUaGUgZXF1aXZhbGVuY2UgYXNzZXJ0aW9uIHRlc3RzIGEgZGVlcCBlcXVhbGl0eSByZWxhdGlvbi5cblx0Ly8gYXNzZXJ0LmRlZXBFcXVhbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlX29wdCk7XG5cdFxuXHRhc3NlcnQuZGVlcEVxdWFsID0gZnVuY3Rpb24gZGVlcEVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UpIHtcblx0ICBpZiAoIV9kZWVwRXF1YWwoYWN0dWFsLCBleHBlY3RlZCkpIHtcblx0ICAgIGZhaWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZSwgJ2RlZXBFcXVhbCcsIGFzc2VydC5kZWVwRXF1YWwpO1xuXHQgIH1cblx0fTtcblx0XG5cdGZ1bmN0aW9uIF9kZWVwRXF1YWwoYWN0dWFsLCBleHBlY3RlZCkge1xuXHQgIC8vIDcuMS4gQWxsIGlkZW50aWNhbCB2YWx1ZXMgYXJlIGVxdWl2YWxlbnQsIGFzIGRldGVybWluZWQgYnkgPT09LlxuXHQgIGlmIChhY3R1YWwgPT09IGV4cGVjdGVkKSB7XG5cdCAgICByZXR1cm4gdHJ1ZTtcblx0XG5cdCAgfSBlbHNlIGlmICh1dGlsLmlzQnVmZmVyKGFjdHVhbCkgJiYgdXRpbC5pc0J1ZmZlcihleHBlY3RlZCkpIHtcblx0ICAgIGlmIChhY3R1YWwubGVuZ3RoICE9IGV4cGVjdGVkLmxlbmd0aCkgcmV0dXJuIGZhbHNlO1xuXHRcblx0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWN0dWFsLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgIGlmIChhY3R1YWxbaV0gIT09IGV4cGVjdGVkW2ldKSByZXR1cm4gZmFsc2U7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIHRydWU7XG5cdFxuXHQgIC8vIDcuMi4gSWYgdGhlIGV4cGVjdGVkIHZhbHVlIGlzIGEgRGF0ZSBvYmplY3QsIHRoZSBhY3R1YWwgdmFsdWUgaXNcblx0ICAvLyBlcXVpdmFsZW50IGlmIGl0IGlzIGFsc28gYSBEYXRlIG9iamVjdCB0aGF0IHJlZmVycyB0byB0aGUgc2FtZSB0aW1lLlxuXHQgIH0gZWxzZSBpZiAodXRpbC5pc0RhdGUoYWN0dWFsKSAmJiB1dGlsLmlzRGF0ZShleHBlY3RlZCkpIHtcblx0ICAgIHJldHVybiBhY3R1YWwuZ2V0VGltZSgpID09PSBleHBlY3RlZC5nZXRUaW1lKCk7XG5cdFxuXHQgIC8vIDcuMyBJZiB0aGUgZXhwZWN0ZWQgdmFsdWUgaXMgYSBSZWdFeHAgb2JqZWN0LCB0aGUgYWN0dWFsIHZhbHVlIGlzXG5cdCAgLy8gZXF1aXZhbGVudCBpZiBpdCBpcyBhbHNvIGEgUmVnRXhwIG9iamVjdCB3aXRoIHRoZSBzYW1lIHNvdXJjZSBhbmRcblx0ICAvLyBwcm9wZXJ0aWVzIChgZ2xvYmFsYCwgYG11bHRpbGluZWAsIGBsYXN0SW5kZXhgLCBgaWdub3JlQ2FzZWApLlxuXHQgIH0gZWxzZSBpZiAodXRpbC5pc1JlZ0V4cChhY3R1YWwpICYmIHV0aWwuaXNSZWdFeHAoZXhwZWN0ZWQpKSB7XG5cdCAgICByZXR1cm4gYWN0dWFsLnNvdXJjZSA9PT0gZXhwZWN0ZWQuc291cmNlICYmXG5cdCAgICAgICAgICAgYWN0dWFsLmdsb2JhbCA9PT0gZXhwZWN0ZWQuZ2xvYmFsICYmXG5cdCAgICAgICAgICAgYWN0dWFsLm11bHRpbGluZSA9PT0gZXhwZWN0ZWQubXVsdGlsaW5lICYmXG5cdCAgICAgICAgICAgYWN0dWFsLmxhc3RJbmRleCA9PT0gZXhwZWN0ZWQubGFzdEluZGV4ICYmXG5cdCAgICAgICAgICAgYWN0dWFsLmlnbm9yZUNhc2UgPT09IGV4cGVjdGVkLmlnbm9yZUNhc2U7XG5cdFxuXHQgIC8vIDcuNC4gT3RoZXIgcGFpcnMgdGhhdCBkbyBub3QgYm90aCBwYXNzIHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0Jyxcblx0ICAvLyBlcXVpdmFsZW5jZSBpcyBkZXRlcm1pbmVkIGJ5ID09LlxuXHQgIH0gZWxzZSBpZiAoIXV0aWwuaXNPYmplY3QoYWN0dWFsKSAmJiAhdXRpbC5pc09iamVjdChleHBlY3RlZCkpIHtcblx0ICAgIHJldHVybiBhY3R1YWwgPT0gZXhwZWN0ZWQ7XG5cdFxuXHQgIC8vIDcuNSBGb3IgYWxsIG90aGVyIE9iamVjdCBwYWlycywgaW5jbHVkaW5nIEFycmF5IG9iamVjdHMsIGVxdWl2YWxlbmNlIGlzXG5cdCAgLy8gZGV0ZXJtaW5lZCBieSBoYXZpbmcgdGhlIHNhbWUgbnVtYmVyIG9mIG93bmVkIHByb3BlcnRpZXMgKGFzIHZlcmlmaWVkXG5cdCAgLy8gd2l0aCBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwpLCB0aGUgc2FtZSBzZXQgb2Yga2V5c1xuXHQgIC8vIChhbHRob3VnaCBub3QgbmVjZXNzYXJpbHkgdGhlIHNhbWUgb3JkZXIpLCBlcXVpdmFsZW50IHZhbHVlcyBmb3IgZXZlcnlcblx0ICAvLyBjb3JyZXNwb25kaW5nIGtleSwgYW5kIGFuIGlkZW50aWNhbCAncHJvdG90eXBlJyBwcm9wZXJ0eS4gTm90ZTogdGhpc1xuXHQgIC8vIGFjY291bnRzIGZvciBib3RoIG5hbWVkIGFuZCBpbmRleGVkIHByb3BlcnRpZXMgb24gQXJyYXlzLlxuXHQgIH0gZWxzZSB7XG5cdCAgICByZXR1cm4gb2JqRXF1aXYoYWN0dWFsLCBleHBlY3RlZCk7XG5cdCAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBpc0FyZ3VtZW50cyhvYmplY3QpIHtcblx0ICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iamVjdCkgPT0gJ1tvYmplY3QgQXJndW1lbnRzXSc7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIG9iakVxdWl2KGEsIGIpIHtcblx0ICBpZiAodXRpbC5pc051bGxPclVuZGVmaW5lZChhKSB8fCB1dGlsLmlzTnVsbE9yVW5kZWZpbmVkKGIpKVxuXHQgICAgcmV0dXJuIGZhbHNlO1xuXHQgIC8vIGFuIGlkZW50aWNhbCAncHJvdG90eXBlJyBwcm9wZXJ0eS5cblx0ICBpZiAoYS5wcm90b3R5cGUgIT09IGIucHJvdG90eXBlKSByZXR1cm4gZmFsc2U7XG5cdCAgLy8gaWYgb25lIGlzIGEgcHJpbWl0aXZlLCB0aGUgb3RoZXIgbXVzdCBiZSBzYW1lXG5cdCAgaWYgKHV0aWwuaXNQcmltaXRpdmUoYSkgfHwgdXRpbC5pc1ByaW1pdGl2ZShiKSkge1xuXHQgICAgcmV0dXJuIGEgPT09IGI7XG5cdCAgfVxuXHQgIHZhciBhSXNBcmdzID0gaXNBcmd1bWVudHMoYSksXG5cdCAgICAgIGJJc0FyZ3MgPSBpc0FyZ3VtZW50cyhiKTtcblx0ICBpZiAoKGFJc0FyZ3MgJiYgIWJJc0FyZ3MpIHx8ICghYUlzQXJncyAmJiBiSXNBcmdzKSlcblx0ICAgIHJldHVybiBmYWxzZTtcblx0ICBpZiAoYUlzQXJncykge1xuXHQgICAgYSA9IHBTbGljZS5jYWxsKGEpO1xuXHQgICAgYiA9IHBTbGljZS5jYWxsKGIpO1xuXHQgICAgcmV0dXJuIF9kZWVwRXF1YWwoYSwgYik7XG5cdCAgfVxuXHQgIHZhciBrYSA9IG9iamVjdEtleXMoYSksXG5cdCAgICAgIGtiID0gb2JqZWN0S2V5cyhiKSxcblx0ICAgICAga2V5LCBpO1xuXHQgIC8vIGhhdmluZyB0aGUgc2FtZSBudW1iZXIgb2Ygb3duZWQgcHJvcGVydGllcyAoa2V5cyBpbmNvcnBvcmF0ZXNcblx0ICAvLyBoYXNPd25Qcm9wZXJ0eSlcblx0ICBpZiAoa2EubGVuZ3RoICE9IGtiLmxlbmd0aClcblx0ICAgIHJldHVybiBmYWxzZTtcblx0ICAvL3RoZSBzYW1lIHNldCBvZiBrZXlzIChhbHRob3VnaCBub3QgbmVjZXNzYXJpbHkgdGhlIHNhbWUgb3JkZXIpLFxuXHQgIGthLnNvcnQoKTtcblx0ICBrYi5zb3J0KCk7XG5cdCAgLy9+fn5jaGVhcCBrZXkgdGVzdFxuXHQgIGZvciAoaSA9IGthLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG5cdCAgICBpZiAoa2FbaV0gIT0ga2JbaV0pXG5cdCAgICAgIHJldHVybiBmYWxzZTtcblx0ICB9XG5cdCAgLy9lcXVpdmFsZW50IHZhbHVlcyBmb3IgZXZlcnkgY29ycmVzcG9uZGluZyBrZXksIGFuZFxuXHQgIC8vfn5+cG9zc2libHkgZXhwZW5zaXZlIGRlZXAgdGVzdFxuXHQgIGZvciAoaSA9IGthLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG5cdCAgICBrZXkgPSBrYVtpXTtcblx0ICAgIGlmICghX2RlZXBFcXVhbChhW2tleV0sIGJba2V5XSkpIHJldHVybiBmYWxzZTtcblx0ICB9XG5cdCAgcmV0dXJuIHRydWU7XG5cdH1cblx0XG5cdC8vIDguIFRoZSBub24tZXF1aXZhbGVuY2UgYXNzZXJ0aW9uIHRlc3RzIGZvciBhbnkgZGVlcCBpbmVxdWFsaXR5LlxuXHQvLyBhc3NlcnQubm90RGVlcEVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2Vfb3B0KTtcblx0XG5cdGFzc2VydC5ub3REZWVwRXF1YWwgPSBmdW5jdGlvbiBub3REZWVwRXF1YWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZSkge1xuXHQgIGlmIChfZGVlcEVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQpKSB7XG5cdCAgICBmYWlsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UsICdub3REZWVwRXF1YWwnLCBhc3NlcnQubm90RGVlcEVxdWFsKTtcblx0ICB9XG5cdH07XG5cdFxuXHQvLyA5LiBUaGUgc3RyaWN0IGVxdWFsaXR5IGFzc2VydGlvbiB0ZXN0cyBzdHJpY3QgZXF1YWxpdHksIGFzIGRldGVybWluZWQgYnkgPT09LlxuXHQvLyBhc3NlcnQuc3RyaWN0RXF1YWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZV9vcHQpO1xuXHRcblx0YXNzZXJ0LnN0cmljdEVxdWFsID0gZnVuY3Rpb24gc3RyaWN0RXF1YWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZSkge1xuXHQgIGlmIChhY3R1YWwgIT09IGV4cGVjdGVkKSB7XG5cdCAgICBmYWlsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UsICc9PT0nLCBhc3NlcnQuc3RyaWN0RXF1YWwpO1xuXHQgIH1cblx0fTtcblx0XG5cdC8vIDEwLiBUaGUgc3RyaWN0IG5vbi1lcXVhbGl0eSBhc3NlcnRpb24gdGVzdHMgZm9yIHN0cmljdCBpbmVxdWFsaXR5LCBhc1xuXHQvLyBkZXRlcm1pbmVkIGJ5ICE9PS4gIGFzc2VydC5ub3RTdHJpY3RFcXVhbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlX29wdCk7XG5cdFxuXHRhc3NlcnQubm90U3RyaWN0RXF1YWwgPSBmdW5jdGlvbiBub3RTdHJpY3RFcXVhbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlKSB7XG5cdCAgaWYgKGFjdHVhbCA9PT0gZXhwZWN0ZWQpIHtcblx0ICAgIGZhaWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZSwgJyE9PScsIGFzc2VydC5ub3RTdHJpY3RFcXVhbCk7XG5cdCAgfVxuXHR9O1xuXHRcblx0ZnVuY3Rpb24gZXhwZWN0ZWRFeGNlcHRpb24oYWN0dWFsLCBleHBlY3RlZCkge1xuXHQgIGlmICghYWN0dWFsIHx8ICFleHBlY3RlZCkge1xuXHQgICAgcmV0dXJuIGZhbHNlO1xuXHQgIH1cblx0XG5cdCAgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChleHBlY3RlZCkgPT0gJ1tvYmplY3QgUmVnRXhwXScpIHtcblx0ICAgIHJldHVybiBleHBlY3RlZC50ZXN0KGFjdHVhbCk7XG5cdCAgfSBlbHNlIGlmIChhY3R1YWwgaW5zdGFuY2VvZiBleHBlY3RlZCkge1xuXHQgICAgcmV0dXJuIHRydWU7XG5cdCAgfSBlbHNlIGlmIChleHBlY3RlZC5jYWxsKHt9LCBhY3R1YWwpID09PSB0cnVlKSB7XG5cdCAgICByZXR1cm4gdHJ1ZTtcblx0ICB9XG5cdFxuXHQgIHJldHVybiBmYWxzZTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gX3Rocm93cyhzaG91bGRUaHJvdywgYmxvY2ssIGV4cGVjdGVkLCBtZXNzYWdlKSB7XG5cdCAgdmFyIGFjdHVhbDtcblx0XG5cdCAgaWYgKHV0aWwuaXNTdHJpbmcoZXhwZWN0ZWQpKSB7XG5cdCAgICBtZXNzYWdlID0gZXhwZWN0ZWQ7XG5cdCAgICBleHBlY3RlZCA9IG51bGw7XG5cdCAgfVxuXHRcblx0ICB0cnkge1xuXHQgICAgYmxvY2soKTtcblx0ICB9IGNhdGNoIChlKSB7XG5cdCAgICBhY3R1YWwgPSBlO1xuXHQgIH1cblx0XG5cdCAgbWVzc2FnZSA9IChleHBlY3RlZCAmJiBleHBlY3RlZC5uYW1lID8gJyAoJyArIGV4cGVjdGVkLm5hbWUgKyAnKS4nIDogJy4nKSArXG5cdCAgICAgICAgICAgIChtZXNzYWdlID8gJyAnICsgbWVzc2FnZSA6ICcuJyk7XG5cdFxuXHQgIGlmIChzaG91bGRUaHJvdyAmJiAhYWN0dWFsKSB7XG5cdCAgICBmYWlsKGFjdHVhbCwgZXhwZWN0ZWQsICdNaXNzaW5nIGV4cGVjdGVkIGV4Y2VwdGlvbicgKyBtZXNzYWdlKTtcblx0ICB9XG5cdFxuXHQgIGlmICghc2hvdWxkVGhyb3cgJiYgZXhwZWN0ZWRFeGNlcHRpb24oYWN0dWFsLCBleHBlY3RlZCkpIHtcblx0ICAgIGZhaWwoYWN0dWFsLCBleHBlY3RlZCwgJ0dvdCB1bndhbnRlZCBleGNlcHRpb24nICsgbWVzc2FnZSk7XG5cdCAgfVxuXHRcblx0ICBpZiAoKHNob3VsZFRocm93ICYmIGFjdHVhbCAmJiBleHBlY3RlZCAmJlxuXHQgICAgICAhZXhwZWN0ZWRFeGNlcHRpb24oYWN0dWFsLCBleHBlY3RlZCkpIHx8ICghc2hvdWxkVGhyb3cgJiYgYWN0dWFsKSkge1xuXHQgICAgdGhyb3cgYWN0dWFsO1xuXHQgIH1cblx0fVxuXHRcblx0Ly8gMTEuIEV4cGVjdGVkIHRvIHRocm93IGFuIGVycm9yOlxuXHQvLyBhc3NlcnQudGhyb3dzKGJsb2NrLCBFcnJvcl9vcHQsIG1lc3NhZ2Vfb3B0KTtcblx0XG5cdGFzc2VydC50aHJvd3MgPSBmdW5jdGlvbihibG9jaywgLypvcHRpb25hbCovZXJyb3IsIC8qb3B0aW9uYWwqL21lc3NhZ2UpIHtcblx0ICBfdGhyb3dzLmFwcGx5KHRoaXMsIFt0cnVlXS5jb25jYXQocFNsaWNlLmNhbGwoYXJndW1lbnRzKSkpO1xuXHR9O1xuXHRcblx0Ly8gRVhURU5TSU9OISBUaGlzIGlzIGFubm95aW5nIHRvIHdyaXRlIG91dHNpZGUgdGhpcyBtb2R1bGUuXG5cdGFzc2VydC5kb2VzTm90VGhyb3cgPSBmdW5jdGlvbihibG9jaywgLypvcHRpb25hbCovbWVzc2FnZSkge1xuXHQgIF90aHJvd3MuYXBwbHkodGhpcywgW2ZhbHNlXS5jb25jYXQocFNsaWNlLmNhbGwoYXJndW1lbnRzKSkpO1xuXHR9O1xuXHRcblx0YXNzZXJ0LmlmRXJyb3IgPSBmdW5jdGlvbihlcnIpIHsgaWYgKGVycikge3Rocm93IGVycjt9fTtcblx0XG5cdHZhciBvYmplY3RLZXlzID0gT2JqZWN0LmtleXMgfHwgZnVuY3Rpb24gKG9iaikge1xuXHQgIHZhciBrZXlzID0gW107XG5cdCAgZm9yICh2YXIga2V5IGluIG9iaikge1xuXHQgICAgaWYgKGhhc093bi5jYWxsKG9iaiwga2V5KSkga2V5cy5wdXNoKGtleSk7XG5cdCAgfVxuXHQgIHJldHVybiBrZXlzO1xuXHR9O1xuXG5cbi8qKiovIH0sXG4vKiAxMjggKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxuXHRcblx0dmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXHR2YXIgcXVldWUgPSBbXTtcblx0dmFyIGRyYWluaW5nID0gZmFsc2U7XG5cdHZhciBjdXJyZW50UXVldWU7XG5cdHZhciBxdWV1ZUluZGV4ID0gLTE7XG5cdFxuXHRmdW5jdGlvbiBjbGVhblVwTmV4dFRpY2soKSB7XG5cdCAgICBkcmFpbmluZyA9IGZhbHNlO1xuXHQgICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcblx0ICAgICAgICBxdWV1ZSA9IGN1cnJlbnRRdWV1ZS5jb25jYXQocXVldWUpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG5cdCAgICB9XG5cdCAgICBpZiAocXVldWUubGVuZ3RoKSB7XG5cdCAgICAgICAgZHJhaW5RdWV1ZSgpO1xuXHQgICAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBkcmFpblF1ZXVlKCkge1xuXHQgICAgaWYgKGRyYWluaW5nKSB7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHQgICAgdmFyIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG5cdCAgICBkcmFpbmluZyA9IHRydWU7XG5cdFxuXHQgICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcblx0ICAgIHdoaWxlKGxlbikge1xuXHQgICAgICAgIGN1cnJlbnRRdWV1ZSA9IHF1ZXVlO1xuXHQgICAgICAgIHF1ZXVlID0gW107XG5cdCAgICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikge1xuXHQgICAgICAgICAgICBpZiAoY3VycmVudFF1ZXVlKSB7XG5cdCAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuXHQgICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcblx0ICAgIH1cblx0ICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG5cdCAgICBkcmFpbmluZyA9IGZhbHNlO1xuXHQgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuXHR9XG5cdFxuXHRwcm9jZXNzLm5leHRUaWNrID0gZnVuY3Rpb24gKGZ1bikge1xuXHQgICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuXHQgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG5cdCAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQgICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcblx0ICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG5cdCAgICAgICAgc2V0VGltZW91dChkcmFpblF1ZXVlLCAwKTtcblx0ICAgIH1cblx0fTtcblx0XG5cdC8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcblx0ZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG5cdCAgICB0aGlzLmZ1biA9IGZ1bjtcblx0ICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcblx0fVxuXHRJdGVtLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcblx0fTtcblx0cHJvY2Vzcy50aXRsZSA9ICdicm93c2VyJztcblx0cHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcblx0cHJvY2Vzcy5lbnYgPSB7fTtcblx0cHJvY2Vzcy5hcmd2ID0gW107XG5cdHByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xuXHRwcm9jZXNzLnZlcnNpb25zID0ge307XG5cdFxuXHRmdW5jdGlvbiBub29wKCkge31cblx0XG5cdHByb2Nlc3Mub24gPSBub29wO1xuXHRwcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcblx0cHJvY2Vzcy5vbmNlID0gbm9vcDtcblx0cHJvY2Vzcy5vZmYgPSBub29wO1xuXHRwcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcblx0cHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xuXHRwcm9jZXNzLmVtaXQgPSBub29wO1xuXHRcblx0cHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcblx0ICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQnKTtcblx0fTtcblx0XG5cdHByb2Nlc3MuY3dkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJy8nIH07XG5cdHByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG5cdCAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xuXHR9O1xuXHRwcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuXG5cbi8qKiovIH0sXG4vKiAxMjkgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdGlmICh0eXBlb2YgT2JqZWN0LmNyZWF0ZSA9PT0gJ2Z1bmN0aW9uJykge1xuXHQgIC8vIGltcGxlbWVudGF0aW9uIGZyb20gc3RhbmRhcmQgbm9kZS5qcyAndXRpbCcgbW9kdWxlXG5cdCAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpbmhlcml0cyhjdG9yLCBzdXBlckN0b3IpIHtcblx0ICAgIGN0b3Iuc3VwZXJfID0gc3VwZXJDdG9yXG5cdCAgICBjdG9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDdG9yLnByb3RvdHlwZSwge1xuXHQgICAgICBjb25zdHJ1Y3Rvcjoge1xuXHQgICAgICAgIHZhbHVlOiBjdG9yLFxuXHQgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuXHQgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuXHQgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuXHQgICAgICB9XG5cdCAgICB9KTtcblx0ICB9O1xuXHR9IGVsc2Uge1xuXHQgIC8vIG9sZCBzY2hvb2wgc2hpbSBmb3Igb2xkIGJyb3dzZXJzXG5cdCAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpbmhlcml0cyhjdG9yLCBzdXBlckN0b3IpIHtcblx0ICAgIGN0b3Iuc3VwZXJfID0gc3VwZXJDdG9yXG5cdCAgICB2YXIgVGVtcEN0b3IgPSBmdW5jdGlvbiAoKSB7fVxuXHQgICAgVGVtcEN0b3IucHJvdG90eXBlID0gc3VwZXJDdG9yLnByb3RvdHlwZVxuXHQgICAgY3Rvci5wcm90b3R5cGUgPSBuZXcgVGVtcEN0b3IoKVxuXHQgICAgY3Rvci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBjdG9yXG5cdCAgfVxuXHR9XG5cblxuLyoqKi8gfSxcbi8qIDEzMCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpc0J1ZmZlcihhcmcpIHtcblx0ICByZXR1cm4gYXJnICYmIHR5cGVvZiBhcmcgPT09ICdvYmplY3QnXG5cdCAgICAmJiB0eXBlb2YgYXJnLmNvcHkgPT09ICdmdW5jdGlvbidcblx0ICAgICYmIHR5cGVvZiBhcmcuZmlsbCA9PT0gJ2Z1bmN0aW9uJ1xuXHQgICAgJiYgdHlwZW9mIGFyZy5yZWFkVUludDggPT09ICdmdW5jdGlvbic7XG5cdH1cblxuLyoqKi8gfSxcbi8qIDEzMSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKGdsb2JhbCwgcHJvY2Vzcykgey8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuXHQvL1xuXHQvLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuXHQvLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG5cdC8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuXHQvLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG5cdC8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcblx0Ly8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG5cdC8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuXHQvL1xuXHQvLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuXHQvLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cblx0Ly9cblx0Ly8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuXHQvLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG5cdC8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cblx0Ly8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG5cdC8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuXHQvLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG5cdC8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cdFxuXHR2YXIgZm9ybWF0UmVnRXhwID0gLyVbc2RqJV0vZztcblx0ZXhwb3J0cy5mb3JtYXQgPSBmdW5jdGlvbihmKSB7XG5cdCAgaWYgKCFpc1N0cmluZyhmKSkge1xuXHQgICAgdmFyIG9iamVjdHMgPSBbXTtcblx0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgIG9iamVjdHMucHVzaChpbnNwZWN0KGFyZ3VtZW50c1tpXSkpO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIG9iamVjdHMuam9pbignICcpO1xuXHQgIH1cblx0XG5cdCAgdmFyIGkgPSAxO1xuXHQgIHZhciBhcmdzID0gYXJndW1lbnRzO1xuXHQgIHZhciBsZW4gPSBhcmdzLmxlbmd0aDtcblx0ICB2YXIgc3RyID0gU3RyaW5nKGYpLnJlcGxhY2UoZm9ybWF0UmVnRXhwLCBmdW5jdGlvbih4KSB7XG5cdCAgICBpZiAoeCA9PT0gJyUlJykgcmV0dXJuICclJztcblx0ICAgIGlmIChpID49IGxlbikgcmV0dXJuIHg7XG5cdCAgICBzd2l0Y2ggKHgpIHtcblx0ICAgICAgY2FzZSAnJXMnOiByZXR1cm4gU3RyaW5nKGFyZ3NbaSsrXSk7XG5cdCAgICAgIGNhc2UgJyVkJzogcmV0dXJuIE51bWJlcihhcmdzW2krK10pO1xuXHQgICAgICBjYXNlICclaic6XG5cdCAgICAgICAgdHJ5IHtcblx0ICAgICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShhcmdzW2krK10pO1xuXHQgICAgICAgIH0gY2F0Y2ggKF8pIHtcblx0ICAgICAgICAgIHJldHVybiAnW0NpcmN1bGFyXSc7XG5cdCAgICAgICAgfVxuXHQgICAgICBkZWZhdWx0OlxuXHQgICAgICAgIHJldHVybiB4O1xuXHQgICAgfVxuXHQgIH0pO1xuXHQgIGZvciAodmFyIHggPSBhcmdzW2ldOyBpIDwgbGVuOyB4ID0gYXJnc1srK2ldKSB7XG5cdCAgICBpZiAoaXNOdWxsKHgpIHx8ICFpc09iamVjdCh4KSkge1xuXHQgICAgICBzdHIgKz0gJyAnICsgeDtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHN0ciArPSAnICcgKyBpbnNwZWN0KHgpO1xuXHQgICAgfVxuXHQgIH1cblx0ICByZXR1cm4gc3RyO1xuXHR9O1xuXHRcblx0XG5cdC8vIE1hcmsgdGhhdCBhIG1ldGhvZCBzaG91bGQgbm90IGJlIHVzZWQuXG5cdC8vIFJldHVybnMgYSBtb2RpZmllZCBmdW5jdGlvbiB3aGljaCB3YXJucyBvbmNlIGJ5IGRlZmF1bHQuXG5cdC8vIElmIC0tbm8tZGVwcmVjYXRpb24gaXMgc2V0LCB0aGVuIGl0IGlzIGEgbm8tb3AuXG5cdGV4cG9ydHMuZGVwcmVjYXRlID0gZnVuY3Rpb24oZm4sIG1zZykge1xuXHQgIC8vIEFsbG93IGZvciBkZXByZWNhdGluZyB0aGluZ3MgaW4gdGhlIHByb2Nlc3Mgb2Ygc3RhcnRpbmcgdXAuXG5cdCAgaWYgKGlzVW5kZWZpbmVkKGdsb2JhbC5wcm9jZXNzKSkge1xuXHQgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuXHQgICAgICByZXR1cm4gZXhwb3J0cy5kZXByZWNhdGUoZm4sIG1zZykuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0ICAgIH07XG5cdCAgfVxuXHRcblx0ICBpZiAocHJvY2Vzcy5ub0RlcHJlY2F0aW9uID09PSB0cnVlKSB7XG5cdCAgICByZXR1cm4gZm47XG5cdCAgfVxuXHRcblx0ICB2YXIgd2FybmVkID0gZmFsc2U7XG5cdCAgZnVuY3Rpb24gZGVwcmVjYXRlZCgpIHtcblx0ICAgIGlmICghd2FybmVkKSB7XG5cdCAgICAgIGlmIChwcm9jZXNzLnRocm93RGVwcmVjYXRpb24pIHtcblx0ICAgICAgICB0aHJvdyBuZXcgRXJyb3IobXNnKTtcblx0ICAgICAgfSBlbHNlIGlmIChwcm9jZXNzLnRyYWNlRGVwcmVjYXRpb24pIHtcblx0ICAgICAgICBjb25zb2xlLnRyYWNlKG1zZyk7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgY29uc29sZS5lcnJvcihtc2cpO1xuXHQgICAgICB9XG5cdCAgICAgIHdhcm5lZCA9IHRydWU7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0ICB9XG5cdFxuXHQgIHJldHVybiBkZXByZWNhdGVkO1xuXHR9O1xuXHRcblx0XG5cdHZhciBkZWJ1Z3MgPSB7fTtcblx0dmFyIGRlYnVnRW52aXJvbjtcblx0ZXhwb3J0cy5kZWJ1Z2xvZyA9IGZ1bmN0aW9uKHNldCkge1xuXHQgIGlmIChpc1VuZGVmaW5lZChkZWJ1Z0Vudmlyb24pKVxuXHQgICAgZGVidWdFbnZpcm9uID0gcHJvY2Vzcy5lbnYuTk9ERV9ERUJVRyB8fCAnJztcblx0ICBzZXQgPSBzZXQudG9VcHBlckNhc2UoKTtcblx0ICBpZiAoIWRlYnVnc1tzZXRdKSB7XG5cdCAgICBpZiAobmV3IFJlZ0V4cCgnXFxcXGInICsgc2V0ICsgJ1xcXFxiJywgJ2knKS50ZXN0KGRlYnVnRW52aXJvbikpIHtcblx0ICAgICAgdmFyIHBpZCA9IHByb2Nlc3MucGlkO1xuXHQgICAgICBkZWJ1Z3Nbc2V0XSA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgIHZhciBtc2cgPSBleHBvcnRzLmZvcm1hdC5hcHBseShleHBvcnRzLCBhcmd1bWVudHMpO1xuXHQgICAgICAgIGNvbnNvbGUuZXJyb3IoJyVzICVkOiAlcycsIHNldCwgcGlkLCBtc2cpO1xuXHQgICAgICB9O1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgZGVidWdzW3NldF0gPSBmdW5jdGlvbigpIHt9O1xuXHQgICAgfVxuXHQgIH1cblx0ICByZXR1cm4gZGVidWdzW3NldF07XG5cdH07XG5cdFxuXHRcblx0LyoqXG5cdCAqIEVjaG9zIHRoZSB2YWx1ZSBvZiBhIHZhbHVlLiBUcnlzIHRvIHByaW50IHRoZSB2YWx1ZSBvdXRcblx0ICogaW4gdGhlIGJlc3Qgd2F5IHBvc3NpYmxlIGdpdmVuIHRoZSBkaWZmZXJlbnQgdHlwZXMuXG5cdCAqXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBvYmogVGhlIG9iamVjdCB0byBwcmludCBvdXQuXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzIE9wdGlvbmFsIG9wdGlvbnMgb2JqZWN0IHRoYXQgYWx0ZXJzIHRoZSBvdXRwdXQuXG5cdCAqL1xuXHQvKiBsZWdhY3k6IG9iaiwgc2hvd0hpZGRlbiwgZGVwdGgsIGNvbG9ycyovXG5cdGZ1bmN0aW9uIGluc3BlY3Qob2JqLCBvcHRzKSB7XG5cdCAgLy8gZGVmYXVsdCBvcHRpb25zXG5cdCAgdmFyIGN0eCA9IHtcblx0ICAgIHNlZW46IFtdLFxuXHQgICAgc3R5bGl6ZTogc3R5bGl6ZU5vQ29sb3Jcblx0ICB9O1xuXHQgIC8vIGxlZ2FjeS4uLlxuXHQgIGlmIChhcmd1bWVudHMubGVuZ3RoID49IDMpIGN0eC5kZXB0aCA9IGFyZ3VtZW50c1syXTtcblx0ICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+PSA0KSBjdHguY29sb3JzID0gYXJndW1lbnRzWzNdO1xuXHQgIGlmIChpc0Jvb2xlYW4ob3B0cykpIHtcblx0ICAgIC8vIGxlZ2FjeS4uLlxuXHQgICAgY3R4LnNob3dIaWRkZW4gPSBvcHRzO1xuXHQgIH0gZWxzZSBpZiAob3B0cykge1xuXHQgICAgLy8gZ290IGFuIFwib3B0aW9uc1wiIG9iamVjdFxuXHQgICAgZXhwb3J0cy5fZXh0ZW5kKGN0eCwgb3B0cyk7XG5cdCAgfVxuXHQgIC8vIHNldCBkZWZhdWx0IG9wdGlvbnNcblx0ICBpZiAoaXNVbmRlZmluZWQoY3R4LnNob3dIaWRkZW4pKSBjdHguc2hvd0hpZGRlbiA9IGZhbHNlO1xuXHQgIGlmIChpc1VuZGVmaW5lZChjdHguZGVwdGgpKSBjdHguZGVwdGggPSAyO1xuXHQgIGlmIChpc1VuZGVmaW5lZChjdHguY29sb3JzKSkgY3R4LmNvbG9ycyA9IGZhbHNlO1xuXHQgIGlmIChpc1VuZGVmaW5lZChjdHguY3VzdG9tSW5zcGVjdCkpIGN0eC5jdXN0b21JbnNwZWN0ID0gdHJ1ZTtcblx0ICBpZiAoY3R4LmNvbG9ycykgY3R4LnN0eWxpemUgPSBzdHlsaXplV2l0aENvbG9yO1xuXHQgIHJldHVybiBmb3JtYXRWYWx1ZShjdHgsIG9iaiwgY3R4LmRlcHRoKTtcblx0fVxuXHRleHBvcnRzLmluc3BlY3QgPSBpbnNwZWN0O1xuXHRcblx0XG5cdC8vIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQU5TSV9lc2NhcGVfY29kZSNncmFwaGljc1xuXHRpbnNwZWN0LmNvbG9ycyA9IHtcblx0ICAnYm9sZCcgOiBbMSwgMjJdLFxuXHQgICdpdGFsaWMnIDogWzMsIDIzXSxcblx0ICAndW5kZXJsaW5lJyA6IFs0LCAyNF0sXG5cdCAgJ2ludmVyc2UnIDogWzcsIDI3XSxcblx0ICAnd2hpdGUnIDogWzM3LCAzOV0sXG5cdCAgJ2dyZXknIDogWzkwLCAzOV0sXG5cdCAgJ2JsYWNrJyA6IFszMCwgMzldLFxuXHQgICdibHVlJyA6IFszNCwgMzldLFxuXHQgICdjeWFuJyA6IFszNiwgMzldLFxuXHQgICdncmVlbicgOiBbMzIsIDM5XSxcblx0ICAnbWFnZW50YScgOiBbMzUsIDM5XSxcblx0ICAncmVkJyA6IFszMSwgMzldLFxuXHQgICd5ZWxsb3cnIDogWzMzLCAzOV1cblx0fTtcblx0XG5cdC8vIERvbid0IHVzZSAnYmx1ZScgbm90IHZpc2libGUgb24gY21kLmV4ZVxuXHRpbnNwZWN0LnN0eWxlcyA9IHtcblx0ICAnc3BlY2lhbCc6ICdjeWFuJyxcblx0ICAnbnVtYmVyJzogJ3llbGxvdycsXG5cdCAgJ2Jvb2xlYW4nOiAneWVsbG93Jyxcblx0ICAndW5kZWZpbmVkJzogJ2dyZXknLFxuXHQgICdudWxsJzogJ2JvbGQnLFxuXHQgICdzdHJpbmcnOiAnZ3JlZW4nLFxuXHQgICdkYXRlJzogJ21hZ2VudGEnLFxuXHQgIC8vIFwibmFtZVwiOiBpbnRlbnRpb25hbGx5IG5vdCBzdHlsaW5nXG5cdCAgJ3JlZ2V4cCc6ICdyZWQnXG5cdH07XG5cdFxuXHRcblx0ZnVuY3Rpb24gc3R5bGl6ZVdpdGhDb2xvcihzdHIsIHN0eWxlVHlwZSkge1xuXHQgIHZhciBzdHlsZSA9IGluc3BlY3Quc3R5bGVzW3N0eWxlVHlwZV07XG5cdFxuXHQgIGlmIChzdHlsZSkge1xuXHQgICAgcmV0dXJuICdcXHUwMDFiWycgKyBpbnNwZWN0LmNvbG9yc1tzdHlsZV1bMF0gKyAnbScgKyBzdHIgK1xuXHQgICAgICAgICAgICdcXHUwMDFiWycgKyBpbnNwZWN0LmNvbG9yc1tzdHlsZV1bMV0gKyAnbSc7XG5cdCAgfSBlbHNlIHtcblx0ICAgIHJldHVybiBzdHI7XG5cdCAgfVxuXHR9XG5cdFxuXHRcblx0ZnVuY3Rpb24gc3R5bGl6ZU5vQ29sb3Ioc3RyLCBzdHlsZVR5cGUpIHtcblx0ICByZXR1cm4gc3RyO1xuXHR9XG5cdFxuXHRcblx0ZnVuY3Rpb24gYXJyYXlUb0hhc2goYXJyYXkpIHtcblx0ICB2YXIgaGFzaCA9IHt9O1xuXHRcblx0ICBhcnJheS5mb3JFYWNoKGZ1bmN0aW9uKHZhbCwgaWR4KSB7XG5cdCAgICBoYXNoW3ZhbF0gPSB0cnVlO1xuXHQgIH0pO1xuXHRcblx0ICByZXR1cm4gaGFzaDtcblx0fVxuXHRcblx0XG5cdGZ1bmN0aW9uIGZvcm1hdFZhbHVlKGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcykge1xuXHQgIC8vIFByb3ZpZGUgYSBob29rIGZvciB1c2VyLXNwZWNpZmllZCBpbnNwZWN0IGZ1bmN0aW9ucy5cblx0ICAvLyBDaGVjayB0aGF0IHZhbHVlIGlzIGFuIG9iamVjdCB3aXRoIGFuIGluc3BlY3QgZnVuY3Rpb24gb24gaXRcblx0ICBpZiAoY3R4LmN1c3RvbUluc3BlY3QgJiZcblx0ICAgICAgdmFsdWUgJiZcblx0ICAgICAgaXNGdW5jdGlvbih2YWx1ZS5pbnNwZWN0KSAmJlxuXHQgICAgICAvLyBGaWx0ZXIgb3V0IHRoZSB1dGlsIG1vZHVsZSwgaXQncyBpbnNwZWN0IGZ1bmN0aW9uIGlzIHNwZWNpYWxcblx0ICAgICAgdmFsdWUuaW5zcGVjdCAhPT0gZXhwb3J0cy5pbnNwZWN0ICYmXG5cdCAgICAgIC8vIEFsc28gZmlsdGVyIG91dCBhbnkgcHJvdG90eXBlIG9iamVjdHMgdXNpbmcgdGhlIGNpcmN1bGFyIGNoZWNrLlxuXHQgICAgICAhKHZhbHVlLmNvbnN0cnVjdG9yICYmIHZhbHVlLmNvbnN0cnVjdG9yLnByb3RvdHlwZSA9PT0gdmFsdWUpKSB7XG5cdCAgICB2YXIgcmV0ID0gdmFsdWUuaW5zcGVjdChyZWN1cnNlVGltZXMsIGN0eCk7XG5cdCAgICBpZiAoIWlzU3RyaW5nKHJldCkpIHtcblx0ICAgICAgcmV0ID0gZm9ybWF0VmFsdWUoY3R4LCByZXQsIHJlY3Vyc2VUaW1lcyk7XG5cdCAgICB9XG5cdCAgICByZXR1cm4gcmV0O1xuXHQgIH1cblx0XG5cdCAgLy8gUHJpbWl0aXZlIHR5cGVzIGNhbm5vdCBoYXZlIHByb3BlcnRpZXNcblx0ICB2YXIgcHJpbWl0aXZlID0gZm9ybWF0UHJpbWl0aXZlKGN0eCwgdmFsdWUpO1xuXHQgIGlmIChwcmltaXRpdmUpIHtcblx0ICAgIHJldHVybiBwcmltaXRpdmU7XG5cdCAgfVxuXHRcblx0ICAvLyBMb29rIHVwIHRoZSBrZXlzIG9mIHRoZSBvYmplY3QuXG5cdCAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyh2YWx1ZSk7XG5cdCAgdmFyIHZpc2libGVLZXlzID0gYXJyYXlUb0hhc2goa2V5cyk7XG5cdFxuXHQgIGlmIChjdHguc2hvd0hpZGRlbikge1xuXHQgICAga2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHZhbHVlKTtcblx0ICB9XG5cdFxuXHQgIC8vIElFIGRvZXNuJ3QgbWFrZSBlcnJvciBmaWVsZHMgbm9uLWVudW1lcmFibGVcblx0ICAvLyBodHRwOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvaWUvZHd3NTJzYnQodj12cy45NCkuYXNweFxuXHQgIGlmIChpc0Vycm9yKHZhbHVlKVxuXHQgICAgICAmJiAoa2V5cy5pbmRleE9mKCdtZXNzYWdlJykgPj0gMCB8fCBrZXlzLmluZGV4T2YoJ2Rlc2NyaXB0aW9uJykgPj0gMCkpIHtcblx0ICAgIHJldHVybiBmb3JtYXRFcnJvcih2YWx1ZSk7XG5cdCAgfVxuXHRcblx0ICAvLyBTb21lIHR5cGUgb2Ygb2JqZWN0IHdpdGhvdXQgcHJvcGVydGllcyBjYW4gYmUgc2hvcnRjdXR0ZWQuXG5cdCAgaWYgKGtleXMubGVuZ3RoID09PSAwKSB7XG5cdCAgICBpZiAoaXNGdW5jdGlvbih2YWx1ZSkpIHtcblx0ICAgICAgdmFyIG5hbWUgPSB2YWx1ZS5uYW1lID8gJzogJyArIHZhbHVlLm5hbWUgOiAnJztcblx0ICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKCdbRnVuY3Rpb24nICsgbmFtZSArICddJywgJ3NwZWNpYWwnKTtcblx0ICAgIH1cblx0ICAgIGlmIChpc1JlZ0V4cCh2YWx1ZSkpIHtcblx0ICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKFJlZ0V4cC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSksICdyZWdleHAnKTtcblx0ICAgIH1cblx0ICAgIGlmIChpc0RhdGUodmFsdWUpKSB7XG5cdCAgICAgIHJldHVybiBjdHguc3R5bGl6ZShEYXRlLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSwgJ2RhdGUnKTtcblx0ICAgIH1cblx0ICAgIGlmIChpc0Vycm9yKHZhbHVlKSkge1xuXHQgICAgICByZXR1cm4gZm9ybWF0RXJyb3IodmFsdWUpO1xuXHQgICAgfVxuXHQgIH1cblx0XG5cdCAgdmFyIGJhc2UgPSAnJywgYXJyYXkgPSBmYWxzZSwgYnJhY2VzID0gWyd7JywgJ30nXTtcblx0XG5cdCAgLy8gTWFrZSBBcnJheSBzYXkgdGhhdCB0aGV5IGFyZSBBcnJheVxuXHQgIGlmIChpc0FycmF5KHZhbHVlKSkge1xuXHQgICAgYXJyYXkgPSB0cnVlO1xuXHQgICAgYnJhY2VzID0gWydbJywgJ10nXTtcblx0ICB9XG5cdFxuXHQgIC8vIE1ha2UgZnVuY3Rpb25zIHNheSB0aGF0IHRoZXkgYXJlIGZ1bmN0aW9uc1xuXHQgIGlmIChpc0Z1bmN0aW9uKHZhbHVlKSkge1xuXHQgICAgdmFyIG4gPSB2YWx1ZS5uYW1lID8gJzogJyArIHZhbHVlLm5hbWUgOiAnJztcblx0ICAgIGJhc2UgPSAnIFtGdW5jdGlvbicgKyBuICsgJ10nO1xuXHQgIH1cblx0XG5cdCAgLy8gTWFrZSBSZWdFeHBzIHNheSB0aGF0IHRoZXkgYXJlIFJlZ0V4cHNcblx0ICBpZiAoaXNSZWdFeHAodmFsdWUpKSB7XG5cdCAgICBiYXNlID0gJyAnICsgUmVnRXhwLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKTtcblx0ICB9XG5cdFxuXHQgIC8vIE1ha2UgZGF0ZXMgd2l0aCBwcm9wZXJ0aWVzIGZpcnN0IHNheSB0aGUgZGF0ZVxuXHQgIGlmIChpc0RhdGUodmFsdWUpKSB7XG5cdCAgICBiYXNlID0gJyAnICsgRGF0ZS5wcm90b3R5cGUudG9VVENTdHJpbmcuY2FsbCh2YWx1ZSk7XG5cdCAgfVxuXHRcblx0ICAvLyBNYWtlIGVycm9yIHdpdGggbWVzc2FnZSBmaXJzdCBzYXkgdGhlIGVycm9yXG5cdCAgaWYgKGlzRXJyb3IodmFsdWUpKSB7XG5cdCAgICBiYXNlID0gJyAnICsgZm9ybWF0RXJyb3IodmFsdWUpO1xuXHQgIH1cblx0XG5cdCAgaWYgKGtleXMubGVuZ3RoID09PSAwICYmICghYXJyYXkgfHwgdmFsdWUubGVuZ3RoID09IDApKSB7XG5cdCAgICByZXR1cm4gYnJhY2VzWzBdICsgYmFzZSArIGJyYWNlc1sxXTtcblx0ICB9XG5cdFxuXHQgIGlmIChyZWN1cnNlVGltZXMgPCAwKSB7XG5cdCAgICBpZiAoaXNSZWdFeHAodmFsdWUpKSB7XG5cdCAgICAgIHJldHVybiBjdHguc3R5bGl6ZShSZWdFeHAucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpLCAncmVnZXhwJyk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICByZXR1cm4gY3R4LnN0eWxpemUoJ1tPYmplY3RdJywgJ3NwZWNpYWwnKTtcblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIGN0eC5zZWVuLnB1c2godmFsdWUpO1xuXHRcblx0ICB2YXIgb3V0cHV0O1xuXHQgIGlmIChhcnJheSkge1xuXHQgICAgb3V0cHV0ID0gZm9ybWF0QXJyYXkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cywga2V5cyk7XG5cdCAgfSBlbHNlIHtcblx0ICAgIG91dHB1dCA9IGtleXMubWFwKGZ1bmN0aW9uKGtleSkge1xuXHQgICAgICByZXR1cm4gZm9ybWF0UHJvcGVydHkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cywga2V5LCBhcnJheSk7XG5cdCAgICB9KTtcblx0ICB9XG5cdFxuXHQgIGN0eC5zZWVuLnBvcCgpO1xuXHRcblx0ICByZXR1cm4gcmVkdWNlVG9TaW5nbGVTdHJpbmcob3V0cHV0LCBiYXNlLCBicmFjZXMpO1xuXHR9XG5cdFxuXHRcblx0ZnVuY3Rpb24gZm9ybWF0UHJpbWl0aXZlKGN0eCwgdmFsdWUpIHtcblx0ICBpZiAoaXNVbmRlZmluZWQodmFsdWUpKVxuXHQgICAgcmV0dXJuIGN0eC5zdHlsaXplKCd1bmRlZmluZWQnLCAndW5kZWZpbmVkJyk7XG5cdCAgaWYgKGlzU3RyaW5nKHZhbHVlKSkge1xuXHQgICAgdmFyIHNpbXBsZSA9ICdcXCcnICsgSlNPTi5zdHJpbmdpZnkodmFsdWUpLnJlcGxhY2UoL15cInxcIiQvZywgJycpXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8nL2csIFwiXFxcXCdcIilcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xcXFxcIi9nLCAnXCInKSArICdcXCcnO1xuXHQgICAgcmV0dXJuIGN0eC5zdHlsaXplKHNpbXBsZSwgJ3N0cmluZycpO1xuXHQgIH1cblx0ICBpZiAoaXNOdW1iZXIodmFsdWUpKVxuXHQgICAgcmV0dXJuIGN0eC5zdHlsaXplKCcnICsgdmFsdWUsICdudW1iZXInKTtcblx0ICBpZiAoaXNCb29sZWFuKHZhbHVlKSlcblx0ICAgIHJldHVybiBjdHguc3R5bGl6ZSgnJyArIHZhbHVlLCAnYm9vbGVhbicpO1xuXHQgIC8vIEZvciBzb21lIHJlYXNvbiB0eXBlb2YgbnVsbCBpcyBcIm9iamVjdFwiLCBzbyBzcGVjaWFsIGNhc2UgaGVyZS5cblx0ICBpZiAoaXNOdWxsKHZhbHVlKSlcblx0ICAgIHJldHVybiBjdHguc3R5bGl6ZSgnbnVsbCcsICdudWxsJyk7XG5cdH1cblx0XG5cdFxuXHRmdW5jdGlvbiBmb3JtYXRFcnJvcih2YWx1ZSkge1xuXHQgIHJldHVybiAnWycgKyBFcnJvci5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSkgKyAnXSc7XG5cdH1cblx0XG5cdFxuXHRmdW5jdGlvbiBmb3JtYXRBcnJheShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLCBrZXlzKSB7XG5cdCAgdmFyIG91dHB1dCA9IFtdO1xuXHQgIGZvciAodmFyIGkgPSAwLCBsID0gdmFsdWUubGVuZ3RoOyBpIDwgbDsgKytpKSB7XG5cdCAgICBpZiAoaGFzT3duUHJvcGVydHkodmFsdWUsIFN0cmluZyhpKSkpIHtcblx0ICAgICAgb3V0cHV0LnB1c2goZm9ybWF0UHJvcGVydHkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cyxcblx0ICAgICAgICAgIFN0cmluZyhpKSwgdHJ1ZSkpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgb3V0cHV0LnB1c2goJycpO1xuXHQgICAgfVxuXHQgIH1cblx0ICBrZXlzLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG5cdCAgICBpZiAoIWtleS5tYXRjaCgvXlxcZCskLykpIHtcblx0ICAgICAgb3V0cHV0LnB1c2goZm9ybWF0UHJvcGVydHkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cyxcblx0ICAgICAgICAgIGtleSwgdHJ1ZSkpO1xuXHQgICAgfVxuXHQgIH0pO1xuXHQgIHJldHVybiBvdXRwdXQ7XG5cdH1cblx0XG5cdFxuXHRmdW5jdGlvbiBmb3JtYXRQcm9wZXJ0eShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLCBrZXksIGFycmF5KSB7XG5cdCAgdmFyIG5hbWUsIHN0ciwgZGVzYztcblx0ICBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih2YWx1ZSwga2V5KSB8fCB7IHZhbHVlOiB2YWx1ZVtrZXldIH07XG5cdCAgaWYgKGRlc2MuZ2V0KSB7XG5cdCAgICBpZiAoZGVzYy5zZXQpIHtcblx0ICAgICAgc3RyID0gY3R4LnN0eWxpemUoJ1tHZXR0ZXIvU2V0dGVyXScsICdzcGVjaWFsJyk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBzdHIgPSBjdHguc3R5bGl6ZSgnW0dldHRlcl0nLCAnc3BlY2lhbCcpO1xuXHQgICAgfVxuXHQgIH0gZWxzZSB7XG5cdCAgICBpZiAoZGVzYy5zZXQpIHtcblx0ICAgICAgc3RyID0gY3R4LnN0eWxpemUoJ1tTZXR0ZXJdJywgJ3NwZWNpYWwnKTtcblx0ICAgIH1cblx0ICB9XG5cdCAgaWYgKCFoYXNPd25Qcm9wZXJ0eSh2aXNpYmxlS2V5cywga2V5KSkge1xuXHQgICAgbmFtZSA9ICdbJyArIGtleSArICddJztcblx0ICB9XG5cdCAgaWYgKCFzdHIpIHtcblx0ICAgIGlmIChjdHguc2Vlbi5pbmRleE9mKGRlc2MudmFsdWUpIDwgMCkge1xuXHQgICAgICBpZiAoaXNOdWxsKHJlY3Vyc2VUaW1lcykpIHtcblx0ICAgICAgICBzdHIgPSBmb3JtYXRWYWx1ZShjdHgsIGRlc2MudmFsdWUsIG51bGwpO1xuXHQgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIHN0ciA9IGZvcm1hdFZhbHVlKGN0eCwgZGVzYy52YWx1ZSwgcmVjdXJzZVRpbWVzIC0gMSk7XG5cdCAgICAgIH1cblx0ICAgICAgaWYgKHN0ci5pbmRleE9mKCdcXG4nKSA+IC0xKSB7XG5cdCAgICAgICAgaWYgKGFycmF5KSB7XG5cdCAgICAgICAgICBzdHIgPSBzdHIuc3BsaXQoJ1xcbicpLm1hcChmdW5jdGlvbihsaW5lKSB7XG5cdCAgICAgICAgICAgIHJldHVybiAnICAnICsgbGluZTtcblx0ICAgICAgICAgIH0pLmpvaW4oJ1xcbicpLnN1YnN0cigyKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgc3RyID0gJ1xcbicgKyBzdHIuc3BsaXQoJ1xcbicpLm1hcChmdW5jdGlvbihsaW5lKSB7XG5cdCAgICAgICAgICAgIHJldHVybiAnICAgJyArIGxpbmU7XG5cdCAgICAgICAgICB9KS5qb2luKCdcXG4nKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH1cblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHN0ciA9IGN0eC5zdHlsaXplKCdbQ2lyY3VsYXJdJywgJ3NwZWNpYWwnKTtcblx0ICAgIH1cblx0ICB9XG5cdCAgaWYgKGlzVW5kZWZpbmVkKG5hbWUpKSB7XG5cdCAgICBpZiAoYXJyYXkgJiYga2V5Lm1hdGNoKC9eXFxkKyQvKSkge1xuXHQgICAgICByZXR1cm4gc3RyO1xuXHQgICAgfVxuXHQgICAgbmFtZSA9IEpTT04uc3RyaW5naWZ5KCcnICsga2V5KTtcblx0ICAgIGlmIChuYW1lLm1hdGNoKC9eXCIoW2EtekEtWl9dW2EtekEtWl8wLTldKilcIiQvKSkge1xuXHQgICAgICBuYW1lID0gbmFtZS5zdWJzdHIoMSwgbmFtZS5sZW5ndGggLSAyKTtcblx0ICAgICAgbmFtZSA9IGN0eC5zdHlsaXplKG5hbWUsICduYW1lJyk7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBuYW1lID0gbmFtZS5yZXBsYWNlKC8nL2csIFwiXFxcXCdcIilcblx0ICAgICAgICAgICAgICAgICAucmVwbGFjZSgvXFxcXFwiL2csICdcIicpXG5cdCAgICAgICAgICAgICAgICAgLnJlcGxhY2UoLyheXCJ8XCIkKS9nLCBcIidcIik7XG5cdCAgICAgIG5hbWUgPSBjdHguc3R5bGl6ZShuYW1lLCAnc3RyaW5nJyk7XG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICByZXR1cm4gbmFtZSArICc6ICcgKyBzdHI7XG5cdH1cblx0XG5cdFxuXHRmdW5jdGlvbiByZWR1Y2VUb1NpbmdsZVN0cmluZyhvdXRwdXQsIGJhc2UsIGJyYWNlcykge1xuXHQgIHZhciBudW1MaW5lc0VzdCA9IDA7XG5cdCAgdmFyIGxlbmd0aCA9IG91dHB1dC5yZWR1Y2UoZnVuY3Rpb24ocHJldiwgY3VyKSB7XG5cdCAgICBudW1MaW5lc0VzdCsrO1xuXHQgICAgaWYgKGN1ci5pbmRleE9mKCdcXG4nKSA+PSAwKSBudW1MaW5lc0VzdCsrO1xuXHQgICAgcmV0dXJuIHByZXYgKyBjdXIucmVwbGFjZSgvXFx1MDAxYlxcW1xcZFxcZD9tL2csICcnKS5sZW5ndGggKyAxO1xuXHQgIH0sIDApO1xuXHRcblx0ICBpZiAobGVuZ3RoID4gNjApIHtcblx0ICAgIHJldHVybiBicmFjZXNbMF0gK1xuXHQgICAgICAgICAgIChiYXNlID09PSAnJyA/ICcnIDogYmFzZSArICdcXG4gJykgK1xuXHQgICAgICAgICAgICcgJyArXG5cdCAgICAgICAgICAgb3V0cHV0LmpvaW4oJyxcXG4gICcpICtcblx0ICAgICAgICAgICAnICcgK1xuXHQgICAgICAgICAgIGJyYWNlc1sxXTtcblx0ICB9XG5cdFxuXHQgIHJldHVybiBicmFjZXNbMF0gKyBiYXNlICsgJyAnICsgb3V0cHV0LmpvaW4oJywgJykgKyAnICcgKyBicmFjZXNbMV07XG5cdH1cblx0XG5cdFxuXHQvLyBOT1RFOiBUaGVzZSB0eXBlIGNoZWNraW5nIGZ1bmN0aW9ucyBpbnRlbnRpb25hbGx5IGRvbid0IHVzZSBgaW5zdGFuY2VvZmBcblx0Ly8gYmVjYXVzZSBpdCBpcyBmcmFnaWxlIGFuZCBjYW4gYmUgZWFzaWx5IGZha2VkIHdpdGggYE9iamVjdC5jcmVhdGUoKWAuXG5cdGZ1bmN0aW9uIGlzQXJyYXkoYXIpIHtcblx0ICByZXR1cm4gQXJyYXkuaXNBcnJheShhcik7XG5cdH1cblx0ZXhwb3J0cy5pc0FycmF5ID0gaXNBcnJheTtcblx0XG5cdGZ1bmN0aW9uIGlzQm9vbGVhbihhcmcpIHtcblx0ICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ2Jvb2xlYW4nO1xuXHR9XG5cdGV4cG9ydHMuaXNCb29sZWFuID0gaXNCb29sZWFuO1xuXHRcblx0ZnVuY3Rpb24gaXNOdWxsKGFyZykge1xuXHQgIHJldHVybiBhcmcgPT09IG51bGw7XG5cdH1cblx0ZXhwb3J0cy5pc051bGwgPSBpc051bGw7XG5cdFxuXHRmdW5jdGlvbiBpc051bGxPclVuZGVmaW5lZChhcmcpIHtcblx0ICByZXR1cm4gYXJnID09IG51bGw7XG5cdH1cblx0ZXhwb3J0cy5pc051bGxPclVuZGVmaW5lZCA9IGlzTnVsbE9yVW5kZWZpbmVkO1xuXHRcblx0ZnVuY3Rpb24gaXNOdW1iZXIoYXJnKSB7XG5cdCAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdudW1iZXInO1xuXHR9XG5cdGV4cG9ydHMuaXNOdW1iZXIgPSBpc051bWJlcjtcblx0XG5cdGZ1bmN0aW9uIGlzU3RyaW5nKGFyZykge1xuXHQgIHJldHVybiB0eXBlb2YgYXJnID09PSAnc3RyaW5nJztcblx0fVxuXHRleHBvcnRzLmlzU3RyaW5nID0gaXNTdHJpbmc7XG5cdFxuXHRmdW5jdGlvbiBpc1N5bWJvbChhcmcpIHtcblx0ICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ3N5bWJvbCc7XG5cdH1cblx0ZXhwb3J0cy5pc1N5bWJvbCA9IGlzU3ltYm9sO1xuXHRcblx0ZnVuY3Rpb24gaXNVbmRlZmluZWQoYXJnKSB7XG5cdCAgcmV0dXJuIGFyZyA9PT0gdm9pZCAwO1xuXHR9XG5cdGV4cG9ydHMuaXNVbmRlZmluZWQgPSBpc1VuZGVmaW5lZDtcblx0XG5cdGZ1bmN0aW9uIGlzUmVnRXhwKHJlKSB7XG5cdCAgcmV0dXJuIGlzT2JqZWN0KHJlKSAmJiBvYmplY3RUb1N0cmluZyhyZSkgPT09ICdbb2JqZWN0IFJlZ0V4cF0nO1xuXHR9XG5cdGV4cG9ydHMuaXNSZWdFeHAgPSBpc1JlZ0V4cDtcblx0XG5cdGZ1bmN0aW9uIGlzT2JqZWN0KGFyZykge1xuXHQgIHJldHVybiB0eXBlb2YgYXJnID09PSAnb2JqZWN0JyAmJiBhcmcgIT09IG51bGw7XG5cdH1cblx0ZXhwb3J0cy5pc09iamVjdCA9IGlzT2JqZWN0O1xuXHRcblx0ZnVuY3Rpb24gaXNEYXRlKGQpIHtcblx0ICByZXR1cm4gaXNPYmplY3QoZCkgJiYgb2JqZWN0VG9TdHJpbmcoZCkgPT09ICdbb2JqZWN0IERhdGVdJztcblx0fVxuXHRleHBvcnRzLmlzRGF0ZSA9IGlzRGF0ZTtcblx0XG5cdGZ1bmN0aW9uIGlzRXJyb3IoZSkge1xuXHQgIHJldHVybiBpc09iamVjdChlKSAmJlxuXHQgICAgICAob2JqZWN0VG9TdHJpbmcoZSkgPT09ICdbb2JqZWN0IEVycm9yXScgfHwgZSBpbnN0YW5jZW9mIEVycm9yKTtcblx0fVxuXHRleHBvcnRzLmlzRXJyb3IgPSBpc0Vycm9yO1xuXHRcblx0ZnVuY3Rpb24gaXNGdW5jdGlvbihhcmcpIHtcblx0ICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ2Z1bmN0aW9uJztcblx0fVxuXHRleHBvcnRzLmlzRnVuY3Rpb24gPSBpc0Z1bmN0aW9uO1xuXHRcblx0ZnVuY3Rpb24gaXNQcmltaXRpdmUoYXJnKSB7XG5cdCAgcmV0dXJuIGFyZyA9PT0gbnVsbCB8fFxuXHQgICAgICAgICB0eXBlb2YgYXJnID09PSAnYm9vbGVhbicgfHxcblx0ICAgICAgICAgdHlwZW9mIGFyZyA9PT0gJ251bWJlcicgfHxcblx0ICAgICAgICAgdHlwZW9mIGFyZyA9PT0gJ3N0cmluZycgfHxcblx0ICAgICAgICAgdHlwZW9mIGFyZyA9PT0gJ3N5bWJvbCcgfHwgIC8vIEVTNiBzeW1ib2xcblx0ICAgICAgICAgdHlwZW9mIGFyZyA9PT0gJ3VuZGVmaW5lZCc7XG5cdH1cblx0ZXhwb3J0cy5pc1ByaW1pdGl2ZSA9IGlzUHJpbWl0aXZlO1xuXHRcblx0ZXhwb3J0cy5pc0J1ZmZlciA9IF9fd2VicGFja19yZXF1aXJlX18oMTMwKTtcblx0XG5cdGZ1bmN0aW9uIG9iamVjdFRvU3RyaW5nKG8pIHtcblx0ICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pO1xuXHR9XG5cdFxuXHRcblx0ZnVuY3Rpb24gcGFkKG4pIHtcblx0ICByZXR1cm4gbiA8IDEwID8gJzAnICsgbi50b1N0cmluZygxMCkgOiBuLnRvU3RyaW5nKDEwKTtcblx0fVxuXHRcblx0XG5cdHZhciBtb250aHMgPSBbJ0phbicsICdGZWInLCAnTWFyJywgJ0FwcicsICdNYXknLCAnSnVuJywgJ0p1bCcsICdBdWcnLCAnU2VwJyxcblx0ICAgICAgICAgICAgICAnT2N0JywgJ05vdicsICdEZWMnXTtcblx0XG5cdC8vIDI2IEZlYiAxNjoxOTozNFxuXHRmdW5jdGlvbiB0aW1lc3RhbXAoKSB7XG5cdCAgdmFyIGQgPSBuZXcgRGF0ZSgpO1xuXHQgIHZhciB0aW1lID0gW3BhZChkLmdldEhvdXJzKCkpLFxuXHQgICAgICAgICAgICAgIHBhZChkLmdldE1pbnV0ZXMoKSksXG5cdCAgICAgICAgICAgICAgcGFkKGQuZ2V0U2Vjb25kcygpKV0uam9pbignOicpO1xuXHQgIHJldHVybiBbZC5nZXREYXRlKCksIG1vbnRoc1tkLmdldE1vbnRoKCldLCB0aW1lXS5qb2luKCcgJyk7XG5cdH1cblx0XG5cdFxuXHQvLyBsb2cgaXMganVzdCBhIHRoaW4gd3JhcHBlciB0byBjb25zb2xlLmxvZyB0aGF0IHByZXBlbmRzIGEgdGltZXN0YW1wXG5cdGV4cG9ydHMubG9nID0gZnVuY3Rpb24oKSB7XG5cdCAgY29uc29sZS5sb2coJyVzIC0gJXMnLCB0aW1lc3RhbXAoKSwgZXhwb3J0cy5mb3JtYXQuYXBwbHkoZXhwb3J0cywgYXJndW1lbnRzKSk7XG5cdH07XG5cdFxuXHRcblx0LyoqXG5cdCAqIEluaGVyaXQgdGhlIHByb3RvdHlwZSBtZXRob2RzIGZyb20gb25lIGNvbnN0cnVjdG9yIGludG8gYW5vdGhlci5cblx0ICpcblx0ICogVGhlIEZ1bmN0aW9uLnByb3RvdHlwZS5pbmhlcml0cyBmcm9tIGxhbmcuanMgcmV3cml0dGVuIGFzIGEgc3RhbmRhbG9uZVxuXHQgKiBmdW5jdGlvbiAobm90IG9uIEZ1bmN0aW9uLnByb3RvdHlwZSkuIE5PVEU6IElmIHRoaXMgZmlsZSBpcyB0byBiZSBsb2FkZWRcblx0ICogZHVyaW5nIGJvb3RzdHJhcHBpbmcgdGhpcyBmdW5jdGlvbiBuZWVkcyB0byBiZSByZXdyaXR0ZW4gdXNpbmcgc29tZSBuYXRpdmVcblx0ICogZnVuY3Rpb25zIGFzIHByb3RvdHlwZSBzZXR1cCB1c2luZyBub3JtYWwgSmF2YVNjcmlwdCBkb2VzIG5vdCB3b3JrIGFzXG5cdCAqIGV4cGVjdGVkIGR1cmluZyBib290c3RyYXBwaW5nIChzZWUgbWlycm9yLmpzIGluIHIxMTQ5MDMpLlxuXHQgKlxuXHQgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjdG9yIENvbnN0cnVjdG9yIGZ1bmN0aW9uIHdoaWNoIG5lZWRzIHRvIGluaGVyaXQgdGhlXG5cdCAqICAgICBwcm90b3R5cGUuXG5cdCAqIEBwYXJhbSB7ZnVuY3Rpb259IHN1cGVyQ3RvciBDb25zdHJ1Y3RvciBmdW5jdGlvbiB0byBpbmhlcml0IHByb3RvdHlwZSBmcm9tLlxuXHQgKi9cblx0ZXhwb3J0cy5pbmhlcml0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTI5KTtcblx0XG5cdGV4cG9ydHMuX2V4dGVuZCA9IGZ1bmN0aW9uKG9yaWdpbiwgYWRkKSB7XG5cdCAgLy8gRG9uJ3QgZG8gYW55dGhpbmcgaWYgYWRkIGlzbid0IGFuIG9iamVjdFxuXHQgIGlmICghYWRkIHx8ICFpc09iamVjdChhZGQpKSByZXR1cm4gb3JpZ2luO1xuXHRcblx0ICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGFkZCk7XG5cdCAgdmFyIGkgPSBrZXlzLmxlbmd0aDtcblx0ICB3aGlsZSAoaS0tKSB7XG5cdCAgICBvcmlnaW5ba2V5c1tpXV0gPSBhZGRba2V5c1tpXV07XG5cdCAgfVxuXHQgIHJldHVybiBvcmlnaW47XG5cdH07XG5cdFxuXHRmdW5jdGlvbiBoYXNPd25Qcm9wZXJ0eShvYmosIHByb3ApIHtcblx0ICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCk7XG5cdH1cblx0XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCAoZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KCkpLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyOCkpKVxuXG4vKioqLyB9XG4vKioqKioqLyBdKTtcblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiBidW5kbGUuanNcbiAqKi8iLCIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSlcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcblxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0ZXhwb3J0czoge30sXG4gXHRcdFx0aWQ6IG1vZHVsZUlkLFxuIFx0XHRcdGxvYWRlZDogZmFsc2VcbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubG9hZGVkID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCIvZGlzdC9cIjtcblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIHdlYnBhY2svYm9vdHN0cmFwIGNkYWQ2ZTQ0MzdjMjA2OTczNmRjXG4gKiovIiwiLyogQ29weXJpZ2h0IChjKSAyMDEzLCBCcmFuZG9uIEpvbmVzLCBDb2xpbiBNYWNLZW56aWUgSVYuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5cblJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dCBtb2RpZmljYXRpb24sXG5hcmUgcGVybWl0dGVkIHByb3ZpZGVkIHRoYXQgdGhlIGZvbGxvd2luZyBjb25kaXRpb25zIGFyZSBtZXQ6XG5cbiAgKiBSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUgbXVzdCByZXRhaW4gdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsIHRoaXNcbiAgICBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lci5cbiAgKiBSZWRpc3RyaWJ1dGlvbnMgaW4gYmluYXJ5IGZvcm0gbXVzdCByZXByb2R1Y2UgdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsXG4gICAgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lciBpbiB0aGUgZG9jdW1lbnRhdGlvblxuICAgIGFuZC9vciBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWQgd2l0aCB0aGUgZGlzdHJpYnV0aW9uLlxuXG5USElTIFNPRlRXQVJFIElTIFBST1ZJREVEIEJZIFRIRSBDT1BZUklHSFQgSE9MREVSUyBBTkQgQ09OVFJJQlVUT1JTIFwiQVMgSVNcIiBBTkRcbkFOWSBFWFBSRVNTIE9SIElNUExJRUQgV0FSUkFOVElFUywgSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sIFRIRSBJTVBMSUVEXG5XQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSBBTkQgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQVJFXG5ESVNDTEFJTUVELiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQ09QWVJJR0hUIEhPTERFUiBPUiBDT05UUklCVVRPUlMgQkUgTElBQkxFIEZPUlxuQU5ZIERJUkVDVCwgSU5ESVJFQ1QsIElOQ0lERU5UQUwsIFNQRUNJQUwsIEVYRU1QTEFSWSwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTXG4oSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sIFBST0NVUkVNRU5UIE9GIFNVQlNUSVRVVEUgR09PRFMgT1IgU0VSVklDRVM7XG5MT1NTIE9GIFVTRSwgREFUQSwgT1IgUFJPRklUUzsgT1IgQlVTSU5FU1MgSU5URVJSVVBUSU9OKSBIT1dFVkVSIENBVVNFRCBBTkQgT05cbkFOWSBUSEVPUlkgT0YgTElBQklMSVRZLCBXSEVUSEVSIElOIENPTlRSQUNULCBTVFJJQ1QgTElBQklMSVRZLCBPUiBUT1JUXG4oSU5DTFVESU5HIE5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKSBBUklTSU5HIElOIEFOWSBXQVkgT1VUIE9GIFRIRSBVU0UgT0YgVEhJU1xuU09GVFdBUkUsIEVWRU4gSUYgQURWSVNFRCBPRiBUSEUgUE9TU0lCSUxJVFkgT0YgU1VDSCBEQU1BR0UuICovXG5cbi8qKlxuICogVGhlIHZlYzIgb2JqZWN0IGZyb20gZ2xNYXRyaXgsIHdpdGggc29tZSBleHRlbnNpb25zIGFuZCBzb21lIHJlbW92ZWQgbWV0aG9kcy4gU2VlIGh0dHA6Ly9nbG1hdHJpeC5uZXQuXG4gKiBAY2xhc3MgdmVjMlxuICovXG5cbnZhciB2ZWMyID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblxudmFyIFV0aWxzID0gcmVxdWlyZSgnLi4vdXRpbHMvVXRpbHMnKTtcblxuLyoqXG4gKiBNYWtlIGEgY3Jvc3MgcHJvZHVjdCBhbmQgb25seSByZXR1cm4gdGhlIHogY29tcG9uZW50XG4gKiBAbWV0aG9kIGNyb3NzTGVuZ3RoXG4gKiBAc3RhdGljXG4gKiBAcGFyYW0gIHtBcnJheX0gYVxuICogQHBhcmFtICB7QXJyYXl9IGJcbiAqIEByZXR1cm4ge051bWJlcn1cbiAqL1xudmVjMi5jcm9zc0xlbmd0aCA9IGZ1bmN0aW9uKGEsYil7XG4gICAgcmV0dXJuIGFbMF0gKiBiWzFdIC0gYVsxXSAqIGJbMF07XG59O1xuXG4vKipcbiAqIENyb3NzIHByb2R1Y3QgYmV0d2VlbiBhIHZlY3RvciBhbmQgdGhlIFogY29tcG9uZW50IG9mIGEgdmVjdG9yXG4gKiBAbWV0aG9kIGNyb3NzVlpcbiAqIEBzdGF0aWNcbiAqIEBwYXJhbSAge0FycmF5fSBvdXRcbiAqIEBwYXJhbSAge0FycmF5fSB2ZWNcbiAqIEBwYXJhbSAge051bWJlcn0gemNvbXBcbiAqIEByZXR1cm4ge051bWJlcn1cbiAqL1xudmVjMi5jcm9zc1ZaID0gZnVuY3Rpb24ob3V0LCB2ZWMsIHpjb21wKXtcbiAgICB2ZWMyLnJvdGF0ZShvdXQsdmVjLC1NYXRoLlBJLzIpOy8vIFJvdGF0ZSBhY2NvcmRpbmcgdG8gdGhlIHJpZ2h0IGhhbmQgcnVsZVxuICAgIHZlYzIuc2NhbGUob3V0LG91dCx6Y29tcCk7ICAgICAgLy8gU2NhbGUgd2l0aCB6XG4gICAgcmV0dXJuIG91dDtcbn07XG5cbi8qKlxuICogQ3Jvc3MgcHJvZHVjdCBiZXR3ZWVuIGEgdmVjdG9yIGFuZCB0aGUgWiBjb21wb25lbnQgb2YgYSB2ZWN0b3JcbiAqIEBtZXRob2QgY3Jvc3NaVlxuICogQHN0YXRpY1xuICogQHBhcmFtICB7QXJyYXl9IG91dFxuICogQHBhcmFtICB7TnVtYmVyfSB6Y29tcFxuICogQHBhcmFtICB7QXJyYXl9IHZlY1xuICogQHJldHVybiB7TnVtYmVyfVxuICovXG52ZWMyLmNyb3NzWlYgPSBmdW5jdGlvbihvdXQsIHpjb21wLCB2ZWMpe1xuICAgIHZlYzIucm90YXRlKG91dCx2ZWMsTWF0aC5QSS8yKTsgLy8gUm90YXRlIGFjY29yZGluZyB0byB0aGUgcmlnaHQgaGFuZCBydWxlXG4gICAgdmVjMi5zY2FsZShvdXQsb3V0LHpjb21wKTsgICAgICAvLyBTY2FsZSB3aXRoIHpcbiAgICByZXR1cm4gb3V0O1xufTtcblxuLyoqXG4gKiBSb3RhdGUgYSB2ZWN0b3IgYnkgYW4gYW5nbGVcbiAqIEBtZXRob2Qgcm90YXRlXG4gKiBAc3RhdGljXG4gKiBAcGFyYW0gIHtBcnJheX0gb3V0XG4gKiBAcGFyYW0gIHtBcnJheX0gYVxuICogQHBhcmFtICB7TnVtYmVyfSBhbmdsZVxuICovXG52ZWMyLnJvdGF0ZSA9IGZ1bmN0aW9uKG91dCxhLGFuZ2xlKXtcbiAgICBpZihhbmdsZSAhPT0gMCl7XG4gICAgICAgIHZhciBjID0gTWF0aC5jb3MoYW5nbGUpLFxuICAgICAgICAgICAgcyA9IE1hdGguc2luKGFuZ2xlKSxcbiAgICAgICAgICAgIHggPSBhWzBdLFxuICAgICAgICAgICAgeSA9IGFbMV07XG4gICAgICAgIG91dFswXSA9IGMqeCAtcyp5O1xuICAgICAgICBvdXRbMV0gPSBzKnggK2MqeTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBvdXRbMF0gPSBhWzBdO1xuICAgICAgICBvdXRbMV0gPSBhWzFdO1xuICAgIH1cbn07XG5cbi8qKlxuICogUm90YXRlIGEgdmVjdG9yIDkwIGRlZ3JlZXMgY2xvY2t3aXNlXG4gKiBAbWV0aG9kIHJvdGF0ZTkwY3dcbiAqIEBzdGF0aWNcbiAqIEBwYXJhbSAge0FycmF5fSBvdXRcbiAqIEBwYXJhbSAge0FycmF5fSBhXG4gKiBAcGFyYW0gIHtOdW1iZXJ9IGFuZ2xlXG4gKi9cbnZlYzIucm90YXRlOTBjdyA9IGZ1bmN0aW9uKG91dCwgYSkge1xuICAgIHZhciB4ID0gYVswXTtcbiAgICB2YXIgeSA9IGFbMV07XG4gICAgb3V0WzBdID0geTtcbiAgICBvdXRbMV0gPSAteDtcbn07XG5cbi8qKlxuICogVHJhbnNmb3JtIGEgcG9pbnQgcG9zaXRpb24gdG8gbG9jYWwgZnJhbWUuXG4gKiBAbWV0aG9kIHRvTG9jYWxGcmFtZVxuICogQHBhcmFtICB7QXJyYXl9IG91dFxuICogQHBhcmFtICB7QXJyYXl9IHdvcmxkUG9pbnRcbiAqIEBwYXJhbSAge0FycmF5fSBmcmFtZVBvc2l0aW9uXG4gKiBAcGFyYW0gIHtOdW1iZXJ9IGZyYW1lQW5nbGVcbiAqL1xudmVjMi50b0xvY2FsRnJhbWUgPSBmdW5jdGlvbihvdXQsIHdvcmxkUG9pbnQsIGZyYW1lUG9zaXRpb24sIGZyYW1lQW5nbGUpe1xuICAgIHZlYzIuY29weShvdXQsIHdvcmxkUG9pbnQpO1xuICAgIHZlYzIuc3ViKG91dCwgb3V0LCBmcmFtZVBvc2l0aW9uKTtcbiAgICB2ZWMyLnJvdGF0ZShvdXQsIG91dCwgLWZyYW1lQW5nbGUpO1xufTtcblxuLyoqXG4gKiBUcmFuc2Zvcm0gYSBwb2ludCBwb3NpdGlvbiB0byBnbG9iYWwgZnJhbWUuXG4gKiBAbWV0aG9kIHRvR2xvYmFsRnJhbWVcbiAqIEBwYXJhbSAge0FycmF5fSBvdXRcbiAqIEBwYXJhbSAge0FycmF5fSBsb2NhbFBvaW50XG4gKiBAcGFyYW0gIHtBcnJheX0gZnJhbWVQb3NpdGlvblxuICogQHBhcmFtICB7TnVtYmVyfSBmcmFtZUFuZ2xlXG4gKi9cbnZlYzIudG9HbG9iYWxGcmFtZSA9IGZ1bmN0aW9uKG91dCwgbG9jYWxQb2ludCwgZnJhbWVQb3NpdGlvbiwgZnJhbWVBbmdsZSl7XG4gICAgdmVjMi5jb3B5KG91dCwgbG9jYWxQb2ludCk7XG4gICAgdmVjMi5yb3RhdGUob3V0LCBvdXQsIGZyYW1lQW5nbGUpO1xuICAgIHZlYzIuYWRkKG91dCwgb3V0LCBmcmFtZVBvc2l0aW9uKTtcbn07XG5cbi8qKlxuICogVHJhbnNmb3JtIGEgdmVjdG9yIHRvIGxvY2FsIGZyYW1lLlxuICogQG1ldGhvZCB2ZWN0b3JUb0xvY2FsRnJhbWVcbiAqIEBwYXJhbSAge0FycmF5fSBvdXRcbiAqIEBwYXJhbSAge0FycmF5fSB3b3JsZFZlY3RvclxuICogQHBhcmFtICB7TnVtYmVyfSBmcmFtZUFuZ2xlXG4gKi9cbnZlYzIudmVjdG9yVG9Mb2NhbEZyYW1lID0gZnVuY3Rpb24ob3V0LCB3b3JsZFZlY3RvciwgZnJhbWVBbmdsZSl7XG4gICAgdmVjMi5yb3RhdGUob3V0LCB3b3JsZFZlY3RvciwgLWZyYW1lQW5nbGUpO1xufTtcblxuLyoqXG4gKiBUcmFuc2Zvcm0gYSBwb2ludCBwb3NpdGlvbiB0byBnbG9iYWwgZnJhbWUuXG4gKiBAbWV0aG9kIHRvR2xvYmFsRnJhbWVcbiAqIEBwYXJhbSAge0FycmF5fSBvdXRcbiAqIEBwYXJhbSAge0FycmF5fSBsb2NhbFZlY3RvclxuICogQHBhcmFtICB7TnVtYmVyfSBmcmFtZUFuZ2xlXG4gKi9cbnZlYzIudmVjdG9yVG9HbG9iYWxGcmFtZSA9IGZ1bmN0aW9uKG91dCwgbG9jYWxWZWN0b3IsIGZyYW1lQW5nbGUpe1xuICAgIHZlYzIucm90YXRlKG91dCwgbG9jYWxWZWN0b3IsIGZyYW1lQW5nbGUpO1xufTtcblxuLyoqXG4gKiBDb21wdXRlIGNlbnRyb2lkIG9mIGEgdHJpYW5nbGUgc3Bhbm5lZCBieSB2ZWN0b3JzIGEsYixjLiBTZWUgaHR0cDovL2Vhc3ljYWxjdWxhdGlvbi5jb20vYW5hbHl0aWNhbC9sZWFybi1jZW50cm9pZC5waHBcbiAqIEBtZXRob2QgY2VudHJvaWRcbiAqIEBzdGF0aWNcbiAqIEBwYXJhbSAge0FycmF5fSBvdXRcbiAqIEBwYXJhbSAge0FycmF5fSBhXG4gKiBAcGFyYW0gIHtBcnJheX0gYlxuICogQHBhcmFtICB7QXJyYXl9IGNcbiAqIEByZXR1cm4gIHtBcnJheX0gVGhlIG91dCBvYmplY3RcbiAqL1xudmVjMi5jZW50cm9pZCA9IGZ1bmN0aW9uKG91dCwgYSwgYiwgYyl7XG4gICAgdmVjMi5hZGQob3V0LCBhLCBiKTtcbiAgICB2ZWMyLmFkZChvdXQsIG91dCwgYyk7XG4gICAgdmVjMi5zY2FsZShvdXQsIG91dCwgMS8zKTtcbiAgICByZXR1cm4gb3V0O1xufTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3LCBlbXB0eSB2ZWMyXG4gKiBAc3RhdGljXG4gKiBAbWV0aG9kIGNyZWF0ZVxuICogQHJldHVybiB7QXJyYXl9IGEgbmV3IDJEIHZlY3RvclxuICovXG52ZWMyLmNyZWF0ZSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBvdXQgPSBuZXcgVXRpbHMuQVJSQVlfVFlQRSgyKTtcbiAgICBvdXRbMF0gPSAwO1xuICAgIG91dFsxXSA9IDA7XG4gICAgcmV0dXJuIG91dDtcbn07XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyB2ZWMyIGluaXRpYWxpemVkIHdpdGggdmFsdWVzIGZyb20gYW4gZXhpc3RpbmcgdmVjdG9yXG4gKiBAc3RhdGljXG4gKiBAbWV0aG9kIGNsb25lXG4gKiBAcGFyYW0ge0FycmF5fSBhIHZlY3RvciB0byBjbG9uZVxuICogQHJldHVybiB7QXJyYXl9IGEgbmV3IDJEIHZlY3RvclxuICovXG52ZWMyLmNsb25lID0gZnVuY3Rpb24oYSkge1xuICAgIHZhciBvdXQgPSBuZXcgVXRpbHMuQVJSQVlfVFlQRSgyKTtcbiAgICBvdXRbMF0gPSBhWzBdO1xuICAgIG91dFsxXSA9IGFbMV07XG4gICAgcmV0dXJuIG91dDtcbn07XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyB2ZWMyIGluaXRpYWxpemVkIHdpdGggdGhlIGdpdmVuIHZhbHVlc1xuICogQHN0YXRpY1xuICogQG1ldGhvZCBmcm9tVmFsdWVzXG4gKiBAcGFyYW0ge051bWJlcn0geCBYIGNvbXBvbmVudFxuICogQHBhcmFtIHtOdW1iZXJ9IHkgWSBjb21wb25lbnRcbiAqIEByZXR1cm4ge0FycmF5fSBhIG5ldyAyRCB2ZWN0b3JcbiAqL1xudmVjMi5mcm9tVmFsdWVzID0gZnVuY3Rpb24oeCwgeSkge1xuICAgIHZhciBvdXQgPSBuZXcgVXRpbHMuQVJSQVlfVFlQRSgyKTtcbiAgICBvdXRbMF0gPSB4O1xuICAgIG91dFsxXSA9IHk7XG4gICAgcmV0dXJuIG91dDtcbn07XG5cbi8qKlxuICogQ29weSB0aGUgdmFsdWVzIGZyb20gb25lIHZlYzIgdG8gYW5vdGhlclxuICogQHN0YXRpY1xuICogQG1ldGhvZCBjb3B5XG4gKiBAcGFyYW0ge0FycmF5fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7QXJyYXl9IGEgdGhlIHNvdXJjZSB2ZWN0b3JcbiAqIEByZXR1cm4ge0FycmF5fSBvdXRcbiAqL1xudmVjMi5jb3B5ID0gZnVuY3Rpb24ob3V0LCBhKSB7XG4gICAgb3V0WzBdID0gYVswXTtcbiAgICBvdXRbMV0gPSBhWzFdO1xuICAgIHJldHVybiBvdXQ7XG59O1xuXG4vKipcbiAqIFNldCB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzIgdG8gdGhlIGdpdmVuIHZhbHVlc1xuICogQHN0YXRpY1xuICogQG1ldGhvZCBzZXRcbiAqIEBwYXJhbSB7QXJyYXl9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtOdW1iZXJ9IHggWCBjb21wb25lbnRcbiAqIEBwYXJhbSB7TnVtYmVyfSB5IFkgY29tcG9uZW50XG4gKiBAcmV0dXJuIHtBcnJheX0gb3V0XG4gKi9cbnZlYzIuc2V0ID0gZnVuY3Rpb24ob3V0LCB4LCB5KSB7XG4gICAgb3V0WzBdID0geDtcbiAgICBvdXRbMV0gPSB5O1xuICAgIHJldHVybiBvdXQ7XG59O1xuXG4vKipcbiAqIEFkZHMgdHdvIHZlYzInc1xuICogQHN0YXRpY1xuICogQG1ldGhvZCBhZGRcbiAqIEBwYXJhbSB7QXJyYXl9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtBcnJheX0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtBcnJheX0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm4ge0FycmF5fSBvdXRcbiAqL1xudmVjMi5hZGQgPSBmdW5jdGlvbihvdXQsIGEsIGIpIHtcbiAgICBvdXRbMF0gPSBhWzBdICsgYlswXTtcbiAgICBvdXRbMV0gPSBhWzFdICsgYlsxXTtcbiAgICByZXR1cm4gb3V0O1xufTtcblxuLyoqXG4gKiBTdWJ0cmFjdHMgdHdvIHZlYzInc1xuICogQHN0YXRpY1xuICogQG1ldGhvZCBzdWJ0cmFjdFxuICogQHBhcmFtIHtBcnJheX0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge0FycmF5fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge0FycmF5fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybiB7QXJyYXl9IG91dFxuICovXG52ZWMyLnN1YnRyYWN0ID0gZnVuY3Rpb24ob3V0LCBhLCBiKSB7XG4gICAgb3V0WzBdID0gYVswXSAtIGJbMF07XG4gICAgb3V0WzFdID0gYVsxXSAtIGJbMV07XG4gICAgcmV0dXJuIG91dDtcbn07XG5cbi8qKlxuICogQWxpYXMgZm9yIHZlYzIuc3VidHJhY3RcbiAqIEBzdGF0aWNcbiAqIEBtZXRob2Qgc3ViXG4gKi9cbnZlYzIuc3ViID0gdmVjMi5zdWJ0cmFjdDtcblxuLyoqXG4gKiBNdWx0aXBsaWVzIHR3byB2ZWMyJ3NcbiAqIEBzdGF0aWNcbiAqIEBtZXRob2QgbXVsdGlwbHlcbiAqIEBwYXJhbSB7QXJyYXl9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtBcnJheX0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtBcnJheX0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm4ge0FycmF5fSBvdXRcbiAqL1xudmVjMi5tdWx0aXBseSA9IGZ1bmN0aW9uKG91dCwgYSwgYikge1xuICAgIG91dFswXSA9IGFbMF0gKiBiWzBdO1xuICAgIG91dFsxXSA9IGFbMV0gKiBiWzFdO1xuICAgIHJldHVybiBvdXQ7XG59O1xuXG4vKipcbiAqIEFsaWFzIGZvciB2ZWMyLm11bHRpcGx5XG4gKiBAc3RhdGljXG4gKiBAbWV0aG9kIG11bFxuICovXG52ZWMyLm11bCA9IHZlYzIubXVsdGlwbHk7XG5cbi8qKlxuICogRGl2aWRlcyB0d28gdmVjMidzXG4gKiBAc3RhdGljXG4gKiBAbWV0aG9kIGRpdmlkZVxuICogQHBhcmFtIHtBcnJheX0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge0FycmF5fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge0FycmF5fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybiB7QXJyYXl9IG91dFxuICovXG52ZWMyLmRpdmlkZSA9IGZ1bmN0aW9uKG91dCwgYSwgYikge1xuICAgIG91dFswXSA9IGFbMF0gLyBiWzBdO1xuICAgIG91dFsxXSA9IGFbMV0gLyBiWzFdO1xuICAgIHJldHVybiBvdXQ7XG59O1xuXG4vKipcbiAqIEFsaWFzIGZvciB2ZWMyLmRpdmlkZVxuICogQHN0YXRpY1xuICogQG1ldGhvZCBkaXZcbiAqL1xudmVjMi5kaXYgPSB2ZWMyLmRpdmlkZTtcblxuLyoqXG4gKiBTY2FsZXMgYSB2ZWMyIGJ5IGEgc2NhbGFyIG51bWJlclxuICogQHN0YXRpY1xuICogQG1ldGhvZCBzY2FsZVxuICogQHBhcmFtIHtBcnJheX0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge0FycmF5fSBhIHRoZSB2ZWN0b3IgdG8gc2NhbGVcbiAqIEBwYXJhbSB7TnVtYmVyfSBiIGFtb3VudCB0byBzY2FsZSB0aGUgdmVjdG9yIGJ5XG4gKiBAcmV0dXJuIHtBcnJheX0gb3V0XG4gKi9cbnZlYzIuc2NhbGUgPSBmdW5jdGlvbihvdXQsIGEsIGIpIHtcbiAgICBvdXRbMF0gPSBhWzBdICogYjtcbiAgICBvdXRbMV0gPSBhWzFdICogYjtcbiAgICByZXR1cm4gb3V0O1xufTtcblxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBldWNsaWRpYW4gZGlzdGFuY2UgYmV0d2VlbiB0d28gdmVjMidzXG4gKiBAc3RhdGljXG4gKiBAbWV0aG9kIGRpc3RhbmNlXG4gKiBAcGFyYW0ge0FycmF5fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge0FycmF5fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybiB7TnVtYmVyfSBkaXN0YW5jZSBiZXR3ZWVuIGEgYW5kIGJcbiAqL1xudmVjMi5kaXN0YW5jZSA9IGZ1bmN0aW9uKGEsIGIpIHtcbiAgICB2YXIgeCA9IGJbMF0gLSBhWzBdLFxuICAgICAgICB5ID0gYlsxXSAtIGFbMV07XG4gICAgcmV0dXJuIE1hdGguc3FydCh4KnggKyB5KnkpO1xufTtcblxuLyoqXG4gKiBBbGlhcyBmb3IgdmVjMi5kaXN0YW5jZVxuICogQHN0YXRpY1xuICogQG1ldGhvZCBkaXN0XG4gKi9cbnZlYzIuZGlzdCA9IHZlYzIuZGlzdGFuY2U7XG5cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgc3F1YXJlZCBldWNsaWRpYW4gZGlzdGFuY2UgYmV0d2VlbiB0d28gdmVjMidzXG4gKiBAc3RhdGljXG4gKiBAbWV0aG9kIHNxdWFyZWREaXN0YW5jZVxuICogQHBhcmFtIHtBcnJheX0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtBcnJheX0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm4ge051bWJlcn0gc3F1YXJlZCBkaXN0YW5jZSBiZXR3ZWVuIGEgYW5kIGJcbiAqL1xudmVjMi5zcXVhcmVkRGlzdGFuY2UgPSBmdW5jdGlvbihhLCBiKSB7XG4gICAgdmFyIHggPSBiWzBdIC0gYVswXSxcbiAgICAgICAgeSA9IGJbMV0gLSBhWzFdO1xuICAgIHJldHVybiB4KnggKyB5Knk7XG59O1xuXG4vKipcbiAqIEFsaWFzIGZvciB2ZWMyLnNxdWFyZWREaXN0YW5jZVxuICogQHN0YXRpY1xuICogQG1ldGhvZCBzcXJEaXN0XG4gKi9cbnZlYzIuc3FyRGlzdCA9IHZlYzIuc3F1YXJlZERpc3RhbmNlO1xuXG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIGxlbmd0aCBvZiBhIHZlYzJcbiAqIEBzdGF0aWNcbiAqIEBtZXRob2QgbGVuZ3RoXG4gKiBAcGFyYW0ge0FycmF5fSBhIHZlY3RvciB0byBjYWxjdWxhdGUgbGVuZ3RoIG9mXG4gKiBAcmV0dXJuIHtOdW1iZXJ9IGxlbmd0aCBvZiBhXG4gKi9cbnZlYzIubGVuZ3RoID0gZnVuY3Rpb24gKGEpIHtcbiAgICB2YXIgeCA9IGFbMF0sXG4gICAgICAgIHkgPSBhWzFdO1xuICAgIHJldHVybiBNYXRoLnNxcnQoeCp4ICsgeSp5KTtcbn07XG5cbi8qKlxuICogQWxpYXMgZm9yIHZlYzIubGVuZ3RoXG4gKiBAbWV0aG9kIGxlblxuICogQHN0YXRpY1xuICovXG52ZWMyLmxlbiA9IHZlYzIubGVuZ3RoO1xuXG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIHNxdWFyZWQgbGVuZ3RoIG9mIGEgdmVjMlxuICogQHN0YXRpY1xuICogQG1ldGhvZCBzcXVhcmVkTGVuZ3RoXG4gKiBAcGFyYW0ge0FycmF5fSBhIHZlY3RvciB0byBjYWxjdWxhdGUgc3F1YXJlZCBsZW5ndGggb2ZcbiAqIEByZXR1cm4ge051bWJlcn0gc3F1YXJlZCBsZW5ndGggb2YgYVxuICovXG52ZWMyLnNxdWFyZWRMZW5ndGggPSBmdW5jdGlvbiAoYSkge1xuICAgIHZhciB4ID0gYVswXSxcbiAgICAgICAgeSA9IGFbMV07XG4gICAgcmV0dXJuIHgqeCArIHkqeTtcbn07XG5cbi8qKlxuICogQWxpYXMgZm9yIHZlYzIuc3F1YXJlZExlbmd0aFxuICogQHN0YXRpY1xuICogQG1ldGhvZCBzcXJMZW5cbiAqL1xudmVjMi5zcXJMZW4gPSB2ZWMyLnNxdWFyZWRMZW5ndGg7XG5cbi8qKlxuICogTmVnYXRlcyB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzJcbiAqIEBzdGF0aWNcbiAqIEBtZXRob2QgbmVnYXRlXG4gKiBAcGFyYW0ge0FycmF5fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7QXJyYXl9IGEgdmVjdG9yIHRvIG5lZ2F0ZVxuICogQHJldHVybiB7QXJyYXl9IG91dFxuICovXG52ZWMyLm5lZ2F0ZSA9IGZ1bmN0aW9uKG91dCwgYSkge1xuICAgIG91dFswXSA9IC1hWzBdO1xuICAgIG91dFsxXSA9IC1hWzFdO1xuICAgIHJldHVybiBvdXQ7XG59O1xuXG4vKipcbiAqIE5vcm1hbGl6ZSBhIHZlYzJcbiAqIEBzdGF0aWNcbiAqIEBtZXRob2Qgbm9ybWFsaXplXG4gKiBAcGFyYW0ge0FycmF5fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7QXJyYXl9IGEgdmVjdG9yIHRvIG5vcm1hbGl6ZVxuICogQHJldHVybiB7QXJyYXl9IG91dFxuICovXG52ZWMyLm5vcm1hbGl6ZSA9IGZ1bmN0aW9uKG91dCwgYSkge1xuICAgIHZhciB4ID0gYVswXSxcbiAgICAgICAgeSA9IGFbMV07XG4gICAgdmFyIGxlbiA9IHgqeCArIHkqeTtcbiAgICBpZiAobGVuID4gMCkge1xuICAgICAgICAvL1RPRE86IGV2YWx1YXRlIHVzZSBvZiBnbG1faW52c3FydCBoZXJlP1xuICAgICAgICBsZW4gPSAxIC8gTWF0aC5zcXJ0KGxlbik7XG4gICAgICAgIG91dFswXSA9IGFbMF0gKiBsZW47XG4gICAgICAgIG91dFsxXSA9IGFbMV0gKiBsZW47XG4gICAgfVxuICAgIHJldHVybiBvdXQ7XG59O1xuXG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIGRvdCBwcm9kdWN0IG9mIHR3byB2ZWMyJ3NcbiAqIEBzdGF0aWNcbiAqIEBtZXRob2QgZG90XG4gKiBAcGFyYW0ge0FycmF5fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge0FycmF5fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybiB7TnVtYmVyfSBkb3QgcHJvZHVjdCBvZiBhIGFuZCBiXG4gKi9cbnZlYzIuZG90ID0gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICByZXR1cm4gYVswXSAqIGJbMF0gKyBhWzFdICogYlsxXTtcbn07XG5cbi8qKlxuICogUmV0dXJucyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBhIHZlY3RvclxuICogQHN0YXRpY1xuICogQG1ldGhvZCBzdHJcbiAqIEBwYXJhbSB7QXJyYXl9IHZlYyB2ZWN0b3IgdG8gcmVwcmVzZW50IGFzIGEgc3RyaW5nXG4gKiBAcmV0dXJuIHtTdHJpbmd9IHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgdmVjdG9yXG4gKi9cbnZlYzIuc3RyID0gZnVuY3Rpb24gKGEpIHtcbiAgICByZXR1cm4gJ3ZlYzIoJyArIGFbMF0gKyAnLCAnICsgYVsxXSArICcpJztcbn07XG5cbi8qKlxuICogTGluZWFybHkgaW50ZXJwb2xhdGUvbWl4IHR3byB2ZWN0b3JzLlxuICogQHN0YXRpY1xuICogQG1ldGhvZCBsZXJwXG4gKiBAcGFyYW0ge0FycmF5fSBvdXRcbiAqIEBwYXJhbSB7QXJyYXl9IGEgRmlyc3QgdmVjdG9yXG4gKiBAcGFyYW0ge0FycmF5fSBiIFNlY29uZCB2ZWN0b3JcbiAqIEBwYXJhbSB7bnVtYmVyfSB0IExlcnAgZmFjdG9yXG4gKi9cbnZlYzIubGVycCA9IGZ1bmN0aW9uIChvdXQsIGEsIGIsIHQpIHtcbiAgICB2YXIgYXggPSBhWzBdLFxuICAgICAgICBheSA9IGFbMV07XG4gICAgb3V0WzBdID0gYXggKyB0ICogKGJbMF0gLSBheCk7XG4gICAgb3V0WzFdID0gYXkgKyB0ICogKGJbMV0gLSBheSk7XG4gICAgcmV0dXJuIG91dDtcbn07XG5cbi8qKlxuICogUmVmbGVjdCBhIHZlY3RvciBhbG9uZyBhIG5vcm1hbC5cbiAqIEBzdGF0aWNcbiAqIEBtZXRob2QgcmVmbGVjdFxuICogQHBhcmFtIHtBcnJheX0gb3V0XG4gKiBAcGFyYW0ge0FycmF5fSB2ZWN0b3JcbiAqIEBwYXJhbSB7QXJyYXl9IG5vcm1hbFxuICovXG52ZWMyLnJlZmxlY3QgPSBmdW5jdGlvbihvdXQsIHZlY3Rvciwgbm9ybWFsKXtcbiAgICB2YXIgZG90ID0gdmVjdG9yWzBdICogbm9ybWFsWzBdICsgdmVjdG9yWzFdICogbm9ybWFsWzFdO1xuICAgIG91dFswXSA9IHZlY3RvclswXSAtIDIgKiBub3JtYWxbMF0gKiBkb3Q7XG4gICAgb3V0WzFdID0gdmVjdG9yWzFdIC0gMiAqIG5vcm1hbFsxXSAqIGRvdDtcbn07XG5cbi8qKlxuICogR2V0IHRoZSBpbnRlcnNlY3Rpb24gcG9pbnQgYmV0d2VlbiB0d28gbGluZSBzZWdtZW50cy5cbiAqIEBzdGF0aWNcbiAqIEBtZXRob2QgZ2V0TGluZVNlZ21lbnRzSW50ZXJzZWN0aW9uXG4gKiBAcGFyYW0gIHtBcnJheX0gb3V0XG4gKiBAcGFyYW0gIHtBcnJheX0gcDBcbiAqIEBwYXJhbSAge0FycmF5fSBwMVxuICogQHBhcmFtICB7QXJyYXl9IHAyXG4gKiBAcGFyYW0gIHtBcnJheX0gcDNcbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlcmUgd2FzIGFuIGludGVyc2VjdGlvbiwgb3RoZXJ3aXNlIGZhbHNlLlxuICovXG52ZWMyLmdldExpbmVTZWdtZW50c0ludGVyc2VjdGlvbiA9IGZ1bmN0aW9uKG91dCwgcDAsIHAxLCBwMiwgcDMpIHtcbiAgICB2YXIgdCA9IHZlYzIuZ2V0TGluZVNlZ21lbnRzSW50ZXJzZWN0aW9uRnJhY3Rpb24ocDAsIHAxLCBwMiwgcDMpO1xuICAgIGlmKHQgPCAwKXtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIG91dFswXSA9IHAwWzBdICsgKHQgKiAocDFbMF0gLSBwMFswXSkpO1xuICAgICAgICBvdXRbMV0gPSBwMFsxXSArICh0ICogKHAxWzFdIC0gcDBbMV0pKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxufTtcblxuLyoqXG4gKiBHZXQgdGhlIGludGVyc2VjdGlvbiBmcmFjdGlvbiBiZXR3ZWVuIHR3byBsaW5lIHNlZ21lbnRzLiBJZiBzdWNjZXNzZnVsLCB0aGUgaW50ZXJzZWN0aW9uIGlzIGF0IHAwICsgdCAqIChwMSAtIHAwKVxuICogQHN0YXRpY1xuICogQG1ldGhvZCBnZXRMaW5lU2VnbWVudHNJbnRlcnNlY3Rpb25GcmFjdGlvblxuICogQHBhcmFtICB7QXJyYXl9IHAwXG4gKiBAcGFyYW0gIHtBcnJheX0gcDFcbiAqIEBwYXJhbSAge0FycmF5fSBwMlxuICogQHBhcmFtICB7QXJyYXl9IHAzXG4gKiBAcmV0dXJuIHtudW1iZXJ9IEEgbnVtYmVyIGJldHdlZW4gMCBhbmQgMSBpZiB0aGVyZSB3YXMgYW4gaW50ZXJzZWN0aW9uLCBvdGhlcndpc2UgLTEuXG4gKi9cbnZlYzIuZ2V0TGluZVNlZ21lbnRzSW50ZXJzZWN0aW9uRnJhY3Rpb24gPSBmdW5jdGlvbihwMCwgcDEsIHAyLCBwMykge1xuICAgIHZhciBzMV94ID0gcDFbMF0gLSBwMFswXTtcbiAgICB2YXIgczFfeSA9IHAxWzFdIC0gcDBbMV07XG4gICAgdmFyIHMyX3ggPSBwM1swXSAtIHAyWzBdO1xuICAgIHZhciBzMl95ID0gcDNbMV0gLSBwMlsxXTtcblxuICAgIHZhciBzLCB0O1xuICAgIHMgPSAoLXMxX3kgKiAocDBbMF0gLSBwMlswXSkgKyBzMV94ICogKHAwWzFdIC0gcDJbMV0pKSAvICgtczJfeCAqIHMxX3kgKyBzMV94ICogczJfeSk7XG4gICAgdCA9ICggczJfeCAqIChwMFsxXSAtIHAyWzFdKSAtIHMyX3kgKiAocDBbMF0gLSBwMlswXSkpIC8gKC1zMl94ICogczFfeSArIHMxX3ggKiBzMl95KTtcbiAgICBpZiAocyA+PSAwICYmIHMgPD0gMSAmJiB0ID49IDAgJiYgdCA8PSAxKSB7IC8vIENvbGxpc2lvbiBkZXRlY3RlZFxuICAgICAgICByZXR1cm4gdDtcbiAgICB9XG4gICAgcmV0dXJuIC0xOyAvLyBObyBjb2xsaXNpb25cbn07XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9wMi9zcmMvbWF0aC92ZWMyLmpzXG4gKiogbW9kdWxlIGlkID0gMVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLyogZ2xvYmFsIFAyX0FSUkFZX1RZUEUgKi9cblxubW9kdWxlLmV4cG9ydHMgPSBVdGlscztcblxuLyoqXG4gKiBNaXNjIHV0aWxpdHkgZnVuY3Rpb25zXG4gKiBAY2xhc3MgVXRpbHNcbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBVdGlscygpe31cblxuLyoqXG4gKiBBcHBlbmQgdGhlIHZhbHVlcyBpbiBhcnJheSBiIHRvIHRoZSBhcnJheSBhLiBTZWUgPGEgaHJlZj1cImh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTM3NDEyNi9ob3ctdG8tYXBwZW5kLWFuLWFycmF5LXRvLWFuLWV4aXN0aW5nLWphdmFzY3JpcHQtYXJyYXkvMTM3NDEzMSMxMzc0MTMxXCI+dGhpczwvYT4gZm9yIGFuIGV4cGxhbmF0aW9uLlxuICogQG1ldGhvZCBhcHBlbmRBcnJheVxuICogQHN0YXRpY1xuICogQHBhcmFtICB7QXJyYXl9IGFcbiAqIEBwYXJhbSAge0FycmF5fSBiXG4gKi9cblV0aWxzLmFwcGVuZEFycmF5ID0gZnVuY3Rpb24oYSxiKXtcbiAgICBpZiAoYi5sZW5ndGggPCAxNTAwMDApIHtcbiAgICAgICAgYS5wdXNoLmFwcGx5KGEsIGIpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBiLmxlbmd0aDsgaSAhPT0gbGVuOyArK2kpIHtcbiAgICAgICAgICAgIGEucHVzaChiW2ldKTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5cbi8qKlxuICogR2FyYmFnZSBmcmVlIEFycmF5LnNwbGljZSgpLiBEb2VzIG5vdCBhbGxvY2F0ZSBhIG5ldyBhcnJheS5cbiAqIEBtZXRob2Qgc3BsaWNlXG4gKiBAc3RhdGljXG4gKiBAcGFyYW0gIHtBcnJheX0gYXJyYXlcbiAqIEBwYXJhbSAge051bWJlcn0gaW5kZXhcbiAqIEBwYXJhbSAge051bWJlcn0gaG93bWFueVxuICovXG5VdGlscy5zcGxpY2UgPSBmdW5jdGlvbihhcnJheSxpbmRleCxob3dtYW55KXtcbiAgICBob3dtYW55ID0gaG93bWFueSB8fCAxO1xuICAgIGZvciAodmFyIGk9aW5kZXgsIGxlbj1hcnJheS5sZW5ndGgtaG93bWFueTsgaSA8IGxlbjsgaSsrKXtcbiAgICAgICAgYXJyYXlbaV0gPSBhcnJheVtpICsgaG93bWFueV07XG4gICAgfVxuICAgIGFycmF5Lmxlbmd0aCA9IGxlbjtcbn07XG5cbi8qKlxuICogVGhlIGFycmF5IHR5cGUgdG8gdXNlIGZvciBpbnRlcm5hbCBudW1lcmljIGNvbXB1dGF0aW9ucyB0aHJvdWdob3V0IHRoZSBsaWJyYXJ5LiBGbG9hdDMyQXJyYXkgaXMgdXNlZCBpZiBpdCBpcyBhdmFpbGFibGUsIGJ1dCBmYWxscyBiYWNrIG9uIEFycmF5LiBJZiB5b3Ugd2FudCB0byBzZXQgYXJyYXkgdHlwZSBtYW51YWxseSwgaW5qZWN0IGl0IHZpYSB0aGUgZ2xvYmFsIHZhcmlhYmxlIFAyX0FSUkFZX1RZUEUuIFNlZSBleGFtcGxlIGJlbG93LlxuICogQHN0YXRpY1xuICogQHByb3BlcnR5IHtmdW5jdGlvbn0gQVJSQVlfVFlQRVxuICogQGV4YW1wbGVcbiAqICAgICA8c2NyaXB0PlxuICogICAgICAgICA8IS0tIEluamVjdCB5b3VyIHByZWZlcnJlZCBhcnJheSB0eXBlIGJlZm9yZSBsb2FkaW5nIHAyLmpzIC0tPlxuICogICAgICAgICBQMl9BUlJBWV9UWVBFID0gQXJyYXk7XG4gKiAgICAgPC9zY3JpcHQ+XG4gKiAgICAgPHNjcmlwdCBzcmM9XCJwMi5qc1wiPjwvc2NyaXB0PlxuICovXG5pZih0eXBlb2YgUDJfQVJSQVlfVFlQRSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBVdGlscy5BUlJBWV9UWVBFID0gUDJfQVJSQVlfVFlQRTtcbn0gZWxzZSBpZiAodHlwZW9mIEZsb2F0MzJBcnJheSAhPT0gJ3VuZGVmaW5lZCcpe1xuICAgIFV0aWxzLkFSUkFZX1RZUEUgPSBGbG9hdDMyQXJyYXk7XG59IGVsc2Uge1xuICAgIFV0aWxzLkFSUkFZX1RZUEUgPSBBcnJheTtcbn1cblxuLyoqXG4gKiBFeHRlbmQgYW4gb2JqZWN0IHdpdGggdGhlIHByb3BlcnRpZXMgb2YgYW5vdGhlclxuICogQHN0YXRpY1xuICogQG1ldGhvZCBleHRlbmRcbiAqIEBwYXJhbSAge29iamVjdH0gYVxuICogQHBhcmFtICB7b2JqZWN0fSBiXG4gKi9cblV0aWxzLmV4dGVuZCA9IGZ1bmN0aW9uKGEsYil7XG4gICAgZm9yKHZhciBrZXkgaW4gYil7XG4gICAgICAgIGFba2V5XSA9IGJba2V5XTtcbiAgICB9XG59O1xuXG4vKipcbiAqIEV4dGVuZCBhbiBvcHRpb25zIG9iamVjdCB3aXRoIGRlZmF1bHQgdmFsdWVzLlxuICogQHN0YXRpY1xuICogQG1ldGhvZCBkZWZhdWx0c1xuICogQHBhcmFtICB7b2JqZWN0fSBvcHRpb25zIFRoZSBvcHRpb25zIG9iamVjdC4gTWF5IGJlIGZhbHN5OiBpbiB0aGlzIGNhc2UsIGEgbmV3IG9iamVjdCBpcyBjcmVhdGVkIGFuZCByZXR1cm5lZC5cbiAqIEBwYXJhbSAge29iamVjdH0gZGVmYXVsdHMgQW4gb2JqZWN0IGNvbnRhaW5pbmcgZGVmYXVsdCB2YWx1ZXMuXG4gKiBAcmV0dXJuIHtvYmplY3R9IFRoZSBtb2RpZmllZCBvcHRpb25zIG9iamVjdC5cbiAqL1xuVXRpbHMuZGVmYXVsdHMgPSBmdW5jdGlvbihvcHRpb25zLCBkZWZhdWx0cyl7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgZm9yKHZhciBrZXkgaW4gZGVmYXVsdHMpe1xuICAgICAgICBpZighKGtleSBpbiBvcHRpb25zKSl7XG4gICAgICAgICAgICBvcHRpb25zW2tleV0gPSBkZWZhdWx0c1trZXldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvcHRpb25zO1xufTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3AyL3NyYy91dGlscy9VdGlscy5qc1xuICoqIG1vZHVsZSBpZCA9IDJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0gRXF1YXRpb247XG5cbnZhciB2ZWMyID0gcmVxdWlyZSgnLi4vbWF0aC92ZWMyJyksXG4gICAgVXRpbHMgPSByZXF1aXJlKCcuLi91dGlscy9VdGlscycpLFxuICAgIEJvZHkgPSByZXF1aXJlKCcuLi9vYmplY3RzL0JvZHknKTtcblxuLyoqXG4gKiBCYXNlIGNsYXNzIGZvciBjb25zdHJhaW50IGVxdWF0aW9ucy5cbiAqIEBjbGFzcyBFcXVhdGlvblxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0JvZHl9IGJvZHlBIEZpcnN0IGJvZHkgcGFydGljaXBhdGluZyBpbiB0aGUgZXF1YXRpb25cbiAqIEBwYXJhbSB7Qm9keX0gYm9keUIgU2Vjb25kIGJvZHkgcGFydGljaXBhdGluZyBpbiB0aGUgZXF1YXRpb25cbiAqIEBwYXJhbSB7bnVtYmVyfSBtaW5Gb3JjZSBNaW5pbXVtIGZvcmNlIHRvIGFwcGx5LiBEZWZhdWx0OiAtTnVtYmVyLk1BWF9WQUxVRVxuICogQHBhcmFtIHtudW1iZXJ9IG1heEZvcmNlIE1heGltdW0gZm9yY2UgdG8gYXBwbHkuIERlZmF1bHQ6IE51bWJlci5NQVhfVkFMVUVcbiAqL1xuZnVuY3Rpb24gRXF1YXRpb24oYm9keUEsIGJvZHlCLCBtaW5Gb3JjZSwgbWF4Rm9yY2Upe1xuXG4gICAgLyoqXG4gICAgICogTWluaW11bSBmb3JjZSB0byBhcHBseSB3aGVuIHNvbHZpbmcuXG4gICAgICogQHByb3BlcnR5IG1pbkZvcmNlXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLm1pbkZvcmNlID0gdHlwZW9mKG1pbkZvcmNlKT09PVwidW5kZWZpbmVkXCIgPyAtTnVtYmVyLk1BWF9WQUxVRSA6IG1pbkZvcmNlO1xuXG4gICAgLyoqXG4gICAgICogTWF4IGZvcmNlIHRvIGFwcGx5IHdoZW4gc29sdmluZy5cbiAgICAgKiBAcHJvcGVydHkgbWF4Rm9yY2VcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMubWF4Rm9yY2UgPSB0eXBlb2YobWF4Rm9yY2UpPT09XCJ1bmRlZmluZWRcIiA/IE51bWJlci5NQVhfVkFMVUUgOiBtYXhGb3JjZTtcblxuICAgIC8qKlxuICAgICAqIEZpcnN0IGJvZHkgcGFydGljaXBhdGluZyBpbiB0aGUgY29uc3RyYWludFxuICAgICAqIEBwcm9wZXJ0eSBib2R5QVxuICAgICAqIEB0eXBlIHtCb2R5fVxuICAgICAqL1xuICAgIHRoaXMuYm9keUEgPSBib2R5QTtcblxuICAgIC8qKlxuICAgICAqIFNlY29uZCBib2R5IHBhcnRpY2lwYXRpbmcgaW4gdGhlIGNvbnN0cmFpbnRcbiAgICAgKiBAcHJvcGVydHkgYm9keUJcbiAgICAgKiBAdHlwZSB7Qm9keX1cbiAgICAgKi9cbiAgICB0aGlzLmJvZHlCID0gYm9keUI7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgc3RpZmZuZXNzIG9mIHRoaXMgZXF1YXRpb24uIFR5cGljYWxseSBjaG9zZW4gdG8gYSBsYXJnZSBudW1iZXIgKH4xZTcpLCBidXQgY2FuIGJlIGNob3NlbiBzb21ld2hhdCBmcmVlbHkgdG8gZ2V0IGEgc3RhYmxlIHNpbXVsYXRpb24uXG4gICAgICogQHByb3BlcnR5IHN0aWZmbmVzc1xuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5zdGlmZm5lc3MgPSBFcXVhdGlvbi5ERUZBVUxUX1NUSUZGTkVTUztcblxuICAgIC8qKlxuICAgICAqIFRoZSBudW1iZXIgb2YgdGltZSBzdGVwcyBuZWVkZWQgdG8gc3RhYmlsaXplIHRoZSBjb25zdHJhaW50IGVxdWF0aW9uLiBUeXBpY2FsbHkgYmV0d2VlbiAzIGFuZCA1IHRpbWUgc3RlcHMuXG4gICAgICogQHByb3BlcnR5IHJlbGF4YXRpb25cbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMucmVsYXhhdGlvbiA9IEVxdWF0aW9uLkRFRkFVTFRfUkVMQVhBVElPTjtcblxuICAgIC8qKlxuICAgICAqIFRoZSBKYWNvYmlhbiBlbnRyeSBvZiB0aGlzIGVxdWF0aW9uLiA2IG51bWJlcnMsIDMgcGVyIGJvZHkgKHgseSxhbmdsZSkuXG4gICAgICogQHByb3BlcnR5IEdcbiAgICAgKiBAdHlwZSB7QXJyYXl9XG4gICAgICovXG4gICAgdGhpcy5HID0gbmV3IFV0aWxzLkFSUkFZX1RZUEUoNik7XG4gICAgZm9yKHZhciBpPTA7IGk8NjsgaSsrKXtcbiAgICAgICAgdGhpcy5HW2ldPTA7XG4gICAgfVxuXG4gICAgdGhpcy5vZmZzZXQgPSAwO1xuXG4gICAgdGhpcy5hID0gMDtcbiAgICB0aGlzLmIgPSAwO1xuICAgIHRoaXMuZXBzaWxvbiA9IDA7XG4gICAgdGhpcy50aW1lU3RlcCA9IDEvNjA7XG5cbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgaWYgc3RpZmZuZXNzIG9yIHJlbGF4YXRpb24gd2FzIGNoYW5nZWQuXG4gICAgICogQHByb3BlcnR5IHtCb29sZWFufSBuZWVkc1VwZGF0ZVxuICAgICAqL1xuICAgIHRoaXMubmVlZHNVcGRhdGUgPSB0cnVlO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHJlc3VsdGluZyBjb25zdHJhaW50IG11bHRpcGxpZXIgZnJvbSB0aGUgbGFzdCBzb2x2ZS4gVGhpcyBpcyBtb3N0bHkgZXF1aXZhbGVudCB0byB0aGUgZm9yY2UgcHJvZHVjZWQgYnkgdGhlIGNvbnN0cmFpbnQuXG4gICAgICogQHByb3BlcnR5IG11bHRpcGxpZXJcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMubXVsdGlwbGllciA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBSZWxhdGl2ZSB2ZWxvY2l0eS5cbiAgICAgKiBAcHJvcGVydHkge051bWJlcn0gcmVsYXRpdmVWZWxvY2l0eVxuICAgICAqL1xuICAgIHRoaXMucmVsYXRpdmVWZWxvY2l0eSA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoaXMgZXF1YXRpb24gaXMgZW5hYmxlZCBvciBub3QuIElmIHRydWUsIGl0IHdpbGwgYmUgYWRkZWQgdG8gdGhlIHNvbHZlci5cbiAgICAgKiBAcHJvcGVydHkge0Jvb2xlYW59IGVuYWJsZWRcbiAgICAgKi9cbiAgICB0aGlzLmVuYWJsZWQgPSB0cnVlO1xufVxuRXF1YXRpb24ucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gRXF1YXRpb247XG5cbi8qKlxuICogVGhlIGRlZmF1bHQgc3RpZmZuZXNzIHdoZW4gY3JlYXRpbmcgYSBuZXcgRXF1YXRpb24uXG4gKiBAc3RhdGljXG4gKiBAcHJvcGVydHkge051bWJlcn0gREVGQVVMVF9TVElGRk5FU1NcbiAqIEBkZWZhdWx0IDFlNlxuICovXG5FcXVhdGlvbi5ERUZBVUxUX1NUSUZGTkVTUyA9IDFlNjtcblxuLyoqXG4gKiBUaGUgZGVmYXVsdCByZWxheGF0aW9uIHdoZW4gY3JlYXRpbmcgYSBuZXcgRXF1YXRpb24uXG4gKiBAc3RhdGljXG4gKiBAcHJvcGVydHkge051bWJlcn0gREVGQVVMVF9SRUxBWEFUSU9OXG4gKiBAZGVmYXVsdCA0XG4gKi9cbkVxdWF0aW9uLkRFRkFVTFRfUkVMQVhBVElPTiA9IDQ7XG5cbi8qKlxuICogQ29tcHV0ZSBTUE9PSyBwYXJhbWV0ZXJzIC5hLCAuYiBhbmQgLmVwc2lsb24gYWNjb3JkaW5nIHRvIHRoZSBjdXJyZW50IHBhcmFtZXRlcnMuIFNlZSBlcXVhdGlvbnMgOSwgMTAgYW5kIDExIGluIHRoZSA8YSBocmVmPVwiaHR0cDovL3d3dzguY3MudW11LnNlL2t1cnNlci81RFYwNTgvVlQwOS9sZWN0dXJlcy9zcG9va25vdGVzLnBkZlwiPlNQT09LIG5vdGVzPC9hPi5cbiAqIEBtZXRob2QgdXBkYXRlXG4gKi9cbkVxdWF0aW9uLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbigpe1xuICAgIHZhciBrID0gdGhpcy5zdGlmZm5lc3MsXG4gICAgICAgIGQgPSB0aGlzLnJlbGF4YXRpb24sXG4gICAgICAgIGggPSB0aGlzLnRpbWVTdGVwO1xuXG4gICAgdGhpcy5hID0gNC4wIC8gKGggKiAoMSArIDQgKiBkKSk7XG4gICAgdGhpcy5iID0gKDQuMCAqIGQpIC8gKDEgKyA0ICogZCk7XG4gICAgdGhpcy5lcHNpbG9uID0gNC4wIC8gKGggKiBoICogayAqICgxICsgNCAqIGQpKTtcblxuICAgIHRoaXMubmVlZHNVcGRhdGUgPSBmYWxzZTtcbn07XG5cbi8qKlxuICogTXVsdGlwbHkgYSBqYWNvYmlhbiBlbnRyeSB3aXRoIGNvcnJlc3BvbmRpbmcgcG9zaXRpb25zIG9yIHZlbG9jaXRpZXNcbiAqIEBtZXRob2QgZ211bHRcbiAqIEByZXR1cm4ge051bWJlcn1cbiAqL1xuRXF1YXRpb24ucHJvdG90eXBlLmdtdWx0ID0gZnVuY3Rpb24oRyx2aSx3aSx2aix3ail7XG4gICAgcmV0dXJuICBHWzBdICogdmlbMF0gK1xuICAgICAgICAgICAgR1sxXSAqIHZpWzFdICtcbiAgICAgICAgICAgIEdbMl0gKiB3aSArXG4gICAgICAgICAgICBHWzNdICogdmpbMF0gK1xuICAgICAgICAgICAgR1s0XSAqIHZqWzFdICtcbiAgICAgICAgICAgIEdbNV0gKiB3ajtcbn07XG5cbi8qKlxuICogQ29tcHV0ZXMgdGhlIFJIUyBvZiB0aGUgU1BPT0sgZXF1YXRpb25cbiAqIEBtZXRob2QgY29tcHV0ZUJcbiAqIEByZXR1cm4ge051bWJlcn1cbiAqL1xuRXF1YXRpb24ucHJvdG90eXBlLmNvbXB1dGVCID0gZnVuY3Rpb24oYSxiLGgpe1xuICAgIHZhciBHVyA9IHRoaXMuY29tcHV0ZUdXKCk7XG4gICAgdmFyIEdxID0gdGhpcy5jb21wdXRlR3EoKTtcbiAgICB2YXIgR2lNZiA9IHRoaXMuY29tcHV0ZUdpTWYoKTtcbiAgICByZXR1cm4gLSBHcSAqIGEgLSBHVyAqIGIgLSBHaU1mKmg7XG59O1xuXG4vKipcbiAqIENvbXB1dGVzIEdcXCpxLCB3aGVyZSBxIGFyZSB0aGUgZ2VuZXJhbGl6ZWQgYm9keSBjb29yZGluYXRlc1xuICogQG1ldGhvZCBjb21wdXRlR3FcbiAqIEByZXR1cm4ge051bWJlcn1cbiAqL1xudmFyIHFpID0gdmVjMi5jcmVhdGUoKSxcbiAgICBxaiA9IHZlYzIuY3JlYXRlKCk7XG5FcXVhdGlvbi5wcm90b3R5cGUuY29tcHV0ZUdxID0gZnVuY3Rpb24oKXtcbiAgICB2YXIgRyA9IHRoaXMuRyxcbiAgICAgICAgYmkgPSB0aGlzLmJvZHlBLFxuICAgICAgICBiaiA9IHRoaXMuYm9keUIsXG4gICAgICAgIHhpID0gYmkucG9zaXRpb24sXG4gICAgICAgIHhqID0gYmoucG9zaXRpb24sXG4gICAgICAgIGFpID0gYmkuYW5nbGUsXG4gICAgICAgIGFqID0gYmouYW5nbGU7XG5cbiAgICByZXR1cm4gdGhpcy5nbXVsdChHLCBxaSwgYWksIHFqLCBhaikgKyB0aGlzLm9mZnNldDtcbn07XG5cbi8qKlxuICogQ29tcHV0ZXMgR1xcKlcsIHdoZXJlIFcgYXJlIHRoZSBib2R5IHZlbG9jaXRpZXNcbiAqIEBtZXRob2QgY29tcHV0ZUdXXG4gKiBAcmV0dXJuIHtOdW1iZXJ9XG4gKi9cbkVxdWF0aW9uLnByb3RvdHlwZS5jb21wdXRlR1cgPSBmdW5jdGlvbigpe1xuICAgIHZhciBHID0gdGhpcy5HLFxuICAgICAgICBiaSA9IHRoaXMuYm9keUEsXG4gICAgICAgIGJqID0gdGhpcy5ib2R5QixcbiAgICAgICAgdmkgPSBiaS52ZWxvY2l0eSxcbiAgICAgICAgdmogPSBiai52ZWxvY2l0eSxcbiAgICAgICAgd2kgPSBiaS5hbmd1bGFyVmVsb2NpdHksXG4gICAgICAgIHdqID0gYmouYW5ndWxhclZlbG9jaXR5O1xuICAgIHJldHVybiB0aGlzLmdtdWx0KEcsdmksd2ksdmosd2opICsgdGhpcy5yZWxhdGl2ZVZlbG9jaXR5O1xufTtcblxuLyoqXG4gKiBDb21wdXRlcyBHXFwqV2xhbWJkYSwgd2hlcmUgVyBhcmUgdGhlIGJvZHkgdmVsb2NpdGllc1xuICogQG1ldGhvZCBjb21wdXRlR1dsYW1iZGFcbiAqIEByZXR1cm4ge051bWJlcn1cbiAqL1xuRXF1YXRpb24ucHJvdG90eXBlLmNvbXB1dGVHV2xhbWJkYSA9IGZ1bmN0aW9uKCl7XG4gICAgdmFyIEcgPSB0aGlzLkcsXG4gICAgICAgIGJpID0gdGhpcy5ib2R5QSxcbiAgICAgICAgYmogPSB0aGlzLmJvZHlCLFxuICAgICAgICB2aSA9IGJpLnZsYW1iZGEsXG4gICAgICAgIHZqID0gYmoudmxhbWJkYSxcbiAgICAgICAgd2kgPSBiaS53bGFtYmRhLFxuICAgICAgICB3aiA9IGJqLndsYW1iZGE7XG4gICAgcmV0dXJuIHRoaXMuZ211bHQoRyx2aSx3aSx2aix3aik7XG59O1xuXG4vKipcbiAqIENvbXB1dGVzIEdcXCppbnYoTSlcXCpmLCB3aGVyZSBNIGlzIHRoZSBtYXNzIG1hdHJpeCB3aXRoIGRpYWdvbmFsIGJsb2NrcyBmb3IgZWFjaCBib2R5LCBhbmQgZiBhcmUgdGhlIGZvcmNlcyBvbiB0aGUgYm9kaWVzLlxuICogQG1ldGhvZCBjb21wdXRlR2lNZlxuICogQHJldHVybiB7TnVtYmVyfVxuICovXG52YXIgaU1maSA9IHZlYzIuY3JlYXRlKCksXG4gICAgaU1maiA9IHZlYzIuY3JlYXRlKCk7XG5FcXVhdGlvbi5wcm90b3R5cGUuY29tcHV0ZUdpTWYgPSBmdW5jdGlvbigpe1xuICAgIHZhciBiaSA9IHRoaXMuYm9keUEsXG4gICAgICAgIGJqID0gdGhpcy5ib2R5QixcbiAgICAgICAgZmkgPSBiaS5mb3JjZSxcbiAgICAgICAgdGkgPSBiaS5hbmd1bGFyRm9yY2UsXG4gICAgICAgIGZqID0gYmouZm9yY2UsXG4gICAgICAgIHRqID0gYmouYW5ndWxhckZvcmNlLFxuICAgICAgICBpbnZNYXNzaSA9IGJpLmludk1hc3NTb2x2ZSxcbiAgICAgICAgaW52TWFzc2ogPSBiai5pbnZNYXNzU29sdmUsXG4gICAgICAgIGludklpID0gYmkuaW52SW5lcnRpYVNvbHZlLFxuICAgICAgICBpbnZJaiA9IGJqLmludkluZXJ0aWFTb2x2ZSxcbiAgICAgICAgRyA9IHRoaXMuRztcblxuICAgIHZlYzIuc2NhbGUoaU1maSwgZmksIGludk1hc3NpKTtcbiAgICB2ZWMyLm11bHRpcGx5KGlNZmksIGJpLm1hc3NNdWx0aXBsaWVyLCBpTWZpKTtcbiAgICB2ZWMyLnNjYWxlKGlNZmosIGZqLGludk1hc3NqKTtcbiAgICB2ZWMyLm11bHRpcGx5KGlNZmosIGJqLm1hc3NNdWx0aXBsaWVyLCBpTWZqKTtcblxuICAgIHJldHVybiB0aGlzLmdtdWx0KEcsaU1maSx0aSppbnZJaSxpTWZqLHRqKmludklqKTtcbn07XG5cbi8qKlxuICogQ29tcHV0ZXMgR1xcKmludihNKVxcKkcnXG4gKiBAbWV0aG9kIGNvbXB1dGVHaU1HdFxuICogQHJldHVybiB7TnVtYmVyfVxuICovXG5FcXVhdGlvbi5wcm90b3R5cGUuY29tcHV0ZUdpTUd0ID0gZnVuY3Rpb24oKXtcbiAgICB2YXIgYmkgPSB0aGlzLmJvZHlBLFxuICAgICAgICBiaiA9IHRoaXMuYm9keUIsXG4gICAgICAgIGludk1hc3NpID0gYmkuaW52TWFzc1NvbHZlLFxuICAgICAgICBpbnZNYXNzaiA9IGJqLmludk1hc3NTb2x2ZSxcbiAgICAgICAgaW52SWkgPSBiaS5pbnZJbmVydGlhU29sdmUsXG4gICAgICAgIGludklqID0gYmouaW52SW5lcnRpYVNvbHZlLFxuICAgICAgICBHID0gdGhpcy5HO1xuXG4gICAgcmV0dXJuICBHWzBdICogR1swXSAqIGludk1hc3NpICogYmkubWFzc011bHRpcGxpZXJbMF0gK1xuICAgICAgICAgICAgR1sxXSAqIEdbMV0gKiBpbnZNYXNzaSAqIGJpLm1hc3NNdWx0aXBsaWVyWzFdICtcbiAgICAgICAgICAgIEdbMl0gKiBHWzJdICogICAgaW52SWkgK1xuICAgICAgICAgICAgR1szXSAqIEdbM10gKiBpbnZNYXNzaiAqIGJqLm1hc3NNdWx0aXBsaWVyWzBdICtcbiAgICAgICAgICAgIEdbNF0gKiBHWzRdICogaW52TWFzc2ogKiBiai5tYXNzTXVsdGlwbGllclsxXSArXG4gICAgICAgICAgICBHWzVdICogR1s1XSAqICAgIGludklqO1xufTtcblxudmFyIGFkZFRvV2xhbWJkYV90ZW1wID0gdmVjMi5jcmVhdGUoKSxcbiAgICBhZGRUb1dsYW1iZGFfR2kgPSB2ZWMyLmNyZWF0ZSgpLFxuICAgIGFkZFRvV2xhbWJkYV9HaiA9IHZlYzIuY3JlYXRlKCksXG4gICAgYWRkVG9XbGFtYmRhX3JpID0gdmVjMi5jcmVhdGUoKSxcbiAgICBhZGRUb1dsYW1iZGFfcmogPSB2ZWMyLmNyZWF0ZSgpLFxuICAgIGFkZFRvV2xhbWJkYV9NZGlhZyA9IHZlYzIuY3JlYXRlKCk7XG5cbi8qKlxuICogQWRkIGNvbnN0cmFpbnQgdmVsb2NpdHkgdG8gdGhlIGJvZGllcy5cbiAqIEBtZXRob2QgYWRkVG9XbGFtYmRhXG4gKiBAcGFyYW0ge051bWJlcn0gZGVsdGFsYW1iZGFcbiAqL1xuRXF1YXRpb24ucHJvdG90eXBlLmFkZFRvV2xhbWJkYSA9IGZ1bmN0aW9uKGRlbHRhbGFtYmRhKXtcbiAgICB2YXIgYmkgPSB0aGlzLmJvZHlBLFxuICAgICAgICBiaiA9IHRoaXMuYm9keUIsXG4gICAgICAgIHRlbXAgPSBhZGRUb1dsYW1iZGFfdGVtcCxcbiAgICAgICAgR2kgPSBhZGRUb1dsYW1iZGFfR2ksXG4gICAgICAgIEdqID0gYWRkVG9XbGFtYmRhX0dqLFxuICAgICAgICByaSA9IGFkZFRvV2xhbWJkYV9yaSxcbiAgICAgICAgcmogPSBhZGRUb1dsYW1iZGFfcmosXG4gICAgICAgIGludk1hc3NpID0gYmkuaW52TWFzc1NvbHZlLFxuICAgICAgICBpbnZNYXNzaiA9IGJqLmludk1hc3NTb2x2ZSxcbiAgICAgICAgaW52SWkgPSBiaS5pbnZJbmVydGlhU29sdmUsXG4gICAgICAgIGludklqID0gYmouaW52SW5lcnRpYVNvbHZlLFxuICAgICAgICBNZGlhZyA9IGFkZFRvV2xhbWJkYV9NZGlhZyxcbiAgICAgICAgRyA9IHRoaXMuRztcblxuICAgIEdpWzBdID0gR1swXTtcbiAgICBHaVsxXSA9IEdbMV07XG4gICAgR2pbMF0gPSBHWzNdO1xuICAgIEdqWzFdID0gR1s0XTtcblxuICAgIC8vIEFkZCB0byBsaW5lYXIgdmVsb2NpdHlcbiAgICAvLyB2X2xhbWJkYSArPSBpbnYoTSkgKiBkZWx0YV9sYW1iYSAqIEdcbiAgICB2ZWMyLnNjYWxlKHRlbXAsIEdpLCBpbnZNYXNzaSpkZWx0YWxhbWJkYSk7XG4gICAgdmVjMi5tdWx0aXBseSh0ZW1wLCB0ZW1wLCBiaS5tYXNzTXVsdGlwbGllcik7XG4gICAgdmVjMi5hZGQoIGJpLnZsYW1iZGEsIGJpLnZsYW1iZGEsIHRlbXApO1xuICAgIC8vIFRoaXMgaW1wdWxzZSBpcyBpbiB0aGUgb2Zmc2V0IGZyYW1lXG4gICAgLy8gQWxzbyBhZGQgY29udHJpYnV0aW9uIHRvIGFuZ3VsYXJcbiAgICAvL2JpLndsYW1iZGEgLT0gdmVjMi5jcm9zc0xlbmd0aCh0ZW1wLHJpKTtcbiAgICBiaS53bGFtYmRhICs9IGludklpICogR1syXSAqIGRlbHRhbGFtYmRhO1xuXG5cbiAgICB2ZWMyLnNjYWxlKHRlbXAsIEdqLCBpbnZNYXNzaipkZWx0YWxhbWJkYSk7XG4gICAgdmVjMi5tdWx0aXBseSh0ZW1wLCB0ZW1wLCBiai5tYXNzTXVsdGlwbGllcik7XG4gICAgdmVjMi5hZGQoIGJqLnZsYW1iZGEsIGJqLnZsYW1iZGEsIHRlbXApO1xuICAgIC8vYmoud2xhbWJkYSAtPSB2ZWMyLmNyb3NzTGVuZ3RoKHRlbXAscmopO1xuICAgIGJqLndsYW1iZGEgKz0gaW52SWogKiBHWzVdICogZGVsdGFsYW1iZGE7XG59O1xuXG4vKipcbiAqIENvbXB1dGUgdGhlIGRlbm9taW5hdG9yIHBhcnQgb2YgdGhlIFNQT09LIGVxdWF0aW9uOiBDID0gR1xcKmludihNKVxcKkcnICsgZXBzXG4gKiBAbWV0aG9kIGNvbXB1dGVJbnZDXG4gKiBAcGFyYW0gIHtOdW1iZXJ9IGVwc1xuICogQHJldHVybiB7TnVtYmVyfVxuICovXG5FcXVhdGlvbi5wcm90b3R5cGUuY29tcHV0ZUludkMgPSBmdW5jdGlvbihlcHMpe1xuICAgIHJldHVybiAxLjAgLyAodGhpcy5jb21wdXRlR2lNR3QoKSArIGVwcyk7XG59O1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcDIvc3JjL2VxdWF0aW9ucy9FcXVhdGlvbi5qc1xuICoqIG1vZHVsZSBpZCA9IDNcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0gU2hhcGU7XG5cbnZhciB2ZWMyID0gcmVxdWlyZSgnLi4vbWF0aC92ZWMyJyk7XG5cbi8qKlxuICogQmFzZSBjbGFzcyBmb3Igc2hhcGVzLlxuICogQGNsYXNzIFNoYXBlXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc11cbiAqIEBwYXJhbSB7YXJyYXl9IFtvcHRpb25zLnBvc2l0aW9uXVxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmFuZ2xlPTBdXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuY29sbGlzaW9uR3JvdXA9MV1cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5jb2xsaXNpb25NYXNrPTFdXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnNlbnNvcj1mYWxzZV1cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY29sbGlzaW9uUmVzcG9uc2U9dHJ1ZV1cbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9ucy50eXBlPTBdXG4gKi9cbmZ1bmN0aW9uIFNoYXBlKG9wdGlvbnMpe1xuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGJvZHkgdGhpcyBzaGFwZSBpcyBhdHRhY2hlZCB0by4gQSBzaGFwZSBjYW4gb25seSBiZSBhdHRhY2hlZCB0byBhIHNpbmdsZSBib2R5LlxuICAgICAqIEBwcm9wZXJ0eSB7Qm9keX0gYm9keVxuICAgICAqL1xuICAgIHRoaXMuYm9keSA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBCb2R5LWxvY2FsIHBvc2l0aW9uIG9mIHRoZSBzaGFwZS5cbiAgICAgKiBAcHJvcGVydHkge0FycmF5fSBwb3NpdGlvblxuICAgICAqL1xuICAgIHRoaXMucG9zaXRpb24gPSB2ZWMyLmZyb21WYWx1ZXMoMCwwKTtcbiAgICBpZihvcHRpb25zLnBvc2l0aW9uKXtcbiAgICAgICAgdmVjMi5jb3B5KHRoaXMucG9zaXRpb24sIG9wdGlvbnMucG9zaXRpb24pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEJvZHktbG9jYWwgYW5nbGUgb2YgdGhlIHNoYXBlLlxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBhbmdsZVxuICAgICAqL1xuICAgIHRoaXMuYW5nbGUgPSBvcHRpb25zLmFuZ2xlIHx8IDA7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdHlwZSBvZiB0aGUgc2hhcGUuIE9uZSBvZjpcbiAgICAgKlxuICAgICAqICoge3sjY3Jvc3NMaW5rIFwiU2hhcGUvQ0lSQ0xFOnByb3BlcnR5XCJ9fVNoYXBlLkNJUkNMRXt7L2Nyb3NzTGlua319XG4gICAgICogKiB7eyNjcm9zc0xpbmsgXCJTaGFwZS9QQVJUSUNMRTpwcm9wZXJ0eVwifX1TaGFwZS5QQVJUSUNMRXt7L2Nyb3NzTGlua319XG4gICAgICogKiB7eyNjcm9zc0xpbmsgXCJTaGFwZS9QTEFORTpwcm9wZXJ0eVwifX1TaGFwZS5QTEFORXt7L2Nyb3NzTGlua319XG4gICAgICogKiB7eyNjcm9zc0xpbmsgXCJTaGFwZS9DT05WRVg6cHJvcGVydHlcIn19U2hhcGUuQ09OVkVYe3svY3Jvc3NMaW5rfX1cbiAgICAgKiAqIHt7I2Nyb3NzTGluayBcIlNoYXBlL0xJTkU6cHJvcGVydHlcIn19U2hhcGUuTElORXt7L2Nyb3NzTGlua319XG4gICAgICogKiB7eyNjcm9zc0xpbmsgXCJTaGFwZS9CT1g6cHJvcGVydHlcIn19U2hhcGUuQk9Ye3svY3Jvc3NMaW5rfX1cbiAgICAgKiAqIHt7I2Nyb3NzTGluayBcIlNoYXBlL0NBUFNVTEU6cHJvcGVydHlcIn19U2hhcGUuQ0FQU1VMRXt7L2Nyb3NzTGlua319XG4gICAgICogKiB7eyNjcm9zc0xpbmsgXCJTaGFwZS9IRUlHSFRGSUVMRDpwcm9wZXJ0eVwifX1TaGFwZS5IRUlHSFRGSUVMRHt7L2Nyb3NzTGlua319XG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gdHlwZVxuICAgICAqL1xuICAgIHRoaXMudHlwZSA9IG9wdGlvbnMudHlwZSB8fCAwO1xuXG4gICAgLyoqXG4gICAgICogU2hhcGUgb2JqZWN0IGlkZW50aWZpZXIuXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKiBAcHJvcGVydHkgaWRcbiAgICAgKi9cbiAgICB0aGlzLmlkID0gU2hhcGUuaWRDb3VudGVyKys7XG5cbiAgICAvKipcbiAgICAgKiBCb3VuZGluZyBjaXJjbGUgcmFkaXVzIG9mIHRoaXMgc2hhcGVcbiAgICAgKiBAcHJvcGVydHkgYm91bmRpbmdSYWRpdXNcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuYm91bmRpbmdSYWRpdXMgPSAwO1xuXG4gICAgLyoqXG4gICAgICogQ29sbGlzaW9uIGdyb3VwIHRoYXQgdGhpcyBzaGFwZSBiZWxvbmdzIHRvIChiaXQgbWFzaykuIFNlZSA8YSBocmVmPVwiaHR0cDovL3d3dy5hdXJlbGllbnJpYm9uLmNvbS9ibG9nLzIwMTEvMDcvYm94MmQtdHV0b3JpYWwtY29sbGlzaW9uLWZpbHRlcmluZy9cIj50aGlzIHR1dG9yaWFsPC9hPi5cbiAgICAgKiBAcHJvcGVydHkgY29sbGlzaW9uR3JvdXBcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBleGFtcGxlXG4gICAgICogICAgIC8vIFNldHVwIGJpdHMgZm9yIGVhY2ggYXZhaWxhYmxlIGdyb3VwXG4gICAgICogICAgIHZhciBQTEFZRVIgPSBNYXRoLnBvdygyLDApLFxuICAgICAqICAgICAgICAgRU5FTVkgPSAgTWF0aC5wb3coMiwxKSxcbiAgICAgKiAgICAgICAgIEdST1VORCA9IE1hdGgucG93KDIsMilcbiAgICAgKlxuICAgICAqICAgICAvLyBQdXQgc2hhcGVzIGludG8gdGhlaXIgZ3JvdXBzXG4gICAgICogICAgIHBsYXllcjFTaGFwZS5jb2xsaXNpb25Hcm91cCA9IFBMQVlFUjtcbiAgICAgKiAgICAgcGxheWVyMlNoYXBlLmNvbGxpc2lvbkdyb3VwID0gUExBWUVSO1xuICAgICAqICAgICBlbmVteVNoYXBlICAuY29sbGlzaW9uR3JvdXAgPSBFTkVNWTtcbiAgICAgKiAgICAgZ3JvdW5kU2hhcGUgLmNvbGxpc2lvbkdyb3VwID0gR1JPVU5EO1xuICAgICAqXG4gICAgICogICAgIC8vIEFzc2lnbiBncm91cHMgdGhhdCBlYWNoIHNoYXBlIGNvbGxpZGUgd2l0aC5cbiAgICAgKiAgICAgLy8gTm90ZSB0aGF0IHRoZSBwbGF5ZXJzIGNhbiBjb2xsaWRlIHdpdGggZ3JvdW5kIGFuZCBlbmVtaWVzLCBidXQgbm90IHdpdGggb3RoZXIgcGxheWVycy5cbiAgICAgKiAgICAgcGxheWVyMVNoYXBlLmNvbGxpc2lvbk1hc2sgPSBFTkVNWSB8IEdST1VORDtcbiAgICAgKiAgICAgcGxheWVyMlNoYXBlLmNvbGxpc2lvbk1hc2sgPSBFTkVNWSB8IEdST1VORDtcbiAgICAgKiAgICAgZW5lbXlTaGFwZSAgLmNvbGxpc2lvbk1hc2sgPSBQTEFZRVIgfCBHUk9VTkQ7XG4gICAgICogICAgIGdyb3VuZFNoYXBlIC5jb2xsaXNpb25NYXNrID0gUExBWUVSIHwgRU5FTVk7XG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqICAgICAvLyBIb3cgY29sbGlzaW9uIGNoZWNrIGlzIGRvbmVcbiAgICAgKiAgICAgaWYoc2hhcGVBLmNvbGxpc2lvbkdyb3VwICYgc2hhcGVCLmNvbGxpc2lvbk1hc2spIT0wICYmIChzaGFwZUIuY29sbGlzaW9uR3JvdXAgJiBzaGFwZUEuY29sbGlzaW9uTWFzaykhPTApe1xuICAgICAqICAgICAgICAgLy8gVGhlIHNoYXBlcyB3aWxsIGNvbGxpZGVcbiAgICAgKiAgICAgfVxuICAgICAqL1xuICAgIHRoaXMuY29sbGlzaW9uR3JvdXAgPSBvcHRpb25zLmNvbGxpc2lvbkdyb3VwICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmNvbGxpc2lvbkdyb3VwIDogMTtcblxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdG8gcHJvZHVjZSBjb250YWN0IGZvcmNlcyB3aGVuIGluIGNvbnRhY3Qgd2l0aCBvdGhlciBib2RpZXMuIE5vdGUgdGhhdCBjb250YWN0cyB3aWxsIGJlIGdlbmVyYXRlZCwgYnV0IHRoZXkgd2lsbCBiZSBkaXNhYmxlZC4gVGhhdCBtZWFucyB0aGF0IHRoaXMgc2hhcGUgd2lsbCBtb3ZlIHRocm91Z2ggb3RoZXIgYm9keSBzaGFwZXMsIGJ1dCBpdCB3aWxsIHN0aWxsIHRyaWdnZXIgY29udGFjdCBldmVudHMsIGV0Yy5cbiAgICAgKiBAcHJvcGVydHkge0Jvb2xlYW59IGNvbGxpc2lvblJlc3BvbnNlXG4gICAgICovXG4gICAgdGhpcy5jb2xsaXNpb25SZXNwb25zZSA9IG9wdGlvbnMuY29sbGlzaW9uUmVzcG9uc2UgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuY29sbGlzaW9uUmVzcG9uc2UgOiB0cnVlO1xuXG4gICAgLyoqXG4gICAgICogQ29sbGlzaW9uIG1hc2sgb2YgdGhpcyBzaGFwZS4gU2VlIC5jb2xsaXNpb25Hcm91cC5cbiAgICAgKiBAcHJvcGVydHkgY29sbGlzaW9uTWFza1xuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5jb2xsaXNpb25NYXNrID0gb3B0aW9ucy5jb2xsaXNpb25NYXNrICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmNvbGxpc2lvbk1hc2sgOiAxO1xuXG4gICAgLyoqXG4gICAgICogTWF0ZXJpYWwgdG8gdXNlIGluIGNvbGxpc2lvbnMgZm9yIHRoaXMgU2hhcGUuIElmIHRoaXMgaXMgc2V0IHRvIG51bGwsIHRoZSB3b3JsZCB3aWxsIHVzZSBkZWZhdWx0IG1hdGVyaWFsIHByb3BlcnRpZXMgaW5zdGVhZC5cbiAgICAgKiBAcHJvcGVydHkgbWF0ZXJpYWxcbiAgICAgKiBAdHlwZSB7TWF0ZXJpYWx9XG4gICAgICovXG4gICAgdGhpcy5tYXRlcmlhbCA9IG9wdGlvbnMubWF0ZXJpYWwgfHwgbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEFyZWEgb2YgdGhpcyBzaGFwZS5cbiAgICAgKiBAcHJvcGVydHkgYXJlYVxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5hcmVhID0gMDtcblxuICAgIC8qKlxuICAgICAqIFNldCB0byB0cnVlIGlmIHlvdSB3YW50IHRoaXMgc2hhcGUgdG8gYmUgYSBzZW5zb3IuIEEgc2Vuc29yIGRvZXMgbm90IGdlbmVyYXRlIGNvbnRhY3RzLCBidXQgaXQgc3RpbGwgcmVwb3J0cyBjb250YWN0IGV2ZW50cy4gVGhpcyBpcyBnb29kIGlmIHlvdSB3YW50IHRvIGtub3cgaWYgYSBzaGFwZSBpcyBvdmVybGFwcGluZyBhbm90aGVyIHNoYXBlLCB3aXRob3V0IHRoZW0gZ2VuZXJhdGluZyBjb250YWN0cy5cbiAgICAgKiBAcHJvcGVydHkge0Jvb2xlYW59IHNlbnNvclxuICAgICAqL1xuICAgIHRoaXMuc2Vuc29yID0gb3B0aW9ucy5zZW5zb3IgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuc2Vuc29yIDogZmFsc2U7XG5cbiAgICBpZih0aGlzLnR5cGUpe1xuICAgICAgICB0aGlzLnVwZGF0ZUJvdW5kaW5nUmFkaXVzKCk7XG4gICAgfVxuXG4gICAgdGhpcy51cGRhdGVBcmVhKCk7XG59XG5cblNoYXBlLmlkQ291bnRlciA9IDA7XG5cbi8qKlxuICogQHN0YXRpY1xuICogQHByb3BlcnR5IHtOdW1iZXJ9IENJUkNMRVxuICovXG5TaGFwZS5DSVJDTEUgPSAgICAgIDE7XG5cbi8qKlxuICogQHN0YXRpY1xuICogQHByb3BlcnR5IHtOdW1iZXJ9IFBBUlRJQ0xFXG4gKi9cblNoYXBlLlBBUlRJQ0xFID0gICAgMjtcblxuLyoqXG4gKiBAc3RhdGljXG4gKiBAcHJvcGVydHkge051bWJlcn0gUExBTkVcbiAqL1xuU2hhcGUuUExBTkUgPSAgICAgICA0O1xuXG4vKipcbiAqIEBzdGF0aWNcbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBDT05WRVhcbiAqL1xuU2hhcGUuQ09OVkVYID0gICAgICA4O1xuXG4vKipcbiAqIEBzdGF0aWNcbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBMSU5FXG4gKi9cblNoYXBlLkxJTkUgPSAgICAgICAgMTY7XG5cbi8qKlxuICogQHN0YXRpY1xuICogQHByb3BlcnR5IHtOdW1iZXJ9IEJPWFxuICovXG5TaGFwZS5CT1ggPSAgIDMyO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoU2hhcGUsICdSRUNUQU5HTEUnLCB7XG4gICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdTaGFwZS5SRUNUQU5HTEUgaXMgZGVwcmVjYXRlZCwgdXNlIFNoYXBlLkJPWCBpbnN0ZWFkLicpO1xuICAgICAgICByZXR1cm4gU2hhcGUuQk9YO1xuICAgIH1cbn0pO1xuXG4vKipcbiAqIEBzdGF0aWNcbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBDQVBTVUxFXG4gKi9cblNoYXBlLkNBUFNVTEUgPSAgICAgNjQ7XG5cbi8qKlxuICogQHN0YXRpY1xuICogQHByb3BlcnR5IHtOdW1iZXJ9IEhFSUdIVEZJRUxEXG4gKi9cblNoYXBlLkhFSUdIVEZJRUxEID0gMTI4O1xuXG4vKipcbiAqIFNob3VsZCByZXR1cm4gdGhlIG1vbWVudCBvZiBpbmVydGlhIGFyb3VuZCB0aGUgWiBheGlzIG9mIHRoZSBib2R5IGdpdmVuIHRoZSB0b3RhbCBtYXNzLiBTZWUgPGEgaHJlZj1cImh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTGlzdF9vZl9tb21lbnRzX29mX2luZXJ0aWFcIj5XaWtpcGVkaWEncyBsaXN0IG9mIG1vbWVudHMgb2YgaW5lcnRpYTwvYT4uXG4gKiBAbWV0aG9kIGNvbXB1dGVNb21lbnRPZkluZXJ0aWFcbiAqIEBwYXJhbSAge051bWJlcn0gbWFzc1xuICogQHJldHVybiB7TnVtYmVyfSBJZiB0aGUgaW5lcnRpYSBpcyBpbmZpbml0eSBvciBpZiB0aGUgb2JqZWN0IHNpbXBseSBpc24ndCBwb3NzaWJsZSB0byByb3RhdGUsIHJldHVybiAwLlxuICovXG5TaGFwZS5wcm90b3R5cGUuY29tcHV0ZU1vbWVudE9mSW5lcnRpYSA9IGZ1bmN0aW9uKG1hc3Mpe307XG5cbi8qKlxuICogUmV0dXJucyB0aGUgYm91bmRpbmcgY2lyY2xlIHJhZGl1cyBvZiB0aGlzIHNoYXBlLlxuICogQG1ldGhvZCB1cGRhdGVCb3VuZGluZ1JhZGl1c1xuICogQHJldHVybiB7TnVtYmVyfVxuICovXG5TaGFwZS5wcm90b3R5cGUudXBkYXRlQm91bmRpbmdSYWRpdXMgPSBmdW5jdGlvbigpe307XG5cbi8qKlxuICogVXBkYXRlIHRoZSAuYXJlYSBwcm9wZXJ0eSBvZiB0aGUgc2hhcGUuXG4gKiBAbWV0aG9kIHVwZGF0ZUFyZWFcbiAqL1xuU2hhcGUucHJvdG90eXBlLnVwZGF0ZUFyZWEgPSBmdW5jdGlvbigpe1xuICAgIC8vIFRvIGJlIGltcGxlbWVudGVkIGluIGFsbCBzdWJjbGFzc2VzXG59O1xuXG4vKipcbiAqIENvbXB1dGUgdGhlIHdvcmxkIGF4aXMtYWxpZ25lZCBib3VuZGluZyBib3ggKEFBQkIpIG9mIHRoaXMgc2hhcGUuXG4gKiBAbWV0aG9kIGNvbXB1dGVBQUJCXG4gKiBAcGFyYW0gIHtBQUJCfSBvdXQgVGhlIHJlc3VsdGluZyBBQUJCLlxuICogQHBhcmFtICB7QXJyYXl9IHBvc2l0aW9uIFdvcmxkIHBvc2l0aW9uIG9mIHRoZSBzaGFwZS5cbiAqIEBwYXJhbSAge051bWJlcn0gYW5nbGUgV29ybGQgYW5nbGUgb2YgdGhlIHNoYXBlLlxuICovXG5TaGFwZS5wcm90b3R5cGUuY29tcHV0ZUFBQkIgPSBmdW5jdGlvbihvdXQsIHBvc2l0aW9uLCBhbmdsZSl7XG4gICAgLy8gVG8gYmUgaW1wbGVtZW50ZWQgaW4gZWFjaCBzdWJjbGFzc1xufTtcblxuLyoqXG4gKiBQZXJmb3JtIHJheWNhc3Rpbmcgb24gdGhpcyBzaGFwZS5cbiAqIEBtZXRob2QgcmF5Y2FzdFxuICogQHBhcmFtICB7UmF5UmVzdWx0fSByZXN1bHQgV2hlcmUgdG8gc3RvcmUgdGhlIHJlc3VsdGluZyBkYXRhLlxuICogQHBhcmFtICB7UmF5fSByYXkgVGhlIFJheSB0aGF0IHlvdSB3YW50IHRvIHVzZSBmb3IgcmF5Y2FzdGluZy5cbiAqIEBwYXJhbSAge2FycmF5fSBwb3NpdGlvbiBXb3JsZCBwb3NpdGlvbiBvZiB0aGUgc2hhcGUgKHRoZSAucG9zaXRpb24gcHJvcGVydHkgd2lsbCBiZSBpZ25vcmVkKS5cbiAqIEBwYXJhbSAge251bWJlcn0gYW5nbGUgV29ybGQgYW5nbGUgb2YgdGhlIHNoYXBlICh0aGUgLmFuZ2xlIHByb3BlcnR5IHdpbGwgYmUgaWdub3JlZCkuXG4gKi9cblNoYXBlLnByb3RvdHlwZS5yYXljYXN0ID0gZnVuY3Rpb24ocmVzdWx0LCByYXksIHBvc2l0aW9uLCBhbmdsZSl7XG4gICAgLy8gVG8gYmUgaW1wbGVtZW50ZWQgaW4gZWFjaCBzdWJjbGFzc1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9wMi9zcmMvc2hhcGVzL1NoYXBlLmpzXG4gKiogbW9kdWxlIGlkID0gNFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwibW9kdWxlLmV4cG9ydHMgPSBDb25zdHJhaW50O1xuXG52YXIgVXRpbHMgPSByZXF1aXJlKCcuLi91dGlscy9VdGlscycpO1xuXG4vKipcbiAqIEJhc2UgY29uc3RyYWludCBjbGFzcy5cbiAqXG4gKiBAY2xhc3MgQ29uc3RyYWludFxuICogQGNvbnN0cnVjdG9yXG4gKiBAYXV0aG9yIHNjaHRlcHBlXG4gKiBAcGFyYW0ge0JvZHl9IGJvZHlBXG4gKiBAcGFyYW0ge0JvZHl9IGJvZHlCXG4gKiBAcGFyYW0ge051bWJlcn0gdHlwZVxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zLmNvbGxpZGVDb25uZWN0ZWQ9dHJ1ZV1cbiAqL1xuZnVuY3Rpb24gQ29uc3RyYWludChib2R5QSwgYm9keUIsIHR5cGUsIG9wdGlvbnMpe1xuXG4gICAgLyoqXG4gICAgICogVGhlIHR5cGUgb2YgY29uc3RyYWludC4gTWF5IGJlIG9uZSBvZiBDb25zdHJhaW50LkRJU1RBTkNFLCBDb25zdHJhaW50LkdFQVIsIENvbnN0cmFpbnQuTE9DSywgQ29uc3RyYWludC5QUklTTUFUSUMgb3IgQ29uc3RyYWludC5SRVZPTFVURS5cbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gdHlwZVxuICAgICAqL1xuICAgIHRoaXMudHlwZSA9IHR5cGU7XG5cbiAgICBvcHRpb25zID0gVXRpbHMuZGVmYXVsdHMob3B0aW9ucyx7XG4gICAgICAgIGNvbGxpZGVDb25uZWN0ZWQgOiB0cnVlLFxuICAgICAgICB3YWtlVXBCb2RpZXMgOiB0cnVlLFxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogRXF1YXRpb25zIHRvIGJlIHNvbHZlZCBpbiB0aGlzIGNvbnN0cmFpbnRcbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBlcXVhdGlvbnNcbiAgICAgKiBAdHlwZSB7QXJyYXl9XG4gICAgICovXG4gICAgdGhpcy5lcXVhdGlvbnMgPSBbXTtcblxuICAgIC8qKlxuICAgICAqIEZpcnN0IGJvZHkgcGFydGljaXBhdGluZyBpbiB0aGUgY29uc3RyYWludC5cbiAgICAgKiBAcHJvcGVydHkgYm9keUFcbiAgICAgKiBAdHlwZSB7Qm9keX1cbiAgICAgKi9cbiAgICB0aGlzLmJvZHlBID0gYm9keUE7XG5cbiAgICAvKipcbiAgICAgKiBTZWNvbmQgYm9keSBwYXJ0aWNpcGF0aW5nIGluIHRoZSBjb25zdHJhaW50LlxuICAgICAqIEBwcm9wZXJ0eSBib2R5QlxuICAgICAqIEB0eXBlIHtCb2R5fVxuICAgICAqL1xuICAgIHRoaXMuYm9keUIgPSBib2R5QjtcblxuICAgIC8qKlxuICAgICAqIFNldCB0byB0cnVlIGlmIHlvdSB3YW50IHRoZSBjb25uZWN0ZWQgYm9kaWVzIHRvIGNvbGxpZGUuXG4gICAgICogQHByb3BlcnR5IGNvbGxpZGVDb25uZWN0ZWRcbiAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICovXG4gICAgdGhpcy5jb2xsaWRlQ29ubmVjdGVkID0gb3B0aW9ucy5jb2xsaWRlQ29ubmVjdGVkO1xuXG4gICAgLy8gV2FrZSB1cCBib2RpZXMgd2hlbiBjb25uZWN0ZWRcbiAgICBpZihvcHRpb25zLndha2VVcEJvZGllcyl7XG4gICAgICAgIGlmKGJvZHlBKXtcbiAgICAgICAgICAgIGJvZHlBLndha2VVcCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmKGJvZHlCKXtcbiAgICAgICAgICAgIGJvZHlCLndha2VVcCgpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIFVwZGF0ZXMgdGhlIGludGVybmFsIGNvbnN0cmFpbnQgcGFyYW1ldGVycyBiZWZvcmUgc29sdmUuXG4gKiBAbWV0aG9kIHVwZGF0ZVxuICovXG5Db25zdHJhaW50LnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbigpe1xuICAgIHRocm93IG5ldyBFcnJvcihcIm1ldGhvZCB1cGRhdGUoKSBub3QgaW1wbG1lbWVudGVkIGluIHRoaXMgQ29uc3RyYWludCBzdWJjbGFzcyFcIik7XG59O1xuXG4vKipcbiAqIEBzdGF0aWNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBESVNUQU5DRVxuICovXG5Db25zdHJhaW50LkRJU1RBTkNFID0gMTtcblxuLyoqXG4gKiBAc3RhdGljXG4gKiBAcHJvcGVydHkge251bWJlcn0gR0VBUlxuICovXG5Db25zdHJhaW50LkdFQVIgPSAyO1xuXG4vKipcbiAqIEBzdGF0aWNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMT0NLXG4gKi9cbkNvbnN0cmFpbnQuTE9DSyA9IDM7XG5cbi8qKlxuICogQHN0YXRpY1xuICogQHByb3BlcnR5IHtudW1iZXJ9IFBSSVNNQVRJQ1xuICovXG5Db25zdHJhaW50LlBSSVNNQVRJQyA9IDQ7XG5cbi8qKlxuICogQHN0YXRpY1xuICogQHByb3BlcnR5IHtudW1iZXJ9IFJFVk9MVVRFXG4gKi9cbkNvbnN0cmFpbnQuUkVWT0xVVEUgPSA1O1xuXG4vKipcbiAqIFNldCBzdGlmZm5lc3MgZm9yIHRoaXMgY29uc3RyYWludC5cbiAqIEBtZXRob2Qgc2V0U3RpZmZuZXNzXG4gKiBAcGFyYW0ge051bWJlcn0gc3RpZmZuZXNzXG4gKi9cbkNvbnN0cmFpbnQucHJvdG90eXBlLnNldFN0aWZmbmVzcyA9IGZ1bmN0aW9uKHN0aWZmbmVzcyl7XG4gICAgdmFyIGVxcyA9IHRoaXMuZXF1YXRpb25zO1xuICAgIGZvcih2YXIgaT0wOyBpICE9PSBlcXMubGVuZ3RoOyBpKyspe1xuICAgICAgICB2YXIgZXEgPSBlcXNbaV07XG4gICAgICAgIGVxLnN0aWZmbmVzcyA9IHN0aWZmbmVzcztcbiAgICAgICAgZXEubmVlZHNVcGRhdGUgPSB0cnVlO1xuICAgIH1cbn07XG5cbi8qKlxuICogU2V0IHJlbGF4YXRpb24gZm9yIHRoaXMgY29uc3RyYWludC5cbiAqIEBtZXRob2Qgc2V0UmVsYXhhdGlvblxuICogQHBhcmFtIHtOdW1iZXJ9IHJlbGF4YXRpb25cbiAqL1xuQ29uc3RyYWludC5wcm90b3R5cGUuc2V0UmVsYXhhdGlvbiA9IGZ1bmN0aW9uKHJlbGF4YXRpb24pe1xuICAgIHZhciBlcXMgPSB0aGlzLmVxdWF0aW9ucztcbiAgICBmb3IodmFyIGk9MDsgaSAhPT0gZXFzLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgdmFyIGVxID0gZXFzW2ldO1xuICAgICAgICBlcS5yZWxheGF0aW9uID0gcmVsYXhhdGlvbjtcbiAgICAgICAgZXEubmVlZHNVcGRhdGUgPSB0cnVlO1xuICAgIH1cbn07XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9wMi9zcmMvY29uc3RyYWludHMvQ29uc3RyYWludC5qc1xuICoqIG1vZHVsZSBpZCA9IDVcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciB2ZWMyID0gcmVxdWlyZSgnLi4vbWF0aC92ZWMyJylcbiwgICBkZWNvbXAgPSByZXF1aXJlKCdwb2x5LWRlY29tcCcpXG4sICAgQ29udmV4ID0gcmVxdWlyZSgnLi4vc2hhcGVzL0NvbnZleCcpXG4sICAgUmF5Y2FzdFJlc3VsdCA9IHJlcXVpcmUoJy4uL2NvbGxpc2lvbi9SYXljYXN0UmVzdWx0JylcbiwgICBSYXkgPSByZXF1aXJlKCcuLi9jb2xsaXNpb24vUmF5JylcbiwgICBBQUJCID0gcmVxdWlyZSgnLi4vY29sbGlzaW9uL0FBQkInKVxuLCAgIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJy4uL2V2ZW50cy9FdmVudEVtaXR0ZXInKTtcblxubW9kdWxlLmV4cG9ydHMgPSBCb2R5O1xuXG4vKipcbiAqIEEgcmlnaWQgYm9keS4gSGFzIGdvdCBhIGNlbnRlciBvZiBtYXNzLCBwb3NpdGlvbiwgdmVsb2NpdHkgYW5kIGEgbnVtYmVyIG9mXG4gKiBzaGFwZXMgdGhhdCBhcmUgdXNlZCBmb3IgY29sbGlzaW9ucy5cbiAqXG4gKiBAY2xhc3MgQm9keVxuICogQGNvbnN0cnVjdG9yXG4gKiBAZXh0ZW5kcyBFdmVudEVtaXR0ZXJcbiAqIEBwYXJhbSB7QXJyYXl9IFtvcHRpb25zLmZvcmNlXVxuICogQHBhcmFtIHtBcnJheX0gW29wdGlvbnMucG9zaXRpb25dXG4gKiBAcGFyYW0ge0FycmF5fSBbb3B0aW9ucy52ZWxvY2l0eV1cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuYWxsb3dTbGVlcF1cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuY29sbGlzaW9uUmVzcG9uc2VdXG4gKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMuYW5nbGU9MF1cbiAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5hbmd1bGFyRm9yY2U9MF1cbiAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5hbmd1bGFyVmVsb2NpdHk9MF1cbiAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5jY2RJdGVyYXRpb25zPTEwXVxuICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLmNjZFNwZWVkVGhyZXNob2xkPS0xXVxuICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLmZpeGVkUm90YXRpb249ZmFsc2VdXG4gKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMuZ3Jhdml0eVNjYWxlXVxuICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLmlkXVxuICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLm1hc3M9MF0gQSBudW1iZXIgPj0gMC4gSWYgemVybywgdGhlIC50eXBlIHdpbGwgYmUgc2V0IHRvIEJvZHkuU1RBVElDLlxuICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLnNsZWVwU3BlZWRMaW1pdF1cbiAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5zbGVlcFRpbWVMaW1pdF1cbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqICAgICAvLyBDcmVhdGUgYSB0eXBpY2FsIGR5bmFtaWMgYm9keVxuICogICAgIHZhciBib2R5ID0gbmV3IEJvZHkoe1xuICogICAgICAgICBtYXNzOiAxLFxuICogICAgICAgICBwb3NpdGlvbjogWzAsIDBdLFxuICogICAgICAgICBhbmdsZTogMCxcbiAqICAgICAgICAgdmVsb2NpdHk6IFswLCAwXSxcbiAqICAgICAgICAgYW5ndWxhclZlbG9jaXR5OiAwXG4gKiAgICAgfSk7XG4gKlxuICogICAgIC8vIEFkZCBhIGNpcmN1bGFyIHNoYXBlIHRvIHRoZSBib2R5XG4gKiAgICAgYm9keS5hZGRTaGFwZShuZXcgQ2lyY2xlKHsgcmFkaXVzOiAxIH0pKTtcbiAqXG4gKiAgICAgLy8gQWRkIHRoZSBib2R5IHRvIHRoZSB3b3JsZFxuICogICAgIHdvcmxkLmFkZEJvZHkoYm9keSk7XG4gKi9cbmZ1bmN0aW9uIEJvZHkob3B0aW9ucyl7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICBFdmVudEVtaXR0ZXIuY2FsbCh0aGlzKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBib2R5IGlkZW50aWZ5ZXJcbiAgICAgKiBAcHJvcGVydHkgaWRcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuaWQgPSBvcHRpb25zLmlkIHx8ICsrQm9keS5faWRDb3VudGVyO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHdvcmxkIHRoYXQgdGhpcyBib2R5IGlzIGFkZGVkIHRvLiBUaGlzIHByb3BlcnR5IGlzIHNldCB0byBOVUxMIGlmIHRoZSBib2R5IGlzIG5vdCBhZGRlZCB0byBhbnkgd29ybGQuXG4gICAgICogQHByb3BlcnR5IHdvcmxkXG4gICAgICogQHR5cGUge1dvcmxkfVxuICAgICAqL1xuICAgIHRoaXMud29ybGQgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHNoYXBlcyBvZiB0aGUgYm9keS5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBzaGFwZXNcbiAgICAgKiBAdHlwZSB7QXJyYXl9XG4gICAgICovXG4gICAgdGhpcy5zaGFwZXMgPSBbXTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBtYXNzIG9mIHRoZSBib2R5LlxuICAgICAqIEBwcm9wZXJ0eSBtYXNzXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLm1hc3MgPSBvcHRpb25zLm1hc3MgfHwgMDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBpbnZlcnNlIG1hc3Mgb2YgdGhlIGJvZHkuXG4gICAgICogQHByb3BlcnR5IGludk1hc3NcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuaW52TWFzcyA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaW5lcnRpYSBvZiB0aGUgYm9keSBhcm91bmQgdGhlIFogYXhpcy5cbiAgICAgKiBAcHJvcGVydHkgaW5lcnRpYVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5pbmVydGlhID0gMDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBpbnZlcnNlIGluZXJ0aWEgb2YgdGhlIGJvZHkuXG4gICAgICogQHByb3BlcnR5IGludkluZXJ0aWFcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuaW52SW5lcnRpYSA9IDA7XG5cbiAgICB0aGlzLmludk1hc3NTb2x2ZSA9IDA7XG4gICAgdGhpcy5pbnZJbmVydGlhU29sdmUgPSAwO1xuXG4gICAgLyoqXG4gICAgICogU2V0IHRvIHRydWUgaWYgeW91IHdhbnQgdG8gZml4IHRoZSByb3RhdGlvbiBvZiB0aGUgYm9keS5cbiAgICAgKiBAcHJvcGVydHkgZml4ZWRSb3RhdGlvblxuICAgICAqIEB0eXBlIHtCb29sZWFufVxuICAgICAqL1xuICAgIHRoaXMuZml4ZWRSb3RhdGlvbiA9ICEhb3B0aW9ucy5maXhlZFJvdGF0aW9uO1xuXG4gICAgLyoqXG4gICAgICogU2V0IHRvIHRydWUgaWYgeW91IHdhbnQgdG8gZml4IHRoZSBib2R5IG1vdmVtZW50IGFsb25nIHRoZSBYIGF4aXMuIFRoZSBib2R5IHdpbGwgc3RpbGwgYmUgYWJsZSB0byBtb3ZlIGFsb25nIFkuXG4gICAgICogQHByb3BlcnR5IHtCb29sZWFufSBmaXhlZFhcbiAgICAgKi9cbiAgICB0aGlzLmZpeGVkWCA9ICEhb3B0aW9ucy5maXhlZFg7XG5cbiAgICAvKipcbiAgICAgKiBTZXQgdG8gdHJ1ZSBpZiB5b3Ugd2FudCB0byBmaXggdGhlIGJvZHkgbW92ZW1lbnQgYWxvbmcgdGhlIFkgYXhpcy4gVGhlIGJvZHkgd2lsbCBzdGlsbCBiZSBhYmxlIHRvIG1vdmUgYWxvbmcgWC5cbiAgICAgKiBAcHJvcGVydHkge0Jvb2xlYW59IGZpeGVkWVxuICAgICAqL1xuICAgIHRoaXMuZml4ZWRZID0gISFvcHRpb25zLmZpeGVkWTtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHByb3BlcnR5IHthcnJheX0gbWFzc011bHRpcGxpZXJcbiAgICAgKi9cbiAgICB0aGlzLm1hc3NNdWx0aXBsaWVyID0gdmVjMi5jcmVhdGUoKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBwb3NpdGlvbiBvZiB0aGUgYm9keVxuICAgICAqIEBwcm9wZXJ0eSBwb3NpdGlvblxuICAgICAqIEB0eXBlIHtBcnJheX1cbiAgICAgKi9cbiAgICB0aGlzLnBvc2l0aW9uID0gdmVjMi5mcm9tVmFsdWVzKDAsMCk7XG4gICAgaWYob3B0aW9ucy5wb3NpdGlvbil7XG4gICAgICAgIHZlYzIuY29weSh0aGlzLnBvc2l0aW9uLCBvcHRpb25zLnBvc2l0aW9uKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaW50ZXJwb2xhdGVkIHBvc2l0aW9uIG9mIHRoZSBib2R5LiBVc2UgdGhpcyBmb3IgcmVuZGVyaW5nLlxuICAgICAqIEBwcm9wZXJ0eSBpbnRlcnBvbGF0ZWRQb3NpdGlvblxuICAgICAqIEB0eXBlIHtBcnJheX1cbiAgICAgKi9cbiAgICB0aGlzLmludGVycG9sYXRlZFBvc2l0aW9uID0gdmVjMi5mcm9tVmFsdWVzKDAsMCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaW50ZXJwb2xhdGVkIGFuZ2xlIG9mIHRoZSBib2R5LiBVc2UgdGhpcyBmb3IgcmVuZGVyaW5nLlxuICAgICAqIEBwcm9wZXJ0eSBpbnRlcnBvbGF0ZWRBbmdsZVxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5pbnRlcnBvbGF0ZWRBbmdsZSA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgcHJldmlvdXMgcG9zaXRpb24gb2YgdGhlIGJvZHkuXG4gICAgICogQHByb3BlcnR5IHByZXZpb3VzUG9zaXRpb25cbiAgICAgKiBAdHlwZSB7QXJyYXl9XG4gICAgICovXG4gICAgdGhpcy5wcmV2aW91c1Bvc2l0aW9uID0gdmVjMi5mcm9tVmFsdWVzKDAsMCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgcHJldmlvdXMgYW5nbGUgb2YgdGhlIGJvZHkuXG4gICAgICogQHByb3BlcnR5IHByZXZpb3VzQW5nbGVcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMucHJldmlvdXNBbmdsZSA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgY3VycmVudCB2ZWxvY2l0eSBvZiB0aGUgYm9keS5cbiAgICAgKiBAcHJvcGVydHkgdmVsb2NpdHlcbiAgICAgKiBAdHlwZSB7QXJyYXl9XG4gICAgICovXG4gICAgdGhpcy52ZWxvY2l0eSA9IHZlYzIuZnJvbVZhbHVlcygwLDApO1xuICAgIGlmKG9wdGlvbnMudmVsb2NpdHkpe1xuICAgICAgICB2ZWMyLmNvcHkodGhpcy52ZWxvY2l0eSwgb3B0aW9ucy52ZWxvY2l0eSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29uc3RyYWludCB2ZWxvY2l0eSB0aGF0IHdhcyBhZGRlZCB0byB0aGUgYm9keSBkdXJpbmcgdGhlIGxhc3Qgc3RlcC5cbiAgICAgKiBAcHJvcGVydHkgdmxhbWJkYVxuICAgICAqIEB0eXBlIHtBcnJheX1cbiAgICAgKi9cbiAgICB0aGlzLnZsYW1iZGEgPSB2ZWMyLmZyb21WYWx1ZXMoMCwwKTtcblxuICAgIC8qKlxuICAgICAqIEFuZ3VsYXIgY29uc3RyYWludCB2ZWxvY2l0eSB0aGF0IHdhcyBhZGRlZCB0byB0aGUgYm9keSBkdXJpbmcgbGFzdCBzdGVwLlxuICAgICAqIEBwcm9wZXJ0eSB3bGFtYmRhXG4gICAgICogQHR5cGUge0FycmF5fVxuICAgICAqL1xuICAgIHRoaXMud2xhbWJkYSA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYW5nbGUgb2YgdGhlIGJvZHksIGluIHJhZGlhbnMuXG4gICAgICogQHByb3BlcnR5IGFuZ2xlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqICAgICAvLyBUaGUgYW5nbGUgcHJvcGVydHkgaXMgbm90IG5vcm1hbGl6ZWQgdG8gdGhlIGludGVydmFsIDAgdG8gMipwaSwgaXQgY2FuIGJlIGFueSB2YWx1ZS5cbiAgICAgKiAgICAgLy8gSWYgeW91IG5lZWQgYSB2YWx1ZSBiZXR3ZWVuIDAgYW5kIDIqcGksIHVzZSB0aGUgZm9sbG93aW5nIGZ1bmN0aW9uIHRvIG5vcm1hbGl6ZSBpdC5cbiAgICAgKiAgICAgZnVuY3Rpb24gbm9ybWFsaXplQW5nbGUoYW5nbGUpe1xuICAgICAqICAgICAgICAgYW5nbGUgPSBhbmdsZSAlICgyKk1hdGguUEkpO1xuICAgICAqICAgICAgICAgaWYoYW5nbGUgPCAwKXtcbiAgICAgKiAgICAgICAgICAgICBhbmdsZSArPSAoMipNYXRoLlBJKTtcbiAgICAgKiAgICAgICAgIH1cbiAgICAgKiAgICAgICAgIHJldHVybiBhbmdsZTtcbiAgICAgKiAgICAgfVxuICAgICAqL1xuICAgIHRoaXMuYW5nbGUgPSBvcHRpb25zLmFuZ2xlIHx8IDA7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYW5ndWxhciB2ZWxvY2l0eSBvZiB0aGUgYm9keSwgaW4gcmFkaWFucyBwZXIgc2Vjb25kLlxuICAgICAqIEBwcm9wZXJ0eSBhbmd1bGFyVmVsb2NpdHlcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuYW5ndWxhclZlbG9jaXR5ID0gb3B0aW9ucy5hbmd1bGFyVmVsb2NpdHkgfHwgMDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBmb3JjZSBhY3Rpbmcgb24gdGhlIGJvZHkuIFNpbmNlIHRoZSBib2R5IGZvcmNlIChhbmQge3sjY3Jvc3NMaW5rIFwiQm9keS9hbmd1bGFyRm9yY2U6cHJvcGVydHlcIn19e3svY3Jvc3NMaW5rfX0pIHdpbGwgYmUgemVyb2VkIGFmdGVyIGVhY2ggc3RlcCwgc28geW91IG5lZWQgdG8gc2V0IHRoZSBmb3JjZSBiZWZvcmUgZWFjaCBzdGVwLlxuICAgICAqIEBwcm9wZXJ0eSBmb3JjZVxuICAgICAqIEB0eXBlIHtBcnJheX1cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogICAgIC8vIFRoaXMgcHJvZHVjZXMgYSBmb3JjZWZpZWxkIG9mIDEgTmV3dG9uIGluIHRoZSBwb3NpdGl2ZSB4IGRpcmVjdGlvbi5cbiAgICAgKiAgICAgZm9yKHZhciBpPTA7IGk8bnVtU3RlcHM7IGkrKyl7XG4gICAgICogICAgICAgICBib2R5LmZvcmNlWzBdID0gMTtcbiAgICAgKiAgICAgICAgIHdvcmxkLnN0ZXAoMS82MCk7XG4gICAgICogICAgIH1cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogICAgIC8vIFRoaXMgd2lsbCBhcHBseSBhIHJvdGF0aW9uYWwgZm9yY2Ugb24gdGhlIGJvZHlcbiAgICAgKiAgICAgZm9yKHZhciBpPTA7IGk8bnVtU3RlcHM7IGkrKyl7XG4gICAgICogICAgICAgICBib2R5LmFuZ3VsYXJGb3JjZSA9IC0zO1xuICAgICAqICAgICAgICAgd29ybGQuc3RlcCgxLzYwKTtcbiAgICAgKiAgICAgfVxuICAgICAqL1xuICAgIHRoaXMuZm9yY2UgPSB2ZWMyLmNyZWF0ZSgpO1xuICAgIGlmKG9wdGlvbnMuZm9yY2Upe1xuICAgICAgICB2ZWMyLmNvcHkodGhpcy5mb3JjZSwgb3B0aW9ucy5mb3JjZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGFuZ3VsYXIgZm9yY2UgYWN0aW5nIG9uIHRoZSBib2R5LiBTZWUge3sjY3Jvc3NMaW5rIFwiQm9keS9mb3JjZTpwcm9wZXJ0eVwifX17ey9jcm9zc0xpbmt9fS5cbiAgICAgKiBAcHJvcGVydHkgYW5ndWxhckZvcmNlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmFuZ3VsYXJGb3JjZSA9IG9wdGlvbnMuYW5ndWxhckZvcmNlIHx8IDA7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbGluZWFyIGRhbXBpbmcgYWN0aW5nIG9uIHRoZSBib2R5IGluIHRoZSB2ZWxvY2l0eSBkaXJlY3Rpb24uIFNob3VsZCBiZSBhIHZhbHVlIGJldHdlZW4gMCBhbmQgMS5cbiAgICAgKiBAcHJvcGVydHkgZGFtcGluZ1xuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMC4xXG4gICAgICovXG4gICAgdGhpcy5kYW1waW5nID0gdHlwZW9mKG9wdGlvbnMuZGFtcGluZykgPT09IFwibnVtYmVyXCIgPyBvcHRpb25zLmRhbXBpbmcgOiAwLjE7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYW5ndWxhciBmb3JjZSBhY3Rpbmcgb24gdGhlIGJvZHkuIFNob3VsZCBiZSBhIHZhbHVlIGJldHdlZW4gMCBhbmQgMS5cbiAgICAgKiBAcHJvcGVydHkgYW5ndWxhckRhbXBpbmdcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDAuMVxuICAgICAqL1xuICAgIHRoaXMuYW5ndWxhckRhbXBpbmcgPSB0eXBlb2Yob3B0aW9ucy5hbmd1bGFyRGFtcGluZykgPT09IFwibnVtYmVyXCIgPyBvcHRpb25zLmFuZ3VsYXJEYW1waW5nIDogMC4xO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHR5cGUgb2YgbW90aW9uIHRoaXMgYm9keSBoYXMuIFNob3VsZCBiZSBvbmUgb2Y6IHt7I2Nyb3NzTGluayBcIkJvZHkvU1RBVElDOnByb3BlcnR5XCJ9fUJvZHkuU1RBVElDe3svY3Jvc3NMaW5rfX0sIHt7I2Nyb3NzTGluayBcIkJvZHkvRFlOQU1JQzpwcm9wZXJ0eVwifX1Cb2R5LkRZTkFNSUN7ey9jcm9zc0xpbmt9fSBhbmQge3sjY3Jvc3NMaW5rIFwiQm9keS9LSU5FTUFUSUM6cHJvcGVydHlcIn19Qm9keS5LSU5FTUFUSUN7ey9jcm9zc0xpbmt9fS5cbiAgICAgKlxuICAgICAqICogU3RhdGljIGJvZGllcyBkbyBub3QgbW92ZSwgYW5kIHRoZXkgZG8gbm90IHJlc3BvbmQgdG8gZm9yY2VzIG9yIGNvbGxpc2lvbi5cbiAgICAgKiAqIER5bmFtaWMgYm9kaWVzIGJvZHkgY2FuIG1vdmUgYW5kIHJlc3BvbmQgdG8gY29sbGlzaW9ucyBhbmQgZm9yY2VzLlxuICAgICAqICogS2luZW1hdGljIGJvZGllcyBvbmx5IG1vdmVzIGFjY29yZGluZyB0byBpdHMgLnZlbG9jaXR5LCBhbmQgZG9lcyBub3QgcmVzcG9uZCB0byBjb2xsaXNpb25zIG9yIGZvcmNlLlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IHR5cGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAgICAgLy8gQm9kaWVzIGFyZSBzdGF0aWMgYnkgZGVmYXVsdC4gU3RhdGljIGJvZGllcyB3aWxsIG5ldmVyIG1vdmUuXG4gICAgICogICAgIHZhciBib2R5ID0gbmV3IEJvZHkoKTtcbiAgICAgKiAgICAgY29uc29sZS5sb2coYm9keS50eXBlID09IEJvZHkuU1RBVElDKTsgLy8gdHJ1ZVxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAgICAgLy8gQnkgc2V0dGluZyB0aGUgbWFzcyBvZiBhIGJvZHkgdG8gYSBub256ZXJvIG51bWJlciwgdGhlIGJvZHlcbiAgICAgKiAgICAgLy8gd2lsbCBiZWNvbWUgZHluYW1pYyBhbmQgd2lsbCBtb3ZlIGFuZCBpbnRlcmFjdCB3aXRoIG90aGVyIGJvZGllcy5cbiAgICAgKiAgICAgdmFyIGR5bmFtaWNCb2R5ID0gbmV3IEJvZHkoe1xuICAgICAqICAgICAgICAgbWFzcyA6IDFcbiAgICAgKiAgICAgfSk7XG4gICAgICogICAgIGNvbnNvbGUubG9nKGR5bmFtaWNCb2R5LnR5cGUgPT0gQm9keS5EWU5BTUlDKTsgLy8gdHJ1ZVxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAgICAgLy8gS2luZW1hdGljIGJvZGllcyB3aWxsIG9ubHkgbW92ZSBpZiB5b3UgY2hhbmdlIHRoZWlyIHZlbG9jaXR5LlxuICAgICAqICAgICB2YXIga2luZW1hdGljQm9keSA9IG5ldyBCb2R5KHtcbiAgICAgKiAgICAgICAgIHR5cGU6IEJvZHkuS0lORU1BVElDIC8vIFR5cGUgY2FuIGJlIHNldCB2aWEgdGhlIG9wdGlvbnMgb2JqZWN0LlxuICAgICAqICAgICB9KTtcbiAgICAgKi9cbiAgICB0aGlzLnR5cGUgPSBCb2R5LlNUQVRJQztcblxuICAgIGlmKHR5cGVvZihvcHRpb25zLnR5cGUpICE9PSAndW5kZWZpbmVkJyl7XG4gICAgICAgIHRoaXMudHlwZSA9IG9wdGlvbnMudHlwZTtcbiAgICB9IGVsc2UgaWYoIW9wdGlvbnMubWFzcyl7XG4gICAgICAgIHRoaXMudHlwZSA9IEJvZHkuU1RBVElDO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMudHlwZSA9IEJvZHkuRFlOQU1JQztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBCb3VuZGluZyBjaXJjbGUgcmFkaXVzLlxuICAgICAqIEBwcm9wZXJ0eSBib3VuZGluZ1JhZGl1c1xuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5ib3VuZGluZ1JhZGl1cyA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBCb3VuZGluZyBib3ggb2YgdGhpcyBib2R5LlxuICAgICAqIEBwcm9wZXJ0eSBhYWJiXG4gICAgICogQHR5cGUge0FBQkJ9XG4gICAgICovXG4gICAgdGhpcy5hYWJiID0gbmV3IEFBQkIoKTtcblxuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyBpZiB0aGUgQUFCQiBuZWVkcyB1cGRhdGUuIFVwZGF0ZSBpdCB3aXRoIHt7I2Nyb3NzTGluayBcIkJvZHkvdXBkYXRlQUFCQjptZXRob2RcIn19LnVwZGF0ZUFBQkIoKXt7L2Nyb3NzTGlua319LlxuICAgICAqIEBwcm9wZXJ0eSBhYWJiTmVlZHNVcGRhdGVcbiAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICAgKiBAc2VlIHVwZGF0ZUFBQkJcbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogICAgIC8vIEZvcmNlIHVwZGF0ZSB0aGUgQUFCQlxuICAgICAqICAgICBib2R5LmFhYmJOZWVkc1VwZGF0ZSA9IHRydWU7XG4gICAgICogICAgIGJvZHkudXBkYXRlQUFCQigpO1xuICAgICAqICAgICBjb25zb2xlLmxvZyhib2R5LmFhYmJOZWVkc1VwZGF0ZSk7IC8vIGZhbHNlXG4gICAgICovXG4gICAgdGhpcy5hYWJiTmVlZHNVcGRhdGUgPSB0cnVlO1xuXG4gICAgLyoqXG4gICAgICogSWYgdHJ1ZSwgdGhlIGJvZHkgd2lsbCBhdXRvbWF0aWNhbGx5IGZhbGwgdG8gc2xlZXAuIE5vdGUgdGhhdCB5b3UgbmVlZCB0byBlbmFibGUgc2xlZXBpbmcgaW4gdGhlIHt7I2Nyb3NzTGluayBcIldvcmxkXCJ9fXt7L2Nyb3NzTGlua319IGJlZm9yZSBhbnl0aGluZyB3aWxsIGhhcHBlbi5cbiAgICAgKiBAcHJvcGVydHkgYWxsb3dTbGVlcFxuICAgICAqIEB0eXBlIHtCb29sZWFufVxuICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgKi9cbiAgICB0aGlzLmFsbG93U2xlZXAgPSBvcHRpb25zLmFsbG93U2xlZXAgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuYWxsb3dTbGVlcCA6IHRydWU7XG5cbiAgICB0aGlzLndhbnRzVG9TbGVlcCA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogT25lIG9mIHt7I2Nyb3NzTGluayBcIkJvZHkvQVdBS0U6cHJvcGVydHlcIn19Qm9keS5BV0FLRXt7L2Nyb3NzTGlua319LCB7eyNjcm9zc0xpbmsgXCJCb2R5L1NMRUVQWTpwcm9wZXJ0eVwifX1Cb2R5LlNMRUVQWXt7L2Nyb3NzTGlua319IGFuZCB7eyNjcm9zc0xpbmsgXCJCb2R5L1NMRUVQSU5HOnByb3BlcnR5XCJ9fUJvZHkuU0xFRVBJTkd7ey9jcm9zc0xpbmt9fS5cbiAgICAgKlxuICAgICAqIFRoZSBib2R5IGlzIGluaXRpYWxseSBCb2R5LkFXQUtFLiBJZiBpdHMgdmVsb2NpdHkgbm9ybSBpcyBiZWxvdyAuc2xlZXBTcGVlZExpbWl0LCB0aGUgc2xlZXBTdGF0ZSB3aWxsIGJlY29tZSBCb2R5LlNMRUVQWS4gSWYgdGhlIGJvZHkgY29udGludWVzIHRvIGJlIEJvZHkuU0xFRVBZIGZvciAuc2xlZXBUaW1lTGltaXQgc2Vjb25kcywgaXQgd2lsbCBmYWxsIGFzbGVlcCAoQm9keS5TTEVFUFkpLlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IHNsZWVwU3RhdGVcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IEJvZHkuQVdBS0VcbiAgICAgKi9cbiAgICB0aGlzLnNsZWVwU3RhdGUgPSBCb2R5LkFXQUtFO1xuXG4gICAgLyoqXG4gICAgICogSWYgdGhlIHNwZWVkICh0aGUgbm9ybSBvZiB0aGUgdmVsb2NpdHkpIGlzIHNtYWxsZXIgdGhhbiB0aGlzIHZhbHVlLCB0aGUgYm9keSBpcyBjb25zaWRlcmVkIHNsZWVweS5cbiAgICAgKiBAcHJvcGVydHkgc2xlZXBTcGVlZExpbWl0XG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAwLjJcbiAgICAgKi9cbiAgICB0aGlzLnNsZWVwU3BlZWRMaW1pdCA9IG9wdGlvbnMuc2xlZXBTcGVlZExpbWl0ICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnNsZWVwU3BlZWRMaW1pdCA6IDAuMjtcblxuICAgIC8qKlxuICAgICAqIElmIHRoZSBib2R5IGhhcyBiZWVuIHNsZWVweSBmb3IgdGhpcyBzbGVlcFRpbWVMaW1pdCBzZWNvbmRzLCBpdCBpcyBjb25zaWRlcmVkIHNsZWVwaW5nLlxuICAgICAqIEBwcm9wZXJ0eSBzbGVlcFRpbWVMaW1pdFxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMVxuICAgICAqL1xuICAgIHRoaXMuc2xlZXBUaW1lTGltaXQgPSBvcHRpb25zLnNsZWVwVGltZUxpbWl0ICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnNsZWVwVGltZUxpbWl0IDogMTtcblxuICAgIC8qKlxuICAgICAqIEdyYXZpdHkgc2NhbGluZyBmYWN0b3IuIElmIHlvdSB3YW50IHRoZSBib2R5IHRvIGlnbm9yZSBncmF2aXR5LCBzZXQgdGhpcyB0byB6ZXJvLiBJZiB5b3Ugd2FudCB0byByZXZlcnNlIGdyYXZpdHksIHNldCBpdCB0byAtMS5cbiAgICAgKiBAcHJvcGVydHkge051bWJlcn0gZ3Jhdml0eVNjYWxlXG4gICAgICogQGRlZmF1bHQgMVxuICAgICAqL1xuICAgIHRoaXMuZ3Jhdml0eVNjYWxlID0gb3B0aW9ucy5ncmF2aXR5U2NhbGUgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuZ3Jhdml0eVNjYWxlIDogMTtcblxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdG8gcHJvZHVjZSBjb250YWN0IGZvcmNlcyB3aGVuIGluIGNvbnRhY3Qgd2l0aCBvdGhlciBib2RpZXMuIE5vdGUgdGhhdCBjb250YWN0cyB3aWxsIGJlIGdlbmVyYXRlZCwgYnV0IHRoZXkgd2lsbCBiZSBkaXNhYmxlZC4gVGhhdCBtZWFucyB0aGF0IHRoaXMgYm9keSB3aWxsIG1vdmUgdGhyb3VnaCBvdGhlciBib2RpZXMsIGJ1dCBpdCB3aWxsIHN0aWxsIHRyaWdnZXIgY29udGFjdCBldmVudHMsIGV0Yy5cbiAgICAgKiBAcHJvcGVydHkge0Jvb2xlYW59IGNvbGxpc2lvblJlc3BvbnNlXG4gICAgICovXG4gICAgdGhpcy5jb2xsaXNpb25SZXNwb25zZSA9IG9wdGlvbnMuY29sbGlzaW9uUmVzcG9uc2UgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuY29sbGlzaW9uUmVzcG9uc2UgOiB0cnVlO1xuXG4gICAgLyoqXG4gICAgICogSG93IGxvbmcgdGhlIGJvZHkgaGFzIGJlZW4gc2xlZXBpbmcuXG4gICAgICogQHByb3BlcnR5IHtOdW1iZXJ9IGlkbGVUaW1lXG4gICAgICovXG4gICAgdGhpcy5pZGxlVGltZSA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbGFzdCB0aW1lIHdoZW4gdGhlIGJvZHkgd2VudCB0byBTTEVFUFkgc3RhdGUuXG4gICAgICogQHByb3BlcnR5IHtOdW1iZXJ9IHRpbWVMYXN0U2xlZXB5XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLnRpbWVMYXN0U2xlZXB5ID0gMDtcblxuICAgIC8qKlxuICAgICAqIElmIHRoZSBib2R5IHNwZWVkIGV4Y2VlZHMgdGhpcyB0aHJlc2hvbGQsIENDRCAoY29udGludW91cyBjb2xsaXNpb24gZGV0ZWN0aW9uKSB3aWxsIGJlIGVuYWJsZWQuIFNldCBpdCB0byBhIG5lZ2F0aXZlIG51bWJlciB0byBkaXNhYmxlIENDRCBjb21wbGV0ZWx5IGZvciB0aGlzIGJvZHkuXG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9IGNjZFNwZWVkVGhyZXNob2xkXG4gICAgICogQGRlZmF1bHQgLTFcbiAgICAgKi9cbiAgICB0aGlzLmNjZFNwZWVkVGhyZXNob2xkID0gb3B0aW9ucy5jY2RTcGVlZFRocmVzaG9sZCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5jY2RTcGVlZFRocmVzaG9sZCA6IC0xO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG51bWJlciBvZiBpdGVyYXRpb25zIHRoYXQgc2hvdWxkIGJlIHVzZWQgd2hlbiBzZWFyY2hpbmcgZm9yIHRoZSB0aW1lIG9mIGltcGFjdCBkdXJpbmcgQ0NELiBBIGxhcmdlciBudW1iZXIgd2lsbCBhc3N1cmUgdGhhdCB0aGVyZSdzIGEgc21hbGwgcGVuZXRyYXRpb24gb24gQ0NEIGNvbGxpc2lvbiwgYnV0IGEgc21hbGwgbnVtYmVyIHdpbGwgZ2l2ZSBtb3JlIHBlcmZvcm1hbmNlLlxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBjY2RJdGVyYXRpb25zXG4gICAgICogQGRlZmF1bHQgMTBcbiAgICAgKi9cbiAgICB0aGlzLmNjZEl0ZXJhdGlvbnMgPSBvcHRpb25zLmNjZEl0ZXJhdGlvbnMgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuY2NkSXRlcmF0aW9ucyA6IDEwO1xuXG4gICAgdGhpcy5jb25jYXZlUGF0aCA9IG51bGw7XG5cbiAgICB0aGlzLl93YWtlVXBBZnRlck5hcnJvd3BoYXNlID0gZmFsc2U7XG5cbiAgICB0aGlzLnVwZGF0ZU1hc3NQcm9wZXJ0aWVzKCk7XG59XG5Cb2R5LnByb3RvdHlwZSA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbkJvZHkucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQm9keTtcblxuQm9keS5faWRDb3VudGVyID0gMDtcblxuLyoqXG4gKiBAcHJpdmF0ZVxuICogQG1ldGhvZCB1cGRhdGVTb2x2ZU1hc3NQcm9wZXJ0aWVzXG4gKi9cbkJvZHkucHJvdG90eXBlLnVwZGF0ZVNvbHZlTWFzc1Byb3BlcnRpZXMgPSBmdW5jdGlvbigpe1xuICAgIGlmKHRoaXMuc2xlZXBTdGF0ZSA9PT0gQm9keS5TTEVFUElORyB8fCB0aGlzLnR5cGUgPT09IEJvZHkuS0lORU1BVElDKXtcbiAgICAgICAgdGhpcy5pbnZNYXNzU29sdmUgPSAwO1xuICAgICAgICB0aGlzLmludkluZXJ0aWFTb2x2ZSA9IDA7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5pbnZNYXNzU29sdmUgPSB0aGlzLmludk1hc3M7XG4gICAgICAgIHRoaXMuaW52SW5lcnRpYVNvbHZlID0gdGhpcy5pbnZJbmVydGlhO1xuICAgIH1cbn07XG5cbi8qKlxuICogU2V0IHRoZSB0b3RhbCBkZW5zaXR5IG9mIHRoZSBib2R5XG4gKiBAbWV0aG9kIHNldERlbnNpdHlcbiAqIEBwYXJhbSB7bnVtYmVyfSBkZW5zaXR5XG4gKi9cbkJvZHkucHJvdG90eXBlLnNldERlbnNpdHkgPSBmdW5jdGlvbihkZW5zaXR5KSB7XG4gICAgdmFyIHRvdGFsQXJlYSA9IHRoaXMuZ2V0QXJlYSgpO1xuICAgIHRoaXMubWFzcyA9IHRvdGFsQXJlYSAqIGRlbnNpdHk7XG4gICAgdGhpcy51cGRhdGVNYXNzUHJvcGVydGllcygpO1xufTtcblxuLyoqXG4gKiBHZXQgdGhlIHRvdGFsIGFyZWEgb2YgYWxsIHNoYXBlcyBpbiB0aGUgYm9keVxuICogQG1ldGhvZCBnZXRBcmVhXG4gKiBAcmV0dXJuIHtOdW1iZXJ9XG4gKi9cbkJvZHkucHJvdG90eXBlLmdldEFyZWEgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgdG90YWxBcmVhID0gMDtcbiAgICBmb3IodmFyIGk9MDsgaTx0aGlzLnNoYXBlcy5sZW5ndGg7IGkrKyl7XG4gICAgICAgIHRvdGFsQXJlYSArPSB0aGlzLnNoYXBlc1tpXS5hcmVhO1xuICAgIH1cbiAgICByZXR1cm4gdG90YWxBcmVhO1xufTtcblxuLyoqXG4gKiBHZXQgdGhlIEFBQkIgZnJvbSB0aGUgYm9keS4gVGhlIEFBQkIgaXMgdXBkYXRlZCBpZiBuZWNlc3NhcnkuXG4gKiBAbWV0aG9kIGdldEFBQkJcbiAqIEByZXR1cm4ge0FBQkJ9IFRoZSBBQUJCIGluc3RhbmNlICh0aGlzLmFhYmIpXG4gKi9cbkJvZHkucHJvdG90eXBlLmdldEFBQkIgPSBmdW5jdGlvbigpe1xuICAgIGlmKHRoaXMuYWFiYk5lZWRzVXBkYXRlKXtcbiAgICAgICAgdGhpcy51cGRhdGVBQUJCKCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmFhYmI7XG59O1xuXG52YXIgc2hhcGVBQUJCID0gbmV3IEFBQkIoKSxcbiAgICB0bXAgPSB2ZWMyLmNyZWF0ZSgpO1xuXG4vKipcbiAqIFVwZGF0ZXMgdGhlIEFBQkIgb2YgdGhlIEJvZHksIGFuZCBzZXQgLmFhYmJOZWVkc1VwZGF0ZSA9IGZhbHNlLlxuICogQG1ldGhvZCB1cGRhdGVBQUJCXG4gKi9cbkJvZHkucHJvdG90eXBlLnVwZGF0ZUFBQkIgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgc2hhcGVzID0gdGhpcy5zaGFwZXMsXG4gICAgICAgIE4gPSBzaGFwZXMubGVuZ3RoLFxuICAgICAgICBvZmZzZXQgPSB0bXAsXG4gICAgICAgIGJvZHlBbmdsZSA9IHRoaXMuYW5nbGU7XG5cbiAgICBmb3IodmFyIGk9MDsgaSE9PU47IGkrKyl7XG4gICAgICAgIHZhciBzaGFwZSA9IHNoYXBlc1tpXSxcbiAgICAgICAgICAgIGFuZ2xlID0gc2hhcGUuYW5nbGUgKyBib2R5QW5nbGU7XG5cbiAgICAgICAgLy8gR2V0IHNoYXBlIHdvcmxkIG9mZnNldFxuICAgICAgICB2ZWMyLnJvdGF0ZShvZmZzZXQsIHNoYXBlLnBvc2l0aW9uLCBib2R5QW5nbGUpO1xuICAgICAgICB2ZWMyLmFkZChvZmZzZXQsIG9mZnNldCwgdGhpcy5wb3NpdGlvbik7XG5cbiAgICAgICAgLy8gR2V0IHNoYXBlIEFBQkJcbiAgICAgICAgc2hhcGUuY29tcHV0ZUFBQkIoc2hhcGVBQUJCLCBvZmZzZXQsIGFuZ2xlKTtcblxuICAgICAgICBpZihpPT09MCl7XG4gICAgICAgICAgICB0aGlzLmFhYmIuY29weShzaGFwZUFBQkIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5hYWJiLmV4dGVuZChzaGFwZUFBQkIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5hYWJiTmVlZHNVcGRhdGUgPSBmYWxzZTtcbn07XG5cbi8qKlxuICogVXBkYXRlIHRoZSBib3VuZGluZyByYWRpdXMgb2YgdGhlIGJvZHkgKHRoaXMuYm91bmRpbmdSYWRpdXMpLiBTaG91bGQgYmUgZG9uZSBpZiBhbnkgb2YgdGhlIHNoYXBlIGRpbWVuc2lvbnMgb3IgcG9zaXRpb25zIGFyZSBjaGFuZ2VkLlxuICogQG1ldGhvZCB1cGRhdGVCb3VuZGluZ1JhZGl1c1xuICovXG5Cb2R5LnByb3RvdHlwZS51cGRhdGVCb3VuZGluZ1JhZGl1cyA9IGZ1bmN0aW9uKCl7XG4gICAgdmFyIHNoYXBlcyA9IHRoaXMuc2hhcGVzLFxuICAgICAgICBOID0gc2hhcGVzLmxlbmd0aCxcbiAgICAgICAgcmFkaXVzID0gMDtcblxuICAgIGZvcih2YXIgaT0wOyBpIT09TjsgaSsrKXtcbiAgICAgICAgdmFyIHNoYXBlID0gc2hhcGVzW2ldLFxuICAgICAgICAgICAgb2Zmc2V0ID0gdmVjMi5sZW5ndGgoc2hhcGUucG9zaXRpb24pLFxuICAgICAgICAgICAgciA9IHNoYXBlLmJvdW5kaW5nUmFkaXVzO1xuICAgICAgICBpZihvZmZzZXQgKyByID4gcmFkaXVzKXtcbiAgICAgICAgICAgIHJhZGl1cyA9IG9mZnNldCArIHI7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmJvdW5kaW5nUmFkaXVzID0gcmFkaXVzO1xufTtcblxuLyoqXG4gKiBBZGQgYSBzaGFwZSB0byB0aGUgYm9keS4gWW91IGNhbiBwYXNzIGEgbG9jYWwgdHJhbnNmb3JtIHdoZW4gYWRkaW5nIGEgc2hhcGUsXG4gKiBzbyB0aGF0IHRoZSBzaGFwZSBnZXRzIGFuIG9mZnNldCBhbmQgYW5nbGUgcmVsYXRpdmUgdG8gdGhlIGJvZHkgY2VudGVyIG9mIG1hc3MuXG4gKiBXaWxsIGF1dG9tYXRpY2FsbHkgdXBkYXRlIHRoZSBtYXNzIHByb3BlcnRpZXMgYW5kIGJvdW5kaW5nIHJhZGl1cy5cbiAqXG4gKiBAbWV0aG9kIGFkZFNoYXBlXG4gKiBAcGFyYW0gIHtTaGFwZX0gICAgICAgICAgICAgIHNoYXBlXG4gKiBAcGFyYW0gIHtBcnJheX0gW29mZnNldF0gTG9jYWwgYm9keSBvZmZzZXQgb2YgdGhlIHNoYXBlLlxuICogQHBhcmFtICB7TnVtYmVyfSAgICAgICAgICAgICBbYW5nbGVdICBMb2NhbCBib2R5IGFuZ2xlLlxuICpcbiAqIEBleGFtcGxlXG4gKiAgICAgdmFyIGJvZHkgPSBuZXcgQm9keSgpLFxuICogICAgICAgICBzaGFwZSA9IG5ldyBDaXJjbGUoeyByYWRpdXM6IDEgfSk7XG4gKlxuICogICAgIC8vIEFkZCB0aGUgc2hhcGUgdG8gdGhlIGJvZHksIHBvc2l0aW9uZWQgaW4gdGhlIGNlbnRlclxuICogICAgIGJvZHkuYWRkU2hhcGUoc2hhcGUpO1xuICpcbiAqICAgICAvLyBBZGQgYW5vdGhlciBzaGFwZSB0byB0aGUgYm9keSwgcG9zaXRpb25lZCAxIHVuaXQgbGVuZ3RoIGZyb20gdGhlIGJvZHkgY2VudGVyIG9mIG1hc3MgYWxvbmcgdGhlIGxvY2FsIHgtYXhpcy5cbiAqICAgICBib2R5LmFkZFNoYXBlKHNoYXBlLFsxLDBdKTtcbiAqXG4gKiAgICAgLy8gQWRkIGFub3RoZXIgc2hhcGUgdG8gdGhlIGJvZHksIHBvc2l0aW9uZWQgMSB1bml0IGxlbmd0aCBmcm9tIHRoZSBib2R5IGNlbnRlciBvZiBtYXNzIGFsb25nIHRoZSBsb2NhbCB5LWF4aXMsIGFuZCByb3RhdGVkIDkwIGRlZ3JlZXMgQ0NXLlxuICogICAgIGJvZHkuYWRkU2hhcGUoc2hhcGUsWzAsMV0sTWF0aC5QSS8yKTtcbiAqL1xuQm9keS5wcm90b3R5cGUuYWRkU2hhcGUgPSBmdW5jdGlvbihzaGFwZSwgb2Zmc2V0LCBhbmdsZSl7XG4gICAgaWYoc2hhcGUuYm9keSl7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQSBzaGFwZSBjYW4gb25seSBiZSBhZGRlZCB0byBvbmUgYm9keS4nKTtcbiAgICB9XG4gICAgc2hhcGUuYm9keSA9IHRoaXM7XG5cbiAgICAvLyBDb3B5IHRoZSBvZmZzZXQgdmVjdG9yXG4gICAgaWYob2Zmc2V0KXtcbiAgICAgICAgdmVjMi5jb3B5KHNoYXBlLnBvc2l0aW9uLCBvZmZzZXQpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHZlYzIuc2V0KHNoYXBlLnBvc2l0aW9uLCAwLCAwKTtcbiAgICB9XG5cbiAgICBzaGFwZS5hbmdsZSA9IGFuZ2xlIHx8IDA7XG5cbiAgICB0aGlzLnNoYXBlcy5wdXNoKHNoYXBlKTtcbiAgICB0aGlzLnVwZGF0ZU1hc3NQcm9wZXJ0aWVzKCk7XG4gICAgdGhpcy51cGRhdGVCb3VuZGluZ1JhZGl1cygpO1xuXG4gICAgdGhpcy5hYWJiTmVlZHNVcGRhdGUgPSB0cnVlO1xufTtcblxuLyoqXG4gKiBSZW1vdmUgYSBzaGFwZVxuICogQG1ldGhvZCByZW1vdmVTaGFwZVxuICogQHBhcmFtICB7U2hhcGV9IHNoYXBlXG4gKiBAcmV0dXJuIHtCb29sZWFufSBUcnVlIGlmIHRoZSBzaGFwZSB3YXMgZm91bmQgYW5kIHJlbW92ZWQsIGVsc2UgZmFsc2UuXG4gKi9cbkJvZHkucHJvdG90eXBlLnJlbW92ZVNoYXBlID0gZnVuY3Rpb24oc2hhcGUpe1xuICAgIHZhciBpZHggPSB0aGlzLnNoYXBlcy5pbmRleE9mKHNoYXBlKTtcblxuICAgIGlmKGlkeCAhPT0gLTEpe1xuICAgICAgICB0aGlzLnNoYXBlcy5zcGxpY2UoaWR4LDEpO1xuICAgICAgICB0aGlzLmFhYmJOZWVkc1VwZGF0ZSA9IHRydWU7XG4gICAgICAgIHNoYXBlLmJvZHkgPSBudWxsO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufTtcblxuLyoqXG4gKiBVcGRhdGVzIC5pbmVydGlhLCAuaW52TWFzcywgLmludkluZXJ0aWEgZm9yIHRoaXMgQm9keS4gU2hvdWxkIGJlIGNhbGxlZCB3aGVuXG4gKiBjaGFuZ2luZyB0aGUgc3RydWN0dXJlIG9yIG1hc3Mgb2YgdGhlIEJvZHkuXG4gKlxuICogQG1ldGhvZCB1cGRhdGVNYXNzUHJvcGVydGllc1xuICpcbiAqIEBleGFtcGxlXG4gKiAgICAgYm9keS5tYXNzICs9IDE7XG4gKiAgICAgYm9keS51cGRhdGVNYXNzUHJvcGVydGllcygpO1xuICovXG5Cb2R5LnByb3RvdHlwZS51cGRhdGVNYXNzUHJvcGVydGllcyA9IGZ1bmN0aW9uKCl7XG4gICAgaWYodGhpcy50eXBlID09PSBCb2R5LlNUQVRJQyB8fCB0aGlzLnR5cGUgPT09IEJvZHkuS0lORU1BVElDKXtcblxuICAgICAgICB0aGlzLm1hc3MgPSBOdW1iZXIuTUFYX1ZBTFVFO1xuICAgICAgICB0aGlzLmludk1hc3MgPSAwO1xuICAgICAgICB0aGlzLmluZXJ0aWEgPSBOdW1iZXIuTUFYX1ZBTFVFO1xuICAgICAgICB0aGlzLmludkluZXJ0aWEgPSAwO1xuXG4gICAgfSBlbHNlIHtcblxuICAgICAgICB2YXIgc2hhcGVzID0gdGhpcy5zaGFwZXMsXG4gICAgICAgICAgICBOID0gc2hhcGVzLmxlbmd0aCxcbiAgICAgICAgICAgIG0gPSB0aGlzLm1hc3MgLyBOLFxuICAgICAgICAgICAgSSA9IDA7XG5cbiAgICAgICAgaWYoIXRoaXMuZml4ZWRSb3RhdGlvbil7XG4gICAgICAgICAgICBmb3IodmFyIGk9MDsgaTxOOyBpKyspe1xuICAgICAgICAgICAgICAgIHZhciBzaGFwZSA9IHNoYXBlc1tpXSxcbiAgICAgICAgICAgICAgICAgICAgcjIgPSB2ZWMyLnNxdWFyZWRMZW5ndGgoc2hhcGUucG9zaXRpb24pLFxuICAgICAgICAgICAgICAgICAgICBJY20gPSBzaGFwZS5jb21wdXRlTW9tZW50T2ZJbmVydGlhKG0pO1xuICAgICAgICAgICAgICAgIEkgKz0gSWNtICsgbSpyMjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuaW5lcnRpYSA9IEk7XG4gICAgICAgICAgICB0aGlzLmludkluZXJ0aWEgPSBJPjAgPyAxL0kgOiAwO1xuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmluZXJ0aWEgPSBOdW1iZXIuTUFYX1ZBTFVFO1xuICAgICAgICAgICAgdGhpcy5pbnZJbmVydGlhID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEludmVyc2UgbWFzcyBwcm9wZXJ0aWVzIGFyZSBlYXN5XG4gICAgICAgIHRoaXMuaW52TWFzcyA9IDEgLyB0aGlzLm1hc3M7XG5cbiAgICAgICAgdmVjMi5zZXQoXG4gICAgICAgICAgICB0aGlzLm1hc3NNdWx0aXBsaWVyLFxuICAgICAgICAgICAgdGhpcy5maXhlZFggPyAwIDogMSxcbiAgICAgICAgICAgIHRoaXMuZml4ZWRZID8gMCA6IDFcbiAgICAgICAgKTtcbiAgICB9XG59O1xuXG52YXIgQm9keV9hcHBseUZvcmNlX3IgPSB2ZWMyLmNyZWF0ZSgpO1xuXG4vKipcbiAqIEFwcGx5IGZvcmNlIHRvIGEgcG9pbnQgcmVsYXRpdmUgdG8gdGhlIGNlbnRlciBvZiBtYXNzIG9mIHRoZSBib2R5LiBUaGlzIGNvdWxkIGZvciBleGFtcGxlIGJlIGEgcG9pbnQgb24gdGhlIFJpZ2lkQm9keSBzdXJmYWNlLiBBcHBseWluZyBmb3JjZSB0aGlzIHdheSB3aWxsIGFkZCB0byBCb2R5LmZvcmNlIGFuZCBCb2R5LmFuZ3VsYXJGb3JjZS4gSWYgcmVsYXRpdmVQb2ludCBpcyB6ZXJvLCB0aGUgZm9yY2Ugd2lsbCBiZSBhcHBsaWVkIGRpcmVjdGx5IG9uIHRoZSBjZW50ZXIgb2YgbWFzcywgYW5kIHRoZSB0b3JxdWUgcHJvZHVjZWQgd2lsbCBiZSB6ZXJvLlxuICogQG1ldGhvZCBhcHBseUZvcmNlXG4gKiBAcGFyYW0ge0FycmF5fSBmb3JjZSBUaGUgZm9yY2UgdG8gYWRkLlxuICogQHBhcmFtIHtBcnJheX0gW3JlbGF0aXZlUG9pbnRdIEEgd29ybGQgcG9pbnQgdG8gYXBwbHkgdGhlIGZvcmNlIG9uLlxuICovXG5Cb2R5LnByb3RvdHlwZS5hcHBseUZvcmNlID0gZnVuY3Rpb24oZm9yY2UsIHJlbGF0aXZlUG9pbnQpe1xuXG4gICAgLy8gQWRkIGxpbmVhciBmb3JjZVxuICAgIHZlYzIuYWRkKHRoaXMuZm9yY2UsIHRoaXMuZm9yY2UsIGZvcmNlKTtcblxuICAgIGlmKHJlbGF0aXZlUG9pbnQpe1xuXG4gICAgICAgIC8vIENvbXB1dGUgcHJvZHVjZWQgcm90YXRpb25hbCBmb3JjZVxuICAgICAgICB2YXIgcm90Rm9yY2UgPSB2ZWMyLmNyb3NzTGVuZ3RoKHJlbGF0aXZlUG9pbnQsZm9yY2UpO1xuXG4gICAgICAgIC8vIEFkZCByb3RhdGlvbmFsIGZvcmNlXG4gICAgICAgIHRoaXMuYW5ndWxhckZvcmNlICs9IHJvdEZvcmNlO1xuICAgIH1cbn07XG5cbi8qKlxuICogQXBwbHkgZm9yY2UgdG8gYSBib2R5LWxvY2FsIHBvaW50LlxuICogQG1ldGhvZCBhcHBseUZvcmNlTG9jYWxcbiAqIEBwYXJhbSAge0FycmF5fSBsb2NhbEZvcmNlIFRoZSBmb3JjZSB2ZWN0b3IgdG8gYWRkLCBvcmllbnRlZCBpbiBsb2NhbCBib2R5IHNwYWNlLlxuICogQHBhcmFtICB7QXJyYXl9IGxvY2FsUG9pbnQgQSBwb2ludCByZWxhdGl2ZSB0byB0aGUgYm9keSBpbiB3b3JsZCBzcGFjZS4gSWYgbm90IGdpdmVuLCBpdCBpcyBzZXQgdG8gemVybyBhbmQgYWxsIG9mIHRoZSBpbXB1bHNlIHdpbGwgYmUgZXhjZXJ0ZWQgb24gdGhlIGNlbnRlciBvZiBtYXNzLlxuICovXG52YXIgQm9keV9hcHBseUZvcmNlX2ZvcmNlV29ybGQgPSB2ZWMyLmNyZWF0ZSgpO1xudmFyIEJvZHlfYXBwbHlGb3JjZV9wb2ludFdvcmxkID0gdmVjMi5jcmVhdGUoKTtcbnZhciBCb2R5X2FwcGx5Rm9yY2VfcG9pbnRMb2NhbCA9IHZlYzIuY3JlYXRlKCk7XG5Cb2R5LnByb3RvdHlwZS5hcHBseUZvcmNlTG9jYWwgPSBmdW5jdGlvbihsb2NhbEZvcmNlLCBsb2NhbFBvaW50KXtcbiAgICBsb2NhbFBvaW50ID0gbG9jYWxQb2ludCB8fCBCb2R5X2FwcGx5Rm9yY2VfcG9pbnRMb2NhbDtcbiAgICB2YXIgd29ybGRGb3JjZSA9IEJvZHlfYXBwbHlGb3JjZV9mb3JjZVdvcmxkO1xuICAgIHZhciB3b3JsZFBvaW50ID0gQm9keV9hcHBseUZvcmNlX3BvaW50V29ybGQ7XG4gICAgdGhpcy52ZWN0b3JUb1dvcmxkRnJhbWUod29ybGRGb3JjZSwgbG9jYWxGb3JjZSk7XG4gICAgdGhpcy52ZWN0b3JUb1dvcmxkRnJhbWUod29ybGRQb2ludCwgbG9jYWxQb2ludCk7XG4gICAgdGhpcy5hcHBseUZvcmNlKHdvcmxkRm9yY2UsIHdvcmxkUG9pbnQpO1xufTtcblxuLyoqXG4gKiBBcHBseSBpbXB1bHNlIHRvIGEgcG9pbnQgcmVsYXRpdmUgdG8gdGhlIGJvZHkuIFRoaXMgY291bGQgZm9yIGV4YW1wbGUgYmUgYSBwb2ludCBvbiB0aGUgQm9keSBzdXJmYWNlLiBBbiBpbXB1bHNlIGlzIGEgZm9yY2UgYWRkZWQgdG8gYSBib2R5IGR1cmluZyBhIHNob3J0IHBlcmlvZCBvZiB0aW1lIChpbXB1bHNlID0gZm9yY2UgKiB0aW1lKS4gSW1wdWxzZXMgd2lsbCBiZSBhZGRlZCB0byBCb2R5LnZlbG9jaXR5IGFuZCBCb2R5LmFuZ3VsYXJWZWxvY2l0eS5cbiAqIEBtZXRob2QgYXBwbHlJbXB1bHNlXG4gKiBAcGFyYW0gIHtBcnJheX0gaW1wdWxzZSBUaGUgaW1wdWxzZSB2ZWN0b3IgdG8gYWRkLCBvcmllbnRlZCBpbiB3b3JsZCBzcGFjZS5cbiAqIEBwYXJhbSAge0FycmF5fSBbcmVsYXRpdmVQb2ludF0gQSBwb2ludCByZWxhdGl2ZSB0byB0aGUgYm9keSBpbiB3b3JsZCBzcGFjZS4gSWYgbm90IGdpdmVuLCBpdCBpcyBzZXQgdG8gemVybyBhbmQgYWxsIG9mIHRoZSBpbXB1bHNlIHdpbGwgYmUgZXhjZXJ0ZWQgb24gdGhlIGNlbnRlciBvZiBtYXNzLlxuICovXG52YXIgQm9keV9hcHBseUltcHVsc2VfdmVsbyA9IHZlYzIuY3JlYXRlKCk7XG5Cb2R5LnByb3RvdHlwZS5hcHBseUltcHVsc2UgPSBmdW5jdGlvbihpbXB1bHNlVmVjdG9yLCByZWxhdGl2ZVBvaW50KXtcbiAgICBpZih0aGlzLnR5cGUgIT09IEJvZHkuRFlOQU1JQyl7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBDb21wdXRlIHByb2R1Y2VkIGNlbnRyYWwgaW1wdWxzZSB2ZWxvY2l0eVxuICAgIHZhciB2ZWxvID0gQm9keV9hcHBseUltcHVsc2VfdmVsbztcbiAgICB2ZWMyLnNjYWxlKHZlbG8sIGltcHVsc2VWZWN0b3IsIHRoaXMuaW52TWFzcyk7XG4gICAgdmVjMi5tdWx0aXBseSh2ZWxvLCB0aGlzLm1hc3NNdWx0aXBsaWVyLCB2ZWxvKTtcblxuICAgIC8vIEFkZCBsaW5lYXIgaW1wdWxzZVxuICAgIHZlYzIuYWRkKHRoaXMudmVsb2NpdHksIHZlbG8sIHRoaXMudmVsb2NpdHkpO1xuXG4gICAgaWYocmVsYXRpdmVQb2ludCl7XG4gICAgICAgIC8vIENvbXB1dGUgcHJvZHVjZWQgcm90YXRpb25hbCBpbXB1bHNlIHZlbG9jaXR5XG4gICAgICAgIHZhciByb3RWZWxvID0gdmVjMi5jcm9zc0xlbmd0aChyZWxhdGl2ZVBvaW50LCBpbXB1bHNlVmVjdG9yKTtcbiAgICAgICAgcm90VmVsbyAqPSB0aGlzLmludkluZXJ0aWE7XG5cbiAgICAgICAgLy8gQWRkIHJvdGF0aW9uYWwgSW1wdWxzZVxuICAgICAgICB0aGlzLmFuZ3VsYXJWZWxvY2l0eSArPSByb3RWZWxvO1xuICAgIH1cbn07XG5cbi8qKlxuICogQXBwbHkgaW1wdWxzZSB0byBhIHBvaW50IHJlbGF0aXZlIHRvIHRoZSBib2R5LiBUaGlzIGNvdWxkIGZvciBleGFtcGxlIGJlIGEgcG9pbnQgb24gdGhlIEJvZHkgc3VyZmFjZS4gQW4gaW1wdWxzZSBpcyBhIGZvcmNlIGFkZGVkIHRvIGEgYm9keSBkdXJpbmcgYSBzaG9ydCBwZXJpb2Qgb2YgdGltZSAoaW1wdWxzZSA9IGZvcmNlICogdGltZSkuIEltcHVsc2VzIHdpbGwgYmUgYWRkZWQgdG8gQm9keS52ZWxvY2l0eSBhbmQgQm9keS5hbmd1bGFyVmVsb2NpdHkuXG4gKiBAbWV0aG9kIGFwcGx5SW1wdWxzZUxvY2FsXG4gKiBAcGFyYW0gIHtBcnJheX0gaW1wdWxzZSBUaGUgaW1wdWxzZSB2ZWN0b3IgdG8gYWRkLCBvcmllbnRlZCBpbiB3b3JsZCBzcGFjZS5cbiAqIEBwYXJhbSAge0FycmF5fSBbcmVsYXRpdmVQb2ludF0gQSBwb2ludCByZWxhdGl2ZSB0byB0aGUgYm9keSBpbiB3b3JsZCBzcGFjZS4gSWYgbm90IGdpdmVuLCBpdCBpcyBzZXQgdG8gemVybyBhbmQgYWxsIG9mIHRoZSBpbXB1bHNlIHdpbGwgYmUgZXhjZXJ0ZWQgb24gdGhlIGNlbnRlciBvZiBtYXNzLlxuICovXG52YXIgQm9keV9hcHBseUltcHVsc2VfaW1wdWxzZVdvcmxkID0gdmVjMi5jcmVhdGUoKTtcbnZhciBCb2R5X2FwcGx5SW1wdWxzZV9wb2ludFdvcmxkID0gdmVjMi5jcmVhdGUoKTtcbnZhciBCb2R5X2FwcGx5SW1wdWxzZV9wb2ludExvY2FsID0gdmVjMi5jcmVhdGUoKTtcbkJvZHkucHJvdG90eXBlLmFwcGx5SW1wdWxzZUxvY2FsID0gZnVuY3Rpb24obG9jYWxJbXB1bHNlLCBsb2NhbFBvaW50KXtcbiAgICBsb2NhbFBvaW50ID0gbG9jYWxQb2ludCB8fCBCb2R5X2FwcGx5SW1wdWxzZV9wb2ludExvY2FsO1xuICAgIHZhciB3b3JsZEltcHVsc2UgPSBCb2R5X2FwcGx5SW1wdWxzZV9pbXB1bHNlV29ybGQ7XG4gICAgdmFyIHdvcmxkUG9pbnQgPSBCb2R5X2FwcGx5SW1wdWxzZV9wb2ludFdvcmxkO1xuICAgIHRoaXMudmVjdG9yVG9Xb3JsZEZyYW1lKHdvcmxkSW1wdWxzZSwgbG9jYWxJbXB1bHNlKTtcbiAgICB0aGlzLnZlY3RvclRvV29ybGRGcmFtZSh3b3JsZFBvaW50LCBsb2NhbFBvaW50KTtcbiAgICB0aGlzLmFwcGx5SW1wdWxzZSh3b3JsZEltcHVsc2UsIHdvcmxkUG9pbnQpO1xufTtcblxuLyoqXG4gKiBUcmFuc2Zvcm0gYSB3b3JsZCBwb2ludCB0byBsb2NhbCBib2R5IGZyYW1lLlxuICogQG1ldGhvZCB0b0xvY2FsRnJhbWVcbiAqIEBwYXJhbSAge0FycmF5fSBvdXQgICAgICAgICAgVGhlIHZlY3RvciB0byBzdG9yZSB0aGUgcmVzdWx0IGluXG4gKiBAcGFyYW0gIHtBcnJheX0gd29ybGRQb2ludCAgIFRoZSBpbnB1dCB3b3JsZCBwb2ludFxuICovXG5Cb2R5LnByb3RvdHlwZS50b0xvY2FsRnJhbWUgPSBmdW5jdGlvbihvdXQsIHdvcmxkUG9pbnQpe1xuICAgIHZlYzIudG9Mb2NhbEZyYW1lKG91dCwgd29ybGRQb2ludCwgdGhpcy5wb3NpdGlvbiwgdGhpcy5hbmdsZSk7XG59O1xuXG4vKipcbiAqIFRyYW5zZm9ybSBhIGxvY2FsIHBvaW50IHRvIHdvcmxkIGZyYW1lLlxuICogQG1ldGhvZCB0b1dvcmxkRnJhbWVcbiAqIEBwYXJhbSAge0FycmF5fSBvdXQgICAgICAgICAgVGhlIHZlY3RvciB0byBzdG9yZSB0aGUgcmVzdWx0IGluXG4gKiBAcGFyYW0gIHtBcnJheX0gbG9jYWxQb2ludCAgIFRoZSBpbnB1dCBsb2NhbCBwb2ludFxuICovXG5Cb2R5LnByb3RvdHlwZS50b1dvcmxkRnJhbWUgPSBmdW5jdGlvbihvdXQsIGxvY2FsUG9pbnQpe1xuICAgIHZlYzIudG9HbG9iYWxGcmFtZShvdXQsIGxvY2FsUG9pbnQsIHRoaXMucG9zaXRpb24sIHRoaXMuYW5nbGUpO1xufTtcblxuLyoqXG4gKiBUcmFuc2Zvcm0gYSB3b3JsZCBwb2ludCB0byBsb2NhbCBib2R5IGZyYW1lLlxuICogQG1ldGhvZCB2ZWN0b3JUb0xvY2FsRnJhbWVcbiAqIEBwYXJhbSAge0FycmF5fSBvdXQgICAgICAgICAgVGhlIHZlY3RvciB0byBzdG9yZSB0aGUgcmVzdWx0IGluXG4gKiBAcGFyYW0gIHtBcnJheX0gd29ybGRWZWN0b3IgIFRoZSBpbnB1dCB3b3JsZCB2ZWN0b3JcbiAqL1xuQm9keS5wcm90b3R5cGUudmVjdG9yVG9Mb2NhbEZyYW1lID0gZnVuY3Rpb24ob3V0LCB3b3JsZFZlY3Rvcil7XG4gICAgdmVjMi52ZWN0b3JUb0xvY2FsRnJhbWUob3V0LCB3b3JsZFZlY3RvciwgdGhpcy5hbmdsZSk7XG59O1xuXG4vKipcbiAqIFRyYW5zZm9ybSBhIGxvY2FsIHBvaW50IHRvIHdvcmxkIGZyYW1lLlxuICogQG1ldGhvZCB2ZWN0b3JUb1dvcmxkRnJhbWVcbiAqIEBwYXJhbSAge0FycmF5fSBvdXQgICAgICAgICAgVGhlIHZlY3RvciB0byBzdG9yZSB0aGUgcmVzdWx0IGluXG4gKiBAcGFyYW0gIHtBcnJheX0gbG9jYWxWZWN0b3IgIFRoZSBpbnB1dCBsb2NhbCB2ZWN0b3JcbiAqL1xuQm9keS5wcm90b3R5cGUudmVjdG9yVG9Xb3JsZEZyYW1lID0gZnVuY3Rpb24ob3V0LCBsb2NhbFZlY3Rvcil7XG4gICAgdmVjMi52ZWN0b3JUb0dsb2JhbEZyYW1lKG91dCwgbG9jYWxWZWN0b3IsIHRoaXMuYW5nbGUpO1xufTtcblxuLyoqXG4gKiBSZWFkcyBhIHBvbHlnb24gc2hhcGUgcGF0aCwgYW5kIGFzc2VtYmxlcyBjb252ZXggc2hhcGVzIGZyb20gdGhhdCBhbmQgcHV0cyB0aGVtIGF0IHByb3BlciBvZmZzZXQgcG9pbnRzLlxuICogQG1ldGhvZCBmcm9tUG9seWdvblxuICogQHBhcmFtIHtBcnJheX0gcGF0aCBBbiBhcnJheSBvZiAyZCB2ZWN0b3JzLCBlLmcuIFtbMCwwXSxbMCwxXSwuLi5dIHRoYXQgcmVzZW1ibGVzIGEgY29uY2F2ZSBvciBjb252ZXggcG9seWdvbi4gVGhlIHNoYXBlIG11c3QgYmUgc2ltcGxlIGFuZCB3aXRob3V0IGhvbGVzLlxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5vcHRpbWFsRGVjb21wPWZhbHNlXSAgIFNldCB0byB0cnVlIGlmIHlvdSBuZWVkIG9wdGltYWwgZGVjb21wb3NpdGlvbi4gV2FybmluZzogdmVyeSBzbG93IGZvciBwb2x5Z29ucyB3aXRoIG1vcmUgdGhhbiAxMCB2ZXJ0aWNlcy5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuc2tpcFNpbXBsZUNoZWNrPWZhbHNlXSBTZXQgdG8gdHJ1ZSBpZiB5b3UgYWxyZWFkeSBrbm93IHRoYXQgdGhlIHBhdGggaXMgbm90IGludGVyc2VjdGluZyBpdHNlbGYuXG4gKiBAcGFyYW0ge0Jvb2xlYW58TnVtYmVyfSBbb3B0aW9ucy5yZW1vdmVDb2xsaW5lYXJQb2ludHM9ZmFsc2VdIFNldCB0byBhIG51bWJlciAoYW5nbGUgdGhyZXNob2xkIHZhbHVlKSB0byByZW1vdmUgY29sbGluZWFyIHBvaW50cywgb3IgZmFsc2UgdG8ga2VlcCBhbGwgcG9pbnRzLlxuICogQHJldHVybiB7Qm9vbGVhbn0gVHJ1ZSBvbiBzdWNjZXNzLCBlbHNlIGZhbHNlLlxuICovXG5Cb2R5LnByb3RvdHlwZS5mcm9tUG9seWdvbiA9IGZ1bmN0aW9uKHBhdGgsb3B0aW9ucyl7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICAvLyBSZW1vdmUgYWxsIHNoYXBlc1xuICAgIGZvcih2YXIgaT10aGlzLnNoYXBlcy5sZW5ndGg7IGk+PTA7IC0taSl7XG4gICAgICAgIHRoaXMucmVtb3ZlU2hhcGUodGhpcy5zaGFwZXNbaV0pO1xuICAgIH1cblxuICAgIHZhciBwID0gbmV3IGRlY29tcC5Qb2x5Z29uKCk7XG4gICAgcC52ZXJ0aWNlcyA9IHBhdGg7XG5cbiAgICAvLyBNYWtlIGl0IGNvdW50ZXItY2xvY2t3aXNlXG4gICAgcC5tYWtlQ0NXKCk7XG5cbiAgICBpZih0eXBlb2Yob3B0aW9ucy5yZW1vdmVDb2xsaW5lYXJQb2ludHMpID09PSBcIm51bWJlclwiKXtcbiAgICAgICAgcC5yZW1vdmVDb2xsaW5lYXJQb2ludHMob3B0aW9ucy5yZW1vdmVDb2xsaW5lYXJQb2ludHMpO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGlmIGFueSBsaW5lIHNlZ21lbnQgaW50ZXJzZWN0cyB0aGUgcGF0aCBpdHNlbGZcbiAgICBpZih0eXBlb2Yob3B0aW9ucy5za2lwU2ltcGxlQ2hlY2spID09PSBcInVuZGVmaW5lZFwiKXtcbiAgICAgICAgaWYoIXAuaXNTaW1wbGUoKSl7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBTYXZlIHRoaXMgcGF0aCBmb3IgbGF0ZXJcbiAgICB0aGlzLmNvbmNhdmVQYXRoID0gcC52ZXJ0aWNlcy5zbGljZSgwKTtcbiAgICBmb3IodmFyIGk9MDsgaTx0aGlzLmNvbmNhdmVQYXRoLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgdmFyIHYgPSBbMCwwXTtcbiAgICAgICAgdmVjMi5jb3B5KHYsdGhpcy5jb25jYXZlUGF0aFtpXSk7XG4gICAgICAgIHRoaXMuY29uY2F2ZVBhdGhbaV0gPSB2O1xuICAgIH1cblxuICAgIC8vIFNsb3cgb3IgZmFzdCBkZWNvbXA/XG4gICAgdmFyIGNvbnZleGVzO1xuICAgIGlmKG9wdGlvbnMub3B0aW1hbERlY29tcCl7XG4gICAgICAgIGNvbnZleGVzID0gcC5kZWNvbXAoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBjb252ZXhlcyA9IHAucXVpY2tEZWNvbXAoKTtcbiAgICB9XG5cbiAgICB2YXIgY20gPSB2ZWMyLmNyZWF0ZSgpO1xuXG4gICAgLy8gQWRkIGNvbnZleGVzXG4gICAgZm9yKHZhciBpPTA7IGkhPT1jb252ZXhlcy5sZW5ndGg7IGkrKyl7XG4gICAgICAgIC8vIENyZWF0ZSBjb252ZXhcbiAgICAgICAgdmFyIGMgPSBuZXcgQ29udmV4KHsgdmVydGljZXM6IGNvbnZleGVzW2ldLnZlcnRpY2VzIH0pO1xuXG4gICAgICAgIC8vIE1vdmUgYWxsIHZlcnRpY2VzIHNvIGl0cyBjZW50ZXIgb2YgbWFzcyBpcyBpbiB0aGUgbG9jYWwgY2VudGVyIG9mIHRoZSBjb252ZXhcbiAgICAgICAgZm9yKHZhciBqPTA7IGohPT1jLnZlcnRpY2VzLmxlbmd0aDsgaisrKXtcbiAgICAgICAgICAgIHZhciB2ID0gYy52ZXJ0aWNlc1tqXTtcbiAgICAgICAgICAgIHZlYzIuc3ViKHYsdixjLmNlbnRlck9mTWFzcyk7XG4gICAgICAgIH1cblxuICAgICAgICB2ZWMyLnNjYWxlKGNtLGMuY2VudGVyT2ZNYXNzLDEpO1xuICAgICAgICBjLnVwZGF0ZVRyaWFuZ2xlcygpO1xuICAgICAgICBjLnVwZGF0ZUNlbnRlck9mTWFzcygpO1xuICAgICAgICBjLnVwZGF0ZUJvdW5kaW5nUmFkaXVzKCk7XG5cbiAgICAgICAgLy8gQWRkIHRoZSBzaGFwZVxuICAgICAgICB0aGlzLmFkZFNoYXBlKGMsY20pO1xuICAgIH1cblxuICAgIHRoaXMuYWRqdXN0Q2VudGVyT2ZNYXNzKCk7XG5cbiAgICB0aGlzLmFhYmJOZWVkc1VwZGF0ZSA9IHRydWU7XG5cbiAgICByZXR1cm4gdHJ1ZTtcbn07XG5cbnZhciBhZGp1c3RDZW50ZXJPZk1hc3NfdG1wMSA9IHZlYzIuZnJvbVZhbHVlcygwLDApLFxuICAgIGFkanVzdENlbnRlck9mTWFzc190bXAyID0gdmVjMi5mcm9tVmFsdWVzKDAsMCksXG4gICAgYWRqdXN0Q2VudGVyT2ZNYXNzX3RtcDMgPSB2ZWMyLmZyb21WYWx1ZXMoMCwwKSxcbiAgICBhZGp1c3RDZW50ZXJPZk1hc3NfdG1wNCA9IHZlYzIuZnJvbVZhbHVlcygwLDApO1xuXG4vKipcbiAqIE1vdmVzIHRoZSBzaGFwZSBvZmZzZXRzIHNvIHRoZWlyIGNlbnRlciBvZiBtYXNzIGJlY29tZXMgdGhlIGJvZHkgY2VudGVyIG9mIG1hc3MuXG4gKiBAbWV0aG9kIGFkanVzdENlbnRlck9mTWFzc1xuICovXG5Cb2R5LnByb3RvdHlwZS5hZGp1c3RDZW50ZXJPZk1hc3MgPSBmdW5jdGlvbigpe1xuICAgIHZhciBvZmZzZXRfdGltZXNfYXJlYSA9IGFkanVzdENlbnRlck9mTWFzc190bXAyLFxuICAgICAgICBzdW0gPSAgICAgICAgICAgICAgIGFkanVzdENlbnRlck9mTWFzc190bXAzLFxuICAgICAgICBjbSA9ICAgICAgICAgICAgICAgIGFkanVzdENlbnRlck9mTWFzc190bXA0LFxuICAgICAgICB0b3RhbEFyZWEgPSAgICAgICAgIDA7XG4gICAgdmVjMi5zZXQoc3VtLDAsMCk7XG5cbiAgICBmb3IodmFyIGk9MDsgaSE9PXRoaXMuc2hhcGVzLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgdmFyIHMgPSB0aGlzLnNoYXBlc1tpXTtcbiAgICAgICAgdmVjMi5zY2FsZShvZmZzZXRfdGltZXNfYXJlYSwgcy5wb3NpdGlvbiwgcy5hcmVhKTtcbiAgICAgICAgdmVjMi5hZGQoc3VtLCBzdW0sIG9mZnNldF90aW1lc19hcmVhKTtcbiAgICAgICAgdG90YWxBcmVhICs9IHMuYXJlYTtcbiAgICB9XG5cbiAgICB2ZWMyLnNjYWxlKGNtLHN1bSwxL3RvdGFsQXJlYSk7XG5cbiAgICAvLyBOb3cgbW92ZSBhbGwgc2hhcGVzXG4gICAgZm9yKHZhciBpPTA7IGkhPT10aGlzLnNoYXBlcy5sZW5ndGg7IGkrKyl7XG4gICAgICAgIHZhciBzID0gdGhpcy5zaGFwZXNbaV07XG4gICAgICAgIHZlYzIuc3ViKHMucG9zaXRpb24sIHMucG9zaXRpb24sIGNtKTtcbiAgICB9XG5cbiAgICAvLyBNb3ZlIHRoZSBib2R5IHBvc2l0aW9uIHRvb1xuICAgIHZlYzIuYWRkKHRoaXMucG9zaXRpb24sdGhpcy5wb3NpdGlvbixjbSk7XG5cbiAgICAvLyBBbmQgY29uY2F2ZSBwYXRoXG4gICAgZm9yKHZhciBpPTA7IHRoaXMuY29uY2F2ZVBhdGggJiYgaTx0aGlzLmNvbmNhdmVQYXRoLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgdmVjMi5zdWIodGhpcy5jb25jYXZlUGF0aFtpXSwgdGhpcy5jb25jYXZlUGF0aFtpXSwgY20pO1xuICAgIH1cblxuICAgIHRoaXMudXBkYXRlTWFzc1Byb3BlcnRpZXMoKTtcbiAgICB0aGlzLnVwZGF0ZUJvdW5kaW5nUmFkaXVzKCk7XG59O1xuXG4vKipcbiAqIFNldHMgdGhlIGZvcmNlIG9uIHRoZSBib2R5IHRvIHplcm8uXG4gKiBAbWV0aG9kIHNldFplcm9Gb3JjZVxuICovXG5Cb2R5LnByb3RvdHlwZS5zZXRaZXJvRm9yY2UgPSBmdW5jdGlvbigpe1xuICAgIHZlYzIuc2V0KHRoaXMuZm9yY2UsMC4wLDAuMCk7XG4gICAgdGhpcy5hbmd1bGFyRm9yY2UgPSAwLjA7XG59O1xuXG5Cb2R5LnByb3RvdHlwZS5yZXNldENvbnN0cmFpbnRWZWxvY2l0eSA9IGZ1bmN0aW9uKCl7XG4gICAgdmFyIGIgPSB0aGlzLFxuICAgICAgICB2bGFtYmRhID0gYi52bGFtYmRhO1xuICAgIHZlYzIuc2V0KHZsYW1iZGEsMCwwKTtcbiAgICBiLndsYW1iZGEgPSAwO1xufTtcblxuQm9keS5wcm90b3R5cGUuYWRkQ29uc3RyYWludFZlbG9jaXR5ID0gZnVuY3Rpb24oKXtcbiAgICB2YXIgYiA9IHRoaXMsXG4gICAgICAgIHYgPSBiLnZlbG9jaXR5O1xuICAgIHZlYzIuYWRkKCB2LCB2LCBiLnZsYW1iZGEpO1xuICAgIGIuYW5ndWxhclZlbG9jaXR5ICs9IGIud2xhbWJkYTtcbn07XG5cbi8qKlxuICogQXBwbHkgZGFtcGluZywgc2VlIDxhIGhyZWY9XCJodHRwOi8vY29kZS5nb29nbGUuY29tL3AvYnVsbGV0L2lzc3Vlcy9kZXRhaWw/aWQ9NzRcIj50aGlzPC9hPiBmb3IgZGV0YWlscy5cbiAqIEBtZXRob2QgYXBwbHlEYW1waW5nXG4gKiBAcGFyYW0gIHtudW1iZXJ9IGR0IEN1cnJlbnQgdGltZSBzdGVwXG4gKi9cbkJvZHkucHJvdG90eXBlLmFwcGx5RGFtcGluZyA9IGZ1bmN0aW9uKGR0KXtcbiAgICBpZih0aGlzLnR5cGUgPT09IEJvZHkuRFlOQU1JQyl7IC8vIE9ubHkgZm9yIGR5bmFtaWMgYm9kaWVzXG4gICAgICAgIHZhciB2ID0gdGhpcy52ZWxvY2l0eTtcbiAgICAgICAgdmVjMi5zY2FsZSh2LCB2LCBNYXRoLnBvdygxLjAgLSB0aGlzLmRhbXBpbmcsZHQpKTtcbiAgICAgICAgdGhpcy5hbmd1bGFyVmVsb2NpdHkgKj0gTWF0aC5wb3coMS4wIC0gdGhpcy5hbmd1bGFyRGFtcGluZyxkdCk7XG4gICAgfVxufTtcblxuLyoqXG4gKiBXYWtlIHRoZSBib2R5IHVwLiBOb3JtYWxseSB5b3Ugc2hvdWxkIG5vdCBuZWVkIHRoaXMsIGFzIHRoZSBib2R5IGlzIGF1dG9tYXRpY2FsbHkgYXdva2VuIGF0IGV2ZW50cyBzdWNoIGFzIGNvbGxpc2lvbnMuXG4gKiBTZXRzIHRoZSBzbGVlcFN0YXRlIHRvIHt7I2Nyb3NzTGluayBcIkJvZHkvQVdBS0U6cHJvcGVydHlcIn19Qm9keS5BV0FLRXt7L2Nyb3NzTGlua319IGFuZCBlbWl0cyB0aGUgd2FrZVVwIGV2ZW50IGlmIHRoZSBib2R5IHdhc24ndCBhd2FrZSBiZWZvcmUuXG4gKiBAbWV0aG9kIHdha2VVcFxuICovXG5Cb2R5LnByb3RvdHlwZS53YWtlVXAgPSBmdW5jdGlvbigpe1xuICAgIHZhciBzID0gdGhpcy5zbGVlcFN0YXRlO1xuICAgIHRoaXMuc2xlZXBTdGF0ZSA9IEJvZHkuQVdBS0U7XG4gICAgdGhpcy5pZGxlVGltZSA9IDA7XG4gICAgaWYocyAhPT0gQm9keS5BV0FLRSl7XG4gICAgICAgIHRoaXMuZW1pdChCb2R5Lndha2VVcEV2ZW50KTtcbiAgICB9XG59O1xuXG4vKipcbiAqIEZvcmNlIGJvZHkgc2xlZXBcbiAqIEBtZXRob2Qgc2xlZXBcbiAqL1xuQm9keS5wcm90b3R5cGUuc2xlZXAgPSBmdW5jdGlvbigpe1xuICAgIHRoaXMuc2xlZXBTdGF0ZSA9IEJvZHkuU0xFRVBJTkc7XG4gICAgdGhpcy5hbmd1bGFyVmVsb2NpdHkgPSAwO1xuICAgIHRoaXMuYW5ndWxhckZvcmNlID0gMDtcbiAgICB2ZWMyLnNldCh0aGlzLnZlbG9jaXR5LDAsMCk7XG4gICAgdmVjMi5zZXQodGhpcy5mb3JjZSwwLDApO1xuICAgIHRoaXMuZW1pdChCb2R5LnNsZWVwRXZlbnQpO1xufTtcblxuLyoqXG4gKiBDYWxsZWQgZXZlcnkgdGltZXN0ZXAgdG8gdXBkYXRlIGludGVybmFsIHNsZWVwIHRpbWVyIGFuZCBjaGFuZ2Ugc2xlZXAgc3RhdGUgaWYgbmVlZGVkLlxuICogQG1ldGhvZCBzbGVlcFRpY2tcbiAqIEBwYXJhbSB7bnVtYmVyfSB0aW1lIFRoZSB3b3JsZCB0aW1lIGluIHNlY29uZHNcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gZG9udFNsZWVwXG4gKiBAcGFyYW0ge251bWJlcn0gZHRcbiAqL1xuQm9keS5wcm90b3R5cGUuc2xlZXBUaWNrID0gZnVuY3Rpb24odGltZSwgZG9udFNsZWVwLCBkdCl7XG4gICAgaWYoIXRoaXMuYWxsb3dTbGVlcCB8fCB0aGlzLnR5cGUgPT09IEJvZHkuU0xFRVBJTkcpe1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy53YW50c1RvU2xlZXAgPSBmYWxzZTtcblxuICAgIHZhciBzbGVlcFN0YXRlID0gdGhpcy5zbGVlcFN0YXRlLFxuICAgICAgICBzcGVlZFNxdWFyZWQgPSB2ZWMyLnNxdWFyZWRMZW5ndGgodGhpcy52ZWxvY2l0eSkgKyBNYXRoLnBvdyh0aGlzLmFuZ3VsYXJWZWxvY2l0eSwyKSxcbiAgICAgICAgc3BlZWRMaW1pdFNxdWFyZWQgPSBNYXRoLnBvdyh0aGlzLnNsZWVwU3BlZWRMaW1pdCwyKTtcblxuICAgIC8vIEFkZCB0byBpZGxlIHRpbWVcbiAgICBpZihzcGVlZFNxdWFyZWQgPj0gc3BlZWRMaW1pdFNxdWFyZWQpe1xuICAgICAgICB0aGlzLmlkbGVUaW1lID0gMDtcbiAgICAgICAgdGhpcy5zbGVlcFN0YXRlID0gQm9keS5BV0FLRTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmlkbGVUaW1lICs9IGR0O1xuICAgICAgICB0aGlzLnNsZWVwU3RhdGUgPSBCb2R5LlNMRUVQWTtcbiAgICB9XG4gICAgaWYodGhpcy5pZGxlVGltZSA+IHRoaXMuc2xlZXBUaW1lTGltaXQpe1xuICAgICAgICBpZighZG9udFNsZWVwKXtcbiAgICAgICAgICAgIHRoaXMuc2xlZXAoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMud2FudHNUb1NsZWVwID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5cbi8qKlxuICogQ2hlY2sgaWYgdGhlIGJvZHkgaXMgb3ZlcmxhcHBpbmcgYW5vdGhlciBib2R5LiBOb3RlIHRoYXQgdGhpcyBtZXRob2Qgb25seSB3b3JrcyBpZiB0aGUgYm9keSB3YXMgYWRkZWQgdG8gYSBXb3JsZCBhbmQgaWYgYXQgbGVhc3Qgb25lIHN0ZXAgd2FzIHRha2VuLlxuICogQG1ldGhvZCBvdmVybGFwc1xuICogQHBhcmFtICB7Qm9keX0gYm9keVxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuQm9keS5wcm90b3R5cGUub3ZlcmxhcHMgPSBmdW5jdGlvbihib2R5KXtcbiAgICByZXR1cm4gdGhpcy53b3JsZC5vdmVybGFwS2VlcGVyLmJvZGllc0FyZU92ZXJsYXBwaW5nKHRoaXMsIGJvZHkpO1xufTtcblxudmFyIGludGVncmF0ZV9maE1pbnYgPSB2ZWMyLmNyZWF0ZSgpO1xudmFyIGludGVncmF0ZV92ZWxvZHQgPSB2ZWMyLmNyZWF0ZSgpO1xuXG4vKipcbiAqIE1vdmUgdGhlIGJvZHkgZm9yd2FyZCBpbiB0aW1lIGdpdmVuIGl0cyBjdXJyZW50IHZlbG9jaXR5LlxuICogQG1ldGhvZCBpbnRlZ3JhdGVcbiAqIEBwYXJhbSAge051bWJlcn0gZHRcbiAqL1xuQm9keS5wcm90b3R5cGUuaW50ZWdyYXRlID0gZnVuY3Rpb24oZHQpe1xuICAgIHZhciBtaW52ID0gdGhpcy5pbnZNYXNzLFxuICAgICAgICBmID0gdGhpcy5mb3JjZSxcbiAgICAgICAgcG9zID0gdGhpcy5wb3NpdGlvbixcbiAgICAgICAgdmVsbyA9IHRoaXMudmVsb2NpdHk7XG5cbiAgICAvLyBTYXZlIG9sZCBwb3NpdGlvblxuICAgIHZlYzIuY29weSh0aGlzLnByZXZpb3VzUG9zaXRpb24sIHRoaXMucG9zaXRpb24pO1xuICAgIHRoaXMucHJldmlvdXNBbmdsZSA9IHRoaXMuYW5nbGU7XG5cbiAgICAvLyBWZWxvY2l0eSB1cGRhdGVcbiAgICBpZighdGhpcy5maXhlZFJvdGF0aW9uKXtcbiAgICAgICAgdGhpcy5hbmd1bGFyVmVsb2NpdHkgKz0gdGhpcy5hbmd1bGFyRm9yY2UgKiB0aGlzLmludkluZXJ0aWEgKiBkdDtcbiAgICB9XG4gICAgdmVjMi5zY2FsZShpbnRlZ3JhdGVfZmhNaW52LCBmLCBkdCAqIG1pbnYpO1xuICAgIHZlYzIubXVsdGlwbHkoaW50ZWdyYXRlX2ZoTWludiwgdGhpcy5tYXNzTXVsdGlwbGllciwgaW50ZWdyYXRlX2ZoTWludik7XG4gICAgdmVjMi5hZGQodmVsbywgaW50ZWdyYXRlX2ZoTWludiwgdmVsbyk7XG5cbiAgICAvLyBDQ0RcbiAgICBpZighdGhpcy5pbnRlZ3JhdGVUb1RpbWVPZkltcGFjdChkdCkpe1xuXG4gICAgICAgIC8vIFJlZ3VsYXIgcG9zaXRpb24gdXBkYXRlXG4gICAgICAgIHZlYzIuc2NhbGUoaW50ZWdyYXRlX3ZlbG9kdCwgdmVsbywgZHQpO1xuICAgICAgICB2ZWMyLmFkZChwb3MsIHBvcywgaW50ZWdyYXRlX3ZlbG9kdCk7XG4gICAgICAgIGlmKCF0aGlzLmZpeGVkUm90YXRpb24pe1xuICAgICAgICAgICAgdGhpcy5hbmdsZSArPSB0aGlzLmFuZ3VsYXJWZWxvY2l0eSAqIGR0O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5hYWJiTmVlZHNVcGRhdGUgPSB0cnVlO1xufTtcblxudmFyIHJlc3VsdCA9IG5ldyBSYXljYXN0UmVzdWx0KCk7XG52YXIgcmF5ID0gbmV3IFJheSh7XG4gICAgbW9kZTogUmF5LkFMTFxufSk7XG52YXIgZGlyZWN0aW9uID0gdmVjMi5jcmVhdGUoKTtcbnZhciBlbmQgPSB2ZWMyLmNyZWF0ZSgpO1xudmFyIHN0YXJ0VG9FbmQgPSB2ZWMyLmNyZWF0ZSgpO1xudmFyIHJlbWVtYmVyUG9zaXRpb24gPSB2ZWMyLmNyZWF0ZSgpO1xuQm9keS5wcm90b3R5cGUuaW50ZWdyYXRlVG9UaW1lT2ZJbXBhY3QgPSBmdW5jdGlvbihkdCl7XG5cbiAgICBpZih0aGlzLmNjZFNwZWVkVGhyZXNob2xkIDwgMCB8fCB2ZWMyLnNxdWFyZWRMZW5ndGgodGhpcy52ZWxvY2l0eSkgPCBNYXRoLnBvdyh0aGlzLmNjZFNwZWVkVGhyZXNob2xkLCAyKSl7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB2ZWMyLm5vcm1hbGl6ZShkaXJlY3Rpb24sIHRoaXMudmVsb2NpdHkpO1xuXG4gICAgdmVjMi5zY2FsZShlbmQsIHRoaXMudmVsb2NpdHksIGR0KTtcbiAgICB2ZWMyLmFkZChlbmQsIGVuZCwgdGhpcy5wb3NpdGlvbik7XG5cbiAgICB2ZWMyLnN1YihzdGFydFRvRW5kLCBlbmQsIHRoaXMucG9zaXRpb24pO1xuICAgIHZhciBzdGFydFRvRW5kQW5nbGUgPSB0aGlzLmFuZ3VsYXJWZWxvY2l0eSAqIGR0O1xuICAgIHZhciBsZW4gPSB2ZWMyLmxlbmd0aChzdGFydFRvRW5kKTtcblxuICAgIHZhciB0aW1lT2ZJbXBhY3QgPSAxO1xuXG4gICAgdmFyIGhpdDtcbiAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgcmVzdWx0LnJlc2V0KCk7XG4gICAgcmF5LmNhbGxiYWNrID0gZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICBpZihyZXN1bHQuYm9keSA9PT0gdGhhdCl7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaGl0ID0gcmVzdWx0LmJvZHk7XG4gICAgICAgIHJlc3VsdC5nZXRIaXRQb2ludChlbmQsIHJheSk7XG4gICAgICAgIHZlYzIuc3ViKHN0YXJ0VG9FbmQsIGVuZCwgdGhhdC5wb3NpdGlvbik7XG4gICAgICAgIHRpbWVPZkltcGFjdCA9IHZlYzIubGVuZ3RoKHN0YXJ0VG9FbmQpIC8gbGVuO1xuICAgICAgICByZXN1bHQuc3RvcCgpO1xuICAgIH07XG4gICAgdmVjMi5jb3B5KHJheS5mcm9tLCB0aGlzLnBvc2l0aW9uKTtcbiAgICB2ZWMyLmNvcHkocmF5LnRvLCBlbmQpO1xuICAgIHJheS51cGRhdGUoKTtcbiAgICB0aGlzLndvcmxkLnJheWNhc3QocmVzdWx0LCByYXkpO1xuXG4gICAgaWYoIWhpdCl7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB2YXIgcmVtZW1iZXJBbmdsZSA9IHRoaXMuYW5nbGU7XG4gICAgdmVjMi5jb3B5KHJlbWVtYmVyUG9zaXRpb24sIHRoaXMucG9zaXRpb24pO1xuXG4gICAgLy8gR290IGEgc3RhcnQgYW5kIGVuZCBwb2ludC4gQXBwcm94aW1hdGUgdGltZSBvZiBpbXBhY3QgdXNpbmcgYmluYXJ5IHNlYXJjaFxuICAgIHZhciBpdGVyID0gMDtcbiAgICB2YXIgdG1pbiA9IDA7XG4gICAgdmFyIHRtaWQgPSAwO1xuICAgIHZhciB0bWF4ID0gdGltZU9mSW1wYWN0O1xuICAgIHdoaWxlICh0bWF4ID49IHRtaW4gJiYgaXRlciA8IHRoaXMuY2NkSXRlcmF0aW9ucykge1xuICAgICAgICBpdGVyKys7XG5cbiAgICAgICAgLy8gY2FsY3VsYXRlIHRoZSBtaWRwb2ludFxuICAgICAgICB0bWlkID0gKHRtYXggLSB0bWluKSAvIDI7XG5cbiAgICAgICAgLy8gTW92ZSB0aGUgYm9keSB0byB0aGF0IHBvaW50XG4gICAgICAgIHZlYzIuc2NhbGUoaW50ZWdyYXRlX3ZlbG9kdCwgc3RhcnRUb0VuZCwgdGltZU9mSW1wYWN0KTtcbiAgICAgICAgdmVjMi5hZGQodGhpcy5wb3NpdGlvbiwgcmVtZW1iZXJQb3NpdGlvbiwgaW50ZWdyYXRlX3ZlbG9kdCk7XG4gICAgICAgIHRoaXMuYW5nbGUgPSByZW1lbWJlckFuZ2xlICsgc3RhcnRUb0VuZEFuZ2xlICogdGltZU9mSW1wYWN0O1xuICAgICAgICB0aGlzLnVwZGF0ZUFBQkIoKTtcblxuICAgICAgICAvLyBjaGVjayBvdmVybGFwXG4gICAgICAgIHZhciBvdmVybGFwcyA9IHRoaXMuYWFiYi5vdmVybGFwcyhoaXQuYWFiYikgJiYgdGhpcy53b3JsZC5uYXJyb3dwaGFzZS5ib2RpZXNPdmVybGFwKHRoaXMsIGhpdCk7XG5cbiAgICAgICAgaWYgKG92ZXJsYXBzKSB7XG4gICAgICAgICAgICAvLyBjaGFuZ2UgbWluIHRvIHNlYXJjaCB1cHBlciBpbnRlcnZhbFxuICAgICAgICAgICAgdG1pbiA9IHRtaWQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBjaGFuZ2UgbWF4IHRvIHNlYXJjaCBsb3dlciBpbnRlcnZhbFxuICAgICAgICAgICAgdG1heCA9IHRtaWQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB0aW1lT2ZJbXBhY3QgPSB0bWlkO1xuXG4gICAgdmVjMi5jb3B5KHRoaXMucG9zaXRpb24sIHJlbWVtYmVyUG9zaXRpb24pO1xuICAgIHRoaXMuYW5nbGUgPSByZW1lbWJlckFuZ2xlO1xuXG4gICAgLy8gbW92ZSB0byBUT0lcbiAgICB2ZWMyLnNjYWxlKGludGVncmF0ZV92ZWxvZHQsIHN0YXJ0VG9FbmQsIHRpbWVPZkltcGFjdCk7XG4gICAgdmVjMi5hZGQodGhpcy5wb3NpdGlvbiwgdGhpcy5wb3NpdGlvbiwgaW50ZWdyYXRlX3ZlbG9kdCk7XG4gICAgaWYoIXRoaXMuZml4ZWRSb3RhdGlvbil7XG4gICAgICAgIHRoaXMuYW5nbGUgKz0gc3RhcnRUb0VuZEFuZ2xlICogdGltZU9mSW1wYWN0O1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xufTtcblxuLyoqXG4gKiBHZXQgdmVsb2NpdHkgb2YgYSBwb2ludCBpbiB0aGUgYm9keS5cbiAqIEBtZXRob2QgZ2V0VmVsb2NpdHlBdFBvaW50XG4gKiBAcGFyYW0gIHtBcnJheX0gcmVzdWx0IEEgdmVjdG9yIHRvIHN0b3JlIHRoZSByZXN1bHQgaW5cbiAqIEBwYXJhbSAge0FycmF5fSByZWxhdGl2ZVBvaW50IEEgd29ybGQgb3JpZW50ZWQgdmVjdG9yLCBpbmRpY2F0aW5nIHRoZSBwb3NpdGlvbiBvZiB0aGUgcG9pbnQgdG8gZ2V0IHRoZSB2ZWxvY2l0eSBmcm9tXG4gKiBAcmV0dXJuIHtBcnJheX0gVGhlIHJlc3VsdCB2ZWN0b3JcbiAqL1xuQm9keS5wcm90b3R5cGUuZ2V0VmVsb2NpdHlBdFBvaW50ID0gZnVuY3Rpb24ocmVzdWx0LCByZWxhdGl2ZVBvaW50KXtcbiAgICB2ZWMyLmNyb3NzVloocmVzdWx0LCByZWxhdGl2ZVBvaW50LCB0aGlzLmFuZ3VsYXJWZWxvY2l0eSk7XG4gICAgdmVjMi5zdWJ0cmFjdChyZXN1bHQsIHRoaXMudmVsb2NpdHksIHJlc3VsdCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8qKlxuICogQGV2ZW50IHNsZWVweVxuICovXG5Cb2R5LnNsZWVweUV2ZW50ID0ge1xuICAgIHR5cGU6IFwic2xlZXB5XCJcbn07XG5cbi8qKlxuICogQGV2ZW50IHNsZWVwXG4gKi9cbkJvZHkuc2xlZXBFdmVudCA9IHtcbiAgICB0eXBlOiBcInNsZWVwXCJcbn07XG5cbi8qKlxuICogQGV2ZW50IHdha2V1cFxuICovXG5Cb2R5Lndha2VVcEV2ZW50ID0ge1xuICAgIHR5cGU6IFwid2FrZXVwXCJcbn07XG5cbi8qKlxuICogRHluYW1pYyBib2R5LlxuICogQHByb3BlcnR5IERZTkFNSUNcbiAqIEB0eXBlIHtOdW1iZXJ9XG4gKiBAc3RhdGljXG4gKi9cbkJvZHkuRFlOQU1JQyA9IDE7XG5cbi8qKlxuICogU3RhdGljIGJvZHkuXG4gKiBAcHJvcGVydHkgU1RBVElDXG4gKiBAdHlwZSB7TnVtYmVyfVxuICogQHN0YXRpY1xuICovXG5Cb2R5LlNUQVRJQyA9IDI7XG5cbi8qKlxuICogS2luZW1hdGljIGJvZHkuXG4gKiBAcHJvcGVydHkgS0lORU1BVElDXG4gKiBAdHlwZSB7TnVtYmVyfVxuICogQHN0YXRpY1xuICovXG5Cb2R5LktJTkVNQVRJQyA9IDQ7XG5cbi8qKlxuICogQHByb3BlcnR5IEFXQUtFXG4gKiBAdHlwZSB7TnVtYmVyfVxuICogQHN0YXRpY1xuICovXG5Cb2R5LkFXQUtFID0gMDtcblxuLyoqXG4gKiBAcHJvcGVydHkgU0xFRVBZXG4gKiBAdHlwZSB7TnVtYmVyfVxuICogQHN0YXRpY1xuICovXG5Cb2R5LlNMRUVQWSA9IDE7XG5cbi8qKlxuICogQHByb3BlcnR5IFNMRUVQSU5HXG4gKiBAdHlwZSB7TnVtYmVyfVxuICogQHN0YXRpY1xuICovXG5Cb2R5LlNMRUVQSU5HID0gMjtcblxuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcDIvc3JjL29iamVjdHMvQm9keS5qc1xuICoqIG1vZHVsZSBpZCA9IDZcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsImNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG5cbmRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoY2FudmFzKTtcblxuZnVuY3Rpb24gcmVzaXplKCkge1xuICBjYW52YXMud2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgY2FudmFzLmhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcbn1cblxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHJlc2l6ZSk7XG5yZXNpemUoKTtcblxubW9kdWxlLmV4cG9ydHMgPSB7Y2FudmFzLCBjdHh9O1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zY3JpcHRzL3JlbmRlci9jYW52YXMuanNcbiAqKi8iLCIvLyBFeHBvcnQgcDIgY2xhc3Nlc1xudmFyIHAyID0gbW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgQUFCQiA6ICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlKCcuL2NvbGxpc2lvbi9BQUJCJyksXG4gICAgQW5nbGVMb2NrRXF1YXRpb24gOiAgICAgICAgICAgICByZXF1aXJlKCcuL2VxdWF0aW9ucy9BbmdsZUxvY2tFcXVhdGlvbicpLFxuICAgIEJvZHkgOiAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZSgnLi9vYmplY3RzL0JvZHknKSxcbiAgICBCcm9hZHBoYXNlIDogICAgICAgICAgICAgICAgICAgIHJlcXVpcmUoJy4vY29sbGlzaW9uL0Jyb2FkcGhhc2UnKSxcbiAgICBDYXBzdWxlIDogICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmUoJy4vc2hhcGVzL0NhcHN1bGUnKSxcbiAgICBDaXJjbGUgOiAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmUoJy4vc2hhcGVzL0NpcmNsZScpLFxuICAgIENvbnN0cmFpbnQgOiAgICAgICAgICAgICAgICAgICAgcmVxdWlyZSgnLi9jb25zdHJhaW50cy9Db25zdHJhaW50JyksXG4gICAgQ29udGFjdEVxdWF0aW9uIDogICAgICAgICAgICAgICByZXF1aXJlKCcuL2VxdWF0aW9ucy9Db250YWN0RXF1YXRpb24nKSxcbiAgICBDb250YWN0RXF1YXRpb25Qb29sIDogICAgICAgICAgIHJlcXVpcmUoJy4vdXRpbHMvQ29udGFjdEVxdWF0aW9uUG9vbCcpLFxuICAgIENvbnRhY3RNYXRlcmlhbCA6ICAgICAgICAgICAgICAgcmVxdWlyZSgnLi9tYXRlcmlhbC9Db250YWN0TWF0ZXJpYWwnKSxcbiAgICBDb252ZXggOiAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmUoJy4vc2hhcGVzL0NvbnZleCcpLFxuICAgIERpc3RhbmNlQ29uc3RyYWludCA6ICAgICAgICAgICAgcmVxdWlyZSgnLi9jb25zdHJhaW50cy9EaXN0YW5jZUNvbnN0cmFpbnQnKSxcbiAgICBFcXVhdGlvbiA6ICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmUoJy4vZXF1YXRpb25zL0VxdWF0aW9uJyksXG4gICAgRXZlbnRFbWl0dGVyIDogICAgICAgICAgICAgICAgICByZXF1aXJlKCcuL2V2ZW50cy9FdmVudEVtaXR0ZXInKSxcbiAgICBGcmljdGlvbkVxdWF0aW9uIDogICAgICAgICAgICAgIHJlcXVpcmUoJy4vZXF1YXRpb25zL0ZyaWN0aW9uRXF1YXRpb24nKSxcbiAgICBGcmljdGlvbkVxdWF0aW9uUG9vbCA6ICAgICAgICAgIHJlcXVpcmUoJy4vdXRpbHMvRnJpY3Rpb25FcXVhdGlvblBvb2wnKSxcbiAgICBHZWFyQ29uc3RyYWludCA6ICAgICAgICAgICAgICAgIHJlcXVpcmUoJy4vY29uc3RyYWludHMvR2VhckNvbnN0cmFpbnQnKSxcbiAgICBHU1NvbHZlciA6ICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmUoJy4vc29sdmVyL0dTU29sdmVyJyksXG4gICAgSGVpZ2h0ZmllbGQgOiAgICAgICAgICAgICAgICAgICByZXF1aXJlKCcuL3NoYXBlcy9IZWlnaHRmaWVsZCcpLFxuICAgIExpbmUgOiAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZSgnLi9zaGFwZXMvTGluZScpLFxuICAgIExvY2tDb25zdHJhaW50IDogICAgICAgICAgICAgICAgcmVxdWlyZSgnLi9jb25zdHJhaW50cy9Mb2NrQ29uc3RyYWludCcpLFxuICAgIE1hdGVyaWFsIDogICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZSgnLi9tYXRlcmlhbC9NYXRlcmlhbCcpLFxuICAgIE5hcnJvd3BoYXNlIDogICAgICAgICAgICAgICAgICAgcmVxdWlyZSgnLi9jb2xsaXNpb24vTmFycm93cGhhc2UnKSxcbiAgICBOYWl2ZUJyb2FkcGhhc2UgOiAgICAgICAgICAgICAgIHJlcXVpcmUoJy4vY29sbGlzaW9uL05haXZlQnJvYWRwaGFzZScpLFxuICAgIFBhcnRpY2xlIDogICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZSgnLi9zaGFwZXMvUGFydGljbGUnKSxcbiAgICBQbGFuZSA6ICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmUoJy4vc2hhcGVzL1BsYW5lJyksXG4gICAgUG9vbCA6ICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlKCcuL3V0aWxzL1Bvb2wnKSxcbiAgICBSZXZvbHV0ZUNvbnN0cmFpbnQgOiAgICAgICAgICAgIHJlcXVpcmUoJy4vY29uc3RyYWludHMvUmV2b2x1dGVDb25zdHJhaW50JyksXG4gICAgUHJpc21hdGljQ29uc3RyYWludCA6ICAgICAgICAgICByZXF1aXJlKCcuL2NvbnN0cmFpbnRzL1ByaXNtYXRpY0NvbnN0cmFpbnQnKSxcbiAgICBSYXkgOiAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmUoJy4vY29sbGlzaW9uL1JheScpLFxuICAgIFJheWNhc3RSZXN1bHQgOiAgICAgICAgICAgICAgICAgcmVxdWlyZSgnLi9jb2xsaXNpb24vUmF5Y2FzdFJlc3VsdCcpLFxuICAgIEJveCA6ICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZSgnLi9zaGFwZXMvQm94JyksXG4gICAgUm90YXRpb25hbFZlbG9jaXR5RXF1YXRpb24gOiAgICByZXF1aXJlKCcuL2VxdWF0aW9ucy9Sb3RhdGlvbmFsVmVsb2NpdHlFcXVhdGlvbicpLFxuICAgIFNBUEJyb2FkcGhhc2UgOiAgICAgICAgICAgICAgICAgcmVxdWlyZSgnLi9jb2xsaXNpb24vU0FQQnJvYWRwaGFzZScpLFxuICAgIFNoYXBlIDogICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZSgnLi9zaGFwZXMvU2hhcGUnKSxcbiAgICBTb2x2ZXIgOiAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmUoJy4vc29sdmVyL1NvbHZlcicpLFxuICAgIFNwcmluZyA6ICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZSgnLi9vYmplY3RzL1NwcmluZycpLFxuICAgIFRvcERvd25WZWhpY2xlIDogICAgICAgICAgICAgICAgcmVxdWlyZSgnLi9vYmplY3RzL1RvcERvd25WZWhpY2xlJyksXG4gICAgTGluZWFyU3ByaW5nIDogICAgICAgICAgICAgICAgICByZXF1aXJlKCcuL29iamVjdHMvTGluZWFyU3ByaW5nJyksXG4gICAgUm90YXRpb25hbFNwcmluZyA6ICAgICAgICAgICAgICByZXF1aXJlKCcuL29iamVjdHMvUm90YXRpb25hbFNwcmluZycpLFxuICAgIFV0aWxzIDogICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZSgnLi91dGlscy9VdGlscycpLFxuICAgIFdvcmxkIDogICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZSgnLi93b3JsZC9Xb3JsZCcpLFxuICAgIHZlYzIgOiAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZSgnLi9tYXRoL3ZlYzInKSxcbiAgICB2ZXJzaW9uIDogICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmUoJy4uL3BhY2thZ2UuanNvbicpLnZlcnNpb24sXG59O1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkocDIsICdSZWN0YW5nbGUnLCB7XG4gICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdUaGUgUmVjdGFuZ2xlIGNsYXNzIGhhcyBiZWVuIHJlbmFtZWQgdG8gQm94LicpO1xuICAgICAgICByZXR1cm4gdGhpcy5Cb3g7XG4gICAgfVxufSk7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcDIvc3JjL3AyLmpzXG4gKiogbW9kdWxlIGlkID0gOFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwibW9kdWxlLmV4cG9ydHMgPSBQb29sO1xuXG4vKipcbiAqIEBjbGFzcyBPYmplY3QgcG9vbGluZyB1dGlsaXR5LlxuICovXG5mdW5jdGlvbiBQb29sKG9wdGlvbnMpIHtcblx0b3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cblx0LyoqXG5cdCAqIEBwcm9wZXJ0eSB7QXJyYXl9IG9iamVjdHNcblx0ICogQHR5cGUge0FycmF5fVxuXHQgKi9cblx0dGhpcy5vYmplY3RzID0gW107XG5cblx0aWYob3B0aW9ucy5zaXplICE9PSB1bmRlZmluZWQpe1xuXHRcdHRoaXMucmVzaXplKG9wdGlvbnMuc2l6ZSk7XG5cdH1cbn1cblxuLyoqXG4gKiBAbWV0aG9kIHJlc2l6ZVxuICogQHBhcmFtIHtudW1iZXJ9IHNpemVcbiAqIEByZXR1cm4ge1Bvb2x9IFNlbGYsIGZvciBjaGFpbmluZ1xuICovXG5Qb29sLnByb3RvdHlwZS5yZXNpemUgPSBmdW5jdGlvbiAoc2l6ZSkge1xuXHR2YXIgb2JqZWN0cyA9IHRoaXMub2JqZWN0cztcblxuXHR3aGlsZSAob2JqZWN0cy5sZW5ndGggPiBzaXplKSB7XG5cdFx0b2JqZWN0cy5wb3AoKTtcblx0fVxuXG5cdHdoaWxlIChvYmplY3RzLmxlbmd0aCA8IHNpemUpIHtcblx0XHRvYmplY3RzLnB1c2godGhpcy5jcmVhdGUoKSk7XG5cdH1cblxuXHRyZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogR2V0IGFuIG9iamVjdCBmcm9tIHRoZSBwb29sIG9yIGNyZWF0ZSBhIG5ldyBpbnN0YW5jZS5cbiAqIEBtZXRob2QgZ2V0XG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKi9cblBvb2wucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uICgpIHtcblx0dmFyIG9iamVjdHMgPSB0aGlzLm9iamVjdHM7XG5cdHJldHVybiBvYmplY3RzLmxlbmd0aCA/IG9iamVjdHMucG9wKCkgOiB0aGlzLmNyZWF0ZSgpO1xufTtcblxuLyoqXG4gKiBDbGVhbiB1cCBhbmQgcHV0IHRoZSBvYmplY3QgYmFjayBpbnRvIHRoZSBwb29sIGZvciBsYXRlciB1c2UuXG4gKiBAbWV0aG9kIHJlbGVhc2VcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3RcbiAqIEByZXR1cm4ge1Bvb2x9IFNlbGYgZm9yIGNoYWluaW5nXG4gKi9cblBvb2wucHJvdG90eXBlLnJlbGVhc2UgPSBmdW5jdGlvbiAob2JqZWN0KSB7XG5cdHRoaXMuZGVzdHJveShvYmplY3QpO1xuXHR0aGlzLm9iamVjdHMucHVzaChvYmplY3QpO1xuXHRyZXR1cm4gdGhpcztcbn07XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9wMi9zcmMvdXRpbHMvUG9vbC5qc1xuICoqIG1vZHVsZSBpZCA9IDlcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsImV4cG9ydCBjb25zdCBGUkFNRV9SQVRFID0gNjA7XG5leHBvcnQgY29uc3QgV09STERfU1BFRUQgPSAxIC8gMzA7XG5leHBvcnQgY29uc3QgTUFYX1NVQlNURVBTID0gMTA7XG5leHBvcnQgY29uc3QgUEFVU0VfS0VZID0gODA7XG5leHBvcnQgY29uc3QgU1BBQ0VfS0VZID0gMzI7XG5leHBvcnQgY29uc3QgTEVGVF9LRVkgPSA2NTtcbmV4cG9ydCBjb25zdCBVUF9LRVkgPSA4NztcbmV4cG9ydCBjb25zdCBSSUdIVF9LRVkgPSA2ODtcbmV4cG9ydCBjb25zdCBET1dOX0tFWSA9IDgzO1xuZXhwb3J0IGNvbnN0IFJBRElBTiA9IE1hdGguUEkgKiAyO1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zY3JpcHRzL2NvbnN0YW50cy5qc1xuICoqLyIsImltcG9ydCBwMiBmcm9tICdwMic7XG5pbXBvcnQge0dST1VORF9MRVZFTH0gZnJvbSAnd29ybGQnO1xuXG5jb25zdCBUWVBFID0ge307XG5leHBvcnQge1RZUEUgYXMgZGVmYXVsdH07XG5cbmV4cG9ydCBjb25zdCBXSURUSCA9IDEuNjtcbmV4cG9ydCBjb25zdCBIRUlHSFQgPSAxO1xuXG5cbmZ1bmN0aW9uIHVwZGF0ZVBsYW5lKHBsYW5lLCBuZXdQbGFuZSkge1xuICBwbGFuZS5ib2R5LnBvc2l0aW9uWzBdID0gbmV3UGxhbmUuYm9keS5wb3NpdGlvblswXTtcbiAgcGxhbmUuYm9keS5wb3NpdGlvblsxXSA9IG5ld1BsYW5lLmJvZHkucG9zaXRpb25bMV07XG4gIHBsYW5lLmJvZHkuYW5nbGUgPSBuZXdQbGFuZS5ib2R5LmFuZ2xlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlKG9wdHMsIHdvcmxkKSB7XG4gIGNvbnN0IGJvZHkgPSBuZXcgcDIuQm9keSh7XG4gICAgbWFzczogMCxcbiAgICBhbmdsZTogMCxcbiAgICBwb3NpdGlvbjogWzMsIEdST1VORF9MRVZFTCArIEhFSUdIVCAvIDJdXG4gIH0pO1xuXG4gIGJvZHkuVFlQRSA9IFRZUEU7XG4gIHdvcmxkLmFkZEJvZHkoYm9keSk7XG5cbiAgYm9keS5hZGRTaGFwZShuZXcgcDIuQm94KHtcbiAgICB3aWR0aDogV0lEVEgsXG4gICAgaGVpZ2h0OiBIRUlHSFRcbiAgfSkpO1xuXG4gIGNvbnN0IHBsYW5lID0ge1xuICAgIGJvZHk6IGJvZHksXG4gICAgdGhydXN0OiAwLFxuICAgIHRocm90dGxlOiAwLFxuICAgIGhlYWx0OiAxLFxuICAgIGJ1bGxldHM6IDIwXG4gIH07XG5cbiAgaWYoIW9wdHMpIHtcbiAgICByZXR1cm4gcGxhbmU7XG4gIH1cblxuICB1cGRhdGVQbGFuZShwbGFuZSwgb3B0cyk7XG5cbiAgcmV0dXJuIHBsYW5lO1xufVxuXG5leHBvcnQgY29uc3QgaW5pdGlhbCA9ICgpID0+ICh7fSk7XG5cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGUocGxhbmVzLCBpbnB1dCwgd29ybGQpIHtcbiAgZm9yKGxldCBpZCBpbiBpbnB1dC5wbGFuZXMpIHtcbiAgICBjb25zdCBwbGFuZSA9IHBsYW5lc1tpZF07XG5cbiAgICBpZighcGxhbmUpIHtcbiAgICAgIHBsYW5lc1tpZF0gPSBjcmVhdGUoaW5wdXQucGxhbmVzW2lkXSwgd29ybGQpO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgdXBkYXRlUGxhbmUocGxhbmUsIGlucHV0LnBsYW5lc1tpZF0pO1xuICB9XG4gIHJldHVybiBwbGFuZXM7XG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NjcmlwdHMvcGxhbmUvaW5kZXguanNcbiAqKi8iLCJpbXBvcnQge2NhbnZhcywgY3R4fSBmcm9tICdyZW5kZXIvY2FudmFzJztcbmltcG9ydCB7U0NBTEV9IGZyb20gJ3JlbmRlci9jb25zdGFudHMnO1xuaW1wb3J0IHtXSURUSH0gZnJvbSAnd29ybGQnO1xuXG5leHBvcnQgZnVuY3Rpb24gc2NhbGUobnVtKSB7XG4gIHJldHVybiBudW0gLyBTQ0FMRTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdhbWVUb0NhbnZhcyh7eCwgeX0pIHtcbiAgcmV0dXJuIHtcbiAgICB4OiBzY2FsZSh4KSxcbiAgICB5OiBjYW52YXMuaGVpZ2h0IC0gc2NhbGUoeSlcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGJvZHlUb0NhbnZhcyh7cG9zaXRpb246IFt4LCB5XX0pIHtcbiAgcmV0dXJuIHtcbiAgICB4OiBzY2FsZSh4KSxcbiAgICB5OiBjYW52YXMuaGVpZ2h0IC0gc2NhbGUoeSlcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlY3RQYXRoKHgsIHksIHcsIGgpIHtcbiAgY3R4LmJlZ2luUGF0aCgpO1xuICBjdHgubW92ZVRvKHgsIHkpO1xuICBjdHgubGluZVRvKHggKyB3LCB5KTtcbiAgY3R4LmxpbmVUbyh4ICsgdywgeSArIGgpO1xuICBjdHgubGluZVRvKHgsIHkgKyBoKTtcbiAgY3R4LmNsb3NlUGF0aCgpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2FtZXJhVHJhbnNsYXRpb24ocGxheWVyKSB7XG4gIGNvbnN0IHBsYXllck9uQ2FudmFzID0gYm9keVRvQ2FudmFzKHBsYXllci5ib2R5KTtcblxuICByZXR1cm4ge1xuICAgIHg6IE1hdGgubWF4KC0oc2NhbGUoV0lEVEgpIC0gY2FudmFzLndpZHRoKSwgTWF0aC5taW4oMCwgY2FudmFzLndpZHRoIC8gMiAtIHBsYXllck9uQ2FudmFzLngpKSxcbiAgICB5OiBNYXRoLm1heCgwLCBjYW52YXMuaGVpZ2h0IC8gMiAtIHBsYXllck9uQ2FudmFzLnkpXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0b1JHQihhcnIpIHtcbiAgcmV0dXJuIGByZ2IoJHthcnIuam9pbignLCcpfSlgO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaW1hZ2Uoc3JjKSB7XG4gIGNvbnN0IGltZyA9IG5ldyBJbWFnZSgpO1xuICBpbWcuc3JjID0gc3JjO1xuICByZXR1cm4gaW1nO1xufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zY3JpcHRzL3JlbmRlci91dGlscy5qc1xuICoqLyIsImltcG9ydCBwMiBmcm9tICdwMic7XG5pbXBvcnQge1dPUkxEX1NQRUVELCBNQVhfU1VCU1RFUFN9IGZyb20gJ2NvbnN0YW50cyc7XG5pbXBvcnQge2dyb3VuZH0gZnJvbSAnbWF0ZXJpYWxzJztcblxuZXhwb3J0IGNvbnN0IFdJRFRIID0gMTAwMDtcbmV4cG9ydCBjb25zdCBIRUlHSFQgPSAxMDA7XG5leHBvcnQgY29uc3QgR1JPVU5EX0xFVkVMID0gMDtcblxuZXhwb3J0IGZ1bmN0aW9uIGluaXRpYWwod29ybGQpIHtcbiAgY29uc3QgYm9keSA9IG5ldyBwMi5Cb2R5KHttYXNzOiAwfSk7XG4gIGNvbnN0IHNoYXBlID0gbmV3IHAyLlBsYW5lKCk7XG4gIHNoYXBlLm1hdGVyaWFsID0gZ3JvdW5kO1xuICBib2R5LmFkZFNoYXBlKHNoYXBlKTtcbiAgd29ybGQuYWRkQm9keShib2R5KTtcblxuICByZXR1cm4gd29ybGQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGUod29ybGQsIGlucHV0KSB7XG4gIHdvcmxkLnN0ZXAoV09STERfU1BFRUQsIGlucHV0LmRlbHRhICogV09STERfU1BFRUQsIE1BWF9TVUJTVEVQUyk7XG5cbiAgY29uc3Qge2VtaXRJbXBhY3RFdmVudCwgbmFycm93cGhhc2V9ID0gd29ybGQ7XG5cbiAgaWYoIWVtaXRJbXBhY3RFdmVudCkge1xuICAgIHdvcmxkLmltcGFjdHMgPSBbXTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBmaXJzdEltcGFjdHMgPSBuYXJyb3dwaGFzZS5jb250YWN0RXF1YXRpb25zXG4gICAgICAuZmlsdGVyKCh7Zmlyc3RJbXBhY3QsIGJvZHlBLCBib2R5Qn0pID0+IGZpcnN0SW1wYWN0ICYmIGJvZHlBLndvcmxkICYmIGJvZHlCLndvcmxkKTtcblxuICAgIHdvcmxkLmltcGFjdHMgPSBmaXJzdEltcGFjdHMuZmlsdGVyKGZ1bmN0aW9uIHVuaXF1ZVBhaXIoe2JvZHlBLCBib2R5Qn0sIGluZGV4KSB7XG4gICAgICBmb3IobGV0IGkgPSAwOyBpIDwgaW5kZXg7IGkrKykge1xuICAgICAgICBpZihmaXJzdEltcGFjdHNbaV0uYm9keUEgPT09IGJvZHlBICYmIGZpcnN0SW1wYWN0c1tpXS5ib2R5QiA9PT0gYm9keUIgfHxcbiAgICAgICAgICBmaXJzdEltcGFjdHNbaV0uYm9keUIgPT09IGJvZHlBICYmIGZpcnN0SW1wYWN0c1tpXS5ib2R5QSA9PT0gYm9keUIpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIHdvcmxkO1xufVxuXG5cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc2NyaXB0cy93b3JsZC9pbmRleC5qc1xuICoqLyIsInZhciB2ZWMyID0gcmVxdWlyZSgnLi4vbWF0aC92ZWMyJylcbiwgICBFcXVhdGlvbiA9IHJlcXVpcmUoJy4vRXF1YXRpb24nKVxuLCAgIFV0aWxzID0gcmVxdWlyZSgnLi4vdXRpbHMvVXRpbHMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBGcmljdGlvbkVxdWF0aW9uO1xuXG4vKipcbiAqIENvbnN0cmFpbnMgdGhlIHNsaXBwaW5nIGluIGEgY29udGFjdCBhbG9uZyBhIHRhbmdlbnRcbiAqXG4gKiBAY2xhc3MgRnJpY3Rpb25FcXVhdGlvblxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0JvZHl9IGJvZHlBXG4gKiBAcGFyYW0ge0JvZHl9IGJvZHlCXG4gKiBAcGFyYW0ge051bWJlcn0gc2xpcEZvcmNlXG4gKiBAZXh0ZW5kcyBFcXVhdGlvblxuICovXG5mdW5jdGlvbiBGcmljdGlvbkVxdWF0aW9uKGJvZHlBLCBib2R5Qiwgc2xpcEZvcmNlKXtcbiAgICBFcXVhdGlvbi5jYWxsKHRoaXMsIGJvZHlBLCBib2R5QiwgLXNsaXBGb3JjZSwgc2xpcEZvcmNlKTtcblxuICAgIC8qKlxuICAgICAqIFJlbGF0aXZlIHZlY3RvciBmcm9tIGNlbnRlciBvZiBib2R5IEEgdG8gdGhlIGNvbnRhY3QgcG9pbnQsIHdvcmxkIG9yaWVudGVkLlxuICAgICAqIEBwcm9wZXJ0eSBjb250YWN0UG9pbnRBXG4gICAgICogQHR5cGUge0FycmF5fVxuICAgICAqL1xuICAgIHRoaXMuY29udGFjdFBvaW50QSA9IHZlYzIuY3JlYXRlKCk7XG5cbiAgICAvKipcbiAgICAgKiBSZWxhdGl2ZSB2ZWN0b3IgZnJvbSBjZW50ZXIgb2YgYm9keSBCIHRvIHRoZSBjb250YWN0IHBvaW50LCB3b3JsZCBvcmllbnRlZC5cbiAgICAgKiBAcHJvcGVydHkgY29udGFjdFBvaW50QlxuICAgICAqIEB0eXBlIHtBcnJheX1cbiAgICAgKi9cbiAgICB0aGlzLmNvbnRhY3RQb2ludEIgPSB2ZWMyLmNyZWF0ZSgpO1xuXG4gICAgLyoqXG4gICAgICogVGFuZ2VudCB2ZWN0b3IgdGhhdCB0aGUgZnJpY3Rpb24gZm9yY2Ugd2lsbCBhY3QgYWxvbmcuIFdvcmxkIG9yaWVudGVkLlxuICAgICAqIEBwcm9wZXJ0eSB0XG4gICAgICogQHR5cGUge0FycmF5fVxuICAgICAqL1xuICAgIHRoaXMudCA9IHZlYzIuY3JlYXRlKCk7XG5cbiAgICAvKipcbiAgICAgKiBDb250YWN0RXF1YXRpb25zIGNvbm5lY3RlZCB0byB0aGlzIGZyaWN0aW9uIGVxdWF0aW9uLiBUaGUgY29udGFjdCBlcXVhdGlvbnMgY2FuIGJlIHVzZWQgdG8gcmVzY2FsZSB0aGUgbWF4IGZvcmNlIGZvciB0aGUgZnJpY3Rpb24uIElmIG1vcmUgdGhhbiBvbmUgY29udGFjdCBlcXVhdGlvbiBpcyBnaXZlbiwgdGhlbiB0aGUgbWF4IGZvcmNlIGNhbiBiZSBzZXQgdG8gdGhlIGF2ZXJhZ2UuXG4gICAgICogQHByb3BlcnR5IGNvbnRhY3RFcXVhdGlvbnNcbiAgICAgKiBAdHlwZSB7Q29udGFjdEVxdWF0aW9ufVxuICAgICAqL1xuICAgIHRoaXMuY29udGFjdEVxdWF0aW9ucyA9IFtdO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHNoYXBlIGluIGJvZHkgaSB0aGF0IHRyaWdnZXJlZCB0aGlzIGZyaWN0aW9uLlxuICAgICAqIEBwcm9wZXJ0eSBzaGFwZUFcbiAgICAgKiBAdHlwZSB7U2hhcGV9XG4gICAgICogQHRvZG8gTmVlZGVkPyBUaGUgc2hhcGUgY2FuIGJlIGxvb2tlZCB1cCB2aWEgY29udGFjdEVxdWF0aW9uLnNoYXBlQS4uLlxuICAgICAqL1xuICAgIHRoaXMuc2hhcGVBID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBzaGFwZSBpbiBib2R5IGogdGhhdCB0cmlnZ2VyZWQgdGhpcyBmcmljdGlvbi5cbiAgICAgKiBAcHJvcGVydHkgc2hhcGVCXG4gICAgICogQHR5cGUge1NoYXBlfVxuICAgICAqIEB0b2RvIE5lZWRlZD8gVGhlIHNoYXBlIGNhbiBiZSBsb29rZWQgdXAgdmlhIGNvbnRhY3RFcXVhdGlvbi5zaGFwZUIuLi5cbiAgICAgKi9cbiAgICB0aGlzLnNoYXBlQiA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZnJpY3Rpb24gY29lZmZpY2llbnQgdG8gdXNlLlxuICAgICAqIEBwcm9wZXJ0eSBmcmljdGlvbkNvZWZmaWNpZW50XG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmZyaWN0aW9uQ29lZmZpY2llbnQgPSAwLjM7XG59XG5GcmljdGlvbkVxdWF0aW9uLnByb3RvdHlwZSA9IG5ldyBFcXVhdGlvbigpO1xuRnJpY3Rpb25FcXVhdGlvbi5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBGcmljdGlvbkVxdWF0aW9uO1xuXG4vKipcbiAqIFNldCB0aGUgc2xpcHBpbmcgY29uZGl0aW9uIGZvciB0aGUgY29uc3RyYWludC4gVGhlIGZyaWN0aW9uIGZvcmNlIGNhbm5vdCBiZVxuICogbGFyZ2VyIHRoYW4gdGhpcyB2YWx1ZS5cbiAqIEBtZXRob2Qgc2V0U2xpcEZvcmNlXG4gKiBAcGFyYW0gIHtOdW1iZXJ9IHNsaXBGb3JjZVxuICovXG5GcmljdGlvbkVxdWF0aW9uLnByb3RvdHlwZS5zZXRTbGlwRm9yY2UgPSBmdW5jdGlvbihzbGlwRm9yY2Upe1xuICAgIHRoaXMubWF4Rm9yY2UgPSBzbGlwRm9yY2U7XG4gICAgdGhpcy5taW5Gb3JjZSA9IC1zbGlwRm9yY2U7XG59O1xuXG4vKipcbiAqIEdldCB0aGUgbWF4IGZvcmNlIGZvciB0aGUgY29uc3RyYWludC5cbiAqIEBtZXRob2QgZ2V0U2xpcEZvcmNlXG4gKiBAcmV0dXJuIHtOdW1iZXJ9XG4gKi9cbkZyaWN0aW9uRXF1YXRpb24ucHJvdG90eXBlLmdldFNsaXBGb3JjZSA9IGZ1bmN0aW9uKCl7XG4gICAgcmV0dXJuIHRoaXMubWF4Rm9yY2U7XG59O1xuXG5GcmljdGlvbkVxdWF0aW9uLnByb3RvdHlwZS5jb21wdXRlQiA9IGZ1bmN0aW9uKGEsYixoKXtcbiAgICB2YXIgYmkgPSB0aGlzLmJvZHlBLFxuICAgICAgICBiaiA9IHRoaXMuYm9keUIsXG4gICAgICAgIHJpID0gdGhpcy5jb250YWN0UG9pbnRBLFxuICAgICAgICByaiA9IHRoaXMuY29udGFjdFBvaW50QixcbiAgICAgICAgdCA9IHRoaXMudCxcbiAgICAgICAgRyA9IHRoaXMuRztcblxuICAgIC8vIEcgPSBbLXQgLXJpeHQgdCByanh0XVxuICAgIC8vIEFuZCByZW1lbWJlciwgdGhpcyBpcyBhIHB1cmUgdmVsb2NpdHkgY29uc3RyYWludCwgZyBpcyBhbHdheXMgemVybyFcbiAgICBHWzBdID0gLXRbMF07XG4gICAgR1sxXSA9IC10WzFdO1xuICAgIEdbMl0gPSAtdmVjMi5jcm9zc0xlbmd0aChyaSx0KTtcbiAgICBHWzNdID0gdFswXTtcbiAgICBHWzRdID0gdFsxXTtcbiAgICBHWzVdID0gdmVjMi5jcm9zc0xlbmd0aChyaix0KTtcblxuICAgIHZhciBHVyA9IHRoaXMuY29tcHV0ZUdXKCksXG4gICAgICAgIEdpTWYgPSB0aGlzLmNvbXB1dGVHaU1mKCk7XG5cbiAgICB2YXIgQiA9IC8qIC0gZyAqIGEgICovIC0gR1cgKiBiIC0gaCpHaU1mO1xuXG4gICAgcmV0dXJuIEI7XG59O1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcDIvc3JjL2VxdWF0aW9ucy9GcmljdGlvbkVxdWF0aW9uLmpzXG4gKiogbW9kdWxlIGlkID0gMTRcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciBTaGFwZSA9IHJlcXVpcmUoJy4vU2hhcGUnKVxuLCAgIHZlYzIgPSByZXF1aXJlKCcuLi9tYXRoL3ZlYzInKVxuLCAgIHBvbHlrID0gcmVxdWlyZSgnLi4vbWF0aC9wb2x5aycpXG4sICAgZGVjb21wID0gcmVxdWlyZSgncG9seS1kZWNvbXAnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBDb252ZXg7XG5cbi8qKlxuICogQ29udmV4IHNoYXBlIGNsYXNzLlxuICogQGNsYXNzIENvbnZleFxuICogQGNvbnN0cnVjdG9yXG4gKiBAZXh0ZW5kcyBTaGFwZVxuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAoTm90ZSB0aGF0IHRoaXMgb3B0aW9ucyBvYmplY3Qgd2lsbCBiZSBwYXNzZWQgb24gdG8gdGhlIHt7I2Nyb3NzTGluayBcIlNoYXBlXCJ9fXt7L2Nyb3NzTGlua319IGNvbnN0cnVjdG9yLilcbiAqIEBwYXJhbSB7QXJyYXl9IFtvcHRpb25zLnZlcnRpY2VzXSBBbiBhcnJheSBvZiB2ZXJ0aWNlcyB0aGF0IHNwYW4gdGhpcyBzaGFwZS4gVmVydGljZXMgYXJlIGdpdmVuIGluIGNvdW50ZXItY2xvY2t3aXNlIChDQ1cpIGRpcmVjdGlvbi5cbiAqIEBwYXJhbSB7QXJyYXl9IFtvcHRpb25zLmF4ZXNdIEFuIGFycmF5IG9mIHVuaXQgbGVuZ3RoIHZlY3RvcnMsIHJlcHJlc2VudGluZyB0aGUgc3ltbWV0cnkgYXhlcyBpbiB0aGUgY29udmV4LlxuICogQGV4YW1wbGVcbiAqICAgICAvLyBDcmVhdGUgYSBib3hcbiAqICAgICB2YXIgdmVydGljZXMgPSBbWy0xLC0xXSwgWzEsLTFdLCBbMSwxXSwgWy0xLDFdXTtcbiAqICAgICB2YXIgY29udmV4U2hhcGUgPSBuZXcgQ29udmV4KHsgdmVydGljZXM6IHZlcnRpY2VzIH0pO1xuICogICAgIGJvZHkuYWRkU2hhcGUoY29udmV4U2hhcGUpO1xuICovXG5mdW5jdGlvbiBDb252ZXgob3B0aW9ucyl7XG4gICAgaWYoQXJyYXkuaXNBcnJheShhcmd1bWVudHNbMF0pKXtcbiAgICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgIHZlcnRpY2VzOiBhcmd1bWVudHNbMF0sXG4gICAgICAgICAgICBheGVzOiBhcmd1bWVudHNbMV1cbiAgICAgICAgfTtcbiAgICAgICAgY29uc29sZS53YXJuKCdUaGUgQ29udmV4IGNvbnN0cnVjdG9yIHNpZ25hdHVyZSBoYXMgY2hhbmdlZC4gUGxlYXNlIHVzZSB0aGUgZm9sbG93aW5nIGZvcm1hdDogbmV3IENvbnZleCh7IHZlcnRpY2VzOiBbLi4uXSwgLi4uIH0pJyk7XG4gICAgfVxuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgLyoqXG4gICAgICogVmVydGljZXMgZGVmaW5lZCBpbiB0aGUgbG9jYWwgZnJhbWUuXG4gICAgICogQHByb3BlcnR5IHZlcnRpY2VzXG4gICAgICogQHR5cGUge0FycmF5fVxuICAgICAqL1xuICAgIHRoaXMudmVydGljZXMgPSBbXTtcblxuICAgIC8vIENvcHkgdGhlIHZlcnRzXG4gICAgdmFyIHZlcnRpY2VzID0gb3B0aW9ucy52ZXJ0aWNlcyAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy52ZXJ0aWNlcyA6IFtdO1xuICAgIGZvcih2YXIgaT0wOyBpIDwgdmVydGljZXMubGVuZ3RoOyBpKyspe1xuICAgICAgICB2YXIgdiA9IHZlYzIuY3JlYXRlKCk7XG4gICAgICAgIHZlYzIuY29weSh2LCB2ZXJ0aWNlc1tpXSk7XG4gICAgICAgIHRoaXMudmVydGljZXMucHVzaCh2KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBeGVzIGRlZmluZWQgaW4gdGhlIGxvY2FsIGZyYW1lLlxuICAgICAqIEBwcm9wZXJ0eSBheGVzXG4gICAgICogQHR5cGUge0FycmF5fVxuICAgICAqL1xuICAgIHRoaXMuYXhlcyA9IFtdO1xuXG4gICAgaWYob3B0aW9ucy5heGVzKXtcblxuICAgICAgICAvLyBDb3B5IHRoZSBheGVzXG4gICAgICAgIGZvcih2YXIgaT0wOyBpIDwgb3B0aW9ucy5heGVzLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgICAgIHZhciBheGlzID0gdmVjMi5jcmVhdGUoKTtcbiAgICAgICAgICAgIHZlYzIuY29weShheGlzLCBvcHRpb25zLmF4ZXNbaV0pO1xuICAgICAgICAgICAgdGhpcy5heGVzLnB1c2goYXhpcyk7XG4gICAgICAgIH1cblxuICAgIH0gZWxzZSB7XG5cbiAgICAgICAgLy8gQ29uc3RydWN0IGF4ZXMgZnJvbSB0aGUgdmVydGV4IGRhdGFcbiAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IHRoaXMudmVydGljZXMubGVuZ3RoOyBpKyspe1xuICAgICAgICAgICAgLy8gR2V0IHRoZSB3b3JsZCBlZGdlXG4gICAgICAgICAgICB2YXIgd29ybGRQb2ludDAgPSB0aGlzLnZlcnRpY2VzW2ldO1xuICAgICAgICAgICAgdmFyIHdvcmxkUG9pbnQxID0gdGhpcy52ZXJ0aWNlc1soaSsxKSAlIHRoaXMudmVydGljZXMubGVuZ3RoXTtcblxuICAgICAgICAgICAgdmFyIG5vcm1hbCA9IHZlYzIuY3JlYXRlKCk7XG4gICAgICAgICAgICB2ZWMyLnN1Yihub3JtYWwsIHdvcmxkUG9pbnQxLCB3b3JsZFBvaW50MCk7XG5cbiAgICAgICAgICAgIC8vIEdldCBub3JtYWwgLSBqdXN0IHJvdGF0ZSA5MCBkZWdyZWVzIHNpbmNlIHZlcnRpY2VzIGFyZSBnaXZlbiBpbiBDQ1dcbiAgICAgICAgICAgIHZlYzIucm90YXRlOTBjdyhub3JtYWwsIG5vcm1hbCk7XG4gICAgICAgICAgICB2ZWMyLm5vcm1hbGl6ZShub3JtYWwsIG5vcm1hbCk7XG5cbiAgICAgICAgICAgIHRoaXMuYXhlcy5wdXNoKG5vcm1hbCk7XG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBjZW50ZXIgb2YgbWFzcyBvZiB0aGUgQ29udmV4XG4gICAgICogQHByb3BlcnR5IGNlbnRlck9mTWFzc1xuICAgICAqIEB0eXBlIHtBcnJheX1cbiAgICAgKi9cbiAgICB0aGlzLmNlbnRlck9mTWFzcyA9IHZlYzIuZnJvbVZhbHVlcygwLDApO1xuXG4gICAgLyoqXG4gICAgICogVHJpYW5ndWxhdGVkIHZlcnNpb24gb2YgdGhpcyBjb252ZXguIFRoZSBzdHJ1Y3R1cmUgaXMgQXJyYXkgb2YgMy1BcnJheXMsIGFuZCBlYWNoIHN1YmFycmF5IGNvbnRhaW5zIDMgaW50ZWdlcnMsIHJlZmVyZW5jaW5nIHRoZSB2ZXJ0aWNlcy5cbiAgICAgKiBAcHJvcGVydHkgdHJpYW5nbGVzXG4gICAgICogQHR5cGUge0FycmF5fVxuICAgICAqL1xuICAgIHRoaXMudHJpYW5nbGVzID0gW107XG5cbiAgICBpZih0aGlzLnZlcnRpY2VzLmxlbmd0aCl7XG4gICAgICAgIHRoaXMudXBkYXRlVHJpYW5nbGVzKCk7XG4gICAgICAgIHRoaXMudXBkYXRlQ2VudGVyT2ZNYXNzKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJvdW5kaW5nIHJhZGl1cyBvZiB0aGUgY29udmV4XG4gICAgICogQHByb3BlcnR5IGJvdW5kaW5nUmFkaXVzXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmJvdW5kaW5nUmFkaXVzID0gMDtcblxuICAgIG9wdGlvbnMudHlwZSA9IFNoYXBlLkNPTlZFWDtcbiAgICBTaGFwZS5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuXG4gICAgdGhpcy51cGRhdGVCb3VuZGluZ1JhZGl1cygpO1xuICAgIHRoaXMudXBkYXRlQXJlYSgpO1xuICAgIGlmKHRoaXMuYXJlYSA8IDApe1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb252ZXggdmVydGljZXMgbXVzdCBiZSBnaXZlbiBpbiBjb250ZXItY2xvY2t3aXNlIHdpbmRpbmcuXCIpO1xuICAgIH1cbn1cbkNvbnZleC5wcm90b3R5cGUgPSBuZXcgU2hhcGUoKTtcbkNvbnZleC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBDb252ZXg7XG5cbnZhciB0bXBWZWMxID0gdmVjMi5jcmVhdGUoKTtcbnZhciB0bXBWZWMyID0gdmVjMi5jcmVhdGUoKTtcblxuLyoqXG4gKiBQcm9qZWN0IGEgQ29udmV4IG9udG8gYSB3b3JsZC1vcmllbnRlZCBheGlzXG4gKiBAbWV0aG9kIHByb2plY3RPbnRvQXhpc1xuICogQHN0YXRpY1xuICogQHBhcmFtICB7QXJyYXl9IG9mZnNldFxuICogQHBhcmFtICB7QXJyYXl9IGxvY2FsQXhpc1xuICogQHBhcmFtICB7QXJyYXl9IHJlc3VsdFxuICovXG5Db252ZXgucHJvdG90eXBlLnByb2plY3RPbnRvTG9jYWxBeGlzID0gZnVuY3Rpb24obG9jYWxBeGlzLCByZXN1bHQpe1xuICAgIHZhciBtYXg9bnVsbCxcbiAgICAgICAgbWluPW51bGwsXG4gICAgICAgIHYsXG4gICAgICAgIHZhbHVlLFxuICAgICAgICBsb2NhbEF4aXMgPSB0bXBWZWMxO1xuXG4gICAgLy8gR2V0IHByb2plY3RlZCBwb3NpdGlvbiBvZiBhbGwgdmVydGljZXNcbiAgICBmb3IodmFyIGk9MDsgaTx0aGlzLnZlcnRpY2VzLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgdiA9IHRoaXMudmVydGljZXNbaV07XG4gICAgICAgIHZhbHVlID0gdmVjMi5kb3QodiwgbG9jYWxBeGlzKTtcbiAgICAgICAgaWYobWF4ID09PSBudWxsIHx8IHZhbHVlID4gbWF4KXtcbiAgICAgICAgICAgIG1heCA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGlmKG1pbiA9PT0gbnVsbCB8fCB2YWx1ZSA8IG1pbil7XG4gICAgICAgICAgICBtaW4gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmKG1pbiA+IG1heCl7XG4gICAgICAgIHZhciB0ID0gbWluO1xuICAgICAgICBtaW4gPSBtYXg7XG4gICAgICAgIG1heCA9IHQ7XG4gICAgfVxuXG4gICAgdmVjMi5zZXQocmVzdWx0LCBtaW4sIG1heCk7XG59O1xuXG5Db252ZXgucHJvdG90eXBlLnByb2plY3RPbnRvV29ybGRBeGlzID0gZnVuY3Rpb24obG9jYWxBeGlzLCBzaGFwZU9mZnNldCwgc2hhcGVBbmdsZSwgcmVzdWx0KXtcbiAgICB2YXIgd29ybGRBeGlzID0gdG1wVmVjMjtcblxuICAgIHRoaXMucHJvamVjdE9udG9Mb2NhbEF4aXMobG9jYWxBeGlzLCByZXN1bHQpO1xuXG4gICAgLy8gUHJvamVjdCB0aGUgcG9zaXRpb24gb2YgdGhlIGJvZHkgb250byB0aGUgYXhpcyAtIG5lZWQgdG8gYWRkIHRoaXMgdG8gdGhlIHJlc3VsdFxuICAgIGlmKHNoYXBlQW5nbGUgIT09IDApe1xuICAgICAgICB2ZWMyLnJvdGF0ZSh3b3JsZEF4aXMsIGxvY2FsQXhpcywgc2hhcGVBbmdsZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgd29ybGRBeGlzID0gbG9jYWxBeGlzO1xuICAgIH1cbiAgICB2YXIgb2Zmc2V0ID0gdmVjMi5kb3Qoc2hhcGVPZmZzZXQsIHdvcmxkQXhpcyk7XG5cbiAgICB2ZWMyLnNldChyZXN1bHQsIHJlc3VsdFswXSArIG9mZnNldCwgcmVzdWx0WzFdICsgb2Zmc2V0KTtcbn07XG5cblxuLyoqXG4gKiBVcGRhdGUgdGhlIC50cmlhbmdsZXMgcHJvcGVydHlcbiAqIEBtZXRob2QgdXBkYXRlVHJpYW5nbGVzXG4gKi9cbkNvbnZleC5wcm90b3R5cGUudXBkYXRlVHJpYW5nbGVzID0gZnVuY3Rpb24oKXtcblxuICAgIHRoaXMudHJpYW5nbGVzLmxlbmd0aCA9IDA7XG5cbiAgICAvLyBSZXdyaXRlIG9uIHBvbHlrIG5vdGF0aW9uLCBhcnJheSBvZiBudW1iZXJzXG4gICAgdmFyIHBvbHlrVmVydHMgPSBbXTtcbiAgICBmb3IodmFyIGk9MDsgaTx0aGlzLnZlcnRpY2VzLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgdmFyIHYgPSB0aGlzLnZlcnRpY2VzW2ldO1xuICAgICAgICBwb2x5a1ZlcnRzLnB1c2godlswXSx2WzFdKTtcbiAgICB9XG5cbiAgICAvLyBUcmlhbmd1bGF0ZVxuICAgIHZhciB0cmlhbmdsZXMgPSBwb2x5ay5Ucmlhbmd1bGF0ZShwb2x5a1ZlcnRzKTtcblxuICAgIC8vIExvb3Agb3ZlciBhbGwgdHJpYW5nbGVzLCBhZGQgdGhlaXIgaW5lcnRpYSBjb250cmlidXRpb25zIHRvIElcbiAgICBmb3IodmFyIGk9MDsgaTx0cmlhbmdsZXMubGVuZ3RoOyBpKz0zKXtcbiAgICAgICAgdmFyIGlkMSA9IHRyaWFuZ2xlc1tpXSxcbiAgICAgICAgICAgIGlkMiA9IHRyaWFuZ2xlc1tpKzFdLFxuICAgICAgICAgICAgaWQzID0gdHJpYW5nbGVzW2krMl07XG5cbiAgICAgICAgLy8gQWRkIHRvIHRyaWFuZ2xlc1xuICAgICAgICB0aGlzLnRyaWFuZ2xlcy5wdXNoKFtpZDEsaWQyLGlkM10pO1xuICAgIH1cbn07XG5cbnZhciB1cGRhdGVDZW50ZXJPZk1hc3NfY2VudHJvaWQgPSB2ZWMyLmNyZWF0ZSgpLFxuICAgIHVwZGF0ZUNlbnRlck9mTWFzc19jZW50cm9pZF90aW1lc19tYXNzID0gdmVjMi5jcmVhdGUoKSxcbiAgICB1cGRhdGVDZW50ZXJPZk1hc3NfYSA9IHZlYzIuY3JlYXRlKCksXG4gICAgdXBkYXRlQ2VudGVyT2ZNYXNzX2IgPSB2ZWMyLmNyZWF0ZSgpLFxuICAgIHVwZGF0ZUNlbnRlck9mTWFzc19jID0gdmVjMi5jcmVhdGUoKSxcbiAgICB1cGRhdGVDZW50ZXJPZk1hc3NfYWMgPSB2ZWMyLmNyZWF0ZSgpLFxuICAgIHVwZGF0ZUNlbnRlck9mTWFzc19jYSA9IHZlYzIuY3JlYXRlKCksXG4gICAgdXBkYXRlQ2VudGVyT2ZNYXNzX2NiID0gdmVjMi5jcmVhdGUoKSxcbiAgICB1cGRhdGVDZW50ZXJPZk1hc3NfbiA9IHZlYzIuY3JlYXRlKCk7XG5cbi8qKlxuICogVXBkYXRlIHRoZSAuY2VudGVyT2ZNYXNzIHByb3BlcnR5LlxuICogQG1ldGhvZCB1cGRhdGVDZW50ZXJPZk1hc3NcbiAqL1xuQ29udmV4LnByb3RvdHlwZS51cGRhdGVDZW50ZXJPZk1hc3MgPSBmdW5jdGlvbigpe1xuICAgIHZhciB0cmlhbmdsZXMgPSB0aGlzLnRyaWFuZ2xlcyxcbiAgICAgICAgdmVydHMgPSB0aGlzLnZlcnRpY2VzLFxuICAgICAgICBjbSA9IHRoaXMuY2VudGVyT2ZNYXNzLFxuICAgICAgICBjZW50cm9pZCA9IHVwZGF0ZUNlbnRlck9mTWFzc19jZW50cm9pZCxcbiAgICAgICAgbiA9IHVwZGF0ZUNlbnRlck9mTWFzc19uLFxuICAgICAgICBhID0gdXBkYXRlQ2VudGVyT2ZNYXNzX2EsXG4gICAgICAgIGIgPSB1cGRhdGVDZW50ZXJPZk1hc3NfYixcbiAgICAgICAgYyA9IHVwZGF0ZUNlbnRlck9mTWFzc19jLFxuICAgICAgICBhYyA9IHVwZGF0ZUNlbnRlck9mTWFzc19hYyxcbiAgICAgICAgY2EgPSB1cGRhdGVDZW50ZXJPZk1hc3NfY2EsXG4gICAgICAgIGNiID0gdXBkYXRlQ2VudGVyT2ZNYXNzX2NiLFxuICAgICAgICBjZW50cm9pZF90aW1lc19tYXNzID0gdXBkYXRlQ2VudGVyT2ZNYXNzX2NlbnRyb2lkX3RpbWVzX21hc3M7XG5cbiAgICB2ZWMyLnNldChjbSwwLDApO1xuICAgIHZhciB0b3RhbEFyZWEgPSAwO1xuXG4gICAgZm9yKHZhciBpPTA7IGkhPT10cmlhbmdsZXMubGVuZ3RoOyBpKyspe1xuICAgICAgICB2YXIgdCA9IHRyaWFuZ2xlc1tpXSxcbiAgICAgICAgICAgIGEgPSB2ZXJ0c1t0WzBdXSxcbiAgICAgICAgICAgIGIgPSB2ZXJ0c1t0WzFdXSxcbiAgICAgICAgICAgIGMgPSB2ZXJ0c1t0WzJdXTtcblxuICAgICAgICB2ZWMyLmNlbnRyb2lkKGNlbnRyb2lkLGEsYixjKTtcblxuICAgICAgICAvLyBHZXQgbWFzcyBmb3IgdGhlIHRyaWFuZ2xlIChkZW5zaXR5PTEgaW4gdGhpcyBjYXNlKVxuICAgICAgICAvLyBodHRwOi8vbWF0aC5zdGFja2V4Y2hhbmdlLmNvbS9xdWVzdGlvbnMvODAxOTgvYXJlYS1vZi10cmlhbmdsZS12aWEtdmVjdG9yc1xuICAgICAgICB2YXIgbSA9IENvbnZleC50cmlhbmdsZUFyZWEoYSxiLGMpO1xuICAgICAgICB0b3RhbEFyZWEgKz0gbTtcblxuICAgICAgICAvLyBBZGQgdG8gY2VudGVyIG9mIG1hc3NcbiAgICAgICAgdmVjMi5zY2FsZShjZW50cm9pZF90aW1lc19tYXNzLCBjZW50cm9pZCwgbSk7XG4gICAgICAgIHZlYzIuYWRkKGNtLCBjbSwgY2VudHJvaWRfdGltZXNfbWFzcyk7XG4gICAgfVxuXG4gICAgdmVjMi5zY2FsZShjbSxjbSwxL3RvdGFsQXJlYSk7XG59O1xuXG4vKipcbiAqIENvbXB1dGUgdGhlIG1hc3MgbW9tZW50IG9mIGluZXJ0aWEgb2YgdGhlIENvbnZleC5cbiAqIEBtZXRob2QgY29tcHV0ZU1vbWVudE9mSW5lcnRpYVxuICogQHBhcmFtICB7TnVtYmVyfSBtYXNzXG4gKiBAcmV0dXJuIHtOdW1iZXJ9XG4gKiBAc2VlIGh0dHA6Ly93d3cuZ2FtZWRldi5uZXQvdG9waWMvMzQyODIyLW1vbWVudC1vZi1pbmVydGlhLW9mLWEtcG9seWdvbi0yZC9cbiAqL1xuQ29udmV4LnByb3RvdHlwZS5jb21wdXRlTW9tZW50T2ZJbmVydGlhID0gZnVuY3Rpb24obWFzcyl7XG4gICAgdmFyIGRlbm9tID0gMC4wLFxuICAgICAgICBudW1lciA9IDAuMCxcbiAgICAgICAgTiA9IHRoaXMudmVydGljZXMubGVuZ3RoO1xuICAgIGZvcih2YXIgaiA9IE4tMSwgaSA9IDA7IGkgPCBOOyBqID0gaSwgaSArKyl7XG4gICAgICAgIHZhciBwMCA9IHRoaXMudmVydGljZXNbal07XG4gICAgICAgIHZhciBwMSA9IHRoaXMudmVydGljZXNbaV07XG4gICAgICAgIHZhciBhID0gTWF0aC5hYnModmVjMi5jcm9zc0xlbmd0aChwMCxwMSkpO1xuICAgICAgICB2YXIgYiA9IHZlYzIuZG90KHAxLHAxKSArIHZlYzIuZG90KHAxLHAwKSArIHZlYzIuZG90KHAwLHAwKTtcbiAgICAgICAgZGVub20gKz0gYSAqIGI7XG4gICAgICAgIG51bWVyICs9IGE7XG4gICAgfVxuICAgIHJldHVybiAobWFzcyAvIDYuMCkgKiAoZGVub20gLyBudW1lcik7XG59O1xuXG4vKipcbiAqIFVwZGF0ZXMgdGhlIC5ib3VuZGluZ1JhZGl1cyBwcm9wZXJ0eVxuICogQG1ldGhvZCB1cGRhdGVCb3VuZGluZ1JhZGl1c1xuICovXG5Db252ZXgucHJvdG90eXBlLnVwZGF0ZUJvdW5kaW5nUmFkaXVzID0gZnVuY3Rpb24oKXtcbiAgICB2YXIgdmVydHMgPSB0aGlzLnZlcnRpY2VzLFxuICAgICAgICByMiA9IDA7XG5cbiAgICBmb3IodmFyIGk9MDsgaSE9PXZlcnRzLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgdmFyIGwyID0gdmVjMi5zcXVhcmVkTGVuZ3RoKHZlcnRzW2ldKTtcbiAgICAgICAgaWYobDIgPiByMil7XG4gICAgICAgICAgICByMiA9IGwyO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5ib3VuZGluZ1JhZGl1cyA9IE1hdGguc3FydChyMik7XG59O1xuXG4vKipcbiAqIEdldCB0aGUgYXJlYSBvZiB0aGUgdHJpYW5nbGUgc3Bhbm5lZCBieSB0aGUgdGhyZWUgcG9pbnRzIGEsIGIsIGMuIFRoZSBhcmVhIGlzIHBvc2l0aXZlIGlmIHRoZSBwb2ludHMgYXJlIGdpdmVuIGluIGNvdW50ZXItY2xvY2t3aXNlIG9yZGVyLCBvdGhlcndpc2UgbmVnYXRpdmUuXG4gKiBAc3RhdGljXG4gKiBAbWV0aG9kIHRyaWFuZ2xlQXJlYVxuICogQHBhcmFtIHtBcnJheX0gYVxuICogQHBhcmFtIHtBcnJheX0gYlxuICogQHBhcmFtIHtBcnJheX0gY1xuICogQHJldHVybiB7TnVtYmVyfVxuICovXG5Db252ZXgudHJpYW5nbGVBcmVhID0gZnVuY3Rpb24oYSxiLGMpe1xuICAgIHJldHVybiAoKChiWzBdIC0gYVswXSkqKGNbMV0gLSBhWzFdKSktKChjWzBdIC0gYVswXSkqKGJbMV0gLSBhWzFdKSkpICogMC41O1xufTtcblxuLyoqXG4gKiBVcGRhdGUgdGhlIC5hcmVhXG4gKiBAbWV0aG9kIHVwZGF0ZUFyZWFcbiAqL1xuQ29udmV4LnByb3RvdHlwZS51cGRhdGVBcmVhID0gZnVuY3Rpb24oKXtcbiAgICB0aGlzLnVwZGF0ZVRyaWFuZ2xlcygpO1xuICAgIHRoaXMuYXJlYSA9IDA7XG5cbiAgICB2YXIgdHJpYW5nbGVzID0gdGhpcy50cmlhbmdsZXMsXG4gICAgICAgIHZlcnRzID0gdGhpcy52ZXJ0aWNlcztcbiAgICBmb3IodmFyIGk9MDsgaSE9PXRyaWFuZ2xlcy5sZW5ndGg7IGkrKyl7XG4gICAgICAgIHZhciB0ID0gdHJpYW5nbGVzW2ldLFxuICAgICAgICAgICAgYSA9IHZlcnRzW3RbMF1dLFxuICAgICAgICAgICAgYiA9IHZlcnRzW3RbMV1dLFxuICAgICAgICAgICAgYyA9IHZlcnRzW3RbMl1dO1xuXG4gICAgICAgIC8vIEdldCBtYXNzIGZvciB0aGUgdHJpYW5nbGUgKGRlbnNpdHk9MSBpbiB0aGlzIGNhc2UpXG4gICAgICAgIHZhciBtID0gQ29udmV4LnRyaWFuZ2xlQXJlYShhLGIsYyk7XG4gICAgICAgIHRoaXMuYXJlYSArPSBtO1xuICAgIH1cbn07XG5cbi8qKlxuICogQG1ldGhvZCBjb21wdXRlQUFCQlxuICogQHBhcmFtICB7QUFCQn0gICBvdXRcbiAqIEBwYXJhbSAge0FycmF5fSAgcG9zaXRpb25cbiAqIEBwYXJhbSAge051bWJlcn0gYW5nbGVcbiAqL1xuQ29udmV4LnByb3RvdHlwZS5jb21wdXRlQUFCQiA9IGZ1bmN0aW9uKG91dCwgcG9zaXRpb24sIGFuZ2xlKXtcbiAgICBvdXQuc2V0RnJvbVBvaW50cyh0aGlzLnZlcnRpY2VzLCBwb3NpdGlvbiwgYW5nbGUsIDApO1xufTtcblxudmFyIGludGVyc2VjdENvbnZleF9yYXlTdGFydCA9IHZlYzIuY3JlYXRlKCk7XG52YXIgaW50ZXJzZWN0Q29udmV4X3JheUVuZCA9IHZlYzIuY3JlYXRlKCk7XG52YXIgaW50ZXJzZWN0Q29udmV4X25vcm1hbCA9IHZlYzIuY3JlYXRlKCk7XG5cbi8qKlxuICogQG1ldGhvZCByYXljYXN0XG4gKiBAcGFyYW0gIHtSYXljYXN0UmVzdWx0fSByZXN1bHRcbiAqIEBwYXJhbSAge1JheX0gcmF5XG4gKiBAcGFyYW0gIHthcnJheX0gcG9zaXRpb25cbiAqIEBwYXJhbSAge251bWJlcn0gYW5nbGVcbiAqL1xuQ29udmV4LnByb3RvdHlwZS5yYXljYXN0ID0gZnVuY3Rpb24ocmVzdWx0LCByYXksIHBvc2l0aW9uLCBhbmdsZSl7XG4gICAgdmFyIHJheVN0YXJ0ID0gaW50ZXJzZWN0Q29udmV4X3JheVN0YXJ0O1xuICAgIHZhciByYXlFbmQgPSBpbnRlcnNlY3RDb252ZXhfcmF5RW5kO1xuICAgIHZhciBub3JtYWwgPSBpbnRlcnNlY3RDb252ZXhfbm9ybWFsO1xuICAgIHZhciB2ZXJ0aWNlcyA9IHRoaXMudmVydGljZXM7XG5cbiAgICAvLyBUcmFuc2Zvcm0gdG8gbG9jYWwgc2hhcGUgc3BhY2VcbiAgICB2ZWMyLnRvTG9jYWxGcmFtZShyYXlTdGFydCwgcmF5LmZyb20sIHBvc2l0aW9uLCBhbmdsZSk7XG4gICAgdmVjMi50b0xvY2FsRnJhbWUocmF5RW5kLCByYXkudG8sIHBvc2l0aW9uLCBhbmdsZSk7XG5cbiAgICB2YXIgbiA9IHZlcnRpY2VzLmxlbmd0aDtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbiAmJiAhcmVzdWx0LnNob3VsZFN0b3AocmF5KTsgaSsrKSB7XG4gICAgICAgIHZhciBxMSA9IHZlcnRpY2VzW2ldO1xuICAgICAgICB2YXIgcTIgPSB2ZXJ0aWNlc1soaSsxKSAlIG5dO1xuICAgICAgICB2YXIgZGVsdGEgPSB2ZWMyLmdldExpbmVTZWdtZW50c0ludGVyc2VjdGlvbkZyYWN0aW9uKHJheVN0YXJ0LCByYXlFbmQsIHExLCBxMik7XG5cbiAgICAgICAgaWYoZGVsdGEgPj0gMCl7XG4gICAgICAgICAgICB2ZWMyLnN1Yihub3JtYWwsIHEyLCBxMSk7XG4gICAgICAgICAgICB2ZWMyLnJvdGF0ZShub3JtYWwsIG5vcm1hbCwgLU1hdGguUEkgLyAyICsgYW5nbGUpO1xuICAgICAgICAgICAgdmVjMi5ub3JtYWxpemUobm9ybWFsLCBub3JtYWwpO1xuICAgICAgICAgICAgcmF5LnJlcG9ydEludGVyc2VjdGlvbihyZXN1bHQsIGRlbHRhLCBub3JtYWwsIGkpO1xuICAgICAgICB9XG4gICAgfVxufTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3AyL3NyYy9zaGFwZXMvQ29udmV4LmpzXG4gKiogbW9kdWxlIGlkID0gMTVcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciB2ZWMyID0gcmVxdWlyZSgnLi4vbWF0aC92ZWMyJylcbiwgICBVdGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzL1V0aWxzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gQUFCQjtcblxuLyoqXG4gKiBBeGlzIGFsaWduZWQgYm91bmRpbmcgYm94IGNsYXNzLlxuICogQGNsYXNzIEFBQkJcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtPYmplY3R9ICBbb3B0aW9uc11cbiAqIEBwYXJhbSB7QXJyYXl9ICAgW29wdGlvbnMudXBwZXJCb3VuZF1cbiAqIEBwYXJhbSB7QXJyYXl9ICAgW29wdGlvbnMubG93ZXJCb3VuZF1cbiAqL1xuZnVuY3Rpb24gQUFCQihvcHRpb25zKXtcblxuICAgIC8qKlxuICAgICAqIFRoZSBsb3dlciBib3VuZCBvZiB0aGUgYm91bmRpbmcgYm94LlxuICAgICAqIEBwcm9wZXJ0eSBsb3dlckJvdW5kXG4gICAgICogQHR5cGUge0FycmF5fVxuICAgICAqL1xuICAgIHRoaXMubG93ZXJCb3VuZCA9IHZlYzIuY3JlYXRlKCk7XG4gICAgaWYob3B0aW9ucyAmJiBvcHRpb25zLmxvd2VyQm91bmQpe1xuICAgICAgICB2ZWMyLmNvcHkodGhpcy5sb3dlckJvdW5kLCBvcHRpb25zLmxvd2VyQm91bmQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSB1cHBlciBib3VuZCBvZiB0aGUgYm91bmRpbmcgYm94LlxuICAgICAqIEBwcm9wZXJ0eSB1cHBlckJvdW5kXG4gICAgICogQHR5cGUge0FycmF5fVxuICAgICAqL1xuICAgIHRoaXMudXBwZXJCb3VuZCA9IHZlYzIuY3JlYXRlKCk7XG4gICAgaWYob3B0aW9ucyAmJiBvcHRpb25zLnVwcGVyQm91bmQpe1xuICAgICAgICB2ZWMyLmNvcHkodGhpcy51cHBlckJvdW5kLCBvcHRpb25zLnVwcGVyQm91bmQpO1xuICAgIH1cbn1cblxudmFyIHRtcCA9IHZlYzIuY3JlYXRlKCk7XG5cbi8qKlxuICogU2V0IHRoZSBBQUJCIGJvdW5kcyBmcm9tIGEgc2V0IG9mIHBvaW50cywgdHJhbnNmb3JtZWQgYnkgdGhlIGdpdmVuIHBvc2l0aW9uIGFuZCBhbmdsZS5cbiAqIEBtZXRob2Qgc2V0RnJvbVBvaW50c1xuICogQHBhcmFtIHtBcnJheX0gcG9pbnRzIEFuIGFycmF5IG9mIHZlYzIncy5cbiAqIEBwYXJhbSB7QXJyYXl9IHBvc2l0aW9uXG4gKiBAcGFyYW0ge251bWJlcn0gYW5nbGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBza2luU2l6ZSBTb21lIG1hcmdpbiB0byBiZSBhZGRlZCB0byB0aGUgQUFCQi5cbiAqL1xuQUFCQi5wcm90b3R5cGUuc2V0RnJvbVBvaW50cyA9IGZ1bmN0aW9uKHBvaW50cywgcG9zaXRpb24sIGFuZ2xlLCBza2luU2l6ZSl7XG4gICAgdmFyIGwgPSB0aGlzLmxvd2VyQm91bmQsXG4gICAgICAgIHUgPSB0aGlzLnVwcGVyQm91bmQ7XG5cbiAgICBpZih0eXBlb2YoYW5nbGUpICE9PSBcIm51bWJlclwiKXtcbiAgICAgICAgYW5nbGUgPSAwO1xuICAgIH1cblxuICAgIC8vIFNldCB0byB0aGUgZmlyc3QgcG9pbnRcbiAgICBpZihhbmdsZSAhPT0gMCl7XG4gICAgICAgIHZlYzIucm90YXRlKGwsIHBvaW50c1swXSwgYW5nbGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHZlYzIuY29weShsLCBwb2ludHNbMF0pO1xuICAgIH1cbiAgICB2ZWMyLmNvcHkodSwgbCk7XG5cbiAgICAvLyBDb21wdXRlIGNvc2luZXMgYW5kIHNpbmVzIGp1c3Qgb25jZVxuICAgIHZhciBjb3NBbmdsZSA9IE1hdGguY29zKGFuZ2xlKSxcbiAgICAgICAgc2luQW5nbGUgPSBNYXRoLnNpbihhbmdsZSk7XG4gICAgZm9yKHZhciBpID0gMTsgaTxwb2ludHMubGVuZ3RoOyBpKyspe1xuICAgICAgICB2YXIgcCA9IHBvaW50c1tpXTtcblxuICAgICAgICBpZihhbmdsZSAhPT0gMCl7XG4gICAgICAgICAgICB2YXIgeCA9IHBbMF0sXG4gICAgICAgICAgICAgICAgeSA9IHBbMV07XG4gICAgICAgICAgICB0bXBbMF0gPSBjb3NBbmdsZSAqIHggLXNpbkFuZ2xlICogeTtcbiAgICAgICAgICAgIHRtcFsxXSA9IHNpbkFuZ2xlICogeCArY29zQW5nbGUgKiB5O1xuICAgICAgICAgICAgcCA9IHRtcDtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvcih2YXIgaj0wOyBqPDI7IGorKyl7XG4gICAgICAgICAgICBpZihwW2pdID4gdVtqXSl7XG4gICAgICAgICAgICAgICAgdVtqXSA9IHBbal07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZihwW2pdIDwgbFtqXSl7XG4gICAgICAgICAgICAgICAgbFtqXSA9IHBbal07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBBZGQgb2Zmc2V0XG4gICAgaWYocG9zaXRpb24pe1xuICAgICAgICB2ZWMyLmFkZCh0aGlzLmxvd2VyQm91bmQsIHRoaXMubG93ZXJCb3VuZCwgcG9zaXRpb24pO1xuICAgICAgICB2ZWMyLmFkZCh0aGlzLnVwcGVyQm91bmQsIHRoaXMudXBwZXJCb3VuZCwgcG9zaXRpb24pO1xuICAgIH1cblxuICAgIGlmKHNraW5TaXplKXtcbiAgICAgICAgdGhpcy5sb3dlckJvdW5kWzBdIC09IHNraW5TaXplO1xuICAgICAgICB0aGlzLmxvd2VyQm91bmRbMV0gLT0gc2tpblNpemU7XG4gICAgICAgIHRoaXMudXBwZXJCb3VuZFswXSArPSBza2luU2l6ZTtcbiAgICAgICAgdGhpcy51cHBlckJvdW5kWzFdICs9IHNraW5TaXplO1xuICAgIH1cbn07XG5cbi8qKlxuICogQ29weSBib3VuZHMgZnJvbSBhbiBBQUJCIHRvIHRoaXMgQUFCQlxuICogQG1ldGhvZCBjb3B5XG4gKiBAcGFyYW0gIHtBQUJCfSBhYWJiXG4gKi9cbkFBQkIucHJvdG90eXBlLmNvcHkgPSBmdW5jdGlvbihhYWJiKXtcbiAgICB2ZWMyLmNvcHkodGhpcy5sb3dlckJvdW5kLCBhYWJiLmxvd2VyQm91bmQpO1xuICAgIHZlYzIuY29weSh0aGlzLnVwcGVyQm91bmQsIGFhYmIudXBwZXJCb3VuZCk7XG59O1xuXG4vKipcbiAqIEV4dGVuZCB0aGlzIEFBQkIgc28gdGhhdCBpdCBjb3ZlcnMgdGhlIGdpdmVuIEFBQkIgdG9vLlxuICogQG1ldGhvZCBleHRlbmRcbiAqIEBwYXJhbSAge0FBQkJ9IGFhYmJcbiAqL1xuQUFCQi5wcm90b3R5cGUuZXh0ZW5kID0gZnVuY3Rpb24oYWFiYil7XG4gICAgLy8gTG9vcCBvdmVyIHggYW5kIHlcbiAgICB2YXIgaSA9IDI7XG4gICAgd2hpbGUoaS0tKXtcbiAgICAgICAgLy8gRXh0ZW5kIGxvd2VyIGJvdW5kXG4gICAgICAgIHZhciBsID0gYWFiYi5sb3dlckJvdW5kW2ldO1xuICAgICAgICBpZih0aGlzLmxvd2VyQm91bmRbaV0gPiBsKXtcbiAgICAgICAgICAgIHRoaXMubG93ZXJCb3VuZFtpXSA9IGw7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBVcHBlclxuICAgICAgICB2YXIgdSA9IGFhYmIudXBwZXJCb3VuZFtpXTtcbiAgICAgICAgaWYodGhpcy51cHBlckJvdW5kW2ldIDwgdSl7XG4gICAgICAgICAgICB0aGlzLnVwcGVyQm91bmRbaV0gPSB1O1xuICAgICAgICB9XG4gICAgfVxufTtcblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIEFBQkIgb3ZlcmxhcHMgdGhpcyBBQUJCLlxuICogQG1ldGhvZCBvdmVybGFwc1xuICogQHBhcmFtICB7QUFCQn0gYWFiYlxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqL1xuQUFCQi5wcm90b3R5cGUub3ZlcmxhcHMgPSBmdW5jdGlvbihhYWJiKXtcbiAgICB2YXIgbDEgPSB0aGlzLmxvd2VyQm91bmQsXG4gICAgICAgIHUxID0gdGhpcy51cHBlckJvdW5kLFxuICAgICAgICBsMiA9IGFhYmIubG93ZXJCb3VuZCxcbiAgICAgICAgdTIgPSBhYWJiLnVwcGVyQm91bmQ7XG5cbiAgICAvLyAgICAgIGwyICAgICAgICB1MlxuICAgIC8vICAgICAgfC0tLS0tLS0tLXxcbiAgICAvLyB8LS0tLS0tLS18XG4gICAgLy8gbDEgICAgICAgdTFcblxuICAgIHJldHVybiAoKGwyWzBdIDw9IHUxWzBdICYmIHUxWzBdIDw9IHUyWzBdKSB8fCAobDFbMF0gPD0gdTJbMF0gJiYgdTJbMF0gPD0gdTFbMF0pKSAmJlxuICAgICAgICAgICAoKGwyWzFdIDw9IHUxWzFdICYmIHUxWzFdIDw9IHUyWzFdKSB8fCAobDFbMV0gPD0gdTJbMV0gJiYgdTJbMV0gPD0gdTFbMV0pKTtcbn07XG5cbi8qKlxuICogQG1ldGhvZCBjb250YWluc1BvaW50XG4gKiBAcGFyYW0gIHtBcnJheX0gcG9pbnRcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbkFBQkIucHJvdG90eXBlLmNvbnRhaW5zUG9pbnQgPSBmdW5jdGlvbihwb2ludCl7XG4gICAgdmFyIGwgPSB0aGlzLmxvd2VyQm91bmQsXG4gICAgICAgIHUgPSB0aGlzLnVwcGVyQm91bmQ7XG4gICAgcmV0dXJuIGxbMF0gPD0gcG9pbnRbMF0gJiYgcG9pbnRbMF0gPD0gdVswXSAmJiBsWzFdIDw9IHBvaW50WzFdICYmIHBvaW50WzFdIDw9IHVbMV07XG59O1xuXG4vKipcbiAqIENoZWNrIGlmIHRoZSBBQUJCIGlzIGhpdCBieSBhIHJheS5cbiAqIEBtZXRob2Qgb3ZlcmxhcHNSYXlcbiAqIEBwYXJhbSAge1JheX0gcmF5XG4gKiBAcmV0dXJuIHtudW1iZXJ9IC0xIGlmIG5vIGhpdCwgYSBudW1iZXIgYmV0d2VlbiAwIGFuZCAxIGlmIGhpdC5cbiAqL1xuQUFCQi5wcm90b3R5cGUub3ZlcmxhcHNSYXkgPSBmdW5jdGlvbihyYXkpe1xuICAgIHZhciB0ID0gMDtcblxuICAgIC8vIHJheS5kaXJlY3Rpb24gaXMgdW5pdCBkaXJlY3Rpb24gdmVjdG9yIG9mIHJheVxuICAgIHZhciBkaXJGcmFjWCA9IDEgLyByYXkuZGlyZWN0aW9uWzBdO1xuICAgIHZhciBkaXJGcmFjWSA9IDEgLyByYXkuZGlyZWN0aW9uWzFdO1xuXG4gICAgLy8gdGhpcy5sb3dlckJvdW5kIGlzIHRoZSBjb3JuZXIgb2YgQUFCQiB3aXRoIG1pbmltYWwgY29vcmRpbmF0ZXMgLSBsZWZ0IGJvdHRvbSwgcnQgaXMgbWF4aW1hbCBjb3JuZXJcbiAgICB2YXIgdDEgPSAodGhpcy5sb3dlckJvdW5kWzBdIC0gcmF5LmZyb21bMF0pICogZGlyRnJhY1g7XG4gICAgdmFyIHQyID0gKHRoaXMudXBwZXJCb3VuZFswXSAtIHJheS5mcm9tWzBdKSAqIGRpckZyYWNYO1xuICAgIHZhciB0MyA9ICh0aGlzLmxvd2VyQm91bmRbMV0gLSByYXkuZnJvbVsxXSkgKiBkaXJGcmFjWTtcbiAgICB2YXIgdDQgPSAodGhpcy51cHBlckJvdW5kWzFdIC0gcmF5LmZyb21bMV0pICogZGlyRnJhY1k7XG5cbiAgICB2YXIgdG1pbiA9IE1hdGgubWF4KE1hdGgubWF4KE1hdGgubWluKHQxLCB0MiksIE1hdGgubWluKHQzLCB0NCkpKTtcbiAgICB2YXIgdG1heCA9IE1hdGgubWluKE1hdGgubWluKE1hdGgubWF4KHQxLCB0MiksIE1hdGgubWF4KHQzLCB0NCkpKTtcblxuICAgIC8vIGlmIHRtYXggPCAwLCByYXkgKGxpbmUpIGlzIGludGVyc2VjdGluZyBBQUJCLCBidXQgd2hvbGUgQUFCQiBpcyBiZWhpbmcgdXNcbiAgICBpZiAodG1heCA8IDApe1xuICAgICAgICAvL3QgPSB0bWF4O1xuICAgICAgICByZXR1cm4gLTE7XG4gICAgfVxuXG4gICAgLy8gaWYgdG1pbiA+IHRtYXgsIHJheSBkb2Vzbid0IGludGVyc2VjdCBBQUJCXG4gICAgaWYgKHRtaW4gPiB0bWF4KXtcbiAgICAgICAgLy90ID0gdG1heDtcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIH1cblxuICAgIHJldHVybiB0bWluO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9wMi9zcmMvY29sbGlzaW9uL0FBQkIuanNcbiAqKiBtb2R1bGUgaWQgPSAxNlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwidmFyIHZlYzIgPSByZXF1aXJlKCcuLi9tYXRoL3ZlYzInKTtcbnZhciBCb2R5ID0gcmVxdWlyZSgnLi4vb2JqZWN0cy9Cb2R5Jyk7XG5cbm1vZHVsZS5leHBvcnRzID0gQnJvYWRwaGFzZTtcblxuLyoqXG4gKiBCYXNlIGNsYXNzIGZvciBicm9hZHBoYXNlIGltcGxlbWVudGF0aW9ucy5cbiAqIEBjbGFzcyBCcm9hZHBoYXNlXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gQnJvYWRwaGFzZSh0eXBlKXtcblxuICAgIHRoaXMudHlwZSA9IHR5cGU7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgcmVzdWx0aW5nIG92ZXJsYXBwaW5nIHBhaXJzLiBXaWxsIGJlIGZpbGxlZCB3aXRoIHJlc3VsdHMgZHVyaW5nIC5nZXRDb2xsaXNpb25QYWlycygpLlxuICAgICAqIEBwcm9wZXJ0eSByZXN1bHRcbiAgICAgKiBAdHlwZSB7QXJyYXl9XG4gICAgICovXG4gICAgdGhpcy5yZXN1bHQgPSBbXTtcblxuICAgIC8qKlxuICAgICAqIFRoZSB3b3JsZCB0byBzZWFyY2ggZm9yIGNvbGxpc2lvbiBwYWlycyBpbi4gVG8gY2hhbmdlIGl0LCB1c2UgLnNldFdvcmxkKClcbiAgICAgKiBAcHJvcGVydHkgd29ybGRcbiAgICAgKiBAdHlwZSB7V29ybGR9XG4gICAgICogQHJlYWRPbmx5XG4gICAgICovXG4gICAgdGhpcy53b3JsZCA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYm91bmRpbmcgdm9sdW1lIHR5cGUgdG8gdXNlIGluIHRoZSBicm9hZHBoYXNlIGFsZ29yaXRobXMuIFNob3VsZCBiZSBzZXQgdG8gQnJvYWRwaGFzZS5BQUJCIG9yIEJyb2FkcGhhc2UuQk9VTkRJTkdfQ0lSQ0xFLlxuICAgICAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBib3VuZGluZ1ZvbHVtZVR5cGVcbiAgICAgKi9cbiAgICB0aGlzLmJvdW5kaW5nVm9sdW1lVHlwZSA9IEJyb2FkcGhhc2UuQUFCQjtcbn1cblxuLyoqXG4gKiBBeGlzIGFsaWduZWQgYm91bmRpbmcgYm94IHR5cGUuXG4gKiBAc3RhdGljXG4gKiBAcHJvcGVydHkge051bWJlcn0gQUFCQlxuICovXG5Ccm9hZHBoYXNlLkFBQkIgPSAxO1xuXG4vKipcbiAqIEJvdW5kaW5nIGNpcmNsZSB0eXBlLlxuICogQHN0YXRpY1xuICogQHByb3BlcnR5IHtOdW1iZXJ9IEJPVU5ESU5HX0NJUkNMRVxuICovXG5Ccm9hZHBoYXNlLkJPVU5ESU5HX0NJUkNMRSA9IDI7XG5cbi8qKlxuICogU2V0IHRoZSB3b3JsZCB0aGF0IHdlIGFyZSBzZWFyY2hpbmcgZm9yIGNvbGxpc2lvbiBwYWlycyBpbi5cbiAqIEBtZXRob2Qgc2V0V29ybGRcbiAqIEBwYXJhbSAge1dvcmxkfSB3b3JsZFxuICovXG5Ccm9hZHBoYXNlLnByb3RvdHlwZS5zZXRXb3JsZCA9IGZ1bmN0aW9uKHdvcmxkKXtcbiAgICB0aGlzLndvcmxkID0gd29ybGQ7XG59O1xuXG4vKipcbiAqIEdldCBhbGwgcG90ZW50aWFsIGludGVyc2VjdGluZyBib2R5IHBhaXJzLlxuICogQG1ldGhvZCBnZXRDb2xsaXNpb25QYWlyc1xuICogQHBhcmFtICB7V29ybGR9IHdvcmxkIFRoZSB3b3JsZCB0byBzZWFyY2ggaW4uXG4gKiBAcmV0dXJuIHtBcnJheX0gQW4gYXJyYXkgb2YgdGhlIGJvZGllcywgb3JkZXJlZCBpbiBwYWlycy4gRXhhbXBsZTogQSByZXN1bHQgb2YgW2EsYixjLGRdIG1lYW5zIHRoYXQgdGhlIHBvdGVudGlhbCBwYWlycyBhcmU6IChhLGIpLCAoYyxkKS5cbiAqL1xuQnJvYWRwaGFzZS5wcm90b3R5cGUuZ2V0Q29sbGlzaW9uUGFpcnMgPSBmdW5jdGlvbih3b3JsZCl7fTtcblxudmFyIGRpc3QgPSB2ZWMyLmNyZWF0ZSgpO1xuXG4vKipcbiAqIENoZWNrIHdoZXRoZXIgdGhlIGJvdW5kaW5nIHJhZGl1cyBvZiB0d28gYm9kaWVzIG92ZXJsYXAuXG4gKiBAbWV0aG9kICBib3VuZGluZ1JhZGl1c0NoZWNrXG4gKiBAcGFyYW0gIHtCb2R5fSBib2R5QVxuICogQHBhcmFtICB7Qm9keX0gYm9keUJcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKi9cbkJyb2FkcGhhc2UuYm91bmRpbmdSYWRpdXNDaGVjayA9IGZ1bmN0aW9uKGJvZHlBLCBib2R5Qil7XG4gICAgdmVjMi5zdWIoZGlzdCwgYm9keUEucG9zaXRpb24sIGJvZHlCLnBvc2l0aW9uKTtcbiAgICB2YXIgZDIgPSB2ZWMyLnNxdWFyZWRMZW5ndGgoZGlzdCksXG4gICAgICAgIHIgPSBib2R5QS5ib3VuZGluZ1JhZGl1cyArIGJvZHlCLmJvdW5kaW5nUmFkaXVzO1xuICAgIHJldHVybiBkMiA8PSByKnI7XG59O1xuXG4vKipcbiAqIENoZWNrIHdoZXRoZXIgdGhlIGJvdW5kaW5nIHJhZGl1cyBvZiB0d28gYm9kaWVzIG92ZXJsYXAuXG4gKiBAbWV0aG9kICBib3VuZGluZ1JhZGl1c0NoZWNrXG4gKiBAcGFyYW0gIHtCb2R5fSBib2R5QVxuICogQHBhcmFtICB7Qm9keX0gYm9keUJcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKi9cbkJyb2FkcGhhc2UuYWFiYkNoZWNrID0gZnVuY3Rpb24oYm9keUEsIGJvZHlCKXtcbiAgICByZXR1cm4gYm9keUEuZ2V0QUFCQigpLm92ZXJsYXBzKGJvZHlCLmdldEFBQkIoKSk7XG59O1xuXG4vKipcbiAqIENoZWNrIHdoZXRoZXIgdGhlIGJvdW5kaW5nIHJhZGl1cyBvZiB0d28gYm9kaWVzIG92ZXJsYXAuXG4gKiBAbWV0aG9kICBib3VuZGluZ1JhZGl1c0NoZWNrXG4gKiBAcGFyYW0gIHtCb2R5fSBib2R5QVxuICogQHBhcmFtICB7Qm9keX0gYm9keUJcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKi9cbkJyb2FkcGhhc2UucHJvdG90eXBlLmJvdW5kaW5nVm9sdW1lQ2hlY2sgPSBmdW5jdGlvbihib2R5QSwgYm9keUIpe1xuICAgIHZhciByZXN1bHQ7XG5cbiAgICBzd2l0Y2godGhpcy5ib3VuZGluZ1ZvbHVtZVR5cGUpe1xuICAgIGNhc2UgQnJvYWRwaGFzZS5CT1VORElOR19DSVJDTEU6XG4gICAgICAgIHJlc3VsdCA9ICBCcm9hZHBoYXNlLmJvdW5kaW5nUmFkaXVzQ2hlY2soYm9keUEsYm9keUIpO1xuICAgICAgICBicmVhaztcbiAgICBjYXNlIEJyb2FkcGhhc2UuQUFCQjpcbiAgICAgICAgcmVzdWx0ID0gQnJvYWRwaGFzZS5hYWJiQ2hlY2soYm9keUEsYm9keUIpO1xuICAgICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0JvdW5kaW5nIHZvbHVtZSB0eXBlIG5vdCByZWNvZ25pemVkOiAnK3RoaXMuYm91bmRpbmdWb2x1bWVUeXBlKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8qKlxuICogQ2hlY2sgd2hldGhlciB0d28gYm9kaWVzIGFyZSBhbGxvd2VkIHRvIGNvbGxpZGUgYXQgYWxsLlxuICogQG1ldGhvZCAgY2FuQ29sbGlkZVxuICogQHBhcmFtICB7Qm9keX0gYm9keUFcbiAqIEBwYXJhbSAge0JvZHl9IGJvZHlCXG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICovXG5Ccm9hZHBoYXNlLmNhbkNvbGxpZGUgPSBmdW5jdGlvbihib2R5QSwgYm9keUIpe1xuICAgIHZhciBLSU5FTUFUSUMgPSBCb2R5LktJTkVNQVRJQztcbiAgICB2YXIgU1RBVElDID0gQm9keS5TVEFUSUM7XG5cbiAgICAvLyBDYW5ub3QgY29sbGlkZSBzdGF0aWMgYm9kaWVzXG4gICAgaWYoYm9keUEudHlwZSA9PT0gU1RBVElDICYmIGJvZHlCLnR5cGUgPT09IFNUQVRJQyl7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBDYW5ub3QgY29sbGlkZSBzdGF0aWMgdnMga2luZW1hdGljIGJvZGllc1xuICAgIGlmKCAoYm9keUEudHlwZSA9PT0gS0lORU1BVElDICYmIGJvZHlCLnR5cGUgPT09IFNUQVRJQykgfHxcbiAgICAgICAgKGJvZHlBLnR5cGUgPT09IFNUQVRJQyAgICAmJiBib2R5Qi50eXBlID09PSBLSU5FTUFUSUMpKXtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vIENhbm5vdCBjb2xsaWRlIGtpbmVtYXRpYyB2cyBraW5lbWF0aWNcbiAgICBpZihib2R5QS50eXBlID09PSBLSU5FTUFUSUMgJiYgYm9keUIudHlwZSA9PT0gS0lORU1BVElDKXtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vIENhbm5vdCBjb2xsaWRlIGJvdGggc2xlZXBpbmcgYm9kaWVzXG4gICAgaWYoYm9keUEuc2xlZXBTdGF0ZSA9PT0gQm9keS5TTEVFUElORyAmJiBib2R5Qi5zbGVlcFN0YXRlID09PSBCb2R5LlNMRUVQSU5HKXtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vIENhbm5vdCBjb2xsaWRlIGlmIG9uZSBpcyBzdGF0aWMgYW5kIHRoZSBvdGhlciBpcyBzbGVlcGluZ1xuICAgIGlmKCAoYm9keUEuc2xlZXBTdGF0ZSA9PT0gQm9keS5TTEVFUElORyAmJiBib2R5Qi50eXBlID09PSBTVEFUSUMpIHx8XG4gICAgICAgIChib2R5Qi5zbGVlcFN0YXRlID09PSBCb2R5LlNMRUVQSU5HICYmIGJvZHlBLnR5cGUgPT09IFNUQVRJQykpe1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG59O1xuXG5Ccm9hZHBoYXNlLk5BSVZFID0gMTtcbkJyb2FkcGhhc2UuU0FQID0gMjtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3AyL3NyYy9jb2xsaXNpb24vQnJvYWRwaGFzZS5qc1xuICoqIG1vZHVsZSBpZCA9IDE3XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IFJheTtcblxudmFyIHZlYzIgPSByZXF1aXJlKCcuLi9tYXRoL3ZlYzInKTtcbnZhciBSYXljYXN0UmVzdWx0ID0gcmVxdWlyZSgnLi4vY29sbGlzaW9uL1JheWNhc3RSZXN1bHQnKTtcbnZhciBTaGFwZSA9IHJlcXVpcmUoJy4uL3NoYXBlcy9TaGFwZScpO1xudmFyIEFBQkIgPSByZXF1aXJlKCcuLi9jb2xsaXNpb24vQUFCQicpO1xuXG4vKipcbiAqIEEgbGluZSB3aXRoIGEgc3RhcnQgYW5kIGVuZCBwb2ludCB0aGF0IGlzIHVzZWQgdG8gaW50ZXJzZWN0IHNoYXBlcy4gRm9yIGFuIGV4YW1wbGUsIHNlZSB7eyNjcm9zc0xpbmsgXCJXb3JsZC9yYXljYXN0Om1ldGhvZFwifX1Xb3JsZC5yYXljYXN0e3svY3Jvc3NMaW5rfX1cbiAqIEBjbGFzcyBSYXlcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXVxuICogQHBhcmFtIHthcnJheX0gW29wdGlvbnMuZnJvbV1cbiAqIEBwYXJhbSB7YXJyYXl9IFtvcHRpb25zLnRvXVxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jaGVja0NvbGxpc2lvblJlc3BvbnNlPXRydWVdXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnNraXBCYWNrZmFjZXM9ZmFsc2VdXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuY29sbGlzaW9uTWFzaz0tMV1cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5jb2xsaXNpb25Hcm91cD0tMV1cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5tb2RlPVJheS5BTlldXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuY2FsbGJhY2tdXG4gKi9cbmZ1bmN0aW9uIFJheShvcHRpb25zKXtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICAgIC8qKlxuICAgICAqIFJheSBzdGFydCBwb2ludC5cbiAgICAgKiBAcHJvcGVydHkge2FycmF5fSBmcm9tXG4gICAgICovXG4gICAgdGhpcy5mcm9tID0gb3B0aW9ucy5mcm9tID8gdmVjMi5mcm9tVmFsdWVzKG9wdGlvbnMuZnJvbVswXSwgb3B0aW9ucy5mcm9tWzFdKSA6IHZlYzIuY3JlYXRlKCk7XG5cbiAgICAvKipcbiAgICAgKiBSYXkgZW5kIHBvaW50XG4gICAgICogQHByb3BlcnR5IHthcnJheX0gdG9cbiAgICAgKi9cbiAgICB0aGlzLnRvID0gb3B0aW9ucy50byA/IHZlYzIuZnJvbVZhbHVlcyhvcHRpb25zLnRvWzBdLCBvcHRpb25zLnRvWzFdKSA6IHZlYzIuY3JlYXRlKCk7XG5cbiAgICAvKipcbiAgICAgKiBTZXQgdG8gdHJ1ZSBpZiB5b3Ugd2FudCB0aGUgUmF5IHRvIHRha2UgLmNvbGxpc2lvblJlc3BvbnNlIGZsYWdzIGludG8gYWNjb3VudCBvbiBib2RpZXMgYW5kIHNoYXBlcy5cbiAgICAgKiBAcHJvcGVydHkge0Jvb2xlYW59IGNoZWNrQ29sbGlzaW9uUmVzcG9uc2VcbiAgICAgKi9cbiAgICB0aGlzLmNoZWNrQ29sbGlzaW9uUmVzcG9uc2UgPSBvcHRpb25zLmNoZWNrQ29sbGlzaW9uUmVzcG9uc2UgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuY2hlY2tDb2xsaXNpb25SZXNwb25zZSA6IHRydWU7XG5cbiAgICAvKipcbiAgICAgKiBJZiBzZXQgdG8gdHJ1ZSwgdGhlIHJheSBza2lwcyBhbnkgaGl0cyB3aXRoIG5vcm1hbC5kb3QocmF5RGlyZWN0aW9uKSA8IDAuXG4gICAgICogQHByb3BlcnR5IHtCb29sZWFufSBza2lwQmFja2ZhY2VzXG4gICAgICovXG4gICAgdGhpcy5za2lwQmFja2ZhY2VzID0gISFvcHRpb25zLnNraXBCYWNrZmFjZXM7XG5cbiAgICAvKipcbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gY29sbGlzaW9uTWFza1xuICAgICAqIEBkZWZhdWx0IC0xXG4gICAgICovXG4gICAgdGhpcy5jb2xsaXNpb25NYXNrID0gb3B0aW9ucy5jb2xsaXNpb25NYXNrICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmNvbGxpc2lvbk1hc2sgOiAtMTtcblxuICAgIC8qKlxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBjb2xsaXNpb25Hcm91cFxuICAgICAqIEBkZWZhdWx0IC0xXG4gICAgICovXG4gICAgdGhpcy5jb2xsaXNpb25Hcm91cCA9IG9wdGlvbnMuY29sbGlzaW9uR3JvdXAgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuY29sbGlzaW9uR3JvdXAgOiAtMTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBpbnRlcnNlY3Rpb24gbW9kZS4gU2hvdWxkIGJlIHt7I2Nyb3NzTGluayBcIlJheS9BTlk6cHJvcGVydHlcIn19UmF5LkFOWXt7L2Nyb3NzTGlua319LCB7eyNjcm9zc0xpbmsgXCJSYXkvQUxMOnByb3BlcnR5XCJ9fVJheS5BTEx7ey9jcm9zc0xpbmt9fSBvciB7eyNjcm9zc0xpbmsgXCJSYXkvQ0xPU0VTVDpwcm9wZXJ0eVwifX1SYXkuQ0xPU0VTVHt7L2Nyb3NzTGlua319LlxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBtb2RlXG4gICAgICovXG4gICAgdGhpcy5tb2RlID0gb3B0aW9ucy5tb2RlICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm1vZGUgOiBSYXkuQU5ZO1xuXG4gICAgLyoqXG4gICAgICogQ3VycmVudCwgdXNlci1wcm92aWRlZCByZXN1bHQgY2FsbGJhY2suIFdpbGwgYmUgdXNlZCBpZiBtb2RlIGlzIFJheS5BTEwuXG4gICAgICogQHByb3BlcnR5IHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAgICAgKi9cbiAgICB0aGlzLmNhbGxiYWNrID0gb3B0aW9ucy5jYWxsYmFjayB8fCBmdW5jdGlvbihyZXN1bHQpe307XG5cbiAgICAvKipcbiAgICAgKiBAcmVhZE9ubHlcbiAgICAgKiBAcHJvcGVydHkge2FycmF5fSBkaXJlY3Rpb25cbiAgICAgKi9cbiAgICB0aGlzLmRpcmVjdGlvbiA9IHZlYzIuY3JlYXRlKCk7XG5cbiAgICAvKipcbiAgICAgKiBMZW5ndGggb2YgdGhlIHJheVxuICAgICAqIEByZWFkT25seVxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBsZW5ndGhcbiAgICAgKi9cbiAgICB0aGlzLmxlbmd0aCA9IDE7XG5cbiAgICB0aGlzLnVwZGF0ZSgpO1xufVxuUmF5LnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFJheTtcblxuLyoqXG4gKiBUaGlzIHJheWNhc3RpbmcgbW9kZSB3aWxsIG1ha2UgdGhlIFJheSB0cmF2ZXJzZSB0aHJvdWdoIGFsbCBpbnRlcnNlY3Rpb24gcG9pbnRzIGFuZCBvbmx5IHJldHVybiB0aGUgY2xvc2VzdCBvbmUuXG4gKiBAc3RhdGljXG4gKiBAcHJvcGVydHkge051bWJlcn0gQ0xPU0VTVFxuICovXG5SYXkuQ0xPU0VTVCA9IDE7XG5cbi8qKlxuICogVGhpcyByYXljYXN0aW5nIG1vZGUgd2lsbCBtYWtlIHRoZSBSYXkgc3RvcCB3aGVuIGl0IGZpbmRzIHRoZSBmaXJzdCBpbnRlcnNlY3Rpb24gcG9pbnQuXG4gKiBAc3RhdGljXG4gKiBAcHJvcGVydHkge051bWJlcn0gQU5ZXG4gKi9cblJheS5BTlkgPSAyO1xuXG4vKipcbiAqIFRoaXMgcmF5Y2FzdGluZyBtb2RlIHdpbGwgdHJhdmVyc2UgYWxsIGludGVyc2VjdGlvbiBwb2ludHMgYW5kIGV4ZWN1dGVzIGEgY2FsbGJhY2sgZm9yIGVhY2ggb25lLlxuICogQHN0YXRpY1xuICogQHByb3BlcnR5IHtOdW1iZXJ9IEFMTFxuICovXG5SYXkuQUxMID0gNDtcblxuLyoqXG4gKiBTaG91bGQgYmUgY2FsbGVkIGlmIHlvdSBjaGFuZ2UgdGhlIGZyb20gb3IgdG8gcG9pbnQuXG4gKiBAbWV0aG9kIHVwZGF0ZVxuICovXG5SYXkucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uKCl7XG5cbiAgICAvLyBVcGRhdGUgLmRpcmVjdGlvbiBhbmQgLmxlbmd0aFxuICAgIHZhciBkID0gdGhpcy5kaXJlY3Rpb247XG4gICAgdmVjMi5zdWIoZCwgdGhpcy50bywgdGhpcy5mcm9tKTtcbiAgICB0aGlzLmxlbmd0aCA9IHZlYzIubGVuZ3RoKGQpO1xuICAgIHZlYzIubm9ybWFsaXplKGQsIGQpO1xuXG59O1xuXG4vKipcbiAqIEBtZXRob2QgaW50ZXJzZWN0Qm9kaWVzXG4gKiBAcGFyYW0ge0FycmF5fSBib2RpZXMgQW4gYXJyYXkgb2YgQm9keSBvYmplY3RzLlxuICovXG5SYXkucHJvdG90eXBlLmludGVyc2VjdEJvZGllcyA9IGZ1bmN0aW9uIChyZXN1bHQsIGJvZGllcykge1xuICAgIGZvciAodmFyIGkgPSAwLCBsID0gYm9kaWVzLmxlbmd0aDsgIXJlc3VsdC5zaG91bGRTdG9wKHRoaXMpICYmIGkgPCBsOyBpKyspIHtcbiAgICAgICAgdmFyIGJvZHkgPSBib2RpZXNbaV07XG4gICAgICAgIHZhciBhYWJiID0gYm9keS5nZXRBQUJCKCk7XG4gICAgICAgIGlmKGFhYmIub3ZlcmxhcHNSYXkodGhpcykgPj0gMCB8fCBhYWJiLmNvbnRhaW5zUG9pbnQodGhpcy5mcm9tKSl7XG4gICAgICAgICAgICB0aGlzLmludGVyc2VjdEJvZHkocmVzdWx0LCBib2R5KTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5cbnZhciBpbnRlcnNlY3RCb2R5X3dvcmxkUG9zaXRpb24gPSB2ZWMyLmNyZWF0ZSgpO1xuXG4vKipcbiAqIFNob290IGEgcmF5IGF0IGEgYm9keSwgZ2V0IGJhY2sgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGhpdC5cbiAqIEBtZXRob2QgaW50ZXJzZWN0Qm9keVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Qm9keX0gYm9keVxuICovXG5SYXkucHJvdG90eXBlLmludGVyc2VjdEJvZHkgPSBmdW5jdGlvbiAocmVzdWx0LCBib2R5KSB7XG4gICAgdmFyIGNoZWNrQ29sbGlzaW9uUmVzcG9uc2UgPSB0aGlzLmNoZWNrQ29sbGlzaW9uUmVzcG9uc2U7XG5cbiAgICBpZihjaGVja0NvbGxpc2lvblJlc3BvbnNlICYmICFib2R5LmNvbGxpc2lvblJlc3BvbnNlKXtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciB3b3JsZFBvc2l0aW9uID0gaW50ZXJzZWN0Qm9keV93b3JsZFBvc2l0aW9uO1xuXG4gICAgZm9yICh2YXIgaSA9IDAsIE4gPSBib2R5LnNoYXBlcy5sZW5ndGg7IGkgPCBOOyBpKyspIHtcbiAgICAgICAgdmFyIHNoYXBlID0gYm9keS5zaGFwZXNbaV07XG5cbiAgICAgICAgaWYoY2hlY2tDb2xsaXNpb25SZXNwb25zZSAmJiAhc2hhcGUuY29sbGlzaW9uUmVzcG9uc2Upe1xuICAgICAgICAgICAgY29udGludWU7IC8vIFNraXBcbiAgICAgICAgfVxuXG4gICAgICAgIGlmKCh0aGlzLmNvbGxpc2lvbkdyb3VwICYgc2hhcGUuY29sbGlzaW9uTWFzaykgPT09IDAgfHwgKHNoYXBlLmNvbGxpc2lvbkdyb3VwICYgdGhpcy5jb2xsaXNpb25NYXNrKSA9PT0gMCl7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEdldCB3b3JsZCBhbmdsZSBhbmQgcG9zaXRpb24gb2YgdGhlIHNoYXBlXG4gICAgICAgIHZlYzIucm90YXRlKHdvcmxkUG9zaXRpb24sIHNoYXBlLnBvc2l0aW9uLCBib2R5LmFuZ2xlKTtcbiAgICAgICAgdmVjMi5hZGQod29ybGRQb3NpdGlvbiwgd29ybGRQb3NpdGlvbiwgYm9keS5wb3NpdGlvbik7XG4gICAgICAgIHZhciB3b3JsZEFuZ2xlID0gc2hhcGUuYW5nbGUgKyBib2R5LmFuZ2xlO1xuXG4gICAgICAgIHRoaXMuaW50ZXJzZWN0U2hhcGUoXG4gICAgICAgICAgICByZXN1bHQsXG4gICAgICAgICAgICBzaGFwZSxcbiAgICAgICAgICAgIHdvcmxkQW5nbGUsXG4gICAgICAgICAgICB3b3JsZFBvc2l0aW9uLFxuICAgICAgICAgICAgYm9keVxuICAgICAgICApO1xuXG4gICAgICAgIGlmKHJlc3VsdC5zaG91bGRTdG9wKHRoaXMpKXtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxufTtcblxuLyoqXG4gKiBAbWV0aG9kIGludGVyc2VjdFNoYXBlXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtTaGFwZX0gc2hhcGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBhbmdsZVxuICogQHBhcmFtIHthcnJheX0gcG9zaXRpb25cbiAqIEBwYXJhbSB7Qm9keX0gYm9keVxuICovXG5SYXkucHJvdG90eXBlLmludGVyc2VjdFNoYXBlID0gZnVuY3Rpb24ocmVzdWx0LCBzaGFwZSwgYW5nbGUsIHBvc2l0aW9uLCBib2R5KXtcbiAgICB2YXIgZnJvbSA9IHRoaXMuZnJvbTtcblxuICAgIC8vIENoZWNraW5nIHJhZGl1c1xuICAgIHZhciBkaXN0YW5jZSA9IGRpc3RhbmNlRnJvbUludGVyc2VjdGlvblNxdWFyZWQoZnJvbSwgdGhpcy5kaXJlY3Rpb24sIHBvc2l0aW9uKTtcbiAgICBpZiAoZGlzdGFuY2UgPiBzaGFwZS5ib3VuZGluZ1JhZGl1cyAqIHNoYXBlLmJvdW5kaW5nUmFkaXVzKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9jdXJyZW50Qm9keSA9IGJvZHk7XG4gICAgdGhpcy5fY3VycmVudFNoYXBlID0gc2hhcGU7XG5cbiAgICBzaGFwZS5yYXljYXN0KHJlc3VsdCwgdGhpcywgcG9zaXRpb24sIGFuZ2xlKTtcblxuICAgIHRoaXMuX2N1cnJlbnRCb2R5ID0gdGhpcy5fY3VycmVudFNoYXBlID0gbnVsbDtcbn07XG5cbi8qKlxuICogR2V0IHRoZSBBQUJCIG9mIHRoZSByYXkuXG4gKiBAbWV0aG9kIGdldEFBQkJcbiAqIEBwYXJhbSAge0FBQkJ9IGFhYmJcbiAqL1xuUmF5LnByb3RvdHlwZS5nZXRBQUJCID0gZnVuY3Rpb24ocmVzdWx0KXtcbiAgICB2YXIgdG8gPSB0aGlzLnRvO1xuICAgIHZhciBmcm9tID0gdGhpcy5mcm9tO1xuICAgIHZlYzIuc2V0KFxuICAgICAgICByZXN1bHQubG93ZXJCb3VuZCxcbiAgICAgICAgTWF0aC5taW4odG9bMF0sIGZyb21bMF0pLFxuICAgICAgICBNYXRoLm1pbih0b1sxXSwgZnJvbVsxXSlcbiAgICApO1xuICAgIHZlYzIuc2V0KFxuICAgICAgICByZXN1bHQudXBwZXJCb3VuZCxcbiAgICAgICAgTWF0aC5tYXgodG9bMF0sIGZyb21bMF0pLFxuICAgICAgICBNYXRoLm1heCh0b1sxXSwgZnJvbVsxXSlcbiAgICApO1xufTtcblxudmFyIGhpdFBvaW50V29ybGQgPSB2ZWMyLmNyZWF0ZSgpO1xuXG4vKipcbiAqIEBtZXRob2QgcmVwb3J0SW50ZXJzZWN0aW9uXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtICB7bnVtYmVyfSBmcmFjdGlvblxuICogQHBhcmFtICB7YXJyYXl9IG5vcm1hbFxuICogQHBhcmFtICB7bnVtYmVyfSBbZmFjZUluZGV4PS0xXVxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgaW50ZXJzZWN0aW9ucyBzaG91bGQgY29udGludWVcbiAqL1xuUmF5LnByb3RvdHlwZS5yZXBvcnRJbnRlcnNlY3Rpb24gPSBmdW5jdGlvbihyZXN1bHQsIGZyYWN0aW9uLCBub3JtYWwsIGZhY2VJbmRleCl7XG4gICAgdmFyIGZyb20gPSB0aGlzLmZyb207XG4gICAgdmFyIHRvID0gdGhpcy50bztcbiAgICB2YXIgc2hhcGUgPSB0aGlzLl9jdXJyZW50U2hhcGU7XG4gICAgdmFyIGJvZHkgPSB0aGlzLl9jdXJyZW50Qm9keTtcblxuICAgIC8vIFNraXAgYmFjayBmYWNlcz9cbiAgICBpZih0aGlzLnNraXBCYWNrZmFjZXMgJiYgdmVjMi5kb3Qobm9ybWFsLCB0aGlzLmRpcmVjdGlvbikgPiAwKXtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHN3aXRjaCh0aGlzLm1vZGUpe1xuXG4gICAgY2FzZSBSYXkuQUxMOlxuICAgICAgICByZXN1bHQuc2V0KFxuICAgICAgICAgICAgbm9ybWFsLFxuICAgICAgICAgICAgc2hhcGUsXG4gICAgICAgICAgICBib2R5LFxuICAgICAgICAgICAgZnJhY3Rpb24sXG4gICAgICAgICAgICBmYWNlSW5kZXhcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5jYWxsYmFjayhyZXN1bHQpO1xuICAgICAgICBicmVhaztcblxuICAgIGNhc2UgUmF5LkNMT1NFU1Q6XG5cbiAgICAgICAgLy8gU3RvcmUgaWYgY2xvc2VyIHRoYW4gY3VycmVudCBjbG9zZXN0XG4gICAgICAgIGlmKGZyYWN0aW9uIDwgcmVzdWx0LmZyYWN0aW9uIHx8ICFyZXN1bHQuaGFzSGl0KCkpe1xuICAgICAgICAgICAgcmVzdWx0LnNldChcbiAgICAgICAgICAgICAgICBub3JtYWwsXG4gICAgICAgICAgICAgICAgc2hhcGUsXG4gICAgICAgICAgICAgICAgYm9keSxcbiAgICAgICAgICAgICAgICBmcmFjdGlvbixcbiAgICAgICAgICAgICAgICBmYWNlSW5kZXhcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIFJheS5BTlk6XG5cbiAgICAgICAgLy8gUmVwb3J0IGFuZCBzdG9wLlxuICAgICAgICByZXN1bHQuc2V0KFxuICAgICAgICAgICAgbm9ybWFsLFxuICAgICAgICAgICAgc2hhcGUsXG4gICAgICAgICAgICBib2R5LFxuICAgICAgICAgICAgZnJhY3Rpb24sXG4gICAgICAgICAgICBmYWNlSW5kZXhcbiAgICAgICAgKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxufTtcblxudmFyIHYwID0gdmVjMi5jcmVhdGUoKSxcbiAgICBpbnRlcnNlY3QgPSB2ZWMyLmNyZWF0ZSgpO1xuZnVuY3Rpb24gZGlzdGFuY2VGcm9tSW50ZXJzZWN0aW9uU3F1YXJlZChmcm9tLCBkaXJlY3Rpb24sIHBvc2l0aW9uKSB7XG5cbiAgICAvLyB2MCBpcyB2ZWN0b3IgZnJvbSBmcm9tIHRvIHBvc2l0aW9uXG4gICAgdmVjMi5zdWIodjAsIHBvc2l0aW9uLCBmcm9tKTtcbiAgICB2YXIgZG90ID0gdmVjMi5kb3QodjAsIGRpcmVjdGlvbik7XG5cbiAgICAvLyBpbnRlcnNlY3QgPSBkaXJlY3Rpb24gKiBkb3QgKyBmcm9tXG4gICAgdmVjMi5zY2FsZShpbnRlcnNlY3QsIGRpcmVjdGlvbiwgZG90KTtcbiAgICB2ZWMyLmFkZChpbnRlcnNlY3QsIGludGVyc2VjdCwgZnJvbSk7XG5cbiAgICByZXR1cm4gdmVjMi5zcXVhcmVkRGlzdGFuY2UocG9zaXRpb24sIGludGVyc2VjdCk7XG59XG5cblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3AyL3NyYy9jb2xsaXNpb24vUmF5LmpzXG4gKiogbW9kdWxlIGlkID0gMThcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciBFcXVhdGlvbiA9IHJlcXVpcmUoXCIuL0VxdWF0aW9uXCIpLFxuICAgIHZlYzIgPSByZXF1aXJlKCcuLi9tYXRoL3ZlYzInKTtcblxubW9kdWxlLmV4cG9ydHMgPSBDb250YWN0RXF1YXRpb247XG5cbi8qKlxuICogTm9uLXBlbmV0cmF0aW9uIGNvbnN0cmFpbnQgZXF1YXRpb24uIFRyaWVzIHRvIG1ha2UgdGhlIGNvbnRhY3RQb2ludEEgYW5kIGNvbnRhY3RQb2ludEIgdmVjdG9ycyBjb2luY2lkZSwgd2hpbGUga2VlcGluZyB0aGUgYXBwbGllZCBmb3JjZSByZXB1bHNpdmUuXG4gKlxuICogQGNsYXNzIENvbnRhY3RFcXVhdGlvblxuICogQGNvbnN0cnVjdG9yXG4gKiBAZXh0ZW5kcyBFcXVhdGlvblxuICogQHBhcmFtIHtCb2R5fSBib2R5QVxuICogQHBhcmFtIHtCb2R5fSBib2R5QlxuICovXG5mdW5jdGlvbiBDb250YWN0RXF1YXRpb24oYm9keUEsIGJvZHlCKXtcbiAgICBFcXVhdGlvbi5jYWxsKHRoaXMsIGJvZHlBLCBib2R5QiwgMCwgTnVtYmVyLk1BWF9WQUxVRSk7XG5cbiAgICAvKipcbiAgICAgKiBWZWN0b3IgZnJvbSBib2R5IGkgY2VudGVyIG9mIG1hc3MgdG8gdGhlIGNvbnRhY3QgcG9pbnQuXG4gICAgICogQHByb3BlcnR5IGNvbnRhY3RQb2ludEFcbiAgICAgKiBAdHlwZSB7QXJyYXl9XG4gICAgICovXG4gICAgdGhpcy5jb250YWN0UG9pbnRBID0gdmVjMi5jcmVhdGUoKTtcbiAgICB0aGlzLnBlbmV0cmF0aW9uVmVjID0gdmVjMi5jcmVhdGUoKTtcblxuICAgIC8qKlxuICAgICAqIFdvcmxkLW9yaWVudGVkIHZlY3RvciBmcm9tIGJvZHkgQSBjZW50ZXIgb2YgbWFzcyB0byB0aGUgY29udGFjdCBwb2ludC5cbiAgICAgKiBAcHJvcGVydHkgY29udGFjdFBvaW50QlxuICAgICAqIEB0eXBlIHtBcnJheX1cbiAgICAgKi9cbiAgICB0aGlzLmNvbnRhY3RQb2ludEIgPSB2ZWMyLmNyZWF0ZSgpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG5vcm1hbCB2ZWN0b3IsIHBvaW50aW5nIG91dCBvZiBib2R5IGlcbiAgICAgKiBAcHJvcGVydHkgbm9ybWFsQVxuICAgICAqIEB0eXBlIHtBcnJheX1cbiAgICAgKi9cbiAgICB0aGlzLm5vcm1hbEEgPSB2ZWMyLmNyZWF0ZSgpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHJlc3RpdHV0aW9uIHRvIHVzZSAoMD1ubyBib3VuY2luZXNzLCAxPW1heCBib3VuY2luZXNzKS5cbiAgICAgKiBAcHJvcGVydHkgcmVzdGl0dXRpb25cbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMucmVzdGl0dXRpb24gPSAwO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBwcm9wZXJ0eSBpcyBzZXQgdG8gdHJ1ZSBpZiB0aGlzIGlzIHRoZSBmaXJzdCBpbXBhY3QgYmV0d2VlbiB0aGUgYm9kaWVzIChub3QgcGVyc2lzdGFudCBjb250YWN0KS5cbiAgICAgKiBAcHJvcGVydHkgZmlyc3RJbXBhY3RcbiAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICAgKiBAcmVhZE9ubHlcbiAgICAgKi9cbiAgICB0aGlzLmZpcnN0SW1wYWN0ID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgc2hhcGUgaW4gYm9keSBpIHRoYXQgdHJpZ2dlcmVkIHRoaXMgY29udGFjdC5cbiAgICAgKiBAcHJvcGVydHkgc2hhcGVBXG4gICAgICogQHR5cGUge1NoYXBlfVxuICAgICAqL1xuICAgIHRoaXMuc2hhcGVBID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBzaGFwZSBpbiBib2R5IGogdGhhdCB0cmlnZ2VyZWQgdGhpcyBjb250YWN0LlxuICAgICAqIEBwcm9wZXJ0eSBzaGFwZUJcbiAgICAgKiBAdHlwZSB7U2hhcGV9XG4gICAgICovXG4gICAgdGhpcy5zaGFwZUIgPSBudWxsO1xufVxuQ29udGFjdEVxdWF0aW9uLnByb3RvdHlwZSA9IG5ldyBFcXVhdGlvbigpO1xuQ29udGFjdEVxdWF0aW9uLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IENvbnRhY3RFcXVhdGlvbjtcbkNvbnRhY3RFcXVhdGlvbi5wcm90b3R5cGUuY29tcHV0ZUIgPSBmdW5jdGlvbihhLGIsaCl7XG4gICAgdmFyIGJpID0gdGhpcy5ib2R5QSxcbiAgICAgICAgYmogPSB0aGlzLmJvZHlCLFxuICAgICAgICByaSA9IHRoaXMuY29udGFjdFBvaW50QSxcbiAgICAgICAgcmogPSB0aGlzLmNvbnRhY3RQb2ludEIsXG4gICAgICAgIHhpID0gYmkucG9zaXRpb24sXG4gICAgICAgIHhqID0gYmoucG9zaXRpb247XG5cbiAgICB2YXIgcGVuZXRyYXRpb25WZWMgPSB0aGlzLnBlbmV0cmF0aW9uVmVjLFxuICAgICAgICBuID0gdGhpcy5ub3JtYWxBLFxuICAgICAgICBHID0gdGhpcy5HO1xuXG4gICAgLy8gQ2FsdWNsYXRlIGNyb3NzIHByb2R1Y3RzXG4gICAgdmFyIHJpeG4gPSB2ZWMyLmNyb3NzTGVuZ3RoKHJpLG4pLFxuICAgICAgICByanhuID0gdmVjMi5jcm9zc0xlbmd0aChyaixuKTtcblxuICAgIC8vIEcgPSBbLW4gLXJpeG4gbiByanhuXVxuICAgIEdbMF0gPSAtblswXTtcbiAgICBHWzFdID0gLW5bMV07XG4gICAgR1syXSA9IC1yaXhuO1xuICAgIEdbM10gPSBuWzBdO1xuICAgIEdbNF0gPSBuWzFdO1xuICAgIEdbNV0gPSByanhuO1xuXG4gICAgLy8gQ2FsY3VsYXRlIHEgPSB4aityaiAtKHhpK3JpKSBpLmUuIHRoZSBwZW5ldHJhdGlvbiB2ZWN0b3JcbiAgICB2ZWMyLmFkZChwZW5ldHJhdGlvblZlYyx4aixyaik7XG4gICAgdmVjMi5zdWIocGVuZXRyYXRpb25WZWMscGVuZXRyYXRpb25WZWMseGkpO1xuICAgIHZlYzIuc3ViKHBlbmV0cmF0aW9uVmVjLHBlbmV0cmF0aW9uVmVjLHJpKTtcblxuICAgIC8vIENvbXB1dGUgaXRlcmF0aW9uXG4gICAgdmFyIEdXLCBHcTtcbiAgICBpZih0aGlzLmZpcnN0SW1wYWN0ICYmIHRoaXMucmVzdGl0dXRpb24gIT09IDApe1xuICAgICAgICBHcSA9IDA7XG4gICAgICAgIEdXID0gKDEvYikqKDErdGhpcy5yZXN0aXR1dGlvbikgKiB0aGlzLmNvbXB1dGVHVygpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIEdxID0gdmVjMi5kb3QobixwZW5ldHJhdGlvblZlYykgKyB0aGlzLm9mZnNldDtcbiAgICAgICAgR1cgPSB0aGlzLmNvbXB1dGVHVygpO1xuICAgIH1cblxuICAgIHZhciBHaU1mID0gdGhpcy5jb21wdXRlR2lNZigpO1xuICAgIHZhciBCID0gLSBHcSAqIGEgLSBHVyAqIGIgLSBoKkdpTWY7XG5cbiAgICByZXR1cm4gQjtcbn07XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9wMi9zcmMvZXF1YXRpb25zL0NvbnRhY3RFcXVhdGlvbi5qc1xuICoqIG1vZHVsZSBpZCA9IDE5XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvKipcbiAqIEJhc2UgY2xhc3MgZm9yIG9iamVjdHMgdGhhdCBkaXNwYXRjaGVzIGV2ZW50cy5cbiAqIEBjbGFzcyBFdmVudEVtaXR0ZXJcbiAqIEBjb25zdHJ1Y3RvclxuICovXG52YXIgRXZlbnRFbWl0dGVyID0gZnVuY3Rpb24gKCkge307XG5cbm1vZHVsZS5leHBvcnRzID0gRXZlbnRFbWl0dGVyO1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlID0ge1xuICAgIGNvbnN0cnVjdG9yOiBFdmVudEVtaXR0ZXIsXG5cbiAgICAvKipcbiAgICAgKiBBZGQgYW4gZXZlbnQgbGlzdGVuZXJcbiAgICAgKiBAbWV0aG9kIG9uXG4gICAgICogQHBhcmFtICB7U3RyaW5nfSB0eXBlXG4gICAgICogQHBhcmFtICB7RnVuY3Rpb259IGxpc3RlbmVyXG4gICAgICogQHJldHVybiB7RXZlbnRFbWl0dGVyfSBUaGUgc2VsZiBvYmplY3QsIGZvciBjaGFpbmFiaWxpdHkuXG4gICAgICovXG4gICAgb246IGZ1bmN0aW9uICggdHlwZSwgbGlzdGVuZXIsIGNvbnRleHQgKSB7XG4gICAgICAgIGxpc3RlbmVyLmNvbnRleHQgPSBjb250ZXh0IHx8IHRoaXM7XG4gICAgICAgIGlmICggdGhpcy5fbGlzdGVuZXJzID09PSB1bmRlZmluZWQgKXtcbiAgICAgICAgICAgIHRoaXMuX2xpc3RlbmVycyA9IHt9O1xuICAgICAgICB9XG4gICAgICAgIHZhciBsaXN0ZW5lcnMgPSB0aGlzLl9saXN0ZW5lcnM7XG4gICAgICAgIGlmICggbGlzdGVuZXJzWyB0eXBlIF0gPT09IHVuZGVmaW5lZCApIHtcbiAgICAgICAgICAgIGxpc3RlbmVyc1sgdHlwZSBdID0gW107XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCBsaXN0ZW5lcnNbIHR5cGUgXS5pbmRleE9mKCBsaXN0ZW5lciApID09PSAtIDEgKSB7XG4gICAgICAgICAgICBsaXN0ZW5lcnNbIHR5cGUgXS5wdXNoKCBsaXN0ZW5lciApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiBhbiBldmVudCBsaXN0ZW5lciBpcyBhZGRlZFxuICAgICAqIEBtZXRob2QgaGFzXG4gICAgICogQHBhcmFtICB7U3RyaW5nfSB0eXBlXG4gICAgICogQHBhcmFtICB7RnVuY3Rpb259IGxpc3RlbmVyXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICBoYXM6IGZ1bmN0aW9uICggdHlwZSwgbGlzdGVuZXIgKSB7XG4gICAgICAgIGlmICggdGhpcy5fbGlzdGVuZXJzID09PSB1bmRlZmluZWQgKXtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbGlzdGVuZXJzID0gdGhpcy5fbGlzdGVuZXJzO1xuICAgICAgICBpZihsaXN0ZW5lcil7XG4gICAgICAgICAgICBpZiAoIGxpc3RlbmVyc1sgdHlwZSBdICE9PSB1bmRlZmluZWQgJiYgbGlzdGVuZXJzWyB0eXBlIF0uaW5kZXhPZiggbGlzdGVuZXIgKSAhPT0gLSAxICkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKCBsaXN0ZW5lcnNbIHR5cGUgXSAhPT0gdW5kZWZpbmVkICkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYW4gZXZlbnQgbGlzdGVuZXJcbiAgICAgKiBAbWV0aG9kIG9mZlxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gdHlwZVxuICAgICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBsaXN0ZW5lclxuICAgICAqIEByZXR1cm4ge0V2ZW50RW1pdHRlcn0gVGhlIHNlbGYgb2JqZWN0LCBmb3IgY2hhaW5hYmlsaXR5LlxuICAgICAqL1xuICAgIG9mZjogZnVuY3Rpb24gKCB0eXBlLCBsaXN0ZW5lciApIHtcbiAgICAgICAgaWYgKCB0aGlzLl9saXN0ZW5lcnMgPT09IHVuZGVmaW5lZCApe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2xpc3RlbmVycztcbiAgICAgICAgdmFyIGluZGV4ID0gbGlzdGVuZXJzWyB0eXBlIF0uaW5kZXhPZiggbGlzdGVuZXIgKTtcbiAgICAgICAgaWYgKCBpbmRleCAhPT0gLSAxICkge1xuICAgICAgICAgICAgbGlzdGVuZXJzWyB0eXBlIF0uc3BsaWNlKCBpbmRleCwgMSApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBFbWl0IGFuIGV2ZW50LlxuICAgICAqIEBtZXRob2QgZW1pdFxuICAgICAqIEBwYXJhbSAge09iamVjdH0gZXZlbnRcbiAgICAgKiBAcGFyYW0gIHtTdHJpbmd9IGV2ZW50LnR5cGVcbiAgICAgKiBAcmV0dXJuIHtFdmVudEVtaXR0ZXJ9IFRoZSBzZWxmIG9iamVjdCwgZm9yIGNoYWluYWJpbGl0eS5cbiAgICAgKi9cbiAgICBlbWl0OiBmdW5jdGlvbiAoIGV2ZW50ICkge1xuICAgICAgICBpZiAoIHRoaXMuX2xpc3RlbmVycyA9PT0gdW5kZWZpbmVkICl7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICB2YXIgbGlzdGVuZXJzID0gdGhpcy5fbGlzdGVuZXJzO1xuICAgICAgICB2YXIgbGlzdGVuZXJBcnJheSA9IGxpc3RlbmVyc1sgZXZlbnQudHlwZSBdO1xuICAgICAgICBpZiAoIGxpc3RlbmVyQXJyYXkgIT09IHVuZGVmaW5lZCApIHtcbiAgICAgICAgICAgIGV2ZW50LnRhcmdldCA9IHRoaXM7XG4gICAgICAgICAgICBmb3IgKCB2YXIgaSA9IDAsIGwgPSBsaXN0ZW5lckFycmF5Lmxlbmd0aDsgaSA8IGw7IGkgKysgKSB7XG4gICAgICAgICAgICAgICAgdmFyIGxpc3RlbmVyID0gbGlzdGVuZXJBcnJheVsgaSBdO1xuICAgICAgICAgICAgICAgIGxpc3RlbmVyLmNhbGwoIGxpc3RlbmVyLmNvbnRleHQsIGV2ZW50ICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3AyL3NyYy9ldmVudHMvRXZlbnRFbWl0dGVyLmpzXG4gKiogbW9kdWxlIGlkID0gMjBcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciBTaGFwZSA9IHJlcXVpcmUoJy4vU2hhcGUnKVxuLCAgICB2ZWMyID0gcmVxdWlyZSgnLi4vbWF0aC92ZWMyJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gQ2lyY2xlO1xuXG4vKipcbiAqIENpcmNsZSBzaGFwZSBjbGFzcy5cbiAqIEBjbGFzcyBDaXJjbGVcbiAqIEBleHRlbmRzIFNoYXBlXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7b3B0aW9uc30gW29wdGlvbnNdIChOb3RlIHRoYXQgdGhpcyBvcHRpb25zIG9iamVjdCB3aWxsIGJlIHBhc3NlZCBvbiB0byB0aGUge3sjY3Jvc3NMaW5rIFwiU2hhcGVcIn19e3svY3Jvc3NMaW5rfX0gY29uc3RydWN0b3IuKVxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnJhZGl1cz0xXSBUaGUgcmFkaXVzIG9mIHRoaXMgY2lyY2xlXG4gKlxuICogQGV4YW1wbGVcbiAqICAgICB2YXIgY2lyY2xlU2hhcGUgPSBuZXcgQ2lyY2xlKHsgcmFkaXVzOiAxIH0pO1xuICogICAgIGJvZHkuYWRkU2hhcGUoY2lyY2xlU2hhcGUpO1xuICovXG5mdW5jdGlvbiBDaXJjbGUob3B0aW9ucyl7XG4gICAgaWYodHlwZW9mKGFyZ3VtZW50c1swXSkgPT09ICdudW1iZXInKXtcbiAgICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgIHJhZGl1czogYXJndW1lbnRzWzBdXG4gICAgICAgIH07XG4gICAgICAgIGNvbnNvbGUud2FybignVGhlIENpcmNsZSBjb25zdHJ1Y3RvciBzaWduYXR1cmUgaGFzIGNoYW5nZWQuIFBsZWFzZSB1c2UgdGhlIGZvbGxvd2luZyBmb3JtYXQ6IG5ldyBDaXJjbGUoeyByYWRpdXM6IDEgfSknKTtcbiAgICB9XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICAvKipcbiAgICAgKiBUaGUgcmFkaXVzIG9mIHRoZSBjaXJjbGUuXG4gICAgICogQHByb3BlcnR5IHJhZGl1c1xuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5yYWRpdXMgPSBvcHRpb25zLnJhZGl1cyB8fCAxO1xuXG4gICAgb3B0aW9ucy50eXBlID0gU2hhcGUuQ0lSQ0xFO1xuICAgIFNoYXBlLmNhbGwodGhpcywgb3B0aW9ucyk7XG59XG5DaXJjbGUucHJvdG90eXBlID0gbmV3IFNoYXBlKCk7XG5DaXJjbGUucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQ2lyY2xlO1xuXG4vKipcbiAqIEBtZXRob2QgY29tcHV0ZU1vbWVudE9mSW5lcnRpYVxuICogQHBhcmFtICB7TnVtYmVyfSBtYXNzXG4gKiBAcmV0dXJuIHtOdW1iZXJ9XG4gKi9cbkNpcmNsZS5wcm90b3R5cGUuY29tcHV0ZU1vbWVudE9mSW5lcnRpYSA9IGZ1bmN0aW9uKG1hc3Mpe1xuICAgIHZhciByID0gdGhpcy5yYWRpdXM7XG4gICAgcmV0dXJuIG1hc3MgKiByICogciAvIDI7XG59O1xuXG4vKipcbiAqIEBtZXRob2QgdXBkYXRlQm91bmRpbmdSYWRpdXNcbiAqIEByZXR1cm4ge051bWJlcn1cbiAqL1xuQ2lyY2xlLnByb3RvdHlwZS51cGRhdGVCb3VuZGluZ1JhZGl1cyA9IGZ1bmN0aW9uKCl7XG4gICAgdGhpcy5ib3VuZGluZ1JhZGl1cyA9IHRoaXMucmFkaXVzO1xufTtcblxuLyoqXG4gKiBAbWV0aG9kIHVwZGF0ZUFyZWFcbiAqIEByZXR1cm4ge051bWJlcn1cbiAqL1xuQ2lyY2xlLnByb3RvdHlwZS51cGRhdGVBcmVhID0gZnVuY3Rpb24oKXtcbiAgICB0aGlzLmFyZWEgPSBNYXRoLlBJICogdGhpcy5yYWRpdXMgKiB0aGlzLnJhZGl1cztcbn07XG5cbi8qKlxuICogQG1ldGhvZCBjb21wdXRlQUFCQlxuICogQHBhcmFtICB7QUFCQn0gICBvdXQgICAgICBUaGUgcmVzdWx0aW5nIEFBQkIuXG4gKiBAcGFyYW0gIHtBcnJheX0gIHBvc2l0aW9uXG4gKiBAcGFyYW0gIHtOdW1iZXJ9IGFuZ2xlXG4gKi9cbkNpcmNsZS5wcm90b3R5cGUuY29tcHV0ZUFBQkIgPSBmdW5jdGlvbihvdXQsIHBvc2l0aW9uLCBhbmdsZSl7XG4gICAgdmFyIHIgPSB0aGlzLnJhZGl1cztcbiAgICB2ZWMyLnNldChvdXQudXBwZXJCb3VuZCwgIHIsICByKTtcbiAgICB2ZWMyLnNldChvdXQubG93ZXJCb3VuZCwgLXIsIC1yKTtcbiAgICBpZihwb3NpdGlvbil7XG4gICAgICAgIHZlYzIuYWRkKG91dC5sb3dlckJvdW5kLCBvdXQubG93ZXJCb3VuZCwgcG9zaXRpb24pO1xuICAgICAgICB2ZWMyLmFkZChvdXQudXBwZXJCb3VuZCwgb3V0LnVwcGVyQm91bmQsIHBvc2l0aW9uKTtcbiAgICB9XG59O1xuXG52YXIgUmF5X2ludGVyc2VjdFNwaGVyZV9pbnRlcnNlY3Rpb25Qb2ludCA9IHZlYzIuY3JlYXRlKCk7XG52YXIgUmF5X2ludGVyc2VjdFNwaGVyZV9ub3JtYWwgPSB2ZWMyLmNyZWF0ZSgpO1xuXG4vKipcbiAqIEBtZXRob2QgcmF5Y2FzdFxuICogQHBhcmFtICB7UmF5Y2FzdFJlc3VsdH0gcmVzdWx0XG4gKiBAcGFyYW0gIHtSYXl9IHJheVxuICogQHBhcmFtICB7YXJyYXl9IHBvc2l0aW9uXG4gKiBAcGFyYW0gIHtudW1iZXJ9IGFuZ2xlXG4gKi9cbkNpcmNsZS5wcm90b3R5cGUucmF5Y2FzdCA9IGZ1bmN0aW9uKHJlc3VsdCwgcmF5LCBwb3NpdGlvbiwgYW5nbGUpe1xuICAgIHZhciBmcm9tID0gcmF5LmZyb20sXG4gICAgICAgIHRvID0gcmF5LnRvLFxuICAgICAgICByID0gdGhpcy5yYWRpdXM7XG5cbiAgICB2YXIgYSA9IE1hdGgucG93KHRvWzBdIC0gZnJvbVswXSwgMikgKyBNYXRoLnBvdyh0b1sxXSAtIGZyb21bMV0sIDIpO1xuICAgIHZhciBiID0gMiAqICgodG9bMF0gLSBmcm9tWzBdKSAqIChmcm9tWzBdIC0gcG9zaXRpb25bMF0pICsgKHRvWzFdIC0gZnJvbVsxXSkgKiAoZnJvbVsxXSAtIHBvc2l0aW9uWzFdKSk7XG4gICAgdmFyIGMgPSBNYXRoLnBvdyhmcm9tWzBdIC0gcG9zaXRpb25bMF0sIDIpICsgTWF0aC5wb3coZnJvbVsxXSAtIHBvc2l0aW9uWzFdLCAyKSAtIE1hdGgucG93KHIsIDIpO1xuICAgIHZhciBkZWx0YSA9IE1hdGgucG93KGIsIDIpIC0gNCAqIGEgKiBjO1xuXG4gICAgdmFyIGludGVyc2VjdGlvblBvaW50ID0gUmF5X2ludGVyc2VjdFNwaGVyZV9pbnRlcnNlY3Rpb25Qb2ludDtcbiAgICB2YXIgbm9ybWFsID0gUmF5X2ludGVyc2VjdFNwaGVyZV9ub3JtYWw7XG5cbiAgICBpZihkZWx0YSA8IDApe1xuICAgICAgICAvLyBObyBpbnRlcnNlY3Rpb25cbiAgICAgICAgcmV0dXJuO1xuXG4gICAgfSBlbHNlIGlmKGRlbHRhID09PSAwKXtcbiAgICAgICAgLy8gc2luZ2xlIGludGVyc2VjdGlvbiBwb2ludFxuICAgICAgICB2ZWMyLmxlcnAoaW50ZXJzZWN0aW9uUG9pbnQsIGZyb20sIHRvLCBkZWx0YSk7XG5cbiAgICAgICAgdmVjMi5zdWIobm9ybWFsLCBpbnRlcnNlY3Rpb25Qb2ludCwgcG9zaXRpb24pO1xuICAgICAgICB2ZWMyLm5vcm1hbGl6ZShub3JtYWwsbm9ybWFsKTtcblxuICAgICAgICByYXkucmVwb3J0SW50ZXJzZWN0aW9uKHJlc3VsdCwgZGVsdGEsIG5vcm1hbCwgLTEpO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIHNxcnREZWx0YSA9IE1hdGguc3FydChkZWx0YSk7XG4gICAgICAgIHZhciBpbnYyYSA9IDEgLyAoMiAqIGEpO1xuICAgICAgICB2YXIgZDEgPSAoLSBiIC0gc3FydERlbHRhKSAqIGludjJhO1xuICAgICAgICB2YXIgZDIgPSAoLSBiICsgc3FydERlbHRhKSAqIGludjJhO1xuXG4gICAgICAgIGlmKGQxID49IDAgJiYgZDEgPD0gMSl7XG4gICAgICAgICAgICB2ZWMyLmxlcnAoaW50ZXJzZWN0aW9uUG9pbnQsIGZyb20sIHRvLCBkMSk7XG5cbiAgICAgICAgICAgIHZlYzIuc3ViKG5vcm1hbCwgaW50ZXJzZWN0aW9uUG9pbnQsIHBvc2l0aW9uKTtcbiAgICAgICAgICAgIHZlYzIubm9ybWFsaXplKG5vcm1hbCxub3JtYWwpO1xuXG4gICAgICAgICAgICByYXkucmVwb3J0SW50ZXJzZWN0aW9uKHJlc3VsdCwgZDEsIG5vcm1hbCwgLTEpO1xuXG4gICAgICAgICAgICBpZihyZXN1bHQuc2hvdWxkU3RvcChyYXkpKXtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZihkMiA+PSAwICYmIGQyIDw9IDEpe1xuICAgICAgICAgICAgdmVjMi5sZXJwKGludGVyc2VjdGlvblBvaW50LCBmcm9tLCB0bywgZDIpO1xuXG4gICAgICAgICAgICB2ZWMyLnN1Yihub3JtYWwsIGludGVyc2VjdGlvblBvaW50LCBwb3NpdGlvbik7XG4gICAgICAgICAgICB2ZWMyLm5vcm1hbGl6ZShub3JtYWwsbm9ybWFsKTtcblxuICAgICAgICAgICAgcmF5LnJlcG9ydEludGVyc2VjdGlvbihyZXN1bHQsIGQyLCBub3JtYWwsIC0xKTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcDIvc3JjL3NoYXBlcy9DaXJjbGUuanNcbiAqKiBtb2R1bGUgaWQgPSAyMVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiJ3VzZSBzdHJpY3QnXG5cbi8qKlxuICogQ3Jvc3NwbGF0Zm9ybSBEYXRlLm5vdygpXG4gKlxuICogQHJldHVybiB7TnVtYmVyfSB0aW1lIGluIG1zXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBEYXRlLm5vdyB8fCBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gKG5ldyBEYXRlKS5nZXRUaW1lKClcbn1cblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2FuaW1hdGlvbi1mcmFtZS9saWIvbm93LmpzXG4gKiogbW9kdWxlIGlkID0gMjJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsImltcG9ydCB7Qm9keSwgQm94fSBmcm9tICdwMic7XG5pbXBvcnQge2NyYXRlIGFzIG1hdGVyaWFsfSBmcm9tICdtYXRlcmlhbHMnO1xuaW1wb3J0IHJhbmdlIGZyb20gJ2xvZGFzaC5yYW5nZSc7XG5pbXBvcnQgcGxhbmUgZnJvbSAncGxhbmUnO1xuXG5jb25zdCBUWVBFID0ge307XG5leHBvcnQge1RZUEUgYXMgZGVmYXVsdH07XG5leHBvcnQgY29uc3QgQ1JBVEVfU0laRSA9IDE7XG5leHBvcnQgZnVuY3Rpb24gaW5pdGlhbCh3b3JsZCkge1xuXG4gIGZ1bmN0aW9uIGJveCh4LCB5KSB7XG5cbiAgICBjb25zdCBib2R5ID0gbmV3IEJvZHkoe1xuICAgICAgbWFzczogMC4wMDAxLFxuICAgICAgcG9zaXRpb246IFt4LCB5XVxuICAgIH0pO1xuXG4gICAgYm9keS5UWVBFID0gVFlQRTtcblxuICAgIGNvbnN0IHNoYXBlID0gbmV3IEJveCh7XG4gICAgICB3aWR0aDogQ1JBVEVfU0laRSxcbiAgICAgIGhlaWdodDogQ1JBVEVfU0laRSxcbiAgICAgIG1hdGVyaWFsOiBtYXRlcmlhbFxuICAgIH0pO1xuXG4gICAgYm9keS5hZGRTaGFwZShzaGFwZSk7XG4gICAgd29ybGQuYWRkQm9keShib2R5KTtcblxuICAgIHJldHVybiBib2R5O1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlKHgsIHkpIHtcbiAgICByZXR1cm4ge1xuICAgICAgYm9keTogYm94KHgsIHkpLFxuICAgICAgaW5pdGlhbFBvc2l0aW9uOiB7eCwgeX0sXG4gICAgICBsaXZlZDogMFxuICAgIH07XG4gIH1cblxuICBjb25zdCBjcmF0ZXMgPSByYW5nZSg2MCkubWFwKChpKSA9PiB7XG4gICAgcmV0dXJuIGNyZWF0ZSgyMCArIGkgJSAxMiAqIDIsIENSQVRFX1NJWkUgLyAyICsgNSArIE1hdGguZmxvb3IoaSAvIDEyKSAqIDIpXG4gIH0pXG5cbiAgcmV0dXJuIHtcbiAgICBjcmF0ZXMsXG4gICAgc291bmRzOiBbXVxuICB9O1xufVxuXG5mdW5jdGlvbiBmbG9hdEFyb3VuZCgpIHtcbiAgY29uc3QgbW92ZW1lbnQgPSBNYXRoLnNpbih0aGlzLmxpdmVkIC8gMzAgJSAoTWF0aC5QSSAqIDIpKSAqIDAuMzM7XG4gIHRoaXMuYm9keS5wb3NpdGlvblsxXSA9IHRoaXMuaW5pdGlhbFBvc2l0aW9uLnkgKyBtb3ZlbWVudDtcbiAgcmV0dXJuIHRoaXM7XG59XG5cbmZ1bmN0aW9uIGdldFBsYW5lQ29sbGlkaW5nQ3JhdGVzKGltcGFjdHMpIHtcbiAgcmV0dXJuIGltcGFjdHMuZmlsdGVyKCh7Ym9keUEsIGJvZHlCfSkgPT4ge1xuICAgIHJldHVybiBib2R5QS5UWVBFID09PSBUWVBFICYmIGJvZHlCLlRZUEUgPT09IHBsYW5lIHx8XG4gICAgICBib2R5QS5UWVBFID09PSBwbGFuZSAmJiBib2R5Qi5UWVBFID09PSBUWVBFO1xuICB9KS5tYXAoKHtib2R5QSwgYm9keUJ9KSA9PiB7XG4gICAgcmV0dXJuIGJvZHlBLlRZUEUgPT09IFRZUEUgPyBib2R5QSA6IGJvZHlCO1xuICB9KVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlKGNyYXRlcywgaW5wdXQsIHdvcmxkKSB7XG5cbiAgY29uc3QgY3JhdGVzQ29sbGlkaW5nUGxhbmUgPSBnZXRQbGFuZUNvbGxpZGluZ0NyYXRlcyh3b3JsZC5pbXBhY3RzKTtcblxuICBjcmF0ZXNDb2xsaWRpbmdQbGFuZS5mb3JFYWNoKGIgPT4gd29ybGQucmVtb3ZlQm9keShiKSk7XG5cbiAgcmV0dXJuIHtcbiAgICBjcmF0ZXM6IGNyYXRlcy5jcmF0ZXMuZmlsdGVyKGNyYXRlID0+IHtcbiAgICAgIHJldHVybiBjcmF0ZXNDb2xsaWRpbmdQbGFuZS5pbmRleE9mKGNyYXRlLmJvZHkpID09PSAtMTtcbiAgICB9KS5tYXAoY3JhdGUgPT4ge1xuICAgICAgY3JhdGUubGl2ZWQgKz0gaW5wdXQuZGVsdGE7XG4gICAgICByZXR1cm4gY3JhdGU6OmZsb2F0QXJvdW5kKCk7XG4gICAgfSksXG4gICAgc291bmRzOiBjcmF0ZXNDb2xsaWRpbmdQbGFuZS5sZW5ndGggPT09IDAgPyBbXSA6IFsnZGVzdHJveSddXG4gIH07XG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NjcmlwdHMvY3JhdGUvaW5kZXguanNcbiAqKi8iLCJpbXBvcnQge01hdGVyaWFsLCBDb250YWN0TWF0ZXJpYWx9IGZyb20gJ3AyJztcblxuZXhwb3J0IGNvbnN0IGNyYXRlID0gbmV3IE1hdGVyaWFsKCk7XG5leHBvcnQgY29uc3QgZ3JvdW5kID0gbmV3IE1hdGVyaWFsKCk7XG5cbmV4cG9ydCBjb25zdCBjb250YWN0TWF0ZXJpYWxzID0gW1xuICBuZXcgQ29udGFjdE1hdGVyaWFsKGdyb3VuZCwgY3JhdGUsIHtcbiAgICBmcmljdGlvbjogNTAsXG4gICAgcmVzdGl0dXRpb246IDAuMVxuICB9KVxuXTtcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc2NyaXB0cy9tYXRlcmlhbHMuanNcbiAqKi8iLCJleHBvcnQgY29uc3QgU0NBTEUgPSAxIC8gMzU7XG5leHBvcnQgY29uc3QgR1JPVU5EX0xFVkVMID0gMS41O1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zY3JpcHRzL3JlbmRlci9jb25zdGFudHMuanNcbiAqKi8iLCJ2YXIgdmVjMiA9IHJlcXVpcmUoJy4uL21hdGgvdmVjMicpO1xudmFyIFJheSA9IHJlcXVpcmUoJy4uL2NvbGxpc2lvbi9SYXknKTtcblxubW9kdWxlLmV4cG9ydHMgPSBSYXljYXN0UmVzdWx0O1xuXG4vKipcbiAqIFN0b3JhZ2UgZm9yIFJheSBjYXN0aW5nIGhpdCBkYXRhLlxuICogQGNsYXNzIFJheWNhc3RSZXN1bHRcbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBSYXljYXN0UmVzdWx0KCl7XG5cblx0LyoqXG5cdCAqIFRoZSBub3JtYWwgb2YgdGhlIGhpdCwgb3JpZW50ZWQgaW4gd29ybGQgc3BhY2UuXG5cdCAqIEBwcm9wZXJ0eSB7YXJyYXl9IG5vcm1hbFxuXHQgKi9cblx0dGhpcy5ub3JtYWwgPSB2ZWMyLmNyZWF0ZSgpO1xuXG5cdC8qKlxuXHQgKiBUaGUgaGl0IHNoYXBlLCBvciBudWxsLlxuXHQgKiBAcHJvcGVydHkge1NoYXBlfSBzaGFwZVxuXHQgKi9cblx0dGhpcy5zaGFwZSA9IG51bGw7XG5cblx0LyoqXG5cdCAqIFRoZSBoaXQgYm9keSwgb3IgbnVsbC5cblx0ICogQHByb3BlcnR5IHtCb2R5fSBib2R5XG5cdCAqL1xuXHR0aGlzLmJvZHkgPSBudWxsO1xuXG5cdC8qKlxuXHQgKiBUaGUgaW5kZXggb2YgdGhlIGhpdCB0cmlhbmdsZSwgaWYgdGhlIGhpdCBzaGFwZSB3YXMgaW5kZXhhYmxlLlxuXHQgKiBAcHJvcGVydHkge251bWJlcn0gZmFjZUluZGV4XG5cdCAqIEBkZWZhdWx0IC0xXG5cdCAqL1xuXHR0aGlzLmZhY2VJbmRleCA9IC0xO1xuXG5cdC8qKlxuXHQgKiBEaXN0YW5jZSB0byB0aGUgaGl0LCBhcyBhIGZyYWN0aW9uLiAwIGlzIGF0IHRoZSBcImZyb21cIiBwb2ludCwgMSBpcyBhdCB0aGUgXCJ0b1wiIHBvaW50LiBXaWxsIGJlIHNldCB0byAtMSBpZiB0aGVyZSB3YXMgbm8gaGl0IHlldC5cblx0ICogQHByb3BlcnR5IHtudW1iZXJ9IGZyYWN0aW9uXG5cdCAqIEBkZWZhdWx0IC0xXG5cdCAqL1xuXHR0aGlzLmZyYWN0aW9uID0gLTE7XG5cblx0LyoqXG5cdCAqIElmIHRoZSByYXkgc2hvdWxkIHN0b3AgdHJhdmVyc2luZy5cblx0ICogQHJlYWRvbmx5XG5cdCAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gaXNTdG9wcGVkXG5cdCAqL1xuXHR0aGlzLmlzU3RvcHBlZCA9IGZhbHNlO1xufVxuXG4vKipcbiAqIFJlc2V0IGFsbCByZXN1bHQgZGF0YS4gTXVzdCBiZSBkb25lIGJlZm9yZSByZS11c2luZyB0aGUgcmVzdWx0IG9iamVjdC5cbiAqIEBtZXRob2QgcmVzZXRcbiAqL1xuUmF5Y2FzdFJlc3VsdC5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG5cdHZlYzIuc2V0KHRoaXMubm9ybWFsLCAwLCAwKTtcblx0dGhpcy5zaGFwZSA9IG51bGw7XG5cdHRoaXMuYm9keSA9IG51bGw7XG5cdHRoaXMuZmFjZUluZGV4ID0gLTE7XG5cdHRoaXMuZnJhY3Rpb24gPSAtMTtcblx0dGhpcy5pc1N0b3BwZWQgPSBmYWxzZTtcbn07XG5cbi8qKlxuICogR2V0IHRoZSBkaXN0YW5jZSB0byB0aGUgaGl0IHBvaW50LlxuICogQG1ldGhvZCBnZXRIaXREaXN0YW5jZVxuICogQHBhcmFtIHtSYXl9IHJheVxuICovXG5SYXljYXN0UmVzdWx0LnByb3RvdHlwZS5nZXRIaXREaXN0YW5jZSA9IGZ1bmN0aW9uIChyYXkpIHtcblx0cmV0dXJuIHZlYzIuZGlzdGFuY2UocmF5LmZyb20sIHJheS50bykgKiB0aGlzLmZyYWN0aW9uO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhlIHJheSBoaXQgc29tZXRoaW5nIHNpbmNlIHRoZSBsYXN0IHJlc2V0KCkuXG4gKiBAbWV0aG9kIGhhc0hpdFxuICovXG5SYXljYXN0UmVzdWx0LnByb3RvdHlwZS5oYXNIaXQgPSBmdW5jdGlvbiAoKSB7XG5cdHJldHVybiB0aGlzLmZyYWN0aW9uICE9PSAtMTtcbn07XG5cbi8qKlxuICogR2V0IHdvcmxkIGhpdCBwb2ludC5cbiAqIEBtZXRob2QgZ2V0SGl0UG9pbnRcbiAqIEBwYXJhbSB7YXJyYXl9IG91dFxuICogQHBhcmFtIHtSYXl9IHJheVxuICovXG5SYXljYXN0UmVzdWx0LnByb3RvdHlwZS5nZXRIaXRQb2ludCA9IGZ1bmN0aW9uIChvdXQsIHJheSkge1xuXHR2ZWMyLmxlcnAob3V0LCByYXkuZnJvbSwgcmF5LnRvLCB0aGlzLmZyYWN0aW9uKTtcbn07XG5cbi8qKlxuICogQ2FuIGJlIGNhbGxlZCB3aGlsZSBpdGVyYXRpbmcgb3ZlciBoaXRzIHRvIHN0b3Agc2VhcmNoaW5nIGZvciBoaXQgcG9pbnRzLlxuICogQG1ldGhvZCBzdG9wXG4gKi9cblJheWNhc3RSZXN1bHQucHJvdG90eXBlLnN0b3AgPSBmdW5jdGlvbigpe1xuXHR0aGlzLmlzU3RvcHBlZCA9IHRydWU7XG59O1xuXG4vKipcbiAqIEBtZXRob2Qgc2hvdWxkU3RvcFxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UmF5fSByYXlcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cblJheWNhc3RSZXN1bHQucHJvdG90eXBlLnNob3VsZFN0b3AgPSBmdW5jdGlvbihyYXkpe1xuXHRyZXR1cm4gdGhpcy5pc1N0b3BwZWQgfHwgKHRoaXMuZnJhY3Rpb24gIT09IC0xICYmIHJheS5tb2RlID09PSBSYXkuQU5ZKTtcbn07XG5cbi8qKlxuICogQG1ldGhvZCBzZXRcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge2FycmF5fSBub3JtYWxcbiAqIEBwYXJhbSB7U2hhcGV9IHNoYXBlXG4gKiBAcGFyYW0ge0JvZHl9IGJvZHlcbiAqIEBwYXJhbSB7bnVtYmVyfSBmcmFjdGlvblxuICovXG5SYXljYXN0UmVzdWx0LnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbihcblx0bm9ybWFsLFxuXHRzaGFwZSxcblx0Ym9keSxcblx0ZnJhY3Rpb24sXG5cdGZhY2VJbmRleFxuKXtcblx0dmVjMi5jb3B5KHRoaXMubm9ybWFsLCBub3JtYWwpO1xuXHR0aGlzLnNoYXBlID0gc2hhcGU7XG5cdHRoaXMuYm9keSA9IGJvZHk7XG5cdHRoaXMuZnJhY3Rpb24gPSBmcmFjdGlvbjtcblx0dGhpcy5mYWNlSW5kZXggPSBmYWNlSW5kZXg7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3AyL3NyYy9jb2xsaXNpb24vUmF5Y2FzdFJlc3VsdC5qc1xuICoqIG1vZHVsZSBpZCA9IDI2XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IE1hdGVyaWFsO1xuXG4vKipcbiAqIERlZmluZXMgYSBwaHlzaWNzIG1hdGVyaWFsLlxuICogQGNsYXNzIE1hdGVyaWFsXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7bnVtYmVyfSBpZCBNYXRlcmlhbCBpZGVudGlmaWVyXG4gKiBAYXV0aG9yIHNjaHRlcHBlXG4gKi9cbmZ1bmN0aW9uIE1hdGVyaWFsKGlkKXtcbiAgICAvKipcbiAgICAgKiBUaGUgbWF0ZXJpYWwgaWRlbnRpZmllclxuICAgICAqIEBwcm9wZXJ0eSBpZFxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5pZCA9IGlkIHx8IE1hdGVyaWFsLmlkQ291bnRlcisrO1xufVxuXG5NYXRlcmlhbC5pZENvdW50ZXIgPSAwO1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcDIvc3JjL21hdGVyaWFsL01hdGVyaWFsLmpzXG4gKiogbW9kdWxlIGlkID0gMjdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciB2ZWMyID0gcmVxdWlyZSgnLi4vbWF0aC92ZWMyJyk7XG52YXIgVXRpbHMgPSByZXF1aXJlKCcuLi91dGlscy9VdGlscycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFNwcmluZztcblxuLyoqXG4gKiBBIHNwcmluZywgY29ubmVjdGluZyB0d28gYm9kaWVzLiBUaGUgU3ByaW5nIGV4cGxpY2l0bHkgYWRkcyBmb3JjZSBhbmQgYW5ndWxhckZvcmNlIHRvIHRoZSBib2RpZXMgYW5kIGRvZXMgdGhlcmVmb3JlIG5vdCBwdXQgbG9hZCBvbiB0aGUgY29uc3RyYWludCBzb2x2ZXIuXG4gKlxuICogQGNsYXNzIFNwcmluZ1xuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0JvZHl9IGJvZHlBXG4gKiBAcGFyYW0ge0JvZHl9IGJvZHlCXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuc3RpZmZuZXNzPTEwMF0gIFNwcmluZyBjb25zdGFudCAoc2VlIEhvb2tlcyBMYXcpLiBBIG51bWJlciA+PSAwLlxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmRhbXBpbmc9MV0gICAgICBBIG51bWJlciA+PSAwLiBEZWZhdWx0OiAxXG4gKiBAcGFyYW0ge0FycmF5fSAgW29wdGlvbnMubG9jYWxBbmNob3JBXSAgIFdoZXJlIHRvIGhvb2sgdGhlIHNwcmluZyB0byBib2R5IEEsIGluIGxvY2FsIGJvZHkgY29vcmRpbmF0ZXMuIERlZmF1bHRzIHRvIHRoZSBib2R5IGNlbnRlci5cbiAqIEBwYXJhbSB7QXJyYXl9ICBbb3B0aW9ucy5sb2NhbEFuY2hvckJdXG4gKiBAcGFyYW0ge0FycmF5fSAgW29wdGlvbnMud29ybGRBbmNob3JBXSAgIFdoZXJlIHRvIGhvb2sgdGhlIHNwcmluZyB0byBib2R5IEEsIGluIHdvcmxkIGNvb3JkaW5hdGVzLiBPdmVycmlkZXMgdGhlIG9wdGlvbiBcImxvY2FsQW5jaG9yQVwiIGlmIGdpdmVuLlxuICogQHBhcmFtIHtBcnJheX0gIFtvcHRpb25zLndvcmxkQW5jaG9yQl1cbiAqL1xuZnVuY3Rpb24gU3ByaW5nKGJvZHlBLCBib2R5Qiwgb3B0aW9ucyl7XG4gICAgb3B0aW9ucyA9IFV0aWxzLmRlZmF1bHRzKG9wdGlvbnMse1xuICAgICAgICBzdGlmZm5lc3M6IDEwMCxcbiAgICAgICAgZGFtcGluZzogMSxcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFN0aWZmbmVzcyBvZiB0aGUgc3ByaW5nLlxuICAgICAqIEBwcm9wZXJ0eSBzdGlmZm5lc3NcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuc3RpZmZuZXNzID0gb3B0aW9ucy5zdGlmZm5lc3M7XG5cbiAgICAvKipcbiAgICAgKiBEYW1waW5nIG9mIHRoZSBzcHJpbmcuXG4gICAgICogQHByb3BlcnR5IGRhbXBpbmdcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuZGFtcGluZyA9IG9wdGlvbnMuZGFtcGluZztcblxuICAgIC8qKlxuICAgICAqIEZpcnN0IGNvbm5lY3RlZCBib2R5LlxuICAgICAqIEBwcm9wZXJ0eSBib2R5QVxuICAgICAqIEB0eXBlIHtCb2R5fVxuICAgICAqL1xuICAgIHRoaXMuYm9keUEgPSBib2R5QTtcblxuICAgIC8qKlxuICAgICAqIFNlY29uZCBjb25uZWN0ZWQgYm9keS5cbiAgICAgKiBAcHJvcGVydHkgYm9keUJcbiAgICAgKiBAdHlwZSB7Qm9keX1cbiAgICAgKi9cbiAgICB0aGlzLmJvZHlCID0gYm9keUI7XG59XG5cbi8qKlxuICogQXBwbHkgdGhlIHNwcmluZyBmb3JjZSB0byB0aGUgY29ubmVjdGVkIGJvZGllcy5cbiAqIEBtZXRob2QgYXBwbHlGb3JjZVxuICovXG5TcHJpbmcucHJvdG90eXBlLmFwcGx5Rm9yY2UgPSBmdW5jdGlvbigpe1xuICAgIC8vIFRvIGJlIGltcGxlbWVudGVkIGJ5IHN1YmNsYXNzZXNcbn07XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9wMi9zcmMvb2JqZWN0cy9TcHJpbmcuanNcbiAqKiBtb2R1bGUgaWQgPSAyOFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwidmFyIFNoYXBlID0gcmVxdWlyZSgnLi9TaGFwZScpXG4sICAgdmVjMiA9IHJlcXVpcmUoJy4uL21hdGgvdmVjMicpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFBhcnRpY2xlO1xuXG4vKipcbiAqIFBhcnRpY2xlIHNoYXBlIGNsYXNzLlxuICogQGNsYXNzIFBhcnRpY2xlXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gKE5vdGUgdGhhdCB0aGlzIG9wdGlvbnMgb2JqZWN0IHdpbGwgYmUgcGFzc2VkIG9uIHRvIHRoZSB7eyNjcm9zc0xpbmsgXCJTaGFwZVwifX17ey9jcm9zc0xpbmt9fSBjb25zdHJ1Y3Rvci4pXG4gKiBAZXh0ZW5kcyBTaGFwZVxuICovXG5mdW5jdGlvbiBQYXJ0aWNsZShvcHRpb25zKXtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblx0b3B0aW9ucy50eXBlID0gU2hhcGUuUEFSVElDTEU7XG4gICAgU2hhcGUuY2FsbCh0aGlzLCBvcHRpb25zKTtcbn1cblBhcnRpY2xlLnByb3RvdHlwZSA9IG5ldyBTaGFwZSgpO1xuUGFydGljbGUucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gUGFydGljbGU7XG5cblBhcnRpY2xlLnByb3RvdHlwZS5jb21wdXRlTW9tZW50T2ZJbmVydGlhID0gZnVuY3Rpb24obWFzcyl7XG4gICAgcmV0dXJuIDA7IC8vIENhbid0IHJvdGF0ZSBhIHBhcnRpY2xlXG59O1xuXG5QYXJ0aWNsZS5wcm90b3R5cGUudXBkYXRlQm91bmRpbmdSYWRpdXMgPSBmdW5jdGlvbigpe1xuICAgIHRoaXMuYm91bmRpbmdSYWRpdXMgPSAwO1xufTtcblxuLyoqXG4gKiBAbWV0aG9kIGNvbXB1dGVBQUJCXG4gKiBAcGFyYW0gIHtBQUJCfSAgIG91dFxuICogQHBhcmFtICB7QXJyYXl9ICBwb3NpdGlvblxuICogQHBhcmFtICB7TnVtYmVyfSBhbmdsZVxuICovXG5QYXJ0aWNsZS5wcm90b3R5cGUuY29tcHV0ZUFBQkIgPSBmdW5jdGlvbihvdXQsIHBvc2l0aW9uLCBhbmdsZSl7XG4gICAgdmVjMi5jb3B5KG91dC5sb3dlckJvdW5kLCBwb3NpdGlvbik7XG4gICAgdmVjMi5jb3B5KG91dC51cHBlckJvdW5kLCBwb3NpdGlvbik7XG59O1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcDIvc3JjL3NoYXBlcy9QYXJ0aWNsZS5qc1xuICoqIG1vZHVsZSBpZCA9IDI5XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgU2hhcGUgPSAgcmVxdWlyZSgnLi9TaGFwZScpXG4sICAgIHZlYzIgPSAgcmVxdWlyZSgnLi4vbWF0aC92ZWMyJylcbiwgICAgVXRpbHMgPSByZXF1aXJlKCcuLi91dGlscy9VdGlscycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFBsYW5lO1xuXG4vKipcbiAqIFBsYW5lIHNoYXBlIGNsYXNzLiBUaGUgcGxhbmUgaXMgZmFjaW5nIGluIHRoZSBZIGRpcmVjdGlvbi5cbiAqIEBjbGFzcyBQbGFuZVxuICogQGV4dGVuZHMgU2hhcGVcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAoTm90ZSB0aGF0IHRoaXMgb3B0aW9ucyBvYmplY3Qgd2lsbCBiZSBwYXNzZWQgb24gdG8gdGhlIHt7I2Nyb3NzTGluayBcIlNoYXBlXCJ9fXt7L2Nyb3NzTGlua319IGNvbnN0cnVjdG9yLilcbiAqL1xuZnVuY3Rpb24gUGxhbmUob3B0aW9ucyl7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgb3B0aW9ucy50eXBlID0gU2hhcGUuUExBTkU7XG4gICAgU2hhcGUuY2FsbCh0aGlzLCBvcHRpb25zKTtcbn1cblBsYW5lLnByb3RvdHlwZSA9IG5ldyBTaGFwZSgpO1xuUGxhbmUucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gUGxhbmU7XG5cbi8qKlxuICogQ29tcHV0ZSBtb21lbnQgb2YgaW5lcnRpYVxuICogQG1ldGhvZCBjb21wdXRlTW9tZW50T2ZJbmVydGlhXG4gKi9cblBsYW5lLnByb3RvdHlwZS5jb21wdXRlTW9tZW50T2ZJbmVydGlhID0gZnVuY3Rpb24obWFzcyl7XG4gICAgcmV0dXJuIDA7IC8vIFBsYW5lIGlzIGluZmluaXRlLiBUaGUgaW5lcnRpYSBzaG91bGQgdGhlcmVmb3JlIGJlIGluZmludHkgYnV0IGJ5IGNvbnZlbnRpb24gd2Ugc2V0IDAgaGVyZVxufTtcblxuLyoqXG4gKiBVcGRhdGUgdGhlIGJvdW5kaW5nIHJhZGl1c1xuICogQG1ldGhvZCB1cGRhdGVCb3VuZGluZ1JhZGl1c1xuICovXG5QbGFuZS5wcm90b3R5cGUudXBkYXRlQm91bmRpbmdSYWRpdXMgPSBmdW5jdGlvbigpe1xuICAgIHRoaXMuYm91bmRpbmdSYWRpdXMgPSBOdW1iZXIuTUFYX1ZBTFVFO1xufTtcblxuLyoqXG4gKiBAbWV0aG9kIGNvbXB1dGVBQUJCXG4gKiBAcGFyYW0gIHtBQUJCfSAgIG91dFxuICogQHBhcmFtICB7QXJyYXl9ICBwb3NpdGlvblxuICogQHBhcmFtICB7TnVtYmVyfSBhbmdsZVxuICovXG5QbGFuZS5wcm90b3R5cGUuY29tcHV0ZUFBQkIgPSBmdW5jdGlvbihvdXQsIHBvc2l0aW9uLCBhbmdsZSl7XG4gICAgdmFyIGEgPSBhbmdsZSAlICgyICogTWF0aC5QSSk7XG4gICAgdmFyIHNldCA9IHZlYzIuc2V0O1xuICAgIHZhciBtYXggPSBOdW1iZXIuTUFYX1ZBTFVFO1xuICAgIHZhciBsb3dlckJvdW5kID0gb3V0Lmxvd2VyQm91bmQ7XG4gICAgdmFyIHVwcGVyQm91bmQgPSBvdXQudXBwZXJCb3VuZDtcblxuICAgIGlmKGEgPT09IDApe1xuICAgICAgICAvLyB5IGdvZXMgZnJvbSAtaW5mIHRvIDBcbiAgICAgICAgc2V0KGxvd2VyQm91bmQsIC1tYXgsIC1tYXgpO1xuICAgICAgICBzZXQodXBwZXJCb3VuZCwgIG1heCwgIDApO1xuXG4gICAgfSBlbHNlIGlmKGEgPT09IE1hdGguUEkgLyAyKXtcblxuICAgICAgICAvLyB4IGdvZXMgZnJvbSAwIHRvIGluZlxuICAgICAgICBzZXQobG93ZXJCb3VuZCwgMCwgLW1heCk7XG4gICAgICAgIHNldCh1cHBlckJvdW5kLCAgICAgIG1heCwgIG1heCk7XG5cbiAgICB9IGVsc2UgaWYoYSA9PT0gTWF0aC5QSSl7XG5cbiAgICAgICAgLy8geSBnb2VzIGZyb20gMCB0byBpbmZcbiAgICAgICAgc2V0KGxvd2VyQm91bmQsIC1tYXgsIDApO1xuICAgICAgICBzZXQodXBwZXJCb3VuZCwgIG1heCwgbWF4KTtcblxuICAgIH0gZWxzZSBpZihhID09PSAzKk1hdGguUEkvMil7XG5cbiAgICAgICAgLy8geCBnb2VzIGZyb20gLWluZiB0byAwXG4gICAgICAgIHNldChsb3dlckJvdW5kLCAtbWF4LCAgICAgLW1heCk7XG4gICAgICAgIHNldCh1cHBlckJvdW5kLCAgMCwgIG1heCk7XG5cbiAgICB9IGVsc2Uge1xuXG4gICAgICAgIC8vIFNldCBtYXggYm91bmRzXG4gICAgICAgIHNldChsb3dlckJvdW5kLCAtbWF4LCAtbWF4KTtcbiAgICAgICAgc2V0KHVwcGVyQm91bmQsICBtYXgsICBtYXgpO1xuICAgIH1cblxuICAgIHZlYzIuYWRkKGxvd2VyQm91bmQsIGxvd2VyQm91bmQsIHBvc2l0aW9uKTtcbiAgICB2ZWMyLmFkZCh1cHBlckJvdW5kLCB1cHBlckJvdW5kLCBwb3NpdGlvbik7XG59O1xuXG5QbGFuZS5wcm90b3R5cGUudXBkYXRlQXJlYSA9IGZ1bmN0aW9uKCl7XG4gICAgdGhpcy5hcmVhID0gTnVtYmVyLk1BWF9WQUxVRTtcbn07XG5cbnZhciBpbnRlcnNlY3RQbGFuZV9wbGFuZVBvaW50VG9Gcm9tID0gdmVjMi5jcmVhdGUoKTtcbnZhciBpbnRlcnNlY3RQbGFuZV9kaXJfc2NhbGVkX3dpdGhfdCA9IHZlYzIuY3JlYXRlKCk7XG52YXIgaW50ZXJzZWN0UGxhbmVfaGl0UG9pbnQgPSB2ZWMyLmNyZWF0ZSgpO1xudmFyIGludGVyc2VjdFBsYW5lX25vcm1hbCA9IHZlYzIuY3JlYXRlKCk7XG52YXIgaW50ZXJzZWN0UGxhbmVfbGVuID0gdmVjMi5jcmVhdGUoKTtcblxuLyoqXG4gKiBAbWV0aG9kIHJheWNhc3RcbiAqIEBwYXJhbSAge1JheVJlc3VsdH0gcmVzdWx0XG4gKiBAcGFyYW0gIHtSYXl9IHJheVxuICogQHBhcmFtICB7YXJyYXl9IHBvc2l0aW9uXG4gKiBAcGFyYW0gIHtudW1iZXJ9IGFuZ2xlXG4gKi9cblBsYW5lLnByb3RvdHlwZS5yYXljYXN0ID0gZnVuY3Rpb24ocmVzdWx0LCByYXksIHBvc2l0aW9uLCBhbmdsZSl7XG4gICAgdmFyIGZyb20gPSByYXkuZnJvbTtcbiAgICB2YXIgdG8gPSByYXkudG87XG4gICAgdmFyIGRpcmVjdGlvbiA9IHJheS5kaXJlY3Rpb247XG4gICAgdmFyIHBsYW5lUG9pbnRUb0Zyb20gPSBpbnRlcnNlY3RQbGFuZV9wbGFuZVBvaW50VG9Gcm9tO1xuICAgIHZhciBkaXJfc2NhbGVkX3dpdGhfdCA9IGludGVyc2VjdFBsYW5lX2Rpcl9zY2FsZWRfd2l0aF90O1xuICAgIHZhciBoaXRQb2ludCA9IGludGVyc2VjdFBsYW5lX2hpdFBvaW50O1xuICAgIHZhciBub3JtYWwgPSBpbnRlcnNlY3RQbGFuZV9ub3JtYWw7XG4gICAgdmFyIGxlbiA9IGludGVyc2VjdFBsYW5lX2xlbjtcblxuICAgIC8vIEdldCBwbGFuZSBub3JtYWxcbiAgICB2ZWMyLnNldChub3JtYWwsIDAsIDEpO1xuICAgIHZlYzIucm90YXRlKG5vcm1hbCwgbm9ybWFsLCBhbmdsZSk7XG5cbiAgICB2ZWMyLnN1YihsZW4sIGZyb20sIHBvc2l0aW9uKTtcbiAgICB2YXIgcGxhbmVUb0Zyb20gPSB2ZWMyLmRvdChsZW4sIG5vcm1hbCk7XG4gICAgdmVjMi5zdWIobGVuLCB0bywgcG9zaXRpb24pO1xuICAgIHZhciBwbGFuZVRvVG8gPSB2ZWMyLmRvdChsZW4sIG5vcm1hbCk7XG5cbiAgICBpZihwbGFuZVRvRnJvbSAqIHBsYW5lVG9UbyA+IDApe1xuICAgICAgICAvLyBcImZyb21cIiBhbmQgXCJ0b1wiIGFyZSBvbiB0aGUgc2FtZSBzaWRlIG9mIHRoZSBwbGFuZS4uLiBiYWlsIG91dFxuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYodmVjMi5zcXVhcmVkRGlzdGFuY2UoZnJvbSwgdG8pIDwgcGxhbmVUb0Zyb20gKiBwbGFuZVRvRnJvbSl7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgbl9kb3RfZGlyID0gdmVjMi5kb3Qobm9ybWFsLCBkaXJlY3Rpb24pO1xuXG4gICAgdmVjMi5zdWIocGxhbmVQb2ludFRvRnJvbSwgZnJvbSwgcG9zaXRpb24pO1xuICAgIHZhciB0ID0gLXZlYzIuZG90KG5vcm1hbCwgcGxhbmVQb2ludFRvRnJvbSkgLyBuX2RvdF9kaXIgLyByYXkubGVuZ3RoO1xuXG4gICAgcmF5LnJlcG9ydEludGVyc2VjdGlvbihyZXN1bHQsIHQsIG5vcm1hbCwgLTEpO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9wMi9zcmMvc2hhcGVzL1BsYW5lLmpzXG4gKiogbW9kdWxlIGlkID0gMzBcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciBVdGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzL1V0aWxzJylcbiwgICBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCcuLi9ldmVudHMvRXZlbnRFbWl0dGVyJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gU29sdmVyO1xuXG4vKipcbiAqIEJhc2UgY2xhc3MgZm9yIGNvbnN0cmFpbnQgc29sdmVycy5cbiAqIEBjbGFzcyBTb2x2ZXJcbiAqIEBjb25zdHJ1Y3RvclxuICogQGV4dGVuZHMgRXZlbnRFbWl0dGVyXG4gKi9cbmZ1bmN0aW9uIFNvbHZlcihvcHRpb25zLHR5cGUpe1xuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgRXZlbnRFbWl0dGVyLmNhbGwodGhpcyk7XG5cbiAgICB0aGlzLnR5cGUgPSB0eXBlO1xuXG4gICAgLyoqXG4gICAgICogQ3VycmVudCBlcXVhdGlvbnMgaW4gdGhlIHNvbHZlci5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBlcXVhdGlvbnNcbiAgICAgKiBAdHlwZSB7QXJyYXl9XG4gICAgICovXG4gICAgdGhpcy5lcXVhdGlvbnMgPSBbXTtcblxuICAgIC8qKlxuICAgICAqIEZ1bmN0aW9uIHRoYXQgaXMgdXNlZCB0byBzb3J0IGFsbCBlcXVhdGlvbnMgYmVmb3JlIGVhY2ggc29sdmUuXG4gICAgICogQHByb3BlcnR5IGVxdWF0aW9uU29ydEZ1bmN0aW9uXG4gICAgICogQHR5cGUge2Z1bmN0aW9ufGJvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5lcXVhdGlvblNvcnRGdW5jdGlvbiA9IG9wdGlvbnMuZXF1YXRpb25Tb3J0RnVuY3Rpb24gfHwgZmFsc2U7XG59XG5Tb2x2ZXIucHJvdG90eXBlID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuU29sdmVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFNvbHZlcjtcblxuLyoqXG4gKiBNZXRob2QgdG8gYmUgaW1wbGVtZW50ZWQgaW4gZWFjaCBzdWJjbGFzc1xuICogQG1ldGhvZCBzb2x2ZVxuICogQHBhcmFtICB7TnVtYmVyfSBkdFxuICogQHBhcmFtICB7V29ybGR9IHdvcmxkXG4gKi9cblNvbHZlci5wcm90b3R5cGUuc29sdmUgPSBmdW5jdGlvbihkdCx3b3JsZCl7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiU29sdmVyLnNvbHZlIHNob3VsZCBiZSBpbXBsZW1lbnRlZCBieSBzdWJjbGFzc2VzIVwiKTtcbn07XG5cbnZhciBtb2NrV29ybGQgPSB7Ym9kaWVzOltdfTtcblxuLyoqXG4gKiBTb2x2ZXMgYWxsIGNvbnN0cmFpbnRzIGluIGFuIGlzbGFuZC5cbiAqIEBtZXRob2Qgc29sdmVJc2xhbmRcbiAqIEBwYXJhbSAge051bWJlcn0gZHRcbiAqIEBwYXJhbSAge0lzbGFuZH0gaXNsYW5kXG4gKi9cblNvbHZlci5wcm90b3R5cGUuc29sdmVJc2xhbmQgPSBmdW5jdGlvbihkdCxpc2xhbmQpe1xuXG4gICAgdGhpcy5yZW1vdmVBbGxFcXVhdGlvbnMoKTtcblxuICAgIGlmKGlzbGFuZC5lcXVhdGlvbnMubGVuZ3RoKXtcbiAgICAgICAgLy8gQWRkIGVxdWF0aW9ucyB0byBzb2x2ZXJcbiAgICAgICAgdGhpcy5hZGRFcXVhdGlvbnMoaXNsYW5kLmVxdWF0aW9ucyk7XG4gICAgICAgIG1vY2tXb3JsZC5ib2RpZXMubGVuZ3RoID0gMDtcbiAgICAgICAgaXNsYW5kLmdldEJvZGllcyhtb2NrV29ybGQuYm9kaWVzKTtcblxuICAgICAgICAvLyBTb2x2ZVxuICAgICAgICBpZihtb2NrV29ybGQuYm9kaWVzLmxlbmd0aCl7XG4gICAgICAgICAgICB0aGlzLnNvbHZlKGR0LG1vY2tXb3JsZCk7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG4vKipcbiAqIFNvcnQgYWxsIGVxdWF0aW9ucyB1c2luZyB0aGUgLmVxdWF0aW9uU29ydEZ1bmN0aW9uLiBTaG91bGQgYmUgY2FsbGVkIGJ5IHN1YmNsYXNzZXMgYmVmb3JlIHNvbHZpbmcuXG4gKiBAbWV0aG9kIHNvcnRFcXVhdGlvbnNcbiAqL1xuU29sdmVyLnByb3RvdHlwZS5zb3J0RXF1YXRpb25zID0gZnVuY3Rpb24oKXtcbiAgICBpZih0aGlzLmVxdWF0aW9uU29ydEZ1bmN0aW9uKXtcbiAgICAgICAgdGhpcy5lcXVhdGlvbnMuc29ydCh0aGlzLmVxdWF0aW9uU29ydEZ1bmN0aW9uKTtcbiAgICB9XG59O1xuXG4vKipcbiAqIEFkZCBhbiBlcXVhdGlvbiB0byBiZSBzb2x2ZWQuXG4gKlxuICogQG1ldGhvZCBhZGRFcXVhdGlvblxuICogQHBhcmFtIHtFcXVhdGlvbn0gZXFcbiAqL1xuU29sdmVyLnByb3RvdHlwZS5hZGRFcXVhdGlvbiA9IGZ1bmN0aW9uKGVxKXtcbiAgICBpZihlcS5lbmFibGVkKXtcbiAgICAgICAgdGhpcy5lcXVhdGlvbnMucHVzaChlcSk7XG4gICAgfVxufTtcblxuLyoqXG4gKiBBZGQgZXF1YXRpb25zLiBTYW1lIGFzIC5hZGRFcXVhdGlvbiwgYnV0IHRoaXMgdGltZSB0aGUgYXJndW1lbnQgaXMgYW4gYXJyYXkgb2YgRXF1YXRpb25zXG4gKlxuICogQG1ldGhvZCBhZGRFcXVhdGlvbnNcbiAqIEBwYXJhbSB7QXJyYXl9IGVxc1xuICovXG5Tb2x2ZXIucHJvdG90eXBlLmFkZEVxdWF0aW9ucyA9IGZ1bmN0aW9uKGVxcyl7XG4gICAgLy9VdGlscy5hcHBlbmRBcnJheSh0aGlzLmVxdWF0aW9ucyxlcXMpO1xuICAgIGZvcih2YXIgaT0wLCBOPWVxcy5sZW5ndGg7IGkhPT1OOyBpKyspe1xuICAgICAgICB2YXIgZXEgPSBlcXNbaV07XG4gICAgICAgIGlmKGVxLmVuYWJsZWQpe1xuICAgICAgICAgICAgdGhpcy5lcXVhdGlvbnMucHVzaChlcSk7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG4vKipcbiAqIFJlbW92ZSBhbiBlcXVhdGlvbi5cbiAqXG4gKiBAbWV0aG9kIHJlbW92ZUVxdWF0aW9uXG4gKiBAcGFyYW0ge0VxdWF0aW9ufSBlcVxuICovXG5Tb2x2ZXIucHJvdG90eXBlLnJlbW92ZUVxdWF0aW9uID0gZnVuY3Rpb24oZXEpe1xuICAgIHZhciBpID0gdGhpcy5lcXVhdGlvbnMuaW5kZXhPZihlcSk7XG4gICAgaWYoaSAhPT0gLTEpe1xuICAgICAgICB0aGlzLmVxdWF0aW9ucy5zcGxpY2UoaSwxKTtcbiAgICB9XG59O1xuXG4vKipcbiAqIFJlbW92ZSBhbGwgY3VycmVudGx5IGFkZGVkIGVxdWF0aW9ucy5cbiAqXG4gKiBAbWV0aG9kIHJlbW92ZUFsbEVxdWF0aW9uc1xuICovXG5Tb2x2ZXIucHJvdG90eXBlLnJlbW92ZUFsbEVxdWF0aW9ucyA9IGZ1bmN0aW9uKCl7XG4gICAgdGhpcy5lcXVhdGlvbnMubGVuZ3RoPTA7XG59O1xuXG5Tb2x2ZXIuR1MgPSAxO1xuU29sdmVyLklTTEFORCA9IDI7XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9wMi9zcmMvc29sdmVyL1NvbHZlci5qc1xuICoqIG1vZHVsZSBpZCA9IDMxXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIoZnVuY3Rpb24oKSB7XG4gIHZhciBCYWNvbiwgQnVmZmVyaW5nU291cmNlLCBCdXMsIENvbXBvc2l0ZVVuc3Vic2NyaWJlLCBDb25zdW1pbmdTb3VyY2UsIERlc2MsIERpc3BhdGNoZXIsIEVuZCwgRXJyb3IsIEV2ZW50LCBFdmVudFN0cmVhbSwgRXhjZXB0aW9uLCBJbml0aWFsLCBOZXh0LCBOb25lLCBPYnNlcnZhYmxlLCBQcm9wZXJ0eSwgUHJvcGVydHlEaXNwYXRjaGVyLCBTb21lLCBTb3VyY2UsIFVwZGF0ZUJhcnJpZXIsIF8sIGFkZFByb3BlcnR5SW5pdFZhbHVlVG9TdHJlYW0sIGFyZ3VtZW50c1RvT2JzZXJ2YWJsZXMsIGFyZ3VtZW50c1RvT2JzZXJ2YWJsZXNBbmRGdW5jdGlvbiwgYXNzZXJ0LCBhc3NlcnRBcnJheSwgYXNzZXJ0RXZlbnRTdHJlYW0sIGFzc2VydEZ1bmN0aW9uLCBhc3NlcnROb0FyZ3VtZW50cywgYXNzZXJ0T2JzZXJ2YWJsZSwgYXNzZXJ0T2JzZXJ2YWJsZUlzUHJvcGVydHksIGFzc2VydFN0cmluZywgY2xvbmVBcnJheSwgY29uc3RhbnRUb0Z1bmN0aW9uLCBjb250YWluc0R1cGxpY2F0ZURlcHMsIGNvbnZlcnRBcmdzVG9GdW5jdGlvbiwgZGVzY3JpYmUsIGVuZEV2ZW50LCBldmVudElkQ291bnRlciwgZXZlbnRNZXRob2RzLCBmaW5kRGVwcywgZmluZEhhbmRsZXJNZXRob2RzLCBmbGF0TWFwXywgZm9ybWVyLCBpZENvdW50ZXIsIGluaXRpYWxFdmVudCwgaXNBcnJheSwgaXNGaWVsZEtleSwgaXNPYnNlcnZhYmxlLCBsYXR0ZXIsIGxpZnRDYWxsYmFjaywgbWFrZUZ1bmN0aW9uLCBtYWtlRnVuY3Rpb25BcmdzLCBtYWtlRnVuY3Rpb25fLCBtYWtlT2JzZXJ2YWJsZSwgbWFrZVNwYXduZXIsIG5leHRFdmVudCwgbm9wLCBwYXJ0aWFsbHlBcHBsaWVkLCByZWN1cnNpb25EZXB0aCwgcmVmLCByZWdpc3Rlck9icywgc3B5cywgdG9Db21iaW5hdG9yLCB0b0V2ZW50LCB0b0ZpZWxkRXh0cmFjdG9yLCB0b0ZpZWxkS2V5LCB0b09wdGlvbiwgdG9TaW1wbGVFeHRyYWN0b3IsIHZhbHVlQW5kRW5kLCB3aXRoRGVzYywgd2l0aE1ldGhvZENhbGxTdXBwb3J0LFxuICAgIGhhc1Byb3AgPSB7fS5oYXNPd25Qcm9wZXJ0eSxcbiAgICBleHRlbmQgPSBmdW5jdGlvbihjaGlsZCwgcGFyZW50KSB7IGZvciAodmFyIGtleSBpbiBwYXJlbnQpIHsgaWYgKGhhc1Byb3AuY2FsbChwYXJlbnQsIGtleSkpIGNoaWxkW2tleV0gPSBwYXJlbnRba2V5XTsgfSBmdW5jdGlvbiBjdG9yKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gY2hpbGQ7IH0gY3Rvci5wcm90b3R5cGUgPSBwYXJlbnQucHJvdG90eXBlOyBjaGlsZC5wcm90b3R5cGUgPSBuZXcgY3RvcigpOyBjaGlsZC5fX3N1cGVyX18gPSBwYXJlbnQucHJvdG90eXBlOyByZXR1cm4gY2hpbGQ7IH0sXG4gICAgc2xpY2UgPSBbXS5zbGljZSxcbiAgICBiaW5kID0gZnVuY3Rpb24oZm4sIG1lKXsgcmV0dXJuIGZ1bmN0aW9uKCl7IHJldHVybiBmbi5hcHBseShtZSwgYXJndW1lbnRzKTsgfTsgfTtcblxuICBCYWNvbiA9IHtcbiAgICB0b1N0cmluZzogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gXCJCYWNvblwiO1xuICAgIH1cbiAgfTtcblxuICBCYWNvbi52ZXJzaW9uID0gJzAuNy43Myc7XG5cbiAgRXhjZXB0aW9uID0gKHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgJiYgZ2xvYmFsICE9PSBudWxsID8gZ2xvYmFsIDogdGhpcykuRXJyb3I7XG5cbiAgbm9wID0gZnVuY3Rpb24oKSB7fTtcblxuICBsYXR0ZXIgPSBmdW5jdGlvbihfLCB4KSB7XG4gICAgcmV0dXJuIHg7XG4gIH07XG5cbiAgZm9ybWVyID0gZnVuY3Rpb24oeCwgXykge1xuICAgIHJldHVybiB4O1xuICB9O1xuXG4gIGNsb25lQXJyYXkgPSBmdW5jdGlvbih4cykge1xuICAgIHJldHVybiB4cy5zbGljZSgwKTtcbiAgfTtcblxuICBhc3NlcnQgPSBmdW5jdGlvbihtZXNzYWdlLCBjb25kaXRpb24pIHtcbiAgICBpZiAoIWNvbmRpdGlvbikge1xuICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbihtZXNzYWdlKTtcbiAgICB9XG4gIH07XG5cbiAgYXNzZXJ0T2JzZXJ2YWJsZUlzUHJvcGVydHkgPSBmdW5jdGlvbih4KSB7XG4gICAgaWYgKHggaW5zdGFuY2VvZiBPYnNlcnZhYmxlICYmICEoeCBpbnN0YW5jZW9mIFByb3BlcnR5KSkge1xuICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbihcIk9ic2VydmFibGUgaXMgbm90IGEgUHJvcGVydHkgOiBcIiArIHgpO1xuICAgIH1cbiAgfTtcblxuICBhc3NlcnRFdmVudFN0cmVhbSA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgaWYgKCEoZXZlbnQgaW5zdGFuY2VvZiBFdmVudFN0cmVhbSkpIHtcbiAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oXCJub3QgYW4gRXZlbnRTdHJlYW0gOiBcIiArIGV2ZW50KTtcbiAgICB9XG4gIH07XG5cbiAgYXNzZXJ0T2JzZXJ2YWJsZSA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgaWYgKCEoZXZlbnQgaW5zdGFuY2VvZiBPYnNlcnZhYmxlKSkge1xuICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbihcIm5vdCBhbiBPYnNlcnZhYmxlIDogXCIgKyBldmVudCk7XG4gICAgfVxuICB9O1xuXG4gIGFzc2VydEZ1bmN0aW9uID0gZnVuY3Rpb24oZikge1xuICAgIHJldHVybiBhc3NlcnQoXCJub3QgYSBmdW5jdGlvbiA6IFwiICsgZiwgXy5pc0Z1bmN0aW9uKGYpKTtcbiAgfTtcblxuICBpc0FycmF5ID0gZnVuY3Rpb24oeHMpIHtcbiAgICByZXR1cm4geHMgaW5zdGFuY2VvZiBBcnJheTtcbiAgfTtcblxuICBpc09ic2VydmFibGUgPSBmdW5jdGlvbih4KSB7XG4gICAgcmV0dXJuIHggaW5zdGFuY2VvZiBPYnNlcnZhYmxlO1xuICB9O1xuXG4gIGFzc2VydEFycmF5ID0gZnVuY3Rpb24oeHMpIHtcbiAgICBpZiAoIWlzQXJyYXkoeHMpKSB7XG4gICAgICB0aHJvdyBuZXcgRXhjZXB0aW9uKFwibm90IGFuIGFycmF5IDogXCIgKyB4cyk7XG4gICAgfVxuICB9O1xuXG4gIGFzc2VydE5vQXJndW1lbnRzID0gZnVuY3Rpb24oYXJncykge1xuICAgIHJldHVybiBhc3NlcnQoXCJubyBhcmd1bWVudHMgc3VwcG9ydGVkXCIsIGFyZ3MubGVuZ3RoID09PSAwKTtcbiAgfTtcblxuICBhc3NlcnRTdHJpbmcgPSBmdW5jdGlvbih4KSB7XG4gICAgaWYgKHR5cGVvZiB4ICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICB0aHJvdyBuZXcgRXhjZXB0aW9uKFwibm90IGEgc3RyaW5nIDogXCIgKyB4KTtcbiAgICB9XG4gIH07XG5cbiAgXyA9IHtcbiAgICBpbmRleE9mOiBBcnJheS5wcm90b3R5cGUuaW5kZXhPZiA/IGZ1bmN0aW9uKHhzLCB4KSB7XG4gICAgICByZXR1cm4geHMuaW5kZXhPZih4KTtcbiAgICB9IDogZnVuY3Rpb24oeHMsIHgpIHtcbiAgICAgIHZhciBpLCBqLCBsZW4xLCB5O1xuICAgICAgZm9yIChpID0gaiA9IDAsIGxlbjEgPSB4cy5sZW5ndGg7IGogPCBsZW4xOyBpID0gKytqKSB7XG4gICAgICAgIHkgPSB4c1tpXTtcbiAgICAgICAgaWYgKHggPT09IHkpIHtcbiAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIC0xO1xuICAgIH0sXG4gICAgaW5kZXhXaGVyZTogZnVuY3Rpb24oeHMsIGYpIHtcbiAgICAgIHZhciBpLCBqLCBsZW4xLCB5O1xuICAgICAgZm9yIChpID0gaiA9IDAsIGxlbjEgPSB4cy5sZW5ndGg7IGogPCBsZW4xOyBpID0gKytqKSB7XG4gICAgICAgIHkgPSB4c1tpXTtcbiAgICAgICAgaWYgKGYoeSkpIHtcbiAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIC0xO1xuICAgIH0sXG4gICAgaGVhZDogZnVuY3Rpb24oeHMpIHtcbiAgICAgIHJldHVybiB4c1swXTtcbiAgICB9LFxuICAgIGFsd2F5czogZnVuY3Rpb24oeCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4geDtcbiAgICAgIH07XG4gICAgfSxcbiAgICBuZWdhdGU6IGZ1bmN0aW9uKGYpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbih4KSB7XG4gICAgICAgIHJldHVybiAhZih4KTtcbiAgICAgIH07XG4gICAgfSxcbiAgICBlbXB0eTogZnVuY3Rpb24oeHMpIHtcbiAgICAgIHJldHVybiB4cy5sZW5ndGggPT09IDA7XG4gICAgfSxcbiAgICB0YWlsOiBmdW5jdGlvbih4cykge1xuICAgICAgcmV0dXJuIHhzLnNsaWNlKDEsIHhzLmxlbmd0aCk7XG4gICAgfSxcbiAgICBmaWx0ZXI6IGZ1bmN0aW9uKGYsIHhzKSB7XG4gICAgICB2YXIgZmlsdGVyZWQsIGosIGxlbjEsIHg7XG4gICAgICBmaWx0ZXJlZCA9IFtdO1xuICAgICAgZm9yIChqID0gMCwgbGVuMSA9IHhzLmxlbmd0aDsgaiA8IGxlbjE7IGorKykge1xuICAgICAgICB4ID0geHNbal07XG4gICAgICAgIGlmIChmKHgpKSB7XG4gICAgICAgICAgZmlsdGVyZWQucHVzaCh4KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGZpbHRlcmVkO1xuICAgIH0sXG4gICAgbWFwOiBmdW5jdGlvbihmLCB4cykge1xuICAgICAgdmFyIGosIGxlbjEsIHJlc3VsdHMsIHg7XG4gICAgICByZXN1bHRzID0gW107XG4gICAgICBmb3IgKGogPSAwLCBsZW4xID0geHMubGVuZ3RoOyBqIDwgbGVuMTsgaisrKSB7XG4gICAgICAgIHggPSB4c1tqXTtcbiAgICAgICAgcmVzdWx0cy5wdXNoKGYoeCkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgfSxcbiAgICBlYWNoOiBmdW5jdGlvbih4cywgZikge1xuICAgICAgdmFyIGtleSwgdmFsdWU7XG4gICAgICBmb3IgKGtleSBpbiB4cykge1xuICAgICAgICBpZiAoIWhhc1Byb3AuY2FsbCh4cywga2V5KSkgY29udGludWU7XG4gICAgICAgIHZhbHVlID0geHNba2V5XTtcbiAgICAgICAgZihrZXksIHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2b2lkIDA7XG4gICAgfSxcbiAgICB0b0FycmF5OiBmdW5jdGlvbih4cykge1xuICAgICAgaWYgKGlzQXJyYXkoeHMpKSB7XG4gICAgICAgIHJldHVybiB4cztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBbeHNdO1xuICAgICAgfVxuICAgIH0sXG4gICAgY29udGFpbnM6IGZ1bmN0aW9uKHhzLCB4KSB7XG4gICAgICByZXR1cm4gXy5pbmRleE9mKHhzLCB4KSAhPT0gLTE7XG4gICAgfSxcbiAgICBpZDogZnVuY3Rpb24oeCkge1xuICAgICAgcmV0dXJuIHg7XG4gICAgfSxcbiAgICBsYXN0OiBmdW5jdGlvbih4cykge1xuICAgICAgcmV0dXJuIHhzW3hzLmxlbmd0aCAtIDFdO1xuICAgIH0sXG4gICAgYWxsOiBmdW5jdGlvbih4cywgZikge1xuICAgICAgdmFyIGosIGxlbjEsIHg7XG4gICAgICBpZiAoZiA9PSBudWxsKSB7XG4gICAgICAgIGYgPSBfLmlkO1xuICAgICAgfVxuICAgICAgZm9yIChqID0gMCwgbGVuMSA9IHhzLmxlbmd0aDsgaiA8IGxlbjE7IGorKykge1xuICAgICAgICB4ID0geHNbal07XG4gICAgICAgIGlmICghZih4KSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcbiAgICBhbnk6IGZ1bmN0aW9uKHhzLCBmKSB7XG4gICAgICB2YXIgaiwgbGVuMSwgeDtcbiAgICAgIGlmIChmID09IG51bGwpIHtcbiAgICAgICAgZiA9IF8uaWQ7XG4gICAgICB9XG4gICAgICBmb3IgKGogPSAwLCBsZW4xID0geHMubGVuZ3RoOyBqIDwgbGVuMTsgaisrKSB7XG4gICAgICAgIHggPSB4c1tqXTtcbiAgICAgICAgaWYgKGYoeCkpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG4gICAgd2l0aG91dDogZnVuY3Rpb24oeCwgeHMpIHtcbiAgICAgIHJldHVybiBfLmZpbHRlcigoZnVuY3Rpb24oeSkge1xuICAgICAgICByZXR1cm4geSAhPT0geDtcbiAgICAgIH0pLCB4cyk7XG4gICAgfSxcbiAgICByZW1vdmU6IGZ1bmN0aW9uKHgsIHhzKSB7XG4gICAgICB2YXIgaTtcbiAgICAgIGkgPSBfLmluZGV4T2YoeHMsIHgpO1xuICAgICAgaWYgKGkgPj0gMCkge1xuICAgICAgICByZXR1cm4geHMuc3BsaWNlKGksIDEpO1xuICAgICAgfVxuICAgIH0sXG4gICAgZm9sZDogZnVuY3Rpb24oeHMsIHNlZWQsIGYpIHtcbiAgICAgIHZhciBqLCBsZW4xLCB4O1xuICAgICAgZm9yIChqID0gMCwgbGVuMSA9IHhzLmxlbmd0aDsgaiA8IGxlbjE7IGorKykge1xuICAgICAgICB4ID0geHNbal07XG4gICAgICAgIHNlZWQgPSBmKHNlZWQsIHgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHNlZWQ7XG4gICAgfSxcbiAgICBmbGF0TWFwOiBmdW5jdGlvbihmLCB4cykge1xuICAgICAgcmV0dXJuIF8uZm9sZCh4cywgW10sIChmdW5jdGlvbih5cywgeCkge1xuICAgICAgICByZXR1cm4geXMuY29uY2F0KGYoeCkpO1xuICAgICAgfSkpO1xuICAgIH0sXG4gICAgY2FjaGVkOiBmdW5jdGlvbihmKSB7XG4gICAgICB2YXIgdmFsdWU7XG4gICAgICB2YWx1ZSA9IE5vbmU7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gTm9uZSkge1xuICAgICAgICAgIHZhbHVlID0gZigpO1xuICAgICAgICAgIGYgPSB2b2lkIDA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfTtcbiAgICB9LFxuICAgIGlzRnVuY3Rpb246IGZ1bmN0aW9uKGYpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgZiA9PT0gXCJmdW5jdGlvblwiO1xuICAgIH0sXG4gICAgdG9TdHJpbmc6IGZ1bmN0aW9uKG9iaikge1xuICAgICAgdmFyIGV4LCBpbnRlcm5hbHMsIGtleSwgdmFsdWU7XG4gICAgICB0cnkge1xuICAgICAgICByZWN1cnNpb25EZXB0aCsrO1xuICAgICAgICBpZiAob2JqID09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm4gXCJ1bmRlZmluZWRcIjtcbiAgICAgICAgfSBlbHNlIGlmIChfLmlzRnVuY3Rpb24ob2JqKSkge1xuICAgICAgICAgIHJldHVybiBcImZ1bmN0aW9uXCI7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNBcnJheShvYmopKSB7XG4gICAgICAgICAgaWYgKHJlY3Vyc2lvbkRlcHRoID4gNSkge1xuICAgICAgICAgICAgcmV0dXJuIFwiWy4uXVwiO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gXCJbXCIgKyBfLm1hcChfLnRvU3RyaW5nLCBvYmopLnRvU3RyaW5nKCkgKyBcIl1cIjtcbiAgICAgICAgfSBlbHNlIGlmICgoKG9iaiAhPSBudWxsID8gb2JqLnRvU3RyaW5nIDogdm9pZCAwKSAhPSBudWxsKSAmJiBvYmoudG9TdHJpbmcgIT09IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcpIHtcbiAgICAgICAgICByZXR1cm4gb2JqLnRvU3RyaW5nKCk7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIG9iaiA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICAgIGlmIChyZWN1cnNpb25EZXB0aCA+IDUpIHtcbiAgICAgICAgICAgIHJldHVybiBcInsuLn1cIjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaW50ZXJuYWxzID0gKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIHJlc3VsdHM7XG4gICAgICAgICAgICByZXN1bHRzID0gW107XG4gICAgICAgICAgICBmb3IgKGtleSBpbiBvYmopIHtcbiAgICAgICAgICAgICAgaWYgKCFoYXNQcm9wLmNhbGwob2JqLCBrZXkpKSBjb250aW51ZTtcbiAgICAgICAgICAgICAgdmFsdWUgPSAoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBvYmpba2V5XTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChfZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgIGV4ID0gX2Vycm9yO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGV4O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSkoKTtcbiAgICAgICAgICAgICAgcmVzdWx0cy5wdXNoKF8udG9TdHJpbmcoa2V5KSArIFwiOlwiICsgXy50b1N0cmluZyh2YWx1ZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgICAgICAgfSkoKTtcbiAgICAgICAgICByZXR1cm4gXCJ7XCIgKyBpbnRlcm5hbHMgKyBcIn1cIjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICByZWN1cnNpb25EZXB0aC0tO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICByZWN1cnNpb25EZXB0aCA9IDA7XG5cbiAgQmFjb24uXyA9IF87XG5cbiAgVXBkYXRlQmFycmllciA9IEJhY29uLlVwZGF0ZUJhcnJpZXIgPSAoZnVuY3Rpb24oKSB7XG4gICAgdmFyIGFmdGVyVHJhbnNhY3Rpb24sIGFmdGVycywgYWZ0ZXJzSW5kZXgsIGN1cnJlbnRFdmVudElkLCBmbHVzaCwgZmx1c2hEZXBzT2YsIGZsdXNoV2FpdGVycywgaGFzV2FpdGVycywgaW5UcmFuc2FjdGlvbiwgcm9vdEV2ZW50LCB3YWl0ZXJPYnMsIHdhaXRlcnMsIHdoZW5Eb25lV2l0aCwgd3JhcHBlZFN1YnNjcmliZTtcbiAgICByb290RXZlbnQgPSB2b2lkIDA7XG4gICAgd2FpdGVyT2JzID0gW107XG4gICAgd2FpdGVycyA9IHt9O1xuICAgIGFmdGVycyA9IFtdO1xuICAgIGFmdGVyc0luZGV4ID0gMDtcbiAgICBhZnRlclRyYW5zYWN0aW9uID0gZnVuY3Rpb24oZikge1xuICAgICAgaWYgKHJvb3RFdmVudCkge1xuICAgICAgICByZXR1cm4gYWZ0ZXJzLnB1c2goZik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZigpO1xuICAgICAgfVxuICAgIH07XG4gICAgd2hlbkRvbmVXaXRoID0gZnVuY3Rpb24ob2JzLCBmKSB7XG4gICAgICB2YXIgb2JzV2FpdGVycztcbiAgICAgIGlmIChyb290RXZlbnQpIHtcbiAgICAgICAgb2JzV2FpdGVycyA9IHdhaXRlcnNbb2JzLmlkXTtcbiAgICAgICAgaWYgKG9ic1dhaXRlcnMgPT0gbnVsbCkge1xuICAgICAgICAgIG9ic1dhaXRlcnMgPSB3YWl0ZXJzW29icy5pZF0gPSBbZl07XG4gICAgICAgICAgcmV0dXJuIHdhaXRlck9icy5wdXNoKG9icyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIG9ic1dhaXRlcnMucHVzaChmKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGYoKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGZsdXNoID0gZnVuY3Rpb24oKSB7XG4gICAgICB3aGlsZSAod2FpdGVyT2JzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgZmx1c2hXYWl0ZXJzKDApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZvaWQgMDtcbiAgICB9O1xuICAgIGZsdXNoV2FpdGVycyA9IGZ1bmN0aW9uKGluZGV4KSB7XG4gICAgICB2YXIgZiwgaiwgbGVuMSwgb2JzLCBvYnNJZCwgb2JzV2FpdGVycztcbiAgICAgIG9icyA9IHdhaXRlck9ic1tpbmRleF07XG4gICAgICBvYnNJZCA9IG9icy5pZDtcbiAgICAgIG9ic1dhaXRlcnMgPSB3YWl0ZXJzW29ic0lkXTtcbiAgICAgIHdhaXRlck9icy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgZGVsZXRlIHdhaXRlcnNbb2JzSWRdO1xuICAgICAgZmx1c2hEZXBzT2Yob2JzKTtcbiAgICAgIGZvciAoaiA9IDAsIGxlbjEgPSBvYnNXYWl0ZXJzLmxlbmd0aDsgaiA8IGxlbjE7IGorKykge1xuICAgICAgICBmID0gb2JzV2FpdGVyc1tqXTtcbiAgICAgICAgZigpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZvaWQgMDtcbiAgICB9O1xuICAgIGZsdXNoRGVwc09mID0gZnVuY3Rpb24ob2JzKSB7XG4gICAgICB2YXIgZGVwLCBkZXBzLCBpbmRleCwgaiwgbGVuMTtcbiAgICAgIGRlcHMgPSBvYnMuaW50ZXJuYWxEZXBzKCk7XG4gICAgICBmb3IgKGogPSAwLCBsZW4xID0gZGVwcy5sZW5ndGg7IGogPCBsZW4xOyBqKyspIHtcbiAgICAgICAgZGVwID0gZGVwc1tqXTtcbiAgICAgICAgZmx1c2hEZXBzT2YoZGVwKTtcbiAgICAgICAgaWYgKHdhaXRlcnNbZGVwLmlkXSkge1xuICAgICAgICAgIGluZGV4ID0gXy5pbmRleE9mKHdhaXRlck9icywgZGVwKTtcbiAgICAgICAgICBmbHVzaFdhaXRlcnMoaW5kZXgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdm9pZCAwO1xuICAgIH07XG4gICAgaW5UcmFuc2FjdGlvbiA9IGZ1bmN0aW9uKGV2ZW50LCBjb250ZXh0LCBmLCBhcmdzKSB7XG4gICAgICB2YXIgYWZ0ZXIsIHJlc3VsdDtcbiAgICAgIGlmIChyb290RXZlbnQpIHtcbiAgICAgICAgcmV0dXJuIGYuYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByb290RXZlbnQgPSBldmVudDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXN1bHQgPSBmLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICAgICAgICAgIGZsdXNoKCk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgcm9vdEV2ZW50ID0gdm9pZCAwO1xuICAgICAgICAgIHdoaWxlIChhZnRlcnNJbmRleCA8IGFmdGVycy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGFmdGVyID0gYWZ0ZXJzW2FmdGVyc0luZGV4XTtcbiAgICAgICAgICAgIGFmdGVyc0luZGV4Kys7XG4gICAgICAgICAgICBhZnRlcigpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBhZnRlcnNJbmRleCA9IDA7XG4gICAgICAgICAgYWZ0ZXJzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICB9O1xuICAgIGN1cnJlbnRFdmVudElkID0gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAocm9vdEV2ZW50KSB7XG4gICAgICAgIHJldHVybiByb290RXZlbnQuaWQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdm9pZCAwO1xuICAgICAgfVxuICAgIH07XG4gICAgd3JhcHBlZFN1YnNjcmliZSA9IGZ1bmN0aW9uKG9icywgc2luaykge1xuICAgICAgdmFyIGRvVW5zdWIsIHNob3VsZFVuc3ViLCB1bnN1YiwgdW5zdWJkO1xuICAgICAgdW5zdWJkID0gZmFsc2U7XG4gICAgICBzaG91bGRVbnN1YiA9IGZhbHNlO1xuICAgICAgZG9VbnN1YiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gc2hvdWxkVW5zdWIgPSB0cnVlO1xuICAgICAgfTtcbiAgICAgIHVuc3ViID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHVuc3ViZCA9IHRydWU7XG4gICAgICAgIHJldHVybiBkb1Vuc3ViKCk7XG4gICAgICB9O1xuICAgICAgZG9VbnN1YiA9IG9icy5kaXNwYXRjaGVyLnN1YnNjcmliZShmdW5jdGlvbihldmVudCkge1xuICAgICAgICByZXR1cm4gYWZ0ZXJUcmFuc2FjdGlvbihmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgcmVwbHk7XG4gICAgICAgICAgaWYgKCF1bnN1YmQpIHtcbiAgICAgICAgICAgIHJlcGx5ID0gc2luayhldmVudCk7XG4gICAgICAgICAgICBpZiAocmVwbHkgPT09IEJhY29uLm5vTW9yZSkge1xuICAgICAgICAgICAgICByZXR1cm4gdW5zdWIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgICBpZiAoc2hvdWxkVW5zdWIpIHtcbiAgICAgICAgZG9VbnN1YigpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHVuc3ViO1xuICAgIH07XG4gICAgaGFzV2FpdGVycyA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHdhaXRlck9icy5sZW5ndGggPiAwO1xuICAgIH07XG4gICAgcmV0dXJuIHtcbiAgICAgIHdoZW5Eb25lV2l0aDogd2hlbkRvbmVXaXRoLFxuICAgICAgaGFzV2FpdGVyczogaGFzV2FpdGVycyxcbiAgICAgIGluVHJhbnNhY3Rpb246IGluVHJhbnNhY3Rpb24sXG4gICAgICBjdXJyZW50RXZlbnRJZDogY3VycmVudEV2ZW50SWQsXG4gICAgICB3cmFwcGVkU3Vic2NyaWJlOiB3cmFwcGVkU3Vic2NyaWJlLFxuICAgICAgYWZ0ZXJUcmFuc2FjdGlvbjogYWZ0ZXJUcmFuc2FjdGlvblxuICAgIH07XG4gIH0pKCk7XG5cbiAgU291cmNlID0gKGZ1bmN0aW9uKCkge1xuICAgIGZ1bmN0aW9uIFNvdXJjZShvYnMxLCBzeW5jLCBsYXp5MSkge1xuICAgICAgdGhpcy5vYnMgPSBvYnMxO1xuICAgICAgdGhpcy5zeW5jID0gc3luYztcbiAgICAgIHRoaXMubGF6eSA9IGxhenkxICE9IG51bGwgPyBsYXp5MSA6IGZhbHNlO1xuICAgICAgdGhpcy5xdWV1ZSA9IFtdO1xuICAgIH1cblxuICAgIFNvdXJjZS5wcm90b3R5cGUuc3Vic2NyaWJlID0gZnVuY3Rpb24oc2luaykge1xuICAgICAgcmV0dXJuIHRoaXMub2JzLmRpc3BhdGNoZXIuc3Vic2NyaWJlKHNpbmspO1xuICAgIH07XG5cbiAgICBTb3VyY2UucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5vYnMudG9TdHJpbmcoKTtcbiAgICB9O1xuXG4gICAgU291cmNlLnByb3RvdHlwZS5tYXJrRW5kZWQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLmVuZGVkID0gdHJ1ZTtcbiAgICB9O1xuXG4gICAgU291cmNlLnByb3RvdHlwZS5jb25zdW1lID0gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcy5sYXp5KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdmFsdWU6IF8uYWx3YXlzKHRoaXMucXVldWVbMF0pXG4gICAgICAgIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdGhpcy5xdWV1ZVswXTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgU291cmNlLnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24oeCkge1xuICAgICAgcmV0dXJuIHRoaXMucXVldWUgPSBbeF07XG4gICAgfTtcblxuICAgIFNvdXJjZS5wcm90b3R5cGUubWF5SGF2ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcblxuICAgIFNvdXJjZS5wcm90b3R5cGUuaGFzQXRMZWFzdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMucXVldWUubGVuZ3RoO1xuICAgIH07XG5cbiAgICBTb3VyY2UucHJvdG90eXBlLmZsYXR0ZW4gPSB0cnVlO1xuXG4gICAgcmV0dXJuIFNvdXJjZTtcblxuICB9KSgpO1xuXG4gIENvbnN1bWluZ1NvdXJjZSA9IChmdW5jdGlvbihzdXBlckNsYXNzKSB7XG4gICAgZXh0ZW5kKENvbnN1bWluZ1NvdXJjZSwgc3VwZXJDbGFzcyk7XG5cbiAgICBmdW5jdGlvbiBDb25zdW1pbmdTb3VyY2UoKSB7XG4gICAgICByZXR1cm4gQ29uc3VtaW5nU291cmNlLl9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH1cblxuICAgIENvbnN1bWluZ1NvdXJjZS5wcm90b3R5cGUuY29uc3VtZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMucXVldWUuc2hpZnQoKTtcbiAgICB9O1xuXG4gICAgQ29uc3VtaW5nU291cmNlLnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24oeCkge1xuICAgICAgcmV0dXJuIHRoaXMucXVldWUucHVzaCh4KTtcbiAgICB9O1xuXG4gICAgQ29uc3VtaW5nU291cmNlLnByb3RvdHlwZS5tYXlIYXZlID0gZnVuY3Rpb24oYykge1xuICAgICAgcmV0dXJuICF0aGlzLmVuZGVkIHx8IHRoaXMucXVldWUubGVuZ3RoID49IGM7XG4gICAgfTtcblxuICAgIENvbnN1bWluZ1NvdXJjZS5wcm90b3R5cGUuaGFzQXRMZWFzdCA9IGZ1bmN0aW9uKGMpIHtcbiAgICAgIHJldHVybiB0aGlzLnF1ZXVlLmxlbmd0aCA+PSBjO1xuICAgIH07XG5cbiAgICBDb25zdW1pbmdTb3VyY2UucHJvdG90eXBlLmZsYXR0ZW4gPSBmYWxzZTtcblxuICAgIHJldHVybiBDb25zdW1pbmdTb3VyY2U7XG5cbiAgfSkoU291cmNlKTtcblxuICBCdWZmZXJpbmdTb3VyY2UgPSAoZnVuY3Rpb24oc3VwZXJDbGFzcykge1xuICAgIGV4dGVuZChCdWZmZXJpbmdTb3VyY2UsIHN1cGVyQ2xhc3MpO1xuXG4gICAgZnVuY3Rpb24gQnVmZmVyaW5nU291cmNlKG9icykge1xuICAgICAgQnVmZmVyaW5nU291cmNlLl9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsIG9icywgdHJ1ZSk7XG4gICAgfVxuXG4gICAgQnVmZmVyaW5nU291cmNlLnByb3RvdHlwZS5jb25zdW1lID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgdmFsdWVzO1xuICAgICAgdmFsdWVzID0gdGhpcy5xdWV1ZTtcbiAgICAgIHRoaXMucXVldWUgPSBbXTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gdmFsdWVzO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH07XG5cbiAgICBCdWZmZXJpbmdTb3VyY2UucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbih4KSB7XG4gICAgICByZXR1cm4gdGhpcy5xdWV1ZS5wdXNoKHgudmFsdWUoKSk7XG4gICAgfTtcblxuICAgIEJ1ZmZlcmluZ1NvdXJjZS5wcm90b3R5cGUuaGFzQXRMZWFzdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcblxuICAgIHJldHVybiBCdWZmZXJpbmdTb3VyY2U7XG5cbiAgfSkoU291cmNlKTtcblxuICBTb3VyY2UuaXNUcmlnZ2VyID0gZnVuY3Rpb24ocykge1xuICAgIGlmIChzIGluc3RhbmNlb2YgU291cmNlKSB7XG4gICAgICByZXR1cm4gcy5zeW5jO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gcyBpbnN0YW5jZW9mIEV2ZW50U3RyZWFtO1xuICAgIH1cbiAgfTtcblxuICBTb3VyY2UuZnJvbU9ic2VydmFibGUgPSBmdW5jdGlvbihzKSB7XG4gICAgaWYgKHMgaW5zdGFuY2VvZiBTb3VyY2UpIHtcbiAgICAgIHJldHVybiBzO1xuICAgIH0gZWxzZSBpZiAocyBpbnN0YW5jZW9mIFByb3BlcnR5KSB7XG4gICAgICByZXR1cm4gbmV3IFNvdXJjZShzLCBmYWxzZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBuZXcgQ29uc3VtaW5nU291cmNlKHMsIHRydWUpO1xuICAgIH1cbiAgfTtcblxuICBEZXNjID0gKGZ1bmN0aW9uKCkge1xuICAgIGZ1bmN0aW9uIERlc2MoY29udGV4dDEsIG1ldGhvZDEsIGFyZ3MxKSB7XG4gICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0MTtcbiAgICAgIHRoaXMubWV0aG9kID0gbWV0aG9kMTtcbiAgICAgIHRoaXMuYXJncyA9IGFyZ3MxO1xuICAgIH1cblxuICAgIERlc2MucHJvdG90eXBlLmRlcHMgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLmNhY2hlZCB8fCAodGhpcy5jYWNoZWQgPSBmaW5kRGVwcyhbdGhpcy5jb250ZXh0XS5jb25jYXQodGhpcy5hcmdzKSkpO1xuICAgIH07XG5cbiAgICBEZXNjLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIF8udG9TdHJpbmcodGhpcy5jb250ZXh0KSArIFwiLlwiICsgXy50b1N0cmluZyh0aGlzLm1ldGhvZCkgKyBcIihcIiArIF8ubWFwKF8udG9TdHJpbmcsIHRoaXMuYXJncykgKyBcIilcIjtcbiAgICB9O1xuXG4gICAgcmV0dXJuIERlc2M7XG5cbiAgfSkoKTtcblxuICBkZXNjcmliZSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBhcmdzLCBjb250ZXh0LCBtZXRob2Q7XG4gICAgY29udGV4dCA9IGFyZ3VtZW50c1swXSwgbWV0aG9kID0gYXJndW1lbnRzWzFdLCBhcmdzID0gMyA8PSBhcmd1bWVudHMubGVuZ3RoID8gc2xpY2UuY2FsbChhcmd1bWVudHMsIDIpIDogW107XG4gICAgaWYgKChjb250ZXh0IHx8IG1ldGhvZCkgaW5zdGFuY2VvZiBEZXNjKSB7XG4gICAgICByZXR1cm4gY29udGV4dCB8fCBtZXRob2Q7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBuZXcgRGVzYyhjb250ZXh0LCBtZXRob2QsIGFyZ3MpO1xuICAgIH1cbiAgfTtcblxuICB3aXRoRGVzYyA9IGZ1bmN0aW9uKGRlc2MsIG9icykge1xuICAgIG9icy5kZXNjID0gZGVzYztcbiAgICByZXR1cm4gb2JzO1xuICB9O1xuXG4gIGZpbmREZXBzID0gZnVuY3Rpb24oeCkge1xuICAgIGlmIChpc0FycmF5KHgpKSB7XG4gICAgICByZXR1cm4gXy5mbGF0TWFwKGZpbmREZXBzLCB4KTtcbiAgICB9IGVsc2UgaWYgKGlzT2JzZXJ2YWJsZSh4KSkge1xuICAgICAgcmV0dXJuIFt4XTtcbiAgICB9IGVsc2UgaWYgKHggaW5zdGFuY2VvZiBTb3VyY2UpIHtcbiAgICAgIHJldHVybiBbeC5vYnNdO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICB9O1xuXG4gIEJhY29uLkRlc2MgPSBEZXNjO1xuXG4gIEJhY29uLkRlc2MuZW1wdHkgPSBuZXcgQmFjb24uRGVzYyhcIlwiLCBcIlwiLCBbXSk7XG5cbiAgd2l0aE1ldGhvZENhbGxTdXBwb3J0ID0gZnVuY3Rpb24od3JhcHBlZCkge1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBhcmdzLCBjb250ZXh0LCBmLCBtZXRob2ROYW1lO1xuICAgICAgZiA9IGFyZ3VtZW50c1swXSwgYXJncyA9IDIgPD0gYXJndW1lbnRzLmxlbmd0aCA/IHNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSA6IFtdO1xuICAgICAgaWYgKHR5cGVvZiBmID09PSBcIm9iamVjdFwiICYmIGFyZ3MubGVuZ3RoKSB7XG4gICAgICAgIGNvbnRleHQgPSBmO1xuICAgICAgICBtZXRob2ROYW1lID0gYXJnc1swXTtcbiAgICAgICAgZiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiBjb250ZXh0W21ldGhvZE5hbWVdLmFwcGx5KGNvbnRleHQsIGFyZ3VtZW50cyk7XG4gICAgICAgIH07XG4gICAgICAgIGFyZ3MgPSBhcmdzLnNsaWNlKDEpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHdyYXBwZWQuYXBwbHkobnVsbCwgW2ZdLmNvbmNhdChzbGljZS5jYWxsKGFyZ3MpKSk7XG4gICAgfTtcbiAgfTtcblxuICBtYWtlRnVuY3Rpb25BcmdzID0gZnVuY3Rpb24oYXJncykge1xuICAgIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmdzKTtcbiAgICByZXR1cm4gbWFrZUZ1bmN0aW9uXy5hcHBseShudWxsLCBhcmdzKTtcbiAgfTtcblxuICBwYXJ0aWFsbHlBcHBsaWVkID0gZnVuY3Rpb24oZiwgYXBwbGllZCkge1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBhcmdzO1xuICAgICAgYXJncyA9IDEgPD0gYXJndW1lbnRzLmxlbmd0aCA/IHNsaWNlLmNhbGwoYXJndW1lbnRzLCAwKSA6IFtdO1xuICAgICAgcmV0dXJuIGYuYXBwbHkobnVsbCwgYXBwbGllZC5jb25jYXQoYXJncykpO1xuICAgIH07XG4gIH07XG5cbiAgdG9TaW1wbGVFeHRyYWN0b3IgPSBmdW5jdGlvbihhcmdzKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGtleSkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHZhciBmaWVsZFZhbHVlO1xuICAgICAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybiB2b2lkIDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZmllbGRWYWx1ZSA9IHZhbHVlW2tleV07XG4gICAgICAgICAgaWYgKF8uaXNGdW5jdGlvbihmaWVsZFZhbHVlKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZpZWxkVmFsdWUuYXBwbHkodmFsdWUsIGFyZ3MpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmllbGRWYWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfTtcbiAgfTtcblxuICB0b0ZpZWxkRXh0cmFjdG9yID0gZnVuY3Rpb24oZiwgYXJncykge1xuICAgIHZhciBwYXJ0RnVuY3MsIHBhcnRzO1xuICAgIHBhcnRzID0gZi5zbGljZSgxKS5zcGxpdChcIi5cIik7XG4gICAgcGFydEZ1bmNzID0gXy5tYXAodG9TaW1wbGVFeHRyYWN0b3IoYXJncyksIHBhcnRzKTtcbiAgICByZXR1cm4gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHZhciBqLCBsZW4xO1xuICAgICAgZm9yIChqID0gMCwgbGVuMSA9IHBhcnRGdW5jcy5sZW5ndGg7IGogPCBsZW4xOyBqKyspIHtcbiAgICAgICAgZiA9IHBhcnRGdW5jc1tqXTtcbiAgICAgICAgdmFsdWUgPSBmKHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9O1xuICB9O1xuXG4gIGlzRmllbGRLZXkgPSBmdW5jdGlvbihmKSB7XG4gICAgcmV0dXJuICh0eXBlb2YgZiA9PT0gXCJzdHJpbmdcIikgJiYgZi5sZW5ndGggPiAxICYmIGYuY2hhckF0KDApID09PSBcIi5cIjtcbiAgfTtcblxuICBtYWtlRnVuY3Rpb25fID0gd2l0aE1ldGhvZENhbGxTdXBwb3J0KGZ1bmN0aW9uKCkge1xuICAgIHZhciBhcmdzLCBmO1xuICAgIGYgPSBhcmd1bWVudHNbMF0sIGFyZ3MgPSAyIDw9IGFyZ3VtZW50cy5sZW5ndGggPyBzbGljZS5jYWxsKGFyZ3VtZW50cywgMSkgOiBbXTtcbiAgICBpZiAoXy5pc0Z1bmN0aW9uKGYpKSB7XG4gICAgICBpZiAoYXJncy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHBhcnRpYWxseUFwcGxpZWQoZiwgYXJncyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZjtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGlzRmllbGRLZXkoZikpIHtcbiAgICAgIHJldHVybiB0b0ZpZWxkRXh0cmFjdG9yKGYsIGFyZ3MpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gXy5hbHdheXMoZik7XG4gICAgfVxuICB9KTtcblxuICBtYWtlRnVuY3Rpb24gPSBmdW5jdGlvbihmLCBhcmdzKSB7XG4gICAgcmV0dXJuIG1ha2VGdW5jdGlvbl8uYXBwbHkobnVsbCwgW2ZdLmNvbmNhdChzbGljZS5jYWxsKGFyZ3MpKSk7XG4gIH07XG5cbiAgY29udmVydEFyZ3NUb0Z1bmN0aW9uID0gZnVuY3Rpb24ob2JzLCBmLCBhcmdzLCBtZXRob2QpIHtcbiAgICB2YXIgc2FtcGxlZDtcbiAgICBpZiAoZiBpbnN0YW5jZW9mIFByb3BlcnR5KSB7XG4gICAgICBzYW1wbGVkID0gZi5zYW1wbGVkQnkob2JzLCBmdW5jdGlvbihwLCBzKSB7XG4gICAgICAgIHJldHVybiBbcCwgc107XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBtZXRob2QuY2FsbChzYW1wbGVkLCBmdW5jdGlvbihhcmcpIHtcbiAgICAgICAgdmFyIHAsIHM7XG4gICAgICAgIHAgPSBhcmdbMF0sIHMgPSBhcmdbMV07XG4gICAgICAgIHJldHVybiBwO1xuICAgICAgfSkubWFwKGZ1bmN0aW9uKGFyZykge1xuICAgICAgICB2YXIgcCwgcztcbiAgICAgICAgcCA9IGFyZ1swXSwgcyA9IGFyZ1sxXTtcbiAgICAgICAgcmV0dXJuIHM7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgZiA9IG1ha2VGdW5jdGlvbihmLCBhcmdzKTtcbiAgICAgIHJldHVybiBtZXRob2QuY2FsbChvYnMsIGYpO1xuICAgIH1cbiAgfTtcblxuICB0b0NvbWJpbmF0b3IgPSBmdW5jdGlvbihmKSB7XG4gICAgdmFyIGtleTtcbiAgICBpZiAoXy5pc0Z1bmN0aW9uKGYpKSB7XG4gICAgICByZXR1cm4gZjtcbiAgICB9IGVsc2UgaWYgKGlzRmllbGRLZXkoZikpIHtcbiAgICAgIGtleSA9IHRvRmllbGRLZXkoZik7XG4gICAgICByZXR1cm4gZnVuY3Rpb24obGVmdCwgcmlnaHQpIHtcbiAgICAgICAgcmV0dXJuIGxlZnRba2V5XShyaWdodCk7XG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXhjZXB0aW9uKFwibm90IGEgZnVuY3Rpb24gb3IgYSBmaWVsZCBrZXk6IFwiICsgZik7XG4gICAgfVxuICB9O1xuXG4gIHRvRmllbGRLZXkgPSBmdW5jdGlvbihmKSB7XG4gICAgcmV0dXJuIGYuc2xpY2UoMSk7XG4gIH07XG5cbiAgU29tZSA9IChmdW5jdGlvbigpIHtcbiAgICBmdW5jdGlvbiBTb21lKHZhbHVlMSkge1xuICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlMTtcbiAgICB9XG5cbiAgICBTb21lLnByb3RvdHlwZS5nZXRPckVsc2UgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLnZhbHVlO1xuICAgIH07XG5cbiAgICBTb21lLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLnZhbHVlO1xuICAgIH07XG5cbiAgICBTb21lLnByb3RvdHlwZS5maWx0ZXIgPSBmdW5jdGlvbihmKSB7XG4gICAgICBpZiAoZih0aGlzLnZhbHVlKSkge1xuICAgICAgICByZXR1cm4gbmV3IFNvbWUodGhpcy52YWx1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gTm9uZTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgU29tZS5wcm90b3R5cGUubWFwID0gZnVuY3Rpb24oZikge1xuICAgICAgcmV0dXJuIG5ldyBTb21lKGYodGhpcy52YWx1ZSkpO1xuICAgIH07XG5cbiAgICBTb21lLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24oZikge1xuICAgICAgcmV0dXJuIGYodGhpcy52YWx1ZSk7XG4gICAgfTtcblxuICAgIFNvbWUucHJvdG90eXBlLmlzRGVmaW5lZCA9IHRydWU7XG5cbiAgICBTb21lLnByb3RvdHlwZS50b0FycmF5ID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gW3RoaXMudmFsdWVdO1xuICAgIH07XG5cbiAgICBTb21lLnByb3RvdHlwZS5pbnNwZWN0ID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gXCJTb21lKFwiICsgdGhpcy52YWx1ZSArIFwiKVwiO1xuICAgIH07XG5cbiAgICBTb21lLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuaW5zcGVjdCgpO1xuICAgIH07XG5cbiAgICByZXR1cm4gU29tZTtcblxuICB9KSgpO1xuXG4gIE5vbmUgPSB7XG4gICAgZ2V0T3JFbHNlOiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH0sXG4gICAgZmlsdGVyOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBOb25lO1xuICAgIH0sXG4gICAgbWFwOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBOb25lO1xuICAgIH0sXG4gICAgZm9yRWFjaDogZnVuY3Rpb24oKSB7fSxcbiAgICBpc0RlZmluZWQ6IGZhbHNlLFxuICAgIHRvQXJyYXk6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH0sXG4gICAgaW5zcGVjdDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gXCJOb25lXCI7XG4gICAgfSxcbiAgICB0b1N0cmluZzogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5pbnNwZWN0KCk7XG4gICAgfVxuICB9O1xuXG4gIHRvT3B0aW9uID0gZnVuY3Rpb24odikge1xuICAgIGlmICh2IGluc3RhbmNlb2YgU29tZSB8fCB2ID09PSBOb25lKSB7XG4gICAgICByZXR1cm4gdjtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG5ldyBTb21lKHYpO1xuICAgIH1cbiAgfTtcblxuICBCYWNvbi5ub01vcmUgPSBbXCI8bm8tbW9yZT5cIl07XG5cbiAgQmFjb24ubW9yZSA9IFtcIjxtb3JlPlwiXTtcblxuICBldmVudElkQ291bnRlciA9IDA7XG5cbiAgRXZlbnQgPSAoZnVuY3Rpb24oKSB7XG4gICAgZnVuY3Rpb24gRXZlbnQoKSB7XG4gICAgICB0aGlzLmlkID0gKytldmVudElkQ291bnRlcjtcbiAgICB9XG5cbiAgICBFdmVudC5wcm90b3R5cGUuaXNFdmVudCA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcblxuICAgIEV2ZW50LnByb3RvdHlwZS5pc0VuZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG5cbiAgICBFdmVudC5wcm90b3R5cGUuaXNJbml0aWFsID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcblxuICAgIEV2ZW50LnByb3RvdHlwZS5pc05leHQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuXG4gICAgRXZlbnQucHJvdG90eXBlLmlzRXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuXG4gICAgRXZlbnQucHJvdG90eXBlLmhhc1ZhbHVlID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcblxuICAgIEV2ZW50LnByb3RvdHlwZS5maWx0ZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG5cbiAgICBFdmVudC5wcm90b3R5cGUuaW5zcGVjdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMudG9TdHJpbmcoKTtcbiAgICB9O1xuXG4gICAgRXZlbnQucHJvdG90eXBlLmxvZyA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMudG9TdHJpbmcoKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIEV2ZW50O1xuXG4gIH0pKCk7XG5cbiAgTmV4dCA9IChmdW5jdGlvbihzdXBlckNsYXNzKSB7XG4gICAgZXh0ZW5kKE5leHQsIHN1cGVyQ2xhc3MpO1xuXG4gICAgZnVuY3Rpb24gTmV4dCh2YWx1ZUYsIGVhZ2VyKSB7XG4gICAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgTmV4dCkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBOZXh0KHZhbHVlRiwgZWFnZXIpO1xuICAgICAgfVxuICAgICAgTmV4dC5fX3N1cGVyX18uY29uc3RydWN0b3IuY2FsbCh0aGlzKTtcbiAgICAgIGlmICghZWFnZXIgJiYgXy5pc0Z1bmN0aW9uKHZhbHVlRikgfHwgdmFsdWVGIGluc3RhbmNlb2YgTmV4dCkge1xuICAgICAgICB0aGlzLnZhbHVlRiA9IHZhbHVlRjtcbiAgICAgICAgdGhpcy52YWx1ZUludGVybmFsID0gdm9pZCAwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy52YWx1ZUYgPSB2b2lkIDA7XG4gICAgICAgIHRoaXMudmFsdWVJbnRlcm5hbCA9IHZhbHVlRjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBOZXh0LnByb3RvdHlwZS5pc05leHQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG5cbiAgICBOZXh0LnByb3RvdHlwZS5oYXNWYWx1ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcblxuICAgIE5leHQucHJvdG90eXBlLnZhbHVlID0gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcy52YWx1ZUYgaW5zdGFuY2VvZiBOZXh0KSB7XG4gICAgICAgIHRoaXMudmFsdWVJbnRlcm5hbCA9IHRoaXMudmFsdWVGLnZhbHVlKCk7XG4gICAgICAgIHRoaXMudmFsdWVGID0gdm9pZCAwO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLnZhbHVlRikge1xuICAgICAgICB0aGlzLnZhbHVlSW50ZXJuYWwgPSB0aGlzLnZhbHVlRigpO1xuICAgICAgICB0aGlzLnZhbHVlRiA9IHZvaWQgMDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLnZhbHVlSW50ZXJuYWw7XG4gICAgfTtcblxuICAgIE5leHQucHJvdG90eXBlLmZtYXAgPSBmdW5jdGlvbihmKSB7XG4gICAgICB2YXIgZXZlbnQsIHZhbHVlO1xuICAgICAgaWYgKHRoaXMudmFsdWVJbnRlcm5hbCkge1xuICAgICAgICB2YWx1ZSA9IHRoaXMudmFsdWVJbnRlcm5hbDtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXBwbHkoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuIGYodmFsdWUpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGV2ZW50ID0gdGhpcztcbiAgICAgICAgcmV0dXJuIHRoaXMuYXBwbHkoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuIGYoZXZlbnQudmFsdWUoKSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBOZXh0LnByb3RvdHlwZS5hcHBseSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gbmV3IE5leHQodmFsdWUpO1xuICAgIH07XG5cbiAgICBOZXh0LnByb3RvdHlwZS5maWx0ZXIgPSBmdW5jdGlvbihmKSB7XG4gICAgICByZXR1cm4gZih0aGlzLnZhbHVlKCkpO1xuICAgIH07XG5cbiAgICBOZXh0LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIF8udG9TdHJpbmcodGhpcy52YWx1ZSgpKTtcbiAgICB9O1xuXG4gICAgTmV4dC5wcm90b3R5cGUubG9nID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy52YWx1ZSgpO1xuICAgIH07XG5cbiAgICByZXR1cm4gTmV4dDtcblxuICB9KShFdmVudCk7XG5cbiAgSW5pdGlhbCA9IChmdW5jdGlvbihzdXBlckNsYXNzKSB7XG4gICAgZXh0ZW5kKEluaXRpYWwsIHN1cGVyQ2xhc3MpO1xuXG4gICAgZnVuY3Rpb24gSW5pdGlhbCh2YWx1ZUYsIGVhZ2VyKSB7XG4gICAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgSW5pdGlhbCkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBJbml0aWFsKHZhbHVlRiwgZWFnZXIpO1xuICAgICAgfVxuICAgICAgSW5pdGlhbC5fX3N1cGVyX18uY29uc3RydWN0b3IuY2FsbCh0aGlzLCB2YWx1ZUYsIGVhZ2VyKTtcbiAgICB9XG5cbiAgICBJbml0aWFsLnByb3RvdHlwZS5pc0luaXRpYWwgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG5cbiAgICBJbml0aWFsLnByb3RvdHlwZS5pc05leHQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuXG4gICAgSW5pdGlhbC5wcm90b3R5cGUuYXBwbHkgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIG5ldyBJbml0aWFsKHZhbHVlKTtcbiAgICB9O1xuXG4gICAgSW5pdGlhbC5wcm90b3R5cGUudG9OZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gbmV3IE5leHQodGhpcyk7XG4gICAgfTtcblxuICAgIHJldHVybiBJbml0aWFsO1xuXG4gIH0pKE5leHQpO1xuXG4gIEVuZCA9IChmdW5jdGlvbihzdXBlckNsYXNzKSB7XG4gICAgZXh0ZW5kKEVuZCwgc3VwZXJDbGFzcyk7XG5cbiAgICBmdW5jdGlvbiBFbmQoKSB7XG4gICAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgRW5kKSkge1xuICAgICAgICByZXR1cm4gbmV3IEVuZDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBFbmQucHJvdG90eXBlLmlzRW5kID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuXG4gICAgRW5kLnByb3RvdHlwZS5mbWFwID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgRW5kLnByb3RvdHlwZS5hcHBseSA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIEVuZC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBcIjxlbmQ+XCI7XG4gICAgfTtcblxuICAgIHJldHVybiBFbmQ7XG5cbiAgfSkoRXZlbnQpO1xuXG4gIEVycm9yID0gKGZ1bmN0aW9uKHN1cGVyQ2xhc3MpIHtcbiAgICBleHRlbmQoRXJyb3IsIHN1cGVyQ2xhc3MpO1xuXG4gICAgZnVuY3Rpb24gRXJyb3IoZXJyb3IpIHtcbiAgICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBFcnJvcikpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBFcnJvcihlcnJvcik7XG4gICAgICB9XG4gICAgICB0aGlzLmVycm9yID0gZXJyb3I7XG4gICAgfVxuXG4gICAgRXJyb3IucHJvdG90eXBlLmlzRXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG5cbiAgICBFcnJvci5wcm90b3R5cGUuZm1hcCA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIEVycm9yLnByb3RvdHlwZS5hcHBseSA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIEVycm9yLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIFwiPGVycm9yPiBcIiArIF8udG9TdHJpbmcodGhpcy5lcnJvcik7XG4gICAgfTtcblxuICAgIHJldHVybiBFcnJvcjtcblxuICB9KShFdmVudCk7XG5cbiAgQmFjb24uRXZlbnQgPSBFdmVudDtcblxuICBCYWNvbi5Jbml0aWFsID0gSW5pdGlhbDtcblxuICBCYWNvbi5OZXh0ID0gTmV4dDtcblxuICBCYWNvbi5FbmQgPSBFbmQ7XG5cbiAgQmFjb24uRXJyb3IgPSBFcnJvcjtcblxuICBpbml0aWFsRXZlbnQgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiBuZXcgSW5pdGlhbCh2YWx1ZSwgdHJ1ZSk7XG4gIH07XG5cbiAgbmV4dEV2ZW50ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gbmV3IE5leHQodmFsdWUsIHRydWUpO1xuICB9O1xuXG4gIGVuZEV2ZW50ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIG5ldyBFbmQoKTtcbiAgfTtcblxuICB0b0V2ZW50ID0gZnVuY3Rpb24oeCkge1xuICAgIGlmICh4IGluc3RhbmNlb2YgRXZlbnQpIHtcbiAgICAgIHJldHVybiB4O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbmV4dEV2ZW50KHgpO1xuICAgIH1cbiAgfTtcblxuICBpZENvdW50ZXIgPSAwO1xuXG4gIHJlZ2lzdGVyT2JzID0gZnVuY3Rpb24oKSB7fTtcblxuICBPYnNlcnZhYmxlID0gKGZ1bmN0aW9uKCkge1xuICAgIGZ1bmN0aW9uIE9ic2VydmFibGUoZGVzYzEpIHtcbiAgICAgIHRoaXMuZGVzYyA9IGRlc2MxO1xuICAgICAgdGhpcy5pZCA9ICsraWRDb3VudGVyO1xuICAgICAgdGhpcy5pbml0aWFsRGVzYyA9IHRoaXMuZGVzYztcbiAgICB9XG5cbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS5zdWJzY3JpYmUgPSBmdW5jdGlvbihzaW5rKSB7XG4gICAgICByZXR1cm4gVXBkYXRlQmFycmllci53cmFwcGVkU3Vic2NyaWJlKHRoaXMsIHNpbmspO1xuICAgIH07XG5cbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS5zdWJzY3JpYmVJbnRlcm5hbCA9IGZ1bmN0aW9uKHNpbmspIHtcbiAgICAgIHJldHVybiB0aGlzLmRpc3BhdGNoZXIuc3Vic2NyaWJlKHNpbmspO1xuICAgIH07XG5cbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS5vblZhbHVlID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgZjtcbiAgICAgIGYgPSBtYWtlRnVuY3Rpb25BcmdzKGFyZ3VtZW50cyk7XG4gICAgICByZXR1cm4gdGhpcy5zdWJzY3JpYmUoZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgaWYgKGV2ZW50Lmhhc1ZhbHVlKCkpIHtcbiAgICAgICAgICByZXR1cm4gZihldmVudC52YWx1ZSgpKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIE9ic2VydmFibGUucHJvdG90eXBlLm9uVmFsdWVzID0gZnVuY3Rpb24oZikge1xuICAgICAgcmV0dXJuIHRoaXMub25WYWx1ZShmdW5jdGlvbihhcmdzKSB7XG4gICAgICAgIHJldHVybiBmLmFwcGx5KG51bGwsIGFyZ3MpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIE9ic2VydmFibGUucHJvdG90eXBlLm9uRXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBmO1xuICAgICAgZiA9IG1ha2VGdW5jdGlvbkFyZ3MoYXJndW1lbnRzKTtcbiAgICAgIHJldHVybiB0aGlzLnN1YnNjcmliZShmdW5jdGlvbihldmVudCkge1xuICAgICAgICBpZiAoZXZlbnQuaXNFcnJvcigpKSB7XG4gICAgICAgICAgcmV0dXJuIGYoZXZlbnQuZXJyb3IpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUub25FbmQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBmO1xuICAgICAgZiA9IG1ha2VGdW5jdGlvbkFyZ3MoYXJndW1lbnRzKTtcbiAgICAgIHJldHVybiB0aGlzLnN1YnNjcmliZShmdW5jdGlvbihldmVudCkge1xuICAgICAgICBpZiAoZXZlbnQuaXNFbmQoKSkge1xuICAgICAgICAgIHJldHVybiBmKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS5uYW1lID0gZnVuY3Rpb24obmFtZSkge1xuICAgICAgdGhpcy5fbmFtZSA9IG5hbWU7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUud2l0aERlc2NyaXB0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLmRlc2MgPSBkZXNjcmliZS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIE9ic2VydmFibGUucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcy5fbmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbmFtZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRlc2MudG9TdHJpbmcoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUuaW50ZXJuYWxEZXBzID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5pbml0aWFsRGVzYy5kZXBzKCk7XG4gICAgfTtcblxuICAgIHJldHVybiBPYnNlcnZhYmxlO1xuXG4gIH0pKCk7XG5cbiAgT2JzZXJ2YWJsZS5wcm90b3R5cGUuYXNzaWduID0gT2JzZXJ2YWJsZS5wcm90b3R5cGUub25WYWx1ZTtcblxuICBPYnNlcnZhYmxlLnByb3RvdHlwZS5mb3JFYWNoID0gT2JzZXJ2YWJsZS5wcm90b3R5cGUub25WYWx1ZTtcblxuICBPYnNlcnZhYmxlLnByb3RvdHlwZS5pbnNwZWN0ID0gT2JzZXJ2YWJsZS5wcm90b3R5cGUudG9TdHJpbmc7XG5cbiAgQmFjb24uT2JzZXJ2YWJsZSA9IE9ic2VydmFibGU7XG5cbiAgQ29tcG9zaXRlVW5zdWJzY3JpYmUgPSAoZnVuY3Rpb24oKSB7XG4gICAgZnVuY3Rpb24gQ29tcG9zaXRlVW5zdWJzY3JpYmUoc3MpIHtcbiAgICAgIHZhciBqLCBsZW4xLCBzO1xuICAgICAgaWYgKHNzID09IG51bGwpIHtcbiAgICAgICAgc3MgPSBbXTtcbiAgICAgIH1cbiAgICAgIHRoaXMudW5zdWJzY3JpYmUgPSBiaW5kKHRoaXMudW5zdWJzY3JpYmUsIHRoaXMpO1xuICAgICAgdGhpcy51bnN1YnNjcmliZWQgPSBmYWxzZTtcbiAgICAgIHRoaXMuc3Vic2NyaXB0aW9ucyA9IFtdO1xuICAgICAgdGhpcy5zdGFydGluZyA9IFtdO1xuICAgICAgZm9yIChqID0gMCwgbGVuMSA9IHNzLmxlbmd0aDsgaiA8IGxlbjE7IGorKykge1xuICAgICAgICBzID0gc3Nbal07XG4gICAgICAgIHRoaXMuYWRkKHMpO1xuICAgICAgfVxuICAgIH1cblxuICAgIENvbXBvc2l0ZVVuc3Vic2NyaWJlLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbihzdWJzY3JpcHRpb24pIHtcbiAgICAgIHZhciBlbmRlZCwgdW5zdWIsIHVuc3ViTWU7XG4gICAgICBpZiAodGhpcy51bnN1YnNjcmliZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZW5kZWQgPSBmYWxzZTtcbiAgICAgIHVuc3ViID0gbm9wO1xuICAgICAgdGhpcy5zdGFydGluZy5wdXNoKHN1YnNjcmlwdGlvbik7XG4gICAgICB1bnN1Yk1lID0gKGZ1bmN0aW9uKF90aGlzKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICBpZiAoX3RoaXMudW5zdWJzY3JpYmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGVuZGVkID0gdHJ1ZTtcbiAgICAgICAgICBfdGhpcy5yZW1vdmUodW5zdWIpO1xuICAgICAgICAgIHJldHVybiBfLnJlbW92ZShzdWJzY3JpcHRpb24sIF90aGlzLnN0YXJ0aW5nKTtcbiAgICAgICAgfTtcbiAgICAgIH0pKHRoaXMpO1xuICAgICAgdW5zdWIgPSBzdWJzY3JpcHRpb24odGhpcy51bnN1YnNjcmliZSwgdW5zdWJNZSk7XG4gICAgICBpZiAoISh0aGlzLnVuc3Vic2NyaWJlZCB8fCBlbmRlZCkpIHtcbiAgICAgICAgdGhpcy5zdWJzY3JpcHRpb25zLnB1c2godW5zdWIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdW5zdWIoKTtcbiAgICAgIH1cbiAgICAgIF8ucmVtb3ZlKHN1YnNjcmlwdGlvbiwgdGhpcy5zdGFydGluZyk7XG4gICAgICByZXR1cm4gdW5zdWI7XG4gICAgfTtcblxuICAgIENvbXBvc2l0ZVVuc3Vic2NyaWJlLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbih1bnN1Yikge1xuICAgICAgaWYgKHRoaXMudW5zdWJzY3JpYmVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICgoXy5yZW1vdmUodW5zdWIsIHRoaXMuc3Vic2NyaXB0aW9ucykpICE9PSB2b2lkIDApIHtcbiAgICAgICAgcmV0dXJuIHVuc3ViKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIENvbXBvc2l0ZVVuc3Vic2NyaWJlLnByb3RvdHlwZS51bnN1YnNjcmliZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGosIGxlbjEsIHJlZiwgcztcbiAgICAgIGlmICh0aGlzLnVuc3Vic2NyaWJlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aGlzLnVuc3Vic2NyaWJlZCA9IHRydWU7XG4gICAgICByZWYgPSB0aGlzLnN1YnNjcmlwdGlvbnM7XG4gICAgICBmb3IgKGogPSAwLCBsZW4xID0gcmVmLmxlbmd0aDsgaiA8IGxlbjE7IGorKykge1xuICAgICAgICBzID0gcmVmW2pdO1xuICAgICAgICBzKCk7XG4gICAgICB9XG4gICAgICB0aGlzLnN1YnNjcmlwdGlvbnMgPSBbXTtcbiAgICAgIHJldHVybiB0aGlzLnN0YXJ0aW5nID0gW107XG4gICAgfTtcblxuICAgIENvbXBvc2l0ZVVuc3Vic2NyaWJlLnByb3RvdHlwZS5jb3VudCA9IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHRoaXMudW5zdWJzY3JpYmVkKSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuc3Vic2NyaXB0aW9ucy5sZW5ndGggKyB0aGlzLnN0YXJ0aW5nLmxlbmd0aDtcbiAgICB9O1xuXG4gICAgQ29tcG9zaXRlVW5zdWJzY3JpYmUucHJvdG90eXBlLmVtcHR5ID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5jb3VudCgpID09PSAwO1xuICAgIH07XG5cbiAgICByZXR1cm4gQ29tcG9zaXRlVW5zdWJzY3JpYmU7XG5cbiAgfSkoKTtcblxuICBCYWNvbi5Db21wb3NpdGVVbnN1YnNjcmliZSA9IENvbXBvc2l0ZVVuc3Vic2NyaWJlO1xuXG4gIERpc3BhdGNoZXIgPSAoZnVuY3Rpb24oKSB7XG4gICAgRGlzcGF0Y2hlci5wcm90b3R5cGUucHVzaGluZyA9IGZhbHNlO1xuXG4gICAgRGlzcGF0Y2hlci5wcm90b3R5cGUuZW5kZWQgPSBmYWxzZTtcblxuICAgIERpc3BhdGNoZXIucHJvdG90eXBlLnByZXZFcnJvciA9IHZvaWQgMDtcblxuICAgIERpc3BhdGNoZXIucHJvdG90eXBlLnVuc3ViU3JjID0gdm9pZCAwO1xuXG4gICAgZnVuY3Rpb24gRGlzcGF0Y2hlcihfc3Vic2NyaWJlLCBfaGFuZGxlRXZlbnQpIHtcbiAgICAgIHRoaXMuX3N1YnNjcmliZSA9IF9zdWJzY3JpYmU7XG4gICAgICB0aGlzLl9oYW5kbGVFdmVudCA9IF9oYW5kbGVFdmVudDtcbiAgICAgIHRoaXMuc3Vic2NyaWJlID0gYmluZCh0aGlzLnN1YnNjcmliZSwgdGhpcyk7XG4gICAgICB0aGlzLmhhbmRsZUV2ZW50ID0gYmluZCh0aGlzLmhhbmRsZUV2ZW50LCB0aGlzKTtcbiAgICAgIHRoaXMuc3Vic2NyaXB0aW9ucyA9IFtdO1xuICAgICAgdGhpcy5xdWV1ZSA9IFtdO1xuICAgIH1cblxuICAgIERpc3BhdGNoZXIucHJvdG90eXBlLmhhc1N1YnNjcmliZXJzID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5zdWJzY3JpcHRpb25zLmxlbmd0aCA+IDA7XG4gICAgfTtcblxuICAgIERpc3BhdGNoZXIucHJvdG90eXBlLnJlbW92ZVN1YiA9IGZ1bmN0aW9uKHN1YnNjcmlwdGlvbikge1xuICAgICAgcmV0dXJuIHRoaXMuc3Vic2NyaXB0aW9ucyA9IF8ud2l0aG91dChzdWJzY3JpcHRpb24sIHRoaXMuc3Vic2NyaXB0aW9ucyk7XG4gICAgfTtcblxuICAgIERpc3BhdGNoZXIucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgaWYgKGV2ZW50LmlzRW5kKCkpIHtcbiAgICAgICAgdGhpcy5lbmRlZCA9IHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gVXBkYXRlQmFycmllci5pblRyYW5zYWN0aW9uKGV2ZW50LCB0aGlzLCB0aGlzLnB1c2hJdCwgW2V2ZW50XSk7XG4gICAgfTtcblxuICAgIERpc3BhdGNoZXIucHJvdG90eXBlLnB1c2hUb1N1YnNjcmlwdGlvbnMgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgdmFyIGUsIGosIGxlbjEsIHJlcGx5LCBzdWIsIHRtcDtcbiAgICAgIHRyeSB7XG4gICAgICAgIHRtcCA9IHRoaXMuc3Vic2NyaXB0aW9ucztcbiAgICAgICAgZm9yIChqID0gMCwgbGVuMSA9IHRtcC5sZW5ndGg7IGogPCBsZW4xOyBqKyspIHtcbiAgICAgICAgICBzdWIgPSB0bXBbal07XG4gICAgICAgICAgcmVwbHkgPSBzdWIuc2luayhldmVudCk7XG4gICAgICAgICAgaWYgKHJlcGx5ID09PSBCYWNvbi5ub01vcmUgfHwgZXZlbnQuaXNFbmQoKSkge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVTdWIoc3ViKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9IGNhdGNoIChfZXJyb3IpIHtcbiAgICAgICAgZSA9IF9lcnJvcjtcbiAgICAgICAgdGhpcy5wdXNoaW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMucXVldWUgPSBbXTtcbiAgICAgICAgdGhyb3cgZTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgRGlzcGF0Y2hlci5wcm90b3R5cGUucHVzaEl0ID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgIGlmICghdGhpcy5wdXNoaW5nKSB7XG4gICAgICAgIGlmIChldmVudCA9PT0gdGhpcy5wcmV2RXJyb3IpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV2ZW50LmlzRXJyb3IoKSkge1xuICAgICAgICAgIHRoaXMucHJldkVycm9yID0gZXZlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wdXNoaW5nID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5wdXNoVG9TdWJzY3JpcHRpb25zKGV2ZW50KTtcbiAgICAgICAgdGhpcy5wdXNoaW5nID0gZmFsc2U7XG4gICAgICAgIHdoaWxlICh0aGlzLnF1ZXVlLmxlbmd0aCkge1xuICAgICAgICAgIGV2ZW50ID0gdGhpcy5xdWV1ZS5zaGlmdCgpO1xuICAgICAgICAgIHRoaXMucHVzaChldmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaGFzU3Vic2NyaWJlcnMoKSkge1xuICAgICAgICAgIHJldHVybiBCYWNvbi5tb3JlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmVGcm9tU291cmNlKCk7XG4gICAgICAgICAgcmV0dXJuIEJhY29uLm5vTW9yZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5xdWV1ZS5wdXNoKGV2ZW50KTtcbiAgICAgICAgcmV0dXJuIEJhY29uLm1vcmU7XG4gICAgICB9XG4gICAgfTtcblxuICAgIERpc3BhdGNoZXIucHJvdG90eXBlLmhhbmRsZUV2ZW50ID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgIGlmICh0aGlzLl9oYW5kbGVFdmVudCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faGFuZGxlRXZlbnQoZXZlbnQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHVzaChldmVudCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIERpc3BhdGNoZXIucHJvdG90eXBlLnVuc3Vic2NyaWJlRnJvbVNvdXJjZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHRoaXMudW5zdWJTcmMpIHtcbiAgICAgICAgdGhpcy51bnN1YlNyYygpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMudW5zdWJTcmMgPSB2b2lkIDA7XG4gICAgfTtcblxuICAgIERpc3BhdGNoZXIucHJvdG90eXBlLnN1YnNjcmliZSA9IGZ1bmN0aW9uKHNpbmspIHtcbiAgICAgIHZhciBzdWJzY3JpcHRpb247XG4gICAgICBpZiAodGhpcy5lbmRlZCkge1xuICAgICAgICBzaW5rKGVuZEV2ZW50KCkpO1xuICAgICAgICByZXR1cm4gbm9wO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYXNzZXJ0RnVuY3Rpb24oc2luayk7XG4gICAgICAgIHN1YnNjcmlwdGlvbiA9IHtcbiAgICAgICAgICBzaW5rOiBzaW5rXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5wdXNoKHN1YnNjcmlwdGlvbik7XG4gICAgICAgIGlmICh0aGlzLnN1YnNjcmlwdGlvbnMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgdGhpcy51bnN1YlNyYyA9IHRoaXMuX3N1YnNjcmliZSh0aGlzLmhhbmRsZUV2ZW50KTtcbiAgICAgICAgICBhc3NlcnRGdW5jdGlvbih0aGlzLnVuc3ViU3JjKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKGZ1bmN0aW9uKF90aGlzKSB7XG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgX3RoaXMucmVtb3ZlU3ViKHN1YnNjcmlwdGlvbik7XG4gICAgICAgICAgICBpZiAoIV90aGlzLmhhc1N1YnNjcmliZXJzKCkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLnVuc3Vic2NyaWJlRnJvbVNvdXJjZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgIH0pKHRoaXMpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gRGlzcGF0Y2hlcjtcblxuICB9KSgpO1xuXG4gIEJhY29uLkRpc3BhdGNoZXIgPSBEaXNwYXRjaGVyO1xuXG4gIEV2ZW50U3RyZWFtID0gKGZ1bmN0aW9uKHN1cGVyQ2xhc3MpIHtcbiAgICBleHRlbmQoRXZlbnRTdHJlYW0sIHN1cGVyQ2xhc3MpO1xuXG4gICAgZnVuY3Rpb24gRXZlbnRTdHJlYW0oZGVzYywgc3Vic2NyaWJlLCBoYW5kbGVyKSB7XG4gICAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgRXZlbnRTdHJlYW0pKSB7XG4gICAgICAgIHJldHVybiBuZXcgRXZlbnRTdHJlYW0oZGVzYywgc3Vic2NyaWJlLCBoYW5kbGVyKTtcbiAgICAgIH1cbiAgICAgIGlmIChfLmlzRnVuY3Rpb24oZGVzYykpIHtcbiAgICAgICAgaGFuZGxlciA9IHN1YnNjcmliZTtcbiAgICAgICAgc3Vic2NyaWJlID0gZGVzYztcbiAgICAgICAgZGVzYyA9IERlc2MuZW1wdHk7XG4gICAgICB9XG4gICAgICBFdmVudFN0cmVhbS5fX3N1cGVyX18uY29uc3RydWN0b3IuY2FsbCh0aGlzLCBkZXNjKTtcbiAgICAgIGFzc2VydEZ1bmN0aW9uKHN1YnNjcmliZSk7XG4gICAgICB0aGlzLmRpc3BhdGNoZXIgPSBuZXcgRGlzcGF0Y2hlcihzdWJzY3JpYmUsIGhhbmRsZXIpO1xuICAgICAgcmVnaXN0ZXJPYnModGhpcyk7XG4gICAgfVxuXG4gICAgRXZlbnRTdHJlYW0ucHJvdG90eXBlLnRvUHJvcGVydHkgPSBmdW5jdGlvbihpbml0VmFsdWVfKSB7XG4gICAgICB2YXIgZGlzcCwgaW5pdFZhbHVlO1xuICAgICAgaW5pdFZhbHVlID0gYXJndW1lbnRzLmxlbmd0aCA9PT0gMCA/IE5vbmUgOiB0b09wdGlvbihmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGluaXRWYWx1ZV87XG4gICAgICB9KTtcbiAgICAgIGRpc3AgPSB0aGlzLmRpc3BhdGNoZXI7XG4gICAgICByZXR1cm4gbmV3IFByb3BlcnR5KG5ldyBCYWNvbi5EZXNjKHRoaXMsIFwidG9Qcm9wZXJ0eVwiLCBbaW5pdFZhbHVlX10pLCBmdW5jdGlvbihzaW5rKSB7XG4gICAgICAgIHZhciBpbml0U2VudCwgcmVwbHksIHNlbmRJbml0LCB1bnN1YjtcbiAgICAgICAgaW5pdFNlbnQgPSBmYWxzZTtcbiAgICAgICAgdW5zdWIgPSBub3A7XG4gICAgICAgIHJlcGx5ID0gQmFjb24ubW9yZTtcbiAgICAgICAgc2VuZEluaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICBpZiAoIWluaXRTZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gaW5pdFZhbHVlLmZvckVhY2goZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgICAgaW5pdFNlbnQgPSB0cnVlO1xuICAgICAgICAgICAgICByZXBseSA9IHNpbmsobmV3IEluaXRpYWwodmFsdWUpKTtcbiAgICAgICAgICAgICAgaWYgKHJlcGx5ID09PSBCYWNvbi5ub01vcmUpIHtcbiAgICAgICAgICAgICAgICB1bnN1YigpO1xuICAgICAgICAgICAgICAgIHJldHVybiB1bnN1YiA9IG5vcDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB1bnN1YiA9IGRpc3Auc3Vic2NyaWJlKGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgaWYgKGV2ZW50Lmhhc1ZhbHVlKCkpIHtcbiAgICAgICAgICAgIGlmIChpbml0U2VudCAmJiBldmVudC5pc0luaXRpYWwoKSkge1xuICAgICAgICAgICAgICByZXR1cm4gQmFjb24ubW9yZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGlmICghZXZlbnQuaXNJbml0aWFsKCkpIHtcbiAgICAgICAgICAgICAgICBzZW5kSW5pdCgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGluaXRTZW50ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgaW5pdFZhbHVlID0gbmV3IFNvbWUoZXZlbnQpO1xuICAgICAgICAgICAgICByZXR1cm4gc2luayhldmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChldmVudC5pc0VuZCgpKSB7XG4gICAgICAgICAgICAgIHJlcGx5ID0gc2VuZEluaXQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyZXBseSAhPT0gQmFjb24ubm9Nb3JlKSB7XG4gICAgICAgICAgICAgIHJldHVybiBzaW5rKGV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBzZW5kSW5pdCgpO1xuICAgICAgICByZXR1cm4gdW5zdWI7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgRXZlbnRTdHJlYW0ucHJvdG90eXBlLnRvRXZlbnRTdHJlYW0gPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICBFdmVudFN0cmVhbS5wcm90b3R5cGUud2l0aEhhbmRsZXIgPSBmdW5jdGlvbihoYW5kbGVyKSB7XG4gICAgICByZXR1cm4gbmV3IEV2ZW50U3RyZWFtKG5ldyBCYWNvbi5EZXNjKHRoaXMsIFwid2l0aEhhbmRsZXJcIiwgW2hhbmRsZXJdKSwgdGhpcy5kaXNwYXRjaGVyLnN1YnNjcmliZSwgaGFuZGxlcik7XG4gICAgfTtcblxuICAgIHJldHVybiBFdmVudFN0cmVhbTtcblxuICB9KShPYnNlcnZhYmxlKTtcblxuICBCYWNvbi5FdmVudFN0cmVhbSA9IEV2ZW50U3RyZWFtO1xuXG4gIEJhY29uLm5ldmVyID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIG5ldyBFdmVudFN0cmVhbShkZXNjcmliZShCYWNvbiwgXCJuZXZlclwiKSwgZnVuY3Rpb24oc2luaykge1xuICAgICAgc2luayhlbmRFdmVudCgpKTtcbiAgICAgIHJldHVybiBub3A7XG4gICAgfSk7XG4gIH07XG5cbiAgQmFjb24ud2hlbiA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBmLCBpLCBpbmRleCwgaXgsIGosIGssIGxlbiwgbGVuMSwgbGVuMiwgbmVlZHNCYXJyaWVyLCBwYXQsIHBhdFNvdXJjZXMsIHBhdHMsIHBhdHRlcm5zLCByZWYsIHJlc3VsdFN0cmVhbSwgcywgc291cmNlcywgdHJpZ2dlckZvdW5kLCB1c2FnZTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIEJhY29uLm5ldmVyKCk7XG4gICAgfVxuICAgIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgdXNhZ2UgPSBcIndoZW46IGV4cGVjdGluZyBhcmd1bWVudHMgaW4gdGhlIGZvcm0gKE9ic2VydmFibGUrLGZ1bmN0aW9uKStcIjtcbiAgICBhc3NlcnQodXNhZ2UsIGxlbiAlIDIgPT09IDApO1xuICAgIHNvdXJjZXMgPSBbXTtcbiAgICBwYXRzID0gW107XG4gICAgaSA9IDA7XG4gICAgcGF0dGVybnMgPSBbXTtcbiAgICB3aGlsZSAoaSA8IGxlbikge1xuICAgICAgcGF0dGVybnNbaV0gPSBhcmd1bWVudHNbaV07XG4gICAgICBwYXR0ZXJuc1tpICsgMV0gPSBhcmd1bWVudHNbaSArIDFdO1xuICAgICAgcGF0U291cmNlcyA9IF8udG9BcnJheShhcmd1bWVudHNbaV0pO1xuICAgICAgZiA9IGNvbnN0YW50VG9GdW5jdGlvbihhcmd1bWVudHNbaSArIDFdKTtcbiAgICAgIHBhdCA9IHtcbiAgICAgICAgZjogZixcbiAgICAgICAgaXhzOiBbXVxuICAgICAgfTtcbiAgICAgIHRyaWdnZXJGb3VuZCA9IGZhbHNlO1xuICAgICAgZm9yIChqID0gMCwgbGVuMSA9IHBhdFNvdXJjZXMubGVuZ3RoOyBqIDwgbGVuMTsgaisrKSB7XG4gICAgICAgIHMgPSBwYXRTb3VyY2VzW2pdO1xuICAgICAgICBpbmRleCA9IF8uaW5kZXhPZihzb3VyY2VzLCBzKTtcbiAgICAgICAgaWYgKCF0cmlnZ2VyRm91bmQpIHtcbiAgICAgICAgICB0cmlnZ2VyRm91bmQgPSBTb3VyY2UuaXNUcmlnZ2VyKHMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgICAgICBzb3VyY2VzLnB1c2gocyk7XG4gICAgICAgICAgaW5kZXggPSBzb3VyY2VzLmxlbmd0aCAtIDE7XG4gICAgICAgIH1cbiAgICAgICAgcmVmID0gcGF0Lml4cztcbiAgICAgICAgZm9yIChrID0gMCwgbGVuMiA9IHJlZi5sZW5ndGg7IGsgPCBsZW4yOyBrKyspIHtcbiAgICAgICAgICBpeCA9IHJlZltrXTtcbiAgICAgICAgICBpZiAoaXguaW5kZXggPT09IGluZGV4KSB7XG4gICAgICAgICAgICBpeC5jb3VudCsrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwYXQuaXhzLnB1c2goe1xuICAgICAgICAgIGluZGV4OiBpbmRleCxcbiAgICAgICAgICBjb3VudDogMVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGFzc2VydChcIkF0IGxlYXN0IG9uZSBFdmVudFN0cmVhbSByZXF1aXJlZFwiLCB0cmlnZ2VyRm91bmQgfHwgKCFwYXRTb3VyY2VzLmxlbmd0aCkpO1xuICAgICAgaWYgKHBhdFNvdXJjZXMubGVuZ3RoID4gMCkge1xuICAgICAgICBwYXRzLnB1c2gocGF0KTtcbiAgICAgIH1cbiAgICAgIGkgPSBpICsgMjtcbiAgICB9XG4gICAgaWYgKCFzb3VyY2VzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIEJhY29uLm5ldmVyKCk7XG4gICAgfVxuICAgIHNvdXJjZXMgPSBfLm1hcChTb3VyY2UuZnJvbU9ic2VydmFibGUsIHNvdXJjZXMpO1xuICAgIG5lZWRzQmFycmllciA9IChfLmFueShzb3VyY2VzLCBmdW5jdGlvbihzKSB7XG4gICAgICByZXR1cm4gcy5mbGF0dGVuO1xuICAgIH0pKSAmJiAoY29udGFpbnNEdXBsaWNhdGVEZXBzKF8ubWFwKChmdW5jdGlvbihzKSB7XG4gICAgICByZXR1cm4gcy5vYnM7XG4gICAgfSksIHNvdXJjZXMpKSk7XG4gICAgcmV0dXJuIHJlc3VsdFN0cmVhbSA9IG5ldyBFdmVudFN0cmVhbShuZXcgQmFjb24uRGVzYyhCYWNvbiwgXCJ3aGVuXCIsIHBhdHRlcm5zKSwgZnVuY3Rpb24oc2luaykge1xuICAgICAgdmFyIGNhbm5vdE1hdGNoLCBjYW5ub3RTeW5jLCBlbmRzLCBtYXRjaCwgbm9uRmxhdHRlbmVkLCBwYXJ0LCB0cmlnZ2VycztcbiAgICAgIHRyaWdnZXJzID0gW107XG4gICAgICBlbmRzID0gZmFsc2U7XG4gICAgICBtYXRjaCA9IGZ1bmN0aW9uKHApIHtcbiAgICAgICAgdmFyIGwsIGxlbjMsIHJlZjE7XG4gICAgICAgIHJlZjEgPSBwLml4cztcbiAgICAgICAgZm9yIChsID0gMCwgbGVuMyA9IHJlZjEubGVuZ3RoOyBsIDwgbGVuMzsgbCsrKSB7XG4gICAgICAgICAgaSA9IHJlZjFbbF07XG4gICAgICAgICAgaWYgKCFzb3VyY2VzW2kuaW5kZXhdLmhhc0F0TGVhc3QoaS5jb3VudCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9O1xuICAgICAgY2Fubm90U3luYyA9IGZ1bmN0aW9uKHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gIXNvdXJjZS5zeW5jIHx8IHNvdXJjZS5lbmRlZDtcbiAgICAgIH07XG4gICAgICBjYW5ub3RNYXRjaCA9IGZ1bmN0aW9uKHApIHtcbiAgICAgICAgdmFyIGwsIGxlbjMsIHJlZjE7XG4gICAgICAgIHJlZjEgPSBwLml4cztcbiAgICAgICAgZm9yIChsID0gMCwgbGVuMyA9IHJlZjEubGVuZ3RoOyBsIDwgbGVuMzsgbCsrKSB7XG4gICAgICAgICAgaSA9IHJlZjFbbF07XG4gICAgICAgICAgaWYgKCFzb3VyY2VzW2kuaW5kZXhdLm1heUhhdmUoaS5jb3VudCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIG5vbkZsYXR0ZW5lZCA9IGZ1bmN0aW9uKHRyaWdnZXIpIHtcbiAgICAgICAgcmV0dXJuICF0cmlnZ2VyLnNvdXJjZS5mbGF0dGVuO1xuICAgICAgfTtcbiAgICAgIHBhcnQgPSBmdW5jdGlvbihzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKHVuc3ViQWxsKSB7XG4gICAgICAgICAgdmFyIGZsdXNoLCBmbHVzaExhdGVyLCBmbHVzaFdoaWxlVHJpZ2dlcnM7XG4gICAgICAgICAgZmx1c2hMYXRlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIFVwZGF0ZUJhcnJpZXIud2hlbkRvbmVXaXRoKHJlc3VsdFN0cmVhbSwgZmx1c2gpO1xuICAgICAgICAgIH07XG4gICAgICAgICAgZmx1c2hXaGlsZVRyaWdnZXJzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgZXZlbnRzLCBsLCBsZW4zLCBwLCByZXBseSwgdHJpZ2dlcjtcbiAgICAgICAgICAgIGlmICh0cmlnZ2Vycy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgIHJlcGx5ID0gQmFjb24ubW9yZTtcbiAgICAgICAgICAgICAgdHJpZ2dlciA9IHRyaWdnZXJzLnBvcCgpO1xuICAgICAgICAgICAgICBmb3IgKGwgPSAwLCBsZW4zID0gcGF0cy5sZW5ndGg7IGwgPCBsZW4zOyBsKyspIHtcbiAgICAgICAgICAgICAgICBwID0gcGF0c1tsXTtcbiAgICAgICAgICAgICAgICBpZiAobWF0Y2gocCkpIHtcbiAgICAgICAgICAgICAgICAgIGV2ZW50cyA9IChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxlbjQsIG0sIHJlZjEsIHJlc3VsdHM7XG4gICAgICAgICAgICAgICAgICAgIHJlZjEgPSBwLml4cztcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0cyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKG0gPSAwLCBsZW40ID0gcmVmMS5sZW5ndGg7IG0gPCBsZW40OyBtKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICBpID0gcmVmMVttXTtcbiAgICAgICAgICAgICAgICAgICAgICByZXN1bHRzLnB1c2goc291cmNlc1tpLmluZGV4XS5jb25zdW1lKCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHRzO1xuICAgICAgICAgICAgICAgICAgfSkoKTtcbiAgICAgICAgICAgICAgICAgIHJlcGx5ID0gc2luayh0cmlnZ2VyLmUuYXBwbHkoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBldmVudCwgdmFsdWVzO1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZXMgPSAoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgdmFyIGxlbjQsIG0sIHJlc3VsdHM7XG4gICAgICAgICAgICAgICAgICAgICAgcmVzdWx0cyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgIGZvciAobSA9IDAsIGxlbjQgPSBldmVudHMubGVuZ3RoOyBtIDwgbGVuNDsgbSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudCA9IGV2ZW50c1ttXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaChldmVudC52YWx1ZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgICAgICAgICAgICAgICAgIH0pKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwLmYuYXBwbHkocCwgdmFsdWVzKTtcbiAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICAgIGlmICh0cmlnZ2Vycy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJpZ2dlcnMgPSBfLmZpbHRlcihub25GbGF0dGVuZWQsIHRyaWdnZXJzKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGlmIChyZXBseSA9PT0gQmFjb24ubm9Nb3JlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXBseTtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmbHVzaFdoaWxlVHJpZ2dlcnMoKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJldHVybiBCYWNvbi5tb3JlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgICAgZmx1c2ggPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciByZXBseTtcbiAgICAgICAgICAgIHJlcGx5ID0gZmx1c2hXaGlsZVRyaWdnZXJzKCk7XG4gICAgICAgICAgICBpZiAoZW5kcykge1xuICAgICAgICAgICAgICBpZiAoXy5hbGwoc291cmNlcywgY2Fubm90U3luYykgfHwgXy5hbGwocGF0cywgY2Fubm90TWF0Y2gpKSB7XG4gICAgICAgICAgICAgICAgcmVwbHkgPSBCYWNvbi5ub01vcmU7XG4gICAgICAgICAgICAgICAgc2luayhlbmRFdmVudCgpKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJlcGx5ID09PSBCYWNvbi5ub01vcmUpIHtcbiAgICAgICAgICAgICAgdW5zdWJBbGwoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXBseTtcbiAgICAgICAgICB9O1xuICAgICAgICAgIHJldHVybiBzb3VyY2Uuc3Vic2NyaWJlKGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIHZhciByZXBseTtcbiAgICAgICAgICAgIGlmIChlLmlzRW5kKCkpIHtcbiAgICAgICAgICAgICAgZW5kcyA9IHRydWU7XG4gICAgICAgICAgICAgIHNvdXJjZS5tYXJrRW5kZWQoKTtcbiAgICAgICAgICAgICAgZmx1c2hMYXRlcigpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChlLmlzRXJyb3IoKSkge1xuICAgICAgICAgICAgICByZXBseSA9IHNpbmsoZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzb3VyY2UucHVzaChlKTtcbiAgICAgICAgICAgICAgaWYgKHNvdXJjZS5zeW5jKSB7XG4gICAgICAgICAgICAgICAgdHJpZ2dlcnMucHVzaCh7XG4gICAgICAgICAgICAgICAgICBzb3VyY2U6IHNvdXJjZSxcbiAgICAgICAgICAgICAgICAgIGU6IGVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAobmVlZHNCYXJyaWVyIHx8IFVwZGF0ZUJhcnJpZXIuaGFzV2FpdGVycygpKSB7XG4gICAgICAgICAgICAgICAgICBmbHVzaExhdGVyKCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIGZsdXNoKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocmVwbHkgPT09IEJhY29uLm5vTW9yZSkge1xuICAgICAgICAgICAgICB1bnN1YkFsbCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlcGx5IHx8IEJhY29uLm1vcmU7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICB9O1xuICAgICAgcmV0dXJuIG5ldyBCYWNvbi5Db21wb3NpdGVVbnN1YnNjcmliZSgoZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBsLCBsZW4zLCByZXN1bHRzO1xuICAgICAgICByZXN1bHRzID0gW107XG4gICAgICAgIGZvciAobCA9IDAsIGxlbjMgPSBzb3VyY2VzLmxlbmd0aDsgbCA8IGxlbjM7IGwrKykge1xuICAgICAgICAgIHMgPSBzb3VyY2VzW2xdO1xuICAgICAgICAgIHJlc3VsdHMucHVzaChwYXJ0KHMpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0cztcbiAgICAgIH0pKCkpLnVuc3Vic2NyaWJlO1xuICAgIH0pO1xuICB9O1xuXG4gIGNvbnRhaW5zRHVwbGljYXRlRGVwcyA9IGZ1bmN0aW9uKG9ic2VydmFibGVzLCBzdGF0ZSkge1xuICAgIHZhciBjaGVja09ic2VydmFibGU7XG4gICAgaWYgKHN0YXRlID09IG51bGwpIHtcbiAgICAgIHN0YXRlID0gW107XG4gICAgfVxuICAgIGNoZWNrT2JzZXJ2YWJsZSA9IGZ1bmN0aW9uKG9icykge1xuICAgICAgdmFyIGRlcHM7XG4gICAgICBpZiAoXy5jb250YWlucyhzdGF0ZSwgb2JzKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRlcHMgPSBvYnMuaW50ZXJuYWxEZXBzKCk7XG4gICAgICAgIGlmIChkZXBzLmxlbmd0aCkge1xuICAgICAgICAgIHN0YXRlLnB1c2gob2JzKTtcbiAgICAgICAgICByZXR1cm4gXy5hbnkoZGVwcywgY2hlY2tPYnNlcnZhYmxlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzdGF0ZS5wdXNoKG9icyk7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gXy5hbnkob2JzZXJ2YWJsZXMsIGNoZWNrT2JzZXJ2YWJsZSk7XG4gIH07XG5cbiAgY29uc3RhbnRUb0Z1bmN0aW9uID0gZnVuY3Rpb24oZikge1xuICAgIGlmIChfLmlzRnVuY3Rpb24oZikpIHtcbiAgICAgIHJldHVybiBmO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gXy5hbHdheXMoZik7XG4gICAgfVxuICB9O1xuXG4gIEJhY29uLmdyb3VwU2ltdWx0YW5lb3VzID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHMsIHNvdXJjZXMsIHN0cmVhbXM7XG4gICAgc3RyZWFtcyA9IDEgPD0gYXJndW1lbnRzLmxlbmd0aCA/IHNsaWNlLmNhbGwoYXJndW1lbnRzLCAwKSA6IFtdO1xuICAgIGlmIChzdHJlYW1zLmxlbmd0aCA9PT0gMSAmJiBpc0FycmF5KHN0cmVhbXNbMF0pKSB7XG4gICAgICBzdHJlYW1zID0gc3RyZWFtc1swXTtcbiAgICB9XG4gICAgc291cmNlcyA9IChmdW5jdGlvbigpIHtcbiAgICAgIHZhciBqLCBsZW4xLCByZXN1bHRzO1xuICAgICAgcmVzdWx0cyA9IFtdO1xuICAgICAgZm9yIChqID0gMCwgbGVuMSA9IHN0cmVhbXMubGVuZ3RoOyBqIDwgbGVuMTsgaisrKSB7XG4gICAgICAgIHMgPSBzdHJlYW1zW2pdO1xuICAgICAgICByZXN1bHRzLnB1c2gobmV3IEJ1ZmZlcmluZ1NvdXJjZShzKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0cztcbiAgICB9KSgpO1xuICAgIHJldHVybiB3aXRoRGVzYyhuZXcgQmFjb24uRGVzYyhCYWNvbiwgXCJncm91cFNpbXVsdGFuZW91c1wiLCBzdHJlYW1zKSwgQmFjb24ud2hlbihzb3VyY2VzLCAoZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgeHM7XG4gICAgICB4cyA9IDEgPD0gYXJndW1lbnRzLmxlbmd0aCA/IHNsaWNlLmNhbGwoYXJndW1lbnRzLCAwKSA6IFtdO1xuICAgICAgcmV0dXJuIHhzO1xuICAgIH0pKSk7XG4gIH07XG5cbiAgUHJvcGVydHlEaXNwYXRjaGVyID0gKGZ1bmN0aW9uKHN1cGVyQ2xhc3MpIHtcbiAgICBleHRlbmQoUHJvcGVydHlEaXNwYXRjaGVyLCBzdXBlckNsYXNzKTtcblxuICAgIGZ1bmN0aW9uIFByb3BlcnR5RGlzcGF0Y2hlcihwcm9wZXJ0eTEsIHN1YnNjcmliZSwgaGFuZGxlRXZlbnQpIHtcbiAgICAgIHRoaXMucHJvcGVydHkgPSBwcm9wZXJ0eTE7XG4gICAgICB0aGlzLnN1YnNjcmliZSA9IGJpbmQodGhpcy5zdWJzY3JpYmUsIHRoaXMpO1xuICAgICAgUHJvcGVydHlEaXNwYXRjaGVyLl9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsIHN1YnNjcmliZSwgaGFuZGxlRXZlbnQpO1xuICAgICAgdGhpcy5jdXJyZW50ID0gTm9uZTtcbiAgICAgIHRoaXMuY3VycmVudFZhbHVlUm9vdElkID0gdm9pZCAwO1xuICAgICAgdGhpcy5wcm9wZXJ0eUVuZGVkID0gZmFsc2U7XG4gICAgfVxuXG4gICAgUHJvcGVydHlEaXNwYXRjaGVyLnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgIGlmIChldmVudC5pc0VuZCgpKSB7XG4gICAgICAgIHRoaXMucHJvcGVydHlFbmRlZCA9IHRydWU7XG4gICAgICB9XG4gICAgICBpZiAoZXZlbnQuaGFzVmFsdWUoKSkge1xuICAgICAgICB0aGlzLmN1cnJlbnQgPSBuZXcgU29tZShldmVudCk7XG4gICAgICAgIHRoaXMuY3VycmVudFZhbHVlUm9vdElkID0gVXBkYXRlQmFycmllci5jdXJyZW50RXZlbnRJZCgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFByb3BlcnR5RGlzcGF0Y2hlci5fX3N1cGVyX18ucHVzaC5jYWxsKHRoaXMsIGV2ZW50KTtcbiAgICB9O1xuXG4gICAgUHJvcGVydHlEaXNwYXRjaGVyLnByb3RvdHlwZS5tYXliZVN1YlNvdXJjZSA9IGZ1bmN0aW9uKHNpbmssIHJlcGx5KSB7XG4gICAgICBpZiAocmVwbHkgPT09IEJhY29uLm5vTW9yZSkge1xuICAgICAgICByZXR1cm4gbm9wO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLnByb3BlcnR5RW5kZWQpIHtcbiAgICAgICAgc2luayhlbmRFdmVudCgpKTtcbiAgICAgICAgcmV0dXJuIG5vcDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBEaXNwYXRjaGVyLnByb3RvdHlwZS5zdWJzY3JpYmUuY2FsbCh0aGlzLCBzaW5rKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgUHJvcGVydHlEaXNwYXRjaGVyLnByb3RvdHlwZS5zdWJzY3JpYmUgPSBmdW5jdGlvbihzaW5rKSB7XG4gICAgICB2YXIgZGlzcGF0Y2hpbmdJZCwgaW5pdFNlbnQsIHJlcGx5LCB2YWxJZDtcbiAgICAgIGluaXRTZW50ID0gZmFsc2U7XG4gICAgICByZXBseSA9IEJhY29uLm1vcmU7XG4gICAgICBpZiAodGhpcy5jdXJyZW50LmlzRGVmaW5lZCAmJiAodGhpcy5oYXNTdWJzY3JpYmVycygpIHx8IHRoaXMucHJvcGVydHlFbmRlZCkpIHtcbiAgICAgICAgZGlzcGF0Y2hpbmdJZCA9IFVwZGF0ZUJhcnJpZXIuY3VycmVudEV2ZW50SWQoKTtcbiAgICAgICAgdmFsSWQgPSB0aGlzLmN1cnJlbnRWYWx1ZVJvb3RJZDtcbiAgICAgICAgaWYgKCF0aGlzLnByb3BlcnR5RW5kZWQgJiYgdmFsSWQgJiYgZGlzcGF0Y2hpbmdJZCAmJiBkaXNwYXRjaGluZ0lkICE9PSB2YWxJZCkge1xuICAgICAgICAgIFVwZGF0ZUJhcnJpZXIud2hlbkRvbmVXaXRoKHRoaXMucHJvcGVydHksIChmdW5jdGlvbihfdGhpcykge1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBpZiAoX3RoaXMuY3VycmVudFZhbHVlUm9vdElkID09PSB2YWxJZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzaW5rKGluaXRpYWxFdmVudChfdGhpcy5jdXJyZW50LmdldCgpLnZhbHVlKCkpKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9KSh0aGlzKSk7XG4gICAgICAgICAgcmV0dXJuIHRoaXMubWF5YmVTdWJTb3VyY2Uoc2luaywgcmVwbHkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIFVwZGF0ZUJhcnJpZXIuaW5UcmFuc2FjdGlvbih2b2lkIDAsIHRoaXMsIChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiByZXBseSA9IHNpbmsoaW5pdGlhbEV2ZW50KHRoaXMuY3VycmVudC5nZXQoKS52YWx1ZSgpKSk7XG4gICAgICAgICAgfSksIFtdKTtcbiAgICAgICAgICByZXR1cm4gdGhpcy5tYXliZVN1YlNvdXJjZShzaW5rLCByZXBseSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1heWJlU3ViU291cmNlKHNpbmssIHJlcGx5KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIFByb3BlcnR5RGlzcGF0Y2hlcjtcblxuICB9KShEaXNwYXRjaGVyKTtcblxuICBQcm9wZXJ0eSA9IChmdW5jdGlvbihzdXBlckNsYXNzKSB7XG4gICAgZXh0ZW5kKFByb3BlcnR5LCBzdXBlckNsYXNzKTtcblxuICAgIGZ1bmN0aW9uIFByb3BlcnR5KGRlc2MsIHN1YnNjcmliZSwgaGFuZGxlcikge1xuICAgICAgUHJvcGVydHkuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmNhbGwodGhpcywgZGVzYyk7XG4gICAgICBhc3NlcnRGdW5jdGlvbihzdWJzY3JpYmUpO1xuICAgICAgdGhpcy5kaXNwYXRjaGVyID0gbmV3IFByb3BlcnR5RGlzcGF0Y2hlcih0aGlzLCBzdWJzY3JpYmUsIGhhbmRsZXIpO1xuICAgICAgcmVnaXN0ZXJPYnModGhpcyk7XG4gICAgfVxuXG4gICAgUHJvcGVydHkucHJvdG90eXBlLmNoYW5nZXMgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBuZXcgRXZlbnRTdHJlYW0obmV3IEJhY29uLkRlc2ModGhpcywgXCJjaGFuZ2VzXCIsIFtdKSwgKGZ1bmN0aW9uKF90aGlzKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbihzaW5rKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzLmRpc3BhdGNoZXIuc3Vic2NyaWJlKGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICBpZiAoIWV2ZW50LmlzSW5pdGlhbCgpKSB7XG4gICAgICAgICAgICAgIHJldHVybiBzaW5rKGV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgIH0pKHRoaXMpKTtcbiAgICB9O1xuXG4gICAgUHJvcGVydHkucHJvdG90eXBlLndpdGhIYW5kbGVyID0gZnVuY3Rpb24oaGFuZGxlcikge1xuICAgICAgcmV0dXJuIG5ldyBQcm9wZXJ0eShuZXcgQmFjb24uRGVzYyh0aGlzLCBcIndpdGhIYW5kbGVyXCIsIFtoYW5kbGVyXSksIHRoaXMuZGlzcGF0Y2hlci5zdWJzY3JpYmUsIGhhbmRsZXIpO1xuICAgIH07XG5cbiAgICBQcm9wZXJ0eS5wcm90b3R5cGUudG9Qcm9wZXJ0eSA9IGZ1bmN0aW9uKCkge1xuICAgICAgYXNzZXJ0Tm9Bcmd1bWVudHMoYXJndW1lbnRzKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICBQcm9wZXJ0eS5wcm90b3R5cGUudG9FdmVudFN0cmVhbSA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIG5ldyBFdmVudFN0cmVhbShuZXcgQmFjb24uRGVzYyh0aGlzLCBcInRvRXZlbnRTdHJlYW1cIiwgW10pLCAoZnVuY3Rpb24oX3RoaXMpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKHNpbmspIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMuZGlzcGF0Y2hlci5zdWJzY3JpYmUoZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIGlmIChldmVudC5pc0luaXRpYWwoKSkge1xuICAgICAgICAgICAgICBldmVudCA9IGV2ZW50LnRvTmV4dCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHNpbmsoZXZlbnQpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgfSkodGhpcykpO1xuICAgIH07XG5cbiAgICByZXR1cm4gUHJvcGVydHk7XG5cbiAgfSkoT2JzZXJ2YWJsZSk7XG5cbiAgQmFjb24uUHJvcGVydHkgPSBQcm9wZXJ0eTtcblxuICBCYWNvbi5jb25zdGFudCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9wZXJ0eShuZXcgQmFjb24uRGVzYyhCYWNvbiwgXCJjb25zdGFudFwiLCBbdmFsdWVdKSwgZnVuY3Rpb24oc2luaykge1xuICAgICAgc2luayhpbml0aWFsRXZlbnQodmFsdWUpKTtcbiAgICAgIHNpbmsoZW5kRXZlbnQoKSk7XG4gICAgICByZXR1cm4gbm9wO1xuICAgIH0pO1xuICB9O1xuXG4gIEJhY29uLmZyb21CaW5kZXIgPSBmdW5jdGlvbihiaW5kZXIsIGV2ZW50VHJhbnNmb3JtZXIpIHtcbiAgICBpZiAoZXZlbnRUcmFuc2Zvcm1lciA9PSBudWxsKSB7XG4gICAgICBldmVudFRyYW5zZm9ybWVyID0gXy5pZDtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBFdmVudFN0cmVhbShuZXcgQmFjb24uRGVzYyhCYWNvbiwgXCJmcm9tQmluZGVyXCIsIFtiaW5kZXIsIGV2ZW50VHJhbnNmb3JtZXJdKSwgZnVuY3Rpb24oc2luaykge1xuICAgICAgdmFyIHNob3VsZFVuYmluZCwgdW5iaW5kLCB1bmJpbmRlciwgdW5ib3VuZDtcbiAgICAgIHVuYm91bmQgPSBmYWxzZTtcbiAgICAgIHNob3VsZFVuYmluZCA9IGZhbHNlO1xuICAgICAgdW5iaW5kID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICghdW5ib3VuZCkge1xuICAgICAgICAgIGlmICh0eXBlb2YgdW5iaW5kZXIgIT09IFwidW5kZWZpbmVkXCIgJiYgdW5iaW5kZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHVuYmluZGVyKCk7XG4gICAgICAgICAgICByZXR1cm4gdW5ib3VuZCA9IHRydWU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBzaG91bGRVbmJpbmQgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHVuYmluZGVyID0gYmluZGVyKGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgYXJncywgZXZlbnQsIGosIGxlbjEsIHJlcGx5LCB2YWx1ZTtcbiAgICAgICAgYXJncyA9IDEgPD0gYXJndW1lbnRzLmxlbmd0aCA/IHNsaWNlLmNhbGwoYXJndW1lbnRzLCAwKSA6IFtdO1xuICAgICAgICB2YWx1ZSA9IGV2ZW50VHJhbnNmb3JtZXIuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgIGlmICghKGlzQXJyYXkodmFsdWUpICYmIF8ubGFzdCh2YWx1ZSkgaW5zdGFuY2VvZiBFdmVudCkpIHtcbiAgICAgICAgICB2YWx1ZSA9IFt2YWx1ZV07XG4gICAgICAgIH1cbiAgICAgICAgcmVwbHkgPSBCYWNvbi5tb3JlO1xuICAgICAgICBmb3IgKGogPSAwLCBsZW4xID0gdmFsdWUubGVuZ3RoOyBqIDwgbGVuMTsgaisrKSB7XG4gICAgICAgICAgZXZlbnQgPSB2YWx1ZVtqXTtcbiAgICAgICAgICByZXBseSA9IHNpbmsoZXZlbnQgPSB0b0V2ZW50KGV2ZW50KSk7XG4gICAgICAgICAgaWYgKHJlcGx5ID09PSBCYWNvbi5ub01vcmUgfHwgZXZlbnQuaXNFbmQoKSkge1xuICAgICAgICAgICAgdW5iaW5kKCk7XG4gICAgICAgICAgICByZXR1cm4gcmVwbHk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXBseTtcbiAgICAgIH0pO1xuICAgICAgaWYgKHNob3VsZFVuYmluZCkge1xuICAgICAgICB1bmJpbmQoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB1bmJpbmQ7XG4gICAgfSk7XG4gIH07XG5cbiAgZXZlbnRNZXRob2RzID0gW1tcImFkZEV2ZW50TGlzdGVuZXJcIiwgXCJyZW1vdmVFdmVudExpc3RlbmVyXCJdLCBbXCJhZGRMaXN0ZW5lclwiLCBcInJlbW92ZUxpc3RlbmVyXCJdLCBbXCJvblwiLCBcIm9mZlwiXSwgW1wiYmluZFwiLCBcInVuYmluZFwiXV07XG5cbiAgZmluZEhhbmRsZXJNZXRob2RzID0gZnVuY3Rpb24odGFyZ2V0KSB7XG4gICAgdmFyIGosIGxlbjEsIG1ldGhvZFBhaXIsIHBhaXI7XG4gICAgZm9yIChqID0gMCwgbGVuMSA9IGV2ZW50TWV0aG9kcy5sZW5ndGg7IGogPCBsZW4xOyBqKyspIHtcbiAgICAgIHBhaXIgPSBldmVudE1ldGhvZHNbal07XG4gICAgICBtZXRob2RQYWlyID0gW3RhcmdldFtwYWlyWzBdXSwgdGFyZ2V0W3BhaXJbMV1dXTtcbiAgICAgIGlmIChtZXRob2RQYWlyWzBdICYmIG1ldGhvZFBhaXJbMV0pIHtcbiAgICAgICAgcmV0dXJuIG1ldGhvZFBhaXI7XG4gICAgICB9XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihcIk5vIHN1aXRhYmxlIGV2ZW50IG1ldGhvZHMgaW4gXCIgKyB0YXJnZXQpO1xuICB9O1xuXG4gIEJhY29uLmZyb21FdmVudFRhcmdldCA9IGZ1bmN0aW9uKHRhcmdldCwgZXZlbnROYW1lLCBldmVudFRyYW5zZm9ybWVyKSB7XG4gICAgdmFyIHJlZiwgc3ViLCB1bnN1YjtcbiAgICByZWYgPSBmaW5kSGFuZGxlck1ldGhvZHModGFyZ2V0KSwgc3ViID0gcmVmWzBdLCB1bnN1YiA9IHJlZlsxXTtcbiAgICByZXR1cm4gd2l0aERlc2MobmV3IEJhY29uLkRlc2MoQmFjb24sIFwiZnJvbUV2ZW50XCIsIFt0YXJnZXQsIGV2ZW50TmFtZV0pLCBCYWNvbi5mcm9tQmluZGVyKGZ1bmN0aW9uKGhhbmRsZXIpIHtcbiAgICAgIHN1Yi5jYWxsKHRhcmdldCwgZXZlbnROYW1lLCBoYW5kbGVyKTtcbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHVuc3ViLmNhbGwodGFyZ2V0LCBldmVudE5hbWUsIGhhbmRsZXIpO1xuICAgICAgfTtcbiAgICB9LCBldmVudFRyYW5zZm9ybWVyKSk7XG4gIH07XG5cbiAgQmFjb24uZnJvbUV2ZW50ID0gQmFjb24uZnJvbUV2ZW50VGFyZ2V0O1xuXG4gIEJhY29uLk9ic2VydmFibGUucHJvdG90eXBlLm1hcCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBhcmdzLCBwO1xuICAgIHAgPSBhcmd1bWVudHNbMF0sIGFyZ3MgPSAyIDw9IGFyZ3VtZW50cy5sZW5ndGggPyBzbGljZS5jYWxsKGFyZ3VtZW50cywgMSkgOiBbXTtcbiAgICByZXR1cm4gY29udmVydEFyZ3NUb0Z1bmN0aW9uKHRoaXMsIHAsIGFyZ3MsIGZ1bmN0aW9uKGYpIHtcbiAgICAgIHJldHVybiB3aXRoRGVzYyhuZXcgQmFjb24uRGVzYyh0aGlzLCBcIm1hcFwiLCBbZl0pLCB0aGlzLndpdGhIYW5kbGVyKGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnB1c2goZXZlbnQuZm1hcChmKSk7XG4gICAgICB9KSk7XG4gICAgfSk7XG4gIH07XG5cbiAgYXJndW1lbnRzVG9PYnNlcnZhYmxlcyA9IGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICBpZiAoaXNBcnJheShhcmdzWzBdKSkge1xuICAgICAgcmV0dXJuIGFyZ3NbMF07XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmdzKTtcbiAgICB9XG4gIH07XG5cbiAgYXJndW1lbnRzVG9PYnNlcnZhYmxlc0FuZEZ1bmN0aW9uID0gZnVuY3Rpb24oYXJncykge1xuICAgIGlmIChfLmlzRnVuY3Rpb24oYXJnc1swXSkpIHtcbiAgICAgIHJldHVybiBbYXJndW1lbnRzVG9PYnNlcnZhYmxlcyhBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmdzLCAxKSksIGFyZ3NbMF1dO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gW2FyZ3VtZW50c1RvT2JzZXJ2YWJsZXMoQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJncywgMCwgYXJncy5sZW5ndGggLSAxKSksIF8ubGFzdChhcmdzKV07XG4gICAgfVxuICB9O1xuXG4gIEJhY29uLmNvbWJpbmVBc0FycmF5ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGluZGV4LCBqLCBsZW4xLCBzLCBzb3VyY2VzLCBzdHJlYW0sIHN0cmVhbXM7XG4gICAgc3RyZWFtcyA9IGFyZ3VtZW50c1RvT2JzZXJ2YWJsZXMoYXJndW1lbnRzKTtcbiAgICBmb3IgKGluZGV4ID0gaiA9IDAsIGxlbjEgPSBzdHJlYW1zLmxlbmd0aDsgaiA8IGxlbjE7IGluZGV4ID0gKytqKSB7XG4gICAgICBzdHJlYW0gPSBzdHJlYW1zW2luZGV4XTtcbiAgICAgIGlmICghKGlzT2JzZXJ2YWJsZShzdHJlYW0pKSkge1xuICAgICAgICBzdHJlYW1zW2luZGV4XSA9IEJhY29uLmNvbnN0YW50KHN0cmVhbSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChzdHJlYW1zLmxlbmd0aCkge1xuICAgICAgc291cmNlcyA9IChmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGssIGxlbjIsIHJlc3VsdHM7XG4gICAgICAgIHJlc3VsdHMgPSBbXTtcbiAgICAgICAgZm9yIChrID0gMCwgbGVuMiA9IHN0cmVhbXMubGVuZ3RoOyBrIDwgbGVuMjsgaysrKSB7XG4gICAgICAgICAgcyA9IHN0cmVhbXNba107XG4gICAgICAgICAgcmVzdWx0cy5wdXNoKG5ldyBTb3VyY2UocywgdHJ1ZSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHRzO1xuICAgICAgfSkoKTtcbiAgICAgIHJldHVybiB3aXRoRGVzYyhuZXcgQmFjb24uRGVzYyhCYWNvbiwgXCJjb21iaW5lQXNBcnJheVwiLCBzdHJlYW1zKSwgQmFjb24ud2hlbihzb3VyY2VzLCAoZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciB4cztcbiAgICAgICAgeHMgPSAxIDw9IGFyZ3VtZW50cy5sZW5ndGggPyBzbGljZS5jYWxsKGFyZ3VtZW50cywgMCkgOiBbXTtcbiAgICAgICAgcmV0dXJuIHhzO1xuICAgICAgfSkpLnRvUHJvcGVydHkoKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBCYWNvbi5jb25zdGFudChbXSk7XG4gICAgfVxuICB9O1xuXG4gIEJhY29uLm9uVmFsdWVzID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGYsIGosIHN0cmVhbXM7XG4gICAgc3RyZWFtcyA9IDIgPD0gYXJndW1lbnRzLmxlbmd0aCA/IHNsaWNlLmNhbGwoYXJndW1lbnRzLCAwLCBqID0gYXJndW1lbnRzLmxlbmd0aCAtIDEpIDogKGogPSAwLCBbXSksIGYgPSBhcmd1bWVudHNbaisrXTtcbiAgICByZXR1cm4gQmFjb24uY29tYmluZUFzQXJyYXkoc3RyZWFtcykub25WYWx1ZXMoZik7XG4gIH07XG5cbiAgQmFjb24uY29tYmluZVdpdGggPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgZiwgcmVmLCBzdHJlYW1zO1xuICAgIHJlZiA9IGFyZ3VtZW50c1RvT2JzZXJ2YWJsZXNBbmRGdW5jdGlvbihhcmd1bWVudHMpLCBzdHJlYW1zID0gcmVmWzBdLCBmID0gcmVmWzFdO1xuICAgIHJldHVybiB3aXRoRGVzYyhuZXcgQmFjb24uRGVzYyhCYWNvbiwgXCJjb21iaW5lV2l0aFwiLCBbZl0uY29uY2F0KHNsaWNlLmNhbGwoc3RyZWFtcykpKSwgQmFjb24uY29tYmluZUFzQXJyYXkoc3RyZWFtcykubWFwKGZ1bmN0aW9uKHZhbHVlcykge1xuICAgICAgcmV0dXJuIGYuYXBwbHkobnVsbCwgdmFsdWVzKTtcbiAgICB9KSk7XG4gIH07XG5cbiAgQmFjb24uT2JzZXJ2YWJsZS5wcm90b3R5cGUuY29tYmluZSA9IGZ1bmN0aW9uKG90aGVyLCBmKSB7XG4gICAgdmFyIGNvbWJpbmF0b3I7XG4gICAgY29tYmluYXRvciA9IHRvQ29tYmluYXRvcihmKTtcbiAgICByZXR1cm4gd2l0aERlc2MobmV3IEJhY29uLkRlc2ModGhpcywgXCJjb21iaW5lXCIsIFtvdGhlciwgZl0pLCBCYWNvbi5jb21iaW5lQXNBcnJheSh0aGlzLCBvdGhlcikubWFwKGZ1bmN0aW9uKHZhbHVlcykge1xuICAgICAgcmV0dXJuIGNvbWJpbmF0b3IodmFsdWVzWzBdLCB2YWx1ZXNbMV0pO1xuICAgIH0pKTtcbiAgfTtcblxuICBCYWNvbi5PYnNlcnZhYmxlLnByb3RvdHlwZS53aXRoU3RhdGVNYWNoaW5lID0gZnVuY3Rpb24oaW5pdFN0YXRlLCBmKSB7XG4gICAgdmFyIHN0YXRlO1xuICAgIHN0YXRlID0gaW5pdFN0YXRlO1xuICAgIHJldHVybiB3aXRoRGVzYyhuZXcgQmFjb24uRGVzYyh0aGlzLCBcIndpdGhTdGF0ZU1hY2hpbmVcIiwgW2luaXRTdGF0ZSwgZl0pLCB0aGlzLndpdGhIYW5kbGVyKGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICB2YXIgZnJvbUYsIGosIGxlbjEsIG5ld1N0YXRlLCBvdXRwdXQsIG91dHB1dHMsIHJlcGx5O1xuICAgICAgZnJvbUYgPSBmKHN0YXRlLCBldmVudCk7XG4gICAgICBuZXdTdGF0ZSA9IGZyb21GWzBdLCBvdXRwdXRzID0gZnJvbUZbMV07XG4gICAgICBzdGF0ZSA9IG5ld1N0YXRlO1xuICAgICAgcmVwbHkgPSBCYWNvbi5tb3JlO1xuICAgICAgZm9yIChqID0gMCwgbGVuMSA9IG91dHB1dHMubGVuZ3RoOyBqIDwgbGVuMTsgaisrKSB7XG4gICAgICAgIG91dHB1dCA9IG91dHB1dHNbal07XG4gICAgICAgIHJlcGx5ID0gdGhpcy5wdXNoKG91dHB1dCk7XG4gICAgICAgIGlmIChyZXBseSA9PT0gQmFjb24ubm9Nb3JlKSB7XG4gICAgICAgICAgcmV0dXJuIHJlcGx5O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVwbHk7XG4gICAgfSkpO1xuICB9O1xuXG4gIEJhY29uLk9ic2VydmFibGUucHJvdG90eXBlLnNraXBEdXBsaWNhdGVzID0gZnVuY3Rpb24oaXNFcXVhbCkge1xuICAgIGlmIChpc0VxdWFsID09IG51bGwpIHtcbiAgICAgIGlzRXF1YWwgPSBmdW5jdGlvbihhLCBiKSB7XG4gICAgICAgIHJldHVybiBhID09PSBiO1xuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHdpdGhEZXNjKG5ldyBCYWNvbi5EZXNjKHRoaXMsIFwic2tpcER1cGxpY2F0ZXNcIiwgW10pLCB0aGlzLndpdGhTdGF0ZU1hY2hpbmUoTm9uZSwgZnVuY3Rpb24ocHJldiwgZXZlbnQpIHtcbiAgICAgIGlmICghZXZlbnQuaGFzVmFsdWUoKSkge1xuICAgICAgICByZXR1cm4gW3ByZXYsIFtldmVudF1dO1xuICAgICAgfSBlbHNlIGlmIChldmVudC5pc0luaXRpYWwoKSB8fCBwcmV2ID09PSBOb25lIHx8ICFpc0VxdWFsKHByZXYuZ2V0KCksIGV2ZW50LnZhbHVlKCkpKSB7XG4gICAgICAgIHJldHVybiBbbmV3IFNvbWUoZXZlbnQudmFsdWUoKSksIFtldmVudF1dO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFtwcmV2LCBbXV07XG4gICAgICB9XG4gICAgfSkpO1xuICB9O1xuXG4gIEJhY29uLk9ic2VydmFibGUucHJvdG90eXBlLmF3YWl0aW5nID0gZnVuY3Rpb24ob3RoZXIpIHtcbiAgICByZXR1cm4gd2l0aERlc2MobmV3IEJhY29uLkRlc2ModGhpcywgXCJhd2FpdGluZ1wiLCBbb3RoZXJdKSwgQmFjb24uZ3JvdXBTaW11bHRhbmVvdXModGhpcywgb3RoZXIpLm1hcChmdW5jdGlvbihhcmcpIHtcbiAgICAgIHZhciBteVZhbHVlcywgb3RoZXJWYWx1ZXM7XG4gICAgICBteVZhbHVlcyA9IGFyZ1swXSwgb3RoZXJWYWx1ZXMgPSBhcmdbMV07XG4gICAgICByZXR1cm4gb3RoZXJWYWx1ZXMubGVuZ3RoID09PSAwO1xuICAgIH0pLnRvUHJvcGVydHkoZmFsc2UpLnNraXBEdXBsaWNhdGVzKCkpO1xuICB9O1xuXG4gIEJhY29uLk9ic2VydmFibGUucHJvdG90eXBlLm5vdCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB3aXRoRGVzYyhuZXcgQmFjb24uRGVzYyh0aGlzLCBcIm5vdFwiLCBbXSksIHRoaXMubWFwKGZ1bmN0aW9uKHgpIHtcbiAgICAgIHJldHVybiAheDtcbiAgICB9KSk7XG4gIH07XG5cbiAgQmFjb24uUHJvcGVydHkucHJvdG90eXBlLmFuZCA9IGZ1bmN0aW9uKG90aGVyKSB7XG4gICAgcmV0dXJuIHdpdGhEZXNjKG5ldyBCYWNvbi5EZXNjKHRoaXMsIFwiYW5kXCIsIFtvdGhlcl0pLCB0aGlzLmNvbWJpbmUob3RoZXIsIGZ1bmN0aW9uKHgsIHkpIHtcbiAgICAgIHJldHVybiB4ICYmIHk7XG4gICAgfSkpO1xuICB9O1xuXG4gIEJhY29uLlByb3BlcnR5LnByb3RvdHlwZS5vciA9IGZ1bmN0aW9uKG90aGVyKSB7XG4gICAgcmV0dXJuIHdpdGhEZXNjKG5ldyBCYWNvbi5EZXNjKHRoaXMsIFwib3JcIiwgW290aGVyXSksIHRoaXMuY29tYmluZShvdGhlciwgZnVuY3Rpb24oeCwgeSkge1xuICAgICAgcmV0dXJuIHggfHwgeTtcbiAgICB9KSk7XG4gIH07XG5cbiAgQmFjb24uc2NoZWR1bGVyID0ge1xuICAgIHNldFRpbWVvdXQ6IGZ1bmN0aW9uKGYsIGQpIHtcbiAgICAgIHJldHVybiBzZXRUaW1lb3V0KGYsIGQpO1xuICAgIH0sXG4gICAgc2V0SW50ZXJ2YWw6IGZ1bmN0aW9uKGYsIGkpIHtcbiAgICAgIHJldHVybiBzZXRJbnRlcnZhbChmLCBpKTtcbiAgICB9LFxuICAgIGNsZWFySW50ZXJ2YWw6IGZ1bmN0aW9uKGlkKSB7XG4gICAgICByZXR1cm4gY2xlYXJJbnRlcnZhbChpZCk7XG4gICAgfSxcbiAgICBjbGVhclRpbWVvdXQ6IGZ1bmN0aW9uKGlkKSB7XG4gICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KGlkKTtcbiAgICB9LFxuICAgIG5vdzogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgfVxuICB9O1xuXG4gIEJhY29uLkV2ZW50U3RyZWFtLnByb3RvdHlwZS5idWZmZXJXaXRoVGltZSA9IGZ1bmN0aW9uKGRlbGF5KSB7XG4gICAgcmV0dXJuIHdpdGhEZXNjKG5ldyBCYWNvbi5EZXNjKHRoaXMsIFwiYnVmZmVyV2l0aFRpbWVcIiwgW2RlbGF5XSksIHRoaXMuYnVmZmVyV2l0aFRpbWVPckNvdW50KGRlbGF5LCBOdW1iZXIuTUFYX1ZBTFVFKSk7XG4gIH07XG5cbiAgQmFjb24uRXZlbnRTdHJlYW0ucHJvdG90eXBlLmJ1ZmZlcldpdGhDb3VudCA9IGZ1bmN0aW9uKGNvdW50KSB7XG4gICAgcmV0dXJuIHdpdGhEZXNjKG5ldyBCYWNvbi5EZXNjKHRoaXMsIFwiYnVmZmVyV2l0aENvdW50XCIsIFtjb3VudF0pLCB0aGlzLmJ1ZmZlcldpdGhUaW1lT3JDb3VudCh2b2lkIDAsIGNvdW50KSk7XG4gIH07XG5cbiAgQmFjb24uRXZlbnRTdHJlYW0ucHJvdG90eXBlLmJ1ZmZlcldpdGhUaW1lT3JDb3VudCA9IGZ1bmN0aW9uKGRlbGF5LCBjb3VudCkge1xuICAgIHZhciBmbHVzaE9yU2NoZWR1bGU7XG4gICAgZmx1c2hPclNjaGVkdWxlID0gZnVuY3Rpb24oYnVmZmVyKSB7XG4gICAgICBpZiAoYnVmZmVyLnZhbHVlcy5sZW5ndGggPT09IGNvdW50KSB7XG4gICAgICAgIHJldHVybiBidWZmZXIuZmx1c2goKTtcbiAgICAgIH0gZWxzZSBpZiAoZGVsYXkgIT09IHZvaWQgMCkge1xuICAgICAgICByZXR1cm4gYnVmZmVyLnNjaGVkdWxlKCk7XG4gICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gd2l0aERlc2MobmV3IEJhY29uLkRlc2ModGhpcywgXCJidWZmZXJXaXRoVGltZU9yQ291bnRcIiwgW2RlbGF5LCBjb3VudF0pLCB0aGlzLmJ1ZmZlcihkZWxheSwgZmx1c2hPclNjaGVkdWxlLCBmbHVzaE9yU2NoZWR1bGUpKTtcbiAgfTtcblxuICBCYWNvbi5FdmVudFN0cmVhbS5wcm90b3R5cGUuYnVmZmVyID0gZnVuY3Rpb24oZGVsYXksIG9uSW5wdXQsIG9uRmx1c2gpIHtcbiAgICB2YXIgYnVmZmVyLCBkZWxheU1zLCByZXBseTtcbiAgICBpZiAob25JbnB1dCA9PSBudWxsKSB7XG4gICAgICBvbklucHV0ID0gbm9wO1xuICAgIH1cbiAgICBpZiAob25GbHVzaCA9PSBudWxsKSB7XG4gICAgICBvbkZsdXNoID0gbm9wO1xuICAgIH1cbiAgICBidWZmZXIgPSB7XG4gICAgICBzY2hlZHVsZWQ6IG51bGwsXG4gICAgICBlbmQ6IHZvaWQgMCxcbiAgICAgIHZhbHVlczogW10sXG4gICAgICBmbHVzaDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciByZXBseSwgdmFsdWVzVG9QdXNoO1xuICAgICAgICBpZiAodGhpcy5zY2hlZHVsZWQpIHtcbiAgICAgICAgICBCYWNvbi5zY2hlZHVsZXIuY2xlYXJUaW1lb3V0KHRoaXMuc2NoZWR1bGVkKTtcbiAgICAgICAgICB0aGlzLnNjaGVkdWxlZCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMudmFsdWVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICB2YWx1ZXNUb1B1c2ggPSB0aGlzLnZhbHVlcztcbiAgICAgICAgICB0aGlzLnZhbHVlcyA9IFtdO1xuICAgICAgICAgIHJlcGx5ID0gdGhpcy5wdXNoKG5leHRFdmVudCh2YWx1ZXNUb1B1c2gpKTtcbiAgICAgICAgICBpZiAodGhpcy5lbmQgIT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucHVzaCh0aGlzLmVuZCk7XG4gICAgICAgICAgfSBlbHNlIGlmIChyZXBseSAhPT0gQmFjb24ubm9Nb3JlKSB7XG4gICAgICAgICAgICByZXR1cm4gb25GbHVzaCh0aGlzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKHRoaXMuZW5kICE9IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnB1c2godGhpcy5lbmQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHNjaGVkdWxlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCF0aGlzLnNjaGVkdWxlZCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLnNjaGVkdWxlZCA9IGRlbGF5KChmdW5jdGlvbihfdGhpcykge1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuZmx1c2goKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSkodGhpcykpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICByZXBseSA9IEJhY29uLm1vcmU7XG4gICAgaWYgKCFfLmlzRnVuY3Rpb24oZGVsYXkpKSB7XG4gICAgICBkZWxheU1zID0gZGVsYXk7XG4gICAgICBkZWxheSA9IGZ1bmN0aW9uKGYpIHtcbiAgICAgICAgcmV0dXJuIEJhY29uLnNjaGVkdWxlci5zZXRUaW1lb3V0KGYsIGRlbGF5TXMpO1xuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHdpdGhEZXNjKG5ldyBCYWNvbi5EZXNjKHRoaXMsIFwiYnVmZmVyXCIsIFtdKSwgdGhpcy53aXRoSGFuZGxlcihmdW5jdGlvbihldmVudCkge1xuICAgICAgYnVmZmVyLnB1c2ggPSAoZnVuY3Rpb24oX3RoaXMpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzLnB1c2goZXZlbnQpO1xuICAgICAgICB9O1xuICAgICAgfSkodGhpcyk7XG4gICAgICBpZiAoZXZlbnQuaXNFcnJvcigpKSB7XG4gICAgICAgIHJlcGx5ID0gdGhpcy5wdXNoKGV2ZW50KTtcbiAgICAgIH0gZWxzZSBpZiAoZXZlbnQuaXNFbmQoKSkge1xuICAgICAgICBidWZmZXIuZW5kID0gZXZlbnQ7XG4gICAgICAgIGlmICghYnVmZmVyLnNjaGVkdWxlZCkge1xuICAgICAgICAgIGJ1ZmZlci5mbHVzaCgpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBidWZmZXIudmFsdWVzLnB1c2goZXZlbnQudmFsdWUoKSk7XG4gICAgICAgIG9uSW5wdXQoYnVmZmVyKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXBseTtcbiAgICB9KSk7XG4gIH07XG5cbiAgQmFjb24uT2JzZXJ2YWJsZS5wcm90b3R5cGUuZmlsdGVyID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGFyZ3MsIGY7XG4gICAgZiA9IGFyZ3VtZW50c1swXSwgYXJncyA9IDIgPD0gYXJndW1lbnRzLmxlbmd0aCA/IHNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSA6IFtdO1xuICAgIGFzc2VydE9ic2VydmFibGVJc1Byb3BlcnR5KGYpO1xuICAgIHJldHVybiBjb252ZXJ0QXJnc1RvRnVuY3Rpb24odGhpcywgZiwgYXJncywgZnVuY3Rpb24oZikge1xuICAgICAgcmV0dXJuIHdpdGhEZXNjKG5ldyBCYWNvbi5EZXNjKHRoaXMsIFwiZmlsdGVyXCIsIFtmXSksIHRoaXMud2l0aEhhbmRsZXIoZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgaWYgKGV2ZW50LmZpbHRlcihmKSkge1xuICAgICAgICAgIHJldHVybiB0aGlzLnB1c2goZXZlbnQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBCYWNvbi5tb3JlO1xuICAgICAgICB9XG4gICAgICB9KSk7XG4gICAgfSk7XG4gIH07XG5cbiAgQmFjb24ub25jZSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIG5ldyBFdmVudFN0cmVhbShuZXcgRGVzYyhCYWNvbiwgXCJvbmNlXCIsIFt2YWx1ZV0pLCBmdW5jdGlvbihzaW5rKSB7XG4gICAgICBzaW5rKHRvRXZlbnQodmFsdWUpKTtcbiAgICAgIHNpbmsoZW5kRXZlbnQoKSk7XG4gICAgICByZXR1cm4gbm9wO1xuICAgIH0pO1xuICB9O1xuXG4gIEJhY29uLkV2ZW50U3RyZWFtLnByb3RvdHlwZS5jb25jYXQgPSBmdW5jdGlvbihyaWdodCkge1xuICAgIHZhciBsZWZ0O1xuICAgIGxlZnQgPSB0aGlzO1xuICAgIHJldHVybiBuZXcgRXZlbnRTdHJlYW0obmV3IEJhY29uLkRlc2MobGVmdCwgXCJjb25jYXRcIiwgW3JpZ2h0XSksIGZ1bmN0aW9uKHNpbmspIHtcbiAgICAgIHZhciB1bnN1YkxlZnQsIHVuc3ViUmlnaHQ7XG4gICAgICB1bnN1YlJpZ2h0ID0gbm9wO1xuICAgICAgdW5zdWJMZWZ0ID0gbGVmdC5kaXNwYXRjaGVyLnN1YnNjcmliZShmdW5jdGlvbihlKSB7XG4gICAgICAgIGlmIChlLmlzRW5kKCkpIHtcbiAgICAgICAgICByZXR1cm4gdW5zdWJSaWdodCA9IHJpZ2h0LmRpc3BhdGNoZXIuc3Vic2NyaWJlKHNpbmspO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBzaW5rKGUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgdW5zdWJMZWZ0KCk7XG4gICAgICAgIHJldHVybiB1bnN1YlJpZ2h0KCk7XG4gICAgICB9O1xuICAgIH0pO1xuICB9O1xuXG4gIEJhY29uLk9ic2VydmFibGUucHJvdG90eXBlLmZsYXRNYXAgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZmxhdE1hcF8odGhpcywgbWFrZVNwYXduZXIoYXJndW1lbnRzKSk7XG4gIH07XG5cbiAgQmFjb24uT2JzZXJ2YWJsZS5wcm90b3R5cGUuZmxhdE1hcEZpcnN0ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGZsYXRNYXBfKHRoaXMsIG1ha2VTcGF3bmVyKGFyZ3VtZW50cyksIHRydWUpO1xuICB9O1xuXG4gIGZsYXRNYXBfID0gZnVuY3Rpb24ocm9vdCwgZiwgZmlyc3RPbmx5LCBsaW1pdCkge1xuICAgIHZhciBjaGlsZERlcHMsIHJlc3VsdCwgcm9vdERlcDtcbiAgICByb290RGVwID0gW3Jvb3RdO1xuICAgIGNoaWxkRGVwcyA9IFtdO1xuICAgIHJlc3VsdCA9IG5ldyBFdmVudFN0cmVhbShuZXcgQmFjb24uRGVzYyhyb290LCBcImZsYXRNYXBcIiArIChmaXJzdE9ubHkgPyBcIkZpcnN0XCIgOiBcIlwiKSwgW2ZdKSwgZnVuY3Rpb24oc2luaykge1xuICAgICAgdmFyIGNoZWNrRW5kLCBjaGVja1F1ZXVlLCBjb21wb3NpdGUsIHF1ZXVlLCBzcGF3bjtcbiAgICAgIGNvbXBvc2l0ZSA9IG5ldyBDb21wb3NpdGVVbnN1YnNjcmliZSgpO1xuICAgICAgcXVldWUgPSBbXTtcbiAgICAgIHNwYXduID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgdmFyIGNoaWxkO1xuICAgICAgICBjaGlsZCA9IG1ha2VPYnNlcnZhYmxlKGYoZXZlbnQudmFsdWUoKSkpO1xuICAgICAgICBjaGlsZERlcHMucHVzaChjaGlsZCk7XG4gICAgICAgIHJldHVybiBjb21wb3NpdGUuYWRkKGZ1bmN0aW9uKHVuc3ViQWxsLCB1bnN1Yk1lKSB7XG4gICAgICAgICAgcmV0dXJuIGNoaWxkLmRpc3BhdGNoZXIuc3Vic2NyaWJlKGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICB2YXIgcmVwbHk7XG4gICAgICAgICAgICBpZiAoZXZlbnQuaXNFbmQoKSkge1xuICAgICAgICAgICAgICBfLnJlbW92ZShjaGlsZCwgY2hpbGREZXBzKTtcbiAgICAgICAgICAgICAgY2hlY2tRdWV1ZSgpO1xuICAgICAgICAgICAgICBjaGVja0VuZCh1bnN1Yk1lKTtcbiAgICAgICAgICAgICAgcmV0dXJuIEJhY29uLm5vTW9yZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGlmIChldmVudCBpbnN0YW5jZW9mIEluaXRpYWwpIHtcbiAgICAgICAgICAgICAgICBldmVudCA9IGV2ZW50LnRvTmV4dCgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJlcGx5ID0gc2luayhldmVudCk7XG4gICAgICAgICAgICAgIGlmIChyZXBseSA9PT0gQmFjb24ubm9Nb3JlKSB7XG4gICAgICAgICAgICAgICAgdW5zdWJBbGwoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gcmVwbHk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICAgIGNoZWNrUXVldWUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGV2ZW50O1xuICAgICAgICBldmVudCA9IHF1ZXVlLnNoaWZ0KCk7XG4gICAgICAgIGlmIChldmVudCkge1xuICAgICAgICAgIHJldHVybiBzcGF3bihldmVudCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBjaGVja0VuZCA9IGZ1bmN0aW9uKHVuc3ViKSB7XG4gICAgICAgIHVuc3ViKCk7XG4gICAgICAgIGlmIChjb21wb3NpdGUuZW1wdHkoKSkge1xuICAgICAgICAgIHJldHVybiBzaW5rKGVuZEV2ZW50KCkpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgY29tcG9zaXRlLmFkZChmdW5jdGlvbihfXywgdW5zdWJSb290KSB7XG4gICAgICAgIHJldHVybiByb290LmRpc3BhdGNoZXIuc3Vic2NyaWJlKGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgaWYgKGV2ZW50LmlzRW5kKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBjaGVja0VuZCh1bnN1YlJvb3QpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoZXZlbnQuaXNFcnJvcigpKSB7XG4gICAgICAgICAgICByZXR1cm4gc2luayhldmVudCk7XG4gICAgICAgICAgfSBlbHNlIGlmIChmaXJzdE9ubHkgJiYgY29tcG9zaXRlLmNvdW50KCkgPiAxKSB7XG4gICAgICAgICAgICByZXR1cm4gQmFjb24ubW9yZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKGNvbXBvc2l0ZS51bnN1YnNjcmliZWQpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIEJhY29uLm5vTW9yZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChsaW1pdCAmJiBjb21wb3NpdGUuY291bnQoKSA+IGxpbWl0KSB7XG4gICAgICAgICAgICAgIHJldHVybiBxdWV1ZS5wdXNoKGV2ZW50KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJldHVybiBzcGF3bihldmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGNvbXBvc2l0ZS51bnN1YnNjcmliZTtcbiAgICB9KTtcbiAgICByZXN1bHQuaW50ZXJuYWxEZXBzID0gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoY2hpbGREZXBzLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gcm9vdERlcC5jb25jYXQoY2hpbGREZXBzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiByb290RGVwO1xuICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICBtYWtlU3Bhd25lciA9IGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICBpZiAoYXJncy5sZW5ndGggPT09IDEgJiYgaXNPYnNlcnZhYmxlKGFyZ3NbMF0pKSB7XG4gICAgICByZXR1cm4gXy5hbHdheXMoYXJnc1swXSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBtYWtlRnVuY3Rpb25BcmdzKGFyZ3MpO1xuICAgIH1cbiAgfTtcblxuICBtYWtlT2JzZXJ2YWJsZSA9IGZ1bmN0aW9uKHgpIHtcbiAgICBpZiAoaXNPYnNlcnZhYmxlKHgpKSB7XG4gICAgICByZXR1cm4geDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIEJhY29uLm9uY2UoeCk7XG4gICAgfVxuICB9O1xuXG4gIEJhY29uLk9ic2VydmFibGUucHJvdG90eXBlLmZsYXRNYXBXaXRoQ29uY3VycmVuY3lMaW1pdCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBhcmdzLCBsaW1pdDtcbiAgICBsaW1pdCA9IGFyZ3VtZW50c1swXSwgYXJncyA9IDIgPD0gYXJndW1lbnRzLmxlbmd0aCA/IHNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSA6IFtdO1xuICAgIHJldHVybiB3aXRoRGVzYyhuZXcgQmFjb24uRGVzYyh0aGlzLCBcImZsYXRNYXBXaXRoQ29uY3VycmVuY3lMaW1pdFwiLCBbbGltaXRdLmNvbmNhdChzbGljZS5jYWxsKGFyZ3MpKSksIGZsYXRNYXBfKHRoaXMsIG1ha2VTcGF3bmVyKGFyZ3MpLCBmYWxzZSwgbGltaXQpKTtcbiAgfTtcblxuICBCYWNvbi5PYnNlcnZhYmxlLnByb3RvdHlwZS5mbGF0TWFwQ29uY2F0ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHdpdGhEZXNjKG5ldyBCYWNvbi5EZXNjKHRoaXMsIFwiZmxhdE1hcENvbmNhdFwiLCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDApKSwgdGhpcy5mbGF0TWFwV2l0aENvbmN1cnJlbmN5TGltaXQuYXBwbHkodGhpcywgWzFdLmNvbmNhdChzbGljZS5jYWxsKGFyZ3VtZW50cykpKSk7XG4gIH07XG5cbiAgQmFjb24ubGF0ZXIgPSBmdW5jdGlvbihkZWxheSwgdmFsdWUpIHtcbiAgICByZXR1cm4gd2l0aERlc2MobmV3IEJhY29uLkRlc2MoQmFjb24sIFwibGF0ZXJcIiwgW2RlbGF5LCB2YWx1ZV0pLCBCYWNvbi5mcm9tQmluZGVyKGZ1bmN0aW9uKHNpbmspIHtcbiAgICAgIHZhciBpZCwgc2VuZGVyO1xuICAgICAgc2VuZGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBzaW5rKFt2YWx1ZSwgZW5kRXZlbnQoKV0pO1xuICAgICAgfTtcbiAgICAgIGlkID0gQmFjb24uc2NoZWR1bGVyLnNldFRpbWVvdXQoc2VuZGVyLCBkZWxheSk7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBCYWNvbi5zY2hlZHVsZXIuY2xlYXJUaW1lb3V0KGlkKTtcbiAgICAgIH07XG4gICAgfSkpO1xuICB9O1xuXG4gIEJhY29uLk9ic2VydmFibGUucHJvdG90eXBlLmJ1ZmZlcmluZ1Rocm90dGxlID0gZnVuY3Rpb24obWluaW11bUludGVydmFsKSB7XG4gICAgcmV0dXJuIHdpdGhEZXNjKG5ldyBCYWNvbi5EZXNjKHRoaXMsIFwiYnVmZmVyaW5nVGhyb3R0bGVcIiwgW21pbmltdW1JbnRlcnZhbF0pLCB0aGlzLmZsYXRNYXBDb25jYXQoZnVuY3Rpb24oeCkge1xuICAgICAgcmV0dXJuIEJhY29uLm9uY2UoeCkuY29uY2F0KEJhY29uLmxhdGVyKG1pbmltdW1JbnRlcnZhbCkuZmlsdGVyKGZhbHNlKSk7XG4gICAgfSkpO1xuICB9O1xuXG4gIEJhY29uLlByb3BlcnR5LnByb3RvdHlwZS5idWZmZXJpbmdUaHJvdHRsZSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBCYWNvbi5PYnNlcnZhYmxlLnByb3RvdHlwZS5idWZmZXJpbmdUaHJvdHRsZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpLnRvUHJvcGVydHkoKTtcbiAgfTtcblxuICBCdXMgPSAoZnVuY3Rpb24oc3VwZXJDbGFzcykge1xuICAgIGV4dGVuZChCdXMsIHN1cGVyQ2xhc3MpO1xuXG4gICAgZnVuY3Rpb24gQnVzKCkge1xuICAgICAgdGhpcy5ndWFyZGVkU2luayA9IGJpbmQodGhpcy5ndWFyZGVkU2luaywgdGhpcyk7XG4gICAgICB0aGlzLnN1YnNjcmliZUFsbCA9IGJpbmQodGhpcy5zdWJzY3JpYmVBbGwsIHRoaXMpO1xuICAgICAgdGhpcy51bnN1YkFsbCA9IGJpbmQodGhpcy51bnN1YkFsbCwgdGhpcyk7XG4gICAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgQnVzKSkge1xuICAgICAgICByZXR1cm4gbmV3IEJ1cygpO1xuICAgICAgfVxuICAgICAgdGhpcy5zaW5rID0gdm9pZCAwO1xuICAgICAgdGhpcy5zdWJzY3JpcHRpb25zID0gW107XG4gICAgICB0aGlzLmVuZGVkID0gZmFsc2U7XG4gICAgICBCdXMuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmNhbGwodGhpcywgbmV3IEJhY29uLkRlc2MoQmFjb24sIFwiQnVzXCIsIFtdKSwgdGhpcy5zdWJzY3JpYmVBbGwpO1xuICAgIH1cblxuICAgIEJ1cy5wcm90b3R5cGUudW5zdWJBbGwgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBqLCBsZW4xLCByZWYsIHN1YjtcbiAgICAgIHJlZiA9IHRoaXMuc3Vic2NyaXB0aW9ucztcbiAgICAgIGZvciAoaiA9IDAsIGxlbjEgPSByZWYubGVuZ3RoOyBqIDwgbGVuMTsgaisrKSB7XG4gICAgICAgIHN1YiA9IHJlZltqXTtcbiAgICAgICAgaWYgKHR5cGVvZiBzdWIudW5zdWIgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgIHN1Yi51bnN1YigpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdm9pZCAwO1xuICAgIH07XG5cbiAgICBCdXMucHJvdG90eXBlLnN1YnNjcmliZUFsbCA9IGZ1bmN0aW9uKG5ld1NpbmspIHtcbiAgICAgIHZhciBqLCBsZW4xLCByZWYsIHN1YnNjcmlwdGlvbjtcbiAgICAgIGlmICh0aGlzLmVuZGVkKSB7XG4gICAgICAgIG5ld1NpbmsoZW5kRXZlbnQoKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnNpbmsgPSBuZXdTaW5rO1xuICAgICAgICByZWYgPSBjbG9uZUFycmF5KHRoaXMuc3Vic2NyaXB0aW9ucyk7XG4gICAgICAgIGZvciAoaiA9IDAsIGxlbjEgPSByZWYubGVuZ3RoOyBqIDwgbGVuMTsgaisrKSB7XG4gICAgICAgICAgc3Vic2NyaXB0aW9uID0gcmVmW2pdO1xuICAgICAgICAgIHRoaXMuc3Vic2NyaWJlSW5wdXQoc3Vic2NyaXB0aW9uKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMudW5zdWJBbGw7XG4gICAgfTtcblxuICAgIEJ1cy5wcm90b3R5cGUuZ3VhcmRlZFNpbmsgPSBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgcmV0dXJuIChmdW5jdGlvbihfdGhpcykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICBpZiAoZXZlbnQuaXNFbmQoKSkge1xuICAgICAgICAgICAgX3RoaXMudW5zdWJzY3JpYmVJbnB1dChpbnB1dCk7XG4gICAgICAgICAgICByZXR1cm4gQmFjb24ubm9Nb3JlO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMuc2luayhldmVudCk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfSkodGhpcyk7XG4gICAgfTtcblxuICAgIEJ1cy5wcm90b3R5cGUuc3Vic2NyaWJlSW5wdXQgPSBmdW5jdGlvbihzdWJzY3JpcHRpb24pIHtcbiAgICAgIHJldHVybiBzdWJzY3JpcHRpb24udW5zdWIgPSBzdWJzY3JpcHRpb24uaW5wdXQuZGlzcGF0Y2hlci5zdWJzY3JpYmUodGhpcy5ndWFyZGVkU2luayhzdWJzY3JpcHRpb24uaW5wdXQpKTtcbiAgICB9O1xuXG4gICAgQnVzLnByb3RvdHlwZS51bnN1YnNjcmliZUlucHV0ID0gZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgIHZhciBpLCBqLCBsZW4xLCByZWYsIHN1YjtcbiAgICAgIHJlZiA9IHRoaXMuc3Vic2NyaXB0aW9ucztcbiAgICAgIGZvciAoaSA9IGogPSAwLCBsZW4xID0gcmVmLmxlbmd0aDsgaiA8IGxlbjE7IGkgPSArK2opIHtcbiAgICAgICAgc3ViID0gcmVmW2ldO1xuICAgICAgICBpZiAoc3ViLmlucHV0ID09PSBpbnB1dCkge1xuICAgICAgICAgIGlmICh0eXBlb2Ygc3ViLnVuc3ViID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIHN1Yi51bnN1YigpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLnN1YnNjcmlwdGlvbnMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICBCdXMucHJvdG90eXBlLnBsdWcgPSBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgdmFyIHN1YjtcbiAgICAgIGFzc2VydE9ic2VydmFibGUoaW5wdXQpO1xuICAgICAgaWYgKHRoaXMuZW5kZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgc3ViID0ge1xuICAgICAgICBpbnB1dDogaW5wdXRcbiAgICAgIH07XG4gICAgICB0aGlzLnN1YnNjcmlwdGlvbnMucHVzaChzdWIpO1xuICAgICAgaWYgKCh0aGlzLnNpbmsgIT0gbnVsbCkpIHtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVJbnB1dChzdWIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIChmdW5jdGlvbihfdGhpcykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzLnVuc3Vic2NyaWJlSW5wdXQoaW5wdXQpO1xuICAgICAgICB9O1xuICAgICAgfSkodGhpcyk7XG4gICAgfTtcblxuICAgIEJ1cy5wcm90b3R5cGUuZW5kID0gZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLmVuZGVkID0gdHJ1ZTtcbiAgICAgIHRoaXMudW5zdWJBbGwoKTtcbiAgICAgIHJldHVybiB0eXBlb2YgdGhpcy5zaW5rID09PSBcImZ1bmN0aW9uXCIgPyB0aGlzLnNpbmsoZW5kRXZlbnQoKSkgOiB2b2lkIDA7XG4gICAgfTtcblxuICAgIEJ1cy5wcm90b3R5cGUucHVzaCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICBpZiAoIXRoaXMuZW5kZWQpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiB0aGlzLnNpbmsgPT09IFwiZnVuY3Rpb25cIiA/IHRoaXMuc2luayhuZXh0RXZlbnQodmFsdWUpKSA6IHZvaWQgMDtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgQnVzLnByb3RvdHlwZS5lcnJvciA9IGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHRoaXMuc2luayA9PT0gXCJmdW5jdGlvblwiID8gdGhpcy5zaW5rKG5ldyBFcnJvcihlcnJvcikpIDogdm9pZCAwO1xuICAgIH07XG5cbiAgICByZXR1cm4gQnVzO1xuXG4gIH0pKEV2ZW50U3RyZWFtKTtcblxuICBCYWNvbi5CdXMgPSBCdXM7XG5cbiAgbGlmdENhbGxiYWNrID0gZnVuY3Rpb24oZGVzYywgd3JhcHBlZCkge1xuICAgIHJldHVybiB3aXRoTWV0aG9kQ2FsbFN1cHBvcnQoZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgYXJncywgZiwgc3RyZWFtO1xuICAgICAgZiA9IGFyZ3VtZW50c1swXSwgYXJncyA9IDIgPD0gYXJndW1lbnRzLmxlbmd0aCA/IHNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSA6IFtdO1xuICAgICAgc3RyZWFtID0gcGFydGlhbGx5QXBwbGllZCh3cmFwcGVkLCBbXG4gICAgICAgIGZ1bmN0aW9uKHZhbHVlcywgY2FsbGJhY2spIHtcbiAgICAgICAgICByZXR1cm4gZi5hcHBseShudWxsLCBzbGljZS5jYWxsKHZhbHVlcykuY29uY2F0KFtjYWxsYmFja10pKTtcbiAgICAgICAgfVxuICAgICAgXSk7XG4gICAgICByZXR1cm4gd2l0aERlc2MobmV3IEJhY29uLkRlc2MoQmFjb24sIGRlc2MsIFtmXS5jb25jYXQoc2xpY2UuY2FsbChhcmdzKSkpLCBCYWNvbi5jb21iaW5lQXNBcnJheShhcmdzKS5mbGF0TWFwKHN0cmVhbSkpO1xuICAgIH0pO1xuICB9O1xuXG4gIEJhY29uLmZyb21DYWxsYmFjayA9IGxpZnRDYWxsYmFjayhcImZyb21DYWxsYmFja1wiLCBmdW5jdGlvbigpIHtcbiAgICB2YXIgYXJncywgZjtcbiAgICBmID0gYXJndW1lbnRzWzBdLCBhcmdzID0gMiA8PSBhcmd1bWVudHMubGVuZ3RoID8gc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpIDogW107XG4gICAgcmV0dXJuIEJhY29uLmZyb21CaW5kZXIoZnVuY3Rpb24oaGFuZGxlcikge1xuICAgICAgbWFrZUZ1bmN0aW9uKGYsIGFyZ3MpKGhhbmRsZXIpO1xuICAgICAgcmV0dXJuIG5vcDtcbiAgICB9LCAoZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiBbdmFsdWUsIGVuZEV2ZW50KCldO1xuICAgIH0pKTtcbiAgfSk7XG5cbiAgQmFjb24uZnJvbU5vZGVDYWxsYmFjayA9IGxpZnRDYWxsYmFjayhcImZyb21Ob2RlQ2FsbGJhY2tcIiwgZnVuY3Rpb24oKSB7XG4gICAgdmFyIGFyZ3MsIGY7XG4gICAgZiA9IGFyZ3VtZW50c1swXSwgYXJncyA9IDIgPD0gYXJndW1lbnRzLmxlbmd0aCA/IHNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSA6IFtdO1xuICAgIHJldHVybiBCYWNvbi5mcm9tQmluZGVyKGZ1bmN0aW9uKGhhbmRsZXIpIHtcbiAgICAgIG1ha2VGdW5jdGlvbihmLCBhcmdzKShoYW5kbGVyKTtcbiAgICAgIHJldHVybiBub3A7XG4gICAgfSwgZnVuY3Rpb24oZXJyb3IsIHZhbHVlKSB7XG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIFtuZXcgRXJyb3IoZXJyb3IpLCBlbmRFdmVudCgpXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBbdmFsdWUsIGVuZEV2ZW50KCldO1xuICAgIH0pO1xuICB9KTtcblxuICBCYWNvbi5jb21iaW5lVGVtcGxhdGUgPSBmdW5jdGlvbih0ZW1wbGF0ZSkge1xuICAgIHZhciBhcHBseVN0cmVhbVZhbHVlLCBjb21iaW5hdG9yLCBjb21waWxlLCBjb21waWxlVGVtcGxhdGUsIGNvbnN0YW50VmFsdWUsIGN1cnJlbnQsIGZ1bmNzLCBta0NvbnRleHQsIHB1c2hDb250ZXh0LCBzZXRWYWx1ZSwgc3RyZWFtcztcbiAgICBmdW5jcyA9IFtdO1xuICAgIHN0cmVhbXMgPSBbXTtcbiAgICBjdXJyZW50ID0gZnVuY3Rpb24oY3R4U3RhY2spIHtcbiAgICAgIHJldHVybiBjdHhTdGFja1tjdHhTdGFjay5sZW5ndGggLSAxXTtcbiAgICB9O1xuICAgIHNldFZhbHVlID0gZnVuY3Rpb24oY3R4U3RhY2ssIGtleSwgdmFsdWUpIHtcbiAgICAgIHJldHVybiBjdXJyZW50KGN0eFN0YWNrKVtrZXldID0gdmFsdWU7XG4gICAgfTtcbiAgICBhcHBseVN0cmVhbVZhbHVlID0gZnVuY3Rpb24oa2V5LCBpbmRleCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKGN0eFN0YWNrLCB2YWx1ZXMpIHtcbiAgICAgICAgcmV0dXJuIHNldFZhbHVlKGN0eFN0YWNrLCBrZXksIHZhbHVlc1tpbmRleF0pO1xuICAgICAgfTtcbiAgICB9O1xuICAgIGNvbnN0YW50VmFsdWUgPSBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oY3R4U3RhY2spIHtcbiAgICAgICAgcmV0dXJuIHNldFZhbHVlKGN0eFN0YWNrLCBrZXksIHZhbHVlKTtcbiAgICAgIH07XG4gICAgfTtcbiAgICBta0NvbnRleHQgPSBmdW5jdGlvbih0ZW1wbGF0ZSkge1xuICAgICAgaWYgKGlzQXJyYXkodGVtcGxhdGUpKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHB1c2hDb250ZXh0ID0gZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKGN0eFN0YWNrKSB7XG4gICAgICAgIHZhciBuZXdDb250ZXh0O1xuICAgICAgICBuZXdDb250ZXh0ID0gbWtDb250ZXh0KHZhbHVlKTtcbiAgICAgICAgc2V0VmFsdWUoY3R4U3RhY2ssIGtleSwgbmV3Q29udGV4dCk7XG4gICAgICAgIHJldHVybiBjdHhTdGFjay5wdXNoKG5ld0NvbnRleHQpO1xuICAgICAgfTtcbiAgICB9O1xuICAgIGNvbXBpbGUgPSBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG4gICAgICB2YXIgcG9wQ29udGV4dDtcbiAgICAgIGlmIChpc09ic2VydmFibGUodmFsdWUpKSB7XG4gICAgICAgIHN0cmVhbXMucHVzaCh2YWx1ZSk7XG4gICAgICAgIHJldHVybiBmdW5jcy5wdXNoKGFwcGx5U3RyZWFtVmFsdWUoa2V5LCBzdHJlYW1zLmxlbmd0aCAtIDEpKTtcbiAgICAgIH0gZWxzZSBpZiAodmFsdWUgPT09IE9iamVjdCh2YWx1ZSkgJiYgdHlwZW9mIHZhbHVlICE9PSBcImZ1bmN0aW9uXCIgJiYgISh2YWx1ZSBpbnN0YW5jZW9mIFJlZ0V4cCkgJiYgISh2YWx1ZSBpbnN0YW5jZW9mIERhdGUpKSB7XG4gICAgICAgIHBvcENvbnRleHQgPSBmdW5jdGlvbihjdHhTdGFjaykge1xuICAgICAgICAgIHJldHVybiBjdHhTdGFjay5wb3AoKTtcbiAgICAgICAgfTtcbiAgICAgICAgZnVuY3MucHVzaChwdXNoQ29udGV4dChrZXksIHZhbHVlKSk7XG4gICAgICAgIGNvbXBpbGVUZW1wbGF0ZSh2YWx1ZSk7XG4gICAgICAgIHJldHVybiBmdW5jcy5wdXNoKHBvcENvbnRleHQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZ1bmNzLnB1c2goY29uc3RhbnRWYWx1ZShrZXksIHZhbHVlKSk7XG4gICAgICB9XG4gICAgfTtcbiAgICBjb21waWxlVGVtcGxhdGUgPSBmdW5jdGlvbih0ZW1wbGF0ZSkge1xuICAgICAgcmV0dXJuIF8uZWFjaCh0ZW1wbGF0ZSwgY29tcGlsZSk7XG4gICAgfTtcbiAgICBjb21waWxlVGVtcGxhdGUodGVtcGxhdGUpO1xuICAgIGNvbWJpbmF0b3IgPSBmdW5jdGlvbih2YWx1ZXMpIHtcbiAgICAgIHZhciBjdHhTdGFjaywgZiwgaiwgbGVuMSwgcm9vdENvbnRleHQ7XG4gICAgICByb290Q29udGV4dCA9IG1rQ29udGV4dCh0ZW1wbGF0ZSk7XG4gICAgICBjdHhTdGFjayA9IFtyb290Q29udGV4dF07XG4gICAgICBmb3IgKGogPSAwLCBsZW4xID0gZnVuY3MubGVuZ3RoOyBqIDwgbGVuMTsgaisrKSB7XG4gICAgICAgIGYgPSBmdW5jc1tqXTtcbiAgICAgICAgZihjdHhTdGFjaywgdmFsdWVzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByb290Q29udGV4dDtcbiAgICB9O1xuICAgIHJldHVybiB3aXRoRGVzYyhuZXcgQmFjb24uRGVzYyhCYWNvbiwgXCJjb21iaW5lVGVtcGxhdGVcIiwgW3RlbXBsYXRlXSksIEJhY29uLmNvbWJpbmVBc0FycmF5KHN0cmVhbXMpLm1hcChjb21iaW5hdG9yKSk7XG4gIH07XG5cbiAgYWRkUHJvcGVydHlJbml0VmFsdWVUb1N0cmVhbSA9IGZ1bmN0aW9uKHByb3BlcnR5LCBzdHJlYW0pIHtcbiAgICB2YXIganVzdEluaXRWYWx1ZTtcbiAgICBqdXN0SW5pdFZhbHVlID0gbmV3IEV2ZW50U3RyZWFtKGRlc2NyaWJlKHByb3BlcnR5LCBcImp1c3RJbml0VmFsdWVcIiksIGZ1bmN0aW9uKHNpbmspIHtcbiAgICAgIHZhciB1bnN1YiwgdmFsdWU7XG4gICAgICB2YWx1ZSA9IHZvaWQgMDtcbiAgICAgIHVuc3ViID0gcHJvcGVydHkuZGlzcGF0Y2hlci5zdWJzY3JpYmUoZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgaWYgKCFldmVudC5pc0VuZCgpKSB7XG4gICAgICAgICAgdmFsdWUgPSBldmVudDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gQmFjb24ubm9Nb3JlO1xuICAgICAgfSk7XG4gICAgICBVcGRhdGVCYXJyaWVyLndoZW5Eb25lV2l0aChqdXN0SW5pdFZhbHVlLCBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgICBzaW5rKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2luayhlbmRFdmVudCgpKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHVuc3ViO1xuICAgIH0pO1xuICAgIHJldHVybiBqdXN0SW5pdFZhbHVlLmNvbmNhdChzdHJlYW0pLnRvUHJvcGVydHkoKTtcbiAgfTtcblxuICBCYWNvbi5PYnNlcnZhYmxlLnByb3RvdHlwZS5tYXBFbmQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgZjtcbiAgICBmID0gbWFrZUZ1bmN0aW9uQXJncyhhcmd1bWVudHMpO1xuICAgIHJldHVybiB3aXRoRGVzYyhuZXcgQmFjb24uRGVzYyh0aGlzLCBcIm1hcEVuZFwiLCBbZl0pLCB0aGlzLndpdGhIYW5kbGVyKGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICBpZiAoZXZlbnQuaXNFbmQoKSkge1xuICAgICAgICB0aGlzLnB1c2gobmV4dEV2ZW50KGYoZXZlbnQpKSk7XG4gICAgICAgIHRoaXMucHVzaChlbmRFdmVudCgpKTtcbiAgICAgICAgcmV0dXJuIEJhY29uLm5vTW9yZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzLnB1c2goZXZlbnQpO1xuICAgICAgfVxuICAgIH0pKTtcbiAgfTtcblxuICBCYWNvbi5PYnNlcnZhYmxlLnByb3RvdHlwZS5za2lwRXJyb3JzID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHdpdGhEZXNjKG5ldyBCYWNvbi5EZXNjKHRoaXMsIFwic2tpcEVycm9yc1wiLCBbXSksIHRoaXMud2l0aEhhbmRsZXIoZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgIGlmIChldmVudC5pc0Vycm9yKCkpIHtcbiAgICAgICAgcmV0dXJuIEJhY29uLm1vcmU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdGhpcy5wdXNoKGV2ZW50KTtcbiAgICAgIH1cbiAgICB9KSk7XG4gIH07XG5cbiAgQmFjb24uRXZlbnRTdHJlYW0ucHJvdG90eXBlLnRha2VVbnRpbCA9IGZ1bmN0aW9uKHN0b3BwZXIpIHtcbiAgICB2YXIgZW5kTWFya2VyO1xuICAgIGVuZE1hcmtlciA9IHt9O1xuICAgIHJldHVybiB3aXRoRGVzYyhuZXcgQmFjb24uRGVzYyh0aGlzLCBcInRha2VVbnRpbFwiLCBbc3RvcHBlcl0pLCBCYWNvbi5ncm91cFNpbXVsdGFuZW91cyh0aGlzLm1hcEVuZChlbmRNYXJrZXIpLCBzdG9wcGVyLnNraXBFcnJvcnMoKSkud2l0aEhhbmRsZXIoZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgIHZhciBkYXRhLCBqLCBsZW4xLCByZWYsIHJlcGx5LCB2YWx1ZTtcbiAgICAgIGlmICghZXZlbnQuaGFzVmFsdWUoKSkge1xuICAgICAgICByZXR1cm4gdGhpcy5wdXNoKGV2ZW50KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlZiA9IGV2ZW50LnZhbHVlKCksIGRhdGEgPSByZWZbMF0sIHN0b3BwZXIgPSByZWZbMV07XG4gICAgICAgIGlmIChzdG9wcGVyLmxlbmd0aCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLnB1c2goZW5kRXZlbnQoKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVwbHkgPSBCYWNvbi5tb3JlO1xuICAgICAgICAgIGZvciAoaiA9IDAsIGxlbjEgPSBkYXRhLmxlbmd0aDsgaiA8IGxlbjE7IGorKykge1xuICAgICAgICAgICAgdmFsdWUgPSBkYXRhW2pdO1xuICAgICAgICAgICAgaWYgKHZhbHVlID09PSBlbmRNYXJrZXIpIHtcbiAgICAgICAgICAgICAgcmVwbHkgPSB0aGlzLnB1c2goZW5kRXZlbnQoKSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZXBseSA9IHRoaXMucHVzaChuZXh0RXZlbnQodmFsdWUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHJlcGx5O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSkpO1xuICB9O1xuXG4gIEJhY29uLlByb3BlcnR5LnByb3RvdHlwZS50YWtlVW50aWwgPSBmdW5jdGlvbihzdG9wcGVyKSB7XG4gICAgdmFyIGNoYW5nZXM7XG4gICAgY2hhbmdlcyA9IHRoaXMuY2hhbmdlcygpLnRha2VVbnRpbChzdG9wcGVyKTtcbiAgICByZXR1cm4gd2l0aERlc2MobmV3IEJhY29uLkRlc2ModGhpcywgXCJ0YWtlVW50aWxcIiwgW3N0b3BwZXJdKSwgYWRkUHJvcGVydHlJbml0VmFsdWVUb1N0cmVhbSh0aGlzLCBjaGFuZ2VzKSk7XG4gIH07XG5cbiAgQmFjb24uT2JzZXJ2YWJsZS5wcm90b3R5cGUuZmxhdE1hcExhdGVzdCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBmLCBzdHJlYW07XG4gICAgZiA9IG1ha2VTcGF3bmVyKGFyZ3VtZW50cyk7XG4gICAgc3RyZWFtID0gdGhpcy50b0V2ZW50U3RyZWFtKCk7XG4gICAgcmV0dXJuIHdpdGhEZXNjKG5ldyBCYWNvbi5EZXNjKHRoaXMsIFwiZmxhdE1hcExhdGVzdFwiLCBbZl0pLCBzdHJlYW0uZmxhdE1hcChmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIG1ha2VPYnNlcnZhYmxlKGYodmFsdWUpKS50YWtlVW50aWwoc3RyZWFtKTtcbiAgICB9KSk7XG4gIH07XG5cbiAgQmFjb24uUHJvcGVydHkucHJvdG90eXBlLmRlbGF5Q2hhbmdlcyA9IGZ1bmN0aW9uKGRlc2MsIGYpIHtcbiAgICByZXR1cm4gd2l0aERlc2MoZGVzYywgYWRkUHJvcGVydHlJbml0VmFsdWVUb1N0cmVhbSh0aGlzLCBmKHRoaXMuY2hhbmdlcygpKSkpO1xuICB9O1xuXG4gIEJhY29uLkV2ZW50U3RyZWFtLnByb3RvdHlwZS5kZWxheSA9IGZ1bmN0aW9uKGRlbGF5KSB7XG4gICAgcmV0dXJuIHdpdGhEZXNjKG5ldyBCYWNvbi5EZXNjKHRoaXMsIFwiZGVsYXlcIiwgW2RlbGF5XSksIHRoaXMuZmxhdE1hcChmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIEJhY29uLmxhdGVyKGRlbGF5LCB2YWx1ZSk7XG4gICAgfSkpO1xuICB9O1xuXG4gIEJhY29uLlByb3BlcnR5LnByb3RvdHlwZS5kZWxheSA9IGZ1bmN0aW9uKGRlbGF5KSB7XG4gICAgcmV0dXJuIHRoaXMuZGVsYXlDaGFuZ2VzKG5ldyBCYWNvbi5EZXNjKHRoaXMsIFwiZGVsYXlcIiwgW2RlbGF5XSksIGZ1bmN0aW9uKGNoYW5nZXMpIHtcbiAgICAgIHJldHVybiBjaGFuZ2VzLmRlbGF5KGRlbGF5KTtcbiAgICB9KTtcbiAgfTtcblxuICBCYWNvbi5FdmVudFN0cmVhbS5wcm90b3R5cGUuZGVib3VuY2UgPSBmdW5jdGlvbihkZWxheSkge1xuICAgIHJldHVybiB3aXRoRGVzYyhuZXcgQmFjb24uRGVzYyh0aGlzLCBcImRlYm91bmNlXCIsIFtkZWxheV0pLCB0aGlzLmZsYXRNYXBMYXRlc3QoZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiBCYWNvbi5sYXRlcihkZWxheSwgdmFsdWUpO1xuICAgIH0pKTtcbiAgfTtcblxuICBCYWNvbi5Qcm9wZXJ0eS5wcm90b3R5cGUuZGVib3VuY2UgPSBmdW5jdGlvbihkZWxheSkge1xuICAgIHJldHVybiB0aGlzLmRlbGF5Q2hhbmdlcyhuZXcgQmFjb24uRGVzYyh0aGlzLCBcImRlYm91bmNlXCIsIFtkZWxheV0pLCBmdW5jdGlvbihjaGFuZ2VzKSB7XG4gICAgICByZXR1cm4gY2hhbmdlcy5kZWJvdW5jZShkZWxheSk7XG4gICAgfSk7XG4gIH07XG5cbiAgQmFjb24uRXZlbnRTdHJlYW0ucHJvdG90eXBlLmRlYm91bmNlSW1tZWRpYXRlID0gZnVuY3Rpb24oZGVsYXkpIHtcbiAgICByZXR1cm4gd2l0aERlc2MobmV3IEJhY29uLkRlc2ModGhpcywgXCJkZWJvdW5jZUltbWVkaWF0ZVwiLCBbZGVsYXldKSwgdGhpcy5mbGF0TWFwRmlyc3QoZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiBCYWNvbi5vbmNlKHZhbHVlKS5jb25jYXQoQmFjb24ubGF0ZXIoZGVsYXkpLmZpbHRlcihmYWxzZSkpO1xuICAgIH0pKTtcbiAgfTtcblxuICBCYWNvbi5PYnNlcnZhYmxlLnByb3RvdHlwZS5kZWNvZGUgPSBmdW5jdGlvbihjYXNlcykge1xuICAgIHJldHVybiB3aXRoRGVzYyhuZXcgQmFjb24uRGVzYyh0aGlzLCBcImRlY29kZVwiLCBbY2FzZXNdKSwgdGhpcy5jb21iaW5lKEJhY29uLmNvbWJpbmVUZW1wbGF0ZShjYXNlcyksIGZ1bmN0aW9uKGtleSwgdmFsdWVzKSB7XG4gICAgICByZXR1cm4gdmFsdWVzW2tleV07XG4gICAgfSkpO1xuICB9O1xuXG4gIEJhY29uLk9ic2VydmFibGUucHJvdG90eXBlLnNjYW4gPSBmdW5jdGlvbihzZWVkLCBmKSB7XG4gICAgdmFyIGFjYywgaW5pdEhhbmRsZWQsIHJlc3VsdFByb3BlcnR5LCBzdWJzY3JpYmU7XG4gICAgZiA9IHRvQ29tYmluYXRvcihmKTtcbiAgICBhY2MgPSB0b09wdGlvbihzZWVkKTtcbiAgICBpbml0SGFuZGxlZCA9IGZhbHNlO1xuICAgIHN1YnNjcmliZSA9IChmdW5jdGlvbihfdGhpcykge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHNpbmspIHtcbiAgICAgICAgdmFyIGluaXRTZW50LCByZXBseSwgc2VuZEluaXQsIHVuc3ViO1xuICAgICAgICBpbml0U2VudCA9IGZhbHNlO1xuICAgICAgICB1bnN1YiA9IG5vcDtcbiAgICAgICAgcmVwbHkgPSBCYWNvbi5tb3JlO1xuICAgICAgICBzZW5kSW5pdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGlmICghaW5pdFNlbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBhY2MuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgICBpbml0U2VudCA9IGluaXRIYW5kbGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgcmVwbHkgPSBzaW5rKG5ldyBJbml0aWFsKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICBpZiAocmVwbHkgPT09IEJhY29uLm5vTW9yZSkge1xuICAgICAgICAgICAgICAgIHVuc3ViKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHVuc3ViID0gbm9wO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHVuc3ViID0gX3RoaXMuZGlzcGF0Y2hlci5zdWJzY3JpYmUoZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICB2YXIgbmV4dCwgcHJldjtcbiAgICAgICAgICBpZiAoZXZlbnQuaGFzVmFsdWUoKSkge1xuICAgICAgICAgICAgaWYgKGluaXRIYW5kbGVkICYmIGV2ZW50LmlzSW5pdGlhbCgpKSB7XG4gICAgICAgICAgICAgIHJldHVybiBCYWNvbi5tb3JlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgaWYgKCFldmVudC5pc0luaXRpYWwoKSkge1xuICAgICAgICAgICAgICAgIHNlbmRJbml0KCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaW5pdFNlbnQgPSBpbml0SGFuZGxlZCA9IHRydWU7XG4gICAgICAgICAgICAgIHByZXYgPSBhY2MuZ2V0T3JFbHNlKHZvaWQgMCk7XG4gICAgICAgICAgICAgIG5leHQgPSBmKHByZXYsIGV2ZW50LnZhbHVlKCkpO1xuICAgICAgICAgICAgICBhY2MgPSBuZXcgU29tZShuZXh0KTtcbiAgICAgICAgICAgICAgcmV0dXJuIHNpbmsoZXZlbnQuYXBwbHkoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKGV2ZW50LmlzRW5kKCkpIHtcbiAgICAgICAgICAgICAgcmVwbHkgPSBzZW5kSW5pdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJlcGx5ICE9PSBCYWNvbi5ub01vcmUpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHNpbmsoZXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIFVwZGF0ZUJhcnJpZXIud2hlbkRvbmVXaXRoKHJlc3VsdFByb3BlcnR5LCBzZW5kSW5pdCk7XG4gICAgICAgIHJldHVybiB1bnN1YjtcbiAgICAgIH07XG4gICAgfSkodGhpcyk7XG4gICAgcmV0dXJuIHJlc3VsdFByb3BlcnR5ID0gbmV3IFByb3BlcnR5KG5ldyBCYWNvbi5EZXNjKHRoaXMsIFwic2NhblwiLCBbc2VlZCwgZl0pLCBzdWJzY3JpYmUpO1xuICB9O1xuXG4gIEJhY29uLk9ic2VydmFibGUucHJvdG90eXBlLmRpZmYgPSBmdW5jdGlvbihzdGFydCwgZikge1xuICAgIGYgPSB0b0NvbWJpbmF0b3IoZik7XG4gICAgcmV0dXJuIHdpdGhEZXNjKG5ldyBCYWNvbi5EZXNjKHRoaXMsIFwiZGlmZlwiLCBbc3RhcnQsIGZdKSwgdGhpcy5zY2FuKFtzdGFydF0sIGZ1bmN0aW9uKHByZXZUdXBsZSwgbmV4dCkge1xuICAgICAgcmV0dXJuIFtuZXh0LCBmKHByZXZUdXBsZVswXSwgbmV4dCldO1xuICAgIH0pLmZpbHRlcihmdW5jdGlvbih0dXBsZSkge1xuICAgICAgcmV0dXJuIHR1cGxlLmxlbmd0aCA9PT0gMjtcbiAgICB9KS5tYXAoZnVuY3Rpb24odHVwbGUpIHtcbiAgICAgIHJldHVybiB0dXBsZVsxXTtcbiAgICB9KSk7XG4gIH07XG5cbiAgQmFjb24uT2JzZXJ2YWJsZS5wcm90b3R5cGUuZG9BY3Rpb24gPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgZjtcbiAgICBmID0gbWFrZUZ1bmN0aW9uQXJncyhhcmd1bWVudHMpO1xuICAgIHJldHVybiB3aXRoRGVzYyhuZXcgQmFjb24uRGVzYyh0aGlzLCBcImRvQWN0aW9uXCIsIFtmXSksIHRoaXMud2l0aEhhbmRsZXIoZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgIGlmIChldmVudC5oYXNWYWx1ZSgpKSB7XG4gICAgICAgIGYoZXZlbnQudmFsdWUoKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5wdXNoKGV2ZW50KTtcbiAgICB9KSk7XG4gIH07XG5cbiAgQmFjb24uT2JzZXJ2YWJsZS5wcm90b3R5cGUuZG9FcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBmO1xuICAgIGYgPSBtYWtlRnVuY3Rpb25BcmdzKGFyZ3VtZW50cyk7XG4gICAgcmV0dXJuIHdpdGhEZXNjKG5ldyBCYWNvbi5EZXNjKHRoaXMsIFwiZG9FcnJvclwiLCBbZl0pLCB0aGlzLndpdGhIYW5kbGVyKGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICBpZiAoZXZlbnQuaXNFcnJvcigpKSB7XG4gICAgICAgIGYoZXZlbnQuZXJyb3IpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMucHVzaChldmVudCk7XG4gICAgfSkpO1xuICB9O1xuXG4gIEJhY29uLk9ic2VydmFibGUucHJvdG90eXBlLmRvTG9nID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGFyZ3M7XG4gICAgYXJncyA9IDEgPD0gYXJndW1lbnRzLmxlbmd0aCA/IHNsaWNlLmNhbGwoYXJndW1lbnRzLCAwKSA6IFtdO1xuICAgIHJldHVybiB3aXRoRGVzYyhuZXcgQmFjb24uRGVzYyh0aGlzLCBcImRvTG9nXCIsIGFyZ3MpLCB0aGlzLndpdGhIYW5kbGVyKGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICBpZiAodHlwZW9mIGNvbnNvbGUgIT09IFwidW5kZWZpbmVkXCIgJiYgY29uc29sZSAhPT0gbnVsbCkge1xuICAgICAgICBpZiAodHlwZW9mIGNvbnNvbGUubG9nID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZy5hcHBseShjb25zb2xlLCBzbGljZS5jYWxsKGFyZ3MpLmNvbmNhdChbZXZlbnQubG9nKCldKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLnB1c2goZXZlbnQpO1xuICAgIH0pKTtcbiAgfTtcblxuICBCYWNvbi5PYnNlcnZhYmxlLnByb3RvdHlwZS5lbmRPbkVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGFyZ3MsIGY7XG4gICAgZiA9IGFyZ3VtZW50c1swXSwgYXJncyA9IDIgPD0gYXJndW1lbnRzLmxlbmd0aCA/IHNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSA6IFtdO1xuICAgIGlmIChmID09IG51bGwpIHtcbiAgICAgIGYgPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gY29udmVydEFyZ3NUb0Z1bmN0aW9uKHRoaXMsIGYsIGFyZ3MsIGZ1bmN0aW9uKGYpIHtcbiAgICAgIHJldHVybiB3aXRoRGVzYyhuZXcgQmFjb24uRGVzYyh0aGlzLCBcImVuZE9uRXJyb3JcIiwgW10pLCB0aGlzLndpdGhIYW5kbGVyKGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgIGlmIChldmVudC5pc0Vycm9yKCkgJiYgZihldmVudC5lcnJvcikpIHtcbiAgICAgICAgICB0aGlzLnB1c2goZXZlbnQpO1xuICAgICAgICAgIHJldHVybiB0aGlzLnB1c2goZW5kRXZlbnQoKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMucHVzaChldmVudCk7XG4gICAgICAgIH1cbiAgICAgIH0pKTtcbiAgICB9KTtcbiAgfTtcblxuICBPYnNlcnZhYmxlLnByb3RvdHlwZS5lcnJvcnMgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gd2l0aERlc2MobmV3IEJhY29uLkRlc2ModGhpcywgXCJlcnJvcnNcIiwgW10pLCB0aGlzLmZpbHRlcihmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9KSk7XG4gIH07XG5cbiAgdmFsdWVBbmRFbmQgPSAoZnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gW3ZhbHVlLCBlbmRFdmVudCgpXTtcbiAgfSk7XG5cbiAgQmFjb24uZnJvbVByb21pc2UgPSBmdW5jdGlvbihwcm9taXNlLCBhYm9ydCwgZXZlbnRUcmFuc2Zvcm1lcikge1xuICAgIGlmIChldmVudFRyYW5zZm9ybWVyID09IG51bGwpIHtcbiAgICAgIGV2ZW50VHJhbnNmb3JtZXIgPSB2YWx1ZUFuZEVuZDtcbiAgICB9XG4gICAgcmV0dXJuIHdpdGhEZXNjKG5ldyBCYWNvbi5EZXNjKEJhY29uLCBcImZyb21Qcm9taXNlXCIsIFtwcm9taXNlXSksIEJhY29uLmZyb21CaW5kZXIoZnVuY3Rpb24oaGFuZGxlcikge1xuICAgICAgdmFyIHJlZjtcbiAgICAgIGlmICgocmVmID0gcHJvbWlzZS50aGVuKGhhbmRsZXIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgcmV0dXJuIGhhbmRsZXIobmV3IEVycm9yKGUpKTtcbiAgICAgIH0pKSAhPSBudWxsKSB7XG4gICAgICAgIGlmICh0eXBlb2YgcmVmLmRvbmUgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgIHJlZi5kb25lKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKGFib3J0KSB7XG4gICAgICAgICAgcmV0dXJuIHR5cGVvZiBwcm9taXNlLmFib3J0ID09PSBcImZ1bmN0aW9uXCIgPyBwcm9taXNlLmFib3J0KCkgOiB2b2lkIDA7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSwgZXZlbnRUcmFuc2Zvcm1lcikpO1xuICB9O1xuXG4gIEJhY29uLk9ic2VydmFibGUucHJvdG90eXBlLm1hcEVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGY7XG4gICAgZiA9IG1ha2VGdW5jdGlvbkFyZ3MoYXJndW1lbnRzKTtcbiAgICByZXR1cm4gd2l0aERlc2MobmV3IEJhY29uLkRlc2ModGhpcywgXCJtYXBFcnJvclwiLCBbZl0pLCB0aGlzLndpdGhIYW5kbGVyKGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICBpZiAoZXZlbnQuaXNFcnJvcigpKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnB1c2gobmV4dEV2ZW50KGYoZXZlbnQuZXJyb3IpKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdGhpcy5wdXNoKGV2ZW50KTtcbiAgICAgIH1cbiAgICB9KSk7XG4gIH07XG5cbiAgQmFjb24uT2JzZXJ2YWJsZS5wcm90b3R5cGUuZmxhdE1hcEVycm9yID0gZnVuY3Rpb24oZm4pIHtcbiAgICByZXR1cm4gd2l0aERlc2MobmV3IEJhY29uLkRlc2ModGhpcywgXCJmbGF0TWFwRXJyb3JcIiwgW2ZuXSksIHRoaXMubWFwRXJyb3IoZnVuY3Rpb24oZXJyKSB7XG4gICAgICByZXR1cm4gbmV3IEVycm9yKGVycik7XG4gICAgfSkuZmxhdE1hcChmdW5jdGlvbih4KSB7XG4gICAgICBpZiAoeCBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgIHJldHVybiBmbih4LmVycm9yKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBCYWNvbi5vbmNlKHgpO1xuICAgICAgfVxuICAgIH0pKTtcbiAgfTtcblxuICBCYWNvbi5FdmVudFN0cmVhbS5wcm90b3R5cGUuc2FtcGxlZEJ5ID0gZnVuY3Rpb24oc2FtcGxlciwgY29tYmluYXRvcikge1xuICAgIHJldHVybiB3aXRoRGVzYyhuZXcgQmFjb24uRGVzYyh0aGlzLCBcInNhbXBsZWRCeVwiLCBbc2FtcGxlciwgY29tYmluYXRvcl0pLCB0aGlzLnRvUHJvcGVydHkoKS5zYW1wbGVkQnkoc2FtcGxlciwgY29tYmluYXRvcikpO1xuICB9O1xuXG4gIEJhY29uLlByb3BlcnR5LnByb3RvdHlwZS5zYW1wbGVkQnkgPSBmdW5jdGlvbihzYW1wbGVyLCBjb21iaW5hdG9yKSB7XG4gICAgdmFyIGxhenksIHJlc3VsdCwgc2FtcGxlclNvdXJjZSwgc3RyZWFtLCB0aGlzU291cmNlO1xuICAgIGlmIChjb21iaW5hdG9yICE9IG51bGwpIHtcbiAgICAgIGNvbWJpbmF0b3IgPSB0b0NvbWJpbmF0b3IoY29tYmluYXRvcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxhenkgPSB0cnVlO1xuICAgICAgY29tYmluYXRvciA9IGZ1bmN0aW9uKGYpIHtcbiAgICAgICAgcmV0dXJuIGYudmFsdWUoKTtcbiAgICAgIH07XG4gICAgfVxuICAgIHRoaXNTb3VyY2UgPSBuZXcgU291cmNlKHRoaXMsIGZhbHNlLCBsYXp5KTtcbiAgICBzYW1wbGVyU291cmNlID0gbmV3IFNvdXJjZShzYW1wbGVyLCB0cnVlLCBsYXp5KTtcbiAgICBzdHJlYW0gPSBCYWNvbi53aGVuKFt0aGlzU291cmNlLCBzYW1wbGVyU291cmNlXSwgY29tYmluYXRvcik7XG4gICAgcmVzdWx0ID0gc2FtcGxlciBpbnN0YW5jZW9mIFByb3BlcnR5ID8gc3RyZWFtLnRvUHJvcGVydHkoKSA6IHN0cmVhbTtcbiAgICByZXR1cm4gd2l0aERlc2MobmV3IEJhY29uLkRlc2ModGhpcywgXCJzYW1wbGVkQnlcIiwgW3NhbXBsZXIsIGNvbWJpbmF0b3JdKSwgcmVzdWx0KTtcbiAgfTtcblxuICBCYWNvbi5Qcm9wZXJ0eS5wcm90b3R5cGUuc2FtcGxlID0gZnVuY3Rpb24oaW50ZXJ2YWwpIHtcbiAgICByZXR1cm4gd2l0aERlc2MobmV3IEJhY29uLkRlc2ModGhpcywgXCJzYW1wbGVcIiwgW2ludGVydmFsXSksIHRoaXMuc2FtcGxlZEJ5KEJhY29uLmludGVydmFsKGludGVydmFsLCB7fSkpKTtcbiAgfTtcblxuICBCYWNvbi5PYnNlcnZhYmxlLnByb3RvdHlwZS5tYXAgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgYXJncywgcDtcbiAgICBwID0gYXJndW1lbnRzWzBdLCBhcmdzID0gMiA8PSBhcmd1bWVudHMubGVuZ3RoID8gc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpIDogW107XG4gICAgaWYgKHAgaW5zdGFuY2VvZiBQcm9wZXJ0eSkge1xuICAgICAgcmV0dXJuIHAuc2FtcGxlZEJ5KHRoaXMsIGZvcm1lcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBjb252ZXJ0QXJnc1RvRnVuY3Rpb24odGhpcywgcCwgYXJncywgZnVuY3Rpb24oZikge1xuICAgICAgICByZXR1cm4gd2l0aERlc2MobmV3IEJhY29uLkRlc2ModGhpcywgXCJtYXBcIiwgW2ZdKSwgdGhpcy53aXRoSGFuZGxlcihmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLnB1c2goZXZlbnQuZm1hcChmKSk7XG4gICAgICAgIH0pKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICBCYWNvbi5PYnNlcnZhYmxlLnByb3RvdHlwZS5mb2xkID0gZnVuY3Rpb24oc2VlZCwgZikge1xuICAgIHJldHVybiB3aXRoRGVzYyhuZXcgQmFjb24uRGVzYyh0aGlzLCBcImZvbGRcIiwgW3NlZWQsIGZdKSwgdGhpcy5zY2FuKHNlZWQsIGYpLnNhbXBsZWRCeSh0aGlzLmZpbHRlcihmYWxzZSkubWFwRW5kKCkudG9Qcm9wZXJ0eSgpKSk7XG4gIH07XG5cbiAgT2JzZXJ2YWJsZS5wcm90b3R5cGUucmVkdWNlID0gT2JzZXJ2YWJsZS5wcm90b3R5cGUuZm9sZDtcblxuICBCYWNvbi5mcm9tUG9sbCA9IGZ1bmN0aW9uKGRlbGF5LCBwb2xsKSB7XG4gICAgcmV0dXJuIHdpdGhEZXNjKG5ldyBCYWNvbi5EZXNjKEJhY29uLCBcImZyb21Qb2xsXCIsIFtkZWxheSwgcG9sbF0pLCBCYWNvbi5mcm9tQmluZGVyKChmdW5jdGlvbihoYW5kbGVyKSB7XG4gICAgICB2YXIgaWQ7XG4gICAgICBpZCA9IEJhY29uLnNjaGVkdWxlci5zZXRJbnRlcnZhbChoYW5kbGVyLCBkZWxheSk7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBCYWNvbi5zY2hlZHVsZXIuY2xlYXJJbnRlcnZhbChpZCk7XG4gICAgICB9O1xuICAgIH0pLCBwb2xsKSk7XG4gIH07XG5cbiAgQmFjb24uT2JzZXJ2YWJsZS5wcm90b3R5cGUuZ3JvdXBCeSA9IGZ1bmN0aW9uKGtleUYsIGxpbWl0Rikge1xuICAgIHZhciBzcmMsIHN0cmVhbXM7XG4gICAgaWYgKGxpbWl0RiA9PSBudWxsKSB7XG4gICAgICBsaW1pdEYgPSBCYWNvbi5fLmlkO1xuICAgIH1cbiAgICBzdHJlYW1zID0ge307XG4gICAgc3JjID0gdGhpcztcbiAgICByZXR1cm4gc3JjLmZpbHRlcihmdW5jdGlvbih4KSB7XG4gICAgICByZXR1cm4gIXN0cmVhbXNba2V5Rih4KV07XG4gICAgfSkubWFwKGZ1bmN0aW9uKHgpIHtcbiAgICAgIHZhciBkYXRhLCBrZXksIGxpbWl0ZWQsIHNpbWlsYXI7XG4gICAgICBrZXkgPSBrZXlGKHgpO1xuICAgICAgc2ltaWxhciA9IHNyYy5maWx0ZXIoZnVuY3Rpb24oeCkge1xuICAgICAgICByZXR1cm4ga2V5Rih4KSA9PT0ga2V5O1xuICAgICAgfSk7XG4gICAgICBkYXRhID0gQmFjb24ub25jZSh4KS5jb25jYXQoc2ltaWxhcik7XG4gICAgICBsaW1pdGVkID0gbGltaXRGKGRhdGEsIHgpLndpdGhIYW5kbGVyKGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgIHRoaXMucHVzaChldmVudCk7XG4gICAgICAgIGlmIChldmVudC5pc0VuZCgpKSB7XG4gICAgICAgICAgcmV0dXJuIGRlbGV0ZSBzdHJlYW1zW2tleV07XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHN0cmVhbXNba2V5XSA9IGxpbWl0ZWQ7XG4gICAgfSk7XG4gIH07XG5cbiAgQmFjb24uZnJvbUFycmF5ID0gZnVuY3Rpb24odmFsdWVzKSB7XG4gICAgdmFyIGk7XG4gICAgYXNzZXJ0QXJyYXkodmFsdWVzKTtcbiAgICBpZiAoIXZhbHVlcy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiB3aXRoRGVzYyhuZXcgQmFjb24uRGVzYyhCYWNvbiwgXCJmcm9tQXJyYXlcIiwgdmFsdWVzKSwgQmFjb24ubmV2ZXIoKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGkgPSAwO1xuICAgICAgcmV0dXJuIG5ldyBFdmVudFN0cmVhbShuZXcgQmFjb24uRGVzYyhCYWNvbiwgXCJmcm9tQXJyYXlcIiwgW3ZhbHVlc10pLCBmdW5jdGlvbihzaW5rKSB7XG4gICAgICAgIHZhciBwdXNoLCBwdXNoTmVlZGVkLCBwdXNoaW5nLCByZXBseSwgdW5zdWJkO1xuICAgICAgICB1bnN1YmQgPSBmYWxzZTtcbiAgICAgICAgcmVwbHkgPSBCYWNvbi5tb3JlO1xuICAgICAgICBwdXNoaW5nID0gZmFsc2U7XG4gICAgICAgIHB1c2hOZWVkZWQgPSBmYWxzZTtcbiAgICAgICAgcHVzaCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHZhciB2YWx1ZTtcbiAgICAgICAgICBwdXNoTmVlZGVkID0gdHJ1ZTtcbiAgICAgICAgICBpZiAocHVzaGluZykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBwdXNoaW5nID0gdHJ1ZTtcbiAgICAgICAgICB3aGlsZSAocHVzaE5lZWRlZCkge1xuICAgICAgICAgICAgcHVzaE5lZWRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKChyZXBseSAhPT0gQmFjb24ubm9Nb3JlKSAmJiAhdW5zdWJkKSB7XG4gICAgICAgICAgICAgIHZhbHVlID0gdmFsdWVzW2krK107XG4gICAgICAgICAgICAgIHJlcGx5ID0gc2luayh0b0V2ZW50KHZhbHVlKSk7XG4gICAgICAgICAgICAgIGlmIChyZXBseSAhPT0gQmFjb24ubm9Nb3JlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGkgPT09IHZhbHVlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgIHNpbmsoZW5kRXZlbnQoKSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIFVwZGF0ZUJhcnJpZXIuYWZ0ZXJUcmFuc2FjdGlvbihwdXNoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHB1c2hpbmcgPSBmYWxzZTtcbiAgICAgICAgfTtcbiAgICAgICAgcHVzaCgpO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuIHVuc3ViZCA9IHRydWU7XG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgQmFjb24uRXZlbnRTdHJlYW0ucHJvdG90eXBlLmhvbGRXaGVuID0gZnVuY3Rpb24odmFsdmUpIHtcbiAgICB2YXIgYnVmZmVyZWRWYWx1ZXMsIG9uSG9sZCwgc3JjO1xuICAgIG9uSG9sZCA9IGZhbHNlO1xuICAgIGJ1ZmZlcmVkVmFsdWVzID0gW107XG4gICAgc3JjID0gdGhpcztcbiAgICByZXR1cm4gbmV3IEV2ZW50U3RyZWFtKG5ldyBCYWNvbi5EZXNjKHRoaXMsIFwiaG9sZFdoZW5cIiwgW3ZhbHZlXSksIGZ1bmN0aW9uKHNpbmspIHtcbiAgICAgIHZhciBjb21wb3NpdGUsIGVuZElmQm90aEVuZGVkLCBzdWJzY3JpYmVkO1xuICAgICAgY29tcG9zaXRlID0gbmV3IENvbXBvc2l0ZVVuc3Vic2NyaWJlKCk7XG4gICAgICBzdWJzY3JpYmVkID0gZmFsc2U7XG4gICAgICBlbmRJZkJvdGhFbmRlZCA9IGZ1bmN0aW9uKHVuc3ViKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdW5zdWIgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgIHVuc3ViKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbXBvc2l0ZS5lbXB0eSgpICYmIHN1YnNjcmliZWQpIHtcbiAgICAgICAgICByZXR1cm4gc2luayhlbmRFdmVudCgpKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGNvbXBvc2l0ZS5hZGQoZnVuY3Rpb24odW5zdWJBbGwsIHVuc3ViTWUpIHtcbiAgICAgICAgcmV0dXJuIHZhbHZlLnN1YnNjcmliZUludGVybmFsKGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgdmFyIGosIGxlbjEsIHJlc3VsdHMsIHRvU2VuZCwgdmFsdWU7XG4gICAgICAgICAgaWYgKGV2ZW50Lmhhc1ZhbHVlKCkpIHtcbiAgICAgICAgICAgIG9uSG9sZCA9IGV2ZW50LnZhbHVlKCk7XG4gICAgICAgICAgICBpZiAoIW9uSG9sZCkge1xuICAgICAgICAgICAgICB0b1NlbmQgPSBidWZmZXJlZFZhbHVlcztcbiAgICAgICAgICAgICAgYnVmZmVyZWRWYWx1ZXMgPSBbXTtcbiAgICAgICAgICAgICAgcmVzdWx0cyA9IFtdO1xuICAgICAgICAgICAgICBmb3IgKGogPSAwLCBsZW4xID0gdG9TZW5kLmxlbmd0aDsgaiA8IGxlbjE7IGorKykge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gdG9TZW5kW2pdO1xuICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaChzaW5rKG5leHRFdmVudCh2YWx1ZSkpKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0cztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKGV2ZW50LmlzRW5kKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBlbmRJZkJvdGhFbmRlZCh1bnN1Yk1lKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHNpbmsoZXZlbnQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICAgIGNvbXBvc2l0ZS5hZGQoZnVuY3Rpb24odW5zdWJBbGwsIHVuc3ViTWUpIHtcbiAgICAgICAgcmV0dXJuIHNyYy5zdWJzY3JpYmVJbnRlcm5hbChmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgIGlmIChvbkhvbGQgJiYgZXZlbnQuaGFzVmFsdWUoKSkge1xuICAgICAgICAgICAgcmV0dXJuIGJ1ZmZlcmVkVmFsdWVzLnB1c2goZXZlbnQudmFsdWUoKSk7XG4gICAgICAgICAgfSBlbHNlIGlmIChldmVudC5pc0VuZCgpICYmIGJ1ZmZlcmVkVmFsdWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIGVuZElmQm90aEVuZGVkKHVuc3ViTWUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gc2luayhldmVudCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgICAgc3Vic2NyaWJlZCA9IHRydWU7XG4gICAgICBlbmRJZkJvdGhFbmRlZCgpO1xuICAgICAgcmV0dXJuIGNvbXBvc2l0ZS51bnN1YnNjcmliZTtcbiAgICB9KTtcbiAgfTtcblxuICBCYWNvbi5pbnRlcnZhbCA9IGZ1bmN0aW9uKGRlbGF5LCB2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICB2YWx1ZSA9IHt9O1xuICAgIH1cbiAgICByZXR1cm4gd2l0aERlc2MobmV3IEJhY29uLkRlc2MoQmFjb24sIFwiaW50ZXJ2YWxcIiwgW2RlbGF5LCB2YWx1ZV0pLCBCYWNvbi5mcm9tUG9sbChkZWxheSwgZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gbmV4dEV2ZW50KHZhbHVlKTtcbiAgICB9KSk7XG4gIH07XG5cbiAgQmFjb24uJCA9IHt9O1xuXG4gIEJhY29uLiQuYXNFdmVudFN0cmVhbSA9IGZ1bmN0aW9uKGV2ZW50TmFtZSwgc2VsZWN0b3IsIGV2ZW50VHJhbnNmb3JtZXIpIHtcbiAgICB2YXIgcmVmO1xuICAgIGlmIChfLmlzRnVuY3Rpb24oc2VsZWN0b3IpKSB7XG4gICAgICByZWYgPSBbc2VsZWN0b3IsIHZvaWQgMF0sIGV2ZW50VHJhbnNmb3JtZXIgPSByZWZbMF0sIHNlbGVjdG9yID0gcmVmWzFdO1xuICAgIH1cbiAgICByZXR1cm4gd2l0aERlc2MobmV3IEJhY29uLkRlc2ModGhpcy5zZWxlY3RvciB8fCB0aGlzLCBcImFzRXZlbnRTdHJlYW1cIiwgW2V2ZW50TmFtZV0pLCBCYWNvbi5mcm9tQmluZGVyKChmdW5jdGlvbihfdGhpcykge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKGhhbmRsZXIpIHtcbiAgICAgICAgX3RoaXMub24oZXZlbnROYW1lLCBzZWxlY3RvciwgaGFuZGxlcik7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMub2ZmKGV2ZW50TmFtZSwgc2VsZWN0b3IsIGhhbmRsZXIpO1xuICAgICAgICB9O1xuICAgICAgfTtcbiAgICB9KSh0aGlzKSwgZXZlbnRUcmFuc2Zvcm1lcikpO1xuICB9O1xuXG4gIGlmICgocmVmID0gdHlwZW9mIGpRdWVyeSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBqUXVlcnkgIT09IG51bGwgPyBqUXVlcnkgOiB0eXBlb2YgWmVwdG8gIT09IFwidW5kZWZpbmVkXCIgJiYgWmVwdG8gIT09IG51bGwgPyBaZXB0byA6IHZvaWQgMCkgIT0gbnVsbCkge1xuICAgIHJlZi5mbi5hc0V2ZW50U3RyZWFtID0gQmFjb24uJC5hc0V2ZW50U3RyZWFtO1xuICB9XG5cbiAgQmFjb24uT2JzZXJ2YWJsZS5wcm90b3R5cGUubG9nID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGFyZ3M7XG4gICAgYXJncyA9IDEgPD0gYXJndW1lbnRzLmxlbmd0aCA/IHNsaWNlLmNhbGwoYXJndW1lbnRzLCAwKSA6IFtdO1xuICAgIHRoaXMuc3Vic2NyaWJlKGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICByZXR1cm4gdHlwZW9mIGNvbnNvbGUgIT09IFwidW5kZWZpbmVkXCIgJiYgY29uc29sZSAhPT0gbnVsbCA/IHR5cGVvZiBjb25zb2xlLmxvZyA9PT0gXCJmdW5jdGlvblwiID8gY29uc29sZS5sb2cuYXBwbHkoY29uc29sZSwgc2xpY2UuY2FsbChhcmdzKS5jb25jYXQoW2V2ZW50LmxvZygpXSkpIDogdm9pZCAwIDogdm9pZCAwO1xuICAgIH0pO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIEJhY29uLkV2ZW50U3RyZWFtLnByb3RvdHlwZS5tZXJnZSA9IGZ1bmN0aW9uKHJpZ2h0KSB7XG4gICAgdmFyIGxlZnQ7XG4gICAgYXNzZXJ0RXZlbnRTdHJlYW0ocmlnaHQpO1xuICAgIGxlZnQgPSB0aGlzO1xuICAgIHJldHVybiB3aXRoRGVzYyhuZXcgQmFjb24uRGVzYyhsZWZ0LCBcIm1lcmdlXCIsIFtyaWdodF0pLCBCYWNvbi5tZXJnZUFsbCh0aGlzLCByaWdodCkpO1xuICB9O1xuXG4gIEJhY29uLm1lcmdlQWxsID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHN0cmVhbXM7XG4gICAgc3RyZWFtcyA9IGFyZ3VtZW50c1RvT2JzZXJ2YWJsZXMoYXJndW1lbnRzKTtcbiAgICBpZiAoc3RyZWFtcy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBuZXcgRXZlbnRTdHJlYW0obmV3IEJhY29uLkRlc2MoQmFjb24sIFwibWVyZ2VBbGxcIiwgc3RyZWFtcyksIGZ1bmN0aW9uKHNpbmspIHtcbiAgICAgICAgdmFyIGVuZHMsIHNpbmtzLCBzbWFydFNpbms7XG4gICAgICAgIGVuZHMgPSAwO1xuICAgICAgICBzbWFydFNpbmsgPSBmdW5jdGlvbihvYnMpIHtcbiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24odW5zdWJCb3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gb2JzLmRpc3BhdGNoZXIuc3Vic2NyaWJlKGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAgIHZhciByZXBseTtcbiAgICAgICAgICAgICAgaWYgKGV2ZW50LmlzRW5kKCkpIHtcbiAgICAgICAgICAgICAgICBlbmRzKys7XG4gICAgICAgICAgICAgICAgaWYgKGVuZHMgPT09IHN0cmVhbXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gc2luayhlbmRFdmVudCgpKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIEJhY29uLm1vcmU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlcGx5ID0gc2luayhldmVudCk7XG4gICAgICAgICAgICAgICAgaWYgKHJlcGx5ID09PSBCYWNvbi5ub01vcmUpIHtcbiAgICAgICAgICAgICAgICAgIHVuc3ViQm90aCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gcmVwbHk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH07XG4gICAgICAgIH07XG4gICAgICAgIHNpbmtzID0gXy5tYXAoc21hcnRTaW5rLCBzdHJlYW1zKTtcbiAgICAgICAgcmV0dXJuIG5ldyBCYWNvbi5Db21wb3NpdGVVbnN1YnNjcmliZShzaW5rcykudW5zdWJzY3JpYmU7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIEJhY29uLm5ldmVyKCk7XG4gICAgfVxuICB9O1xuXG4gIEJhY29uLnJlcGVhdGVkbHkgPSBmdW5jdGlvbihkZWxheSwgdmFsdWVzKSB7XG4gICAgdmFyIGluZGV4O1xuICAgIGluZGV4ID0gMDtcbiAgICByZXR1cm4gd2l0aERlc2MobmV3IEJhY29uLkRlc2MoQmFjb24sIFwicmVwZWF0ZWRseVwiLCBbZGVsYXksIHZhbHVlc10pLCBCYWNvbi5mcm9tUG9sbChkZWxheSwgZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdmFsdWVzW2luZGV4KysgJSB2YWx1ZXMubGVuZ3RoXTtcbiAgICB9KSk7XG4gIH07XG5cbiAgQmFjb24ucmVwZWF0ID0gZnVuY3Rpb24oZ2VuZXJhdG9yKSB7XG4gICAgdmFyIGluZGV4O1xuICAgIGluZGV4ID0gMDtcbiAgICByZXR1cm4gQmFjb24uZnJvbUJpbmRlcihmdW5jdGlvbihzaW5rKSB7XG4gICAgICB2YXIgZmxhZywgaGFuZGxlRXZlbnQsIHJlcGx5LCBzdWJzY3JpYmVOZXh0LCB1bnN1YjtcbiAgICAgIGZsYWcgPSBmYWxzZTtcbiAgICAgIHJlcGx5ID0gQmFjb24ubW9yZTtcbiAgICAgIHVuc3ViID0gZnVuY3Rpb24oKSB7fTtcbiAgICAgIGhhbmRsZUV2ZW50ID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgaWYgKGV2ZW50LmlzRW5kKCkpIHtcbiAgICAgICAgICBpZiAoIWZsYWcpIHtcbiAgICAgICAgICAgIHJldHVybiBmbGFnID0gdHJ1ZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHN1YnNjcmliZU5leHQoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHJlcGx5ID0gc2luayhldmVudCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBzdWJzY3JpYmVOZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBuZXh0O1xuICAgICAgICBmbGFnID0gdHJ1ZTtcbiAgICAgICAgd2hpbGUgKGZsYWcgJiYgcmVwbHkgIT09IEJhY29uLm5vTW9yZSkge1xuICAgICAgICAgIG5leHQgPSBnZW5lcmF0b3IoaW5kZXgrKyk7XG4gICAgICAgICAgZmxhZyA9IGZhbHNlO1xuICAgICAgICAgIGlmIChuZXh0KSB7XG4gICAgICAgICAgICB1bnN1YiA9IG5leHQuc3Vic2NyaWJlSW50ZXJuYWwoaGFuZGxlRXZlbnQpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzaW5rKGVuZEV2ZW50KCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmxhZyA9IHRydWU7XG4gICAgICB9O1xuICAgICAgc3Vic2NyaWJlTmV4dCgpO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdW5zdWIoKTtcbiAgICAgIH07XG4gICAgfSk7XG4gIH07XG5cbiAgQmFjb24ucmV0cnkgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgdmFyIGRlbGF5LCBlcnJvciwgZmluaXNoZWQsIGlzUmV0cnlhYmxlLCBtYXhSZXRyaWVzLCByZXRyaWVzLCBzb3VyY2U7XG4gICAgaWYgKCFfLmlzRnVuY3Rpb24ob3B0aW9ucy5zb3VyY2UpKSB7XG4gICAgICB0aHJvdyBuZXcgRXhjZXB0aW9uKFwiJ3NvdXJjZScgb3B0aW9uIGhhcyB0byBiZSBhIGZ1bmN0aW9uXCIpO1xuICAgIH1cbiAgICBzb3VyY2UgPSBvcHRpb25zLnNvdXJjZTtcbiAgICByZXRyaWVzID0gb3B0aW9ucy5yZXRyaWVzIHx8IDA7XG4gICAgbWF4UmV0cmllcyA9IG9wdGlvbnMubWF4UmV0cmllcyB8fCByZXRyaWVzO1xuICAgIGRlbGF5ID0gb3B0aW9ucy5kZWxheSB8fCBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH07XG4gICAgaXNSZXRyeWFibGUgPSBvcHRpb25zLmlzUmV0cnlhYmxlIHx8IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICBmaW5pc2hlZCA9IGZhbHNlO1xuICAgIGVycm9yID0gbnVsbDtcbiAgICByZXR1cm4gd2l0aERlc2MobmV3IEJhY29uLkRlc2MoQmFjb24sIFwicmV0cnlcIiwgW29wdGlvbnNdKSwgQmFjb24ucmVwZWF0KGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGNvbnRleHQsIHBhdXNlLCB2YWx1ZVN0cmVhbTtcbiAgICAgIGlmIChmaW5pc2hlZCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhbHVlU3RyZWFtID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuIHNvdXJjZSgpLmVuZE9uRXJyb3IoKS53aXRoSGFuZGxlcihmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgaWYgKGV2ZW50LmlzRXJyb3IoKSkge1xuICAgICAgICAgICAgICBlcnJvciA9IGV2ZW50O1xuICAgICAgICAgICAgICBpZiAoaXNSZXRyeWFibGUoZXJyb3IuZXJyb3IpICYmIHJldHJpZXMgPiAwKSB7XG5cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBmaW5pc2hlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucHVzaChldmVudCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGlmIChldmVudC5oYXNWYWx1ZSgpKSB7XG4gICAgICAgICAgICAgICAgZXJyb3IgPSBudWxsO1xuICAgICAgICAgICAgICAgIGZpbmlzaGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wdXNoKGV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgY29udGV4dCA9IHtcbiAgICAgICAgICAgIGVycm9yOiBlcnJvci5lcnJvcixcbiAgICAgICAgICAgIHJldHJpZXNEb25lOiBtYXhSZXRyaWVzIC0gcmV0cmllc1xuICAgICAgICAgIH07XG4gICAgICAgICAgcGF1c2UgPSBCYWNvbi5sYXRlcihkZWxheShjb250ZXh0KSkuZmlsdGVyKGZhbHNlKTtcbiAgICAgICAgICByZXRyaWVzID0gcmV0cmllcyAtIDE7XG4gICAgICAgICAgcmV0dXJuIHBhdXNlLmNvbmNhdChCYWNvbi5vbmNlKCkuZmxhdE1hcCh2YWx1ZVN0cmVhbSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiB2YWx1ZVN0cmVhbSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSkpO1xuICB9O1xuXG4gIEJhY29uLnNlcXVlbnRpYWxseSA9IGZ1bmN0aW9uKGRlbGF5LCB2YWx1ZXMpIHtcbiAgICB2YXIgaW5kZXg7XG4gICAgaW5kZXggPSAwO1xuICAgIHJldHVybiB3aXRoRGVzYyhuZXcgQmFjb24uRGVzYyhCYWNvbiwgXCJzZXF1ZW50aWFsbHlcIiwgW2RlbGF5LCB2YWx1ZXNdKSwgQmFjb24uZnJvbVBvbGwoZGVsYXksIGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHZhbHVlO1xuICAgICAgdmFsdWUgPSB2YWx1ZXNbaW5kZXgrK107XG4gICAgICBpZiAoaW5kZXggPCB2YWx1ZXMubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH0gZWxzZSBpZiAoaW5kZXggPT09IHZhbHVlcy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIFt2YWx1ZSwgZW5kRXZlbnQoKV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZW5kRXZlbnQoKTtcbiAgICAgIH1cbiAgICB9KSk7XG4gIH07XG5cbiAgQmFjb24uT2JzZXJ2YWJsZS5wcm90b3R5cGUuc2tpcCA9IGZ1bmN0aW9uKGNvdW50KSB7XG4gICAgcmV0dXJuIHdpdGhEZXNjKG5ldyBCYWNvbi5EZXNjKHRoaXMsIFwic2tpcFwiLCBbY291bnRdKSwgdGhpcy53aXRoSGFuZGxlcihmdW5jdGlvbihldmVudCkge1xuICAgICAgaWYgKCFldmVudC5oYXNWYWx1ZSgpKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnB1c2goZXZlbnQpO1xuICAgICAgfSBlbHNlIGlmIChjb3VudCA+IDApIHtcbiAgICAgICAgY291bnQtLTtcbiAgICAgICAgcmV0dXJuIEJhY29uLm1vcmU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdGhpcy5wdXNoKGV2ZW50KTtcbiAgICAgIH1cbiAgICB9KSk7XG4gIH07XG5cbiAgQmFjb24uT2JzZXJ2YWJsZS5wcm90b3R5cGUudGFrZSA9IGZ1bmN0aW9uKGNvdW50KSB7XG4gICAgaWYgKGNvdW50IDw9IDApIHtcbiAgICAgIHJldHVybiBCYWNvbi5uZXZlcigpO1xuICAgIH1cbiAgICByZXR1cm4gd2l0aERlc2MobmV3IEJhY29uLkRlc2ModGhpcywgXCJ0YWtlXCIsIFtjb3VudF0pLCB0aGlzLndpdGhIYW5kbGVyKGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICBpZiAoIWV2ZW50Lmhhc1ZhbHVlKCkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHVzaChldmVudCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb3VudC0tO1xuICAgICAgICBpZiAoY291bnQgPiAwKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMucHVzaChldmVudCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKGNvdW50ID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLnB1c2goZXZlbnQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLnB1c2goZW5kRXZlbnQoKSk7XG4gICAgICAgICAgcmV0dXJuIEJhY29uLm5vTW9yZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pKTtcbiAgfTtcblxuICBCYWNvbi5FdmVudFN0cmVhbS5wcm90b3R5cGUuc2tpcFVudGlsID0gZnVuY3Rpb24oc3RhcnRlcikge1xuICAgIHZhciBzdGFydGVkO1xuICAgIHN0YXJ0ZWQgPSBzdGFydGVyLnRha2UoMSkubWFwKHRydWUpLnRvUHJvcGVydHkoZmFsc2UpO1xuICAgIHJldHVybiB3aXRoRGVzYyhuZXcgQmFjb24uRGVzYyh0aGlzLCBcInNraXBVbnRpbFwiLCBbc3RhcnRlcl0pLCB0aGlzLmZpbHRlcihzdGFydGVkKSk7XG4gIH07XG5cbiAgQmFjb24uRXZlbnRTdHJlYW0ucHJvdG90eXBlLnNraXBXaGlsZSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBhcmdzLCBmLCBvaztcbiAgICBmID0gYXJndW1lbnRzWzBdLCBhcmdzID0gMiA8PSBhcmd1bWVudHMubGVuZ3RoID8gc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpIDogW107XG4gICAgYXNzZXJ0T2JzZXJ2YWJsZUlzUHJvcGVydHkoZik7XG4gICAgb2sgPSBmYWxzZTtcbiAgICByZXR1cm4gY29udmVydEFyZ3NUb0Z1bmN0aW9uKHRoaXMsIGYsIGFyZ3MsIGZ1bmN0aW9uKGYpIHtcbiAgICAgIHJldHVybiB3aXRoRGVzYyhuZXcgQmFjb24uRGVzYyh0aGlzLCBcInNraXBXaGlsZVwiLCBbZl0pLCB0aGlzLndpdGhIYW5kbGVyKGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgIGlmIChvayB8fCAhZXZlbnQuaGFzVmFsdWUoKSB8fCAhZihldmVudC52YWx1ZSgpKSkge1xuICAgICAgICAgIGlmIChldmVudC5oYXNWYWx1ZSgpKSB7XG4gICAgICAgICAgICBvayA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB0aGlzLnB1c2goZXZlbnQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBCYWNvbi5tb3JlO1xuICAgICAgICB9XG4gICAgICB9KSk7XG4gICAgfSk7XG4gIH07XG5cbiAgQmFjb24uT2JzZXJ2YWJsZS5wcm90b3R5cGUuc2xpZGluZ1dpbmRvdyA9IGZ1bmN0aW9uKG4sIG1pblZhbHVlcykge1xuICAgIGlmIChtaW5WYWx1ZXMgPT0gbnVsbCkge1xuICAgICAgbWluVmFsdWVzID0gMDtcbiAgICB9XG4gICAgcmV0dXJuIHdpdGhEZXNjKG5ldyBCYWNvbi5EZXNjKHRoaXMsIFwic2xpZGluZ1dpbmRvd1wiLCBbbiwgbWluVmFsdWVzXSksIHRoaXMuc2NhbihbXSwgKGZ1bmN0aW9uKHdpbmRvdywgdmFsdWUpIHtcbiAgICAgIHJldHVybiB3aW5kb3cuY29uY2F0KFt2YWx1ZV0pLnNsaWNlKC1uKTtcbiAgICB9KSkuZmlsdGVyKChmdW5jdGlvbih2YWx1ZXMpIHtcbiAgICAgIHJldHVybiB2YWx1ZXMubGVuZ3RoID49IG1pblZhbHVlcztcbiAgICB9KSkpO1xuICB9O1xuXG4gIEJhY29uLnNweSA9IGZ1bmN0aW9uKHNweSkge1xuICAgIHJldHVybiBzcHlzLnB1c2goc3B5KTtcbiAgfTtcblxuICBzcHlzID0gW107XG5cbiAgcmVnaXN0ZXJPYnMgPSBmdW5jdGlvbihvYnMpIHtcbiAgICB2YXIgaiwgbGVuMSwgc3B5O1xuICAgIGlmIChzcHlzLmxlbmd0aCkge1xuICAgICAgaWYgKCFyZWdpc3Rlck9icy5ydW5uaW5nKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmVnaXN0ZXJPYnMucnVubmluZyA9IHRydWU7XG4gICAgICAgICAgZm9yIChqID0gMCwgbGVuMSA9IHNweXMubGVuZ3RoOyBqIDwgbGVuMTsgaisrKSB7XG4gICAgICAgICAgICBzcHkgPSBzcHlzW2pdO1xuICAgICAgICAgICAgc3B5KG9icyk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIGRlbGV0ZSByZWdpc3Rlck9icy5ydW5uaW5nO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB2b2lkIDA7XG4gIH07XG5cbiAgQmFjb24uUHJvcGVydHkucHJvdG90eXBlLnN0YXJ0V2l0aCA9IGZ1bmN0aW9uKHNlZWQpIHtcbiAgICByZXR1cm4gd2l0aERlc2MobmV3IEJhY29uLkRlc2ModGhpcywgXCJzdGFydFdpdGhcIiwgW3NlZWRdKSwgdGhpcy5zY2FuKHNlZWQsIGZ1bmN0aW9uKHByZXYsIG5leHQpIHtcbiAgICAgIHJldHVybiBuZXh0O1xuICAgIH0pKTtcbiAgfTtcblxuICBCYWNvbi5FdmVudFN0cmVhbS5wcm90b3R5cGUuc3RhcnRXaXRoID0gZnVuY3Rpb24oc2VlZCkge1xuICAgIHJldHVybiB3aXRoRGVzYyhuZXcgQmFjb24uRGVzYyh0aGlzLCBcInN0YXJ0V2l0aFwiLCBbc2VlZF0pLCBCYWNvbi5vbmNlKHNlZWQpLmNvbmNhdCh0aGlzKSk7XG4gIH07XG5cbiAgQmFjb24uT2JzZXJ2YWJsZS5wcm90b3R5cGUudGFrZVdoaWxlID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGFyZ3MsIGY7XG4gICAgZiA9IGFyZ3VtZW50c1swXSwgYXJncyA9IDIgPD0gYXJndW1lbnRzLmxlbmd0aCA/IHNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSA6IFtdO1xuICAgIGFzc2VydE9ic2VydmFibGVJc1Byb3BlcnR5KGYpO1xuICAgIHJldHVybiBjb252ZXJ0QXJnc1RvRnVuY3Rpb24odGhpcywgZiwgYXJncywgZnVuY3Rpb24oZikge1xuICAgICAgcmV0dXJuIHdpdGhEZXNjKG5ldyBCYWNvbi5EZXNjKHRoaXMsIFwidGFrZVdoaWxlXCIsIFtmXSksIHRoaXMud2l0aEhhbmRsZXIoZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgaWYgKGV2ZW50LmZpbHRlcihmKSkge1xuICAgICAgICAgIHJldHVybiB0aGlzLnB1c2goZXZlbnQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMucHVzaChlbmRFdmVudCgpKTtcbiAgICAgICAgICByZXR1cm4gQmFjb24ubm9Nb3JlO1xuICAgICAgICB9XG4gICAgICB9KSk7XG4gICAgfSk7XG4gIH07XG5cbiAgQmFjb24udXBkYXRlID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGksIGluaXRpYWwsIGxhdGVCaW5kRmlyc3QsIHBhdHRlcm5zO1xuICAgIGluaXRpYWwgPSBhcmd1bWVudHNbMF0sIHBhdHRlcm5zID0gMiA8PSBhcmd1bWVudHMubGVuZ3RoID8gc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpIDogW107XG4gICAgbGF0ZUJpbmRGaXJzdCA9IGZ1bmN0aW9uKGYpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGFyZ3M7XG4gICAgICAgIGFyZ3MgPSAxIDw9IGFyZ3VtZW50cy5sZW5ndGggPyBzbGljZS5jYWxsKGFyZ3VtZW50cywgMCkgOiBbXTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGkpIHtcbiAgICAgICAgICByZXR1cm4gZi5hcHBseShudWxsLCBbaV0uY29uY2F0KGFyZ3MpKTtcbiAgICAgICAgfTtcbiAgICAgIH07XG4gICAgfTtcbiAgICBpID0gcGF0dGVybnMubGVuZ3RoIC0gMTtcbiAgICB3aGlsZSAoaSA+IDApIHtcbiAgICAgIGlmICghKHBhdHRlcm5zW2ldIGluc3RhbmNlb2YgRnVuY3Rpb24pKSB7XG4gICAgICAgIHBhdHRlcm5zW2ldID0gKGZ1bmN0aW9uKHgpIHtcbiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4geDtcbiAgICAgICAgICB9O1xuICAgICAgICB9KShwYXR0ZXJuc1tpXSk7XG4gICAgICB9XG4gICAgICBwYXR0ZXJuc1tpXSA9IGxhdGVCaW5kRmlyc3QocGF0dGVybnNbaV0pO1xuICAgICAgaSA9IGkgLSAyO1xuICAgIH1cbiAgICByZXR1cm4gd2l0aERlc2MobmV3IEJhY29uLkRlc2MoQmFjb24sIFwidXBkYXRlXCIsIFtpbml0aWFsXS5jb25jYXQoc2xpY2UuY2FsbChwYXR0ZXJucykpKSwgQmFjb24ud2hlbi5hcHBseShCYWNvbiwgcGF0dGVybnMpLnNjYW4oaW5pdGlhbCwgKGZ1bmN0aW9uKHgsIGYpIHtcbiAgICAgIHJldHVybiBmKHgpO1xuICAgIH0pKSk7XG4gIH07XG5cbiAgQmFjb24uemlwQXNBcnJheSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBzdHJlYW1zO1xuICAgIHN0cmVhbXMgPSBhcmd1bWVudHNUb09ic2VydmFibGVzKGFyZ3VtZW50cyk7XG4gICAgcmV0dXJuIHdpdGhEZXNjKG5ldyBCYWNvbi5EZXNjKEJhY29uLCBcInppcEFzQXJyYXlcIiwgc3RyZWFtcyksIEJhY29uLnppcFdpdGgoc3RyZWFtcywgZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgeHM7XG4gICAgICB4cyA9IDEgPD0gYXJndW1lbnRzLmxlbmd0aCA/IHNsaWNlLmNhbGwoYXJndW1lbnRzLCAwKSA6IFtdO1xuICAgICAgcmV0dXJuIHhzO1xuICAgIH0pKTtcbiAgfTtcblxuICBCYWNvbi56aXBXaXRoID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGYsIHJlZjEsIHN0cmVhbXM7XG4gICAgcmVmMSA9IGFyZ3VtZW50c1RvT2JzZXJ2YWJsZXNBbmRGdW5jdGlvbihhcmd1bWVudHMpLCBzdHJlYW1zID0gcmVmMVswXSwgZiA9IHJlZjFbMV07XG4gICAgc3RyZWFtcyA9IF8ubWFwKChmdW5jdGlvbihzKSB7XG4gICAgICByZXR1cm4gcy50b0V2ZW50U3RyZWFtKCk7XG4gICAgfSksIHN0cmVhbXMpO1xuICAgIHJldHVybiB3aXRoRGVzYyhuZXcgQmFjb24uRGVzYyhCYWNvbiwgXCJ6aXBXaXRoXCIsIFtmXS5jb25jYXQoc2xpY2UuY2FsbChzdHJlYW1zKSkpLCBCYWNvbi53aGVuKHN0cmVhbXMsIGYpKTtcbiAgfTtcblxuICBCYWNvbi5PYnNlcnZhYmxlLnByb3RvdHlwZS56aXAgPSBmdW5jdGlvbihvdGhlciwgZikge1xuICAgIGlmIChmID09IG51bGwpIHtcbiAgICAgIGYgPSBBcnJheTtcbiAgICB9XG4gICAgcmV0dXJuIHdpdGhEZXNjKG5ldyBCYWNvbi5EZXNjKHRoaXMsIFwiemlwXCIsIFtvdGhlcl0pLCBCYWNvbi56aXBXaXRoKFt0aGlzLCBvdGhlcl0sIGYpKTtcbiAgfTtcblxuICBcblxuQmFjb24uT2JzZXJ2YWJsZS5wcm90b3R5cGUuZmlyc3QgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB3aXRoRGVzYyhuZXcgQmFjb24uRGVzYyh0aGlzLCBcImZpcnN0XCIsIFtdKSwgdGhpcy50YWtlKDEpKTtcbn07XG5cbkJhY29uLk9ic2VydmFibGUucHJvdG90eXBlLmxhc3QgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBsYXN0RXZlbnQ7XG5cbiAgcmV0dXJuIHdpdGhEZXNjKG5ldyBCYWNvbi5EZXNjKHRoaXMsIFwibGFzdFwiLCBbXSksIHRoaXMud2l0aEhhbmRsZXIoZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50LmlzRW5kKCkpIHtcbiAgICAgIGlmIChsYXN0RXZlbnQpIHtcbiAgICAgICAgdGhpcy5wdXNoKGxhc3RFdmVudCk7XG4gICAgICB9XG4gICAgICB0aGlzLnB1c2goZW5kRXZlbnQoKSk7XG4gICAgICByZXR1cm4gQmFjb24ubm9Nb3JlO1xuICAgIH0gZWxzZSB7XG4gICAgICBsYXN0RXZlbnQgPSBldmVudDtcbiAgICB9XG4gIH0pKTtcbn07XG5cbkJhY29uLkV2ZW50U3RyZWFtLnByb3RvdHlwZS50aHJvdHRsZSA9IGZ1bmN0aW9uIChkZWxheSkge1xuICByZXR1cm4gd2l0aERlc2MobmV3IEJhY29uLkRlc2ModGhpcywgXCJ0aHJvdHRsZVwiLCBbZGVsYXldKSwgdGhpcy5idWZmZXJXaXRoVGltZShkZWxheSkubWFwKGZ1bmN0aW9uICh2YWx1ZXMpIHtcbiAgICByZXR1cm4gdmFsdWVzW3ZhbHVlcy5sZW5ndGggLSAxXTtcbiAgfSkpO1xufTtcblxuQmFjb24uUHJvcGVydHkucHJvdG90eXBlLnRocm90dGxlID0gZnVuY3Rpb24gKGRlbGF5KSB7XG4gIHJldHVybiB0aGlzLmRlbGF5Q2hhbmdlcyhuZXcgQmFjb24uRGVzYyh0aGlzLCBcInRocm90dGxlXCIsIFtkZWxheV0pLCBmdW5jdGlvbiAoY2hhbmdlcykge1xuICAgIHJldHVybiBjaGFuZ2VzLnRocm90dGxlKGRlbGF5KTtcbiAgfSk7XG59O1xuXG5PYnNlcnZhYmxlLnByb3RvdHlwZS5maXJzdFRvUHJvbWlzZSA9IGZ1bmN0aW9uIChQcm9taXNlQ3RyKSB7XG4gIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgaWYgKHR5cGVvZiBQcm9taXNlQ3RyICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICBpZiAodHlwZW9mIFByb21pc2UgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgUHJvbWlzZUN0ciA9IFByb21pc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oXCJUaGVyZSBpc24ndCBkZWZhdWx0IFByb21pc2UsIHVzZSBzaGltIG9yIHBhcmFtZXRlclwiKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbmV3IFByb21pc2VDdHIoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgIHJldHVybiBfdGhpcy5zdWJzY3JpYmUoZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBpZiAoZXZlbnQuaGFzVmFsdWUoKSkge1xuICAgICAgICByZXNvbHZlKGV2ZW50LnZhbHVlKCkpO1xuICAgICAgfVxuICAgICAgaWYgKGV2ZW50LmlzRXJyb3IoKSkge1xuICAgICAgICByZWplY3QoZXZlbnQuZXJyb3IpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gQmFjb24ubm9Nb3JlO1xuICAgIH0pO1xuICB9KTtcbn07XG5cbk9ic2VydmFibGUucHJvdG90eXBlLnRvUHJvbWlzZSA9IGZ1bmN0aW9uIChQcm9taXNlQ3RyKSB7XG4gIHJldHVybiB0aGlzLmxhc3QoKS5maXJzdFRvUHJvbWlzZShQcm9taXNlQ3RyKTtcbn07XG5cbmlmICgodHlwZW9mIGRlZmluZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBkZWZpbmUgIT09IG51bGwpICYmIChkZWZpbmUuYW1kICE9IG51bGwpKSB7XG4gICAgZGVmaW5lKFtdLCBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBCYWNvbjtcbiAgICB9KTtcbiAgICBpZiAodHlwZW9mIHRoaXMgIT09IFwidW5kZWZpbmVkXCIgJiYgdGhpcyAhPT0gbnVsbCkge1xuICAgICAgdGhpcy5CYWNvbiA9IEJhY29uO1xuICAgIH1cbiAgfSBlbHNlIGlmICgodHlwZW9mIG1vZHVsZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBtb2R1bGUgIT09IG51bGwpICYmIChtb2R1bGUuZXhwb3J0cyAhPSBudWxsKSkge1xuICAgIG1vZHVsZS5leHBvcnRzID0gQmFjb247XG4gICAgQmFjb24uQmFjb24gPSBCYWNvbjtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLkJhY29uID0gQmFjb247XG4gIH1cblxufSkuY2FsbCh0aGlzKTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2JhY29uanMvZGlzdC9CYWNvbi5qc1xuICoqIG1vZHVsZSBpZCA9IDMyXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgaGFzT3duID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbnZhciB0b1N0ciA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG52YXIgdW5kZWZpbmVkO1xuXG52YXIgaXNBcnJheSA9IGZ1bmN0aW9uIGlzQXJyYXkoYXJyKSB7XG5cdGlmICh0eXBlb2YgQXJyYXkuaXNBcnJheSA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdHJldHVybiBBcnJheS5pc0FycmF5KGFycik7XG5cdH1cblxuXHRyZXR1cm4gdG9TdHIuY2FsbChhcnIpID09PSAnW29iamVjdCBBcnJheV0nO1xufTtcblxudmFyIGlzUGxhaW5PYmplY3QgPSBmdW5jdGlvbiBpc1BsYWluT2JqZWN0KG9iaikge1xuXHQndXNlIHN0cmljdCc7XG5cdGlmICghb2JqIHx8IHRvU3RyLmNhbGwob2JqKSAhPT0gJ1tvYmplY3QgT2JqZWN0XScpIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHR2YXIgaGFzX293bl9jb25zdHJ1Y3RvciA9IGhhc093bi5jYWxsKG9iaiwgJ2NvbnN0cnVjdG9yJyk7XG5cdHZhciBoYXNfaXNfcHJvcGVydHlfb2ZfbWV0aG9kID0gb2JqLmNvbnN0cnVjdG9yICYmIG9iai5jb25zdHJ1Y3Rvci5wcm90b3R5cGUgJiYgaGFzT3duLmNhbGwob2JqLmNvbnN0cnVjdG9yLnByb3RvdHlwZSwgJ2lzUHJvdG90eXBlT2YnKTtcblx0Ly8gTm90IG93biBjb25zdHJ1Y3RvciBwcm9wZXJ0eSBtdXN0IGJlIE9iamVjdFxuXHRpZiAob2JqLmNvbnN0cnVjdG9yICYmICFoYXNfb3duX2NvbnN0cnVjdG9yICYmICFoYXNfaXNfcHJvcGVydHlfb2ZfbWV0aG9kKSB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0Ly8gT3duIHByb3BlcnRpZXMgYXJlIGVudW1lcmF0ZWQgZmlyc3RseSwgc28gdG8gc3BlZWQgdXAsXG5cdC8vIGlmIGxhc3Qgb25lIGlzIG93biwgdGhlbiBhbGwgcHJvcGVydGllcyBhcmUgb3duLlxuXHR2YXIga2V5O1xuXHRmb3IgKGtleSBpbiBvYmopIHt9XG5cblx0cmV0dXJuIGtleSA9PT0gdW5kZWZpbmVkIHx8IGhhc093bi5jYWxsKG9iaiwga2V5KTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZXh0ZW5kKCkge1xuXHQndXNlIHN0cmljdCc7XG5cdHZhciBvcHRpb25zLCBuYW1lLCBzcmMsIGNvcHksIGNvcHlJc0FycmF5LCBjbG9uZSxcblx0XHR0YXJnZXQgPSBhcmd1bWVudHNbMF0sXG5cdFx0aSA9IDEsXG5cdFx0bGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aCxcblx0XHRkZWVwID0gZmFsc2U7XG5cblx0Ly8gSGFuZGxlIGEgZGVlcCBjb3B5IHNpdHVhdGlvblxuXHRpZiAodHlwZW9mIHRhcmdldCA9PT0gJ2Jvb2xlYW4nKSB7XG5cdFx0ZGVlcCA9IHRhcmdldDtcblx0XHR0YXJnZXQgPSBhcmd1bWVudHNbMV0gfHwge307XG5cdFx0Ly8gc2tpcCB0aGUgYm9vbGVhbiBhbmQgdGhlIHRhcmdldFxuXHRcdGkgPSAyO1xuXHR9IGVsc2UgaWYgKCh0eXBlb2YgdGFyZ2V0ICE9PSAnb2JqZWN0JyAmJiB0eXBlb2YgdGFyZ2V0ICE9PSAnZnVuY3Rpb24nKSB8fCB0YXJnZXQgPT0gbnVsbCkge1xuXHRcdHRhcmdldCA9IHt9O1xuXHR9XG5cblx0Zm9yICg7IGkgPCBsZW5ndGg7ICsraSkge1xuXHRcdG9wdGlvbnMgPSBhcmd1bWVudHNbaV07XG5cdFx0Ly8gT25seSBkZWFsIHdpdGggbm9uLW51bGwvdW5kZWZpbmVkIHZhbHVlc1xuXHRcdGlmIChvcHRpb25zICE9IG51bGwpIHtcblx0XHRcdC8vIEV4dGVuZCB0aGUgYmFzZSBvYmplY3Rcblx0XHRcdGZvciAobmFtZSBpbiBvcHRpb25zKSB7XG5cdFx0XHRcdHNyYyA9IHRhcmdldFtuYW1lXTtcblx0XHRcdFx0Y29weSA9IG9wdGlvbnNbbmFtZV07XG5cblx0XHRcdFx0Ly8gUHJldmVudCBuZXZlci1lbmRpbmcgbG9vcFxuXHRcdFx0XHRpZiAodGFyZ2V0ID09PSBjb3B5KSB7XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBSZWN1cnNlIGlmIHdlJ3JlIG1lcmdpbmcgcGxhaW4gb2JqZWN0cyBvciBhcnJheXNcblx0XHRcdFx0aWYgKGRlZXAgJiYgY29weSAmJiAoaXNQbGFpbk9iamVjdChjb3B5KSB8fCAoY29weUlzQXJyYXkgPSBpc0FycmF5KGNvcHkpKSkpIHtcblx0XHRcdFx0XHRpZiAoY29weUlzQXJyYXkpIHtcblx0XHRcdFx0XHRcdGNvcHlJc0FycmF5ID0gZmFsc2U7XG5cdFx0XHRcdFx0XHRjbG9uZSA9IHNyYyAmJiBpc0FycmF5KHNyYykgPyBzcmMgOiBbXTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0Y2xvbmUgPSBzcmMgJiYgaXNQbGFpbk9iamVjdChzcmMpID8gc3JjIDoge307XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gTmV2ZXIgbW92ZSBvcmlnaW5hbCBvYmplY3RzLCBjbG9uZSB0aGVtXG5cdFx0XHRcdFx0dGFyZ2V0W25hbWVdID0gZXh0ZW5kKGRlZXAsIGNsb25lLCBjb3B5KTtcblxuXHRcdFx0XHQvLyBEb24ndCBicmluZyBpbiB1bmRlZmluZWQgdmFsdWVzXG5cdFx0XHRcdH0gZWxzZSBpZiAoY29weSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0dGFyZ2V0W25hbWVdID0gY29weTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8vIFJldHVybiB0aGUgbW9kaWZpZWQgb2JqZWN0XG5cdHJldHVybiB0YXJnZXQ7XG59O1xuXG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9leHRlbmQvaW5kZXguanNcbiAqKiBtb2R1bGUgaWQgPSAzM1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwibW9kdWxlLmV4cG9ydHMgPSB7XG5cdFwibmFtZVwiOiBcInAyXCIsXG5cdFwidmVyc2lvblwiOiBcIjAuNy4wXCIsXG5cdFwiZGVzY3JpcHRpb25cIjogXCJBIEphdmFTY3JpcHQgMkQgcGh5c2ljcyBlbmdpbmUuXCIsXG5cdFwiYXV0aG9yXCI6IHtcblx0XHRcIm5hbWVcIjogXCJTdGVmYW4gSGVkbWFuXCIsXG5cdFx0XCJlbWFpbFwiOiBcInNjaHRlcHBlQGdtYWlsLmNvbVwiLFxuXHRcdFwidXJsXCI6IFwiaHR0cDovL3N0ZWZmZS5zZVwiXG5cdH0sXG5cdFwia2V5d29yZHNcIjogW1xuXHRcdFwicDIuanNcIixcblx0XHRcInAyXCIsXG5cdFx0XCJwaHlzaWNzXCIsXG5cdFx0XCJlbmdpbmVcIixcblx0XHRcIjJkXCJcblx0XSxcblx0XCJtYWluXCI6IFwiLi9zcmMvcDIuanNcIixcblx0XCJlbmdpbmVzXCI6IHtcblx0XHRcIm5vZGVcIjogXCIqXCJcblx0fSxcblx0XCJyZXBvc2l0b3J5XCI6IHtcblx0XHRcInR5cGVcIjogXCJnaXRcIixcblx0XHRcInVybFwiOiBcImh0dHBzOi8vZ2l0aHViLmNvbS9zY2h0ZXBwZS9wMi5qcy5naXRcIlxuXHR9LFxuXHRcImJ1Z3NcIjoge1xuXHRcdFwidXJsXCI6IFwiaHR0cHM6Ly9naXRodWIuY29tL3NjaHRlcHBlL3AyLmpzL2lzc3Vlc1wiXG5cdH0sXG5cdFwibGljZW5zZXNcIjogW1xuXHRcdHtcblx0XHRcdFwidHlwZVwiOiBcIk1JVFwiXG5cdFx0fVxuXHRdLFxuXHRcImRldkRlcGVuZGVuY2llc1wiOiB7XG5cdFx0XCJncnVudFwiOiBcIl4wLjQuNVwiLFxuXHRcdFwiZ3J1bnQtY29udHJpYi1qc2hpbnRcIjogXCJeMC4xMS4yXCIsXG5cdFx0XCJncnVudC1jb250cmliLW5vZGV1bml0XCI6IFwiXjAuNC4xXCIsXG5cdFx0XCJncnVudC1jb250cmliLXVnbGlmeVwiOiBcIn4wLjQuMFwiLFxuXHRcdFwiZ3J1bnQtY29udHJpYi13YXRjaFwiOiBcIn4wLjUuMFwiLFxuXHRcdFwiZ3J1bnQtYnJvd3NlcmlmeVwiOiBcIn4yLjAuMVwiLFxuXHRcdFwiZ3J1bnQtY29udHJpYi1jb25jYXRcIjogXCJeMC40LjBcIlxuXHR9LFxuXHRcImRlcGVuZGVuY2llc1wiOiB7XG5cdFx0XCJwb2x5LWRlY29tcFwiOiBcIjAuMS4wXCJcblx0fSxcblx0XCJob21lcGFnZVwiOiBcImh0dHBzOi8vZ2l0aHViLmNvbS9zY2h0ZXBwZS9wMi5qc1wiLFxuXHRcIl9pZFwiOiBcInAyQDAuNy4wXCIsXG5cdFwiZGlzdFwiOiB7XG5cdFx0XCJzaGFzdW1cIjogXCI5YzIyNjg4MDg0OTQ0NzA1YTJlOGRlZGI5OGQ3NjI5MzY0NTcyZTZiXCIsXG5cdFx0XCJ0YXJiYWxsXCI6IFwiaHR0cDovL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9wMi8tL3AyLTAuNy4wLnRnelwiXG5cdH0sXG5cdFwiX2Zyb21cIjogXCJwMkA+PTAuNy4wIDwwLjguMFwiLFxuXHRcIl9ucG1WZXJzaW9uXCI6IFwiMS40LjNcIixcblx0XCJfbnBtVXNlclwiOiB7XG5cdFx0XCJuYW1lXCI6IFwic2NodGVwcGVcIixcblx0XHRcImVtYWlsXCI6IFwic2NodGVwcGVAZ21haWwuY29tXCJcblx0fSxcblx0XCJtYWludGFpbmVyc1wiOiBbXG5cdFx0e1xuXHRcdFx0XCJuYW1lXCI6IFwic2NodGVwcGVcIixcblx0XHRcdFwiZW1haWxcIjogXCJzY2h0ZXBwZUBnbWFpbC5jb21cIlxuXHRcdH1cblx0XSxcblx0XCJkaXJlY3Rvcmllc1wiOiB7fSxcblx0XCJfc2hhc3VtXCI6IFwiOWMyMjY4ODA4NDk0NDcwNWEyZThkZWRiOThkNzYyOTM2NDU3MmU2YlwiLFxuXHRcIl9yZXNvbHZlZFwiOiBcImh0dHBzOi8vcmVnaXN0cnkubnBtanMub3JnL3AyLy0vcDItMC43LjAudGd6XCJcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcDIvcGFja2FnZS5qc29uXG4gKiogbW9kdWxlIGlkID0gMzRcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8qKlxuICogbG9kYXNoIDMuMC4wIChDdXN0b20gQnVpbGQpIDxodHRwczovL2xvZGFzaC5jb20vPlxuICogQnVpbGQ6IGBsb2Rhc2ggbW9kZXJuIG1vZHVsYXJpemUgZXhwb3J0cz1cIm5wbVwiIC1vIC4vYFxuICogQ29weXJpZ2h0IDIwMTItMjAxNSBUaGUgRG9qbyBGb3VuZGF0aW9uIDxodHRwOi8vZG9qb2ZvdW5kYXRpb24ub3JnLz5cbiAqIEJhc2VkIG9uIFVuZGVyc2NvcmUuanMgMS43LjAgPGh0dHA6Ly91bmRlcnNjb3JlanMub3JnL0xJQ0VOU0U+XG4gKiBDb3B5cmlnaHQgMjAwOS0yMDE1IEplcmVteSBBc2hrZW5hcywgRG9jdW1lbnRDbG91ZCBhbmQgSW52ZXN0aWdhdGl2ZSBSZXBvcnRlcnMgJiBFZGl0b3JzXG4gKiBBdmFpbGFibGUgdW5kZXIgTUlUIGxpY2Vuc2UgPGh0dHBzOi8vbG9kYXNoLmNvbS9saWNlbnNlPlxuICovXG5cbi8qKiBVc2VkIGFzIHRoZSBpbnRlcm5hbCBhcmd1bWVudCBwbGFjZWhvbGRlci4gKi9cbnZhciBQTEFDRUhPTERFUiA9ICdfX2xvZGFzaF9wbGFjZWhvbGRlcl9fJztcblxuLyoqXG4gKiBSZXBsYWNlcyBhbGwgYHBsYWNlaG9sZGVyYCBlbGVtZW50cyBpbiBgYXJyYXlgIHdpdGggYW4gaW50ZXJuYWwgcGxhY2Vob2xkZXJcbiAqIGFuZCByZXR1cm5zIGFuIGFycmF5IG9mIHRoZWlyIGluZGV4ZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gKiBAcGFyYW0geyp9IHBsYWNlaG9sZGVyIFRoZSBwbGFjZWhvbGRlciB0byByZXBsYWNlLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgcGxhY2Vob2xkZXIgaW5kZXhlcy5cbiAqL1xuZnVuY3Rpb24gcmVwbGFjZUhvbGRlcnMoYXJyYXksIHBsYWNlaG9sZGVyKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgcmVzSW5kZXggPSAtMSxcbiAgICAgIHJlc3VsdCA9IFtdO1xuXG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgaWYgKGFycmF5W2luZGV4XSA9PT0gcGxhY2Vob2xkZXIpIHtcbiAgICAgIGFycmF5W2luZGV4XSA9IFBMQUNFSE9MREVSO1xuICAgICAgcmVzdWx0WysrcmVzSW5kZXhdID0gaW5kZXg7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gcmVwbGFjZUhvbGRlcnM7XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9sb2Rhc2gucGFydGlhbHJpZ2h0L34vbG9kYXNoLl9yZXBsYWNlaG9sZGVycy9pbmRleC5qc1xuICoqIG1vZHVsZSBpZCA9IDM1XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvKipcbiAqIGxvZGFzaCAzLjAuNCAoQ3VzdG9tIEJ1aWxkKSA8aHR0cHM6Ly9sb2Rhc2guY29tLz5cbiAqIEJ1aWxkOiBgbG9kYXNoIG1vZGVybiBtb2R1bGFyaXplIGV4cG9ydHM9XCJucG1cIiAtbyAuL2BcbiAqIENvcHlyaWdodCAyMDEyLTIwMTUgVGhlIERvam8gRm91bmRhdGlvbiA8aHR0cDovL2Rvam9mb3VuZGF0aW9uLm9yZy8+XG4gKiBCYXNlZCBvbiBVbmRlcnNjb3JlLmpzIDEuOC4zIDxodHRwOi8vdW5kZXJzY29yZWpzLm9yZy9MSUNFTlNFPlxuICogQ29weXJpZ2h0IDIwMDktMjAxNSBKZXJlbXkgQXNoa2VuYXMsIERvY3VtZW50Q2xvdWQgYW5kIEludmVzdGlnYXRpdmUgUmVwb3J0ZXJzICYgRWRpdG9yc1xuICogQXZhaWxhYmxlIHVuZGVyIE1JVCBsaWNlbnNlIDxodHRwczovL2xvZGFzaC5jb20vbGljZW5zZT5cbiAqL1xuXG4vKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG52YXIgYXJyYXlUYWcgPSAnW29iamVjdCBBcnJheV0nLFxuICAgIGZ1bmNUYWcgPSAnW29iamVjdCBGdW5jdGlvbl0nO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgaG9zdCBjb25zdHJ1Y3RvcnMgKFNhZmFyaSA+IDUpLiAqL1xudmFyIHJlSXNIb3N0Q3RvciA9IC9eXFxbb2JqZWN0IC4rP0NvbnN0cnVjdG9yXFxdJC87XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNPYmplY3RMaWtlKHZhbHVlKSB7XG4gIHJldHVybiAhIXZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0Jztcbn1cblxuLyoqIFVzZWQgZm9yIG5hdGl2ZSBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIHJlc29sdmUgdGhlIGRlY29tcGlsZWQgc291cmNlIG9mIGZ1bmN0aW9ucy4gKi9cbnZhciBmblRvU3RyaW5nID0gRnVuY3Rpb24ucHJvdG90eXBlLnRvU3RyaW5nO1xuXG4vKiogVXNlZCB0byBjaGVjayBvYmplY3RzIGZvciBvd24gcHJvcGVydGllcy4gKi9cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IG9iamVjdFByb3RvLmhhc093blByb3BlcnR5O1xuXG4vKipcbiAqIFVzZWQgdG8gcmVzb2x2ZSB0aGUgW2B0b1N0cmluZ1RhZ2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzYuMC8jc2VjLW9iamVjdC5wcm90b3R5cGUudG9zdHJpbmcpXG4gKiBvZiB2YWx1ZXMuXG4gKi9cbnZhciBvYmpUb1N0cmluZyA9IG9iamVjdFByb3RvLnRvU3RyaW5nO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgaWYgYSBtZXRob2QgaXMgbmF0aXZlLiAqL1xudmFyIHJlSXNOYXRpdmUgPSBSZWdFeHAoJ14nICtcbiAgZm5Ub1N0cmluZy5jYWxsKGhhc093blByb3BlcnR5KS5yZXBsYWNlKC9bXFxcXF4kLiorPygpW1xcXXt9fF0vZywgJ1xcXFwkJicpXG4gIC5yZXBsYWNlKC9oYXNPd25Qcm9wZXJ0eXwoZnVuY3Rpb24pLio/KD89XFxcXFxcKCl8IGZvciAuKz8oPz1cXFxcXFxdKS9nLCAnJDEuKj8nKSArICckJ1xuKTtcblxuLyogTmF0aXZlIG1ldGhvZCByZWZlcmVuY2VzIGZvciB0aG9zZSB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgb3RoZXIgYGxvZGFzaGAgbWV0aG9kcy4gKi9cbnZhciBuYXRpdmVJc0FycmF5ID0gZ2V0TmF0aXZlKEFycmF5LCAnaXNBcnJheScpO1xuXG4vKipcbiAqIFVzZWQgYXMgdGhlIFttYXhpbXVtIGxlbmd0aF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNi4wLyNzZWMtbnVtYmVyLm1heF9zYWZlX2ludGVnZXIpXG4gKiBvZiBhbiBhcnJheS1saWtlIHZhbHVlLlxuICovXG52YXIgTUFYX1NBRkVfSU5URUdFUiA9IDkwMDcxOTkyNTQ3NDA5OTE7XG5cbi8qKlxuICogR2V0cyB0aGUgbmF0aXZlIGZ1bmN0aW9uIGF0IGBrZXlgIG9mIGBvYmplY3RgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIG1ldGhvZCB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZnVuY3Rpb24gaWYgaXQncyBuYXRpdmUsIGVsc2UgYHVuZGVmaW5lZGAuXG4gKi9cbmZ1bmN0aW9uIGdldE5hdGl2ZShvYmplY3QsIGtleSkge1xuICB2YXIgdmFsdWUgPSBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IG9iamVjdFtrZXldO1xuICByZXR1cm4gaXNOYXRpdmUodmFsdWUpID8gdmFsdWUgOiB1bmRlZmluZWQ7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBhcnJheS1saWtlIGxlbmd0aC5cbiAqXG4gKiAqKk5vdGU6KiogVGhpcyBmdW5jdGlvbiBpcyBiYXNlZCBvbiBbYFRvTGVuZ3RoYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNi4wLyNzZWMtdG9sZW5ndGgpLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgbGVuZ3RoLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzTGVuZ3RoKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicgJiYgdmFsdWUgPiAtMSAmJiB2YWx1ZSAlIDEgPT0gMCAmJiB2YWx1ZSA8PSBNQVhfU0FGRV9JTlRFR0VSO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYW4gYEFycmF5YCBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGNvcnJlY3RseSBjbGFzc2lmaWVkLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNBcnJheShbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheShmdW5jdGlvbigpIHsgcmV0dXJuIGFyZ3VtZW50czsgfSgpKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbnZhciBpc0FycmF5ID0gbmF0aXZlSXNBcnJheSB8fCBmdW5jdGlvbih2YWx1ZSkge1xuICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBpc0xlbmd0aCh2YWx1ZS5sZW5ndGgpICYmIG9ialRvU3RyaW5nLmNhbGwodmFsdWUpID09IGFycmF5VGFnO1xufTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYEZ1bmN0aW9uYCBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGNvcnJlY3RseSBjbGFzc2lmaWVkLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNGdW5jdGlvbihfKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzRnVuY3Rpb24oL2FiYy8pO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNGdW5jdGlvbih2YWx1ZSkge1xuICAvLyBUaGUgdXNlIG9mIGBPYmplY3QjdG9TdHJpbmdgIGF2b2lkcyBpc3N1ZXMgd2l0aCB0aGUgYHR5cGVvZmAgb3BlcmF0b3JcbiAgLy8gaW4gb2xkZXIgdmVyc2lvbnMgb2YgQ2hyb21lIGFuZCBTYWZhcmkgd2hpY2ggcmV0dXJuICdmdW5jdGlvbicgZm9yIHJlZ2V4ZXNcbiAgLy8gYW5kIFNhZmFyaSA4IGVxdWl2YWxlbnRzIHdoaWNoIHJldHVybiAnb2JqZWN0JyBmb3IgdHlwZWQgYXJyYXkgY29uc3RydWN0b3JzLlxuICByZXR1cm4gaXNPYmplY3QodmFsdWUpICYmIG9ialRvU3RyaW5nLmNhbGwodmFsdWUpID09IGZ1bmNUYWc7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgdGhlIFtsYW5ndWFnZSB0eXBlXShodHRwczovL2VzNS5naXRodWIuaW8vI3g4KSBvZiBgT2JqZWN0YC5cbiAqIChlLmcuIGFycmF5cywgZnVuY3Rpb25zLCBvYmplY3RzLCByZWdleGVzLCBgbmV3IE51bWJlcigwKWAsIGFuZCBgbmV3IFN0cmluZygnJylgKVxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc09iamVjdCh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QoMSk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdCh2YWx1ZSkge1xuICAvLyBBdm9pZCBhIFY4IEpJVCBidWcgaW4gQ2hyb21lIDE5LTIwLlxuICAvLyBTZWUgaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTIyOTEgZm9yIG1vcmUgZGV0YWlscy5cbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gIHJldHVybiAhIXZhbHVlICYmICh0eXBlID09ICdvYmplY3QnIHx8IHR5cGUgPT0gJ2Z1bmN0aW9uJyk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBuYXRpdmUgZnVuY3Rpb24uXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgbmF0aXZlIGZ1bmN0aW9uLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNOYXRpdmUoQXJyYXkucHJvdG90eXBlLnB1c2gpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNOYXRpdmUoXyk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc05hdGl2ZSh2YWx1ZSkge1xuICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAoaXNGdW5jdGlvbih2YWx1ZSkpIHtcbiAgICByZXR1cm4gcmVJc05hdGl2ZS50ZXN0KGZuVG9TdHJpbmcuY2FsbCh2YWx1ZSkpO1xuICB9XG4gIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIHJlSXNIb3N0Q3Rvci50ZXN0KHZhbHVlKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc0FycmF5O1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vbG9kYXNoLnNldC9+L2xvZGFzaC5pc2FycmF5L2luZGV4LmpzXG4gKiogbW9kdWxlIGlkID0gMzZcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsImltcG9ydCBwMiBmcm9tICdwMic7XG5pbXBvcnQge1dJRFRIIGFzIFBMQU5FX1dJRFRILCBIRUlHSFQgYXMgUExBTkVfSEVJR0hUfSBmcm9tICdwbGFuZSc7XG5pbXBvcnQge1JBRElBTn0gZnJvbSAnY29uc3RhbnRzJztcbmV4cG9ydCBjb25zdCBXSURUSCA9IDAuNzU7XG5leHBvcnQgY29uc3QgSEVJR0hUID0gMC4zO1xuZXhwb3J0IGNvbnN0IEFMSVZFX1RJTUUgPSAyNTtcblxuZXhwb3J0IGZ1bmN0aW9uIGluaXRpYWwoKSB7XG4gIHJldHVybiB7XG4gICAgYnVsbGV0czogW10sXG4gICAgZXhwbG9zaW9uczogW10sXG4gICAgc291bmRzOiB7XG4gICAgICBjcmVhdGVkOiBbXVxuICAgIH1cbiAgfTtcbn1cblxuZnVuY3Rpb24gaW5pdGlhbEJ1bGxldChwbGF5ZXIpIHtcbiAgY29uc3Qgc2luID0gTWF0aC5zaW4ocGxheWVyLmJvZHkuYW5nbGUpO1xuICBjb25zdCBjb3MgPSBNYXRoLmNvcyhwbGF5ZXIuYm9keS5hbmdsZSk7XG5cbiAgLy8gYnVsbGV0IGhvbGUgaXNuJ3QgcmlnaHQgaW4gdGhlIG1pZGRsZSBvZiB0aGUgcGxhbmVcbiAgY29uc3QgeU9mZnNldCA9IFBMQU5FX0hFSUdIVCAqIDAuMDY7XG5cbiAgY29uc3QgYm9keSA9IG5ldyBwMi5Cb2R5KHtcbiAgICBtYXNzOiAwLFxuICAgIGFuZ2xlOiBwbGF5ZXIuYm9keS5hbmdsZSxcbiAgICBwb3NpdGlvbjogW1xuICAgICAgcGxheWVyLmJvZHkucG9zaXRpb25bMF0gKyAoUExBTkVfV0lEVEggLyAyICsgKFdJRFRIKSkgKiBjb3MgKyB5T2Zmc2V0ICogc2luLFxuICAgICAgcGxheWVyLmJvZHkucG9zaXRpb25bMV0gLSAoUExBTkVfV0lEVEggLyAyICsgKFdJRFRIKSkgKiBzaW4gKyB5T2Zmc2V0ICogY29zXG4gICAgXVxuICB9KTtcblxuICBib2R5LmFkZFNoYXBlKG5ldyBwMi5Cb3goe1xuICAgIHdpZHRoOiBXSURUSCxcbiAgICBoZWlnaHQ6IEhFSUdIVFxuICB9KSk7XG5cbiAgcmV0dXJuIHtcbiAgICBib2R5OiBib2R5LFxuICAgIHRocnVzdDogcGxheWVyLnRocnVzdCArIDEsXG4gICAgdGlja3NMaXZlZDogMCxcbiAgICBleHBsb2RlZDogZmFsc2VcbiAgfTtcbn1cblxuZnVuY3Rpb24gdXBkYXRlQnVsbGV0KGJ1bGxldCwgd29ybGQsIGRlbHRhKSB7XG4gIGJ1bGxldC50aWNrc0xpdmVkICs9IGRlbHRhO1xuXG5cbiAgZm9yKGxldCB7Ym9keUEsIGJvZHlCfSBvZiB3b3JsZC5pbXBhY3RzKSB7XG4gICAgaWYoYnVsbGV0LmJvZHkgPT09IGJvZHlBIHx8IGJ1bGxldC5ib2R5ID09PSBib2R5Qikge1xuICAgICAgYnVsbGV0LmV4cGxvZGVkID0gdHJ1ZTtcbiAgICAgIHJldHVybiBidWxsZXQ7XG4gICAgfVxuICB9XG5cbiAgYnVsbGV0LmJvZHkucG9zaXRpb25bMF0gKz0gYnVsbGV0LnRocnVzdCAqIE1hdGguc2luKGJ1bGxldC5ib2R5LmFuZ2xlICsgUkFESUFOICogMC4yNSkgKiBkZWx0YTtcbiAgYnVsbGV0LmJvZHkucG9zaXRpb25bMV0gKz0gYnVsbGV0LnRocnVzdCAqIE1hdGguY29zKGJ1bGxldC5ib2R5LmFuZ2xlICsgUkFESUFOICogMC4yNSkgKiBkZWx0YTtcblxuICByZXR1cm4gYnVsbGV0O1xufVxuXG5mdW5jdGlvbiBjcmVhdGUocGxheWVyLCB3b3JsZCkge1xuICBjb25zdCBidWxsZXQgPSBpbml0aWFsQnVsbGV0KHBsYXllcik7XG4gIHdvcmxkLmFkZEJvZHkoYnVsbGV0LmJvZHkpO1xuICByZXR1cm4gYnVsbGV0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlKGJ1bGxldHMsIGlucHV0LCB3b3JsZCwgcGxheWVyKSB7XG5cbiAgY29uc3QgdXBkYXRlZEJ1bGxldHMgPSBidWxsZXRzLmJ1bGxldHMubWFwKChidWxsZXQpID0+IHtcbiAgICByZXR1cm4gdXBkYXRlQnVsbGV0KGJ1bGxldCwgd29ybGQsIGlucHV0LmRlbHRhKTtcbiAgfSkuZmlsdGVyKChidWxsZXQpID0+IHtcbiAgICBpZihidWxsZXQudGlja3NMaXZlZCA+IEFMSVZFX1RJTUUgfHwgYnVsbGV0LmV4cGxvZGVkKSB7XG4gICAgICB3b3JsZC5yZW1vdmVCb2R5KGJ1bGxldC5ib2R5KTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH0pO1xuXG4gIGNvbnN0IG5ld0J1bGxldHMgPSBwbGF5ZXIuY3JlYXRlZEJ1bGxldHMubWFwKCgpID0+IGNyZWF0ZShwbGF5ZXIsIHdvcmxkKSk7XG5cbiAgcmV0dXJuIHtcbiAgICBidWxsZXRzOiB1cGRhdGVkQnVsbGV0cy5maWx0ZXIoYiA9PiAhYi5leHBsb2RlZCkuY29uY2F0KG5ld0J1bGxldHMpLFxuICAgIGV4cGxvc2lvbnM6IHVwZGF0ZWRCdWxsZXRzLmZpbHRlcigoYnVsbGV0KSA9PiBidWxsZXQuZXhwbG9kZWQpLFxuICAgIHNvdW5kczoge1xuICAgICAgY3JlYXRlZDogaW5wdXQuc2hvb3QubWFwKCgpID0+IHRydWUpXG4gICAgfVxuICB9O1xufVxuXG5cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc2NyaXB0cy9idWxsZXQvaW5kZXguanNcbiAqKi8iLCJpbXBvcnQgemlwT2JqZWN0IGZyb20gJ2xvZGFzaC56aXBvYmplY3QnO1xuaW1wb3J0IHJhZGlhbnMgZnJvbSAnZGVncmVlcy1yYWRpYW5zJztcblxuZXhwb3J0IGZ1bmN0aW9uIHJhbmRvbUdlbmVyYXRvcihzZWVkID0gMSkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgY29uc3QgeCA9IE1hdGguc2luKHNlZWQrKykgKiAxMDAwMDsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgIHJldHVybiB4IC0gTWF0aC5mbG9vcih4KTtcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJhbmRvbShyYW5kb21GbiwgbWluLCBtYXgpIHtcbiAgcmV0dXJuIHJhbmRvbUZuKCkgKiAobWF4IC0gbWluKSArIG1pbjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRvT2JqZWN0KC4uLmtleXMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKC4uLnZhbHVlcykge1xuICAgIHJldHVybiB6aXBPYmplY3Qoa2V5cywgdmFsdWVzKTtcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNsYW1wKG1pbiwgbWF4LCBudW0pIHtcbiAgcmV0dXJuIE1hdGgubWluKE1hdGgubWF4KG51bSwgbWluKSwgbWF4KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1lbW9pemVBcmdzKGZuKSB7XG4gIGxldCBsYXN0QXJndW1lbnQ7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uKGFyZ3VtZW50KSB7XG4gICAgaWYodHlwZW9mIGxhc3RBcmd1bWVudCA9PT0gJ3VuZGVmaW5lZCcgfHwgbGFzdEFyZ3VtZW50ICE9PSBhcmd1bWVudCkge1xuICAgICAgZm4oYXJndW1lbnQpO1xuICAgIH1cbiAgICBsYXN0QXJndW1lbnQgPSBhcmd1bWVudDtcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRlZ3JlZXMocmFkKSB7XG4gIHJldHVybiByYWQgLyAoTWF0aC5QSSAvIDE4MCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRJZCgpIHtcbiAgY29uc3Qgc3RvcmVkSWQgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3BsYXllcklkJyk7XG5cbiAgaWYoc3RvcmVkSWQpIHtcbiAgICByZXR1cm4gc3RvcmVkSWQ7XG4gIH1cblxuICBjb25zdCBpZCA9IE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnJlcGxhY2UoL1teYS16XSsvZywgJycpLnN1YnN0cigwLCA1KTtcblxuICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3BsYXllcklkJywgaWQpO1xuXG4gIHJldHVybiBpZDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1vZChudW0sIG4pIHtcbiAgcmV0dXJuICgobnVtICUgbikgKyBuKSAlIG47XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVDb2xsaXNpb25EaXNwYXRjaGVyKGNvbGxpc2lvbkhhbmRsZXJzKSB7XG4gIHJldHVybiBmdW5jdGlvbiBoYW5kbGVDb2xsaXNpb25zKHdvcmxkKSB7XG4gICAgZm9yKGxldCB7Ym9keUEsIGJvZHlCfSBvZiB3b3JsZC5pbXBhY3RzKSB7XG4gICAgICBpZih0aGlzLmJvZHkgPT09IGJvZHlBIHx8IHRoaXMuYm9keSA9PT0gYm9keUIpIHtcbiAgICAgICAgY29uc3Qgb3RoZXIgPSB0aGlzLmJvZHkgPT09IGJvZHlBID8gYm9keUIgOiBib2R5QTtcbiAgICAgICAgY29uc3QgaGFuZGxlciA9IGNvbGxpc2lvbkhhbmRsZXJzLmdldChvdGhlci5UWVBFKTtcbiAgICAgICAgcmV0dXJuIGhhbmRsZXIodGhpcyk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9O1xufVxuXG5leHBvcnQge3JhZGlhbnMgYXMgcmFkaWFuc307XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NjcmlwdHMvdXRpbHMuanNcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IFBvaW50O1xuXG4vKipcbiAqIFBvaW50IHJlbGF0ZWQgZnVuY3Rpb25zXG4gKiBAY2xhc3MgUG9pbnRcbiAqL1xuZnVuY3Rpb24gUG9pbnQoKXt9O1xuXG4vKipcbiAqIEdldCB0aGUgYXJlYSBvZiBhIHRyaWFuZ2xlIHNwYW5uZWQgYnkgdGhlIHRocmVlIGdpdmVuIHBvaW50cy4gTm90ZSB0aGF0IHRoZSBhcmVhIHdpbGwgYmUgbmVnYXRpdmUgaWYgdGhlIHBvaW50cyBhcmUgbm90IGdpdmVuIGluIGNvdW50ZXItY2xvY2t3aXNlIG9yZGVyLlxuICogQHN0YXRpY1xuICogQG1ldGhvZCBhcmVhXG4gKiBAcGFyYW0gIHtBcnJheX0gYVxuICogQHBhcmFtICB7QXJyYXl9IGJcbiAqIEBwYXJhbSAge0FycmF5fSBjXG4gKiBAcmV0dXJuIHtOdW1iZXJ9XG4gKi9cblBvaW50LmFyZWEgPSBmdW5jdGlvbihhLGIsYyl7XG4gICAgcmV0dXJuICgoKGJbMF0gLSBhWzBdKSooY1sxXSAtIGFbMV0pKS0oKGNbMF0gLSBhWzBdKSooYlsxXSAtIGFbMV0pKSk7XG59O1xuXG5Qb2ludC5sZWZ0ID0gZnVuY3Rpb24oYSxiLGMpe1xuICAgIHJldHVybiBQb2ludC5hcmVhKGEsYixjKSA+IDA7XG59O1xuXG5Qb2ludC5sZWZ0T24gPSBmdW5jdGlvbihhLGIsYykge1xuICAgIHJldHVybiBQb2ludC5hcmVhKGEsIGIsIGMpID49IDA7XG59O1xuXG5Qb2ludC5yaWdodCA9IGZ1bmN0aW9uKGEsYixjKSB7XG4gICAgcmV0dXJuIFBvaW50LmFyZWEoYSwgYiwgYykgPCAwO1xufTtcblxuUG9pbnQucmlnaHRPbiA9IGZ1bmN0aW9uKGEsYixjKSB7XG4gICAgcmV0dXJuIFBvaW50LmFyZWEoYSwgYiwgYykgPD0gMDtcbn07XG5cbnZhciB0bXBQb2ludDEgPSBbXSxcbiAgICB0bXBQb2ludDIgPSBbXTtcblxuLyoqXG4gKiBDaGVjayBpZiB0aHJlZSBwb2ludHMgYXJlIGNvbGxpbmVhclxuICogQG1ldGhvZCBjb2xsaW5lYXJcbiAqIEBwYXJhbSAge0FycmF5fSBhXG4gKiBAcGFyYW0gIHtBcnJheX0gYlxuICogQHBhcmFtICB7QXJyYXl9IGNcbiAqIEBwYXJhbSAge051bWJlcn0gW3RocmVzaG9sZEFuZ2xlPTBdIFRocmVzaG9sZCBhbmdsZSB0byB1c2Ugd2hlbiBjb21wYXJpbmcgdGhlIHZlY3RvcnMuIFRoZSBmdW5jdGlvbiB3aWxsIHJldHVybiB0cnVlIGlmIHRoZSBhbmdsZSBiZXR3ZWVuIHRoZSByZXN1bHRpbmcgdmVjdG9ycyBpcyBsZXNzIHRoYW4gdGhpcyB2YWx1ZS4gVXNlIHplcm8gZm9yIG1heCBwcmVjaXNpb24uXG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICovXG5Qb2ludC5jb2xsaW5lYXIgPSBmdW5jdGlvbihhLGIsYyx0aHJlc2hvbGRBbmdsZSkge1xuICAgIGlmKCF0aHJlc2hvbGRBbmdsZSlcbiAgICAgICAgcmV0dXJuIFBvaW50LmFyZWEoYSwgYiwgYykgPT0gMDtcbiAgICBlbHNlIHtcbiAgICAgICAgdmFyIGFiID0gdG1wUG9pbnQxLFxuICAgICAgICAgICAgYmMgPSB0bXBQb2ludDI7XG5cbiAgICAgICAgYWJbMF0gPSBiWzBdLWFbMF07XG4gICAgICAgIGFiWzFdID0gYlsxXS1hWzFdO1xuICAgICAgICBiY1swXSA9IGNbMF0tYlswXTtcbiAgICAgICAgYmNbMV0gPSBjWzFdLWJbMV07XG5cbiAgICAgICAgdmFyIGRvdCA9IGFiWzBdKmJjWzBdICsgYWJbMV0qYmNbMV0sXG4gICAgICAgICAgICBtYWdBID0gTWF0aC5zcXJ0KGFiWzBdKmFiWzBdICsgYWJbMV0qYWJbMV0pLFxuICAgICAgICAgICAgbWFnQiA9IE1hdGguc3FydChiY1swXSpiY1swXSArIGJjWzFdKmJjWzFdKSxcbiAgICAgICAgICAgIGFuZ2xlID0gTWF0aC5hY29zKGRvdC8obWFnQSptYWdCKSk7XG4gICAgICAgIHJldHVybiBhbmdsZSA8IHRocmVzaG9sZEFuZ2xlO1xuICAgIH1cbn07XG5cblBvaW50LnNxZGlzdCA9IGZ1bmN0aW9uKGEsYil7XG4gICAgdmFyIGR4ID0gYlswXSAtIGFbMF07XG4gICAgdmFyIGR5ID0gYlsxXSAtIGFbMV07XG4gICAgcmV0dXJuIGR4ICogZHggKyBkeSAqIGR5O1xufTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3AyL34vcG9seS1kZWNvbXAvc3JjL1BvaW50LmpzXG4gKiogbW9kdWxlIGlkID0gMzlcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0gU2NhbGFyO1xuXG4vKipcbiAqIFNjYWxhciBmdW5jdGlvbnNcbiAqIEBjbGFzcyBTY2FsYXJcbiAqL1xuZnVuY3Rpb24gU2NhbGFyKCl7fVxuXG4vKipcbiAqIENoZWNrIGlmIHR3byBzY2FsYXJzIGFyZSBlcXVhbFxuICogQHN0YXRpY1xuICogQG1ldGhvZCBlcVxuICogQHBhcmFtICB7TnVtYmVyfSBhXG4gKiBAcGFyYW0gIHtOdW1iZXJ9IGJcbiAqIEBwYXJhbSAge051bWJlcn0gW3ByZWNpc2lvbl1cbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKi9cblNjYWxhci5lcSA9IGZ1bmN0aW9uKGEsYixwcmVjaXNpb24pe1xuICAgIHByZWNpc2lvbiA9IHByZWNpc2lvbiB8fCAwO1xuICAgIHJldHVybiBNYXRoLmFicyhhLWIpIDwgcHJlY2lzaW9uO1xufTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3AyL34vcG9seS1kZWNvbXAvc3JjL1NjYWxhci5qc1xuICoqIG1vZHVsZSBpZCA9IDQwXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBQb2x5Z29uIDogcmVxdWlyZShcIi4vUG9seWdvblwiKSxcbiAgICBQb2ludCA6IHJlcXVpcmUoXCIuL1BvaW50XCIpLFxufTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3AyL34vcG9seS1kZWNvbXAvc3JjL2luZGV4LmpzXG4gKiogbW9kdWxlIGlkID0gNDFcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciB2ZWMyID0gcmVxdWlyZSgnLi4vbWF0aC92ZWMyJylcbiwgICBzdWIgPSB2ZWMyLnN1YlxuLCAgIGFkZCA9IHZlYzIuYWRkXG4sICAgZG90ID0gdmVjMi5kb3RcbiwgICBVdGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzL1V0aWxzJylcbiwgICBDb250YWN0RXF1YXRpb25Qb29sID0gcmVxdWlyZSgnLi4vdXRpbHMvQ29udGFjdEVxdWF0aW9uUG9vbCcpXG4sICAgRnJpY3Rpb25FcXVhdGlvblBvb2wgPSByZXF1aXJlKCcuLi91dGlscy9GcmljdGlvbkVxdWF0aW9uUG9vbCcpXG4sICAgVHVwbGVEaWN0aW9uYXJ5ID0gcmVxdWlyZSgnLi4vdXRpbHMvVHVwbGVEaWN0aW9uYXJ5JylcbiwgICBFcXVhdGlvbiA9IHJlcXVpcmUoJy4uL2VxdWF0aW9ucy9FcXVhdGlvbicpXG4sICAgQ29udGFjdEVxdWF0aW9uID0gcmVxdWlyZSgnLi4vZXF1YXRpb25zL0NvbnRhY3RFcXVhdGlvbicpXG4sICAgRnJpY3Rpb25FcXVhdGlvbiA9IHJlcXVpcmUoJy4uL2VxdWF0aW9ucy9GcmljdGlvbkVxdWF0aW9uJylcbiwgICBDaXJjbGUgPSByZXF1aXJlKCcuLi9zaGFwZXMvQ2lyY2xlJylcbiwgICBDb252ZXggPSByZXF1aXJlKCcuLi9zaGFwZXMvQ29udmV4JylcbiwgICBTaGFwZSA9IHJlcXVpcmUoJy4uL3NoYXBlcy9TaGFwZScpXG4sICAgQm9keSA9IHJlcXVpcmUoJy4uL29iamVjdHMvQm9keScpXG4sICAgQm94ID0gcmVxdWlyZSgnLi4vc2hhcGVzL0JveCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IE5hcnJvd3BoYXNlO1xuXG4vLyBUZW1wIHRoaW5nc1xudmFyIHlBeGlzID0gdmVjMi5mcm9tVmFsdWVzKDAsMSk7XG5cbnZhciB0bXAxID0gdmVjMi5mcm9tVmFsdWVzKDAsMClcbiwgICB0bXAyID0gdmVjMi5mcm9tVmFsdWVzKDAsMClcbiwgICB0bXAzID0gdmVjMi5mcm9tVmFsdWVzKDAsMClcbiwgICB0bXA0ID0gdmVjMi5mcm9tVmFsdWVzKDAsMClcbiwgICB0bXA1ID0gdmVjMi5mcm9tVmFsdWVzKDAsMClcbiwgICB0bXA2ID0gdmVjMi5mcm9tVmFsdWVzKDAsMClcbiwgICB0bXA3ID0gdmVjMi5mcm9tVmFsdWVzKDAsMClcbiwgICB0bXA4ID0gdmVjMi5mcm9tVmFsdWVzKDAsMClcbiwgICB0bXA5ID0gdmVjMi5mcm9tVmFsdWVzKDAsMClcbiwgICB0bXAxMCA9IHZlYzIuZnJvbVZhbHVlcygwLDApXG4sICAgdG1wMTEgPSB2ZWMyLmZyb21WYWx1ZXMoMCwwKVxuLCAgIHRtcDEyID0gdmVjMi5mcm9tVmFsdWVzKDAsMClcbiwgICB0bXAxMyA9IHZlYzIuZnJvbVZhbHVlcygwLDApXG4sICAgdG1wMTQgPSB2ZWMyLmZyb21WYWx1ZXMoMCwwKVxuLCAgIHRtcDE1ID0gdmVjMi5mcm9tVmFsdWVzKDAsMClcbiwgICB0bXAxNiA9IHZlYzIuZnJvbVZhbHVlcygwLDApXG4sICAgdG1wMTcgPSB2ZWMyLmZyb21WYWx1ZXMoMCwwKVxuLCAgIHRtcDE4ID0gdmVjMi5mcm9tVmFsdWVzKDAsMClcbiwgICB0bXBBcnJheSA9IFtdO1xuXG4vKipcbiAqIE5hcnJvd3BoYXNlLiBDcmVhdGVzIGNvbnRhY3RzIGFuZCBmcmljdGlvbiBnaXZlbiBzaGFwZXMgYW5kIHRyYW5zZm9ybXMuXG4gKiBAY2xhc3MgTmFycm93cGhhc2VcbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBOYXJyb3dwaGFzZSgpe1xuXG4gICAgLyoqXG4gICAgICogQHByb3BlcnR5IGNvbnRhY3RFcXVhdGlvbnNcbiAgICAgKiBAdHlwZSB7QXJyYXl9XG4gICAgICovXG4gICAgdGhpcy5jb250YWN0RXF1YXRpb25zID0gW107XG5cbiAgICAvKipcbiAgICAgKiBAcHJvcGVydHkgZnJpY3Rpb25FcXVhdGlvbnNcbiAgICAgKiBAdHlwZSB7QXJyYXl9XG4gICAgICovXG4gICAgdGhpcy5mcmljdGlvbkVxdWF0aW9ucyA9IFtdO1xuXG4gICAgLyoqXG4gICAgICogV2hldGhlciB0byBtYWtlIGZyaWN0aW9uIGVxdWF0aW9ucyBpbiB0aGUgdXBjb21pbmcgY29udGFjdHMuXG4gICAgICogQHByb3BlcnR5IGVuYWJsZUZyaWN0aW9uXG4gICAgICogQHR5cGUge0Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5lbmFibGVGcmljdGlvbiA9IHRydWU7XG5cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRvIG1ha2UgZXF1YXRpb25zIGVuYWJsZWQgaW4gdXBjb21pbmcgY29udGFjdHMuXG4gICAgICogQHByb3BlcnR5IGVuYWJsZWRFcXVhdGlvbnNcbiAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLmVuYWJsZWRFcXVhdGlvbnMgPSB0cnVlO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGZyaWN0aW9uIHNsaXAgZm9yY2UgdG8gdXNlIHdoZW4gY3JlYXRpbmcgZnJpY3Rpb24gZXF1YXRpb25zLlxuICAgICAqIEBwcm9wZXJ0eSBzbGlwRm9yY2VcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuc2xpcEZvcmNlID0gMTAuMDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBmcmljdGlvbiB2YWx1ZSB0byB1c2UgaW4gdGhlIHVwY29taW5nIGZyaWN0aW9uIGVxdWF0aW9ucy5cbiAgICAgKiBAcHJvcGVydHkgZnJpY3Rpb25Db2VmZmljaWVudFxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5mcmljdGlvbkNvZWZmaWNpZW50ID0gMC4zO1xuXG4gICAgLyoqXG4gICAgICogV2lsbCBiZSB0aGUgLnJlbGF0aXZlVmVsb2NpdHkgaW4gZWFjaCBwcm9kdWNlZCBGcmljdGlvbkVxdWF0aW9uLlxuICAgICAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBzdXJmYWNlVmVsb2NpdHlcbiAgICAgKi9cbiAgICB0aGlzLnN1cmZhY2VWZWxvY2l0eSA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBLZWVwcyB0cmFjayBvZiB0aGUgYWxsb2NhdGVkIENvbnRhY3RFcXVhdGlvbnMuXG4gICAgICogQHByb3BlcnR5IHtDb250YWN0RXF1YXRpb25Qb29sfSBjb250YWN0RXF1YXRpb25Qb29sXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogICAgIC8vIEFsbG9jYXRlIGEgZmV3IGVxdWF0aW9ucyBiZWZvcmUgc3RhcnRpbmcgdGhlIHNpbXVsYXRpb24uXG4gICAgICogICAgIC8vIFRoaXMgd2F5LCBubyBjb250YWN0IG9iamVjdHMgbmVlZCB0byBiZSBjcmVhdGVkIG9uIHRoZSBmbHkgaW4gdGhlIGdhbWUgbG9vcC5cbiAgICAgKiAgICAgd29ybGQubmFycm93cGhhc2UuY29udGFjdEVxdWF0aW9uUG9vbC5yZXNpemUoMTAyNCk7XG4gICAgICogICAgIHdvcmxkLm5hcnJvd3BoYXNlLmZyaWN0aW9uRXF1YXRpb25Qb29sLnJlc2l6ZSgxMDI0KTtcbiAgICAgKi9cbiAgICB0aGlzLmNvbnRhY3RFcXVhdGlvblBvb2wgPSBuZXcgQ29udGFjdEVxdWF0aW9uUG9vbCh7IHNpemU6IDMyIH0pO1xuXG4gICAgLyoqXG4gICAgICogS2VlcHMgdHJhY2sgb2YgdGhlIGFsbG9jYXRlZCBDb250YWN0RXF1YXRpb25zLlxuICAgICAqIEBwcm9wZXJ0eSB7RnJpY3Rpb25FcXVhdGlvblBvb2x9IGZyaWN0aW9uRXF1YXRpb25Qb29sXG4gICAgICovXG4gICAgdGhpcy5mcmljdGlvbkVxdWF0aW9uUG9vbCA9IG5ldyBGcmljdGlvbkVxdWF0aW9uUG9vbCh7IHNpemU6IDY0IH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHJlc3RpdHV0aW9uIHZhbHVlIHRvIHVzZSBpbiB0aGUgbmV4dCBjb250YWN0IGVxdWF0aW9ucy5cbiAgICAgKiBAcHJvcGVydHkgcmVzdGl0dXRpb25cbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMucmVzdGl0dXRpb24gPSAwO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHN0aWZmbmVzcyB2YWx1ZSB0byB1c2UgaW4gdGhlIG5leHQgY29udGFjdCBlcXVhdGlvbnMuXG4gICAgICogQHByb3BlcnR5IHtOdW1iZXJ9IHN0aWZmbmVzc1xuICAgICAqL1xuICAgIHRoaXMuc3RpZmZuZXNzID0gRXF1YXRpb24uREVGQVVMVF9TVElGRk5FU1M7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgc3RpZmZuZXNzIHZhbHVlIHRvIHVzZSBpbiB0aGUgbmV4dCBjb250YWN0IGVxdWF0aW9ucy5cbiAgICAgKiBAcHJvcGVydHkge051bWJlcn0gc3RpZmZuZXNzXG4gICAgICovXG4gICAgdGhpcy5yZWxheGF0aW9uID0gRXF1YXRpb24uREVGQVVMVF9SRUxBWEFUSU9OO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHN0aWZmbmVzcyB2YWx1ZSB0byB1c2UgaW4gdGhlIG5leHQgZnJpY3Rpb24gZXF1YXRpb25zLlxuICAgICAqIEBwcm9wZXJ0eSBmcmljdGlvblN0aWZmbmVzc1xuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5mcmljdGlvblN0aWZmbmVzcyA9IEVxdWF0aW9uLkRFRkFVTFRfU1RJRkZORVNTO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHJlbGF4YXRpb24gdmFsdWUgdG8gdXNlIGluIHRoZSBuZXh0IGZyaWN0aW9uIGVxdWF0aW9ucy5cbiAgICAgKiBAcHJvcGVydHkgZnJpY3Rpb25SZWxheGF0aW9uXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmZyaWN0aW9uUmVsYXhhdGlvbiA9IEVxdWF0aW9uLkRFRkFVTFRfUkVMQVhBVElPTjtcblxuICAgIC8qKlxuICAgICAqIEVuYWJsZSByZWR1Y3Rpb24gb2YgZnJpY3Rpb24gZXF1YXRpb25zLiBJZiBkaXNhYmxlZCwgYSBib3ggb24gYSBwbGFuZSB3aWxsIGdlbmVyYXRlIDIgY29udGFjdCBlcXVhdGlvbnMgYW5kIDIgZnJpY3Rpb24gZXF1YXRpb25zLiBJZiBlbmFibGVkLCB0aGVyZSB3aWxsIGJlIG9ubHkgb25lIGZyaWN0aW9uIGVxdWF0aW9uLiBTYW1lIGtpbmQgb2Ygc2ltcGxpZmljYXRpb25zIGFyZSBtYWRlICBmb3IgYWxsIGNvbGxpc2lvbiB0eXBlcy5cbiAgICAgKiBAcHJvcGVydHkgZW5hYmxlRnJpY3Rpb25SZWR1Y3Rpb25cbiAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICAgKiBAZGVwcmVjYXRlZCBUaGlzIGZsYWcgd2lsbCBiZSByZW1vdmVkIHdoZW4gdGhlIGZlYXR1cmUgaXMgc3RhYmxlIGVub3VnaC5cbiAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICovXG4gICAgdGhpcy5lbmFibGVGcmljdGlvblJlZHVjdGlvbiA9IHRydWU7XG5cbiAgICAvKipcbiAgICAgKiBLZWVwcyB0cmFjayBvZiB0aGUgY29sbGlkaW5nIGJvZGllcyBsYXN0IHN0ZXAuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcHJvcGVydHkgY29sbGlkaW5nQm9kaWVzTGFzdFN0ZXBcbiAgICAgKiBAdHlwZSB7VHVwbGVEaWN0aW9uYXJ5fVxuICAgICAqL1xuICAgIHRoaXMuY29sbGlkaW5nQm9kaWVzTGFzdFN0ZXAgPSBuZXcgVHVwbGVEaWN0aW9uYXJ5KCk7XG5cbiAgICAvKipcbiAgICAgKiBDb250YWN0IHNraW4gc2l6ZSB2YWx1ZSB0byB1c2UgaW4gdGhlIG5leHQgY29udGFjdCBlcXVhdGlvbnMuXG4gICAgICogQHByb3BlcnR5IHtOdW1iZXJ9IGNvbnRhY3RTa2luU2l6ZVxuICAgICAqIEBkZWZhdWx0IDAuMDFcbiAgICAgKi9cbiAgICB0aGlzLmNvbnRhY3RTa2luU2l6ZSA9IDAuMDE7XG59XG5cbnZhciBib2RpZXNPdmVybGFwX3NoYXBlUG9zaXRpb25BID0gdmVjMi5jcmVhdGUoKTtcbnZhciBib2RpZXNPdmVybGFwX3NoYXBlUG9zaXRpb25CID0gdmVjMi5jcmVhdGUoKTtcblxuLyoqXG4gKiBAbWV0aG9kIGJvZGllc092ZXJsYXBcbiAqIEBwYXJhbSAge0JvZHl9IGJvZHlBXG4gKiBAcGFyYW0gIHtCb2R5fSBib2R5QlxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqIEB0b2RvIHNoYXBlIHdvcmxkIHRyYW5zZm9ybXMgYXJlIHdyb25nXG4gKi9cbk5hcnJvd3BoYXNlLnByb3RvdHlwZS5ib2RpZXNPdmVybGFwID0gZnVuY3Rpb24oYm9keUEsIGJvZHlCKXtcbiAgICB2YXIgc2hhcGVQb3NpdGlvbkEgPSBib2RpZXNPdmVybGFwX3NoYXBlUG9zaXRpb25BO1xuICAgIHZhciBzaGFwZVBvc2l0aW9uQiA9IGJvZGllc092ZXJsYXBfc2hhcGVQb3NpdGlvbkI7XG5cbiAgICAvLyBMb29wIG92ZXIgYWxsIHNoYXBlcyBvZiBib2R5QVxuICAgIGZvcih2YXIgaz0wLCBOc2hhcGVzaT1ib2R5QS5zaGFwZXMubGVuZ3RoOyBrIT09TnNoYXBlc2k7IGsrKyl7XG4gICAgICAgIHZhciBzaGFwZUEgPSBib2R5QS5zaGFwZXNba107XG5cbiAgICAgICAgYm9keUEudG9Xb3JsZEZyYW1lKHNoYXBlUG9zaXRpb25BLCBzaGFwZUEucG9zaXRpb24pO1xuXG4gICAgICAgIC8vIEFsbCBzaGFwZXMgb2YgYm9keSBqXG4gICAgICAgIGZvcih2YXIgbD0wLCBOc2hhcGVzaj1ib2R5Qi5zaGFwZXMubGVuZ3RoOyBsIT09TnNoYXBlc2o7IGwrKyl7XG4gICAgICAgICAgICB2YXIgc2hhcGVCID0gYm9keUIuc2hhcGVzW2xdO1xuXG4gICAgICAgICAgICBib2R5Qi50b1dvcmxkRnJhbWUoc2hhcGVQb3NpdGlvbkIsIHNoYXBlQi5wb3NpdGlvbik7XG5cbiAgICAgICAgICAgIGlmKHRoaXNbc2hhcGVBLnR5cGUgfCBzaGFwZUIudHlwZV0oXG4gICAgICAgICAgICAgICAgYm9keUEsXG4gICAgICAgICAgICAgICAgc2hhcGVBLFxuICAgICAgICAgICAgICAgIHNoYXBlUG9zaXRpb25BLFxuICAgICAgICAgICAgICAgIHNoYXBlQS5hbmdsZSArIGJvZHlBLmFuZ2xlLFxuICAgICAgICAgICAgICAgIGJvZHlCLFxuICAgICAgICAgICAgICAgIHNoYXBlQixcbiAgICAgICAgICAgICAgICBzaGFwZVBvc2l0aW9uQixcbiAgICAgICAgICAgICAgICBzaGFwZUIuYW5nbGUgKyBib2R5Qi5hbmdsZSxcbiAgICAgICAgICAgICAgICB0cnVlXG4gICAgICAgICAgICApKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbn07XG5cbi8qKlxuICogQ2hlY2sgaWYgdGhlIGJvZGllcyB3ZXJlIGluIGNvbnRhY3Qgc2luY2UgdGhlIGxhc3QgcmVzZXQoKS5cbiAqIEBtZXRob2QgY29sbGlkZWRMYXN0U3RlcFxuICogQHBhcmFtICB7Qm9keX0gYm9keUFcbiAqIEBwYXJhbSAge0JvZHl9IGJvZHlCXG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICovXG5OYXJyb3dwaGFzZS5wcm90b3R5cGUuY29sbGlkZWRMYXN0U3RlcCA9IGZ1bmN0aW9uKGJvZHlBLCBib2R5Qil7XG4gICAgdmFyIGlkMSA9IGJvZHlBLmlkfDAsXG4gICAgICAgIGlkMiA9IGJvZHlCLmlkfDA7XG4gICAgcmV0dXJuICEhdGhpcy5jb2xsaWRpbmdCb2RpZXNMYXN0U3RlcC5nZXQoaWQxLCBpZDIpO1xufTtcblxuLyoqXG4gKiBUaHJvd3MgYXdheSB0aGUgb2xkIGVxdWF0aW9ucyBhbmQgZ2V0cyByZWFkeSB0byBjcmVhdGUgbmV3XG4gKiBAbWV0aG9kIHJlc2V0XG4gKi9cbk5hcnJvd3BoYXNlLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uKCl7XG4gICAgdGhpcy5jb2xsaWRpbmdCb2RpZXNMYXN0U3RlcC5yZXNldCgpO1xuXG4gICAgdmFyIGVxcyA9IHRoaXMuY29udGFjdEVxdWF0aW9ucztcbiAgICB2YXIgbCA9IGVxcy5sZW5ndGg7XG4gICAgd2hpbGUobC0tKXtcbiAgICAgICAgdmFyIGVxID0gZXFzW2xdLFxuICAgICAgICAgICAgaWQxID0gZXEuYm9keUEuaWQsXG4gICAgICAgICAgICBpZDIgPSBlcS5ib2R5Qi5pZDtcbiAgICAgICAgdGhpcy5jb2xsaWRpbmdCb2RpZXNMYXN0U3RlcC5zZXQoaWQxLCBpZDIsIHRydWUpO1xuICAgIH1cblxuICAgIHZhciBjZSA9IHRoaXMuY29udGFjdEVxdWF0aW9ucyxcbiAgICAgICAgZmUgPSB0aGlzLmZyaWN0aW9uRXF1YXRpb25zO1xuICAgIGZvcih2YXIgaT0wOyBpPGNlLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgdGhpcy5jb250YWN0RXF1YXRpb25Qb29sLnJlbGVhc2UoY2VbaV0pO1xuICAgIH1cbiAgICBmb3IodmFyIGk9MDsgaTxmZS5sZW5ndGg7IGkrKyl7XG4gICAgICAgIHRoaXMuZnJpY3Rpb25FcXVhdGlvblBvb2wucmVsZWFzZShmZVtpXSk7XG4gICAgfVxuXG4gICAgLy8gUmVzZXRcbiAgICB0aGlzLmNvbnRhY3RFcXVhdGlvbnMubGVuZ3RoID0gdGhpcy5mcmljdGlvbkVxdWF0aW9ucy5sZW5ndGggPSAwO1xufTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgQ29udGFjdEVxdWF0aW9uLCBlaXRoZXIgYnkgcmV1c2luZyBhbiBleGlzdGluZyBvYmplY3Qgb3IgY3JlYXRpbmcgYSBuZXcgb25lLlxuICogQG1ldGhvZCBjcmVhdGVDb250YWN0RXF1YXRpb25cbiAqIEBwYXJhbSAge0JvZHl9IGJvZHlBXG4gKiBAcGFyYW0gIHtCb2R5fSBib2R5QlxuICogQHJldHVybiB7Q29udGFjdEVxdWF0aW9ufVxuICovXG5OYXJyb3dwaGFzZS5wcm90b3R5cGUuY3JlYXRlQ29udGFjdEVxdWF0aW9uID0gZnVuY3Rpb24oYm9keUEsIGJvZHlCLCBzaGFwZUEsIHNoYXBlQil7XG4gICAgdmFyIGMgPSB0aGlzLmNvbnRhY3RFcXVhdGlvblBvb2wuZ2V0KCk7XG4gICAgYy5ib2R5QSA9IGJvZHlBO1xuICAgIGMuYm9keUIgPSBib2R5QjtcbiAgICBjLnNoYXBlQSA9IHNoYXBlQTtcbiAgICBjLnNoYXBlQiA9IHNoYXBlQjtcbiAgICBjLnJlc3RpdHV0aW9uID0gdGhpcy5yZXN0aXR1dGlvbjtcbiAgICBjLmZpcnN0SW1wYWN0ID0gIXRoaXMuY29sbGlkZWRMYXN0U3RlcChib2R5QSxib2R5Qik7XG4gICAgYy5zdGlmZm5lc3MgPSB0aGlzLnN0aWZmbmVzcztcbiAgICBjLnJlbGF4YXRpb24gPSB0aGlzLnJlbGF4YXRpb247XG4gICAgYy5uZWVkc1VwZGF0ZSA9IHRydWU7XG4gICAgYy5lbmFibGVkID0gdGhpcy5lbmFibGVkRXF1YXRpb25zO1xuICAgIGMub2Zmc2V0ID0gdGhpcy5jb250YWN0U2tpblNpemU7XG5cbiAgICByZXR1cm4gYztcbn07XG5cbi8qKlxuICogQ3JlYXRlcyBhIEZyaWN0aW9uRXF1YXRpb24sIGVpdGhlciBieSByZXVzaW5nIGFuIGV4aXN0aW5nIG9iamVjdCBvciBjcmVhdGluZyBhIG5ldyBvbmUuXG4gKiBAbWV0aG9kIGNyZWF0ZUZyaWN0aW9uRXF1YXRpb25cbiAqIEBwYXJhbSAge0JvZHl9IGJvZHlBXG4gKiBAcGFyYW0gIHtCb2R5fSBib2R5QlxuICogQHJldHVybiB7RnJpY3Rpb25FcXVhdGlvbn1cbiAqL1xuTmFycm93cGhhc2UucHJvdG90eXBlLmNyZWF0ZUZyaWN0aW9uRXF1YXRpb24gPSBmdW5jdGlvbihib2R5QSwgYm9keUIsIHNoYXBlQSwgc2hhcGVCKXtcbiAgICB2YXIgYyA9IHRoaXMuZnJpY3Rpb25FcXVhdGlvblBvb2wuZ2V0KCk7XG4gICAgYy5ib2R5QSA9IGJvZHlBO1xuICAgIGMuYm9keUIgPSBib2R5QjtcbiAgICBjLnNoYXBlQSA9IHNoYXBlQTtcbiAgICBjLnNoYXBlQiA9IHNoYXBlQjtcbiAgICBjLnNldFNsaXBGb3JjZSh0aGlzLnNsaXBGb3JjZSk7XG4gICAgYy5mcmljdGlvbkNvZWZmaWNpZW50ID0gdGhpcy5mcmljdGlvbkNvZWZmaWNpZW50O1xuICAgIGMucmVsYXRpdmVWZWxvY2l0eSA9IHRoaXMuc3VyZmFjZVZlbG9jaXR5O1xuICAgIGMuZW5hYmxlZCA9IHRoaXMuZW5hYmxlZEVxdWF0aW9ucztcbiAgICBjLm5lZWRzVXBkYXRlID0gdHJ1ZTtcbiAgICBjLnN0aWZmbmVzcyA9IHRoaXMuZnJpY3Rpb25TdGlmZm5lc3M7XG4gICAgYy5yZWxheGF0aW9uID0gdGhpcy5mcmljdGlvblJlbGF4YXRpb247XG4gICAgYy5jb250YWN0RXF1YXRpb25zLmxlbmd0aCA9IDA7XG4gICAgcmV0dXJuIGM7XG59O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBGcmljdGlvbkVxdWF0aW9uIGdpdmVuIHRoZSBkYXRhIGluIHRoZSBDb250YWN0RXF1YXRpb24uIFVzZXMgc2FtZSBvZmZzZXQgdmVjdG9ycyByaSBhbmQgcmosIGJ1dCB0aGUgdGFuZ2VudCB2ZWN0b3Igd2lsbCBiZSBjb25zdHJ1Y3RlZCBmcm9tIHRoZSBjb2xsaXNpb24gbm9ybWFsLlxuICogQG1ldGhvZCBjcmVhdGVGcmljdGlvbkZyb21Db250YWN0XG4gKiBAcGFyYW0gIHtDb250YWN0RXF1YXRpb259IGNvbnRhY3RFcXVhdGlvblxuICogQHJldHVybiB7RnJpY3Rpb25FcXVhdGlvbn1cbiAqL1xuTmFycm93cGhhc2UucHJvdG90eXBlLmNyZWF0ZUZyaWN0aW9uRnJvbUNvbnRhY3QgPSBmdW5jdGlvbihjKXtcbiAgICB2YXIgZXEgPSB0aGlzLmNyZWF0ZUZyaWN0aW9uRXF1YXRpb24oYy5ib2R5QSwgYy5ib2R5QiwgYy5zaGFwZUEsIGMuc2hhcGVCKTtcbiAgICB2ZWMyLmNvcHkoZXEuY29udGFjdFBvaW50QSwgYy5jb250YWN0UG9pbnRBKTtcbiAgICB2ZWMyLmNvcHkoZXEuY29udGFjdFBvaW50QiwgYy5jb250YWN0UG9pbnRCKTtcbiAgICB2ZWMyLnJvdGF0ZTkwY3coZXEudCwgYy5ub3JtYWxBKTtcbiAgICBlcS5jb250YWN0RXF1YXRpb25zLnB1c2goYyk7XG4gICAgcmV0dXJuIGVxO1xufTtcblxuLy8gVGFrZSB0aGUgYXZlcmFnZSBOIGxhdGVzdCBjb250YWN0IHBvaW50IG9uIHRoZSBwbGFuZS5cbk5hcnJvd3BoYXNlLnByb3RvdHlwZS5jcmVhdGVGcmljdGlvbkZyb21BdmVyYWdlID0gZnVuY3Rpb24obnVtQ29udGFjdHMpe1xuICAgIHZhciBjID0gdGhpcy5jb250YWN0RXF1YXRpb25zW3RoaXMuY29udGFjdEVxdWF0aW9ucy5sZW5ndGggLSAxXTtcbiAgICB2YXIgZXEgPSB0aGlzLmNyZWF0ZUZyaWN0aW9uRXF1YXRpb24oYy5ib2R5QSwgYy5ib2R5QiwgYy5zaGFwZUEsIGMuc2hhcGVCKTtcbiAgICB2YXIgYm9keUEgPSBjLmJvZHlBO1xuICAgIHZhciBib2R5QiA9IGMuYm9keUI7XG4gICAgdmVjMi5zZXQoZXEuY29udGFjdFBvaW50QSwgMCwgMCk7XG4gICAgdmVjMi5zZXQoZXEuY29udGFjdFBvaW50QiwgMCwgMCk7XG4gICAgdmVjMi5zZXQoZXEudCwgMCwgMCk7XG4gICAgZm9yKHZhciBpPTA7IGkhPT1udW1Db250YWN0czsgaSsrKXtcbiAgICAgICAgYyA9IHRoaXMuY29udGFjdEVxdWF0aW9uc1t0aGlzLmNvbnRhY3RFcXVhdGlvbnMubGVuZ3RoIC0gMSAtIGldO1xuICAgICAgICBpZihjLmJvZHlBID09PSBib2R5QSl7XG4gICAgICAgICAgICB2ZWMyLmFkZChlcS50LCBlcS50LCBjLm5vcm1hbEEpO1xuICAgICAgICAgICAgdmVjMi5hZGQoZXEuY29udGFjdFBvaW50QSwgZXEuY29udGFjdFBvaW50QSwgYy5jb250YWN0UG9pbnRBKTtcbiAgICAgICAgICAgIHZlYzIuYWRkKGVxLmNvbnRhY3RQb2ludEIsIGVxLmNvbnRhY3RQb2ludEIsIGMuY29udGFjdFBvaW50Qik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2ZWMyLnN1YihlcS50LCBlcS50LCBjLm5vcm1hbEEpO1xuICAgICAgICAgICAgdmVjMi5hZGQoZXEuY29udGFjdFBvaW50QSwgZXEuY29udGFjdFBvaW50QSwgYy5jb250YWN0UG9pbnRCKTtcbiAgICAgICAgICAgIHZlYzIuYWRkKGVxLmNvbnRhY3RQb2ludEIsIGVxLmNvbnRhY3RQb2ludEIsIGMuY29udGFjdFBvaW50QSk7XG4gICAgICAgIH1cbiAgICAgICAgZXEuY29udGFjdEVxdWF0aW9ucy5wdXNoKGMpO1xuICAgIH1cblxuICAgIHZhciBpbnZOdW1Db250YWN0cyA9IDEvbnVtQ29udGFjdHM7XG4gICAgdmVjMi5zY2FsZShlcS5jb250YWN0UG9pbnRBLCBlcS5jb250YWN0UG9pbnRBLCBpbnZOdW1Db250YWN0cyk7XG4gICAgdmVjMi5zY2FsZShlcS5jb250YWN0UG9pbnRCLCBlcS5jb250YWN0UG9pbnRCLCBpbnZOdW1Db250YWN0cyk7XG4gICAgdmVjMi5ub3JtYWxpemUoZXEudCwgZXEudCk7XG4gICAgdmVjMi5yb3RhdGU5MGN3KGVxLnQsIGVxLnQpO1xuICAgIHJldHVybiBlcTtcbn07XG5cbi8qKlxuICogQ29udmV4L2xpbmUgbmFycm93cGhhc2VcbiAqIEBtZXRob2QgY29udmV4TGluZVxuICogQHBhcmFtICB7Qm9keX0gICAgICAgY29udmV4Qm9keVxuICogQHBhcmFtICB7Q29udmV4fSAgICAgY29udmV4U2hhcGVcbiAqIEBwYXJhbSAge0FycmF5fSAgICAgIGNvbnZleE9mZnNldFxuICogQHBhcmFtICB7TnVtYmVyfSAgICAgY29udmV4QW5nbGVcbiAqIEBwYXJhbSAge0JvZHl9ICAgICAgIGxpbmVCb2R5XG4gKiBAcGFyYW0gIHtMaW5lfSAgICAgICBsaW5lU2hhcGVcbiAqIEBwYXJhbSAge0FycmF5fSAgICAgIGxpbmVPZmZzZXRcbiAqIEBwYXJhbSAge051bWJlcn0gICAgIGxpbmVBbmdsZVxuICogQHBhcmFtIHtib29sZWFufSAgICAganVzdFRlc3RcbiAqIEB0b2RvIEltcGxlbWVudCBtZSFcbiAqL1xuTmFycm93cGhhc2UucHJvdG90eXBlW1NoYXBlLkxJTkUgfCBTaGFwZS5DT05WRVhdID1cbk5hcnJvd3BoYXNlLnByb3RvdHlwZS5jb252ZXhMaW5lID0gZnVuY3Rpb24oXG4gICAgY29udmV4Qm9keSxcbiAgICBjb252ZXhTaGFwZSxcbiAgICBjb252ZXhPZmZzZXQsXG4gICAgY29udmV4QW5nbGUsXG4gICAgbGluZUJvZHksXG4gICAgbGluZVNoYXBlLFxuICAgIGxpbmVPZmZzZXQsXG4gICAgbGluZUFuZ2xlLFxuICAgIGp1c3RUZXN0XG4pe1xuICAgIC8vIFRPRE9cbiAgICBpZihqdXN0VGVzdCl7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG59O1xuXG4vKipcbiAqIExpbmUvYm94IG5hcnJvd3BoYXNlXG4gKiBAbWV0aG9kIGxpbmVCb3hcbiAqIEBwYXJhbSAge0JvZHl9ICAgICAgIGxpbmVCb2R5XG4gKiBAcGFyYW0gIHtMaW5lfSAgICAgICBsaW5lU2hhcGVcbiAqIEBwYXJhbSAge0FycmF5fSAgICAgIGxpbmVPZmZzZXRcbiAqIEBwYXJhbSAge051bWJlcn0gICAgIGxpbmVBbmdsZVxuICogQHBhcmFtICB7Qm9keX0gICAgICAgYm94Qm9keVxuICogQHBhcmFtICB7Qm94fSAgYm94U2hhcGVcbiAqIEBwYXJhbSAge0FycmF5fSAgICAgIGJveE9mZnNldFxuICogQHBhcmFtICB7TnVtYmVyfSAgICAgYm94QW5nbGVcbiAqIEBwYXJhbSAge0Jvb2xlYW59ICAgIGp1c3RUZXN0XG4gKiBAdG9kbyBJbXBsZW1lbnQgbWUhXG4gKi9cbk5hcnJvd3BoYXNlLnByb3RvdHlwZVtTaGFwZS5MSU5FIHwgU2hhcGUuQk9YXSA9XG5OYXJyb3dwaGFzZS5wcm90b3R5cGUubGluZUJveCA9IGZ1bmN0aW9uKFxuICAgIGxpbmVCb2R5LFxuICAgIGxpbmVTaGFwZSxcbiAgICBsaW5lT2Zmc2V0LFxuICAgIGxpbmVBbmdsZSxcbiAgICBib3hCb2R5LFxuICAgIGJveFNoYXBlLFxuICAgIGJveE9mZnNldCxcbiAgICBib3hBbmdsZSxcbiAgICBqdXN0VGVzdFxuKXtcbiAgICAvLyBUT0RPXG4gICAgaWYoanVzdFRlc3Qpe1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxufTtcblxuZnVuY3Rpb24gc2V0Q29udmV4VG9DYXBzdWxlU2hhcGVNaWRkbGUoY29udmV4U2hhcGUsIGNhcHN1bGVTaGFwZSl7XG4gICAgdmVjMi5zZXQoY29udmV4U2hhcGUudmVydGljZXNbMF0sIC1jYXBzdWxlU2hhcGUubGVuZ3RoICogMC41LCAtY2Fwc3VsZVNoYXBlLnJhZGl1cyk7XG4gICAgdmVjMi5zZXQoY29udmV4U2hhcGUudmVydGljZXNbMV0sICBjYXBzdWxlU2hhcGUubGVuZ3RoICogMC41LCAtY2Fwc3VsZVNoYXBlLnJhZGl1cyk7XG4gICAgdmVjMi5zZXQoY29udmV4U2hhcGUudmVydGljZXNbMl0sICBjYXBzdWxlU2hhcGUubGVuZ3RoICogMC41LCAgY2Fwc3VsZVNoYXBlLnJhZGl1cyk7XG4gICAgdmVjMi5zZXQoY29udmV4U2hhcGUudmVydGljZXNbM10sIC1jYXBzdWxlU2hhcGUubGVuZ3RoICogMC41LCAgY2Fwc3VsZVNoYXBlLnJhZGl1cyk7XG59XG5cbnZhciBjb252ZXhDYXBzdWxlX3RlbXBSZWN0ID0gbmV3IEJveCh7IHdpZHRoOiAxLCBoZWlnaHQ6IDEgfSksXG4gICAgY29udmV4Q2Fwc3VsZV90ZW1wVmVjID0gdmVjMi5jcmVhdGUoKTtcblxuLyoqXG4gKiBDb252ZXgvY2Fwc3VsZSBuYXJyb3dwaGFzZVxuICogQG1ldGhvZCBjb252ZXhDYXBzdWxlXG4gKiBAcGFyYW0gIHtCb2R5fSAgICAgICBjb252ZXhCb2R5XG4gKiBAcGFyYW0gIHtDb252ZXh9ICAgICBjb252ZXhTaGFwZVxuICogQHBhcmFtICB7QXJyYXl9ICAgICAgY29udmV4UG9zaXRpb25cbiAqIEBwYXJhbSAge051bWJlcn0gICAgIGNvbnZleEFuZ2xlXG4gKiBAcGFyYW0gIHtCb2R5fSAgICAgICBjYXBzdWxlQm9keVxuICogQHBhcmFtICB7Q2Fwc3VsZX0gICAgY2Fwc3VsZVNoYXBlXG4gKiBAcGFyYW0gIHtBcnJheX0gICAgICBjYXBzdWxlUG9zaXRpb25cbiAqIEBwYXJhbSAge051bWJlcn0gICAgIGNhcHN1bGVBbmdsZVxuICovXG5OYXJyb3dwaGFzZS5wcm90b3R5cGVbU2hhcGUuQ0FQU1VMRSB8IFNoYXBlLkNPTlZFWF0gPVxuTmFycm93cGhhc2UucHJvdG90eXBlW1NoYXBlLkNBUFNVTEUgfCBTaGFwZS5CT1hdID1cbk5hcnJvd3BoYXNlLnByb3RvdHlwZS5jb252ZXhDYXBzdWxlID0gZnVuY3Rpb24oXG4gICAgY29udmV4Qm9keSxcbiAgICBjb252ZXhTaGFwZSxcbiAgICBjb252ZXhQb3NpdGlvbixcbiAgICBjb252ZXhBbmdsZSxcbiAgICBjYXBzdWxlQm9keSxcbiAgICBjYXBzdWxlU2hhcGUsXG4gICAgY2Fwc3VsZVBvc2l0aW9uLFxuICAgIGNhcHN1bGVBbmdsZSxcbiAgICBqdXN0VGVzdFxuKXtcblxuICAgIC8vIENoZWNrIHRoZSBjaXJjbGVzXG4gICAgLy8gQWRkIG9mZnNldHMhXG4gICAgdmFyIGNpcmNsZVBvcyA9IGNvbnZleENhcHN1bGVfdGVtcFZlYztcbiAgICB2ZWMyLnNldChjaXJjbGVQb3MsIGNhcHN1bGVTaGFwZS5sZW5ndGgvMiwwKTtcbiAgICB2ZWMyLnJvdGF0ZShjaXJjbGVQb3MsY2lyY2xlUG9zLGNhcHN1bGVBbmdsZSk7XG4gICAgdmVjMi5hZGQoY2lyY2xlUG9zLGNpcmNsZVBvcyxjYXBzdWxlUG9zaXRpb24pO1xuICAgIHZhciByZXN1bHQxID0gdGhpcy5jaXJjbGVDb252ZXgoY2Fwc3VsZUJvZHksY2Fwc3VsZVNoYXBlLGNpcmNsZVBvcyxjYXBzdWxlQW5nbGUsIGNvbnZleEJvZHksY29udmV4U2hhcGUsY29udmV4UG9zaXRpb24sY29udmV4QW5nbGUsIGp1c3RUZXN0LCBjYXBzdWxlU2hhcGUucmFkaXVzKTtcblxuICAgIHZlYzIuc2V0KGNpcmNsZVBvcywtY2Fwc3VsZVNoYXBlLmxlbmd0aC8yLCAwKTtcbiAgICB2ZWMyLnJvdGF0ZShjaXJjbGVQb3MsY2lyY2xlUG9zLGNhcHN1bGVBbmdsZSk7XG4gICAgdmVjMi5hZGQoY2lyY2xlUG9zLGNpcmNsZVBvcyxjYXBzdWxlUG9zaXRpb24pO1xuICAgIHZhciByZXN1bHQyID0gdGhpcy5jaXJjbGVDb252ZXgoY2Fwc3VsZUJvZHksY2Fwc3VsZVNoYXBlLGNpcmNsZVBvcyxjYXBzdWxlQW5nbGUsIGNvbnZleEJvZHksY29udmV4U2hhcGUsY29udmV4UG9zaXRpb24sY29udmV4QW5nbGUsIGp1c3RUZXN0LCBjYXBzdWxlU2hhcGUucmFkaXVzKTtcblxuICAgIGlmKGp1c3RUZXN0ICYmIChyZXN1bHQxIHx8IHJlc3VsdDIpKXtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgY2VudGVyIHJlY3RcbiAgICB2YXIgciA9IGNvbnZleENhcHN1bGVfdGVtcFJlY3Q7XG4gICAgc2V0Q29udmV4VG9DYXBzdWxlU2hhcGVNaWRkbGUocixjYXBzdWxlU2hhcGUpO1xuICAgIHZhciByZXN1bHQgPSB0aGlzLmNvbnZleENvbnZleChjb252ZXhCb2R5LGNvbnZleFNoYXBlLGNvbnZleFBvc2l0aW9uLGNvbnZleEFuZ2xlLCBjYXBzdWxlQm9keSxyLGNhcHN1bGVQb3NpdGlvbixjYXBzdWxlQW5nbGUsIGp1c3RUZXN0KTtcblxuICAgIHJldHVybiByZXN1bHQgKyByZXN1bHQxICsgcmVzdWx0Mjtcbn07XG5cbi8qKlxuICogQ2Fwc3VsZS9saW5lIG5hcnJvd3BoYXNlXG4gKiBAbWV0aG9kIGxpbmVDYXBzdWxlXG4gKiBAcGFyYW0gIHtCb2R5fSAgICAgICBsaW5lQm9keVxuICogQHBhcmFtICB7TGluZX0gICAgICAgbGluZVNoYXBlXG4gKiBAcGFyYW0gIHtBcnJheX0gICAgICBsaW5lUG9zaXRpb25cbiAqIEBwYXJhbSAge051bWJlcn0gICAgIGxpbmVBbmdsZVxuICogQHBhcmFtICB7Qm9keX0gICAgICAgY2Fwc3VsZUJvZHlcbiAqIEBwYXJhbSAge0NhcHN1bGV9ICAgIGNhcHN1bGVTaGFwZVxuICogQHBhcmFtICB7QXJyYXl9ICAgICAgY2Fwc3VsZVBvc2l0aW9uXG4gKiBAcGFyYW0gIHtOdW1iZXJ9ICAgICBjYXBzdWxlQW5nbGVcbiAqIEB0b2RvIEltcGxlbWVudCBtZSFcbiAqL1xuTmFycm93cGhhc2UucHJvdG90eXBlW1NoYXBlLkNBUFNVTEUgfCBTaGFwZS5MSU5FXSA9XG5OYXJyb3dwaGFzZS5wcm90b3R5cGUubGluZUNhcHN1bGUgPSBmdW5jdGlvbihcbiAgICBsaW5lQm9keSxcbiAgICBsaW5lU2hhcGUsXG4gICAgbGluZVBvc2l0aW9uLFxuICAgIGxpbmVBbmdsZSxcbiAgICBjYXBzdWxlQm9keSxcbiAgICBjYXBzdWxlU2hhcGUsXG4gICAgY2Fwc3VsZVBvc2l0aW9uLFxuICAgIGNhcHN1bGVBbmdsZSxcbiAgICBqdXN0VGVzdFxuKXtcbiAgICAvLyBUT0RPXG4gICAgaWYoanVzdFRlc3Qpe1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxufTtcblxudmFyIGNhcHN1bGVDYXBzdWxlX3RlbXBWZWMxID0gdmVjMi5jcmVhdGUoKTtcbnZhciBjYXBzdWxlQ2Fwc3VsZV90ZW1wVmVjMiA9IHZlYzIuY3JlYXRlKCk7XG52YXIgY2Fwc3VsZUNhcHN1bGVfdGVtcFJlY3QxID0gbmV3IEJveCh7IHdpZHRoOiAxLCBoZWlnaHQ6IDEgfSk7XG5cbi8qKlxuICogQ2Fwc3VsZS9jYXBzdWxlIG5hcnJvd3BoYXNlXG4gKiBAbWV0aG9kIGNhcHN1bGVDYXBzdWxlXG4gKiBAcGFyYW0gIHtCb2R5fSAgICAgICBiaVxuICogQHBhcmFtICB7Q2Fwc3VsZX0gICAgc2lcbiAqIEBwYXJhbSAge0FycmF5fSAgICAgIHhpXG4gKiBAcGFyYW0gIHtOdW1iZXJ9ICAgICBhaVxuICogQHBhcmFtICB7Qm9keX0gICAgICAgYmpcbiAqIEBwYXJhbSAge0NhcHN1bGV9ICAgIHNqXG4gKiBAcGFyYW0gIHtBcnJheX0gICAgICB4alxuICogQHBhcmFtICB7TnVtYmVyfSAgICAgYWpcbiAqL1xuTmFycm93cGhhc2UucHJvdG90eXBlW1NoYXBlLkNBUFNVTEUgfCBTaGFwZS5DQVBTVUxFXSA9XG5OYXJyb3dwaGFzZS5wcm90b3R5cGUuY2Fwc3VsZUNhcHN1bGUgPSBmdW5jdGlvbihiaSxzaSx4aSxhaSwgYmosc2oseGosYWosIGp1c3RUZXN0KXtcblxuICAgIHZhciBlbmFibGVGcmljdGlvbkJlZm9yZTtcblxuICAgIC8vIENoZWNrIHRoZSBjaXJjbGVzXG4gICAgLy8gQWRkIG9mZnNldHMhXG4gICAgdmFyIGNpcmNsZVBvc2kgPSBjYXBzdWxlQ2Fwc3VsZV90ZW1wVmVjMSxcbiAgICAgICAgY2lyY2xlUG9zaiA9IGNhcHN1bGVDYXBzdWxlX3RlbXBWZWMyO1xuXG4gICAgdmFyIG51bUNvbnRhY3RzID0gMDtcblxuXG4gICAgLy8gTmVlZCA0IGNpcmNsZSBjaGVja3MsIGJldHdlZW4gYWxsXG4gICAgZm9yKHZhciBpPTA7IGk8MjsgaSsrKXtcblxuICAgICAgICB2ZWMyLnNldChjaXJjbGVQb3NpLChpPT09MD8tMToxKSpzaS5sZW5ndGgvMiwwKTtcbiAgICAgICAgdmVjMi5yb3RhdGUoY2lyY2xlUG9zaSxjaXJjbGVQb3NpLGFpKTtcbiAgICAgICAgdmVjMi5hZGQoY2lyY2xlUG9zaSxjaXJjbGVQb3NpLHhpKTtcblxuICAgICAgICBmb3IodmFyIGo9MDsgajwyOyBqKyspe1xuXG4gICAgICAgICAgICB2ZWMyLnNldChjaXJjbGVQb3NqLChqPT09MD8tMToxKSpzai5sZW5ndGgvMiwgMCk7XG4gICAgICAgICAgICB2ZWMyLnJvdGF0ZShjaXJjbGVQb3NqLGNpcmNsZVBvc2osYWopO1xuICAgICAgICAgICAgdmVjMi5hZGQoY2lyY2xlUG9zaixjaXJjbGVQb3NqLHhqKTtcblxuICAgICAgICAgICAgLy8gVGVtcG9yYXJpbHkgdHVybiBvZmYgZnJpY3Rpb25cbiAgICAgICAgICAgIGlmKHRoaXMuZW5hYmxlRnJpY3Rpb25SZWR1Y3Rpb24pe1xuICAgICAgICAgICAgICAgIGVuYWJsZUZyaWN0aW9uQmVmb3JlID0gdGhpcy5lbmFibGVGcmljdGlvbjtcbiAgICAgICAgICAgICAgICB0aGlzLmVuYWJsZUZyaWN0aW9uID0gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciByZXN1bHQgPSB0aGlzLmNpcmNsZUNpcmNsZShiaSxzaSxjaXJjbGVQb3NpLGFpLCBiaixzaixjaXJjbGVQb3NqLGFqLCBqdXN0VGVzdCwgc2kucmFkaXVzLCBzai5yYWRpdXMpO1xuXG4gICAgICAgICAgICBpZih0aGlzLmVuYWJsZUZyaWN0aW9uUmVkdWN0aW9uKXtcbiAgICAgICAgICAgICAgICB0aGlzLmVuYWJsZUZyaWN0aW9uID0gZW5hYmxlRnJpY3Rpb25CZWZvcmU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmKGp1c3RUZXN0ICYmIHJlc3VsdCl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG51bUNvbnRhY3RzICs9IHJlc3VsdDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmKHRoaXMuZW5hYmxlRnJpY3Rpb25SZWR1Y3Rpb24pe1xuICAgICAgICAvLyBUZW1wb3JhcmlseSB0dXJuIG9mZiBmcmljdGlvblxuICAgICAgICBlbmFibGVGcmljdGlvbkJlZm9yZSA9IHRoaXMuZW5hYmxlRnJpY3Rpb247XG4gICAgICAgIHRoaXMuZW5hYmxlRnJpY3Rpb24gPSBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBDaGVjayBjaXJjbGVzIGFnYWluc3QgdGhlIGNlbnRlciBib3hzXG4gICAgdmFyIHJlY3QgPSBjYXBzdWxlQ2Fwc3VsZV90ZW1wUmVjdDE7XG4gICAgc2V0Q29udmV4VG9DYXBzdWxlU2hhcGVNaWRkbGUocmVjdCxzaSk7XG4gICAgdmFyIHJlc3VsdDEgPSB0aGlzLmNvbnZleENhcHN1bGUoYmkscmVjdCx4aSxhaSwgYmosc2oseGosYWosIGp1c3RUZXN0KTtcblxuICAgIGlmKHRoaXMuZW5hYmxlRnJpY3Rpb25SZWR1Y3Rpb24pe1xuICAgICAgICB0aGlzLmVuYWJsZUZyaWN0aW9uID0gZW5hYmxlRnJpY3Rpb25CZWZvcmU7XG4gICAgfVxuXG4gICAgaWYoanVzdFRlc3QgJiYgcmVzdWx0MSl7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBudW1Db250YWN0cyArPSByZXN1bHQxO1xuXG4gICAgaWYodGhpcy5lbmFibGVGcmljdGlvblJlZHVjdGlvbil7XG4gICAgICAgIC8vIFRlbXBvcmFyaWx5IHR1cm4gb2ZmIGZyaWN0aW9uXG4gICAgICAgIHZhciBlbmFibGVGcmljdGlvbkJlZm9yZSA9IHRoaXMuZW5hYmxlRnJpY3Rpb247XG4gICAgICAgIHRoaXMuZW5hYmxlRnJpY3Rpb24gPSBmYWxzZTtcbiAgICB9XG5cbiAgICBzZXRDb252ZXhUb0NhcHN1bGVTaGFwZU1pZGRsZShyZWN0LHNqKTtcbiAgICB2YXIgcmVzdWx0MiA9IHRoaXMuY29udmV4Q2Fwc3VsZShiaixyZWN0LHhqLGFqLCBiaSxzaSx4aSxhaSwganVzdFRlc3QpO1xuXG4gICAgaWYodGhpcy5lbmFibGVGcmljdGlvblJlZHVjdGlvbil7XG4gICAgICAgIHRoaXMuZW5hYmxlRnJpY3Rpb24gPSBlbmFibGVGcmljdGlvbkJlZm9yZTtcbiAgICB9XG5cbiAgICBpZihqdXN0VGVzdCAmJiByZXN1bHQyKXtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIG51bUNvbnRhY3RzICs9IHJlc3VsdDI7XG5cbiAgICBpZih0aGlzLmVuYWJsZUZyaWN0aW9uUmVkdWN0aW9uKXtcbiAgICAgICAgaWYobnVtQ29udGFjdHMgJiYgdGhpcy5lbmFibGVGcmljdGlvbil7XG4gICAgICAgICAgICB0aGlzLmZyaWN0aW9uRXF1YXRpb25zLnB1c2godGhpcy5jcmVhdGVGcmljdGlvbkZyb21BdmVyYWdlKG51bUNvbnRhY3RzKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbnVtQ29udGFjdHM7XG59O1xuXG4vKipcbiAqIExpbmUvbGluZSBuYXJyb3dwaGFzZVxuICogQG1ldGhvZCBsaW5lTGluZVxuICogQHBhcmFtICB7Qm9keX0gICAgICAgYm9keUFcbiAqIEBwYXJhbSAge0xpbmV9ICAgICAgIHNoYXBlQVxuICogQHBhcmFtICB7QXJyYXl9ICAgICAgcG9zaXRpb25BXG4gKiBAcGFyYW0gIHtOdW1iZXJ9ICAgICBhbmdsZUFcbiAqIEBwYXJhbSAge0JvZHl9ICAgICAgIGJvZHlCXG4gKiBAcGFyYW0gIHtMaW5lfSAgICAgICBzaGFwZUJcbiAqIEBwYXJhbSAge0FycmF5fSAgICAgIHBvc2l0aW9uQlxuICogQHBhcmFtICB7TnVtYmVyfSAgICAgYW5nbGVCXG4gKiBAdG9kbyBJbXBsZW1lbnQgbWUhXG4gKi9cbk5hcnJvd3BoYXNlLnByb3RvdHlwZVtTaGFwZS5MSU5FIHwgU2hhcGUuTElORV0gPVxuTmFycm93cGhhc2UucHJvdG90eXBlLmxpbmVMaW5lID0gZnVuY3Rpb24oXG4gICAgYm9keUEsXG4gICAgc2hhcGVBLFxuICAgIHBvc2l0aW9uQSxcbiAgICBhbmdsZUEsXG4gICAgYm9keUIsXG4gICAgc2hhcGVCLFxuICAgIHBvc2l0aW9uQixcbiAgICBhbmdsZUIsXG4gICAganVzdFRlc3Rcbil7XG4gICAgLy8gVE9ET1xuICAgIGlmKGp1c3RUZXN0KXtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cbn07XG5cbi8qKlxuICogUGxhbmUvbGluZSBOYXJyb3dwaGFzZVxuICogQG1ldGhvZCBwbGFuZUxpbmVcbiAqIEBwYXJhbSAge0JvZHl9ICAgcGxhbmVCb2R5XG4gKiBAcGFyYW0gIHtQbGFuZX0gIHBsYW5lU2hhcGVcbiAqIEBwYXJhbSAge0FycmF5fSAgcGxhbmVPZmZzZXRcbiAqIEBwYXJhbSAge051bWJlcn0gcGxhbmVBbmdsZVxuICogQHBhcmFtICB7Qm9keX0gICBsaW5lQm9keVxuICogQHBhcmFtICB7TGluZX0gICBsaW5lU2hhcGVcbiAqIEBwYXJhbSAge0FycmF5fSAgbGluZU9mZnNldFxuICogQHBhcmFtICB7TnVtYmVyfSBsaW5lQW5nbGVcbiAqL1xuTmFycm93cGhhc2UucHJvdG90eXBlW1NoYXBlLlBMQU5FIHwgU2hhcGUuTElORV0gPVxuTmFycm93cGhhc2UucHJvdG90eXBlLnBsYW5lTGluZSA9IGZ1bmN0aW9uKHBsYW5lQm9keSwgcGxhbmVTaGFwZSwgcGxhbmVPZmZzZXQsIHBsYW5lQW5nbGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZUJvZHksICBsaW5lU2hhcGUsICBsaW5lT2Zmc2V0LCAgbGluZUFuZ2xlLCBqdXN0VGVzdCl7XG4gICAgdmFyIHdvcmxkVmVydGV4MCA9IHRtcDEsXG4gICAgICAgIHdvcmxkVmVydGV4MSA9IHRtcDIsXG4gICAgICAgIHdvcmxkVmVydGV4MDEgPSB0bXAzLFxuICAgICAgICB3b3JsZFZlcnRleDExID0gdG1wNCxcbiAgICAgICAgd29ybGRFZGdlID0gdG1wNSxcbiAgICAgICAgd29ybGRFZGdlVW5pdCA9IHRtcDYsXG4gICAgICAgIGRpc3QgPSB0bXA3LFxuICAgICAgICB3b3JsZE5vcm1hbCA9IHRtcDgsXG4gICAgICAgIHdvcmxkVGFuZ2VudCA9IHRtcDksXG4gICAgICAgIHZlcnRzID0gdG1wQXJyYXksXG4gICAgICAgIG51bUNvbnRhY3RzID0gMDtcblxuICAgIC8vIEdldCBzdGFydCBhbmQgZW5kIHBvaW50c1xuICAgIHZlYzIuc2V0KHdvcmxkVmVydGV4MCwgLWxpbmVTaGFwZS5sZW5ndGgvMiwgMCk7XG4gICAgdmVjMi5zZXQod29ybGRWZXJ0ZXgxLCAgbGluZVNoYXBlLmxlbmd0aC8yLCAwKTtcblxuICAgIC8vIE5vdCBzdXJlIHdoeSB3ZSBoYXZlIHRvIHVzZSB3b3JsZFZlcnRleCoxIGhlcmUsIGJ1dCBpdCB3b24ndCB3b3JrIG90aGVyd2lzZS4gVGlyZWQuXG4gICAgdmVjMi5yb3RhdGUod29ybGRWZXJ0ZXgwMSwgd29ybGRWZXJ0ZXgwLCBsaW5lQW5nbGUpO1xuICAgIHZlYzIucm90YXRlKHdvcmxkVmVydGV4MTEsIHdvcmxkVmVydGV4MSwgbGluZUFuZ2xlKTtcblxuICAgIGFkZCh3b3JsZFZlcnRleDAxLCB3b3JsZFZlcnRleDAxLCBsaW5lT2Zmc2V0KTtcbiAgICBhZGQod29ybGRWZXJ0ZXgxMSwgd29ybGRWZXJ0ZXgxMSwgbGluZU9mZnNldCk7XG5cbiAgICB2ZWMyLmNvcHkod29ybGRWZXJ0ZXgwLHdvcmxkVmVydGV4MDEpO1xuICAgIHZlYzIuY29weSh3b3JsZFZlcnRleDEsd29ybGRWZXJ0ZXgxMSk7XG5cbiAgICAvLyBHZXQgdmVjdG9yIGFsb25nIHRoZSBsaW5lXG4gICAgc3ViKHdvcmxkRWRnZSwgd29ybGRWZXJ0ZXgxLCB3b3JsZFZlcnRleDApO1xuICAgIHZlYzIubm9ybWFsaXplKHdvcmxkRWRnZVVuaXQsIHdvcmxkRWRnZSk7XG5cbiAgICAvLyBHZXQgdGFuZ2VudCB0byB0aGUgZWRnZS5cbiAgICB2ZWMyLnJvdGF0ZTkwY3cod29ybGRUYW5nZW50LCB3b3JsZEVkZ2VVbml0KTtcblxuICAgIHZlYzIucm90YXRlKHdvcmxkTm9ybWFsLCB5QXhpcywgcGxhbmVBbmdsZSk7XG5cbiAgICAvLyBDaGVjayBsaW5lIGVuZHNcbiAgICB2ZXJ0c1swXSA9IHdvcmxkVmVydGV4MDtcbiAgICB2ZXJ0c1sxXSA9IHdvcmxkVmVydGV4MTtcbiAgICBmb3IodmFyIGk9MDsgaTx2ZXJ0cy5sZW5ndGg7IGkrKyl7XG4gICAgICAgIHZhciB2ID0gdmVydHNbaV07XG5cbiAgICAgICAgc3ViKGRpc3QsIHYsIHBsYW5lT2Zmc2V0KTtcblxuICAgICAgICB2YXIgZCA9IGRvdChkaXN0LHdvcmxkTm9ybWFsKTtcblxuICAgICAgICBpZihkIDwgMCl7XG5cbiAgICAgICAgICAgIGlmKGp1c3RUZXN0KXtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGMgPSB0aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbihwbGFuZUJvZHksbGluZUJvZHkscGxhbmVTaGFwZSxsaW5lU2hhcGUpO1xuICAgICAgICAgICAgbnVtQ29udGFjdHMrKztcblxuICAgICAgICAgICAgdmVjMi5jb3B5KGMubm9ybWFsQSwgd29ybGROb3JtYWwpO1xuICAgICAgICAgICAgdmVjMi5ub3JtYWxpemUoYy5ub3JtYWxBLGMubm9ybWFsQSk7XG5cbiAgICAgICAgICAgIC8vIGRpc3RhbmNlIHZlY3RvciBhbG9uZyBwbGFuZSBub3JtYWxcbiAgICAgICAgICAgIHZlYzIuc2NhbGUoZGlzdCwgd29ybGROb3JtYWwsIGQpO1xuXG4gICAgICAgICAgICAvLyBWZWN0b3IgZnJvbSBwbGFuZSBjZW50ZXIgdG8gY29udGFjdFxuICAgICAgICAgICAgc3ViKGMuY29udGFjdFBvaW50QSwgdiwgZGlzdCk7XG4gICAgICAgICAgICBzdWIoYy5jb250YWN0UG9pbnRBLCBjLmNvbnRhY3RQb2ludEEsIHBsYW5lQm9keS5wb3NpdGlvbik7XG5cbiAgICAgICAgICAgIC8vIEZyb20gbGluZSBjZW50ZXIgdG8gY29udGFjdFxuICAgICAgICAgICAgc3ViKGMuY29udGFjdFBvaW50QiwgdiwgICAgbGluZU9mZnNldCk7XG4gICAgICAgICAgICBhZGQoYy5jb250YWN0UG9pbnRCLCBjLmNvbnRhY3RQb2ludEIsIGxpbmVPZmZzZXQpO1xuICAgICAgICAgICAgc3ViKGMuY29udGFjdFBvaW50QiwgYy5jb250YWN0UG9pbnRCLCBsaW5lQm9keS5wb3NpdGlvbik7XG5cbiAgICAgICAgICAgIHRoaXMuY29udGFjdEVxdWF0aW9ucy5wdXNoKGMpO1xuXG4gICAgICAgICAgICBpZighdGhpcy5lbmFibGVGcmljdGlvblJlZHVjdGlvbil7XG4gICAgICAgICAgICAgICAgaWYodGhpcy5lbmFibGVGcmljdGlvbil7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZnJpY3Rpb25FcXVhdGlvbnMucHVzaCh0aGlzLmNyZWF0ZUZyaWN0aW9uRnJvbUNvbnRhY3QoYykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmKGp1c3RUZXN0KXtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmKCF0aGlzLmVuYWJsZUZyaWN0aW9uUmVkdWN0aW9uKXtcbiAgICAgICAgaWYobnVtQ29udGFjdHMgJiYgdGhpcy5lbmFibGVGcmljdGlvbil7XG4gICAgICAgICAgICB0aGlzLmZyaWN0aW9uRXF1YXRpb25zLnB1c2godGhpcy5jcmVhdGVGcmljdGlvbkZyb21BdmVyYWdlKG51bUNvbnRhY3RzKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbnVtQ29udGFjdHM7XG59O1xuXG5OYXJyb3dwaGFzZS5wcm90b3R5cGVbU2hhcGUuUEFSVElDTEUgfCBTaGFwZS5DQVBTVUxFXSA9XG5OYXJyb3dwaGFzZS5wcm90b3R5cGUucGFydGljbGVDYXBzdWxlID0gZnVuY3Rpb24oXG4gICAgcGFydGljbGVCb2R5LFxuICAgIHBhcnRpY2xlU2hhcGUsXG4gICAgcGFydGljbGVQb3NpdGlvbixcbiAgICBwYXJ0aWNsZUFuZ2xlLFxuICAgIGNhcHN1bGVCb2R5LFxuICAgIGNhcHN1bGVTaGFwZSxcbiAgICBjYXBzdWxlUG9zaXRpb24sXG4gICAgY2Fwc3VsZUFuZ2xlLFxuICAgIGp1c3RUZXN0XG4pe1xuICAgIHJldHVybiB0aGlzLmNpcmNsZUxpbmUocGFydGljbGVCb2R5LHBhcnRpY2xlU2hhcGUscGFydGljbGVQb3NpdGlvbixwYXJ0aWNsZUFuZ2xlLCBjYXBzdWxlQm9keSxjYXBzdWxlU2hhcGUsY2Fwc3VsZVBvc2l0aW9uLGNhcHN1bGVBbmdsZSwganVzdFRlc3QsIGNhcHN1bGVTaGFwZS5yYWRpdXMsIDApO1xufTtcblxuLyoqXG4gKiBDaXJjbGUvbGluZSBOYXJyb3dwaGFzZVxuICogQG1ldGhvZCBjaXJjbGVMaW5lXG4gKiBAcGFyYW0gIHtCb2R5fSBjaXJjbGVCb2R5XG4gKiBAcGFyYW0gIHtDaXJjbGV9IGNpcmNsZVNoYXBlXG4gKiBAcGFyYW0gIHtBcnJheX0gY2lyY2xlT2Zmc2V0XG4gKiBAcGFyYW0gIHtOdW1iZXJ9IGNpcmNsZUFuZ2xlXG4gKiBAcGFyYW0gIHtCb2R5fSBsaW5lQm9keVxuICogQHBhcmFtICB7TGluZX0gbGluZVNoYXBlXG4gKiBAcGFyYW0gIHtBcnJheX0gbGluZU9mZnNldFxuICogQHBhcmFtICB7TnVtYmVyfSBsaW5lQW5nbGVcbiAqIEBwYXJhbSB7Qm9vbGVhbn0ganVzdFRlc3QgSWYgc2V0IHRvIHRydWUsIHRoaXMgZnVuY3Rpb24gd2lsbCByZXR1cm4gdGhlIHJlc3VsdCAoaW50ZXJzZWN0aW9uIG9yIG5vdCkgd2l0aG91dCBhZGRpbmcgZXF1YXRpb25zLlxuICogQHBhcmFtIHtOdW1iZXJ9IGxpbmVSYWRpdXMgUmFkaXVzIHRvIGFkZCB0byB0aGUgbGluZS4gQ2FuIGJlIHVzZWQgdG8gdGVzdCBDYXBzdWxlcy5cbiAqIEBwYXJhbSB7TnVtYmVyfSBjaXJjbGVSYWRpdXMgSWYgc2V0LCB0aGlzIHZhbHVlIG92ZXJyaWRlcyB0aGUgY2lyY2xlIHNoYXBlIHJhZGl1cy5cbiAqL1xuTmFycm93cGhhc2UucHJvdG90eXBlW1NoYXBlLkNJUkNMRSB8IFNoYXBlLkxJTkVdID1cbk5hcnJvd3BoYXNlLnByb3RvdHlwZS5jaXJjbGVMaW5lID0gZnVuY3Rpb24oXG4gICAgY2lyY2xlQm9keSxcbiAgICBjaXJjbGVTaGFwZSxcbiAgICBjaXJjbGVPZmZzZXQsXG4gICAgY2lyY2xlQW5nbGUsXG4gICAgbGluZUJvZHksXG4gICAgbGluZVNoYXBlLFxuICAgIGxpbmVPZmZzZXQsXG4gICAgbGluZUFuZ2xlLFxuICAgIGp1c3RUZXN0LFxuICAgIGxpbmVSYWRpdXMsXG4gICAgY2lyY2xlUmFkaXVzXG4pe1xuICAgIHZhciBsaW5lUmFkaXVzID0gbGluZVJhZGl1cyB8fCAwLFxuICAgICAgICBjaXJjbGVSYWRpdXMgPSB0eXBlb2YoY2lyY2xlUmFkaXVzKSE9PVwidW5kZWZpbmVkXCIgPyBjaXJjbGVSYWRpdXMgOiBjaXJjbGVTaGFwZS5yYWRpdXMsXG5cbiAgICAgICAgb3J0aG9EaXN0ID0gdG1wMSxcbiAgICAgICAgbGluZVRvQ2lyY2xlT3J0aG9Vbml0ID0gdG1wMixcbiAgICAgICAgcHJvamVjdGVkUG9pbnQgPSB0bXAzLFxuICAgICAgICBjZW50ZXJEaXN0ID0gdG1wNCxcbiAgICAgICAgd29ybGRUYW5nZW50ID0gdG1wNSxcbiAgICAgICAgd29ybGRFZGdlID0gdG1wNixcbiAgICAgICAgd29ybGRFZGdlVW5pdCA9IHRtcDcsXG4gICAgICAgIHdvcmxkVmVydGV4MCA9IHRtcDgsXG4gICAgICAgIHdvcmxkVmVydGV4MSA9IHRtcDksXG4gICAgICAgIHdvcmxkVmVydGV4MDEgPSB0bXAxMCxcbiAgICAgICAgd29ybGRWZXJ0ZXgxMSA9IHRtcDExLFxuICAgICAgICBkaXN0ID0gdG1wMTIsXG4gICAgICAgIGxpbmVUb0NpcmNsZSA9IHRtcDEzLFxuICAgICAgICBsaW5lRW5kVG9MaW5lUmFkaXVzID0gdG1wMTQsXG5cbiAgICAgICAgdmVydHMgPSB0bXBBcnJheTtcblxuICAgIC8vIEdldCBzdGFydCBhbmQgZW5kIHBvaW50c1xuICAgIHZlYzIuc2V0KHdvcmxkVmVydGV4MCwgLWxpbmVTaGFwZS5sZW5ndGgvMiwgMCk7XG4gICAgdmVjMi5zZXQod29ybGRWZXJ0ZXgxLCAgbGluZVNoYXBlLmxlbmd0aC8yLCAwKTtcblxuICAgIC8vIE5vdCBzdXJlIHdoeSB3ZSBoYXZlIHRvIHVzZSB3b3JsZFZlcnRleCoxIGhlcmUsIGJ1dCBpdCB3b24ndCB3b3JrIG90aGVyd2lzZS4gVGlyZWQuXG4gICAgdmVjMi5yb3RhdGUod29ybGRWZXJ0ZXgwMSwgd29ybGRWZXJ0ZXgwLCBsaW5lQW5nbGUpO1xuICAgIHZlYzIucm90YXRlKHdvcmxkVmVydGV4MTEsIHdvcmxkVmVydGV4MSwgbGluZUFuZ2xlKTtcblxuICAgIGFkZCh3b3JsZFZlcnRleDAxLCB3b3JsZFZlcnRleDAxLCBsaW5lT2Zmc2V0KTtcbiAgICBhZGQod29ybGRWZXJ0ZXgxMSwgd29ybGRWZXJ0ZXgxMSwgbGluZU9mZnNldCk7XG5cbiAgICB2ZWMyLmNvcHkod29ybGRWZXJ0ZXgwLHdvcmxkVmVydGV4MDEpO1xuICAgIHZlYzIuY29weSh3b3JsZFZlcnRleDEsd29ybGRWZXJ0ZXgxMSk7XG5cbiAgICAvLyBHZXQgdmVjdG9yIGFsb25nIHRoZSBsaW5lXG4gICAgc3ViKHdvcmxkRWRnZSwgd29ybGRWZXJ0ZXgxLCB3b3JsZFZlcnRleDApO1xuICAgIHZlYzIubm9ybWFsaXplKHdvcmxkRWRnZVVuaXQsIHdvcmxkRWRnZSk7XG5cbiAgICAvLyBHZXQgdGFuZ2VudCB0byB0aGUgZWRnZS5cbiAgICB2ZWMyLnJvdGF0ZTkwY3cod29ybGRUYW5nZW50LCB3b3JsZEVkZ2VVbml0KTtcblxuICAgIC8vIENoZWNrIGRpc3RhbmNlIGZyb20gdGhlIHBsYW5lIHNwYW5uZWQgYnkgdGhlIGVkZ2UgdnMgdGhlIGNpcmNsZVxuICAgIHN1YihkaXN0LCBjaXJjbGVPZmZzZXQsIHdvcmxkVmVydGV4MCk7XG4gICAgdmFyIGQgPSBkb3QoZGlzdCwgd29ybGRUYW5nZW50KTsgLy8gRGlzdGFuY2UgZnJvbSBjZW50ZXIgb2YgbGluZSB0byBjaXJjbGUgY2VudGVyXG4gICAgc3ViKGNlbnRlckRpc3QsIHdvcmxkVmVydGV4MCwgbGluZU9mZnNldCk7XG5cbiAgICBzdWIobGluZVRvQ2lyY2xlLCBjaXJjbGVPZmZzZXQsIGxpbmVPZmZzZXQpO1xuXG4gICAgdmFyIHJhZGl1c1N1bSA9IGNpcmNsZVJhZGl1cyArIGxpbmVSYWRpdXM7XG5cbiAgICBpZihNYXRoLmFicyhkKSA8IHJhZGl1c1N1bSl7XG5cbiAgICAgICAgLy8gTm93IHByb2plY3QgdGhlIGNpcmNsZSBvbnRvIHRoZSBlZGdlXG4gICAgICAgIHZlYzIuc2NhbGUob3J0aG9EaXN0LCB3b3JsZFRhbmdlbnQsIGQpO1xuICAgICAgICBzdWIocHJvamVjdGVkUG9pbnQsIGNpcmNsZU9mZnNldCwgb3J0aG9EaXN0KTtcblxuICAgICAgICAvLyBBZGQgdGhlIG1pc3NpbmcgbGluZSByYWRpdXNcbiAgICAgICAgdmVjMi5zY2FsZShsaW5lVG9DaXJjbGVPcnRob1VuaXQsIHdvcmxkVGFuZ2VudCwgZG90KHdvcmxkVGFuZ2VudCwgbGluZVRvQ2lyY2xlKSk7XG4gICAgICAgIHZlYzIubm9ybWFsaXplKGxpbmVUb0NpcmNsZU9ydGhvVW5pdCxsaW5lVG9DaXJjbGVPcnRob1VuaXQpO1xuICAgICAgICB2ZWMyLnNjYWxlKGxpbmVUb0NpcmNsZU9ydGhvVW5pdCwgbGluZVRvQ2lyY2xlT3J0aG9Vbml0LCBsaW5lUmFkaXVzKTtcbiAgICAgICAgYWRkKHByb2plY3RlZFBvaW50LHByb2plY3RlZFBvaW50LGxpbmVUb0NpcmNsZU9ydGhvVW5pdCk7XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIHBvaW50IGlzIHdpdGhpbiB0aGUgZWRnZSBzcGFuXG4gICAgICAgIHZhciBwb3MgPSAgZG90KHdvcmxkRWRnZVVuaXQsIHByb2plY3RlZFBvaW50KTtcbiAgICAgICAgdmFyIHBvczAgPSBkb3Qod29ybGRFZGdlVW5pdCwgd29ybGRWZXJ0ZXgwKTtcbiAgICAgICAgdmFyIHBvczEgPSBkb3Qod29ybGRFZGdlVW5pdCwgd29ybGRWZXJ0ZXgxKTtcblxuICAgICAgICBpZihwb3MgPiBwb3MwICYmIHBvcyA8IHBvczEpe1xuICAgICAgICAgICAgLy8gV2UgZ290IGNvbnRhY3QhXG5cbiAgICAgICAgICAgIGlmKGp1c3RUZXN0KXtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGMgPSB0aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbihjaXJjbGVCb2R5LGxpbmVCb2R5LGNpcmNsZVNoYXBlLGxpbmVTaGFwZSk7XG5cbiAgICAgICAgICAgIHZlYzIuc2NhbGUoYy5ub3JtYWxBLCBvcnRob0Rpc3QsIC0xKTtcbiAgICAgICAgICAgIHZlYzIubm9ybWFsaXplKGMubm9ybWFsQSwgYy5ub3JtYWxBKTtcblxuICAgICAgICAgICAgdmVjMi5zY2FsZSggYy5jb250YWN0UG9pbnRBLCBjLm5vcm1hbEEsICBjaXJjbGVSYWRpdXMpO1xuICAgICAgICAgICAgYWRkKGMuY29udGFjdFBvaW50QSwgYy5jb250YWN0UG9pbnRBLCBjaXJjbGVPZmZzZXQpO1xuICAgICAgICAgICAgc3ViKGMuY29udGFjdFBvaW50QSwgYy5jb250YWN0UG9pbnRBLCBjaXJjbGVCb2R5LnBvc2l0aW9uKTtcblxuICAgICAgICAgICAgc3ViKGMuY29udGFjdFBvaW50QiwgcHJvamVjdGVkUG9pbnQsIGxpbmVPZmZzZXQpO1xuICAgICAgICAgICAgYWRkKGMuY29udGFjdFBvaW50QiwgYy5jb250YWN0UG9pbnRCLCBsaW5lT2Zmc2V0KTtcbiAgICAgICAgICAgIHN1YihjLmNvbnRhY3RQb2ludEIsIGMuY29udGFjdFBvaW50QiwgbGluZUJvZHkucG9zaXRpb24pO1xuXG4gICAgICAgICAgICB0aGlzLmNvbnRhY3RFcXVhdGlvbnMucHVzaChjKTtcblxuICAgICAgICAgICAgaWYodGhpcy5lbmFibGVGcmljdGlvbil7XG4gICAgICAgICAgICAgICAgdGhpcy5mcmljdGlvbkVxdWF0aW9ucy5wdXNoKHRoaXMuY3JlYXRlRnJpY3Rpb25Gcm9tQ29udGFjdChjKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gQWRkIGNvcm5lclxuICAgIHZlcnRzWzBdID0gd29ybGRWZXJ0ZXgwO1xuICAgIHZlcnRzWzFdID0gd29ybGRWZXJ0ZXgxO1xuXG4gICAgZm9yKHZhciBpPTA7IGk8dmVydHMubGVuZ3RoOyBpKyspe1xuICAgICAgICB2YXIgdiA9IHZlcnRzW2ldO1xuXG4gICAgICAgIHN1YihkaXN0LCB2LCBjaXJjbGVPZmZzZXQpO1xuXG4gICAgICAgIGlmKHZlYzIuc3F1YXJlZExlbmd0aChkaXN0KSA8IE1hdGgucG93KHJhZGl1c1N1bSwgMikpe1xuXG4gICAgICAgICAgICBpZihqdXN0VGVzdCl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBjID0gdGhpcy5jcmVhdGVDb250YWN0RXF1YXRpb24oY2lyY2xlQm9keSxsaW5lQm9keSxjaXJjbGVTaGFwZSxsaW5lU2hhcGUpO1xuXG4gICAgICAgICAgICB2ZWMyLmNvcHkoYy5ub3JtYWxBLCBkaXN0KTtcbiAgICAgICAgICAgIHZlYzIubm9ybWFsaXplKGMubm9ybWFsQSxjLm5vcm1hbEEpO1xuXG4gICAgICAgICAgICAvLyBWZWN0b3IgZnJvbSBjaXJjbGUgdG8gY29udGFjdCBwb2ludCBpcyB0aGUgbm9ybWFsIHRpbWVzIHRoZSBjaXJjbGUgcmFkaXVzXG4gICAgICAgICAgICB2ZWMyLnNjYWxlKGMuY29udGFjdFBvaW50QSwgYy5ub3JtYWxBLCBjaXJjbGVSYWRpdXMpO1xuICAgICAgICAgICAgYWRkKGMuY29udGFjdFBvaW50QSwgYy5jb250YWN0UG9pbnRBLCBjaXJjbGVPZmZzZXQpO1xuICAgICAgICAgICAgc3ViKGMuY29udGFjdFBvaW50QSwgYy5jb250YWN0UG9pbnRBLCBjaXJjbGVCb2R5LnBvc2l0aW9uKTtcblxuICAgICAgICAgICAgc3ViKGMuY29udGFjdFBvaW50QiwgdiwgbGluZU9mZnNldCk7XG4gICAgICAgICAgICB2ZWMyLnNjYWxlKGxpbmVFbmRUb0xpbmVSYWRpdXMsIGMubm9ybWFsQSwgLWxpbmVSYWRpdXMpO1xuICAgICAgICAgICAgYWRkKGMuY29udGFjdFBvaW50QiwgYy5jb250YWN0UG9pbnRCLCBsaW5lRW5kVG9MaW5lUmFkaXVzKTtcbiAgICAgICAgICAgIGFkZChjLmNvbnRhY3RQb2ludEIsIGMuY29udGFjdFBvaW50QiwgbGluZU9mZnNldCk7XG4gICAgICAgICAgICBzdWIoYy5jb250YWN0UG9pbnRCLCBjLmNvbnRhY3RQb2ludEIsIGxpbmVCb2R5LnBvc2l0aW9uKTtcblxuICAgICAgICAgICAgdGhpcy5jb250YWN0RXF1YXRpb25zLnB1c2goYyk7XG5cbiAgICAgICAgICAgIGlmKHRoaXMuZW5hYmxlRnJpY3Rpb24pe1xuICAgICAgICAgICAgICAgIHRoaXMuZnJpY3Rpb25FcXVhdGlvbnMucHVzaCh0aGlzLmNyZWF0ZUZyaWN0aW9uRnJvbUNvbnRhY3QoYykpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiAwO1xufTtcblxuLyoqXG4gKiBDaXJjbGUvY2Fwc3VsZSBOYXJyb3dwaGFzZVxuICogQG1ldGhvZCBjaXJjbGVDYXBzdWxlXG4gKiBAcGFyYW0gIHtCb2R5fSAgIGJpXG4gKiBAcGFyYW0gIHtDaXJjbGV9IHNpXG4gKiBAcGFyYW0gIHtBcnJheX0gIHhpXG4gKiBAcGFyYW0gIHtOdW1iZXJ9IGFpXG4gKiBAcGFyYW0gIHtCb2R5fSAgIGJqXG4gKiBAcGFyYW0gIHtMaW5lfSAgIHNqXG4gKiBAcGFyYW0gIHtBcnJheX0gIHhqXG4gKiBAcGFyYW0gIHtOdW1iZXJ9IGFqXG4gKi9cbk5hcnJvd3BoYXNlLnByb3RvdHlwZVtTaGFwZS5DSVJDTEUgfCBTaGFwZS5DQVBTVUxFXSA9XG5OYXJyb3dwaGFzZS5wcm90b3R5cGUuY2lyY2xlQ2Fwc3VsZSA9IGZ1bmN0aW9uKGJpLHNpLHhpLGFpLCBiaixzaix4aixhaiwganVzdFRlc3Qpe1xuICAgIHJldHVybiB0aGlzLmNpcmNsZUxpbmUoYmksc2kseGksYWksIGJqLHNqLHhqLGFqLCBqdXN0VGVzdCwgc2oucmFkaXVzKTtcbn07XG5cbi8qKlxuICogQ2lyY2xlL2NvbnZleCBOYXJyb3dwaGFzZS5cbiAqIEBtZXRob2QgY2lyY2xlQ29udmV4XG4gKiBAcGFyYW0gIHtCb2R5fSBjaXJjbGVCb2R5XG4gKiBAcGFyYW0gIHtDaXJjbGV9IGNpcmNsZVNoYXBlXG4gKiBAcGFyYW0gIHtBcnJheX0gY2lyY2xlT2Zmc2V0XG4gKiBAcGFyYW0gIHtOdW1iZXJ9IGNpcmNsZUFuZ2xlXG4gKiBAcGFyYW0gIHtCb2R5fSBjb252ZXhCb2R5XG4gKiBAcGFyYW0gIHtDb252ZXh9IGNvbnZleFNoYXBlXG4gKiBAcGFyYW0gIHtBcnJheX0gY29udmV4T2Zmc2V0XG4gKiBAcGFyYW0gIHtOdW1iZXJ9IGNvbnZleEFuZ2xlXG4gKiBAcGFyYW0gIHtCb29sZWFufSBqdXN0VGVzdFxuICogQHBhcmFtICB7TnVtYmVyfSBjaXJjbGVSYWRpdXNcbiAqL1xuTmFycm93cGhhc2UucHJvdG90eXBlW1NoYXBlLkNJUkNMRSB8IFNoYXBlLkNPTlZFWF0gPVxuTmFycm93cGhhc2UucHJvdG90eXBlW1NoYXBlLkNJUkNMRSB8IFNoYXBlLkJPWF0gPVxuTmFycm93cGhhc2UucHJvdG90eXBlLmNpcmNsZUNvbnZleCA9IGZ1bmN0aW9uKFxuICAgIGNpcmNsZUJvZHksXG4gICAgY2lyY2xlU2hhcGUsXG4gICAgY2lyY2xlT2Zmc2V0LFxuICAgIGNpcmNsZUFuZ2xlLFxuICAgIGNvbnZleEJvZHksXG4gICAgY29udmV4U2hhcGUsXG4gICAgY29udmV4T2Zmc2V0LFxuICAgIGNvbnZleEFuZ2xlLFxuICAgIGp1c3RUZXN0LFxuICAgIGNpcmNsZVJhZGl1c1xuKXtcbiAgICB2YXIgY2lyY2xlUmFkaXVzID0gdHlwZW9mKGNpcmNsZVJhZGl1cyk9PT1cIm51bWJlclwiID8gY2lyY2xlUmFkaXVzIDogY2lyY2xlU2hhcGUucmFkaXVzO1xuXG4gICAgdmFyIHdvcmxkVmVydGV4MCA9IHRtcDEsXG4gICAgICAgIHdvcmxkVmVydGV4MSA9IHRtcDIsXG4gICAgICAgIHdvcmxkRWRnZSA9IHRtcDMsXG4gICAgICAgIHdvcmxkRWRnZVVuaXQgPSB0bXA0LFxuICAgICAgICB3b3JsZE5vcm1hbCA9IHRtcDUsXG4gICAgICAgIGNlbnRlckRpc3QgPSB0bXA2LFxuICAgICAgICBjb252ZXhUb0NpcmNsZSA9IHRtcDcsXG4gICAgICAgIG9ydGhvRGlzdCA9IHRtcDgsXG4gICAgICAgIHByb2plY3RlZFBvaW50ID0gdG1wOSxcbiAgICAgICAgZGlzdCA9IHRtcDEwLFxuICAgICAgICB3b3JsZFZlcnRleCA9IHRtcDExLFxuXG4gICAgICAgIGNsb3Nlc3RFZGdlID0gLTEsXG4gICAgICAgIGNsb3Nlc3RFZGdlRGlzdGFuY2UgPSBudWxsLFxuICAgICAgICBjbG9zZXN0RWRnZU9ydGhvRGlzdCA9IHRtcDEyLFxuICAgICAgICBjbG9zZXN0RWRnZVByb2plY3RlZFBvaW50ID0gdG1wMTMsXG4gICAgICAgIGNhbmRpZGF0ZSA9IHRtcDE0LFxuICAgICAgICBjYW5kaWRhdGVEaXN0ID0gdG1wMTUsXG4gICAgICAgIG1pbkNhbmRpZGF0ZSA9IHRtcDE2LFxuXG4gICAgICAgIGZvdW5kID0gZmFsc2UsXG4gICAgICAgIG1pbkNhbmRpZGF0ZURpc3RhbmNlID0gTnVtYmVyLk1BWF9WQUxVRTtcblxuICAgIHZhciBudW1SZXBvcnRlZCA9IDA7XG5cbiAgICAvLyBOZXcgYWxnb3JpdGhtOlxuICAgIC8vIDEuIENoZWNrIHNvIGNlbnRlciBvZiBjaXJjbGUgaXMgbm90IGluc2lkZSB0aGUgcG9seWdvbi4gSWYgaXQgaXMsIHRoaXMgd29udCB3b3JrLi4uXG4gICAgLy8gMi4gRm9yIGVhY2ggZWRnZVxuICAgIC8vIDIuIDEuIEdldCBwb2ludCBvbiBjaXJjbGUgdGhhdCBpcyBjbG9zZXN0IHRvIHRoZSBlZGdlIChzY2FsZSBub3JtYWwgd2l0aCAtcmFkaXVzKVxuICAgIC8vIDIuIDIuIENoZWNrIGlmIHBvaW50IGlzIGluc2lkZS5cblxuICAgIHZhciB2ZXJ0cyA9IGNvbnZleFNoYXBlLnZlcnRpY2VzO1xuXG4gICAgLy8gQ2hlY2sgYWxsIGVkZ2VzIGZpcnN0XG4gICAgZm9yKHZhciBpPTA7IGkhPT12ZXJ0cy5sZW5ndGgrMTsgaSsrKXtcbiAgICAgICAgdmFyIHYwID0gdmVydHNbaSV2ZXJ0cy5sZW5ndGhdLFxuICAgICAgICAgICAgdjEgPSB2ZXJ0c1soaSsxKSV2ZXJ0cy5sZW5ndGhdO1xuXG4gICAgICAgIHZlYzIucm90YXRlKHdvcmxkVmVydGV4MCwgdjAsIGNvbnZleEFuZ2xlKTtcbiAgICAgICAgdmVjMi5yb3RhdGUod29ybGRWZXJ0ZXgxLCB2MSwgY29udmV4QW5nbGUpO1xuICAgICAgICBhZGQod29ybGRWZXJ0ZXgwLCB3b3JsZFZlcnRleDAsIGNvbnZleE9mZnNldCk7XG4gICAgICAgIGFkZCh3b3JsZFZlcnRleDEsIHdvcmxkVmVydGV4MSwgY29udmV4T2Zmc2V0KTtcbiAgICAgICAgc3ViKHdvcmxkRWRnZSwgd29ybGRWZXJ0ZXgxLCB3b3JsZFZlcnRleDApO1xuXG4gICAgICAgIHZlYzIubm9ybWFsaXplKHdvcmxkRWRnZVVuaXQsIHdvcmxkRWRnZSk7XG5cbiAgICAgICAgLy8gR2V0IHRhbmdlbnQgdG8gdGhlIGVkZ2UuIFBvaW50cyBvdXQgb2YgdGhlIENvbnZleFxuICAgICAgICB2ZWMyLnJvdGF0ZTkwY3cod29ybGROb3JtYWwsIHdvcmxkRWRnZVVuaXQpO1xuXG4gICAgICAgIC8vIEdldCBwb2ludCBvbiBjaXJjbGUsIGNsb3Nlc3QgdG8gdGhlIHBvbHlnb25cbiAgICAgICAgdmVjMi5zY2FsZShjYW5kaWRhdGUsd29ybGROb3JtYWwsLWNpcmNsZVNoYXBlLnJhZGl1cyk7XG4gICAgICAgIGFkZChjYW5kaWRhdGUsY2FuZGlkYXRlLGNpcmNsZU9mZnNldCk7XG5cbiAgICAgICAgaWYocG9pbnRJbkNvbnZleChjYW5kaWRhdGUsY29udmV4U2hhcGUsY29udmV4T2Zmc2V0LGNvbnZleEFuZ2xlKSl7XG5cbiAgICAgICAgICAgIHZlYzIuc3ViKGNhbmRpZGF0ZURpc3Qsd29ybGRWZXJ0ZXgwLGNhbmRpZGF0ZSk7XG4gICAgICAgICAgICB2YXIgY2FuZGlkYXRlRGlzdGFuY2UgPSBNYXRoLmFicyh2ZWMyLmRvdChjYW5kaWRhdGVEaXN0LHdvcmxkTm9ybWFsKSk7XG5cbiAgICAgICAgICAgIGlmKGNhbmRpZGF0ZURpc3RhbmNlIDwgbWluQ2FuZGlkYXRlRGlzdGFuY2Upe1xuICAgICAgICAgICAgICAgIHZlYzIuY29weShtaW5DYW5kaWRhdGUsY2FuZGlkYXRlKTtcbiAgICAgICAgICAgICAgICBtaW5DYW5kaWRhdGVEaXN0YW5jZSA9IGNhbmRpZGF0ZURpc3RhbmNlO1xuICAgICAgICAgICAgICAgIHZlYzIuc2NhbGUoY2xvc2VzdEVkZ2VQcm9qZWN0ZWRQb2ludCx3b3JsZE5vcm1hbCxjYW5kaWRhdGVEaXN0YW5jZSk7XG4gICAgICAgICAgICAgICAgdmVjMi5hZGQoY2xvc2VzdEVkZ2VQcm9qZWN0ZWRQb2ludCxjbG9zZXN0RWRnZVByb2plY3RlZFBvaW50LGNhbmRpZGF0ZSk7XG4gICAgICAgICAgICAgICAgZm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYoZm91bmQpe1xuXG4gICAgICAgIGlmKGp1c3RUZXN0KXtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGMgPSB0aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbihjaXJjbGVCb2R5LGNvbnZleEJvZHksY2lyY2xlU2hhcGUsY29udmV4U2hhcGUpO1xuICAgICAgICB2ZWMyLnN1YihjLm5vcm1hbEEsIG1pbkNhbmRpZGF0ZSwgY2lyY2xlT2Zmc2V0KTtcbiAgICAgICAgdmVjMi5ub3JtYWxpemUoYy5ub3JtYWxBLCBjLm5vcm1hbEEpO1xuXG4gICAgICAgIHZlYzIuc2NhbGUoYy5jb250YWN0UG9pbnRBLCAgYy5ub3JtYWxBLCBjaXJjbGVSYWRpdXMpO1xuICAgICAgICBhZGQoYy5jb250YWN0UG9pbnRBLCBjLmNvbnRhY3RQb2ludEEsIGNpcmNsZU9mZnNldCk7XG4gICAgICAgIHN1YihjLmNvbnRhY3RQb2ludEEsIGMuY29udGFjdFBvaW50QSwgY2lyY2xlQm9keS5wb3NpdGlvbik7XG5cbiAgICAgICAgc3ViKGMuY29udGFjdFBvaW50QiwgY2xvc2VzdEVkZ2VQcm9qZWN0ZWRQb2ludCwgY29udmV4T2Zmc2V0KTtcbiAgICAgICAgYWRkKGMuY29udGFjdFBvaW50QiwgYy5jb250YWN0UG9pbnRCLCBjb252ZXhPZmZzZXQpO1xuICAgICAgICBzdWIoYy5jb250YWN0UG9pbnRCLCBjLmNvbnRhY3RQb2ludEIsIGNvbnZleEJvZHkucG9zaXRpb24pO1xuXG4gICAgICAgIHRoaXMuY29udGFjdEVxdWF0aW9ucy5wdXNoKGMpO1xuXG4gICAgICAgIGlmKHRoaXMuZW5hYmxlRnJpY3Rpb24pe1xuICAgICAgICAgICAgdGhpcy5mcmljdGlvbkVxdWF0aW9ucy5wdXNoKCB0aGlzLmNyZWF0ZUZyaWN0aW9uRnJvbUNvbnRhY3QoYykgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAxO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGFsbCB2ZXJ0aWNlc1xuICAgIGlmKGNpcmNsZVJhZGl1cyA+IDApe1xuICAgICAgICBmb3IodmFyIGk9MDsgaTx2ZXJ0cy5sZW5ndGg7IGkrKyl7XG4gICAgICAgICAgICB2YXIgbG9jYWxWZXJ0ZXggPSB2ZXJ0c1tpXTtcbiAgICAgICAgICAgIHZlYzIucm90YXRlKHdvcmxkVmVydGV4LCBsb2NhbFZlcnRleCwgY29udmV4QW5nbGUpO1xuICAgICAgICAgICAgYWRkKHdvcmxkVmVydGV4LCB3b3JsZFZlcnRleCwgY29udmV4T2Zmc2V0KTtcblxuICAgICAgICAgICAgc3ViKGRpc3QsIHdvcmxkVmVydGV4LCBjaXJjbGVPZmZzZXQpO1xuICAgICAgICAgICAgaWYodmVjMi5zcXVhcmVkTGVuZ3RoKGRpc3QpIDwgTWF0aC5wb3coY2lyY2xlUmFkaXVzLCAyKSl7XG5cbiAgICAgICAgICAgICAgICBpZihqdXN0VGVzdCl7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhciBjID0gdGhpcy5jcmVhdGVDb250YWN0RXF1YXRpb24oY2lyY2xlQm9keSxjb252ZXhCb2R5LGNpcmNsZVNoYXBlLGNvbnZleFNoYXBlKTtcblxuICAgICAgICAgICAgICAgIHZlYzIuY29weShjLm5vcm1hbEEsIGRpc3QpO1xuICAgICAgICAgICAgICAgIHZlYzIubm9ybWFsaXplKGMubm9ybWFsQSxjLm5vcm1hbEEpO1xuXG4gICAgICAgICAgICAgICAgLy8gVmVjdG9yIGZyb20gY2lyY2xlIHRvIGNvbnRhY3QgcG9pbnQgaXMgdGhlIG5vcm1hbCB0aW1lcyB0aGUgY2lyY2xlIHJhZGl1c1xuICAgICAgICAgICAgICAgIHZlYzIuc2NhbGUoYy5jb250YWN0UG9pbnRBLCBjLm5vcm1hbEEsIGNpcmNsZVJhZGl1cyk7XG4gICAgICAgICAgICAgICAgYWRkKGMuY29udGFjdFBvaW50QSwgYy5jb250YWN0UG9pbnRBLCBjaXJjbGVPZmZzZXQpO1xuICAgICAgICAgICAgICAgIHN1YihjLmNvbnRhY3RQb2ludEEsIGMuY29udGFjdFBvaW50QSwgY2lyY2xlQm9keS5wb3NpdGlvbik7XG5cbiAgICAgICAgICAgICAgICBzdWIoYy5jb250YWN0UG9pbnRCLCB3b3JsZFZlcnRleCwgY29udmV4T2Zmc2V0KTtcbiAgICAgICAgICAgICAgICBhZGQoYy5jb250YWN0UG9pbnRCLCBjLmNvbnRhY3RQb2ludEIsIGNvbnZleE9mZnNldCk7XG4gICAgICAgICAgICAgICAgc3ViKGMuY29udGFjdFBvaW50QiwgYy5jb250YWN0UG9pbnRCLCBjb252ZXhCb2R5LnBvc2l0aW9uKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuY29udGFjdEVxdWF0aW9ucy5wdXNoKGMpO1xuXG4gICAgICAgICAgICAgICAgaWYodGhpcy5lbmFibGVGcmljdGlvbil7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZnJpY3Rpb25FcXVhdGlvbnMucHVzaCh0aGlzLmNyZWF0ZUZyaWN0aW9uRnJvbUNvbnRhY3QoYykpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIDA7XG59O1xuXG52YXIgcGljX3dvcmxkVmVydGV4MCA9IHZlYzIuY3JlYXRlKCksXG4gICAgcGljX3dvcmxkVmVydGV4MSA9IHZlYzIuY3JlYXRlKCksXG4gICAgcGljX3IwID0gdmVjMi5jcmVhdGUoKSxcbiAgICBwaWNfcjEgPSB2ZWMyLmNyZWF0ZSgpO1xuXG4vKlxuICogQ2hlY2sgaWYgYSBwb2ludCBpcyBpbiBhIHBvbHlnb25cbiAqL1xuZnVuY3Rpb24gcG9pbnRJbkNvbnZleCh3b3JsZFBvaW50LGNvbnZleFNoYXBlLGNvbnZleE9mZnNldCxjb252ZXhBbmdsZSl7XG4gICAgdmFyIHdvcmxkVmVydGV4MCA9IHBpY193b3JsZFZlcnRleDAsXG4gICAgICAgIHdvcmxkVmVydGV4MSA9IHBpY193b3JsZFZlcnRleDEsXG4gICAgICAgIHIwID0gcGljX3IwLFxuICAgICAgICByMSA9IHBpY19yMSxcbiAgICAgICAgcG9pbnQgPSB3b3JsZFBvaW50LFxuICAgICAgICB2ZXJ0cyA9IGNvbnZleFNoYXBlLnZlcnRpY2VzLFxuICAgICAgICBsYXN0Q3Jvc3MgPSBudWxsO1xuICAgIGZvcih2YXIgaT0wOyBpIT09dmVydHMubGVuZ3RoKzE7IGkrKyl7XG4gICAgICAgIHZhciB2MCA9IHZlcnRzW2kldmVydHMubGVuZ3RoXSxcbiAgICAgICAgICAgIHYxID0gdmVydHNbKGkrMSkldmVydHMubGVuZ3RoXTtcblxuICAgICAgICAvLyBUcmFuc2Zvcm0gdmVydGljZXMgdG8gd29ybGRcbiAgICAgICAgLy8gQHRvZG8gVGhlIHBvaW50IHNob3VsZCBiZSB0cmFuc2Zvcm1lZCB0byBsb2NhbCBjb29yZGluYXRlcyBpbiB0aGUgY29udmV4LCBubyBuZWVkIHRvIHRyYW5zZm9ybSBlYWNoIHZlcnRleFxuICAgICAgICB2ZWMyLnJvdGF0ZSh3b3JsZFZlcnRleDAsIHYwLCBjb252ZXhBbmdsZSk7XG4gICAgICAgIHZlYzIucm90YXRlKHdvcmxkVmVydGV4MSwgdjEsIGNvbnZleEFuZ2xlKTtcbiAgICAgICAgYWRkKHdvcmxkVmVydGV4MCwgd29ybGRWZXJ0ZXgwLCBjb252ZXhPZmZzZXQpO1xuICAgICAgICBhZGQod29ybGRWZXJ0ZXgxLCB3b3JsZFZlcnRleDEsIGNvbnZleE9mZnNldCk7XG5cbiAgICAgICAgc3ViKHIwLCB3b3JsZFZlcnRleDAsIHBvaW50KTtcbiAgICAgICAgc3ViKHIxLCB3b3JsZFZlcnRleDEsIHBvaW50KTtcbiAgICAgICAgdmFyIGNyb3NzID0gdmVjMi5jcm9zc0xlbmd0aChyMCxyMSk7XG5cbiAgICAgICAgaWYobGFzdENyb3NzPT09bnVsbCl7XG4gICAgICAgICAgICBsYXN0Q3Jvc3MgPSBjcm9zcztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIHdlIGdvdCBhIGRpZmZlcmVudCBzaWduIG9mIHRoZSBkaXN0YW5jZSB2ZWN0b3IsIHRoZSBwb2ludCBpcyBvdXQgb2YgdGhlIHBvbHlnb25cbiAgICAgICAgaWYoY3Jvc3MqbGFzdENyb3NzIDw9IDApe1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGxhc3RDcm9zcyA9IGNyb3NzO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cblxuLyoqXG4gKiBQYXJ0aWNsZS9jb252ZXggTmFycm93cGhhc2VcbiAqIEBtZXRob2QgcGFydGljbGVDb252ZXhcbiAqIEBwYXJhbSAge0JvZHl9IHBhcnRpY2xlQm9keVxuICogQHBhcmFtICB7UGFydGljbGV9IHBhcnRpY2xlU2hhcGVcbiAqIEBwYXJhbSAge0FycmF5fSBwYXJ0aWNsZU9mZnNldFxuICogQHBhcmFtICB7TnVtYmVyfSBwYXJ0aWNsZUFuZ2xlXG4gKiBAcGFyYW0gIHtCb2R5fSBjb252ZXhCb2R5XG4gKiBAcGFyYW0gIHtDb252ZXh9IGNvbnZleFNoYXBlXG4gKiBAcGFyYW0gIHtBcnJheX0gY29udmV4T2Zmc2V0XG4gKiBAcGFyYW0gIHtOdW1iZXJ9IGNvbnZleEFuZ2xlXG4gKiBAcGFyYW0ge0Jvb2xlYW59IGp1c3RUZXN0XG4gKiBAdG9kbyB1c2UgcG9pbnRJbkNvbnZleCBhbmQgY29kZSBtb3JlIHNpbWlsYXIgdG8gY2lyY2xlQ29udmV4XG4gKiBAdG9kbyBkb24ndCB0cmFuc2Zvcm0gZWFjaCB2ZXJ0ZXgsIGJ1dCB0cmFuc2Zvcm0gdGhlIHBhcnRpY2xlIHBvc2l0aW9uIHRvIGNvbnZleC1sb2NhbCBpbnN0ZWFkXG4gKi9cbk5hcnJvd3BoYXNlLnByb3RvdHlwZVtTaGFwZS5QQVJUSUNMRSB8IFNoYXBlLkNPTlZFWF0gPVxuTmFycm93cGhhc2UucHJvdG90eXBlW1NoYXBlLlBBUlRJQ0xFIHwgU2hhcGUuQk9YXSA9XG5OYXJyb3dwaGFzZS5wcm90b3R5cGUucGFydGljbGVDb252ZXggPSBmdW5jdGlvbihcbiAgICBwYXJ0aWNsZUJvZHksXG4gICAgcGFydGljbGVTaGFwZSxcbiAgICBwYXJ0aWNsZU9mZnNldCxcbiAgICBwYXJ0aWNsZUFuZ2xlLFxuICAgIGNvbnZleEJvZHksXG4gICAgY29udmV4U2hhcGUsXG4gICAgY29udmV4T2Zmc2V0LFxuICAgIGNvbnZleEFuZ2xlLFxuICAgIGp1c3RUZXN0XG4pe1xuICAgIHZhciB3b3JsZFZlcnRleDAgPSB0bXAxLFxuICAgICAgICB3b3JsZFZlcnRleDEgPSB0bXAyLFxuICAgICAgICB3b3JsZEVkZ2UgPSB0bXAzLFxuICAgICAgICB3b3JsZEVkZ2VVbml0ID0gdG1wNCxcbiAgICAgICAgd29ybGRUYW5nZW50ID0gdG1wNSxcbiAgICAgICAgY2VudGVyRGlzdCA9IHRtcDYsXG4gICAgICAgIGNvbnZleFRvcGFydGljbGUgPSB0bXA3LFxuICAgICAgICBvcnRob0Rpc3QgPSB0bXA4LFxuICAgICAgICBwcm9qZWN0ZWRQb2ludCA9IHRtcDksXG4gICAgICAgIGRpc3QgPSB0bXAxMCxcbiAgICAgICAgd29ybGRWZXJ0ZXggPSB0bXAxMSxcbiAgICAgICAgY2xvc2VzdEVkZ2UgPSAtMSxcbiAgICAgICAgY2xvc2VzdEVkZ2VEaXN0YW5jZSA9IG51bGwsXG4gICAgICAgIGNsb3Nlc3RFZGdlT3J0aG9EaXN0ID0gdG1wMTIsXG4gICAgICAgIGNsb3Nlc3RFZGdlUHJvamVjdGVkUG9pbnQgPSB0bXAxMyxcbiAgICAgICAgcjAgPSB0bXAxNCwgLy8gdmVjdG9yIGZyb20gcGFydGljbGUgdG8gdmVydGV4MFxuICAgICAgICByMSA9IHRtcDE1LFxuICAgICAgICBsb2NhbFBvaW50ID0gdG1wMTYsXG4gICAgICAgIGNhbmRpZGF0ZURpc3QgPSB0bXAxNyxcbiAgICAgICAgbWluRWRnZU5vcm1hbCA9IHRtcDE4LFxuICAgICAgICBtaW5DYW5kaWRhdGVEaXN0YW5jZSA9IE51bWJlci5NQVhfVkFMVUU7XG5cbiAgICB2YXIgbnVtUmVwb3J0ZWQgPSAwLFxuICAgICAgICBmb3VuZCA9IGZhbHNlLFxuICAgICAgICB2ZXJ0cyA9IGNvbnZleFNoYXBlLnZlcnRpY2VzO1xuXG4gICAgLy8gQ2hlY2sgaWYgdGhlIHBhcnRpY2xlIGlzIGluIHRoZSBwb2x5Z29uIGF0IGFsbFxuICAgIGlmKCFwb2ludEluQ29udmV4KHBhcnRpY2xlT2Zmc2V0LGNvbnZleFNoYXBlLGNvbnZleE9mZnNldCxjb252ZXhBbmdsZSkpe1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG5cbiAgICBpZihqdXN0VGVzdCl7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGVkZ2VzIGZpcnN0XG4gICAgdmFyIGxhc3RDcm9zcyA9IG51bGw7XG4gICAgZm9yKHZhciBpPTA7IGkhPT12ZXJ0cy5sZW5ndGgrMTsgaSsrKXtcbiAgICAgICAgdmFyIHYwID0gdmVydHNbaSV2ZXJ0cy5sZW5ndGhdLFxuICAgICAgICAgICAgdjEgPSB2ZXJ0c1soaSsxKSV2ZXJ0cy5sZW5ndGhdO1xuXG4gICAgICAgIC8vIFRyYW5zZm9ybSB2ZXJ0aWNlcyB0byB3b3JsZFxuICAgICAgICB2ZWMyLnJvdGF0ZSh3b3JsZFZlcnRleDAsIHYwLCBjb252ZXhBbmdsZSk7XG4gICAgICAgIHZlYzIucm90YXRlKHdvcmxkVmVydGV4MSwgdjEsIGNvbnZleEFuZ2xlKTtcbiAgICAgICAgYWRkKHdvcmxkVmVydGV4MCwgd29ybGRWZXJ0ZXgwLCBjb252ZXhPZmZzZXQpO1xuICAgICAgICBhZGQod29ybGRWZXJ0ZXgxLCB3b3JsZFZlcnRleDEsIGNvbnZleE9mZnNldCk7XG5cbiAgICAgICAgLy8gR2V0IHdvcmxkIGVkZ2VcbiAgICAgICAgc3ViKHdvcmxkRWRnZSwgd29ybGRWZXJ0ZXgxLCB3b3JsZFZlcnRleDApO1xuICAgICAgICB2ZWMyLm5vcm1hbGl6ZSh3b3JsZEVkZ2VVbml0LCB3b3JsZEVkZ2UpO1xuXG4gICAgICAgIC8vIEdldCB0YW5nZW50IHRvIHRoZSBlZGdlLiBQb2ludHMgb3V0IG9mIHRoZSBDb252ZXhcbiAgICAgICAgdmVjMi5yb3RhdGU5MGN3KHdvcmxkVGFuZ2VudCwgd29ybGRFZGdlVW5pdCk7XG5cbiAgICAgICAgLy8gQ2hlY2sgZGlzdGFuY2UgZnJvbSB0aGUgaW5maW5pdGUgbGluZSAoc3Bhbm5lZCBieSB0aGUgZWRnZSkgdG8gdGhlIHBhcnRpY2xlXG4gICAgICAgIHN1YihkaXN0LCBwYXJ0aWNsZU9mZnNldCwgd29ybGRWZXJ0ZXgwKTtcbiAgICAgICAgdmFyIGQgPSBkb3QoZGlzdCwgd29ybGRUYW5nZW50KTtcbiAgICAgICAgc3ViKGNlbnRlckRpc3QsIHdvcmxkVmVydGV4MCwgY29udmV4T2Zmc2V0KTtcblxuICAgICAgICBzdWIoY29udmV4VG9wYXJ0aWNsZSwgcGFydGljbGVPZmZzZXQsIGNvbnZleE9mZnNldCk7XG5cbiAgICAgICAgdmVjMi5zdWIoY2FuZGlkYXRlRGlzdCx3b3JsZFZlcnRleDAscGFydGljbGVPZmZzZXQpO1xuICAgICAgICB2YXIgY2FuZGlkYXRlRGlzdGFuY2UgPSBNYXRoLmFicyh2ZWMyLmRvdChjYW5kaWRhdGVEaXN0LHdvcmxkVGFuZ2VudCkpO1xuXG4gICAgICAgIGlmKGNhbmRpZGF0ZURpc3RhbmNlIDwgbWluQ2FuZGlkYXRlRGlzdGFuY2Upe1xuICAgICAgICAgICAgbWluQ2FuZGlkYXRlRGlzdGFuY2UgPSBjYW5kaWRhdGVEaXN0YW5jZTtcbiAgICAgICAgICAgIHZlYzIuc2NhbGUoY2xvc2VzdEVkZ2VQcm9qZWN0ZWRQb2ludCx3b3JsZFRhbmdlbnQsY2FuZGlkYXRlRGlzdGFuY2UpO1xuICAgICAgICAgICAgdmVjMi5hZGQoY2xvc2VzdEVkZ2VQcm9qZWN0ZWRQb2ludCxjbG9zZXN0RWRnZVByb2plY3RlZFBvaW50LHBhcnRpY2xlT2Zmc2V0KTtcbiAgICAgICAgICAgIHZlYzIuY29weShtaW5FZGdlTm9ybWFsLHdvcmxkVGFuZ2VudCk7XG4gICAgICAgICAgICBmb3VuZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZihmb3VuZCl7XG4gICAgICAgIHZhciBjID0gdGhpcy5jcmVhdGVDb250YWN0RXF1YXRpb24ocGFydGljbGVCb2R5LGNvbnZleEJvZHkscGFydGljbGVTaGFwZSxjb252ZXhTaGFwZSk7XG5cbiAgICAgICAgdmVjMi5zY2FsZShjLm5vcm1hbEEsIG1pbkVkZ2VOb3JtYWwsIC0xKTtcbiAgICAgICAgdmVjMi5ub3JtYWxpemUoYy5ub3JtYWxBLCBjLm5vcm1hbEEpO1xuXG4gICAgICAgIC8vIFBhcnRpY2xlIGhhcyBubyBleHRlbnQgdG8gdGhlIGNvbnRhY3QgcG9pbnRcbiAgICAgICAgdmVjMi5zZXQoYy5jb250YWN0UG9pbnRBLCAgMCwgMCk7XG4gICAgICAgIGFkZChjLmNvbnRhY3RQb2ludEEsIGMuY29udGFjdFBvaW50QSwgcGFydGljbGVPZmZzZXQpO1xuICAgICAgICBzdWIoYy5jb250YWN0UG9pbnRBLCBjLmNvbnRhY3RQb2ludEEsIHBhcnRpY2xlQm9keS5wb3NpdGlvbik7XG5cbiAgICAgICAgLy8gRnJvbSBjb252ZXggY2VudGVyIHRvIHBvaW50XG4gICAgICAgIHN1YihjLmNvbnRhY3RQb2ludEIsIGNsb3Nlc3RFZGdlUHJvamVjdGVkUG9pbnQsIGNvbnZleE9mZnNldCk7XG4gICAgICAgIGFkZChjLmNvbnRhY3RQb2ludEIsIGMuY29udGFjdFBvaW50QiwgY29udmV4T2Zmc2V0KTtcbiAgICAgICAgc3ViKGMuY29udGFjdFBvaW50QiwgYy5jb250YWN0UG9pbnRCLCBjb252ZXhCb2R5LnBvc2l0aW9uKTtcblxuICAgICAgICB0aGlzLmNvbnRhY3RFcXVhdGlvbnMucHVzaChjKTtcblxuICAgICAgICBpZih0aGlzLmVuYWJsZUZyaWN0aW9uKXtcbiAgICAgICAgICAgIHRoaXMuZnJpY3Rpb25FcXVhdGlvbnMucHVzaCggdGhpcy5jcmVhdGVGcmljdGlvbkZyb21Db250YWN0KGMpICk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gMTtcbiAgICB9XG5cblxuICAgIHJldHVybiAwO1xufTtcblxuLyoqXG4gKiBDaXJjbGUvY2lyY2xlIE5hcnJvd3BoYXNlXG4gKiBAbWV0aG9kIGNpcmNsZUNpcmNsZVxuICogQHBhcmFtICB7Qm9keX0gYm9keUFcbiAqIEBwYXJhbSAge0NpcmNsZX0gc2hhcGVBXG4gKiBAcGFyYW0gIHtBcnJheX0gb2Zmc2V0QVxuICogQHBhcmFtICB7TnVtYmVyfSBhbmdsZUFcbiAqIEBwYXJhbSAge0JvZHl9IGJvZHlCXG4gKiBAcGFyYW0gIHtDaXJjbGV9IHNoYXBlQlxuICogQHBhcmFtICB7QXJyYXl9IG9mZnNldEJcbiAqIEBwYXJhbSAge051bWJlcn0gYW5nbGVCXG4gKiBAcGFyYW0ge0Jvb2xlYW59IGp1c3RUZXN0XG4gKiBAcGFyYW0ge051bWJlcn0gW3JhZGl1c0FdIE9wdGlvbmFsIHJhZGl1cyB0byB1c2UgZm9yIHNoYXBlQVxuICogQHBhcmFtIHtOdW1iZXJ9IFtyYWRpdXNCXSBPcHRpb25hbCByYWRpdXMgdG8gdXNlIGZvciBzaGFwZUJcbiAqL1xuTmFycm93cGhhc2UucHJvdG90eXBlW1NoYXBlLkNJUkNMRV0gPVxuTmFycm93cGhhc2UucHJvdG90eXBlLmNpcmNsZUNpcmNsZSA9IGZ1bmN0aW9uKFxuICAgIGJvZHlBLFxuICAgIHNoYXBlQSxcbiAgICBvZmZzZXRBLFxuICAgIGFuZ2xlQSxcbiAgICBib2R5QixcbiAgICBzaGFwZUIsXG4gICAgb2Zmc2V0QixcbiAgICBhbmdsZUIsXG4gICAganVzdFRlc3QsXG4gICAgcmFkaXVzQSxcbiAgICByYWRpdXNCXG4pe1xuXG4gICAgdmFyIGRpc3QgPSB0bXAxLFxuICAgICAgICByYWRpdXNBID0gcmFkaXVzQSB8fCBzaGFwZUEucmFkaXVzLFxuICAgICAgICByYWRpdXNCID0gcmFkaXVzQiB8fCBzaGFwZUIucmFkaXVzO1xuXG4gICAgc3ViKGRpc3Qsb2Zmc2V0QSxvZmZzZXRCKTtcbiAgICB2YXIgciA9IHJhZGl1c0EgKyByYWRpdXNCO1xuICAgIGlmKHZlYzIuc3F1YXJlZExlbmd0aChkaXN0KSA+IE1hdGgucG93KHIsMikpe1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG5cbiAgICBpZihqdXN0VGVzdCl7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHZhciBjID0gdGhpcy5jcmVhdGVDb250YWN0RXF1YXRpb24oYm9keUEsYm9keUIsc2hhcGVBLHNoYXBlQik7XG4gICAgc3ViKGMubm9ybWFsQSwgb2Zmc2V0Qiwgb2Zmc2V0QSk7XG4gICAgdmVjMi5ub3JtYWxpemUoYy5ub3JtYWxBLGMubm9ybWFsQSk7XG5cbiAgICB2ZWMyLnNjYWxlKCBjLmNvbnRhY3RQb2ludEEsIGMubm9ybWFsQSwgIHJhZGl1c0EpO1xuICAgIHZlYzIuc2NhbGUoIGMuY29udGFjdFBvaW50QiwgYy5ub3JtYWxBLCAtcmFkaXVzQik7XG5cbiAgICBhZGQoYy5jb250YWN0UG9pbnRBLCBjLmNvbnRhY3RQb2ludEEsIG9mZnNldEEpO1xuICAgIHN1YihjLmNvbnRhY3RQb2ludEEsIGMuY29udGFjdFBvaW50QSwgYm9keUEucG9zaXRpb24pO1xuXG4gICAgYWRkKGMuY29udGFjdFBvaW50QiwgYy5jb250YWN0UG9pbnRCLCBvZmZzZXRCKTtcbiAgICBzdWIoYy5jb250YWN0UG9pbnRCLCBjLmNvbnRhY3RQb2ludEIsIGJvZHlCLnBvc2l0aW9uKTtcblxuICAgIHRoaXMuY29udGFjdEVxdWF0aW9ucy5wdXNoKGMpO1xuXG4gICAgaWYodGhpcy5lbmFibGVGcmljdGlvbil7XG4gICAgICAgIHRoaXMuZnJpY3Rpb25FcXVhdGlvbnMucHVzaCh0aGlzLmNyZWF0ZUZyaWN0aW9uRnJvbUNvbnRhY3QoYykpO1xuICAgIH1cbiAgICByZXR1cm4gMTtcbn07XG5cbi8qKlxuICogUGxhbmUvQ29udmV4IE5hcnJvd3BoYXNlXG4gKiBAbWV0aG9kIHBsYW5lQ29udmV4XG4gKiBAcGFyYW0gIHtCb2R5fSBwbGFuZUJvZHlcbiAqIEBwYXJhbSAge1BsYW5lfSBwbGFuZVNoYXBlXG4gKiBAcGFyYW0gIHtBcnJheX0gcGxhbmVPZmZzZXRcbiAqIEBwYXJhbSAge051bWJlcn0gcGxhbmVBbmdsZVxuICogQHBhcmFtICB7Qm9keX0gY29udmV4Qm9keVxuICogQHBhcmFtICB7Q29udmV4fSBjb252ZXhTaGFwZVxuICogQHBhcmFtICB7QXJyYXl9IGNvbnZleE9mZnNldFxuICogQHBhcmFtICB7TnVtYmVyfSBjb252ZXhBbmdsZVxuICogQHBhcmFtIHtCb29sZWFufSBqdXN0VGVzdFxuICovXG5OYXJyb3dwaGFzZS5wcm90b3R5cGVbU2hhcGUuUExBTkUgfCBTaGFwZS5DT05WRVhdID1cbk5hcnJvd3BoYXNlLnByb3RvdHlwZVtTaGFwZS5QTEFORSB8IFNoYXBlLkJPWF0gPVxuTmFycm93cGhhc2UucHJvdG90eXBlLnBsYW5lQ29udmV4ID0gZnVuY3Rpb24oXG4gICAgcGxhbmVCb2R5LFxuICAgIHBsYW5lU2hhcGUsXG4gICAgcGxhbmVPZmZzZXQsXG4gICAgcGxhbmVBbmdsZSxcbiAgICBjb252ZXhCb2R5LFxuICAgIGNvbnZleFNoYXBlLFxuICAgIGNvbnZleE9mZnNldCxcbiAgICBjb252ZXhBbmdsZSxcbiAgICBqdXN0VGVzdFxuKXtcbiAgICB2YXIgd29ybGRWZXJ0ZXggPSB0bXAxLFxuICAgICAgICB3b3JsZE5vcm1hbCA9IHRtcDIsXG4gICAgICAgIGRpc3QgPSB0bXAzO1xuXG4gICAgdmFyIG51bVJlcG9ydGVkID0gMDtcbiAgICB2ZWMyLnJvdGF0ZSh3b3JsZE5vcm1hbCwgeUF4aXMsIHBsYW5lQW5nbGUpO1xuXG4gICAgZm9yKHZhciBpPTA7IGkhPT1jb252ZXhTaGFwZS52ZXJ0aWNlcy5sZW5ndGg7IGkrKyl7XG4gICAgICAgIHZhciB2ID0gY29udmV4U2hhcGUudmVydGljZXNbaV07XG4gICAgICAgIHZlYzIucm90YXRlKHdvcmxkVmVydGV4LCB2LCBjb252ZXhBbmdsZSk7XG4gICAgICAgIGFkZCh3b3JsZFZlcnRleCwgd29ybGRWZXJ0ZXgsIGNvbnZleE9mZnNldCk7XG5cbiAgICAgICAgc3ViKGRpc3QsIHdvcmxkVmVydGV4LCBwbGFuZU9mZnNldCk7XG5cbiAgICAgICAgaWYoZG90KGRpc3Qsd29ybGROb3JtYWwpIDw9IDApe1xuXG4gICAgICAgICAgICBpZihqdXN0VGVzdCl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEZvdW5kIHZlcnRleFxuICAgICAgICAgICAgbnVtUmVwb3J0ZWQrKztcblxuICAgICAgICAgICAgdmFyIGMgPSB0aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbihwbGFuZUJvZHksY29udmV4Qm9keSxwbGFuZVNoYXBlLGNvbnZleFNoYXBlKTtcblxuICAgICAgICAgICAgc3ViKGRpc3QsIHdvcmxkVmVydGV4LCBwbGFuZU9mZnNldCk7XG5cbiAgICAgICAgICAgIHZlYzIuY29weShjLm5vcm1hbEEsIHdvcmxkTm9ybWFsKTtcblxuICAgICAgICAgICAgdmFyIGQgPSBkb3QoZGlzdCwgYy5ub3JtYWxBKTtcbiAgICAgICAgICAgIHZlYzIuc2NhbGUoZGlzdCwgYy5ub3JtYWxBLCBkKTtcblxuICAgICAgICAgICAgLy8gcmogaXMgZnJvbSBjb252ZXggY2VudGVyIHRvIGNvbnRhY3RcbiAgICAgICAgICAgIHN1YihjLmNvbnRhY3RQb2ludEIsIHdvcmxkVmVydGV4LCBjb252ZXhCb2R5LnBvc2l0aW9uKTtcblxuXG4gICAgICAgICAgICAvLyByaSBpcyBmcm9tIHBsYW5lIGNlbnRlciB0byBjb250YWN0XG4gICAgICAgICAgICBzdWIoIGMuY29udGFjdFBvaW50QSwgd29ybGRWZXJ0ZXgsIGRpc3QpO1xuICAgICAgICAgICAgc3ViKCBjLmNvbnRhY3RQb2ludEEsIGMuY29udGFjdFBvaW50QSwgcGxhbmVCb2R5LnBvc2l0aW9uKTtcblxuICAgICAgICAgICAgdGhpcy5jb250YWN0RXF1YXRpb25zLnB1c2goYyk7XG5cbiAgICAgICAgICAgIGlmKCF0aGlzLmVuYWJsZUZyaWN0aW9uUmVkdWN0aW9uKXtcbiAgICAgICAgICAgICAgICBpZih0aGlzLmVuYWJsZUZyaWN0aW9uKXtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mcmljdGlvbkVxdWF0aW9ucy5wdXNoKHRoaXMuY3JlYXRlRnJpY3Rpb25Gcm9tQ29udGFjdChjKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYodGhpcy5lbmFibGVGcmljdGlvblJlZHVjdGlvbil7XG4gICAgICAgIGlmKHRoaXMuZW5hYmxlRnJpY3Rpb24gJiYgbnVtUmVwb3J0ZWQpe1xuICAgICAgICAgICAgdGhpcy5mcmljdGlvbkVxdWF0aW9ucy5wdXNoKHRoaXMuY3JlYXRlRnJpY3Rpb25Gcm9tQXZlcmFnZShudW1SZXBvcnRlZCkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bVJlcG9ydGVkO1xufTtcblxuLyoqXG4gKiBOYXJyb3dwaGFzZSBmb3IgcGFydGljbGUgdnMgcGxhbmVcbiAqIEBtZXRob2QgcGFydGljbGVQbGFuZVxuICogQHBhcmFtICB7Qm9keX0gICAgICAgcGFydGljbGVCb2R5XG4gKiBAcGFyYW0gIHtQYXJ0aWNsZX0gICBwYXJ0aWNsZVNoYXBlXG4gKiBAcGFyYW0gIHtBcnJheX0gICAgICBwYXJ0aWNsZU9mZnNldFxuICogQHBhcmFtICB7TnVtYmVyfSAgICAgcGFydGljbGVBbmdsZVxuICogQHBhcmFtICB7Qm9keX0gICAgICAgcGxhbmVCb2R5XG4gKiBAcGFyYW0gIHtQbGFuZX0gICAgICBwbGFuZVNoYXBlXG4gKiBAcGFyYW0gIHtBcnJheX0gICAgICBwbGFuZU9mZnNldFxuICogQHBhcmFtICB7TnVtYmVyfSAgICAgcGxhbmVBbmdsZVxuICogQHBhcmFtIHtCb29sZWFufSAgICAganVzdFRlc3RcbiAqL1xuTmFycm93cGhhc2UucHJvdG90eXBlW1NoYXBlLlBBUlRJQ0xFIHwgU2hhcGUuUExBTkVdID1cbk5hcnJvd3BoYXNlLnByb3RvdHlwZS5wYXJ0aWNsZVBsYW5lID0gZnVuY3Rpb24oXG4gICAgcGFydGljbGVCb2R5LFxuICAgIHBhcnRpY2xlU2hhcGUsXG4gICAgcGFydGljbGVPZmZzZXQsXG4gICAgcGFydGljbGVBbmdsZSxcbiAgICBwbGFuZUJvZHksXG4gICAgcGxhbmVTaGFwZSxcbiAgICBwbGFuZU9mZnNldCxcbiAgICBwbGFuZUFuZ2xlLFxuICAgIGp1c3RUZXN0XG4pe1xuICAgIHZhciBkaXN0ID0gdG1wMSxcbiAgICAgICAgd29ybGROb3JtYWwgPSB0bXAyO1xuXG4gICAgcGxhbmVBbmdsZSA9IHBsYW5lQW5nbGUgfHwgMDtcblxuICAgIHN1YihkaXN0LCBwYXJ0aWNsZU9mZnNldCwgcGxhbmVPZmZzZXQpO1xuICAgIHZlYzIucm90YXRlKHdvcmxkTm9ybWFsLCB5QXhpcywgcGxhbmVBbmdsZSk7XG5cbiAgICB2YXIgZCA9IGRvdChkaXN0LCB3b3JsZE5vcm1hbCk7XG5cbiAgICBpZihkID4gMCl7XG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICBpZihqdXN0VGVzdCl7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHZhciBjID0gdGhpcy5jcmVhdGVDb250YWN0RXF1YXRpb24ocGxhbmVCb2R5LHBhcnRpY2xlQm9keSxwbGFuZVNoYXBlLHBhcnRpY2xlU2hhcGUpO1xuXG4gICAgdmVjMi5jb3B5KGMubm9ybWFsQSwgd29ybGROb3JtYWwpO1xuICAgIHZlYzIuc2NhbGUoIGRpc3QsIGMubm9ybWFsQSwgZCApO1xuICAgIC8vIGRpc3QgaXMgbm93IHRoZSBkaXN0YW5jZSB2ZWN0b3IgaW4gdGhlIG5vcm1hbCBkaXJlY3Rpb25cblxuICAgIC8vIHJpIGlzIHRoZSBwYXJ0aWNsZSBwb3NpdGlvbiBwcm9qZWN0ZWQgZG93biBvbnRvIHRoZSBwbGFuZSwgZnJvbSB0aGUgcGxhbmUgY2VudGVyXG4gICAgc3ViKCBjLmNvbnRhY3RQb2ludEEsIHBhcnRpY2xlT2Zmc2V0LCBkaXN0KTtcbiAgICBzdWIoIGMuY29udGFjdFBvaW50QSwgYy5jb250YWN0UG9pbnRBLCBwbGFuZUJvZHkucG9zaXRpb24pO1xuXG4gICAgLy8gcmogaXMgZnJvbSB0aGUgYm9keSBjZW50ZXIgdG8gdGhlIHBhcnRpY2xlIGNlbnRlclxuICAgIHN1YiggYy5jb250YWN0UG9pbnRCLCBwYXJ0aWNsZU9mZnNldCwgcGFydGljbGVCb2R5LnBvc2l0aW9uICk7XG5cbiAgICB0aGlzLmNvbnRhY3RFcXVhdGlvbnMucHVzaChjKTtcblxuICAgIGlmKHRoaXMuZW5hYmxlRnJpY3Rpb24pe1xuICAgICAgICB0aGlzLmZyaWN0aW9uRXF1YXRpb25zLnB1c2godGhpcy5jcmVhdGVGcmljdGlvbkZyb21Db250YWN0KGMpKTtcbiAgICB9XG4gICAgcmV0dXJuIDE7XG59O1xuXG4vKipcbiAqIENpcmNsZS9QYXJ0aWNsZSBOYXJyb3dwaGFzZVxuICogQG1ldGhvZCBjaXJjbGVQYXJ0aWNsZVxuICogQHBhcmFtICB7Qm9keX0gY2lyY2xlQm9keVxuICogQHBhcmFtICB7Q2lyY2xlfSBjaXJjbGVTaGFwZVxuICogQHBhcmFtICB7QXJyYXl9IGNpcmNsZU9mZnNldFxuICogQHBhcmFtICB7TnVtYmVyfSBjaXJjbGVBbmdsZVxuICogQHBhcmFtICB7Qm9keX0gcGFydGljbGVCb2R5XG4gKiBAcGFyYW0gIHtQYXJ0aWNsZX0gcGFydGljbGVTaGFwZVxuICogQHBhcmFtICB7QXJyYXl9IHBhcnRpY2xlT2Zmc2V0XG4gKiBAcGFyYW0gIHtOdW1iZXJ9IHBhcnRpY2xlQW5nbGVcbiAqIEBwYXJhbSAge0Jvb2xlYW59IGp1c3RUZXN0XG4gKi9cbk5hcnJvd3BoYXNlLnByb3RvdHlwZVtTaGFwZS5DSVJDTEUgfCBTaGFwZS5QQVJUSUNMRV0gPVxuTmFycm93cGhhc2UucHJvdG90eXBlLmNpcmNsZVBhcnRpY2xlID0gZnVuY3Rpb24oXG4gICAgY2lyY2xlQm9keSxcbiAgICBjaXJjbGVTaGFwZSxcbiAgICBjaXJjbGVPZmZzZXQsXG4gICAgY2lyY2xlQW5nbGUsXG4gICAgcGFydGljbGVCb2R5LFxuICAgIHBhcnRpY2xlU2hhcGUsXG4gICAgcGFydGljbGVPZmZzZXQsXG4gICAgcGFydGljbGVBbmdsZSxcbiAgICBqdXN0VGVzdFxuKXtcbiAgICB2YXIgZGlzdCA9IHRtcDE7XG5cbiAgICBzdWIoZGlzdCwgcGFydGljbGVPZmZzZXQsIGNpcmNsZU9mZnNldCk7XG4gICAgaWYodmVjMi5zcXVhcmVkTGVuZ3RoKGRpc3QpID4gTWF0aC5wb3coY2lyY2xlU2hhcGUucmFkaXVzLCAyKSl7XG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICBpZihqdXN0VGVzdCl7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHZhciBjID0gdGhpcy5jcmVhdGVDb250YWN0RXF1YXRpb24oY2lyY2xlQm9keSxwYXJ0aWNsZUJvZHksY2lyY2xlU2hhcGUscGFydGljbGVTaGFwZSk7XG4gICAgdmVjMi5jb3B5KGMubm9ybWFsQSwgZGlzdCk7XG4gICAgdmVjMi5ub3JtYWxpemUoYy5ub3JtYWxBLGMubm9ybWFsQSk7XG5cbiAgICAvLyBWZWN0b3IgZnJvbSBjaXJjbGUgdG8gY29udGFjdCBwb2ludCBpcyB0aGUgbm9ybWFsIHRpbWVzIHRoZSBjaXJjbGUgcmFkaXVzXG4gICAgdmVjMi5zY2FsZShjLmNvbnRhY3RQb2ludEEsIGMubm9ybWFsQSwgY2lyY2xlU2hhcGUucmFkaXVzKTtcbiAgICBhZGQoYy5jb250YWN0UG9pbnRBLCBjLmNvbnRhY3RQb2ludEEsIGNpcmNsZU9mZnNldCk7XG4gICAgc3ViKGMuY29udGFjdFBvaW50QSwgYy5jb250YWN0UG9pbnRBLCBjaXJjbGVCb2R5LnBvc2l0aW9uKTtcblxuICAgIC8vIFZlY3RvciBmcm9tIHBhcnRpY2xlIGNlbnRlciB0byBjb250YWN0IHBvaW50IGlzIHplcm9cbiAgICBzdWIoYy5jb250YWN0UG9pbnRCLCBwYXJ0aWNsZU9mZnNldCwgcGFydGljbGVCb2R5LnBvc2l0aW9uKTtcblxuICAgIHRoaXMuY29udGFjdEVxdWF0aW9ucy5wdXNoKGMpO1xuXG4gICAgaWYodGhpcy5lbmFibGVGcmljdGlvbil7XG4gICAgICAgIHRoaXMuZnJpY3Rpb25FcXVhdGlvbnMucHVzaCh0aGlzLmNyZWF0ZUZyaWN0aW9uRnJvbUNvbnRhY3QoYykpO1xuICAgIH1cblxuICAgIHJldHVybiAxO1xufTtcblxudmFyIHBsYW5lQ2Fwc3VsZV90bXBDaXJjbGUgPSBuZXcgQ2lyY2xlKHsgcmFkaXVzOiAxIH0pLFxuICAgIHBsYW5lQ2Fwc3VsZV90bXAxID0gdmVjMi5jcmVhdGUoKSxcbiAgICBwbGFuZUNhcHN1bGVfdG1wMiA9IHZlYzIuY3JlYXRlKCksXG4gICAgcGxhbmVDYXBzdWxlX3RtcDMgPSB2ZWMyLmNyZWF0ZSgpO1xuXG4vKipcbiAqIEBtZXRob2QgcGxhbmVDYXBzdWxlXG4gKiBAcGFyYW0gIHtCb2R5fSBwbGFuZUJvZHlcbiAqIEBwYXJhbSAge0NpcmNsZX0gcGxhbmVTaGFwZVxuICogQHBhcmFtICB7QXJyYXl9IHBsYW5lT2Zmc2V0XG4gKiBAcGFyYW0gIHtOdW1iZXJ9IHBsYW5lQW5nbGVcbiAqIEBwYXJhbSAge0JvZHl9IGNhcHN1bGVCb2R5XG4gKiBAcGFyYW0gIHtQYXJ0aWNsZX0gY2Fwc3VsZVNoYXBlXG4gKiBAcGFyYW0gIHtBcnJheX0gY2Fwc3VsZU9mZnNldFxuICogQHBhcmFtICB7TnVtYmVyfSBjYXBzdWxlQW5nbGVcbiAqIEBwYXJhbSB7Qm9vbGVhbn0ganVzdFRlc3RcbiAqL1xuTmFycm93cGhhc2UucHJvdG90eXBlW1NoYXBlLlBMQU5FIHwgU2hhcGUuQ0FQU1VMRV0gPVxuTmFycm93cGhhc2UucHJvdG90eXBlLnBsYW5lQ2Fwc3VsZSA9IGZ1bmN0aW9uKFxuICAgIHBsYW5lQm9keSxcbiAgICBwbGFuZVNoYXBlLFxuICAgIHBsYW5lT2Zmc2V0LFxuICAgIHBsYW5lQW5nbGUsXG4gICAgY2Fwc3VsZUJvZHksXG4gICAgY2Fwc3VsZVNoYXBlLFxuICAgIGNhcHN1bGVPZmZzZXQsXG4gICAgY2Fwc3VsZUFuZ2xlLFxuICAgIGp1c3RUZXN0XG4pe1xuICAgIHZhciBlbmQxID0gcGxhbmVDYXBzdWxlX3RtcDEsXG4gICAgICAgIGVuZDIgPSBwbGFuZUNhcHN1bGVfdG1wMixcbiAgICAgICAgY2lyY2xlID0gcGxhbmVDYXBzdWxlX3RtcENpcmNsZSxcbiAgICAgICAgZHN0ID0gcGxhbmVDYXBzdWxlX3RtcDM7XG5cbiAgICAvLyBDb21wdXRlIHdvcmxkIGVuZCBwb3NpdGlvbnNcbiAgICB2ZWMyLnNldChlbmQxLCAtY2Fwc3VsZVNoYXBlLmxlbmd0aC8yLCAwKTtcbiAgICB2ZWMyLnJvdGF0ZShlbmQxLGVuZDEsY2Fwc3VsZUFuZ2xlKTtcbiAgICBhZGQoZW5kMSxlbmQxLGNhcHN1bGVPZmZzZXQpO1xuXG4gICAgdmVjMi5zZXQoZW5kMiwgIGNhcHN1bGVTaGFwZS5sZW5ndGgvMiwgMCk7XG4gICAgdmVjMi5yb3RhdGUoZW5kMixlbmQyLGNhcHN1bGVBbmdsZSk7XG4gICAgYWRkKGVuZDIsZW5kMixjYXBzdWxlT2Zmc2V0KTtcblxuICAgIGNpcmNsZS5yYWRpdXMgPSBjYXBzdWxlU2hhcGUucmFkaXVzO1xuXG4gICAgdmFyIGVuYWJsZUZyaWN0aW9uQmVmb3JlO1xuXG4gICAgLy8gVGVtcG9yYXJpbHkgdHVybiBvZmYgZnJpY3Rpb25cbiAgICBpZih0aGlzLmVuYWJsZUZyaWN0aW9uUmVkdWN0aW9uKXtcbiAgICAgICAgZW5hYmxlRnJpY3Rpb25CZWZvcmUgPSB0aGlzLmVuYWJsZUZyaWN0aW9uO1xuICAgICAgICB0aGlzLmVuYWJsZUZyaWN0aW9uID0gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gRG8gTmFycm93cGhhc2UgYXMgdHdvIGNpcmNsZXNcbiAgICB2YXIgbnVtQ29udGFjdHMxID0gdGhpcy5jaXJjbGVQbGFuZShjYXBzdWxlQm9keSxjaXJjbGUsZW5kMSwwLCBwbGFuZUJvZHkscGxhbmVTaGFwZSxwbGFuZU9mZnNldCxwbGFuZUFuZ2xlLCBqdXN0VGVzdCksXG4gICAgICAgIG51bUNvbnRhY3RzMiA9IHRoaXMuY2lyY2xlUGxhbmUoY2Fwc3VsZUJvZHksY2lyY2xlLGVuZDIsMCwgcGxhbmVCb2R5LHBsYW5lU2hhcGUscGxhbmVPZmZzZXQscGxhbmVBbmdsZSwganVzdFRlc3QpO1xuXG4gICAgLy8gUmVzdG9yZSBmcmljdGlvblxuICAgIGlmKHRoaXMuZW5hYmxlRnJpY3Rpb25SZWR1Y3Rpb24pe1xuICAgICAgICB0aGlzLmVuYWJsZUZyaWN0aW9uID0gZW5hYmxlRnJpY3Rpb25CZWZvcmU7XG4gICAgfVxuXG4gICAgaWYoanVzdFRlc3Qpe1xuICAgICAgICByZXR1cm4gbnVtQ29udGFjdHMxIHx8IG51bUNvbnRhY3RzMjtcbiAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgbnVtVG90YWwgPSBudW1Db250YWN0czEgKyBudW1Db250YWN0czI7XG4gICAgICAgIGlmKHRoaXMuZW5hYmxlRnJpY3Rpb25SZWR1Y3Rpb24pe1xuICAgICAgICAgICAgaWYobnVtVG90YWwpe1xuICAgICAgICAgICAgICAgIHRoaXMuZnJpY3Rpb25FcXVhdGlvbnMucHVzaCh0aGlzLmNyZWF0ZUZyaWN0aW9uRnJvbUF2ZXJhZ2UobnVtVG90YWwpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVtVG90YWw7XG4gICAgfVxufTtcblxuLyoqXG4gKiBDcmVhdGVzIENvbnRhY3RFcXVhdGlvbnMgYW5kIEZyaWN0aW9uRXF1YXRpb25zIGZvciBhIGNvbGxpc2lvbi5cbiAqIEBtZXRob2QgY2lyY2xlUGxhbmVcbiAqIEBwYXJhbSAge0JvZHl9ICAgIGJpICAgICBUaGUgZmlyc3QgYm9keSB0aGF0IHNob3VsZCBiZSBjb25uZWN0ZWQgdG8gdGhlIGVxdWF0aW9ucy5cbiAqIEBwYXJhbSAge0NpcmNsZX0gIHNpICAgICBUaGUgY2lyY2xlIHNoYXBlIHBhcnRpY2lwYXRpbmcgaW4gdGhlIGNvbGxpc2lvbi5cbiAqIEBwYXJhbSAge0FycmF5fSAgIHhpICAgICBFeHRyYSBvZmZzZXQgdG8gdGFrZSBpbnRvIGFjY291bnQgZm9yIHRoZSBTaGFwZSwgaW4gYWRkaXRpb24gdG8gdGhlIG9uZSBpbiBjaXJjbGVCb2R5LnBvc2l0aW9uLiBXaWxsICpub3QqIGJlIHJvdGF0ZWQgYnkgY2lyY2xlQm9keS5hbmdsZSAobWF5YmUgaXQgc2hvdWxkLCBmb3Igc2FrZSBvZiBob21vZ2VuaXR5PykuIFNldCB0byBudWxsIGlmIG5vbmUuXG4gKiBAcGFyYW0gIHtCb2R5fSAgICBiaiAgICAgVGhlIHNlY29uZCBib2R5IHRoYXQgc2hvdWxkIGJlIGNvbm5lY3RlZCB0byB0aGUgZXF1YXRpb25zLlxuICogQHBhcmFtICB7UGxhbmV9ICAgc2ogICAgIFRoZSBQbGFuZSBzaGFwZSB0aGF0IGlzIHBhcnRpY2lwYXRpbmdcbiAqIEBwYXJhbSAge0FycmF5fSAgIHhqICAgICBFeHRyYSBvZmZzZXQgZm9yIHRoZSBwbGFuZSBzaGFwZS5cbiAqIEBwYXJhbSAge051bWJlcn0gIGFqICAgICBFeHRyYSBhbmdsZSB0byBhcHBseSB0byB0aGUgcGxhbmVcbiAqL1xuTmFycm93cGhhc2UucHJvdG90eXBlW1NoYXBlLkNJUkNMRSB8IFNoYXBlLlBMQU5FXSA9XG5OYXJyb3dwaGFzZS5wcm90b3R5cGUuY2lyY2xlUGxhbmUgPSBmdW5jdGlvbiggICBiaSxzaSx4aSxhaSwgYmosc2oseGosYWosIGp1c3RUZXN0ICl7XG4gICAgdmFyIGNpcmNsZUJvZHkgPSBiaSxcbiAgICAgICAgY2lyY2xlU2hhcGUgPSBzaSxcbiAgICAgICAgY2lyY2xlT2Zmc2V0ID0geGksIC8vIE9mZnNldCBmcm9tIGJvZHkgY2VudGVyLCByb3RhdGVkIVxuICAgICAgICBwbGFuZUJvZHkgPSBiaixcbiAgICAgICAgc2hhcGVCID0gc2osXG4gICAgICAgIHBsYW5lT2Zmc2V0ID0geGosXG4gICAgICAgIHBsYW5lQW5nbGUgPSBhajtcblxuICAgIHBsYW5lQW5nbGUgPSBwbGFuZUFuZ2xlIHx8IDA7XG5cbiAgICAvLyBWZWN0b3IgZnJvbSBwbGFuZSB0byBjaXJjbGVcbiAgICB2YXIgcGxhbmVUb0NpcmNsZSA9IHRtcDEsXG4gICAgICAgIHdvcmxkTm9ybWFsID0gdG1wMixcbiAgICAgICAgdGVtcCA9IHRtcDM7XG5cbiAgICBzdWIocGxhbmVUb0NpcmNsZSwgY2lyY2xlT2Zmc2V0LCBwbGFuZU9mZnNldCk7XG5cbiAgICAvLyBXb3JsZCBwbGFuZSBub3JtYWxcbiAgICB2ZWMyLnJvdGF0ZSh3b3JsZE5vcm1hbCwgeUF4aXMsIHBsYW5lQW5nbGUpO1xuXG4gICAgLy8gTm9ybWFsIGRpcmVjdGlvbiBkaXN0YW5jZVxuICAgIHZhciBkID0gZG90KHdvcmxkTm9ybWFsLCBwbGFuZVRvQ2lyY2xlKTtcblxuICAgIGlmKGQgPiBjaXJjbGVTaGFwZS5yYWRpdXMpe1xuICAgICAgICByZXR1cm4gMDsgLy8gTm8gb3ZlcmxhcC4gQWJvcnQuXG4gICAgfVxuXG4gICAgaWYoanVzdFRlc3Qpe1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBDcmVhdGUgY29udGFjdFxuICAgIHZhciBjb250YWN0ID0gdGhpcy5jcmVhdGVDb250YWN0RXF1YXRpb24ocGxhbmVCb2R5LGNpcmNsZUJvZHksc2osc2kpO1xuXG4gICAgLy8gbmkgaXMgdGhlIHBsYW5lIHdvcmxkIG5vcm1hbFxuICAgIHZlYzIuY29weShjb250YWN0Lm5vcm1hbEEsIHdvcmxkTm9ybWFsKTtcblxuICAgIC8vIHJqIGlzIHRoZSB2ZWN0b3IgZnJvbSBjaXJjbGUgY2VudGVyIHRvIHRoZSBjb250YWN0IHBvaW50XG4gICAgdmVjMi5zY2FsZShjb250YWN0LmNvbnRhY3RQb2ludEIsIGNvbnRhY3Qubm9ybWFsQSwgLWNpcmNsZVNoYXBlLnJhZGl1cyk7XG4gICAgYWRkKGNvbnRhY3QuY29udGFjdFBvaW50QiwgY29udGFjdC5jb250YWN0UG9pbnRCLCBjaXJjbGVPZmZzZXQpO1xuICAgIHN1Yihjb250YWN0LmNvbnRhY3RQb2ludEIsIGNvbnRhY3QuY29udGFjdFBvaW50QiwgY2lyY2xlQm9keS5wb3NpdGlvbik7XG5cbiAgICAvLyByaSBpcyB0aGUgZGlzdGFuY2UgZnJvbSBwbGFuZSBjZW50ZXIgdG8gY29udGFjdC5cbiAgICB2ZWMyLnNjYWxlKHRlbXAsIGNvbnRhY3Qubm9ybWFsQSwgZCk7XG4gICAgc3ViKGNvbnRhY3QuY29udGFjdFBvaW50QSwgcGxhbmVUb0NpcmNsZSwgdGVtcCApOyAvLyBTdWJ0cmFjdCBub3JtYWwgZGlzdGFuY2UgdmVjdG9yIGZyb20gdGhlIGRpc3RhbmNlIHZlY3RvclxuICAgIGFkZChjb250YWN0LmNvbnRhY3RQb2ludEEsIGNvbnRhY3QuY29udGFjdFBvaW50QSwgcGxhbmVPZmZzZXQpO1xuICAgIHN1Yihjb250YWN0LmNvbnRhY3RQb2ludEEsIGNvbnRhY3QuY29udGFjdFBvaW50QSwgcGxhbmVCb2R5LnBvc2l0aW9uKTtcblxuICAgIHRoaXMuY29udGFjdEVxdWF0aW9ucy5wdXNoKGNvbnRhY3QpO1xuXG4gICAgaWYodGhpcy5lbmFibGVGcmljdGlvbil7XG4gICAgICAgIHRoaXMuZnJpY3Rpb25FcXVhdGlvbnMucHVzaCggdGhpcy5jcmVhdGVGcmljdGlvbkZyb21Db250YWN0KGNvbnRhY3QpICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIDE7XG59O1xuXG4vKipcbiAqIENvbnZleC9jb252ZXggTmFycm93cGhhc2UuU2VlIDxhIGhyZWY9XCJodHRwOi8vd3d3LmFsdGRldmJsb2dhZGF5LmNvbS8yMDExLzA1LzEzL2NvbnRhY3QtZ2VuZXJhdGlvbi1iZXR3ZWVuLTNkLWNvbnZleC1tZXNoZXMvXCI+dGhpcyBhcnRpY2xlPC9hPiBmb3IgbW9yZSBpbmZvLlxuICogQG1ldGhvZCBjb252ZXhDb252ZXhcbiAqIEBwYXJhbSAge0JvZHl9IGJpXG4gKiBAcGFyYW0gIHtDb252ZXh9IHNpXG4gKiBAcGFyYW0gIHtBcnJheX0geGlcbiAqIEBwYXJhbSAge051bWJlcn0gYWlcbiAqIEBwYXJhbSAge0JvZHl9IGJqXG4gKiBAcGFyYW0gIHtDb252ZXh9IHNqXG4gKiBAcGFyYW0gIHtBcnJheX0geGpcbiAqIEBwYXJhbSAge051bWJlcn0gYWpcbiAqL1xuTmFycm93cGhhc2UucHJvdG90eXBlW1NoYXBlLkNPTlZFWF0gPVxuTmFycm93cGhhc2UucHJvdG90eXBlW1NoYXBlLkNPTlZFWCB8IFNoYXBlLkJPWF0gPVxuTmFycm93cGhhc2UucHJvdG90eXBlW1NoYXBlLkJPWF0gPVxuTmFycm93cGhhc2UucHJvdG90eXBlLmNvbnZleENvbnZleCA9IGZ1bmN0aW9uKCAgYmksc2kseGksYWksIGJqLHNqLHhqLGFqLCBqdXN0VGVzdCwgcHJlY2lzaW9uICl7XG4gICAgdmFyIHNlcEF4aXMgPSB0bXAxLFxuICAgICAgICB3b3JsZFBvaW50ID0gdG1wMixcbiAgICAgICAgd29ybGRQb2ludDAgPSB0bXAzLFxuICAgICAgICB3b3JsZFBvaW50MSA9IHRtcDQsXG4gICAgICAgIHdvcmxkRWRnZSA9IHRtcDUsXG4gICAgICAgIHByb2plY3RlZCA9IHRtcDYsXG4gICAgICAgIHBlbmV0cmF0aW9uVmVjID0gdG1wNyxcbiAgICAgICAgZGlzdCA9IHRtcDgsXG4gICAgICAgIHdvcmxkTm9ybWFsID0gdG1wOSxcbiAgICAgICAgbnVtQ29udGFjdHMgPSAwLFxuICAgICAgICBwcmVjaXNpb24gPSB0eXBlb2YocHJlY2lzaW9uKSA9PT0gJ251bWJlcicgPyBwcmVjaXNpb24gOiAwO1xuXG4gICAgdmFyIGZvdW5kID0gTmFycm93cGhhc2UuZmluZFNlcGFyYXRpbmdBeGlzKHNpLHhpLGFpLHNqLHhqLGFqLHNlcEF4aXMpO1xuICAgIGlmKCFmb3VuZCl7XG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cblxuICAgIC8vIE1ha2Ugc3VyZSB0aGUgc2VwYXJhdGluZyBheGlzIGlzIGRpcmVjdGVkIGZyb20gc2hhcGUgaSB0byBzaGFwZSBqXG4gICAgc3ViKGRpc3QseGoseGkpO1xuICAgIGlmKGRvdChzZXBBeGlzLGRpc3QpID4gMCl7XG4gICAgICAgIHZlYzIuc2NhbGUoc2VwQXhpcyxzZXBBeGlzLC0xKTtcbiAgICB9XG5cbiAgICAvLyBGaW5kIGVkZ2VzIHdpdGggbm9ybWFscyBjbG9zZXN0IHRvIHRoZSBzZXBhcmF0aW5nIGF4aXNcbiAgICB2YXIgY2xvc2VzdEVkZ2UxID0gTmFycm93cGhhc2UuZ2V0Q2xvc2VzdEVkZ2Uoc2ksYWksc2VwQXhpcyx0cnVlKSwgLy8gRmxpcHBlZCBheGlzXG4gICAgICAgIGNsb3Nlc3RFZGdlMiA9IE5hcnJvd3BoYXNlLmdldENsb3Nlc3RFZGdlKHNqLGFqLHNlcEF4aXMpO1xuXG4gICAgaWYoY2xvc2VzdEVkZ2UxID09PSAtMSB8fCBjbG9zZXN0RWRnZTIgPT09IC0xKXtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuXG4gICAgLy8gTG9vcCBvdmVyIHRoZSBzaGFwZXNcbiAgICBmb3IodmFyIGs9MDsgazwyOyBrKyspe1xuXG4gICAgICAgIHZhciBjbG9zZXN0RWRnZUEgPSBjbG9zZXN0RWRnZTEsXG4gICAgICAgICAgICBjbG9zZXN0RWRnZUIgPSBjbG9zZXN0RWRnZTIsXG4gICAgICAgICAgICBzaGFwZUEgPSAgc2ksIHNoYXBlQiA9ICBzaixcbiAgICAgICAgICAgIG9mZnNldEEgPSB4aSwgb2Zmc2V0QiA9IHhqLFxuICAgICAgICAgICAgYW5nbGVBID0gYWksIGFuZ2xlQiA9IGFqLFxuICAgICAgICAgICAgYm9keUEgPSBiaSwgYm9keUIgPSBiajtcblxuICAgICAgICBpZihrID09PSAwKXtcbiAgICAgICAgICAgIC8vIFN3YXAhXG4gICAgICAgICAgICB2YXIgdG1wO1xuICAgICAgICAgICAgdG1wID0gY2xvc2VzdEVkZ2VBO1xuICAgICAgICAgICAgY2xvc2VzdEVkZ2VBID0gY2xvc2VzdEVkZ2VCO1xuICAgICAgICAgICAgY2xvc2VzdEVkZ2VCID0gdG1wO1xuXG4gICAgICAgICAgICB0bXAgPSBzaGFwZUE7XG4gICAgICAgICAgICBzaGFwZUEgPSBzaGFwZUI7XG4gICAgICAgICAgICBzaGFwZUIgPSB0bXA7XG5cbiAgICAgICAgICAgIHRtcCA9IG9mZnNldEE7XG4gICAgICAgICAgICBvZmZzZXRBID0gb2Zmc2V0QjtcbiAgICAgICAgICAgIG9mZnNldEIgPSB0bXA7XG5cbiAgICAgICAgICAgIHRtcCA9IGFuZ2xlQTtcbiAgICAgICAgICAgIGFuZ2xlQSA9IGFuZ2xlQjtcbiAgICAgICAgICAgIGFuZ2xlQiA9IHRtcDtcblxuICAgICAgICAgICAgdG1wID0gYm9keUE7XG4gICAgICAgICAgICBib2R5QSA9IGJvZHlCO1xuICAgICAgICAgICAgYm9keUIgPSB0bXA7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBMb29wIG92ZXIgMiBwb2ludHMgaW4gY29udmV4IEJcbiAgICAgICAgZm9yKHZhciBqPWNsb3Nlc3RFZGdlQjsgajxjbG9zZXN0RWRnZUIrMjsgaisrKXtcblxuICAgICAgICAgICAgLy8gR2V0IHdvcmxkIHBvaW50XG4gICAgICAgICAgICB2YXIgdiA9IHNoYXBlQi52ZXJ0aWNlc1soaitzaGFwZUIudmVydGljZXMubGVuZ3RoKSVzaGFwZUIudmVydGljZXMubGVuZ3RoXTtcbiAgICAgICAgICAgIHZlYzIucm90YXRlKHdvcmxkUG9pbnQsIHYsIGFuZ2xlQik7XG4gICAgICAgICAgICBhZGQod29ybGRQb2ludCwgd29ybGRQb2ludCwgb2Zmc2V0Qik7XG5cbiAgICAgICAgICAgIHZhciBpbnNpZGVOdW1FZGdlcyA9IDA7XG5cbiAgICAgICAgICAgIC8vIExvb3Agb3ZlciB0aGUgMyBjbG9zZXN0IGVkZ2VzIGluIGNvbnZleCBBXG4gICAgICAgICAgICBmb3IodmFyIGk9Y2xvc2VzdEVkZ2VBLTE7IGk8Y2xvc2VzdEVkZ2VBKzI7IGkrKyl7XG5cbiAgICAgICAgICAgICAgICB2YXIgdjAgPSBzaGFwZUEudmVydGljZXNbKGkgICtzaGFwZUEudmVydGljZXMubGVuZ3RoKSVzaGFwZUEudmVydGljZXMubGVuZ3RoXSxcbiAgICAgICAgICAgICAgICAgICAgdjEgPSBzaGFwZUEudmVydGljZXNbKGkrMStzaGFwZUEudmVydGljZXMubGVuZ3RoKSVzaGFwZUEudmVydGljZXMubGVuZ3RoXTtcblxuICAgICAgICAgICAgICAgIC8vIENvbnN0cnVjdCB0aGUgZWRnZVxuICAgICAgICAgICAgICAgIHZlYzIucm90YXRlKHdvcmxkUG9pbnQwLCB2MCwgYW5nbGVBKTtcbiAgICAgICAgICAgICAgICB2ZWMyLnJvdGF0ZSh3b3JsZFBvaW50MSwgdjEsIGFuZ2xlQSk7XG4gICAgICAgICAgICAgICAgYWRkKHdvcmxkUG9pbnQwLCB3b3JsZFBvaW50MCwgb2Zmc2V0QSk7XG4gICAgICAgICAgICAgICAgYWRkKHdvcmxkUG9pbnQxLCB3b3JsZFBvaW50MSwgb2Zmc2V0QSk7XG5cbiAgICAgICAgICAgICAgICBzdWIod29ybGRFZGdlLCB3b3JsZFBvaW50MSwgd29ybGRQb2ludDApO1xuXG4gICAgICAgICAgICAgICAgdmVjMi5yb3RhdGU5MGN3KHdvcmxkTm9ybWFsLCB3b3JsZEVkZ2UpOyAvLyBOb3JtYWwgcG9pbnRzIG91dCBvZiBjb252ZXggMVxuICAgICAgICAgICAgICAgIHZlYzIubm9ybWFsaXplKHdvcmxkTm9ybWFsLHdvcmxkTm9ybWFsKTtcblxuICAgICAgICAgICAgICAgIHN1YihkaXN0LCB3b3JsZFBvaW50LCB3b3JsZFBvaW50MCk7XG5cbiAgICAgICAgICAgICAgICB2YXIgZCA9IGRvdCh3b3JsZE5vcm1hbCxkaXN0KTtcblxuICAgICAgICAgICAgICAgIGlmKChpID09PSBjbG9zZXN0RWRnZUEgJiYgZCA8PSBwcmVjaXNpb24pIHx8IChpICE9PSBjbG9zZXN0RWRnZUEgJiYgZCA8PSAwKSl7XG4gICAgICAgICAgICAgICAgICAgIGluc2lkZU51bUVkZ2VzKys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZihpbnNpZGVOdW1FZGdlcyA+PSAzKXtcblxuICAgICAgICAgICAgICAgIGlmKGp1c3RUZXN0KXtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gd29ybGRQb2ludCB3YXMgb24gdGhlIFwiaW5zaWRlXCIgc2lkZSBvZiBlYWNoIG9mIHRoZSAzIGNoZWNrZWQgZWRnZXMuXG4gICAgICAgICAgICAgICAgLy8gUHJvamVjdCBpdCB0byB0aGUgY2VudGVyIGVkZ2UgYW5kIHVzZSB0aGUgcHJvamVjdGlvbiBkaXJlY3Rpb24gYXMgbm9ybWFsXG5cbiAgICAgICAgICAgICAgICAvLyBDcmVhdGUgY29udGFjdFxuICAgICAgICAgICAgICAgIHZhciBjID0gdGhpcy5jcmVhdGVDb250YWN0RXF1YXRpb24oYm9keUEsYm9keUIsc2hhcGVBLHNoYXBlQik7XG4gICAgICAgICAgICAgICAgbnVtQ29udGFjdHMrKztcblxuICAgICAgICAgICAgICAgIC8vIEdldCBjZW50ZXIgZWRnZSBmcm9tIGJvZHkgQVxuICAgICAgICAgICAgICAgIHZhciB2MCA9IHNoYXBlQS52ZXJ0aWNlc1soY2xvc2VzdEVkZ2VBKSAgICUgc2hhcGVBLnZlcnRpY2VzLmxlbmd0aF0sXG4gICAgICAgICAgICAgICAgICAgIHYxID0gc2hhcGVBLnZlcnRpY2VzWyhjbG9zZXN0RWRnZUErMSkgJSBzaGFwZUEudmVydGljZXMubGVuZ3RoXTtcblxuICAgICAgICAgICAgICAgIC8vIENvbnN0cnVjdCB0aGUgZWRnZVxuICAgICAgICAgICAgICAgIHZlYzIucm90YXRlKHdvcmxkUG9pbnQwLCB2MCwgYW5nbGVBKTtcbiAgICAgICAgICAgICAgICB2ZWMyLnJvdGF0ZSh3b3JsZFBvaW50MSwgdjEsIGFuZ2xlQSk7XG4gICAgICAgICAgICAgICAgYWRkKHdvcmxkUG9pbnQwLCB3b3JsZFBvaW50MCwgb2Zmc2V0QSk7XG4gICAgICAgICAgICAgICAgYWRkKHdvcmxkUG9pbnQxLCB3b3JsZFBvaW50MSwgb2Zmc2V0QSk7XG5cbiAgICAgICAgICAgICAgICBzdWIod29ybGRFZGdlLCB3b3JsZFBvaW50MSwgd29ybGRQb2ludDApO1xuXG4gICAgICAgICAgICAgICAgdmVjMi5yb3RhdGU5MGN3KGMubm9ybWFsQSwgd29ybGRFZGdlKTsgLy8gTm9ybWFsIHBvaW50cyBvdXQgb2YgY29udmV4IEFcbiAgICAgICAgICAgICAgICB2ZWMyLm5vcm1hbGl6ZShjLm5vcm1hbEEsYy5ub3JtYWxBKTtcblxuICAgICAgICAgICAgICAgIHN1YihkaXN0LCB3b3JsZFBvaW50LCB3b3JsZFBvaW50MCk7IC8vIEZyb20gZWRnZSBwb2ludCB0byB0aGUgcGVuZXRyYXRpbmcgcG9pbnRcbiAgICAgICAgICAgICAgICB2YXIgZCA9IGRvdChjLm5vcm1hbEEsZGlzdCk7ICAgICAgICAgICAgIC8vIFBlbmV0cmF0aW9uXG4gICAgICAgICAgICAgICAgdmVjMi5zY2FsZShwZW5ldHJhdGlvblZlYywgYy5ub3JtYWxBLCBkKTsgICAgIC8vIFZlY3RvciBwZW5ldHJhdGlvblxuXG4gICAgICAgICAgICAgICAgc3ViKGMuY29udGFjdFBvaW50QSwgd29ybGRQb2ludCwgb2Zmc2V0QSk7XG4gICAgICAgICAgICAgICAgc3ViKGMuY29udGFjdFBvaW50QSwgYy5jb250YWN0UG9pbnRBLCBwZW5ldHJhdGlvblZlYyk7XG4gICAgICAgICAgICAgICAgYWRkKGMuY29udGFjdFBvaW50QSwgYy5jb250YWN0UG9pbnRBLCBvZmZzZXRBKTtcbiAgICAgICAgICAgICAgICBzdWIoYy5jb250YWN0UG9pbnRBLCBjLmNvbnRhY3RQb2ludEEsIGJvZHlBLnBvc2l0aW9uKTtcblxuICAgICAgICAgICAgICAgIHN1YihjLmNvbnRhY3RQb2ludEIsIHdvcmxkUG9pbnQsIG9mZnNldEIpO1xuICAgICAgICAgICAgICAgIGFkZChjLmNvbnRhY3RQb2ludEIsIGMuY29udGFjdFBvaW50Qiwgb2Zmc2V0Qik7XG4gICAgICAgICAgICAgICAgc3ViKGMuY29udGFjdFBvaW50QiwgYy5jb250YWN0UG9pbnRCLCBib2R5Qi5wb3NpdGlvbik7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRhY3RFcXVhdGlvbnMucHVzaChjKTtcblxuICAgICAgICAgICAgICAgIC8vIFRvZG8gcmVkdWNlIHRvIDEgZnJpY3Rpb24gZXF1YXRpb24gaWYgd2UgaGF2ZSAyIGNvbnRhY3QgcG9pbnRzXG4gICAgICAgICAgICAgICAgaWYoIXRoaXMuZW5hYmxlRnJpY3Rpb25SZWR1Y3Rpb24pe1xuICAgICAgICAgICAgICAgICAgICBpZih0aGlzLmVuYWJsZUZyaWN0aW9uKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZnJpY3Rpb25FcXVhdGlvbnMucHVzaCh0aGlzLmNyZWF0ZUZyaWN0aW9uRnJvbUNvbnRhY3QoYykpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYodGhpcy5lbmFibGVGcmljdGlvblJlZHVjdGlvbil7XG4gICAgICAgIGlmKHRoaXMuZW5hYmxlRnJpY3Rpb24gJiYgbnVtQ29udGFjdHMpe1xuICAgICAgICAgICAgdGhpcy5mcmljdGlvbkVxdWF0aW9ucy5wdXNoKHRoaXMuY3JlYXRlRnJpY3Rpb25Gcm9tQXZlcmFnZShudW1Db250YWN0cykpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bUNvbnRhY3RzO1xufTtcblxuLy8gLnByb2plY3RDb252ZXggaXMgY2FsbGVkIGJ5IG90aGVyIGZ1bmN0aW9ucywgbmVlZCBsb2NhbCB0bXAgdmVjdG9yc1xudmFyIHBjb2FfdG1wMSA9IHZlYzIuZnJvbVZhbHVlcygwLDApO1xuXG4vKipcbiAqIFByb2plY3QgYSBDb252ZXggb250byBhIHdvcmxkLW9yaWVudGVkIGF4aXNcbiAqIEBtZXRob2QgcHJvamVjdENvbnZleE9udG9BeGlzXG4gKiBAc3RhdGljXG4gKiBAcGFyYW0gIHtDb252ZXh9IGNvbnZleFNoYXBlXG4gKiBAcGFyYW0gIHtBcnJheX0gY29udmV4T2Zmc2V0XG4gKiBAcGFyYW0gIHtOdW1iZXJ9IGNvbnZleEFuZ2xlXG4gKiBAcGFyYW0gIHtBcnJheX0gd29ybGRBeGlzXG4gKiBAcGFyYW0gIHtBcnJheX0gcmVzdWx0XG4gKi9cbk5hcnJvd3BoYXNlLnByb2plY3RDb252ZXhPbnRvQXhpcyA9IGZ1bmN0aW9uKGNvbnZleFNoYXBlLCBjb252ZXhPZmZzZXQsIGNvbnZleEFuZ2xlLCB3b3JsZEF4aXMsIHJlc3VsdCl7XG4gICAgdmFyIG1heD1udWxsLFxuICAgICAgICBtaW49bnVsbCxcbiAgICAgICAgdixcbiAgICAgICAgdmFsdWUsXG4gICAgICAgIGxvY2FsQXhpcyA9IHBjb2FfdG1wMTtcblxuICAgIC8vIENvbnZlcnQgdGhlIGF4aXMgdG8gbG9jYWwgY29vcmRzIG9mIHRoZSBib2R5XG4gICAgdmVjMi5yb3RhdGUobG9jYWxBeGlzLCB3b3JsZEF4aXMsIC1jb252ZXhBbmdsZSk7XG5cbiAgICAvLyBHZXQgcHJvamVjdGVkIHBvc2l0aW9uIG9mIGFsbCB2ZXJ0aWNlc1xuICAgIGZvcih2YXIgaT0wOyBpPGNvbnZleFNoYXBlLnZlcnRpY2VzLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgdiA9IGNvbnZleFNoYXBlLnZlcnRpY2VzW2ldO1xuICAgICAgICB2YWx1ZSA9IGRvdCh2LGxvY2FsQXhpcyk7XG4gICAgICAgIGlmKG1heCA9PT0gbnVsbCB8fCB2YWx1ZSA+IG1heCl7XG4gICAgICAgICAgICBtYXggPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZihtaW4gPT09IG51bGwgfHwgdmFsdWUgPCBtaW4pe1xuICAgICAgICAgICAgbWluID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZihtaW4gPiBtYXgpe1xuICAgICAgICB2YXIgdCA9IG1pbjtcbiAgICAgICAgbWluID0gbWF4O1xuICAgICAgICBtYXggPSB0O1xuICAgIH1cblxuICAgIC8vIFByb2plY3QgdGhlIHBvc2l0aW9uIG9mIHRoZSBib2R5IG9udG8gdGhlIGF4aXMgLSBuZWVkIHRvIGFkZCB0aGlzIHRvIHRoZSByZXN1bHRcbiAgICB2YXIgb2Zmc2V0ID0gZG90KGNvbnZleE9mZnNldCwgd29ybGRBeGlzKTtcblxuICAgIHZlYzIuc2V0KCByZXN1bHQsIG1pbiArIG9mZnNldCwgbWF4ICsgb2Zmc2V0KTtcbn07XG5cbi8vIC5maW5kU2VwYXJhdGluZ0F4aXMgaXMgY2FsbGVkIGJ5IG90aGVyIGZ1bmN0aW9ucywgbmVlZCBsb2NhbCB0bXAgdmVjdG9yc1xudmFyIGZzYV90bXAxID0gdmVjMi5mcm9tVmFsdWVzKDAsMClcbiwgICBmc2FfdG1wMiA9IHZlYzIuZnJvbVZhbHVlcygwLDApXG4sICAgZnNhX3RtcDMgPSB2ZWMyLmZyb21WYWx1ZXMoMCwwKVxuLCAgIGZzYV90bXA0ID0gdmVjMi5mcm9tVmFsdWVzKDAsMClcbiwgICBmc2FfdG1wNSA9IHZlYzIuZnJvbVZhbHVlcygwLDApXG4sICAgZnNhX3RtcDYgPSB2ZWMyLmZyb21WYWx1ZXMoMCwwKTtcblxuLyoqXG4gKiBGaW5kIGEgc2VwYXJhdGluZyBheGlzIGJldHdlZW4gdGhlIHNoYXBlcywgdGhhdCBtYXhpbWl6ZXMgdGhlIHNlcGFyYXRpbmcgZGlzdGFuY2UgYmV0d2VlbiB0aGVtLlxuICogQG1ldGhvZCBmaW5kU2VwYXJhdGluZ0F4aXNcbiAqIEBzdGF0aWNcbiAqIEBwYXJhbSAge0NvbnZleH0gICAgIGMxXG4gKiBAcGFyYW0gIHtBcnJheX0gICAgICBvZmZzZXQxXG4gKiBAcGFyYW0gIHtOdW1iZXJ9ICAgICBhbmdsZTFcbiAqIEBwYXJhbSAge0NvbnZleH0gICAgIGMyXG4gKiBAcGFyYW0gIHtBcnJheX0gICAgICBvZmZzZXQyXG4gKiBAcGFyYW0gIHtOdW1iZXJ9ICAgICBhbmdsZTJcbiAqIEBwYXJhbSAge0FycmF5fSAgICAgIHNlcEF4aXMgICAgIFRoZSByZXN1bHRpbmcgYXhpc1xuICogQHJldHVybiB7Qm9vbGVhbn0gICAgICAgICAgICAgICAgV2hldGhlciB0aGUgYXhpcyBjb3VsZCBiZSBmb3VuZC5cbiAqL1xuTmFycm93cGhhc2UuZmluZFNlcGFyYXRpbmdBeGlzID0gZnVuY3Rpb24oYzEsb2Zmc2V0MSxhbmdsZTEsYzIsb2Zmc2V0MixhbmdsZTIsc2VwQXhpcyl7XG4gICAgdmFyIG1heERpc3QgPSBudWxsLFxuICAgICAgICBvdmVybGFwID0gZmFsc2UsXG4gICAgICAgIGZvdW5kID0gZmFsc2UsXG4gICAgICAgIGVkZ2UgPSBmc2FfdG1wMSxcbiAgICAgICAgd29ybGRQb2ludDAgPSBmc2FfdG1wMixcbiAgICAgICAgd29ybGRQb2ludDEgPSBmc2FfdG1wMyxcbiAgICAgICAgbm9ybWFsID0gZnNhX3RtcDQsXG4gICAgICAgIHNwYW4xID0gZnNhX3RtcDUsXG4gICAgICAgIHNwYW4yID0gZnNhX3RtcDY7XG5cbiAgICBpZihjMSBpbnN0YW5jZW9mIEJveCAmJiBjMiBpbnN0YW5jZW9mIEJveCl7XG5cbiAgICAgICAgZm9yKHZhciBqPTA7IGohPT0yOyBqKyspe1xuICAgICAgICAgICAgdmFyIGMgPSBjMSxcbiAgICAgICAgICAgICAgICBhbmdsZSA9IGFuZ2xlMTtcbiAgICAgICAgICAgIGlmKGo9PT0xKXtcbiAgICAgICAgICAgICAgICBjID0gYzI7XG4gICAgICAgICAgICAgICAgYW5nbGUgPSBhbmdsZTI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvcih2YXIgaT0wOyBpIT09MjsgaSsrKXtcblxuICAgICAgICAgICAgICAgIC8vIEdldCB0aGUgd29ybGQgZWRnZVxuICAgICAgICAgICAgICAgIGlmKGkgPT09IDApe1xuICAgICAgICAgICAgICAgICAgICB2ZWMyLnNldChub3JtYWwsIDAsIDEpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZihpID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHZlYzIuc2V0KG5vcm1hbCwgMSwgMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmKGFuZ2xlICE9PSAwKXtcbiAgICAgICAgICAgICAgICAgICAgdmVjMi5yb3RhdGUobm9ybWFsLCBub3JtYWwsIGFuZ2xlKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBQcm9qZWN0IGh1bGxzIG9udG8gdGhhdCBub3JtYWxcbiAgICAgICAgICAgICAgICBOYXJyb3dwaGFzZS5wcm9qZWN0Q29udmV4T250b0F4aXMoYzEsb2Zmc2V0MSxhbmdsZTEsbm9ybWFsLHNwYW4xKTtcbiAgICAgICAgICAgICAgICBOYXJyb3dwaGFzZS5wcm9qZWN0Q29udmV4T250b0F4aXMoYzIsb2Zmc2V0MixhbmdsZTIsbm9ybWFsLHNwYW4yKTtcblxuICAgICAgICAgICAgICAgIC8vIE9yZGVyIGJ5IHNwYW4gcG9zaXRpb25cbiAgICAgICAgICAgICAgICB2YXIgYT1zcGFuMSxcbiAgICAgICAgICAgICAgICAgICAgYj1zcGFuMixcbiAgICAgICAgICAgICAgICAgICAgc3dhcHBlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGlmKHNwYW4xWzBdID4gc3BhbjJbMF0pe1xuICAgICAgICAgICAgICAgICAgICBiPXNwYW4xO1xuICAgICAgICAgICAgICAgICAgICBhPXNwYW4yO1xuICAgICAgICAgICAgICAgICAgICBzd2FwcGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBHZXQgc2VwYXJhdGluZyBkaXN0YW5jZVxuICAgICAgICAgICAgICAgIHZhciBkaXN0ID0gYlswXSAtIGFbMV07XG4gICAgICAgICAgICAgICAgb3ZlcmxhcCA9IChkaXN0IDw9IDApO1xuXG4gICAgICAgICAgICAgICAgaWYobWF4RGlzdD09PW51bGwgfHwgZGlzdCA+IG1heERpc3Qpe1xuICAgICAgICAgICAgICAgICAgICB2ZWMyLmNvcHkoc2VwQXhpcywgbm9ybWFsKTtcbiAgICAgICAgICAgICAgICAgICAgbWF4RGlzdCA9IGRpc3Q7XG4gICAgICAgICAgICAgICAgICAgIGZvdW5kID0gb3ZlcmxhcDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgIH0gZWxzZSB7XG5cbiAgICAgICAgZm9yKHZhciBqPTA7IGohPT0yOyBqKyspe1xuICAgICAgICAgICAgdmFyIGMgPSBjMSxcbiAgICAgICAgICAgICAgICBhbmdsZSA9IGFuZ2xlMTtcbiAgICAgICAgICAgIGlmKGo9PT0xKXtcbiAgICAgICAgICAgICAgICBjID0gYzI7XG4gICAgICAgICAgICAgICAgYW5nbGUgPSBhbmdsZTI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvcih2YXIgaT0wOyBpIT09Yy52ZXJ0aWNlcy5sZW5ndGg7IGkrKyl7XG4gICAgICAgICAgICAgICAgLy8gR2V0IHRoZSB3b3JsZCBlZGdlXG4gICAgICAgICAgICAgICAgdmVjMi5yb3RhdGUod29ybGRQb2ludDAsIGMudmVydGljZXNbaV0sIGFuZ2xlKTtcbiAgICAgICAgICAgICAgICB2ZWMyLnJvdGF0ZSh3b3JsZFBvaW50MSwgYy52ZXJ0aWNlc1soaSsxKSVjLnZlcnRpY2VzLmxlbmd0aF0sIGFuZ2xlKTtcblxuICAgICAgICAgICAgICAgIHN1YihlZGdlLCB3b3JsZFBvaW50MSwgd29ybGRQb2ludDApO1xuXG4gICAgICAgICAgICAgICAgLy8gR2V0IG5vcm1hbCAtIGp1c3Qgcm90YXRlIDkwIGRlZ3JlZXMgc2luY2UgdmVydGljZXMgYXJlIGdpdmVuIGluIENDV1xuICAgICAgICAgICAgICAgIHZlYzIucm90YXRlOTBjdyhub3JtYWwsIGVkZ2UpO1xuICAgICAgICAgICAgICAgIHZlYzIubm9ybWFsaXplKG5vcm1hbCxub3JtYWwpO1xuXG4gICAgICAgICAgICAgICAgLy8gUHJvamVjdCBodWxscyBvbnRvIHRoYXQgbm9ybWFsXG4gICAgICAgICAgICAgICAgTmFycm93cGhhc2UucHJvamVjdENvbnZleE9udG9BeGlzKGMxLG9mZnNldDEsYW5nbGUxLG5vcm1hbCxzcGFuMSk7XG4gICAgICAgICAgICAgICAgTmFycm93cGhhc2UucHJvamVjdENvbnZleE9udG9BeGlzKGMyLG9mZnNldDIsYW5nbGUyLG5vcm1hbCxzcGFuMik7XG5cbiAgICAgICAgICAgICAgICAvLyBPcmRlciBieSBzcGFuIHBvc2l0aW9uXG4gICAgICAgICAgICAgICAgdmFyIGE9c3BhbjEsXG4gICAgICAgICAgICAgICAgICAgIGI9c3BhbjIsXG4gICAgICAgICAgICAgICAgICAgIHN3YXBwZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBpZihzcGFuMVswXSA+IHNwYW4yWzBdKXtcbiAgICAgICAgICAgICAgICAgICAgYj1zcGFuMTtcbiAgICAgICAgICAgICAgICAgICAgYT1zcGFuMjtcbiAgICAgICAgICAgICAgICAgICAgc3dhcHBlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gR2V0IHNlcGFyYXRpbmcgZGlzdGFuY2VcbiAgICAgICAgICAgICAgICB2YXIgZGlzdCA9IGJbMF0gLSBhWzFdO1xuICAgICAgICAgICAgICAgIG92ZXJsYXAgPSAoZGlzdCA8PSAwKTtcblxuICAgICAgICAgICAgICAgIGlmKG1heERpc3Q9PT1udWxsIHx8IGRpc3QgPiBtYXhEaXN0KXtcbiAgICAgICAgICAgICAgICAgICAgdmVjMi5jb3B5KHNlcEF4aXMsIG5vcm1hbCk7XG4gICAgICAgICAgICAgICAgICAgIG1heERpc3QgPSBkaXN0O1xuICAgICAgICAgICAgICAgICAgICBmb3VuZCA9IG92ZXJsYXA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICAvKlxuICAgIC8vIE5lZWRzIHRvIGJlIHRlc3RlZCBzb21lIG1vcmVcbiAgICBmb3IodmFyIGo9MDsgaiE9PTI7IGorKyl7XG4gICAgICAgIHZhciBjID0gYzEsXG4gICAgICAgICAgICBhbmdsZSA9IGFuZ2xlMTtcbiAgICAgICAgaWYoaj09PTEpe1xuICAgICAgICAgICAgYyA9IGMyO1xuICAgICAgICAgICAgYW5nbGUgPSBhbmdsZTI7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IodmFyIGk9MDsgaSE9PWMuYXhlcy5sZW5ndGg7IGkrKyl7XG5cbiAgICAgICAgICAgIHZhciBub3JtYWwgPSBjLmF4ZXNbaV07XG5cbiAgICAgICAgICAgIC8vIFByb2plY3QgaHVsbHMgb250byB0aGF0IG5vcm1hbFxuICAgICAgICAgICAgTmFycm93cGhhc2UucHJvamVjdENvbnZleE9udG9BeGlzKGMxLCBvZmZzZXQxLCBhbmdsZTEsIG5vcm1hbCwgc3BhbjEpO1xuICAgICAgICAgICAgTmFycm93cGhhc2UucHJvamVjdENvbnZleE9udG9BeGlzKGMyLCBvZmZzZXQyLCBhbmdsZTIsIG5vcm1hbCwgc3BhbjIpO1xuXG4gICAgICAgICAgICAvLyBPcmRlciBieSBzcGFuIHBvc2l0aW9uXG4gICAgICAgICAgICB2YXIgYT1zcGFuMSxcbiAgICAgICAgICAgICAgICBiPXNwYW4yLFxuICAgICAgICAgICAgICAgIHN3YXBwZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmKHNwYW4xWzBdID4gc3BhbjJbMF0pe1xuICAgICAgICAgICAgICAgIGI9c3BhbjE7XG4gICAgICAgICAgICAgICAgYT1zcGFuMjtcbiAgICAgICAgICAgICAgICBzd2FwcGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gR2V0IHNlcGFyYXRpbmcgZGlzdGFuY2VcbiAgICAgICAgICAgIHZhciBkaXN0ID0gYlswXSAtIGFbMV07XG4gICAgICAgICAgICBvdmVybGFwID0gKGRpc3QgPD0gTmFycm93cGhhc2UuY29udmV4UHJlY2lzaW9uKTtcblxuICAgICAgICAgICAgaWYobWF4RGlzdD09PW51bGwgfHwgZGlzdCA+IG1heERpc3Qpe1xuICAgICAgICAgICAgICAgIHZlYzIuY29weShzZXBBeGlzLCBub3JtYWwpO1xuICAgICAgICAgICAgICAgIG1heERpc3QgPSBkaXN0O1xuICAgICAgICAgICAgICAgIGZvdW5kID0gb3ZlcmxhcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAqL1xuXG4gICAgcmV0dXJuIGZvdW5kO1xufTtcblxuLy8gLmdldENsb3Nlc3RFZGdlIGlzIGNhbGxlZCBieSBvdGhlciBmdW5jdGlvbnMsIG5lZWQgbG9jYWwgdG1wIHZlY3RvcnNcbnZhciBnY2VfdG1wMSA9IHZlYzIuZnJvbVZhbHVlcygwLDApXG4sICAgZ2NlX3RtcDIgPSB2ZWMyLmZyb21WYWx1ZXMoMCwwKVxuLCAgIGdjZV90bXAzID0gdmVjMi5mcm9tVmFsdWVzKDAsMCk7XG5cbi8qKlxuICogR2V0IHRoZSBlZGdlIHRoYXQgaGFzIGEgbm9ybWFsIGNsb3Nlc3QgdG8gYW4gYXhpcy5cbiAqIEBtZXRob2QgZ2V0Q2xvc2VzdEVkZ2VcbiAqIEBzdGF0aWNcbiAqIEBwYXJhbSAge0NvbnZleH0gICAgIGNcbiAqIEBwYXJhbSAge051bWJlcn0gICAgIGFuZ2xlXG4gKiBAcGFyYW0gIHtBcnJheX0gICAgICBheGlzXG4gKiBAcGFyYW0gIHtCb29sZWFufSAgICBmbGlwXG4gKiBAcmV0dXJuIHtOdW1iZXJ9ICAgICAgICAgICAgIEluZGV4IG9mIHRoZSBlZGdlIHRoYXQgaXMgY2xvc2VzdC4gVGhpcyBpbmRleCBhbmQgdGhlIG5leHQgc3BhbnMgdGhlIHJlc3VsdGluZyBlZGdlLiBSZXR1cm5zIC0xIGlmIGZhaWxlZC5cbiAqL1xuTmFycm93cGhhc2UuZ2V0Q2xvc2VzdEVkZ2UgPSBmdW5jdGlvbihjLGFuZ2xlLGF4aXMsZmxpcCl7XG4gICAgdmFyIGxvY2FsQXhpcyA9IGdjZV90bXAxLFxuICAgICAgICBlZGdlID0gZ2NlX3RtcDIsXG4gICAgICAgIG5vcm1hbCA9IGdjZV90bXAzO1xuXG4gICAgLy8gQ29udmVydCB0aGUgYXhpcyB0byBsb2NhbCBjb29yZHMgb2YgdGhlIGJvZHlcbiAgICB2ZWMyLnJvdGF0ZShsb2NhbEF4aXMsIGF4aXMsIC1hbmdsZSk7XG4gICAgaWYoZmxpcCl7XG4gICAgICAgIHZlYzIuc2NhbGUobG9jYWxBeGlzLGxvY2FsQXhpcywtMSk7XG4gICAgfVxuXG4gICAgdmFyIGNsb3Nlc3RFZGdlID0gLTEsXG4gICAgICAgIE4gPSBjLnZlcnRpY2VzLmxlbmd0aCxcbiAgICAgICAgbWF4RG90ID0gLTE7XG4gICAgZm9yKHZhciBpPTA7IGkhPT1OOyBpKyspe1xuICAgICAgICAvLyBHZXQgdGhlIGVkZ2VcbiAgICAgICAgc3ViKGVkZ2UsIGMudmVydGljZXNbKGkrMSklTl0sIGMudmVydGljZXNbaSVOXSk7XG5cbiAgICAgICAgLy8gR2V0IG5vcm1hbCAtIGp1c3Qgcm90YXRlIDkwIGRlZ3JlZXMgc2luY2UgdmVydGljZXMgYXJlIGdpdmVuIGluIENDV1xuICAgICAgICB2ZWMyLnJvdGF0ZTkwY3cobm9ybWFsLCBlZGdlKTtcbiAgICAgICAgdmVjMi5ub3JtYWxpemUobm9ybWFsLG5vcm1hbCk7XG5cbiAgICAgICAgdmFyIGQgPSBkb3Qobm9ybWFsLGxvY2FsQXhpcyk7XG4gICAgICAgIGlmKGNsb3Nlc3RFZGdlID09PSAtMSB8fCBkID4gbWF4RG90KXtcbiAgICAgICAgICAgIGNsb3Nlc3RFZGdlID0gaSAlIE47XG4gICAgICAgICAgICBtYXhEb3QgPSBkO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGNsb3Nlc3RFZGdlO1xufTtcblxudmFyIGNpcmNsZUhlaWdodGZpZWxkX2NhbmRpZGF0ZSA9IHZlYzIuY3JlYXRlKCksXG4gICAgY2lyY2xlSGVpZ2h0ZmllbGRfZGlzdCA9IHZlYzIuY3JlYXRlKCksXG4gICAgY2lyY2xlSGVpZ2h0ZmllbGRfdjAgPSB2ZWMyLmNyZWF0ZSgpLFxuICAgIGNpcmNsZUhlaWdodGZpZWxkX3YxID0gdmVjMi5jcmVhdGUoKSxcbiAgICBjaXJjbGVIZWlnaHRmaWVsZF9taW5DYW5kaWRhdGUgPSB2ZWMyLmNyZWF0ZSgpLFxuICAgIGNpcmNsZUhlaWdodGZpZWxkX3dvcmxkTm9ybWFsID0gdmVjMi5jcmVhdGUoKSxcbiAgICBjaXJjbGVIZWlnaHRmaWVsZF9taW5DYW5kaWRhdGVOb3JtYWwgPSB2ZWMyLmNyZWF0ZSgpO1xuXG4vKipcbiAqIEBtZXRob2QgY2lyY2xlSGVpZ2h0ZmllbGRcbiAqIEBwYXJhbSAge0JvZHl9ICAgICAgICAgICBiaVxuICogQHBhcmFtICB7Q2lyY2xlfSAgICAgICAgIHNpXG4gKiBAcGFyYW0gIHtBcnJheX0gICAgICAgICAgeGlcbiAqIEBwYXJhbSAge0JvZHl9ICAgICAgICAgICBialxuICogQHBhcmFtICB7SGVpZ2h0ZmllbGR9ICAgIHNqXG4gKiBAcGFyYW0gIHtBcnJheX0gICAgICAgICAgeGpcbiAqIEBwYXJhbSAge051bWJlcn0gICAgICAgICBhalxuICovXG5OYXJyb3dwaGFzZS5wcm90b3R5cGVbU2hhcGUuQ0lSQ0xFIHwgU2hhcGUuSEVJR0hURklFTERdID1cbk5hcnJvd3BoYXNlLnByb3RvdHlwZS5jaXJjbGVIZWlnaHRmaWVsZCA9IGZ1bmN0aW9uKCBjaXJjbGVCb2R5LGNpcmNsZVNoYXBlLGNpcmNsZVBvcyxjaXJjbGVBbmdsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZkJvZHksaGZTaGFwZSxoZlBvcyxoZkFuZ2xlLCBqdXN0VGVzdCwgcmFkaXVzICl7XG4gICAgdmFyIGRhdGEgPSBoZlNoYXBlLmhlaWdodHMsXG4gICAgICAgIHJhZGl1cyA9IHJhZGl1cyB8fCBjaXJjbGVTaGFwZS5yYWRpdXMsXG4gICAgICAgIHcgPSBoZlNoYXBlLmVsZW1lbnRXaWR0aCxcbiAgICAgICAgZGlzdCA9IGNpcmNsZUhlaWdodGZpZWxkX2Rpc3QsXG4gICAgICAgIGNhbmRpZGF0ZSA9IGNpcmNsZUhlaWdodGZpZWxkX2NhbmRpZGF0ZSxcbiAgICAgICAgbWluQ2FuZGlkYXRlID0gY2lyY2xlSGVpZ2h0ZmllbGRfbWluQ2FuZGlkYXRlLFxuICAgICAgICBtaW5DYW5kaWRhdGVOb3JtYWwgPSBjaXJjbGVIZWlnaHRmaWVsZF9taW5DYW5kaWRhdGVOb3JtYWwsXG4gICAgICAgIHdvcmxkTm9ybWFsID0gY2lyY2xlSGVpZ2h0ZmllbGRfd29ybGROb3JtYWwsXG4gICAgICAgIHYwID0gY2lyY2xlSGVpZ2h0ZmllbGRfdjAsXG4gICAgICAgIHYxID0gY2lyY2xlSGVpZ2h0ZmllbGRfdjE7XG5cbiAgICAvLyBHZXQgdGhlIGluZGV4IG9mIHRoZSBwb2ludHMgdG8gdGVzdCBhZ2FpbnN0XG4gICAgdmFyIGlkeEEgPSBNYXRoLmZsb29yKCAoY2lyY2xlUG9zWzBdIC0gcmFkaXVzIC0gaGZQb3NbMF0pIC8gdyApLFxuICAgICAgICBpZHhCID0gTWF0aC5jZWlsKCAgKGNpcmNsZVBvc1swXSArIHJhZGl1cyAtIGhmUG9zWzBdKSAvIHcgKTtcblxuICAgIC8qaWYoaWR4QiA8IDAgfHwgaWR4QSA+PSBkYXRhLmxlbmd0aClcbiAgICAgICAgcmV0dXJuIGp1c3RUZXN0ID8gZmFsc2UgOiAwOyovXG5cbiAgICBpZihpZHhBIDwgMCl7XG4gICAgICAgIGlkeEEgPSAwO1xuICAgIH1cbiAgICBpZihpZHhCID49IGRhdGEubGVuZ3RoKXtcbiAgICAgICAgaWR4QiA9IGRhdGEubGVuZ3RoLTE7XG4gICAgfVxuXG4gICAgLy8gR2V0IG1heCBhbmQgbWluXG4gICAgdmFyIG1heCA9IGRhdGFbaWR4QV0sXG4gICAgICAgIG1pbiA9IGRhdGFbaWR4Ql07XG4gICAgZm9yKHZhciBpPWlkeEE7IGk8aWR4QjsgaSsrKXtcbiAgICAgICAgaWYoZGF0YVtpXSA8IG1pbil7XG4gICAgICAgICAgICBtaW4gPSBkYXRhW2ldO1xuICAgICAgICB9XG4gICAgICAgIGlmKGRhdGFbaV0gPiBtYXgpe1xuICAgICAgICAgICAgbWF4ID0gZGF0YVtpXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmKGNpcmNsZVBvc1sxXS1yYWRpdXMgPiBtYXgpe1xuICAgICAgICByZXR1cm4ganVzdFRlc3QgPyBmYWxzZSA6IDA7XG4gICAgfVxuXG4gICAgLypcbiAgICBpZihjaXJjbGVQb3NbMV0rcmFkaXVzIDwgbWluKXtcbiAgICAgICAgLy8gQmVsb3cgdGhlIG1pbmltdW0gcG9pbnQuLi4gV2UgY2FuIGp1c3QgZ3Vlc3MuXG4gICAgICAgIC8vIFRPRE9cbiAgICB9XG4gICAgKi9cblxuICAgIC8vIDEuIENoZWNrIHNvIGNlbnRlciBvZiBjaXJjbGUgaXMgbm90IGluc2lkZSB0aGUgZmllbGQuIElmIGl0IGlzLCB0aGlzIHdvbnQgd29yay4uLlxuICAgIC8vIDIuIEZvciBlYWNoIGVkZ2VcbiAgICAvLyAyLiAxLiBHZXQgcG9pbnQgb24gY2lyY2xlIHRoYXQgaXMgY2xvc2VzdCB0byB0aGUgZWRnZSAoc2NhbGUgbm9ybWFsIHdpdGggLXJhZGl1cylcbiAgICAvLyAyLiAyLiBDaGVjayBpZiBwb2ludCBpcyBpbnNpZGUuXG5cbiAgICB2YXIgZm91bmQgPSBmYWxzZTtcblxuICAgIC8vIENoZWNrIGFsbCBlZGdlcyBmaXJzdFxuICAgIGZvcih2YXIgaT1pZHhBOyBpPGlkeEI7IGkrKyl7XG5cbiAgICAgICAgLy8gR2V0IHBvaW50c1xuICAgICAgICB2ZWMyLnNldCh2MCwgICAgIGkqdywgZGF0YVtpXSAgKTtcbiAgICAgICAgdmVjMi5zZXQodjEsIChpKzEpKncsIGRhdGFbaSsxXSk7XG4gICAgICAgIHZlYzIuYWRkKHYwLHYwLGhmUG9zKTtcbiAgICAgICAgdmVjMi5hZGQodjEsdjEsaGZQb3MpO1xuXG4gICAgICAgIC8vIEdldCBub3JtYWxcbiAgICAgICAgdmVjMi5zdWIod29ybGROb3JtYWwsIHYxLCB2MCk7XG4gICAgICAgIHZlYzIucm90YXRlKHdvcmxkTm9ybWFsLCB3b3JsZE5vcm1hbCwgTWF0aC5QSS8yKTtcbiAgICAgICAgdmVjMi5ub3JtYWxpemUod29ybGROb3JtYWwsd29ybGROb3JtYWwpO1xuXG4gICAgICAgIC8vIEdldCBwb2ludCBvbiBjaXJjbGUsIGNsb3Nlc3QgdG8gdGhlIGVkZ2VcbiAgICAgICAgdmVjMi5zY2FsZShjYW5kaWRhdGUsd29ybGROb3JtYWwsLXJhZGl1cyk7XG4gICAgICAgIHZlYzIuYWRkKGNhbmRpZGF0ZSxjYW5kaWRhdGUsY2lyY2xlUG9zKTtcblxuICAgICAgICAvLyBEaXN0YW5jZSBmcm9tIHYwIHRvIHRoZSBjYW5kaWRhdGUgcG9pbnRcbiAgICAgICAgdmVjMi5zdWIoZGlzdCxjYW5kaWRhdGUsdjApO1xuXG4gICAgICAgIC8vIENoZWNrIGlmIGl0IGlzIGluIHRoZSBlbGVtZW50IFwic3RpY2tcIlxuICAgICAgICB2YXIgZCA9IHZlYzIuZG90KGRpc3Qsd29ybGROb3JtYWwpO1xuICAgICAgICBpZihjYW5kaWRhdGVbMF0gPj0gdjBbMF0gJiYgY2FuZGlkYXRlWzBdIDwgdjFbMF0gJiYgZCA8PSAwKXtcblxuICAgICAgICAgICAgaWYoanVzdFRlc3Qpe1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3VuZCA9IHRydWU7XG5cbiAgICAgICAgICAgIC8vIFN0b3JlIHRoZSBjYW5kaWRhdGUgcG9pbnQsIHByb2plY3RlZCB0byB0aGUgZWRnZVxuICAgICAgICAgICAgdmVjMi5zY2FsZShkaXN0LHdvcmxkTm9ybWFsLC1kKTtcbiAgICAgICAgICAgIHZlYzIuYWRkKG1pbkNhbmRpZGF0ZSxjYW5kaWRhdGUsZGlzdCk7XG4gICAgICAgICAgICB2ZWMyLmNvcHkobWluQ2FuZGlkYXRlTm9ybWFsLHdvcmxkTm9ybWFsKTtcblxuICAgICAgICAgICAgdmFyIGMgPSB0aGlzLmNyZWF0ZUNvbnRhY3RFcXVhdGlvbihoZkJvZHksY2lyY2xlQm9keSxoZlNoYXBlLGNpcmNsZVNoYXBlKTtcblxuICAgICAgICAgICAgLy8gTm9ybWFsIGlzIG91dCBvZiB0aGUgaGVpZ2h0ZmllbGRcbiAgICAgICAgICAgIHZlYzIuY29weShjLm5vcm1hbEEsIG1pbkNhbmRpZGF0ZU5vcm1hbCk7XG5cbiAgICAgICAgICAgIC8vIFZlY3RvciBmcm9tIGNpcmNsZSB0byBoZWlnaHRmaWVsZFxuICAgICAgICAgICAgdmVjMi5zY2FsZShjLmNvbnRhY3RQb2ludEIsICBjLm5vcm1hbEEsIC1yYWRpdXMpO1xuICAgICAgICAgICAgYWRkKGMuY29udGFjdFBvaW50QiwgYy5jb250YWN0UG9pbnRCLCBjaXJjbGVQb3MpO1xuICAgICAgICAgICAgc3ViKGMuY29udGFjdFBvaW50QiwgYy5jb250YWN0UG9pbnRCLCBjaXJjbGVCb2R5LnBvc2l0aW9uKTtcblxuICAgICAgICAgICAgdmVjMi5jb3B5KGMuY29udGFjdFBvaW50QSwgbWluQ2FuZGlkYXRlKTtcbiAgICAgICAgICAgIHZlYzIuc3ViKGMuY29udGFjdFBvaW50QSwgYy5jb250YWN0UG9pbnRBLCBoZkJvZHkucG9zaXRpb24pO1xuXG4gICAgICAgICAgICB0aGlzLmNvbnRhY3RFcXVhdGlvbnMucHVzaChjKTtcblxuICAgICAgICAgICAgaWYodGhpcy5lbmFibGVGcmljdGlvbil7XG4gICAgICAgICAgICAgICAgdGhpcy5mcmljdGlvbkVxdWF0aW9ucy5wdXNoKCB0aGlzLmNyZWF0ZUZyaWN0aW9uRnJvbUNvbnRhY3QoYykgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIENoZWNrIGFsbCB2ZXJ0aWNlc1xuICAgIGZvdW5kID0gZmFsc2U7XG4gICAgaWYocmFkaXVzID4gMCl7XG4gICAgICAgIGZvcih2YXIgaT1pZHhBOyBpPD1pZHhCOyBpKyspe1xuXG4gICAgICAgICAgICAvLyBHZXQgcG9pbnRcbiAgICAgICAgICAgIHZlYzIuc2V0KHYwLCBpKncsIGRhdGFbaV0pO1xuICAgICAgICAgICAgdmVjMi5hZGQodjAsdjAsaGZQb3MpO1xuXG4gICAgICAgICAgICB2ZWMyLnN1YihkaXN0LCBjaXJjbGVQb3MsIHYwKTtcblxuICAgICAgICAgICAgaWYodmVjMi5zcXVhcmVkTGVuZ3RoKGRpc3QpIDwgTWF0aC5wb3cocmFkaXVzLCAyKSl7XG5cbiAgICAgICAgICAgICAgICBpZihqdXN0VGVzdCl7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgIHZhciBjID0gdGhpcy5jcmVhdGVDb250YWN0RXF1YXRpb24oaGZCb2R5LGNpcmNsZUJvZHksaGZTaGFwZSxjaXJjbGVTaGFwZSk7XG5cbiAgICAgICAgICAgICAgICAvLyBDb25zdHJ1Y3Qgbm9ybWFsIC0gb3V0IG9mIGhlaWdodGZpZWxkXG4gICAgICAgICAgICAgICAgdmVjMi5jb3B5KGMubm9ybWFsQSwgZGlzdCk7XG4gICAgICAgICAgICAgICAgdmVjMi5ub3JtYWxpemUoYy5ub3JtYWxBLGMubm9ybWFsQSk7XG5cbiAgICAgICAgICAgICAgICB2ZWMyLnNjYWxlKGMuY29udGFjdFBvaW50QiwgYy5ub3JtYWxBLCAtcmFkaXVzKTtcbiAgICAgICAgICAgICAgICBhZGQoYy5jb250YWN0UG9pbnRCLCBjLmNvbnRhY3RQb2ludEIsIGNpcmNsZVBvcyk7XG4gICAgICAgICAgICAgICAgc3ViKGMuY29udGFjdFBvaW50QiwgYy5jb250YWN0UG9pbnRCLCBjaXJjbGVCb2R5LnBvc2l0aW9uKTtcblxuICAgICAgICAgICAgICAgIHN1YihjLmNvbnRhY3RQb2ludEEsIHYwLCBoZlBvcyk7XG4gICAgICAgICAgICAgICAgYWRkKGMuY29udGFjdFBvaW50QSwgYy5jb250YWN0UG9pbnRBLCBoZlBvcyk7XG4gICAgICAgICAgICAgICAgc3ViKGMuY29udGFjdFBvaW50QSwgYy5jb250YWN0UG9pbnRBLCBoZkJvZHkucG9zaXRpb24pO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5jb250YWN0RXF1YXRpb25zLnB1c2goYyk7XG5cbiAgICAgICAgICAgICAgICBpZih0aGlzLmVuYWJsZUZyaWN0aW9uKXtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mcmljdGlvbkVxdWF0aW9ucy5wdXNoKHRoaXMuY3JlYXRlRnJpY3Rpb25Gcm9tQ29udGFjdChjKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYoZm91bmQpe1xuICAgICAgICByZXR1cm4gMTtcbiAgICB9XG5cbiAgICByZXR1cm4gMDtcblxufTtcblxudmFyIGNvbnZleEhlaWdodGZpZWxkX3YwID0gdmVjMi5jcmVhdGUoKSxcbiAgICBjb252ZXhIZWlnaHRmaWVsZF92MSA9IHZlYzIuY3JlYXRlKCksXG4gICAgY29udmV4SGVpZ2h0ZmllbGRfdGlsZVBvcyA9IHZlYzIuY3JlYXRlKCksXG4gICAgY29udmV4SGVpZ2h0ZmllbGRfdGVtcENvbnZleFNoYXBlID0gbmV3IENvbnZleCh7IHZlcnRpY2VzOiBbdmVjMi5jcmVhdGUoKSx2ZWMyLmNyZWF0ZSgpLHZlYzIuY3JlYXRlKCksdmVjMi5jcmVhdGUoKV0gfSk7XG4vKipcbiAqIEBtZXRob2QgY2lyY2xlSGVpZ2h0ZmllbGRcbiAqIEBwYXJhbSAge0JvZHl9ICAgICAgICAgICBiaVxuICogQHBhcmFtICB7Q2lyY2xlfSAgICAgICAgIHNpXG4gKiBAcGFyYW0gIHtBcnJheX0gICAgICAgICAgeGlcbiAqIEBwYXJhbSAge0JvZHl9ICAgICAgICAgICBialxuICogQHBhcmFtICB7SGVpZ2h0ZmllbGR9ICAgIHNqXG4gKiBAcGFyYW0gIHtBcnJheX0gICAgICAgICAgeGpcbiAqIEBwYXJhbSAge051bWJlcn0gICAgICAgICBhalxuICovXG5OYXJyb3dwaGFzZS5wcm90b3R5cGVbU2hhcGUuQk9YIHwgU2hhcGUuSEVJR0hURklFTERdID1cbk5hcnJvd3BoYXNlLnByb3RvdHlwZVtTaGFwZS5DT05WRVggfCBTaGFwZS5IRUlHSFRGSUVMRF0gPVxuTmFycm93cGhhc2UucHJvdG90eXBlLmNvbnZleEhlaWdodGZpZWxkID0gZnVuY3Rpb24oIGNvbnZleEJvZHksY29udmV4U2hhcGUsY29udmV4UG9zLGNvbnZleEFuZ2xlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhmQm9keSxoZlNoYXBlLGhmUG9zLGhmQW5nbGUsIGp1c3RUZXN0ICl7XG4gICAgdmFyIGRhdGEgPSBoZlNoYXBlLmhlaWdodHMsXG4gICAgICAgIHcgPSBoZlNoYXBlLmVsZW1lbnRXaWR0aCxcbiAgICAgICAgdjAgPSBjb252ZXhIZWlnaHRmaWVsZF92MCxcbiAgICAgICAgdjEgPSBjb252ZXhIZWlnaHRmaWVsZF92MSxcbiAgICAgICAgdGlsZVBvcyA9IGNvbnZleEhlaWdodGZpZWxkX3RpbGVQb3MsXG4gICAgICAgIHRpbGVDb252ZXggPSBjb252ZXhIZWlnaHRmaWVsZF90ZW1wQ29udmV4U2hhcGU7XG5cbiAgICAvLyBHZXQgdGhlIGluZGV4IG9mIHRoZSBwb2ludHMgdG8gdGVzdCBhZ2FpbnN0XG4gICAgdmFyIGlkeEEgPSBNYXRoLmZsb29yKCAoY29udmV4Qm9keS5hYWJiLmxvd2VyQm91bmRbMF0gLSBoZlBvc1swXSkgLyB3ICksXG4gICAgICAgIGlkeEIgPSBNYXRoLmNlaWwoICAoY29udmV4Qm9keS5hYWJiLnVwcGVyQm91bmRbMF0gLSBoZlBvc1swXSkgLyB3ICk7XG5cbiAgICBpZihpZHhBIDwgMCl7XG4gICAgICAgIGlkeEEgPSAwO1xuICAgIH1cbiAgICBpZihpZHhCID49IGRhdGEubGVuZ3RoKXtcbiAgICAgICAgaWR4QiA9IGRhdGEubGVuZ3RoLTE7XG4gICAgfVxuXG4gICAgLy8gR2V0IG1heCBhbmQgbWluXG4gICAgdmFyIG1heCA9IGRhdGFbaWR4QV0sXG4gICAgICAgIG1pbiA9IGRhdGFbaWR4Ql07XG4gICAgZm9yKHZhciBpPWlkeEE7IGk8aWR4QjsgaSsrKXtcbiAgICAgICAgaWYoZGF0YVtpXSA8IG1pbil7XG4gICAgICAgICAgICBtaW4gPSBkYXRhW2ldO1xuICAgICAgICB9XG4gICAgICAgIGlmKGRhdGFbaV0gPiBtYXgpe1xuICAgICAgICAgICAgbWF4ID0gZGF0YVtpXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmKGNvbnZleEJvZHkuYWFiYi5sb3dlckJvdW5kWzFdID4gbWF4KXtcbiAgICAgICAgcmV0dXJuIGp1c3RUZXN0ID8gZmFsc2UgOiAwO1xuICAgIH1cblxuICAgIHZhciBmb3VuZCA9IGZhbHNlO1xuICAgIHZhciBudW1Db250YWN0cyA9IDA7XG5cbiAgICAvLyBMb29wIG92ZXIgYWxsIGVkZ2VzXG4gICAgLy8gVE9ETzogSWYgcG9zc2libGUsIGNvbnN0cnVjdCBhIGNvbnZleCBmcm9tIHNldmVyYWwgZGF0YSBwb2ludHMgKG5lZWQgbyBjaGVjayBpZiB0aGUgcG9pbnRzIG1ha2UgYSBjb252ZXggc2hhcGUpXG4gICAgZm9yKHZhciBpPWlkeEE7IGk8aWR4QjsgaSsrKXtcblxuICAgICAgICAvLyBHZXQgcG9pbnRzXG4gICAgICAgIHZlYzIuc2V0KHYwLCAgICAgaSp3LCBkYXRhW2ldICApO1xuICAgICAgICB2ZWMyLnNldCh2MSwgKGkrMSkqdywgZGF0YVtpKzFdKTtcbiAgICAgICAgdmVjMi5hZGQodjAsdjAsaGZQb3MpO1xuICAgICAgICB2ZWMyLmFkZCh2MSx2MSxoZlBvcyk7XG5cbiAgICAgICAgLy8gQ29uc3RydWN0IGEgY29udmV4XG4gICAgICAgIHZhciB0aWxlSGVpZ2h0ID0gMTAwOyAvLyB0b2RvXG4gICAgICAgIHZlYzIuc2V0KHRpbGVQb3MsICh2MVswXSArIHYwWzBdKSowLjUsICh2MVsxXSArIHYwWzFdIC0gdGlsZUhlaWdodCkqMC41KTtcblxuICAgICAgICB2ZWMyLnN1Yih0aWxlQ29udmV4LnZlcnRpY2VzWzBdLCB2MSwgdGlsZVBvcyk7XG4gICAgICAgIHZlYzIuc3ViKHRpbGVDb252ZXgudmVydGljZXNbMV0sIHYwLCB0aWxlUG9zKTtcbiAgICAgICAgdmVjMi5jb3B5KHRpbGVDb252ZXgudmVydGljZXNbMl0sIHRpbGVDb252ZXgudmVydGljZXNbMV0pO1xuICAgICAgICB2ZWMyLmNvcHkodGlsZUNvbnZleC52ZXJ0aWNlc1szXSwgdGlsZUNvbnZleC52ZXJ0aWNlc1swXSk7XG4gICAgICAgIHRpbGVDb252ZXgudmVydGljZXNbMl1bMV0gLT0gdGlsZUhlaWdodDtcbiAgICAgICAgdGlsZUNvbnZleC52ZXJ0aWNlc1szXVsxXSAtPSB0aWxlSGVpZ2h0O1xuXG4gICAgICAgIC8vIERvIGNvbnZleCBjb2xsaXNpb25cbiAgICAgICAgbnVtQ29udGFjdHMgKz0gdGhpcy5jb252ZXhDb252ZXgoICAgY29udmV4Qm9keSwgY29udmV4U2hhcGUsIGNvbnZleFBvcywgY29udmV4QW5nbGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhmQm9keSwgdGlsZUNvbnZleCwgdGlsZVBvcywgMCwganVzdFRlc3QpO1xuICAgIH1cblxuICAgIHJldHVybiBudW1Db250YWN0cztcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcDIvc3JjL2NvbGxpc2lvbi9OYXJyb3dwaGFzZS5qc1xuICoqIG1vZHVsZSBpZCA9IDQyXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgVXRpbHMgPSByZXF1aXJlKCcuLi91dGlscy9VdGlscycpXG4sICAgQnJvYWRwaGFzZSA9IHJlcXVpcmUoJy4uL2NvbGxpc2lvbi9Ccm9hZHBoYXNlJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gU0FQQnJvYWRwaGFzZTtcblxuLyoqXG4gKiBTd2VlcCBhbmQgcHJ1bmUgYnJvYWRwaGFzZSBhbG9uZyBvbmUgYXhpcy5cbiAqXG4gKiBAY2xhc3MgU0FQQnJvYWRwaGFzZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAZXh0ZW5kcyBCcm9hZHBoYXNlXG4gKi9cbmZ1bmN0aW9uIFNBUEJyb2FkcGhhc2UoKXtcbiAgICBCcm9hZHBoYXNlLmNhbGwodGhpcyxCcm9hZHBoYXNlLlNBUCk7XG5cbiAgICAvKipcbiAgICAgKiBMaXN0IG9mIGJvZGllcyBjdXJyZW50bHkgaW4gdGhlIGJyb2FkcGhhc2UuXG4gICAgICogQHByb3BlcnR5IGF4aXNMaXN0XG4gICAgICogQHR5cGUge0FycmF5fVxuICAgICAqL1xuICAgIHRoaXMuYXhpc0xpc3QgPSBbXTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBheGlzIHRvIHNvcnQgYWxvbmcuIDAgbWVhbnMgeC1heGlzIGFuZCAxIHktYXhpcy4gSWYgeW91ciBib2RpZXMgYXJlIG1vcmUgc3ByZWFkIG91dCBvdmVyIHRoZSBYIGF4aXMsIHNldCBheGlzSW5kZXggdG8gMCwgYW5kIHlvdSB3aWxsIGdhaW4gc29tZSBwZXJmb3JtYW5jZS5cbiAgICAgKiBAcHJvcGVydHkgYXhpc0luZGV4XG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmF4aXNJbmRleCA9IDA7XG5cbiAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgdGhpcy5fYWRkQm9keUhhbmRsZXIgPSBmdW5jdGlvbihlKXtcbiAgICAgICAgdGhhdC5heGlzTGlzdC5wdXNoKGUuYm9keSk7XG4gICAgfTtcblxuICAgIHRoaXMuX3JlbW92ZUJvZHlIYW5kbGVyID0gZnVuY3Rpb24oZSl7XG4gICAgICAgIC8vIFJlbW92ZSBmcm9tIGxpc3RcbiAgICAgICAgdmFyIGlkeCA9IHRoYXQuYXhpc0xpc3QuaW5kZXhPZihlLmJvZHkpO1xuICAgICAgICBpZihpZHggIT09IC0xKXtcbiAgICAgICAgICAgIHRoYXQuYXhpc0xpc3Quc3BsaWNlKGlkeCwxKTtcbiAgICAgICAgfVxuICAgIH07XG59XG5TQVBCcm9hZHBoYXNlLnByb3RvdHlwZSA9IG5ldyBCcm9hZHBoYXNlKCk7XG5TQVBCcm9hZHBoYXNlLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFNBUEJyb2FkcGhhc2U7XG5cbi8qKlxuICogQ2hhbmdlIHRoZSB3b3JsZFxuICogQG1ldGhvZCBzZXRXb3JsZFxuICogQHBhcmFtIHtXb3JsZH0gd29ybGRcbiAqL1xuU0FQQnJvYWRwaGFzZS5wcm90b3R5cGUuc2V0V29ybGQgPSBmdW5jdGlvbih3b3JsZCl7XG4gICAgLy8gQ2xlYXIgdGhlIG9sZCBheGlzIGFycmF5XG4gICAgdGhpcy5heGlzTGlzdC5sZW5ndGggPSAwO1xuXG4gICAgLy8gQWRkIGFsbCBib2RpZXMgZnJvbSB0aGUgbmV3IHdvcmxkXG4gICAgVXRpbHMuYXBwZW5kQXJyYXkodGhpcy5heGlzTGlzdCwgd29ybGQuYm9kaWVzKTtcblxuICAgIC8vIFJlbW92ZSBvbGQgaGFuZGxlcnMsIGlmIGFueVxuICAgIHdvcmxkXG4gICAgICAgIC5vZmYoXCJhZGRCb2R5XCIsdGhpcy5fYWRkQm9keUhhbmRsZXIpXG4gICAgICAgIC5vZmYoXCJyZW1vdmVCb2R5XCIsdGhpcy5fcmVtb3ZlQm9keUhhbmRsZXIpO1xuXG4gICAgLy8gQWRkIGhhbmRsZXJzIHRvIHVwZGF0ZSB0aGUgbGlzdCBvZiBib2RpZXMuXG4gICAgd29ybGQub24oXCJhZGRCb2R5XCIsdGhpcy5fYWRkQm9keUhhbmRsZXIpLm9uKFwicmVtb3ZlQm9keVwiLHRoaXMuX3JlbW92ZUJvZHlIYW5kbGVyKTtcblxuICAgIHRoaXMud29ybGQgPSB3b3JsZDtcbn07XG5cbi8qKlxuICogU29ydHMgYm9kaWVzIGFsb25nIGFuIGF4aXMuXG4gKiBAbWV0aG9kIHNvcnRBeGlzTGlzdFxuICogQHBhcmFtIHtBcnJheX0gYVxuICogQHBhcmFtIHtudW1iZXJ9IGF4aXNJbmRleFxuICogQHJldHVybiB7QXJyYXl9XG4gKi9cblNBUEJyb2FkcGhhc2Uuc29ydEF4aXNMaXN0ID0gZnVuY3Rpb24oYSwgYXhpc0luZGV4KXtcbiAgICBheGlzSW5kZXggPSBheGlzSW5kZXh8MDtcbiAgICBmb3IodmFyIGk9MSxsPWEubGVuZ3RoOyBpPGw7IGkrKykge1xuICAgICAgICB2YXIgdiA9IGFbaV07XG4gICAgICAgIGZvcih2YXIgaj1pIC0gMTtqPj0wO2otLSkge1xuICAgICAgICAgICAgaWYoYVtqXS5hYWJiLmxvd2VyQm91bmRbYXhpc0luZGV4XSA8PSB2LmFhYmIubG93ZXJCb3VuZFtheGlzSW5kZXhdKXtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFbaisxXSA9IGFbal07XG4gICAgICAgIH1cbiAgICAgICAgYVtqKzFdID0gdjtcbiAgICB9XG4gICAgcmV0dXJuIGE7XG59O1xuXG5TQVBCcm9hZHBoYXNlLnByb3RvdHlwZS5zb3J0TGlzdCA9IGZ1bmN0aW9uKCl7XG4gICAgdmFyIGJvZGllcyA9IHRoaXMuYXhpc0xpc3QsXG4gICAgYXhpc0luZGV4ID0gdGhpcy5heGlzSW5kZXg7XG5cbiAgICAvLyBTb3J0IHRoZSBsaXN0c1xuICAgIFNBUEJyb2FkcGhhc2Uuc29ydEF4aXNMaXN0KGJvZGllcywgYXhpc0luZGV4KTtcbn07XG5cbi8qKlxuICogR2V0IHRoZSBjb2xsaWRpbmcgcGFpcnNcbiAqIEBtZXRob2QgZ2V0Q29sbGlzaW9uUGFpcnNcbiAqIEBwYXJhbSAge1dvcmxkfSB3b3JsZFxuICogQHJldHVybiB7QXJyYXl9XG4gKi9cblNBUEJyb2FkcGhhc2UucHJvdG90eXBlLmdldENvbGxpc2lvblBhaXJzID0gZnVuY3Rpb24od29ybGQpe1xuICAgIHZhciBib2RpZXMgPSB0aGlzLmF4aXNMaXN0LFxuICAgICAgICByZXN1bHQgPSB0aGlzLnJlc3VsdCxcbiAgICAgICAgYXhpc0luZGV4ID0gdGhpcy5heGlzSW5kZXg7XG5cbiAgICByZXN1bHQubGVuZ3RoID0gMDtcblxuICAgIC8vIFVwZGF0ZSBhbGwgQUFCQnMgaWYgbmVlZGVkXG4gICAgdmFyIGwgPSBib2RpZXMubGVuZ3RoO1xuICAgIHdoaWxlKGwtLSl7XG4gICAgICAgIHZhciBiID0gYm9kaWVzW2xdO1xuICAgICAgICBpZihiLmFhYmJOZWVkc1VwZGF0ZSl7XG4gICAgICAgICAgICBiLnVwZGF0ZUFBQkIoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIFNvcnQgdGhlIGxpc3RzXG4gICAgdGhpcy5zb3J0TGlzdCgpO1xuXG4gICAgLy8gTG9vayB0aHJvdWdoIHRoZSBYIGxpc3RcbiAgICBmb3IodmFyIGk9MCwgTj1ib2RpZXMubGVuZ3RofDA7IGkhPT1OOyBpKyspe1xuICAgICAgICB2YXIgYmkgPSBib2RpZXNbaV07XG5cbiAgICAgICAgZm9yKHZhciBqPWkrMTsgajxOOyBqKyspe1xuICAgICAgICAgICAgdmFyIGJqID0gYm9kaWVzW2pdO1xuXG4gICAgICAgICAgICAvLyBCb3VuZHMgb3ZlcmxhcD9cbiAgICAgICAgICAgIHZhciBvdmVybGFwcyA9IChiai5hYWJiLmxvd2VyQm91bmRbYXhpc0luZGV4XSA8PSBiaS5hYWJiLnVwcGVyQm91bmRbYXhpc0luZGV4XSk7XG4gICAgICAgICAgICBpZighb3ZlcmxhcHMpe1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZihCcm9hZHBoYXNlLmNhbkNvbGxpZGUoYmksYmopICYmIHRoaXMuYm91bmRpbmdWb2x1bWVDaGVjayhiaSxiaikpe1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGJpLGJqKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG59O1xuXG4vKipcbiAqIFJldHVybnMgYWxsIHRoZSBib2RpZXMgd2l0aGluIGFuIEFBQkIuXG4gKiBAbWV0aG9kIGFhYmJRdWVyeVxuICogQHBhcmFtICB7V29ybGR9IHdvcmxkXG4gKiBAcGFyYW0gIHtBQUJCfSBhYWJiXG4gKiBAcGFyYW0ge2FycmF5fSByZXN1bHQgQW4gYXJyYXkgdG8gc3RvcmUgcmVzdWx0aW5nIGJvZGllcyBpbi5cbiAqIEByZXR1cm4ge2FycmF5fVxuICovXG5TQVBCcm9hZHBoYXNlLnByb3RvdHlwZS5hYWJiUXVlcnkgPSBmdW5jdGlvbih3b3JsZCwgYWFiYiwgcmVzdWx0KXtcbiAgICByZXN1bHQgPSByZXN1bHQgfHwgW107XG5cbiAgICB0aGlzLnNvcnRMaXN0KCk7XG5cbiAgICB2YXIgYXhpc0luZGV4ID0gdGhpcy5heGlzSW5kZXg7XG4gICAgdmFyIGF4aXMgPSAneCc7XG4gICAgaWYoYXhpc0luZGV4ID09PSAxKXsgYXhpcyA9ICd5JzsgfVxuICAgIGlmKGF4aXNJbmRleCA9PT0gMil7IGF4aXMgPSAneic7IH1cblxuICAgIHZhciBheGlzTGlzdCA9IHRoaXMuYXhpc0xpc3Q7XG4gICAgdmFyIGxvd2VyID0gYWFiYi5sb3dlckJvdW5kW2F4aXNdO1xuICAgIHZhciB1cHBlciA9IGFhYmIudXBwZXJCb3VuZFtheGlzXTtcbiAgICBmb3IodmFyIGkgPSAwOyBpIDwgYXhpc0xpc3QubGVuZ3RoOyBpKyspe1xuICAgICAgICB2YXIgYiA9IGF4aXNMaXN0W2ldO1xuXG4gICAgICAgIGlmKGIuYWFiYk5lZWRzVXBkYXRlKXtcbiAgICAgICAgICAgIGIudXBkYXRlQUFCQigpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYoYi5hYWJiLm92ZXJsYXBzKGFhYmIpKXtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKGIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcDIvc3JjL2NvbGxpc2lvbi9TQVBCcm9hZHBoYXNlLmpzXG4gKiogbW9kdWxlIGlkID0gNDNcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciBDb25zdHJhaW50ID0gcmVxdWlyZSgnLi9Db25zdHJhaW50JylcbiwgICBFcXVhdGlvbiA9IHJlcXVpcmUoJy4uL2VxdWF0aW9ucy9FcXVhdGlvbicpXG4sICAgdmVjMiA9IHJlcXVpcmUoJy4uL21hdGgvdmVjMicpXG4sICAgVXRpbHMgPSByZXF1aXJlKCcuLi91dGlscy9VdGlscycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IERpc3RhbmNlQ29uc3RyYWludDtcblxuLyoqXG4gKiBDb25zdHJhaW50IHRoYXQgdHJpZXMgdG8ga2VlcCB0aGUgZGlzdGFuY2UgYmV0d2VlbiB0d28gYm9kaWVzIGNvbnN0YW50LlxuICpcbiAqIEBjbGFzcyBEaXN0YW5jZUNvbnN0cmFpbnRcbiAqIEBjb25zdHJ1Y3RvclxuICogQGF1dGhvciBzY2h0ZXBwZVxuICogQHBhcmFtIHtCb2R5fSBib2R5QVxuICogQHBhcmFtIHtCb2R5fSBib2R5QlxuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXVxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmRpc3RhbmNlXSBUaGUgZGlzdGFuY2UgdG8ga2VlcCBiZXR3ZWVuIHRoZSBhbmNob3IgcG9pbnRzLiBEZWZhdWx0cyB0byB0aGUgY3VycmVudCBkaXN0YW5jZSBiZXR3ZWVuIHRoZSBib2RpZXMuXG4gKiBAcGFyYW0ge0FycmF5fSBbb3B0aW9ucy5sb2NhbEFuY2hvckFdIFRoZSBhbmNob3IgcG9pbnQgZm9yIGJvZHlBLCBkZWZpbmVkIGxvY2FsbHkgaW4gYm9keUEgZnJhbWUuIERlZmF1bHRzIHRvIFswLDBdLlxuICogQHBhcmFtIHtBcnJheX0gW29wdGlvbnMubG9jYWxBbmNob3JCXSBUaGUgYW5jaG9yIHBvaW50IGZvciBib2R5QiwgZGVmaW5lZCBsb2NhbGx5IGluIGJvZHlCIGZyYW1lLiBEZWZhdWx0cyB0byBbMCwwXS5cbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9ucy5tYXhGb3JjZT1OdW1iZXIuTUFYX1ZBTFVFXSBNYXhpbXVtIGZvcmNlIHRvIGFwcGx5LlxuICogQGV4dGVuZHMgQ29uc3RyYWludFxuICpcbiAqIEBleGFtcGxlXG4gKiAgICAgLy8gSWYgZGlzdGFuY2UgaXMgbm90IGdpdmVuIGFzIGFuIG9wdGlvbiwgdGhlbiB0aGUgY3VycmVudCBkaXN0YW5jZSBiZXR3ZWVuIHRoZSBib2RpZXMgaXMgdXNlZC5cbiAqICAgICAvLyBJbiB0aGlzIGV4YW1wbGUsIHRoZSBib2RpZXMgd2lsbCBiZSBjb25zdHJhaW5lZCB0byBoYXZlIGEgZGlzdGFuY2Ugb2YgMiBiZXR3ZWVuIHRoZWlyIGNlbnRlcnMuXG4gKiAgICAgdmFyIGJvZHlBID0gbmV3IEJvZHkoeyBtYXNzOiAxLCBwb3NpdGlvbjogWy0xLCAwXSB9KTtcbiAqICAgICB2YXIgYm9keUIgPSBuZXcgQm9keSh7IG1hc3M6IDEsIHBvc2l0aW9uOiBbMSwgMF0gfSk7XG4gKiAgICAgdmFyIGNvbnN0cmFpbnQgPSBuZXcgRGlzdGFuY2VDb25zdHJhaW50KGJvZHlBLCBib2R5Qik7XG4gKiAgICAgd29ybGQuYWRkQ29uc3RyYWludChjb25zdHJhaW50KTtcbiAqXG4gKiBAZXhhbXBsZVxuICogICAgIC8vIE1hbnVhbGx5IHNldCB0aGUgZGlzdGFuY2UgYW5kIGFuY2hvcnNcbiAqICAgICB2YXIgY29uc3RyYWludCA9IG5ldyBEaXN0YW5jZUNvbnN0cmFpbnQoYm9keUEsIGJvZHlCLCB7XG4gKiAgICAgICAgIGRpc3RhbmNlOiAxLCAgICAgICAgICAvLyBEaXN0YW5jZSB0byBrZWVwIGJldHdlZW4gdGhlIHBvaW50c1xuICogICAgICAgICBsb2NhbEFuY2hvckE6IFsxLCAwXSwgLy8gUG9pbnQgb24gYm9keUFcbiAqICAgICAgICAgbG9jYWxBbmNob3JCOiBbLTEsIDBdIC8vIFBvaW50IG9uIGJvZHlCXG4gKiAgICAgfSk7XG4gKiAgICAgd29ybGQuYWRkQ29uc3RyYWludChjb25zdHJhaW50KTtcbiAqL1xuZnVuY3Rpb24gRGlzdGFuY2VDb25zdHJhaW50KGJvZHlBLGJvZHlCLG9wdGlvbnMpe1xuICAgIG9wdGlvbnMgPSBVdGlscy5kZWZhdWx0cyhvcHRpb25zLHtcbiAgICAgICAgbG9jYWxBbmNob3JBOlswLDBdLFxuICAgICAgICBsb2NhbEFuY2hvckI6WzAsMF1cbiAgICB9KTtcblxuICAgIENvbnN0cmFpbnQuY2FsbCh0aGlzLGJvZHlBLGJvZHlCLENvbnN0cmFpbnQuRElTVEFOQ0Usb3B0aW9ucyk7XG5cbiAgICAvKipcbiAgICAgKiBMb2NhbCBhbmNob3IgaW4gYm9keSBBLlxuICAgICAqIEBwcm9wZXJ0eSBsb2NhbEFuY2hvckFcbiAgICAgKiBAdHlwZSB7QXJyYXl9XG4gICAgICovXG4gICAgdGhpcy5sb2NhbEFuY2hvckEgPSB2ZWMyLmZyb21WYWx1ZXMob3B0aW9ucy5sb2NhbEFuY2hvckFbMF0sIG9wdGlvbnMubG9jYWxBbmNob3JBWzFdKTtcblxuICAgIC8qKlxuICAgICAqIExvY2FsIGFuY2hvciBpbiBib2R5IEIuXG4gICAgICogQHByb3BlcnR5IGxvY2FsQW5jaG9yQlxuICAgICAqIEB0eXBlIHtBcnJheX1cbiAgICAgKi9cbiAgICB0aGlzLmxvY2FsQW5jaG9yQiA9IHZlYzIuZnJvbVZhbHVlcyhvcHRpb25zLmxvY2FsQW5jaG9yQlswXSwgb3B0aW9ucy5sb2NhbEFuY2hvckJbMV0pO1xuXG4gICAgdmFyIGxvY2FsQW5jaG9yQSA9IHRoaXMubG9jYWxBbmNob3JBO1xuICAgIHZhciBsb2NhbEFuY2hvckIgPSB0aGlzLmxvY2FsQW5jaG9yQjtcblxuICAgIC8qKlxuICAgICAqIFRoZSBkaXN0YW5jZSB0byBrZWVwLlxuICAgICAqIEBwcm9wZXJ0eSBkaXN0YW5jZVxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5kaXN0YW5jZSA9IDA7XG5cbiAgICBpZih0eXBlb2Yob3B0aW9ucy5kaXN0YW5jZSkgPT09ICdudW1iZXInKXtcbiAgICAgICAgdGhpcy5kaXN0YW5jZSA9IG9wdGlvbnMuZGlzdGFuY2U7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gVXNlIHRoZSBjdXJyZW50IHdvcmxkIGRpc3RhbmNlIGJldHdlZW4gdGhlIHdvcmxkIGFuY2hvciBwb2ludHMuXG4gICAgICAgIHZhciB3b3JsZEFuY2hvckEgPSB2ZWMyLmNyZWF0ZSgpLFxuICAgICAgICAgICAgd29ybGRBbmNob3JCID0gdmVjMi5jcmVhdGUoKSxcbiAgICAgICAgICAgIHIgPSB2ZWMyLmNyZWF0ZSgpO1xuXG4gICAgICAgIC8vIFRyYW5zZm9ybSBsb2NhbCBhbmNob3JzIHRvIHdvcmxkXG4gICAgICAgIHZlYzIucm90YXRlKHdvcmxkQW5jaG9yQSwgbG9jYWxBbmNob3JBLCBib2R5QS5hbmdsZSk7XG4gICAgICAgIHZlYzIucm90YXRlKHdvcmxkQW5jaG9yQiwgbG9jYWxBbmNob3JCLCBib2R5Qi5hbmdsZSk7XG5cbiAgICAgICAgdmVjMi5hZGQociwgYm9keUIucG9zaXRpb24sIHdvcmxkQW5jaG9yQik7XG4gICAgICAgIHZlYzIuc3ViKHIsIHIsIHdvcmxkQW5jaG9yQSk7XG4gICAgICAgIHZlYzIuc3ViKHIsIHIsIGJvZHlBLnBvc2l0aW9uKTtcblxuICAgICAgICB0aGlzLmRpc3RhbmNlID0gdmVjMi5sZW5ndGgocik7XG4gICAgfVxuXG4gICAgdmFyIG1heEZvcmNlO1xuICAgIGlmKHR5cGVvZihvcHRpb25zLm1heEZvcmNlKT09PVwidW5kZWZpbmVkXCIgKXtcbiAgICAgICAgbWF4Rm9yY2UgPSBOdW1iZXIuTUFYX1ZBTFVFO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIG1heEZvcmNlID0gb3B0aW9ucy5tYXhGb3JjZTtcbiAgICB9XG5cbiAgICB2YXIgbm9ybWFsID0gbmV3IEVxdWF0aW9uKGJvZHlBLGJvZHlCLC1tYXhGb3JjZSxtYXhGb3JjZSk7IC8vIEp1c3QgaW4gdGhlIG5vcm1hbCBkaXJlY3Rpb25cbiAgICB0aGlzLmVxdWF0aW9ucyA9IFsgbm9ybWFsIF07XG5cbiAgICAvKipcbiAgICAgKiBNYXggZm9yY2UgdG8gYXBwbHkuXG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9IG1heEZvcmNlXG4gICAgICovXG4gICAgdGhpcy5tYXhGb3JjZSA9IG1heEZvcmNlO1xuXG4gICAgLy8gZyA9ICh4aSAtIHhqKS5kb3QobilcbiAgICAvLyBkZy9kdCA9ICh2aSAtIHZqKS5kb3QobikgPSBHKlcgPSBbbiAwIC1uIDBdICogW3ZpIHdpIHZqIHdqXSdcblxuICAgIC8vIC4uLmFuZCBpZiB3ZSB3ZXJlIHRvIGluY2x1ZGUgb2Zmc2V0IHBvaW50czpcbiAgICAvLyBnID1cbiAgICAvLyAgICAgICh4aiArIHJqIC0geGkgLSByaSkuZG90KG4pIC0gZGlzdGFuY2VcbiAgICAvL1xuICAgIC8vIGRnL2R0ID1cbiAgICAvLyAgICAgICh2aiArIHdqIHggcmogLSB2aSAtIHdpIHggcmkpLmRvdChuKSA9XG4gICAgLy8gICAgICB7IHRlcm0gMiBpcyBuZWFyIHplcm8gfSA9XG4gICAgLy8gICAgICBbLW4gICAtcmkgeCBuICAgbiAgIHJqIHggbl0gKiBbdmkgd2kgdmogd2pdJyA9XG4gICAgLy8gICAgICBHICogV1xuICAgIC8vXG4gICAgLy8gPT4gRyA9IFstbiAtcml4biBuIHJqeG5dXG5cbiAgICB2YXIgciA9IHZlYzIuY3JlYXRlKCk7XG4gICAgdmFyIHJpID0gdmVjMi5jcmVhdGUoKTsgLy8gd29ybGRBbmNob3JBXG4gICAgdmFyIHJqID0gdmVjMi5jcmVhdGUoKTsgLy8gd29ybGRBbmNob3JCXG4gICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgIG5vcm1hbC5jb21wdXRlR3EgPSBmdW5jdGlvbigpe1xuICAgICAgICB2YXIgYm9keUEgPSB0aGlzLmJvZHlBLFxuICAgICAgICAgICAgYm9keUIgPSB0aGlzLmJvZHlCLFxuICAgICAgICAgICAgeGkgPSBib2R5QS5wb3NpdGlvbixcbiAgICAgICAgICAgIHhqID0gYm9keUIucG9zaXRpb247XG5cbiAgICAgICAgLy8gVHJhbnNmb3JtIGxvY2FsIGFuY2hvcnMgdG8gd29ybGRcbiAgICAgICAgdmVjMi5yb3RhdGUocmksIGxvY2FsQW5jaG9yQSwgYm9keUEuYW5nbGUpO1xuICAgICAgICB2ZWMyLnJvdGF0ZShyaiwgbG9jYWxBbmNob3JCLCBib2R5Qi5hbmdsZSk7XG5cbiAgICAgICAgdmVjMi5hZGQociwgeGosIHJqKTtcbiAgICAgICAgdmVjMi5zdWIociwgciwgcmkpO1xuICAgICAgICB2ZWMyLnN1YihyLCByLCB4aSk7XG5cbiAgICAgICAgLy92ZWMyLnN1YihyLCBib2R5Qi5wb3NpdGlvbiwgYm9keUEucG9zaXRpb24pO1xuICAgICAgICByZXR1cm4gdmVjMi5sZW5ndGgocikgLSB0aGF0LmRpc3RhbmNlO1xuICAgIH07XG5cbiAgICAvLyBNYWtlIHRoZSBjb250YWN0IGNvbnN0cmFpbnQgYmlsYXRlcmFsXG4gICAgdGhpcy5zZXRNYXhGb3JjZShtYXhGb3JjZSk7XG5cbiAgICAvKipcbiAgICAgKiBJZiB0aGUgdXBwZXIgbGltaXQgaXMgZW5hYmxlZCBvciBub3QuXG4gICAgICogQHByb3BlcnR5IHtCb29sZWFufSB1cHBlckxpbWl0RW5hYmxlZFxuICAgICAqL1xuICAgIHRoaXMudXBwZXJMaW1pdEVuYWJsZWQgPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIFRoZSB1cHBlciBjb25zdHJhaW50IGxpbWl0LlxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB1cHBlckxpbWl0XG4gICAgICovXG4gICAgdGhpcy51cHBlckxpbWl0ID0gMTtcblxuICAgIC8qKlxuICAgICAqIElmIHRoZSBsb3dlciBsaW1pdCBpcyBlbmFibGVkIG9yIG5vdC5cbiAgICAgKiBAcHJvcGVydHkge0Jvb2xlYW59IGxvd2VyTGltaXRFbmFibGVkXG4gICAgICovXG4gICAgdGhpcy5sb3dlckxpbWl0RW5hYmxlZCA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGxvd2VyIGNvbnN0cmFpbnQgbGltaXQuXG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9IGxvd2VyTGltaXRcbiAgICAgKi9cbiAgICB0aGlzLmxvd2VyTGltaXQgPSAwO1xuXG4gICAgLyoqXG4gICAgICogQ3VycmVudCBjb25zdHJhaW50IHBvc2l0aW9uLiBUaGlzIGlzIGVxdWFsIHRvIHRoZSBjdXJyZW50IGRpc3RhbmNlIGJldHdlZW4gdGhlIHdvcmxkIGFuY2hvciBwb2ludHMuXG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9IHBvc2l0aW9uXG4gICAgICovXG4gICAgdGhpcy5wb3NpdGlvbiA9IDA7XG59XG5EaXN0YW5jZUNvbnN0cmFpbnQucHJvdG90eXBlID0gbmV3IENvbnN0cmFpbnQoKTtcbkRpc3RhbmNlQ29uc3RyYWludC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBEaXN0YW5jZUNvbnN0cmFpbnQ7XG5cbi8qKlxuICogVXBkYXRlIHRoZSBjb25zdHJhaW50IGVxdWF0aW9ucy4gU2hvdWxkIGJlIGRvbmUgaWYgYW55IG9mIHRoZSBib2RpZXMgY2hhbmdlZCBwb3NpdGlvbiwgYmVmb3JlIHNvbHZpbmcuXG4gKiBAbWV0aG9kIHVwZGF0ZVxuICovXG52YXIgbiA9IHZlYzIuY3JlYXRlKCk7XG52YXIgcmkgPSB2ZWMyLmNyZWF0ZSgpOyAvLyB3b3JsZEFuY2hvckFcbnZhciByaiA9IHZlYzIuY3JlYXRlKCk7IC8vIHdvcmxkQW5jaG9yQlxuRGlzdGFuY2VDb25zdHJhaW50LnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbigpe1xuICAgIHZhciBub3JtYWwgPSB0aGlzLmVxdWF0aW9uc1swXSxcbiAgICAgICAgYm9keUEgPSB0aGlzLmJvZHlBLFxuICAgICAgICBib2R5QiA9IHRoaXMuYm9keUIsXG4gICAgICAgIGRpc3RhbmNlID0gdGhpcy5kaXN0YW5jZSxcbiAgICAgICAgeGkgPSBib2R5QS5wb3NpdGlvbixcbiAgICAgICAgeGogPSBib2R5Qi5wb3NpdGlvbixcbiAgICAgICAgbm9ybWFsRXF1YXRpb24gPSB0aGlzLmVxdWF0aW9uc1swXSxcbiAgICAgICAgRyA9IG5vcm1hbC5HO1xuXG4gICAgLy8gVHJhbnNmb3JtIGxvY2FsIGFuY2hvcnMgdG8gd29ybGRcbiAgICB2ZWMyLnJvdGF0ZShyaSwgdGhpcy5sb2NhbEFuY2hvckEsIGJvZHlBLmFuZ2xlKTtcbiAgICB2ZWMyLnJvdGF0ZShyaiwgdGhpcy5sb2NhbEFuY2hvckIsIGJvZHlCLmFuZ2xlKTtcblxuICAgIC8vIEdldCB3b3JsZCBhbmNob3IgcG9pbnRzIGFuZCBub3JtYWxcbiAgICB2ZWMyLmFkZChuLCB4aiwgcmopO1xuICAgIHZlYzIuc3ViKG4sIG4sIHJpKTtcbiAgICB2ZWMyLnN1YihuLCBuLCB4aSk7XG4gICAgdGhpcy5wb3NpdGlvbiA9IHZlYzIubGVuZ3RoKG4pO1xuXG4gICAgdmFyIHZpb2xhdGluZyA9IGZhbHNlO1xuICAgIGlmKHRoaXMudXBwZXJMaW1pdEVuYWJsZWQpe1xuICAgICAgICBpZih0aGlzLnBvc2l0aW9uID4gdGhpcy51cHBlckxpbWl0KXtcbiAgICAgICAgICAgIG5vcm1hbEVxdWF0aW9uLm1heEZvcmNlID0gMDtcbiAgICAgICAgICAgIG5vcm1hbEVxdWF0aW9uLm1pbkZvcmNlID0gLXRoaXMubWF4Rm9yY2U7XG4gICAgICAgICAgICB0aGlzLmRpc3RhbmNlID0gdGhpcy51cHBlckxpbWl0O1xuICAgICAgICAgICAgdmlvbGF0aW5nID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmKHRoaXMubG93ZXJMaW1pdEVuYWJsZWQpe1xuICAgICAgICBpZih0aGlzLnBvc2l0aW9uIDwgdGhpcy5sb3dlckxpbWl0KXtcbiAgICAgICAgICAgIG5vcm1hbEVxdWF0aW9uLm1heEZvcmNlID0gdGhpcy5tYXhGb3JjZTtcbiAgICAgICAgICAgIG5vcm1hbEVxdWF0aW9uLm1pbkZvcmNlID0gMDtcbiAgICAgICAgICAgIHRoaXMuZGlzdGFuY2UgPSB0aGlzLmxvd2VyTGltaXQ7XG4gICAgICAgICAgICB2aW9sYXRpbmcgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYoKHRoaXMubG93ZXJMaW1pdEVuYWJsZWQgfHwgdGhpcy51cHBlckxpbWl0RW5hYmxlZCkgJiYgIXZpb2xhdGluZyl7XG4gICAgICAgIC8vIE5vIGNvbnN0cmFpbnQgbmVlZGVkLlxuICAgICAgICBub3JtYWxFcXVhdGlvbi5lbmFibGVkID0gZmFsc2U7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBub3JtYWxFcXVhdGlvbi5lbmFibGVkID0gdHJ1ZTtcblxuICAgIHZlYzIubm9ybWFsaXplKG4sbik7XG5cbiAgICAvLyBDYWx1Y2xhdGUgY3Jvc3MgcHJvZHVjdHNcbiAgICB2YXIgcml4biA9IHZlYzIuY3Jvc3NMZW5ndGgocmksIG4pLFxuICAgICAgICByanhuID0gdmVjMi5jcm9zc0xlbmd0aChyaiwgbik7XG5cbiAgICAvLyBHID0gWy1uIC1yaXhuIG4gcmp4bl1cbiAgICBHWzBdID0gLW5bMF07XG4gICAgR1sxXSA9IC1uWzFdO1xuICAgIEdbMl0gPSAtcml4bjtcbiAgICBHWzNdID0gblswXTtcbiAgICBHWzRdID0gblsxXTtcbiAgICBHWzVdID0gcmp4bjtcbn07XG5cbi8qKlxuICogU2V0IHRoZSBtYXggZm9yY2UgdG8gYmUgdXNlZFxuICogQG1ldGhvZCBzZXRNYXhGb3JjZVxuICogQHBhcmFtIHtOdW1iZXJ9IG1heEZvcmNlXG4gKi9cbkRpc3RhbmNlQ29uc3RyYWludC5wcm90b3R5cGUuc2V0TWF4Rm9yY2UgPSBmdW5jdGlvbihtYXhGb3JjZSl7XG4gICAgdmFyIG5vcm1hbCA9IHRoaXMuZXF1YXRpb25zWzBdO1xuICAgIG5vcm1hbC5taW5Gb3JjZSA9IC1tYXhGb3JjZTtcbiAgICBub3JtYWwubWF4Rm9yY2UgPSAgbWF4Rm9yY2U7XG59O1xuXG4vKipcbiAqIEdldCB0aGUgbWF4IGZvcmNlXG4gKiBAbWV0aG9kIGdldE1heEZvcmNlXG4gKiBAcmV0dXJuIHtOdW1iZXJ9XG4gKi9cbkRpc3RhbmNlQ29uc3RyYWludC5wcm90b3R5cGUuZ2V0TWF4Rm9yY2UgPSBmdW5jdGlvbigpe1xuICAgIHZhciBub3JtYWwgPSB0aGlzLmVxdWF0aW9uc1swXTtcbiAgICByZXR1cm4gbm9ybWFsLm1heEZvcmNlO1xufTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3AyL3NyYy9jb25zdHJhaW50cy9EaXN0YW5jZUNvbnN0cmFpbnQuanNcbiAqKiBtb2R1bGUgaWQgPSA0NFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwidmFyIENvbnN0cmFpbnQgPSByZXF1aXJlKCcuL0NvbnN0cmFpbnQnKVxuLCAgIEVxdWF0aW9uID0gcmVxdWlyZSgnLi4vZXF1YXRpb25zL0VxdWF0aW9uJylcbiwgICBBbmdsZUxvY2tFcXVhdGlvbiA9IHJlcXVpcmUoJy4uL2VxdWF0aW9ucy9BbmdsZUxvY2tFcXVhdGlvbicpXG4sICAgdmVjMiA9IHJlcXVpcmUoJy4uL21hdGgvdmVjMicpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEdlYXJDb25zdHJhaW50O1xuXG4vKipcbiAqIENvbnN0cmFpbnMgdGhlIGFuZ2xlIG9mIHR3byBib2RpZXMgdG8gZWFjaCBvdGhlciB0byBiZSBlcXVhbC4gSWYgYSBnZWFyIHJhdGlvIGlzIG5vdCBvbmUsIHRoZSBhbmdsZSBvZiBib2R5QSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgdGhlIGFuZ2xlIG9mIGJvZHlCLlxuICogQGNsYXNzIEdlYXJDb25zdHJhaW50XG4gKiBAY29uc3RydWN0b3JcbiAqIEBhdXRob3Igc2NodGVwcGVcbiAqIEBwYXJhbSB7Qm9keX0gICAgICAgICAgICBib2R5QVxuICogQHBhcmFtIHtCb2R5fSAgICAgICAgICAgIGJvZHlCXG4gKiBAcGFyYW0ge09iamVjdH0gICAgICAgICAgW29wdGlvbnNdXG4gKiBAcGFyYW0ge051bWJlcn0gICAgICAgICAgW29wdGlvbnMuYW5nbGU9MF0gUmVsYXRpdmUgYW5nbGUgYmV0d2VlbiB0aGUgYm9kaWVzLiBXaWxsIGJlIHNldCB0byB0aGUgY3VycmVudCBhbmdsZSBiZXR3ZWVuIHRoZSBib2RpZXMgKHRoZSBnZWFyIHJhdGlvIGlzIGFjY291bnRlZCBmb3IpLlxuICogQHBhcmFtIHtOdW1iZXJ9ICAgICAgICAgIFtvcHRpb25zLnJhdGlvPTFdIEdlYXIgcmF0aW8uXG4gKiBAcGFyYW0ge051bWJlcn0gICAgICAgICAgW29wdGlvbnMubWF4VG9ycXVlXSBNYXhpbXVtIHRvcnF1ZSB0byBhcHBseS5cbiAqIEBleHRlbmRzIENvbnN0cmFpbnRcbiAqXG4gKiBAZXhhbXBsZVxuICogICAgIHZhciBjb25zdHJhaW50ID0gbmV3IEdlYXJDb25zdHJhaW50KGJvZHlBLCBib2R5Qik7XG4gKiAgICAgd29ybGQuYWRkQ29uc3RyYWludChjb25zdHJhaW50KTtcbiAqXG4gKiBAZXhhbXBsZVxuICogICAgIHZhciBjb25zdHJhaW50ID0gbmV3IEdlYXJDb25zdHJhaW50KGJvZHlBLCBib2R5Qiwge1xuICogICAgICAgICByYXRpbzogMixcbiAqICAgICAgICAgbWF4VG9ycXVlOiAxMDAwXG4gKiAgICAgfSk7XG4gKiAgICAgd29ybGQuYWRkQ29uc3RyYWludChjb25zdHJhaW50KTtcbiAqL1xuZnVuY3Rpb24gR2VhckNvbnN0cmFpbnQoYm9keUEsIGJvZHlCLCBvcHRpb25zKXtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICAgIENvbnN0cmFpbnQuY2FsbCh0aGlzLCBib2R5QSwgYm9keUIsIENvbnN0cmFpbnQuR0VBUiwgb3B0aW9ucyk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZ2VhciByYXRpby5cbiAgICAgKiBAcHJvcGVydHkgcmF0aW9cbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMucmF0aW8gPSBvcHRpb25zLnJhdGlvICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnJhdGlvIDogMTtcblxuICAgIC8qKlxuICAgICAqIFRoZSByZWxhdGl2ZSBhbmdsZVxuICAgICAqIEBwcm9wZXJ0eSBhbmdsZVxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5hbmdsZSA9IG9wdGlvbnMuYW5nbGUgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuYW5nbGUgOiBib2R5Qi5hbmdsZSAtIHRoaXMucmF0aW8gKiBib2R5QS5hbmdsZTtcblxuICAgIC8vIFNlbmQgc2FtZSBwYXJhbWV0ZXJzIHRvIHRoZSBlcXVhdGlvblxuICAgIG9wdGlvbnMuYW5nbGUgPSB0aGlzLmFuZ2xlO1xuICAgIG9wdGlvbnMucmF0aW8gPSB0aGlzLnJhdGlvO1xuXG4gICAgdGhpcy5lcXVhdGlvbnMgPSBbXG4gICAgICAgIG5ldyBBbmdsZUxvY2tFcXVhdGlvbihib2R5QSxib2R5QixvcHRpb25zKSxcbiAgICBdO1xuXG4gICAgLy8gU2V0IG1heCB0b3JxdWVcbiAgICBpZihvcHRpb25zLm1heFRvcnF1ZSAhPT0gdW5kZWZpbmVkKXtcbiAgICAgICAgdGhpcy5zZXRNYXhUb3JxdWUob3B0aW9ucy5tYXhUb3JxdWUpO1xuICAgIH1cbn1cbkdlYXJDb25zdHJhaW50LnByb3RvdHlwZSA9IG5ldyBDb25zdHJhaW50KCk7XG5HZWFyQ29uc3RyYWludC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBHZWFyQ29uc3RyYWludDtcblxuR2VhckNvbnN0cmFpbnQucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uKCl7XG4gICAgdmFyIGVxID0gdGhpcy5lcXVhdGlvbnNbMF07XG4gICAgaWYoZXEucmF0aW8gIT09IHRoaXMucmF0aW8pe1xuICAgICAgICBlcS5zZXRSYXRpbyh0aGlzLnJhdGlvKTtcbiAgICB9XG4gICAgZXEuYW5nbGUgPSB0aGlzLmFuZ2xlO1xufTtcblxuLyoqXG4gKiBTZXQgdGhlIG1heCB0b3JxdWUgZm9yIHRoZSBjb25zdHJhaW50LlxuICogQG1ldGhvZCBzZXRNYXhUb3JxdWVcbiAqIEBwYXJhbSB7TnVtYmVyfSB0b3JxdWVcbiAqL1xuR2VhckNvbnN0cmFpbnQucHJvdG90eXBlLnNldE1heFRvcnF1ZSA9IGZ1bmN0aW9uKHRvcnF1ZSl7XG4gICAgdGhpcy5lcXVhdGlvbnNbMF0uc2V0TWF4VG9ycXVlKHRvcnF1ZSk7XG59O1xuXG4vKipcbiAqIEdldCB0aGUgbWF4IHRvcnF1ZSBmb3IgdGhlIGNvbnN0cmFpbnQuXG4gKiBAbWV0aG9kIGdldE1heFRvcnF1ZVxuICogQHJldHVybiB7TnVtYmVyfVxuICovXG5HZWFyQ29uc3RyYWludC5wcm90b3R5cGUuZ2V0TWF4VG9ycXVlID0gZnVuY3Rpb24odG9ycXVlKXtcbiAgICByZXR1cm4gdGhpcy5lcXVhdGlvbnNbMF0ubWF4Rm9yY2U7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3AyL3NyYy9jb25zdHJhaW50cy9HZWFyQ29uc3RyYWludC5qc1xuICoqIG1vZHVsZSBpZCA9IDQ1XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgQ29uc3RyYWludCA9IHJlcXVpcmUoJy4vQ29uc3RyYWludCcpXG4sICAgdmVjMiA9IHJlcXVpcmUoJy4uL21hdGgvdmVjMicpXG4sICAgRXF1YXRpb24gPSByZXF1aXJlKCcuLi9lcXVhdGlvbnMvRXF1YXRpb24nKTtcblxubW9kdWxlLmV4cG9ydHMgPSBMb2NrQ29uc3RyYWludDtcblxuLyoqXG4gKiBMb2NrcyB0aGUgcmVsYXRpdmUgcG9zaXRpb24gYW5kIHJvdGF0aW9uIGJldHdlZW4gdHdvIGJvZGllcy5cbiAqXG4gKiBAY2xhc3MgTG9ja0NvbnN0cmFpbnRcbiAqIEBjb25zdHJ1Y3RvclxuICogQGF1dGhvciBzY2h0ZXBwZVxuICogQHBhcmFtIHtCb2R5fSBib2R5QVxuICogQHBhcmFtIHtCb2R5fSBib2R5QlxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICogQHBhcmFtIHtBcnJheX0gIFtvcHRpb25zLmxvY2FsT2Zmc2V0Ql0gVGhlIG9mZnNldCBvZiBib2R5QiBpbiBib2R5QSdzIGZyYW1lLiBJZiBub3QgZ2l2ZW4gdGhlIG9mZnNldCBpcyBjb21wdXRlZCBmcm9tIGN1cnJlbnQgcG9zaXRpb25zLlxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmxvY2FsQW5nbGVCXSBUaGUgYW5nbGUgb2YgYm9keUIgaW4gYm9keUEncyBmcmFtZS4gSWYgbm90IGdpdmVuLCB0aGUgYW5nbGUgaXMgY29tcHV0ZWQgZnJvbSBjdXJyZW50IGFuZ2xlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5tYXhGb3JjZV1cbiAqIEBleHRlbmRzIENvbnN0cmFpbnRcbiAqXG4gKiBAZXhhbXBsZVxuICogICAgIC8vIExvY2tzIHRoZSByZWxhdGl2ZSBwb3NpdGlvbiBhbmQgcm90YXRpb24gYmV0d2VlbiBib2R5QSBhbmQgYm9keUJcbiAqICAgICB2YXIgY29uc3RyYWludCA9IG5ldyBMb2NrQ29uc3RyYWludChib2R5QSwgYm9keUIpO1xuICogICAgIHdvcmxkLmFkZENvbnN0cmFpbnQoY29uc3RyYWludCk7XG4gKi9cbmZ1bmN0aW9uIExvY2tDb25zdHJhaW50KGJvZHlBLCBib2R5Qiwgb3B0aW9ucyl7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICBDb25zdHJhaW50LmNhbGwodGhpcyxib2R5QSxib2R5QixDb25zdHJhaW50LkxPQ0ssb3B0aW9ucyk7XG5cbiAgICB2YXIgbWF4Rm9yY2UgPSAoIHR5cGVvZihvcHRpb25zLm1heEZvcmNlKT09PVwidW5kZWZpbmVkXCIgPyBOdW1iZXIuTUFYX1ZBTFVFIDogb3B0aW9ucy5tYXhGb3JjZSApO1xuXG4gICAgdmFyIGxvY2FsQW5nbGVCID0gb3B0aW9ucy5sb2NhbEFuZ2xlQiB8fCAwO1xuXG4gICAgLy8gVXNlIDMgZXF1YXRpb25zOlxuICAgIC8vIGd4ID0gICAoeGogLSB4aSAtIGwpICogeGhhdCA9IDBcbiAgICAvLyBneSA9ICAgKHhqIC0geGkgLSBsKSAqIHloYXQgPSAwXG4gICAgLy8gZ3IgPSAgICh4aSAtIHhqICsgcikgKiB0aGF0ID0gMFxuICAgIC8vXG4gICAgLy8gLi4ud2hlcmU6XG4gICAgLy8gICBsIGlzIHRoZSBsb2NhbE9mZnNldEIgdmVjdG9yIHJvdGF0ZWQgdG8gd29ybGQgaW4gYm9keUEgZnJhbWVcbiAgICAvLyAgIHIgaXMgdGhlIHNhbWUgdmVjdG9yIGJ1dCByZXZlcnNlZCBhbmQgcm90YXRlZCBmcm9tIGJvZHlCIGZyYW1lXG4gICAgLy8gICB4aGF0LCB5aGF0IGFyZSB3b3JsZCBheGlzIHZlY3RvcnNcbiAgICAvLyAgIHRoYXQgaXMgdGhlIHRhbmdlbnQgb2YgclxuICAgIC8vXG4gICAgLy8gRm9yIHRoZSBmaXJzdCB0d28gY29uc3RyYWludHMsIHdlIGdldFxuICAgIC8vIEcqVyA9ICh2aiAtIHZpIC0gbGRvdCAgKSAqIHhoYXRcbiAgICAvLyAgICAgPSAodmogLSB2aSAtIHdpIHggbCkgKiB4aGF0XG4gICAgLy9cbiAgICAvLyBTaW5jZSAod2kgeCBsKSAqIHhoYXQgPSAobCB4IHhoYXQpICogd2ksIHdlIGdldFxuICAgIC8vIEcqVyA9IFsgLTEgICAwICAgKC1sIHggeGhhdCkgIDEgICAwICAgMF0gKiBbdmkgd2kgdmogd2pdXG4gICAgLy9cbiAgICAvLyBUaGUgbGFzdCBjb25zdHJhaW50IGdpdmVzXG4gICAgLy8gR1cgPSAodmkgLSB2aiArIHdqIHggcikgKiB0aGF0XG4gICAgLy8gICAgPSBbICB0aGF0ICAgMCAgLXRoYXQgIChyIHggdCkgXVxuXG4gICAgdmFyIHggPSAgICAgbmV3IEVxdWF0aW9uKGJvZHlBLGJvZHlCLC1tYXhGb3JjZSxtYXhGb3JjZSksXG4gICAgICAgIHkgPSAgICAgbmV3IEVxdWF0aW9uKGJvZHlBLGJvZHlCLC1tYXhGb3JjZSxtYXhGb3JjZSksXG4gICAgICAgIHJvdCA9ICAgbmV3IEVxdWF0aW9uKGJvZHlBLGJvZHlCLC1tYXhGb3JjZSxtYXhGb3JjZSk7XG5cbiAgICB2YXIgbCA9IHZlYzIuY3JlYXRlKCksXG4gICAgICAgIGcgPSB2ZWMyLmNyZWF0ZSgpLFxuICAgICAgICB0aGF0ID0gdGhpcztcbiAgICB4LmNvbXB1dGVHcSA9IGZ1bmN0aW9uKCl7XG4gICAgICAgIHZlYzIucm90YXRlKGwsIHRoYXQubG9jYWxPZmZzZXRCLCBib2R5QS5hbmdsZSk7XG4gICAgICAgIHZlYzIuc3ViKGcsIGJvZHlCLnBvc2l0aW9uLCBib2R5QS5wb3NpdGlvbik7XG4gICAgICAgIHZlYzIuc3ViKGcsIGcsIGwpO1xuICAgICAgICByZXR1cm4gZ1swXTtcbiAgICB9O1xuICAgIHkuY29tcHV0ZUdxID0gZnVuY3Rpb24oKXtcbiAgICAgICAgdmVjMi5yb3RhdGUobCwgdGhhdC5sb2NhbE9mZnNldEIsIGJvZHlBLmFuZ2xlKTtcbiAgICAgICAgdmVjMi5zdWIoZywgYm9keUIucG9zaXRpb24sIGJvZHlBLnBvc2l0aW9uKTtcbiAgICAgICAgdmVjMi5zdWIoZywgZywgbCk7XG4gICAgICAgIHJldHVybiBnWzFdO1xuICAgIH07XG4gICAgdmFyIHIgPSB2ZWMyLmNyZWF0ZSgpLFxuICAgICAgICB0ID0gdmVjMi5jcmVhdGUoKTtcbiAgICByb3QuY29tcHV0ZUdxID0gZnVuY3Rpb24oKXtcbiAgICAgICAgdmVjMi5yb3RhdGUociwgdGhhdC5sb2NhbE9mZnNldEIsIGJvZHlCLmFuZ2xlIC0gdGhhdC5sb2NhbEFuZ2xlQik7XG4gICAgICAgIHZlYzIuc2NhbGUocixyLC0xKTtcbiAgICAgICAgdmVjMi5zdWIoZyxib2R5QS5wb3NpdGlvbixib2R5Qi5wb3NpdGlvbik7XG4gICAgICAgIHZlYzIuYWRkKGcsZyxyKTtcbiAgICAgICAgdmVjMi5yb3RhdGUodCxyLC1NYXRoLlBJLzIpO1xuICAgICAgICB2ZWMyLm5vcm1hbGl6ZSh0LHQpO1xuICAgICAgICByZXR1cm4gdmVjMi5kb3QoZyx0KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIG9mZnNldCBvZiBib2R5QiBpbiBib2R5QSdzIGZyYW1lLlxuICAgICAqIEBwcm9wZXJ0eSB7QXJyYXl9IGxvY2FsT2Zmc2V0QlxuICAgICAqL1xuICAgIHRoaXMubG9jYWxPZmZzZXRCID0gdmVjMi5jcmVhdGUoKTtcbiAgICBpZihvcHRpb25zLmxvY2FsT2Zmc2V0Qil7XG4gICAgICAgIHZlYzIuY29weSh0aGlzLmxvY2FsT2Zmc2V0Qiwgb3B0aW9ucy5sb2NhbE9mZnNldEIpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIENvbnN0cnVjdCBmcm9tIGN1cnJlbnQgcG9zaXRpb25zXG4gICAgICAgIHZlYzIuc3ViKHRoaXMubG9jYWxPZmZzZXRCLCBib2R5Qi5wb3NpdGlvbiwgYm9keUEucG9zaXRpb24pO1xuICAgICAgICB2ZWMyLnJvdGF0ZSh0aGlzLmxvY2FsT2Zmc2V0QiwgdGhpcy5sb2NhbE9mZnNldEIsIC1ib2R5QS5hbmdsZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIG9mZnNldCBhbmdsZSBvZiBib2R5QiBpbiBib2R5QSdzIGZyYW1lLlxuICAgICAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBsb2NhbEFuZ2xlQlxuICAgICAqL1xuICAgIHRoaXMubG9jYWxBbmdsZUIgPSAwO1xuICAgIGlmKHR5cGVvZihvcHRpb25zLmxvY2FsQW5nbGVCKSA9PT0gJ251bWJlcicpe1xuICAgICAgICB0aGlzLmxvY2FsQW5nbGVCID0gb3B0aW9ucy5sb2NhbEFuZ2xlQjtcbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyBDb25zdHJ1Y3RcbiAgICAgICAgdGhpcy5sb2NhbEFuZ2xlQiA9IGJvZHlCLmFuZ2xlIC0gYm9keUEuYW5nbGU7XG4gICAgfVxuXG4gICAgdGhpcy5lcXVhdGlvbnMucHVzaCh4LCB5LCByb3QpO1xuICAgIHRoaXMuc2V0TWF4Rm9yY2UobWF4Rm9yY2UpO1xufVxuTG9ja0NvbnN0cmFpbnQucHJvdG90eXBlID0gbmV3IENvbnN0cmFpbnQoKTtcbkxvY2tDb25zdHJhaW50LnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IExvY2tDb25zdHJhaW50O1xuXG4vKipcbiAqIFNldCB0aGUgbWF4aW11bSBmb3JjZSB0byBiZSBhcHBsaWVkLlxuICogQG1ldGhvZCBzZXRNYXhGb3JjZVxuICogQHBhcmFtIHtOdW1iZXJ9IGZvcmNlXG4gKi9cbkxvY2tDb25zdHJhaW50LnByb3RvdHlwZS5zZXRNYXhGb3JjZSA9IGZ1bmN0aW9uKGZvcmNlKXtcbiAgICB2YXIgZXFzID0gdGhpcy5lcXVhdGlvbnM7XG4gICAgZm9yKHZhciBpPTA7IGk8dGhpcy5lcXVhdGlvbnMubGVuZ3RoOyBpKyspe1xuICAgICAgICBlcXNbaV0ubWF4Rm9yY2UgPSAgZm9yY2U7XG4gICAgICAgIGVxc1tpXS5taW5Gb3JjZSA9IC1mb3JjZTtcbiAgICB9XG59O1xuXG4vKipcbiAqIEdldCB0aGUgbWF4IGZvcmNlLlxuICogQG1ldGhvZCBnZXRNYXhGb3JjZVxuICogQHJldHVybiB7TnVtYmVyfVxuICovXG5Mb2NrQ29uc3RyYWludC5wcm90b3R5cGUuZ2V0TWF4Rm9yY2UgPSBmdW5jdGlvbigpe1xuICAgIHJldHVybiB0aGlzLmVxdWF0aW9uc1swXS5tYXhGb3JjZTtcbn07XG5cbnZhciBsID0gdmVjMi5jcmVhdGUoKTtcbnZhciByID0gdmVjMi5jcmVhdGUoKTtcbnZhciB0ID0gdmVjMi5jcmVhdGUoKTtcbnZhciB4QXhpcyA9IHZlYzIuZnJvbVZhbHVlcygxLDApO1xudmFyIHlBeGlzID0gdmVjMi5mcm9tVmFsdWVzKDAsMSk7XG5Mb2NrQ29uc3RyYWludC5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24oKXtcbiAgICB2YXIgeCA9ICAgdGhpcy5lcXVhdGlvbnNbMF0sXG4gICAgICAgIHkgPSAgIHRoaXMuZXF1YXRpb25zWzFdLFxuICAgICAgICByb3QgPSB0aGlzLmVxdWF0aW9uc1syXSxcbiAgICAgICAgYm9keUEgPSB0aGlzLmJvZHlBLFxuICAgICAgICBib2R5QiA9IHRoaXMuYm9keUI7XG5cbiAgICB2ZWMyLnJvdGF0ZShsLHRoaXMubG9jYWxPZmZzZXRCLGJvZHlBLmFuZ2xlKTtcbiAgICB2ZWMyLnJvdGF0ZShyLHRoaXMubG9jYWxPZmZzZXRCLGJvZHlCLmFuZ2xlIC0gdGhpcy5sb2NhbEFuZ2xlQik7XG4gICAgdmVjMi5zY2FsZShyLHIsLTEpO1xuXG4gICAgdmVjMi5yb3RhdGUodCxyLE1hdGguUEkvMik7XG4gICAgdmVjMi5ub3JtYWxpemUodCx0KTtcblxuICAgIHguR1swXSA9IC0xO1xuICAgIHguR1sxXSA9ICAwO1xuICAgIHguR1syXSA9IC12ZWMyLmNyb3NzTGVuZ3RoKGwseEF4aXMpO1xuICAgIHguR1szXSA9ICAxO1xuXG4gICAgeS5HWzBdID0gIDA7XG4gICAgeS5HWzFdID0gLTE7XG4gICAgeS5HWzJdID0gLXZlYzIuY3Jvc3NMZW5ndGgobCx5QXhpcyk7XG4gICAgeS5HWzRdID0gIDE7XG5cbiAgICByb3QuR1swXSA9ICAtdFswXTtcbiAgICByb3QuR1sxXSA9ICAtdFsxXTtcbiAgICByb3QuR1szXSA9ICB0WzBdO1xuICAgIHJvdC5HWzRdID0gIHRbMV07XG4gICAgcm90LkdbNV0gPSAgdmVjMi5jcm9zc0xlbmd0aChyLHQpO1xufTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3AyL3NyYy9jb25zdHJhaW50cy9Mb2NrQ29uc3RyYWludC5qc1xuICoqIG1vZHVsZSBpZCA9IDQ2XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgQ29uc3RyYWludCA9IHJlcXVpcmUoJy4vQ29uc3RyYWludCcpXG4sICAgQ29udGFjdEVxdWF0aW9uID0gcmVxdWlyZSgnLi4vZXF1YXRpb25zL0NvbnRhY3RFcXVhdGlvbicpXG4sICAgRXF1YXRpb24gPSByZXF1aXJlKCcuLi9lcXVhdGlvbnMvRXF1YXRpb24nKVxuLCAgIHZlYzIgPSByZXF1aXJlKCcuLi9tYXRoL3ZlYzInKVxuLCAgIFJvdGF0aW9uYWxMb2NrRXF1YXRpb24gPSByZXF1aXJlKCcuLi9lcXVhdGlvbnMvUm90YXRpb25hbExvY2tFcXVhdGlvbicpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFByaXNtYXRpY0NvbnN0cmFpbnQ7XG5cbi8qKlxuICogQ29uc3RyYWludCB0aGF0IG9ubHkgYWxsb3dzIGJvZGllcyB0byBtb3ZlIGFsb25nIGEgbGluZSwgcmVsYXRpdmUgdG8gZWFjaCBvdGhlci4gU2VlIDxhIGhyZWY9XCJodHRwOi8vd3d3Lmlmb3JjZTJkLm5ldC9iMmR0dXQvam9pbnRzLXByaXNtYXRpY1wiPnRoaXMgdHV0b3JpYWw8L2E+LiBBbHNvIGNhbGxlZCBcInNsaWRlciBjb25zdHJhaW50XCIuXG4gKlxuICogQGNsYXNzIFByaXNtYXRpY0NvbnN0cmFpbnRcbiAqIEBjb25zdHJ1Y3RvclxuICogQGV4dGVuZHMgQ29uc3RyYWludFxuICogQGF1dGhvciBzY2h0ZXBwZVxuICogQHBhcmFtIHtCb2R5fSAgICBib2R5QVxuICogQHBhcmFtIHtCb2R5fSAgICBib2R5QlxuICogQHBhcmFtIHtPYmplY3R9ICBbb3B0aW9uc11cbiAqIEBwYXJhbSB7TnVtYmVyfSAgW29wdGlvbnMubWF4Rm9yY2VdICAgICAgICAgICAgICAgIE1heCBmb3JjZSB0byBiZSBhcHBsaWVkIGJ5IHRoZSBjb25zdHJhaW50XG4gKiBAcGFyYW0ge0FycmF5fSAgIFtvcHRpb25zLmxvY2FsQW5jaG9yQV0gICAgICAgICAgICBCb2R5IEEncyBhbmNob3IgcG9pbnQsIGRlZmluZWQgaW4gaXRzIG93biBsb2NhbCBmcmFtZS5cbiAqIEBwYXJhbSB7QXJyYXl9ICAgW29wdGlvbnMubG9jYWxBbmNob3JCXSAgICAgICAgICAgIEJvZHkgQidzIGFuY2hvciBwb2ludCwgZGVmaW5lZCBpbiBpdHMgb3duIGxvY2FsIGZyYW1lLlxuICogQHBhcmFtIHtBcnJheX0gICBbb3B0aW9ucy5sb2NhbEF4aXNBXSAgICAgICAgICAgICAgQW4gYXhpcywgZGVmaW5lZCBpbiBib2R5IEEgZnJhbWUsIHRoYXQgYm9keSBCJ3MgYW5jaG9yIHBvaW50IG1heSBzbGlkZSBhbG9uZy5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuZGlzYWJsZVJvdGF0aW9uYWxMb2NrXSAgIElmIHNldCB0byB0cnVlLCBib2R5QiB3aWxsIGJlIGZyZWUgdG8gcm90YXRlIGFyb3VuZCBpdHMgYW5jaG9yIHBvaW50LlxuICogQHBhcmFtIHtOdW1iZXJ9ICBbb3B0aW9ucy51cHBlckxpbWl0XVxuICogQHBhcmFtIHtOdW1iZXJ9ICBbb3B0aW9ucy5sb3dlckxpbWl0XVxuICogQHRvZG8gQWJpbGl0eSB0byBjcmVhdGUgdXNpbmcgb25seSBhIHBvaW50IGFuZCBhIHdvcmxkQXhpc1xuICovXG5mdW5jdGlvbiBQcmlzbWF0aWNDb25zdHJhaW50KGJvZHlBLCBib2R5Qiwgb3B0aW9ucyl7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgQ29uc3RyYWludC5jYWxsKHRoaXMsYm9keUEsYm9keUIsQ29uc3RyYWludC5QUklTTUFUSUMsb3B0aW9ucyk7XG5cbiAgICAvLyBHZXQgYW5jaG9yc1xuICAgIHZhciBsb2NhbEFuY2hvckEgPSB2ZWMyLmZyb21WYWx1ZXMoMCwwKSxcbiAgICAgICAgbG9jYWxBeGlzQSA9IHZlYzIuZnJvbVZhbHVlcygxLDApLFxuICAgICAgICBsb2NhbEFuY2hvckIgPSB2ZWMyLmZyb21WYWx1ZXMoMCwwKTtcbiAgICBpZihvcHRpb25zLmxvY2FsQW5jaG9yQSl7IHZlYzIuY29weShsb2NhbEFuY2hvckEsIG9wdGlvbnMubG9jYWxBbmNob3JBKTsgfVxuICAgIGlmKG9wdGlvbnMubG9jYWxBeGlzQSl7IHZlYzIuY29weShsb2NhbEF4aXNBLCAgIG9wdGlvbnMubG9jYWxBeGlzQSk7IH1cbiAgICBpZihvcHRpb25zLmxvY2FsQW5jaG9yQil7IHZlYzIuY29weShsb2NhbEFuY2hvckIsIG9wdGlvbnMubG9jYWxBbmNob3JCKTsgfVxuXG4gICAgLyoqXG4gICAgICogQHByb3BlcnR5IGxvY2FsQW5jaG9yQVxuICAgICAqIEB0eXBlIHtBcnJheX1cbiAgICAgKi9cbiAgICB0aGlzLmxvY2FsQW5jaG9yQSA9IGxvY2FsQW5jaG9yQTtcblxuICAgIC8qKlxuICAgICAqIEBwcm9wZXJ0eSBsb2NhbEFuY2hvckJcbiAgICAgKiBAdHlwZSB7QXJyYXl9XG4gICAgICovXG4gICAgdGhpcy5sb2NhbEFuY2hvckIgPSBsb2NhbEFuY2hvckI7XG5cbiAgICAvKipcbiAgICAgKiBAcHJvcGVydHkgbG9jYWxBeGlzQVxuICAgICAqIEB0eXBlIHtBcnJheX1cbiAgICAgKi9cbiAgICB0aGlzLmxvY2FsQXhpc0EgPSBsb2NhbEF4aXNBO1xuXG4gICAgLypcblxuICAgIFRoZSBjb25zdHJhaW50IHZpb2xhdGlvbiBmb3IgdGhlIGNvbW1vbiBheGlzIHBvaW50IGlzXG5cbiAgICAgICAgZyA9ICggeGogKyByaiAtIHhpIC0gcmkgKSAqIHQgICA6PSAgZ2cqdFxuXG4gICAgd2hlcmUgciBhcmUgYm9keS1sb2NhbCBhbmNob3IgcG9pbnRzLCBhbmQgdCBpcyBhIHRhbmdlbnQgdG8gdGhlIGNvbnN0cmFpbnQgYXhpcyBkZWZpbmVkIGluIGJvZHkgaSBmcmFtZS5cblxuICAgICAgICBnZG90ID0gICggdmogKyB3aiB4IHJqIC0gdmkgLSB3aSB4IHJpICkgKiB0ICsgKCB4aiArIHJqIC0geGkgLSByaSApICogKCB3aSB4IHQgKVxuXG4gICAgTm90ZSB0aGUgdXNlIG9mIHRoZSBjaGFpbiBydWxlLiBOb3cgd2UgaWRlbnRpZnkgdGhlIGphY29iaWFuXG5cbiAgICAgICAgRypXID0gWyAtdCAgICAgIC1yaSB4IHQgKyB0IHggZ2cgICAgIHQgICAgcmogeCB0IF0gKiBbdmkgd2kgdmogd2pdXG5cbiAgICBUaGUgcm90YXRpb25hbCBwYXJ0IGlzIGp1c3QgYSByb3RhdGlvbiBsb2NrLlxuXG4gICAgICovXG5cbiAgICB2YXIgbWF4Rm9yY2UgPSB0aGlzLm1heEZvcmNlID0gdHlwZW9mKG9wdGlvbnMubWF4Rm9yY2UpIT09XCJ1bmRlZmluZWRcIiA/IG9wdGlvbnMubWF4Rm9yY2UgOiBOdW1iZXIuTUFYX1ZBTFVFO1xuXG4gICAgLy8gVHJhbnNsYXRpb25hbCBwYXJ0XG4gICAgdmFyIHRyYW5zID0gbmV3IEVxdWF0aW9uKGJvZHlBLGJvZHlCLC1tYXhGb3JjZSxtYXhGb3JjZSk7XG4gICAgdmFyIHJpID0gbmV3IHZlYzIuY3JlYXRlKCksXG4gICAgICAgIHJqID0gbmV3IHZlYzIuY3JlYXRlKCksXG4gICAgICAgIGdnID0gbmV3IHZlYzIuY3JlYXRlKCksXG4gICAgICAgIHQgPSAgbmV3IHZlYzIuY3JlYXRlKCk7XG4gICAgdHJhbnMuY29tcHV0ZUdxID0gZnVuY3Rpb24oKXtcbiAgICAgICAgLy8gZyA9ICggeGogKyByaiAtIHhpIC0gcmkgKSAqIHRcbiAgICAgICAgcmV0dXJuIHZlYzIuZG90KGdnLHQpO1xuICAgIH07XG4gICAgdHJhbnMudXBkYXRlSmFjb2JpYW4gPSBmdW5jdGlvbigpe1xuICAgICAgICB2YXIgRyA9IHRoaXMuRyxcbiAgICAgICAgICAgIHhpID0gYm9keUEucG9zaXRpb24sXG4gICAgICAgICAgICB4aiA9IGJvZHlCLnBvc2l0aW9uO1xuICAgICAgICB2ZWMyLnJvdGF0ZShyaSxsb2NhbEFuY2hvckEsYm9keUEuYW5nbGUpO1xuICAgICAgICB2ZWMyLnJvdGF0ZShyaixsb2NhbEFuY2hvckIsYm9keUIuYW5nbGUpO1xuICAgICAgICB2ZWMyLmFkZChnZyx4aixyaik7XG4gICAgICAgIHZlYzIuc3ViKGdnLGdnLHhpKTtcbiAgICAgICAgdmVjMi5zdWIoZ2csZ2cscmkpO1xuICAgICAgICB2ZWMyLnJvdGF0ZSh0LGxvY2FsQXhpc0EsYm9keUEuYW5nbGUrTWF0aC5QSS8yKTtcblxuICAgICAgICBHWzBdID0gLXRbMF07XG4gICAgICAgIEdbMV0gPSAtdFsxXTtcbiAgICAgICAgR1syXSA9IC12ZWMyLmNyb3NzTGVuZ3RoKHJpLHQpICsgdmVjMi5jcm9zc0xlbmd0aCh0LGdnKTtcbiAgICAgICAgR1szXSA9IHRbMF07XG4gICAgICAgIEdbNF0gPSB0WzFdO1xuICAgICAgICBHWzVdID0gdmVjMi5jcm9zc0xlbmd0aChyaix0KTtcbiAgICB9O1xuICAgIHRoaXMuZXF1YXRpb25zLnB1c2godHJhbnMpO1xuXG4gICAgLy8gUm90YXRpb25hbCBwYXJ0XG4gICAgaWYoIW9wdGlvbnMuZGlzYWJsZVJvdGF0aW9uYWxMb2NrKXtcbiAgICAgICAgdmFyIHJvdCA9IG5ldyBSb3RhdGlvbmFsTG9ja0VxdWF0aW9uKGJvZHlBLGJvZHlCLC1tYXhGb3JjZSxtYXhGb3JjZSk7XG4gICAgICAgIHRoaXMuZXF1YXRpb25zLnB1c2gocm90KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgcG9zaXRpb24gb2YgYW5jaG9yIEEgcmVsYXRpdmUgdG8gYW5jaG9yIEIsIGFsb25nIHRoZSBjb25zdHJhaW50IGF4aXMuXG4gICAgICogQHByb3BlcnR5IHBvc2l0aW9uXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnBvc2l0aW9uID0gMDtcblxuICAgIC8vIElzIHRoaXMgb25lIHVzZWQgYXQgYWxsP1xuICAgIHRoaXMudmVsb2NpdHkgPSAwO1xuXG4gICAgLyoqXG4gICAgICogU2V0IHRvIHRydWUgdG8gZW5hYmxlIGxvd2VyIGxpbWl0LlxuICAgICAqIEBwcm9wZXJ0eSBsb3dlckxpbWl0RW5hYmxlZFxuICAgICAqIEB0eXBlIHtCb29sZWFufVxuICAgICAqL1xuICAgIHRoaXMubG93ZXJMaW1pdEVuYWJsZWQgPSB0eXBlb2Yob3B0aW9ucy5sb3dlckxpbWl0KSE9PVwidW5kZWZpbmVkXCIgPyB0cnVlIDogZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBTZXQgdG8gdHJ1ZSB0byBlbmFibGUgdXBwZXIgbGltaXQuXG4gICAgICogQHByb3BlcnR5IHVwcGVyTGltaXRFbmFibGVkXG4gICAgICogQHR5cGUge0Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy51cHBlckxpbWl0RW5hYmxlZCA9IHR5cGVvZihvcHRpb25zLnVwcGVyTGltaXQpIT09XCJ1bmRlZmluZWRcIiA/IHRydWUgOiBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIExvd2VyIGNvbnN0cmFpbnQgbGltaXQuIFRoZSBjb25zdHJhaW50IHBvc2l0aW9uIGlzIGZvcmNlZCB0byBiZSBsYXJnZXIgdGhhbiB0aGlzIHZhbHVlLlxuICAgICAqIEBwcm9wZXJ0eSBsb3dlckxpbWl0XG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmxvd2VyTGltaXQgPSB0eXBlb2Yob3B0aW9ucy5sb3dlckxpbWl0KSE9PVwidW5kZWZpbmVkXCIgPyBvcHRpb25zLmxvd2VyTGltaXQgOiAwO1xuXG4gICAgLyoqXG4gICAgICogVXBwZXIgY29uc3RyYWludCBsaW1pdC4gVGhlIGNvbnN0cmFpbnQgcG9zaXRpb24gaXMgZm9yY2VkIHRvIGJlIHNtYWxsZXIgdGhhbiB0aGlzIHZhbHVlLlxuICAgICAqIEBwcm9wZXJ0eSB1cHBlckxpbWl0XG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnVwcGVyTGltaXQgPSB0eXBlb2Yob3B0aW9ucy51cHBlckxpbWl0KSE9PVwidW5kZWZpbmVkXCIgPyBvcHRpb25zLnVwcGVyTGltaXQgOiAxO1xuXG4gICAgLy8gRXF1YXRpb25zIHVzZWQgZm9yIGxpbWl0c1xuICAgIHRoaXMudXBwZXJMaW1pdEVxdWF0aW9uID0gbmV3IENvbnRhY3RFcXVhdGlvbihib2R5QSxib2R5Qik7XG4gICAgdGhpcy5sb3dlckxpbWl0RXF1YXRpb24gPSBuZXcgQ29udGFjdEVxdWF0aW9uKGJvZHlBLGJvZHlCKTtcblxuICAgIC8vIFNldCBtYXgvbWluIGZvcmNlc1xuICAgIHRoaXMudXBwZXJMaW1pdEVxdWF0aW9uLm1pbkZvcmNlID0gdGhpcy5sb3dlckxpbWl0RXF1YXRpb24ubWluRm9yY2UgPSAwO1xuICAgIHRoaXMudXBwZXJMaW1pdEVxdWF0aW9uLm1heEZvcmNlID0gdGhpcy5sb3dlckxpbWl0RXF1YXRpb24ubWF4Rm9yY2UgPSBtYXhGb3JjZTtcblxuICAgIC8qKlxuICAgICAqIEVxdWF0aW9uIHVzZWQgZm9yIHRoZSBtb3Rvci5cbiAgICAgKiBAcHJvcGVydHkgbW90b3JFcXVhdGlvblxuICAgICAqIEB0eXBlIHtFcXVhdGlvbn1cbiAgICAgKi9cbiAgICB0aGlzLm1vdG9yRXF1YXRpb24gPSBuZXcgRXF1YXRpb24oYm9keUEsYm9keUIpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGN1cnJlbnQgbW90b3Igc3RhdGUuIEVuYWJsZSBvciBkaXNhYmxlIHRoZSBtb3RvciB1c2luZyAuZW5hYmxlTW90b3JcbiAgICAgKiBAcHJvcGVydHkgbW90b3JFbmFibGVkXG4gICAgICogQHR5cGUge0Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5tb3RvckVuYWJsZWQgPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgdGFyZ2V0IHNwZWVkIGZvciB0aGUgbW90b3IuXG4gICAgICogQHByb3BlcnR5IG1vdG9yU3BlZWRcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMubW90b3JTcGVlZCA9IDA7XG5cbiAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgdmFyIG1vdG9yRXF1YXRpb24gPSB0aGlzLm1vdG9yRXF1YXRpb247XG4gICAgdmFyIG9sZCA9IG1vdG9yRXF1YXRpb24uY29tcHV0ZUdXO1xuICAgIG1vdG9yRXF1YXRpb24uY29tcHV0ZUdxID0gZnVuY3Rpb24oKXsgcmV0dXJuIDA7IH07XG4gICAgbW90b3JFcXVhdGlvbi5jb21wdXRlR1cgPSBmdW5jdGlvbigpe1xuICAgICAgICB2YXIgRyA9IHRoaXMuRyxcbiAgICAgICAgICAgIGJpID0gdGhpcy5ib2R5QSxcbiAgICAgICAgICAgIGJqID0gdGhpcy5ib2R5QixcbiAgICAgICAgICAgIHZpID0gYmkudmVsb2NpdHksXG4gICAgICAgICAgICB2aiA9IGJqLnZlbG9jaXR5LFxuICAgICAgICAgICAgd2kgPSBiaS5hbmd1bGFyVmVsb2NpdHksXG4gICAgICAgICAgICB3aiA9IGJqLmFuZ3VsYXJWZWxvY2l0eTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ211bHQoRyx2aSx3aSx2aix3aikgKyB0aGF0Lm1vdG9yU3BlZWQ7XG4gICAgfTtcbn1cblxuUHJpc21hdGljQ29uc3RyYWludC5wcm90b3R5cGUgPSBuZXcgQ29uc3RyYWludCgpO1xuUHJpc21hdGljQ29uc3RyYWludC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBQcmlzbWF0aWNDb25zdHJhaW50O1xuXG52YXIgd29ybGRBeGlzQSA9IHZlYzIuY3JlYXRlKCksXG4gICAgd29ybGRBbmNob3JBID0gdmVjMi5jcmVhdGUoKSxcbiAgICB3b3JsZEFuY2hvckIgPSB2ZWMyLmNyZWF0ZSgpLFxuICAgIG9yaWVudGVkQW5jaG9yQSA9IHZlYzIuY3JlYXRlKCksXG4gICAgb3JpZW50ZWRBbmNob3JCID0gdmVjMi5jcmVhdGUoKSxcbiAgICB0bXAgPSB2ZWMyLmNyZWF0ZSgpO1xuXG4vKipcbiAqIFVwZGF0ZSB0aGUgY29uc3RyYWludCBlcXVhdGlvbnMuIFNob3VsZCBiZSBkb25lIGlmIGFueSBvZiB0aGUgYm9kaWVzIGNoYW5nZWQgcG9zaXRpb24sIGJlZm9yZSBzb2x2aW5nLlxuICogQG1ldGhvZCB1cGRhdGVcbiAqL1xuUHJpc21hdGljQ29uc3RyYWludC5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24oKXtcbiAgICB2YXIgZXFzID0gdGhpcy5lcXVhdGlvbnMsXG4gICAgICAgIHRyYW5zID0gZXFzWzBdLFxuICAgICAgICB1cHBlckxpbWl0ID0gdGhpcy51cHBlckxpbWl0LFxuICAgICAgICBsb3dlckxpbWl0ID0gdGhpcy5sb3dlckxpbWl0LFxuICAgICAgICB1cHBlckxpbWl0RXF1YXRpb24gPSB0aGlzLnVwcGVyTGltaXRFcXVhdGlvbixcbiAgICAgICAgbG93ZXJMaW1pdEVxdWF0aW9uID0gdGhpcy5sb3dlckxpbWl0RXF1YXRpb24sXG4gICAgICAgIGJvZHlBID0gdGhpcy5ib2R5QSxcbiAgICAgICAgYm9keUIgPSB0aGlzLmJvZHlCLFxuICAgICAgICBsb2NhbEF4aXNBID0gdGhpcy5sb2NhbEF4aXNBLFxuICAgICAgICBsb2NhbEFuY2hvckEgPSB0aGlzLmxvY2FsQW5jaG9yQSxcbiAgICAgICAgbG9jYWxBbmNob3JCID0gdGhpcy5sb2NhbEFuY2hvckI7XG5cbiAgICB0cmFucy51cGRhdGVKYWNvYmlhbigpO1xuXG4gICAgLy8gVHJhbnNmb3JtIGxvY2FsIHRoaW5ncyB0byB3b3JsZFxuICAgIHZlYzIucm90YXRlKHdvcmxkQXhpc0EsICAgICAgbG9jYWxBeGlzQSwgICAgICBib2R5QS5hbmdsZSk7XG4gICAgdmVjMi5yb3RhdGUob3JpZW50ZWRBbmNob3JBLCBsb2NhbEFuY2hvckEsICAgIGJvZHlBLmFuZ2xlKTtcbiAgICB2ZWMyLmFkZCh3b3JsZEFuY2hvckEsICAgICAgIG9yaWVudGVkQW5jaG9yQSwgYm9keUEucG9zaXRpb24pO1xuICAgIHZlYzIucm90YXRlKG9yaWVudGVkQW5jaG9yQiwgbG9jYWxBbmNob3JCLCAgICBib2R5Qi5hbmdsZSk7XG4gICAgdmVjMi5hZGQod29ybGRBbmNob3JCLCAgICAgICBvcmllbnRlZEFuY2hvckIsIGJvZHlCLnBvc2l0aW9uKTtcblxuICAgIHZhciByZWxQb3NpdGlvbiA9IHRoaXMucG9zaXRpb24gPSB2ZWMyLmRvdCh3b3JsZEFuY2hvckIsd29ybGRBeGlzQSkgLSB2ZWMyLmRvdCh3b3JsZEFuY2hvckEsd29ybGRBeGlzQSk7XG5cbiAgICAvLyBNb3RvclxuICAgIGlmKHRoaXMubW90b3JFbmFibGVkKXtcbiAgICAgICAgLy8gRyA9IFsgYSAgICAgYSB4IHJpICAgLWEgICAtYSB4IHJqIF1cbiAgICAgICAgdmFyIEcgPSB0aGlzLm1vdG9yRXF1YXRpb24uRztcbiAgICAgICAgR1swXSA9IHdvcmxkQXhpc0FbMF07XG4gICAgICAgIEdbMV0gPSB3b3JsZEF4aXNBWzFdO1xuICAgICAgICBHWzJdID0gdmVjMi5jcm9zc0xlbmd0aCh3b3JsZEF4aXNBLG9yaWVudGVkQW5jaG9yQik7XG4gICAgICAgIEdbM10gPSAtd29ybGRBeGlzQVswXTtcbiAgICAgICAgR1s0XSA9IC13b3JsZEF4aXNBWzFdO1xuICAgICAgICBHWzVdID0gLXZlYzIuY3Jvc3NMZW5ndGgod29ybGRBeGlzQSxvcmllbnRlZEFuY2hvckEpO1xuICAgIH1cblxuICAgIC8qXG4gICAgICAgIExpbWl0cyBzdHJhdGVneTpcbiAgICAgICAgQWRkIGNvbnRhY3QgZXF1YXRpb24sIHdpdGggbm9ybWFsIGFsb25nIHRoZSBjb25zdHJhaW50IGF4aXMuXG4gICAgICAgIG1pbi9tYXhGb3JjZSBpcyBzZXQgc28gdGhlIGNvbnN0cmFpbnQgaXMgcmVwdWxzaXZlIGluIHRoZSBjb3JyZWN0IGRpcmVjdGlvbi5cbiAgICAgICAgU29tZSBvZmZzZXQgaXMgYWRkZWQgdG8gZWl0aGVyIGVxdWF0aW9uLmNvbnRhY3RQb2ludEEgb3IgLmNvbnRhY3RQb2ludEIgdG8gZ2V0IHRoZSBjb3JyZWN0IHVwcGVyL2xvd2VyIGxpbWl0LlxuXG4gICAgICAgICAgICAgICAgIF5cbiAgICAgICAgICAgICAgICAgfFxuICAgICAgdXBwZXJMaW1pdCB4XG4gICAgICAgICAgICAgICAgIHwgICAgLS0tLS0tXG4gICAgICAgICBhbmNob3JCIHg8LS0tfCAgQiB8XG4gICAgICAgICAgICAgICAgIHwgICAgfCAgICB8XG4gICAgICAgIC0tLS0tLSAgIHwgICAgLS0tLS0tXG4gICAgICAgIHwgICAgfCAgIHxcbiAgICAgICAgfCAgQSB8LS0+eCBhbmNob3JBXG4gICAgICAgIC0tLS0tLSAgIHxcbiAgICAgICAgICAgICAgICAgeCBsb3dlckxpbWl0XG4gICAgICAgICAgICAgICAgIHxcbiAgICAgICAgICAgICAgICBheGlzXG4gICAgICovXG5cblxuICAgIGlmKHRoaXMudXBwZXJMaW1pdEVuYWJsZWQgJiYgcmVsUG9zaXRpb24gPiB1cHBlckxpbWl0KXtcbiAgICAgICAgLy8gVXBkYXRlIGNvbnRhY3QgY29uc3RyYWludCBub3JtYWwsIGV0Y1xuICAgICAgICB2ZWMyLnNjYWxlKHVwcGVyTGltaXRFcXVhdGlvbi5ub3JtYWxBLCB3b3JsZEF4aXNBLCAtMSk7XG4gICAgICAgIHZlYzIuc3ViKHVwcGVyTGltaXRFcXVhdGlvbi5jb250YWN0UG9pbnRBLCB3b3JsZEFuY2hvckEsIGJvZHlBLnBvc2l0aW9uKTtcbiAgICAgICAgdmVjMi5zdWIodXBwZXJMaW1pdEVxdWF0aW9uLmNvbnRhY3RQb2ludEIsIHdvcmxkQW5jaG9yQiwgYm9keUIucG9zaXRpb24pO1xuICAgICAgICB2ZWMyLnNjYWxlKHRtcCx3b3JsZEF4aXNBLHVwcGVyTGltaXQpO1xuICAgICAgICB2ZWMyLmFkZCh1cHBlckxpbWl0RXF1YXRpb24uY29udGFjdFBvaW50QSx1cHBlckxpbWl0RXF1YXRpb24uY29udGFjdFBvaW50QSx0bXApO1xuICAgICAgICBpZihlcXMuaW5kZXhPZih1cHBlckxpbWl0RXF1YXRpb24pID09PSAtMSl7XG4gICAgICAgICAgICBlcXMucHVzaCh1cHBlckxpbWl0RXF1YXRpb24pO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGlkeCA9IGVxcy5pbmRleE9mKHVwcGVyTGltaXRFcXVhdGlvbik7XG4gICAgICAgIGlmKGlkeCAhPT0gLTEpe1xuICAgICAgICAgICAgZXFzLnNwbGljZShpZHgsMSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZih0aGlzLmxvd2VyTGltaXRFbmFibGVkICYmIHJlbFBvc2l0aW9uIDwgbG93ZXJMaW1pdCl7XG4gICAgICAgIC8vIFVwZGF0ZSBjb250YWN0IGNvbnN0cmFpbnQgbm9ybWFsLCBldGNcbiAgICAgICAgdmVjMi5zY2FsZShsb3dlckxpbWl0RXF1YXRpb24ubm9ybWFsQSwgd29ybGRBeGlzQSwgMSk7XG4gICAgICAgIHZlYzIuc3ViKGxvd2VyTGltaXRFcXVhdGlvbi5jb250YWN0UG9pbnRBLCB3b3JsZEFuY2hvckEsIGJvZHlBLnBvc2l0aW9uKTtcbiAgICAgICAgdmVjMi5zdWIobG93ZXJMaW1pdEVxdWF0aW9uLmNvbnRhY3RQb2ludEIsIHdvcmxkQW5jaG9yQiwgYm9keUIucG9zaXRpb24pO1xuICAgICAgICB2ZWMyLnNjYWxlKHRtcCx3b3JsZEF4aXNBLGxvd2VyTGltaXQpO1xuICAgICAgICB2ZWMyLnN1Yihsb3dlckxpbWl0RXF1YXRpb24uY29udGFjdFBvaW50Qixsb3dlckxpbWl0RXF1YXRpb24uY29udGFjdFBvaW50Qix0bXApO1xuICAgICAgICBpZihlcXMuaW5kZXhPZihsb3dlckxpbWl0RXF1YXRpb24pID09PSAtMSl7XG4gICAgICAgICAgICBlcXMucHVzaChsb3dlckxpbWl0RXF1YXRpb24pO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGlkeCA9IGVxcy5pbmRleE9mKGxvd2VyTGltaXRFcXVhdGlvbik7XG4gICAgICAgIGlmKGlkeCAhPT0gLTEpe1xuICAgICAgICAgICAgZXFzLnNwbGljZShpZHgsMSk7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG4vKipcbiAqIEVuYWJsZSB0aGUgbW90b3JcbiAqIEBtZXRob2QgZW5hYmxlTW90b3JcbiAqL1xuUHJpc21hdGljQ29uc3RyYWludC5wcm90b3R5cGUuZW5hYmxlTW90b3IgPSBmdW5jdGlvbigpe1xuICAgIGlmKHRoaXMubW90b3JFbmFibGVkKXtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmVxdWF0aW9ucy5wdXNoKHRoaXMubW90b3JFcXVhdGlvbik7XG4gICAgdGhpcy5tb3RvckVuYWJsZWQgPSB0cnVlO1xufTtcblxuLyoqXG4gKiBEaXNhYmxlIHRoZSByb3RhdGlvbmFsIG1vdG9yXG4gKiBAbWV0aG9kIGRpc2FibGVNb3RvclxuICovXG5QcmlzbWF0aWNDb25zdHJhaW50LnByb3RvdHlwZS5kaXNhYmxlTW90b3IgPSBmdW5jdGlvbigpe1xuICAgIGlmKCF0aGlzLm1vdG9yRW5hYmxlZCl7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGkgPSB0aGlzLmVxdWF0aW9ucy5pbmRleE9mKHRoaXMubW90b3JFcXVhdGlvbik7XG4gICAgdGhpcy5lcXVhdGlvbnMuc3BsaWNlKGksMSk7XG4gICAgdGhpcy5tb3RvckVuYWJsZWQgPSBmYWxzZTtcbn07XG5cbi8qKlxuICogU2V0IHRoZSBjb25zdHJhaW50IGxpbWl0cy5cbiAqIEBtZXRob2Qgc2V0TGltaXRzXG4gKiBAcGFyYW0ge251bWJlcn0gbG93ZXIgTG93ZXIgbGltaXQuXG4gKiBAcGFyYW0ge251bWJlcn0gdXBwZXIgVXBwZXIgbGltaXQuXG4gKi9cblByaXNtYXRpY0NvbnN0cmFpbnQucHJvdG90eXBlLnNldExpbWl0cyA9IGZ1bmN0aW9uIChsb3dlciwgdXBwZXIpIHtcbiAgICBpZih0eXBlb2YobG93ZXIpID09PSAnbnVtYmVyJyl7XG4gICAgICAgIHRoaXMubG93ZXJMaW1pdCA9IGxvd2VyO1xuICAgICAgICB0aGlzLmxvd2VyTGltaXRFbmFibGVkID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmxvd2VyTGltaXQgPSBsb3dlcjtcbiAgICAgICAgdGhpcy5sb3dlckxpbWl0RW5hYmxlZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIGlmKHR5cGVvZih1cHBlcikgPT09ICdudW1iZXInKXtcbiAgICAgICAgdGhpcy51cHBlckxpbWl0ID0gdXBwZXI7XG4gICAgICAgIHRoaXMudXBwZXJMaW1pdEVuYWJsZWQgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMudXBwZXJMaW1pdCA9IHVwcGVyO1xuICAgICAgICB0aGlzLnVwcGVyTGltaXRFbmFibGVkID0gZmFsc2U7XG4gICAgfVxufTtcblxuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcDIvc3JjL2NvbnN0cmFpbnRzL1ByaXNtYXRpY0NvbnN0cmFpbnQuanNcbiAqKiBtb2R1bGUgaWQgPSA0N1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwidmFyIENvbnN0cmFpbnQgPSByZXF1aXJlKCcuL0NvbnN0cmFpbnQnKVxuLCAgIEVxdWF0aW9uID0gcmVxdWlyZSgnLi4vZXF1YXRpb25zL0VxdWF0aW9uJylcbiwgICBSb3RhdGlvbmFsVmVsb2NpdHlFcXVhdGlvbiA9IHJlcXVpcmUoJy4uL2VxdWF0aW9ucy9Sb3RhdGlvbmFsVmVsb2NpdHlFcXVhdGlvbicpXG4sICAgUm90YXRpb25hbExvY2tFcXVhdGlvbiA9IHJlcXVpcmUoJy4uL2VxdWF0aW9ucy9Sb3RhdGlvbmFsTG9ja0VxdWF0aW9uJylcbiwgICB2ZWMyID0gcmVxdWlyZSgnLi4vbWF0aC92ZWMyJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gUmV2b2x1dGVDb25zdHJhaW50O1xuXG52YXIgd29ybGRQaXZvdEEgPSB2ZWMyLmNyZWF0ZSgpLFxuICAgIHdvcmxkUGl2b3RCID0gdmVjMi5jcmVhdGUoKSxcbiAgICB4QXhpcyA9IHZlYzIuZnJvbVZhbHVlcygxLDApLFxuICAgIHlBeGlzID0gdmVjMi5mcm9tVmFsdWVzKDAsMSksXG4gICAgZyA9IHZlYzIuY3JlYXRlKCk7XG5cbi8qKlxuICogQ29ubmVjdHMgdHdvIGJvZGllcyBhdCBnaXZlbiBvZmZzZXQgcG9pbnRzLCBsZXR0aW5nIHRoZW0gcm90YXRlIHJlbGF0aXZlIHRvIGVhY2ggb3RoZXIgYXJvdW5kIHRoaXMgcG9pbnQuXG4gKiBAY2xhc3MgUmV2b2x1dGVDb25zdHJhaW50XG4gKiBAY29uc3RydWN0b3JcbiAqIEBhdXRob3Igc2NodGVwcGVcbiAqIEBwYXJhbSB7Qm9keX0gICAgYm9keUFcbiAqIEBwYXJhbSB7Qm9keX0gICAgYm9keUJcbiAqIEBwYXJhbSB7T2JqZWN0fSAgW29wdGlvbnNdXG4gKiBAcGFyYW0ge0FycmF5fSAgIFtvcHRpb25zLndvcmxkUGl2b3RdIEEgcGl2b3QgcG9pbnQgZ2l2ZW4gaW4gd29ybGQgY29vcmRpbmF0ZXMuIElmIHNwZWNpZmllZCwgbG9jYWxQaXZvdEEgYW5kIGxvY2FsUGl2b3RCIGFyZSBhdXRvbWF0aWNhbGx5IGNvbXB1dGVkIGZyb20gdGhpcyB2YWx1ZS5cbiAqIEBwYXJhbSB7QXJyYXl9ICAgW29wdGlvbnMubG9jYWxQaXZvdEFdIFRoZSBwb2ludCByZWxhdGl2ZSB0byB0aGUgY2VudGVyIG9mIG1hc3Mgb2YgYm9keUEgd2hpY2ggYm9keUEgaXMgY29uc3RyYWluZWQgdG8uXG4gKiBAcGFyYW0ge0FycmF5fSAgIFtvcHRpb25zLmxvY2FsUGl2b3RCXSBTZWUgbG9jYWxQaXZvdEEuXG4gKiBAcGFyYW0ge051bWJlcn0gIFtvcHRpb25zLm1heEZvcmNlXSBUaGUgbWF4aW11bSBmb3JjZSB0aGF0IHNob3VsZCBiZSBhcHBsaWVkIHRvIGNvbnN0cmFpbiB0aGUgYm9kaWVzLlxuICogQGV4dGVuZHMgQ29uc3RyYWludFxuICpcbiAqIEBleGFtcGxlXG4gKiAgICAgLy8gVGhpcyB3aWxsIGNyZWF0ZSBhIHJldm9sdXRlIGNvbnN0cmFpbnQgYmV0d2VlbiB0d28gYm9kaWVzIHdpdGggcGl2b3QgcG9pbnQgaW4gYmV0d2VlbiB0aGVtLlxuICogICAgIHZhciBib2R5QSA9IG5ldyBCb2R5KHsgbWFzczogMSwgcG9zaXRpb246IFstMSwgMF0gfSk7XG4gKiAgICAgdmFyIGJvZHlCID0gbmV3IEJvZHkoeyBtYXNzOiAxLCBwb3NpdGlvbjogWzEsIDBdIH0pO1xuICogICAgIHZhciBjb25zdHJhaW50ID0gbmV3IFJldm9sdXRlQ29uc3RyYWludChib2R5QSwgYm9keUIsIHtcbiAqICAgICAgICAgd29ybGRQaXZvdDogWzAsIDBdXG4gKiAgICAgfSk7XG4gKiAgICAgd29ybGQuYWRkQ29uc3RyYWludChjb25zdHJhaW50KTtcbiAqXG4gKiAgICAgLy8gVXNpbmcgYm9keS1sb2NhbCBwaXZvdCBwb2ludHMsIHRoZSBjb25zdHJhaW50IGNvdWxkIGhhdmUgYmVlbiBjb25zdHJ1Y3RlZCBsaWtlIHRoaXM6XG4gKiAgICAgdmFyIGNvbnN0cmFpbnQgPSBuZXcgUmV2b2x1dGVDb25zdHJhaW50KGJvZHlBLCBib2R5Qiwge1xuICogICAgICAgICBsb2NhbFBpdm90QTogWzEsIDBdLFxuICogICAgICAgICBsb2NhbFBpdm90QjogWy0xLCAwXVxuICogICAgIH0pO1xuICovXG5mdW5jdGlvbiBSZXZvbHV0ZUNvbnN0cmFpbnQoYm9keUEsIGJvZHlCLCBvcHRpb25zKXtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICBDb25zdHJhaW50LmNhbGwodGhpcyxib2R5QSxib2R5QixDb25zdHJhaW50LlJFVk9MVVRFLG9wdGlvbnMpO1xuXG4gICAgdmFyIG1heEZvcmNlID0gdGhpcy5tYXhGb3JjZSA9IHR5cGVvZihvcHRpb25zLm1heEZvcmNlKSAhPT0gXCJ1bmRlZmluZWRcIiA/IG9wdGlvbnMubWF4Rm9yY2UgOiBOdW1iZXIuTUFYX1ZBTFVFO1xuXG4gICAgLyoqXG4gICAgICogQHByb3BlcnR5IHtBcnJheX0gcGl2b3RBXG4gICAgICovXG4gICAgdGhpcy5waXZvdEEgPSB2ZWMyLmNyZWF0ZSgpO1xuXG4gICAgLyoqXG4gICAgICogQHByb3BlcnR5IHtBcnJheX0gcGl2b3RCXG4gICAgICovXG4gICAgdGhpcy5waXZvdEIgPSB2ZWMyLmNyZWF0ZSgpO1xuXG4gICAgaWYob3B0aW9ucy53b3JsZFBpdm90KXtcbiAgICAgICAgLy8gQ29tcHV0ZSBwaXZvdEEgYW5kIHBpdm90QlxuICAgICAgICB2ZWMyLnN1Yih0aGlzLnBpdm90QSwgb3B0aW9ucy53b3JsZFBpdm90LCBib2R5QS5wb3NpdGlvbik7XG4gICAgICAgIHZlYzIuc3ViKHRoaXMucGl2b3RCLCBvcHRpb25zLndvcmxkUGl2b3QsIGJvZHlCLnBvc2l0aW9uKTtcbiAgICAgICAgLy8gUm90YXRlIHRvIGxvY2FsIGNvb3JkaW5hdGUgc3lzdGVtXG4gICAgICAgIHZlYzIucm90YXRlKHRoaXMucGl2b3RBLCB0aGlzLnBpdm90QSwgLWJvZHlBLmFuZ2xlKTtcbiAgICAgICAgdmVjMi5yb3RhdGUodGhpcy5waXZvdEIsIHRoaXMucGl2b3RCLCAtYm9keUIuYW5nbGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEdldCBwaXZvdEEgYW5kIHBpdm90QlxuICAgICAgICB2ZWMyLmNvcHkodGhpcy5waXZvdEEsIG9wdGlvbnMubG9jYWxQaXZvdEEpO1xuICAgICAgICB2ZWMyLmNvcHkodGhpcy5waXZvdEIsIG9wdGlvbnMubG9jYWxQaXZvdEIpO1xuICAgIH1cblxuICAgIC8vIEVxdWF0aW9ucyB0byBiZSBmZWQgdG8gdGhlIHNvbHZlclxuICAgIHZhciBlcXMgPSB0aGlzLmVxdWF0aW9ucyA9IFtcbiAgICAgICAgbmV3IEVxdWF0aW9uKGJvZHlBLGJvZHlCLC1tYXhGb3JjZSxtYXhGb3JjZSksXG4gICAgICAgIG5ldyBFcXVhdGlvbihib2R5QSxib2R5QiwtbWF4Rm9yY2UsbWF4Rm9yY2UpLFxuICAgIF07XG5cbiAgICB2YXIgeCA9IGVxc1swXTtcbiAgICB2YXIgeSA9IGVxc1sxXTtcbiAgICB2YXIgdGhhdCA9IHRoaXM7XG5cbiAgICB4LmNvbXB1dGVHcSA9IGZ1bmN0aW9uKCl7XG4gICAgICAgIHZlYzIucm90YXRlKHdvcmxkUGl2b3RBLCB0aGF0LnBpdm90QSwgYm9keUEuYW5nbGUpO1xuICAgICAgICB2ZWMyLnJvdGF0ZSh3b3JsZFBpdm90QiwgdGhhdC5waXZvdEIsIGJvZHlCLmFuZ2xlKTtcbiAgICAgICAgdmVjMi5hZGQoZywgYm9keUIucG9zaXRpb24sIHdvcmxkUGl2b3RCKTtcbiAgICAgICAgdmVjMi5zdWIoZywgZywgYm9keUEucG9zaXRpb24pO1xuICAgICAgICB2ZWMyLnN1YihnLCBnLCB3b3JsZFBpdm90QSk7XG4gICAgICAgIHJldHVybiB2ZWMyLmRvdChnLHhBeGlzKTtcbiAgICB9O1xuXG4gICAgeS5jb21wdXRlR3EgPSBmdW5jdGlvbigpe1xuICAgICAgICB2ZWMyLnJvdGF0ZSh3b3JsZFBpdm90QSwgdGhhdC5waXZvdEEsIGJvZHlBLmFuZ2xlKTtcbiAgICAgICAgdmVjMi5yb3RhdGUod29ybGRQaXZvdEIsIHRoYXQucGl2b3RCLCBib2R5Qi5hbmdsZSk7XG4gICAgICAgIHZlYzIuYWRkKGcsIGJvZHlCLnBvc2l0aW9uLCB3b3JsZFBpdm90Qik7XG4gICAgICAgIHZlYzIuc3ViKGcsIGcsIGJvZHlBLnBvc2l0aW9uKTtcbiAgICAgICAgdmVjMi5zdWIoZywgZywgd29ybGRQaXZvdEEpO1xuICAgICAgICByZXR1cm4gdmVjMi5kb3QoZyx5QXhpcyk7XG4gICAgfTtcblxuICAgIHkubWluRm9yY2UgPSB4Lm1pbkZvcmNlID0gLW1heEZvcmNlO1xuICAgIHkubWF4Rm9yY2UgPSB4Lm1heEZvcmNlID0gIG1heEZvcmNlO1xuXG4gICAgdGhpcy5tb3RvckVxdWF0aW9uID0gbmV3IFJvdGF0aW9uYWxWZWxvY2l0eUVxdWF0aW9uKGJvZHlBLGJvZHlCKTtcblxuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyB3aGV0aGVyIHRoZSBtb3RvciBpcyBlbmFibGVkLiBVc2UgLmVuYWJsZU1vdG9yKCkgdG8gZW5hYmxlIHRoZSBjb25zdHJhaW50IG1vdG9yLlxuICAgICAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gbW90b3JFbmFibGVkXG4gICAgICogQHJlYWRPbmx5XG4gICAgICovXG4gICAgdGhpcy5tb3RvckVuYWJsZWQgPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBjb25zdHJhaW50IHBvc2l0aW9uLlxuICAgICAqIEBwcm9wZXJ0eSBhbmdsZVxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQHJlYWRPbmx5XG4gICAgICovXG4gICAgdGhpcy5hbmdsZSA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBTZXQgdG8gdHJ1ZSB0byBlbmFibGUgbG93ZXIgbGltaXRcbiAgICAgKiBAcHJvcGVydHkgbG93ZXJMaW1pdEVuYWJsZWRcbiAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLmxvd2VyTGltaXRFbmFibGVkID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBTZXQgdG8gdHJ1ZSB0byBlbmFibGUgdXBwZXIgbGltaXRcbiAgICAgKiBAcHJvcGVydHkgdXBwZXJMaW1pdEVuYWJsZWRcbiAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLnVwcGVyTGltaXRFbmFibGVkID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbG93ZXIgbGltaXQgb24gdGhlIGNvbnN0cmFpbnQgYW5nbGUuXG4gICAgICogQHByb3BlcnR5IGxvd2VyTGltaXRcbiAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLmxvd2VyTGltaXQgPSAwO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHVwcGVyIGxpbWl0IG9uIHRoZSBjb25zdHJhaW50IGFuZ2xlLlxuICAgICAqIEBwcm9wZXJ0eSB1cHBlckxpbWl0XG4gICAgICogQHR5cGUge0Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy51cHBlckxpbWl0ID0gMDtcblxuICAgIHRoaXMudXBwZXJMaW1pdEVxdWF0aW9uID0gbmV3IFJvdGF0aW9uYWxMb2NrRXF1YXRpb24oYm9keUEsYm9keUIpO1xuICAgIHRoaXMubG93ZXJMaW1pdEVxdWF0aW9uID0gbmV3IFJvdGF0aW9uYWxMb2NrRXF1YXRpb24oYm9keUEsYm9keUIpO1xuICAgIHRoaXMudXBwZXJMaW1pdEVxdWF0aW9uLm1pbkZvcmNlID0gMDtcbiAgICB0aGlzLmxvd2VyTGltaXRFcXVhdGlvbi5tYXhGb3JjZSA9IDA7XG59XG5SZXZvbHV0ZUNvbnN0cmFpbnQucHJvdG90eXBlID0gbmV3IENvbnN0cmFpbnQoKTtcblJldm9sdXRlQ29uc3RyYWludC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBSZXZvbHV0ZUNvbnN0cmFpbnQ7XG5cbi8qKlxuICogU2V0IHRoZSBjb25zdHJhaW50IGFuZ2xlIGxpbWl0cy5cbiAqIEBtZXRob2Qgc2V0TGltaXRzXG4gKiBAcGFyYW0ge251bWJlcn0gbG93ZXIgTG93ZXIgYW5nbGUgbGltaXQuXG4gKiBAcGFyYW0ge251bWJlcn0gdXBwZXIgVXBwZXIgYW5nbGUgbGltaXQuXG4gKi9cblJldm9sdXRlQ29uc3RyYWludC5wcm90b3R5cGUuc2V0TGltaXRzID0gZnVuY3Rpb24gKGxvd2VyLCB1cHBlcikge1xuICAgIGlmKHR5cGVvZihsb3dlcikgPT09ICdudW1iZXInKXtcbiAgICAgICAgdGhpcy5sb3dlckxpbWl0ID0gbG93ZXI7XG4gICAgICAgIHRoaXMubG93ZXJMaW1pdEVuYWJsZWQgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMubG93ZXJMaW1pdCA9IGxvd2VyO1xuICAgICAgICB0aGlzLmxvd2VyTGltaXRFbmFibGVkID0gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYodHlwZW9mKHVwcGVyKSA9PT0gJ251bWJlcicpe1xuICAgICAgICB0aGlzLnVwcGVyTGltaXQgPSB1cHBlcjtcbiAgICAgICAgdGhpcy51cHBlckxpbWl0RW5hYmxlZCA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy51cHBlckxpbWl0ID0gdXBwZXI7XG4gICAgICAgIHRoaXMudXBwZXJMaW1pdEVuYWJsZWQgPSBmYWxzZTtcbiAgICB9XG59O1xuXG5SZXZvbHV0ZUNvbnN0cmFpbnQucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uKCl7XG4gICAgdmFyIGJvZHlBID0gIHRoaXMuYm9keUEsXG4gICAgICAgIGJvZHlCID0gIHRoaXMuYm9keUIsXG4gICAgICAgIHBpdm90QSA9IHRoaXMucGl2b3RBLFxuICAgICAgICBwaXZvdEIgPSB0aGlzLnBpdm90QixcbiAgICAgICAgZXFzID0gICAgdGhpcy5lcXVhdGlvbnMsXG4gICAgICAgIG5vcm1hbCA9IGVxc1swXSxcbiAgICAgICAgdGFuZ2VudD0gZXFzWzFdLFxuICAgICAgICB4ID0gZXFzWzBdLFxuICAgICAgICB5ID0gZXFzWzFdLFxuICAgICAgICB1cHBlckxpbWl0ID0gdGhpcy51cHBlckxpbWl0LFxuICAgICAgICBsb3dlckxpbWl0ID0gdGhpcy5sb3dlckxpbWl0LFxuICAgICAgICB1cHBlckxpbWl0RXF1YXRpb24gPSB0aGlzLnVwcGVyTGltaXRFcXVhdGlvbixcbiAgICAgICAgbG93ZXJMaW1pdEVxdWF0aW9uID0gdGhpcy5sb3dlckxpbWl0RXF1YXRpb247XG5cbiAgICB2YXIgcmVsQW5nbGUgPSB0aGlzLmFuZ2xlID0gYm9keUIuYW5nbGUgLSBib2R5QS5hbmdsZTtcblxuICAgIGlmKHRoaXMudXBwZXJMaW1pdEVuYWJsZWQgJiYgcmVsQW5nbGUgPiB1cHBlckxpbWl0KXtcbiAgICAgICAgdXBwZXJMaW1pdEVxdWF0aW9uLmFuZ2xlID0gdXBwZXJMaW1pdDtcbiAgICAgICAgaWYoZXFzLmluZGV4T2YodXBwZXJMaW1pdEVxdWF0aW9uKSA9PT0gLTEpe1xuICAgICAgICAgICAgZXFzLnB1c2godXBwZXJMaW1pdEVxdWF0aW9uKTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBpZHggPSBlcXMuaW5kZXhPZih1cHBlckxpbWl0RXF1YXRpb24pO1xuICAgICAgICBpZihpZHggIT09IC0xKXtcbiAgICAgICAgICAgIGVxcy5zcGxpY2UoaWR4LDEpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYodGhpcy5sb3dlckxpbWl0RW5hYmxlZCAmJiByZWxBbmdsZSA8IGxvd2VyTGltaXQpe1xuICAgICAgICBsb3dlckxpbWl0RXF1YXRpb24uYW5nbGUgPSBsb3dlckxpbWl0O1xuICAgICAgICBpZihlcXMuaW5kZXhPZihsb3dlckxpbWl0RXF1YXRpb24pID09PSAtMSl7XG4gICAgICAgICAgICBlcXMucHVzaChsb3dlckxpbWl0RXF1YXRpb24pO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGlkeCA9IGVxcy5pbmRleE9mKGxvd2VyTGltaXRFcXVhdGlvbik7XG4gICAgICAgIGlmKGlkeCAhPT0gLTEpe1xuICAgICAgICAgICAgZXFzLnNwbGljZShpZHgsMSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKlxuXG4gICAgVGhlIGNvbnN0cmFpbnQgdmlvbGF0aW9uIGlzXG5cbiAgICAgICAgZyA9IHhqICsgcmogLSB4aSAtIHJpXG5cbiAgICAuLi53aGVyZSB4aSBhbmQgeGogYXJlIHRoZSBib2R5IHBvc2l0aW9ucyBhbmQgcmkgYW5kIHJqIHdvcmxkLW9yaWVudGVkIG9mZnNldCB2ZWN0b3JzLiBEaWZmZXJlbnRpYXRlOlxuXG4gICAgICAgIGdkb3QgPSB2aiArIHdqIHggcmogLSB2aSAtIHdpIHggcmlcblxuICAgIFdlIHNwbGl0IHRoaXMgaW50byB4IGFuZCB5IGRpcmVjdGlvbnMuIChsZXQgeCBhbmQgeSBiZSB1bml0IHZlY3RvcnMgYWxvbmcgdGhlIHJlc3BlY3RpdmUgYXhlcylcblxuICAgICAgICBnZG90ICogeCA9ICggdmogKyB3aiB4IHJqIC0gdmkgLSB3aSB4IHJpICkgKiB4XG4gICAgICAgICAgICAgICAgID0gKCB2aip4ICsgKHdqIHggcmopKnggLXZpKnggLSh3aSB4IHJpKSp4XG4gICAgICAgICAgICAgICAgID0gKCB2aip4ICsgKHJqIHggeCkqd2ogLXZpKnggLShyaSB4IHgpKndpXG4gICAgICAgICAgICAgICAgID0gWyAteCAgIC0ocmkgeCB4KSAgIHggICAocmogeCB4KV0gKiBbdmkgd2kgdmogd2pdXG4gICAgICAgICAgICAgICAgID0gRypXXG5cbiAgICAuLi5hbmQgc2ltaWxhciBmb3IgeS4gV2UgaGF2ZSB0aGVuIGlkZW50aWZpZWQgdGhlIGphY29iaWFuIGVudHJpZXMgZm9yIHggYW5kIHkgZGlyZWN0aW9uczpcblxuICAgICAgICBHeCA9IFsgeCAgIChyaiB4IHgpICAgLXggICAtKHJpIHggeCldXG4gICAgICAgIEd5ID0gWyB5ICAgKHJqIHggeSkgICAteSAgIC0ocmkgeCB5KV1cblxuICAgICAqL1xuXG4gICAgdmVjMi5yb3RhdGUod29ybGRQaXZvdEEsIHBpdm90QSwgYm9keUEuYW5nbGUpO1xuICAgIHZlYzIucm90YXRlKHdvcmxkUGl2b3RCLCBwaXZvdEIsIGJvZHlCLmFuZ2xlKTtcblxuICAgIC8vIHRvZG86IHRoZXNlIGFyZSBhIGJpdCBzcGFyc2UuIFdlIGNvdWxkIHNhdmUgc29tZSBjb21wdXRhdGlvbnMgb24gbWFraW5nIGN1c3RvbSBlcS5jb21wdXRlR1cgZnVuY3Rpb25zLCBldGNcblxuICAgIHguR1swXSA9IC0xO1xuICAgIHguR1sxXSA9ICAwO1xuICAgIHguR1syXSA9IC12ZWMyLmNyb3NzTGVuZ3RoKHdvcmxkUGl2b3RBLHhBeGlzKTtcbiAgICB4LkdbM10gPSAgMTtcbiAgICB4LkdbNF0gPSAgMDtcbiAgICB4LkdbNV0gPSAgdmVjMi5jcm9zc0xlbmd0aCh3b3JsZFBpdm90Qix4QXhpcyk7XG5cbiAgICB5LkdbMF0gPSAgMDtcbiAgICB5LkdbMV0gPSAtMTtcbiAgICB5LkdbMl0gPSAtdmVjMi5jcm9zc0xlbmd0aCh3b3JsZFBpdm90QSx5QXhpcyk7XG4gICAgeS5HWzNdID0gIDA7XG4gICAgeS5HWzRdID0gIDE7XG4gICAgeS5HWzVdID0gIHZlYzIuY3Jvc3NMZW5ndGgod29ybGRQaXZvdEIseUF4aXMpO1xufTtcblxuLyoqXG4gKiBFbmFibGUgdGhlIHJvdGF0aW9uYWwgbW90b3JcbiAqIEBtZXRob2QgZW5hYmxlTW90b3JcbiAqL1xuUmV2b2x1dGVDb25zdHJhaW50LnByb3RvdHlwZS5lbmFibGVNb3RvciA9IGZ1bmN0aW9uKCl7XG4gICAgaWYodGhpcy5tb3RvckVuYWJsZWQpe1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuZXF1YXRpb25zLnB1c2godGhpcy5tb3RvckVxdWF0aW9uKTtcbiAgICB0aGlzLm1vdG9yRW5hYmxlZCA9IHRydWU7XG59O1xuXG4vKipcbiAqIERpc2FibGUgdGhlIHJvdGF0aW9uYWwgbW90b3JcbiAqIEBtZXRob2QgZGlzYWJsZU1vdG9yXG4gKi9cblJldm9sdXRlQ29uc3RyYWludC5wcm90b3R5cGUuZGlzYWJsZU1vdG9yID0gZnVuY3Rpb24oKXtcbiAgICBpZighdGhpcy5tb3RvckVuYWJsZWQpe1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBpID0gdGhpcy5lcXVhdGlvbnMuaW5kZXhPZih0aGlzLm1vdG9yRXF1YXRpb24pO1xuICAgIHRoaXMuZXF1YXRpb25zLnNwbGljZShpLDEpO1xuICAgIHRoaXMubW90b3JFbmFibGVkID0gZmFsc2U7XG59O1xuXG4vKipcbiAqIENoZWNrIGlmIHRoZSBtb3RvciBpcyBlbmFibGVkLlxuICogQG1ldGhvZCBtb3RvcklzRW5hYmxlZFxuICogQGRlcHJlY2F0ZWQgdXNlIHByb3BlcnR5IG1vdG9yRW5hYmxlZCBpbnN0ZWFkLlxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqL1xuUmV2b2x1dGVDb25zdHJhaW50LnByb3RvdHlwZS5tb3RvcklzRW5hYmxlZCA9IGZ1bmN0aW9uKCl7XG4gICAgcmV0dXJuICEhdGhpcy5tb3RvckVuYWJsZWQ7XG59O1xuXG4vKipcbiAqIFNldCB0aGUgc3BlZWQgb2YgdGhlIHJvdGF0aW9uYWwgY29uc3RyYWludCBtb3RvclxuICogQG1ldGhvZCBzZXRNb3RvclNwZWVkXG4gKiBAcGFyYW0gIHtOdW1iZXJ9IHNwZWVkXG4gKi9cblJldm9sdXRlQ29uc3RyYWludC5wcm90b3R5cGUuc2V0TW90b3JTcGVlZCA9IGZ1bmN0aW9uKHNwZWVkKXtcbiAgICBpZighdGhpcy5tb3RvckVuYWJsZWQpe1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBpID0gdGhpcy5lcXVhdGlvbnMuaW5kZXhPZih0aGlzLm1vdG9yRXF1YXRpb24pO1xuICAgIHRoaXMuZXF1YXRpb25zW2ldLnJlbGF0aXZlVmVsb2NpdHkgPSBzcGVlZDtcbn07XG5cbi8qKlxuICogR2V0IHRoZSBzcGVlZCBvZiB0aGUgcm90YXRpb25hbCBjb25zdHJhaW50IG1vdG9yXG4gKiBAbWV0aG9kIGdldE1vdG9yU3BlZWRcbiAqIEByZXR1cm4ge051bWJlcn0gVGhlIGN1cnJlbnQgc3BlZWQsIG9yIGZhbHNlIGlmIHRoZSBtb3RvciBpcyBub3QgZW5hYmxlZC5cbiAqL1xuUmV2b2x1dGVDb25zdHJhaW50LnByb3RvdHlwZS5nZXRNb3RvclNwZWVkID0gZnVuY3Rpb24oKXtcbiAgICBpZighdGhpcy5tb3RvckVuYWJsZWQpe1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLm1vdG9yRXF1YXRpb24ucmVsYXRpdmVWZWxvY2l0eTtcbn07XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9wMi9zcmMvY29uc3RyYWludHMvUmV2b2x1dGVDb25zdHJhaW50LmpzXG4gKiogbW9kdWxlIGlkID0gNDhcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciBFcXVhdGlvbiA9IHJlcXVpcmUoXCIuL0VxdWF0aW9uXCIpLFxuICAgIHZlYzIgPSByZXF1aXJlKCcuLi9tYXRoL3ZlYzInKTtcblxubW9kdWxlLmV4cG9ydHMgPSBBbmdsZUxvY2tFcXVhdGlvbjtcblxuLyoqXG4gKiBMb2NrcyB0aGUgcmVsYXRpdmUgYW5nbGUgYmV0d2VlbiB0d28gYm9kaWVzLiBUaGUgY29uc3RyYWludCB0cmllcyB0byBrZWVwIHRoZSBkb3QgcHJvZHVjdCBiZXR3ZWVuIHR3byB2ZWN0b3JzLCBsb2NhbCBpbiBlYWNoIGJvZHksIHRvIHplcm8uIFRoZSBsb2NhbCBhbmdsZSBpbiBib2R5IGkgaXMgYSBwYXJhbWV0ZXIuXG4gKlxuICogQGNsYXNzIEFuZ2xlTG9ja0VxdWF0aW9uXG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIEVxdWF0aW9uXG4gKiBAcGFyYW0ge0JvZHl9IGJvZHlBXG4gKiBAcGFyYW0ge0JvZHl9IGJvZHlCXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMuYW5nbGVdIEFuZ2xlIHRvIGFkZCB0byB0aGUgbG9jYWwgdmVjdG9yIGluIGJvZHkgQS5cbiAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5yYXRpb10gR2VhciByYXRpb1xuICovXG5mdW5jdGlvbiBBbmdsZUxvY2tFcXVhdGlvbihib2R5QSwgYm9keUIsIG9wdGlvbnMpe1xuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIEVxdWF0aW9uLmNhbGwodGhpcyxib2R5QSxib2R5QiwtTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFKTtcbiAgICB0aGlzLmFuZ2xlID0gb3B0aW9ucy5hbmdsZSB8fCAwO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGdlYXIgcmF0aW8uXG4gICAgICogQHByb3BlcnR5IHtOdW1iZXJ9IHJhdGlvXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAc2VlIHNldFJhdGlvXG4gICAgICovXG4gICAgdGhpcy5yYXRpbyA9IHR5cGVvZihvcHRpb25zLnJhdGlvKT09PVwibnVtYmVyXCIgPyBvcHRpb25zLnJhdGlvIDogMTtcblxuICAgIHRoaXMuc2V0UmF0aW8odGhpcy5yYXRpbyk7XG59XG5BbmdsZUxvY2tFcXVhdGlvbi5wcm90b3R5cGUgPSBuZXcgRXF1YXRpb24oKTtcbkFuZ2xlTG9ja0VxdWF0aW9uLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEFuZ2xlTG9ja0VxdWF0aW9uO1xuXG5BbmdsZUxvY2tFcXVhdGlvbi5wcm90b3R5cGUuY29tcHV0ZUdxID0gZnVuY3Rpb24oKXtcbiAgICByZXR1cm4gdGhpcy5yYXRpbyAqIHRoaXMuYm9keUEuYW5nbGUgLSB0aGlzLmJvZHlCLmFuZ2xlICsgdGhpcy5hbmdsZTtcbn07XG5cbi8qKlxuICogU2V0IHRoZSBnZWFyIHJhdGlvIGZvciB0aGlzIGVxdWF0aW9uXG4gKiBAbWV0aG9kIHNldFJhdGlvXG4gKiBAcGFyYW0ge051bWJlcn0gcmF0aW9cbiAqL1xuQW5nbGVMb2NrRXF1YXRpb24ucHJvdG90eXBlLnNldFJhdGlvID0gZnVuY3Rpb24ocmF0aW8pe1xuICAgIHZhciBHID0gdGhpcy5HO1xuICAgIEdbMl0gPSAgcmF0aW87XG4gICAgR1s1XSA9IC0xO1xuICAgIHRoaXMucmF0aW8gPSByYXRpbztcbn07XG5cbi8qKlxuICogU2V0IHRoZSBtYXggZm9yY2UgZm9yIHRoZSBlcXVhdGlvbi5cbiAqIEBtZXRob2Qgc2V0TWF4VG9ycXVlXG4gKiBAcGFyYW0ge051bWJlcn0gdG9ycXVlXG4gKi9cbkFuZ2xlTG9ja0VxdWF0aW9uLnByb3RvdHlwZS5zZXRNYXhUb3JxdWUgPSBmdW5jdGlvbih0b3JxdWUpe1xuICAgIHRoaXMubWF4Rm9yY2UgPSAgdG9ycXVlO1xuICAgIHRoaXMubWluRm9yY2UgPSAtdG9ycXVlO1xufTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3AyL3NyYy9lcXVhdGlvbnMvQW5nbGVMb2NrRXF1YXRpb24uanNcbiAqKiBtb2R1bGUgaWQgPSA0OVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwidmFyIEVxdWF0aW9uID0gcmVxdWlyZShcIi4vRXF1YXRpb25cIiksXG4gICAgdmVjMiA9IHJlcXVpcmUoJy4uL21hdGgvdmVjMicpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJvdGF0aW9uYWxMb2NrRXF1YXRpb247XG5cbi8qKlxuICogTG9ja3MgdGhlIHJlbGF0aXZlIGFuZ2xlIGJldHdlZW4gdHdvIGJvZGllcy4gVGhlIGNvbnN0cmFpbnQgdHJpZXMgdG8ga2VlcCB0aGUgZG90IHByb2R1Y3QgYmV0d2VlbiB0d28gdmVjdG9ycywgbG9jYWwgaW4gZWFjaCBib2R5LCB0byB6ZXJvLiBUaGUgbG9jYWwgYW5nbGUgaW4gYm9keSBpIGlzIGEgcGFyYW1ldGVyLlxuICpcbiAqIEBjbGFzcyBSb3RhdGlvbmFsTG9ja0VxdWF0aW9uXG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIEVxdWF0aW9uXG4gKiBAcGFyYW0ge0JvZHl9IGJvZHlBXG4gKiBAcGFyYW0ge0JvZHl9IGJvZHlCXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMuYW5nbGVdIEFuZ2xlIHRvIGFkZCB0byB0aGUgbG9jYWwgdmVjdG9yIGluIGJvZHlBLlxuICovXG5mdW5jdGlvbiBSb3RhdGlvbmFsTG9ja0VxdWF0aW9uKGJvZHlBLCBib2R5Qiwgb3B0aW9ucyl7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgRXF1YXRpb24uY2FsbCh0aGlzLCBib2R5QSwgYm9keUIsIC1OdW1iZXIuTUFYX1ZBTFVFLCBOdW1iZXIuTUFYX1ZBTFVFKTtcblxuICAgIC8qKlxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBhbmdsZVxuICAgICAqL1xuICAgIHRoaXMuYW5nbGUgPSBvcHRpb25zLmFuZ2xlIHx8IDA7XG5cbiAgICB2YXIgRyA9IHRoaXMuRztcbiAgICBHWzJdID0gIDE7XG4gICAgR1s1XSA9IC0xO1xufVxuUm90YXRpb25hbExvY2tFcXVhdGlvbi5wcm90b3R5cGUgPSBuZXcgRXF1YXRpb24oKTtcblJvdGF0aW9uYWxMb2NrRXF1YXRpb24ucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gUm90YXRpb25hbExvY2tFcXVhdGlvbjtcblxudmFyIHdvcmxkVmVjdG9yQSA9IHZlYzIuY3JlYXRlKCksXG4gICAgd29ybGRWZWN0b3JCID0gdmVjMi5jcmVhdGUoKSxcbiAgICB4QXhpcyA9IHZlYzIuZnJvbVZhbHVlcygxLDApLFxuICAgIHlBeGlzID0gdmVjMi5mcm9tVmFsdWVzKDAsMSk7XG5Sb3RhdGlvbmFsTG9ja0VxdWF0aW9uLnByb3RvdHlwZS5jb21wdXRlR3EgPSBmdW5jdGlvbigpe1xuICAgIHZlYzIucm90YXRlKHdvcmxkVmVjdG9yQSx4QXhpcyx0aGlzLmJvZHlBLmFuZ2xlK3RoaXMuYW5nbGUpO1xuICAgIHZlYzIucm90YXRlKHdvcmxkVmVjdG9yQix5QXhpcyx0aGlzLmJvZHlCLmFuZ2xlKTtcbiAgICByZXR1cm4gdmVjMi5kb3Qod29ybGRWZWN0b3JBLHdvcmxkVmVjdG9yQik7XG59O1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcDIvc3JjL2VxdWF0aW9ucy9Sb3RhdGlvbmFsTG9ja0VxdWF0aW9uLmpzXG4gKiogbW9kdWxlIGlkID0gNTBcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciBFcXVhdGlvbiA9IHJlcXVpcmUoXCIuL0VxdWF0aW9uXCIpLFxuICAgIHZlYzIgPSByZXF1aXJlKCcuLi9tYXRoL3ZlYzInKTtcblxubW9kdWxlLmV4cG9ydHMgPSBSb3RhdGlvbmFsVmVsb2NpdHlFcXVhdGlvbjtcblxuLyoqXG4gKiBTeW5jcyByb3RhdGlvbmFsIHZlbG9jaXR5IG9mIHR3byBib2RpZXMsIG9yIHNldHMgYSByZWxhdGl2ZSB2ZWxvY2l0eSAobW90b3IpLlxuICpcbiAqIEBjbGFzcyBSb3RhdGlvbmFsVmVsb2NpdHlFcXVhdGlvblxuICogQGNvbnN0cnVjdG9yXG4gKiBAZXh0ZW5kcyBFcXVhdGlvblxuICogQHBhcmFtIHtCb2R5fSBib2R5QVxuICogQHBhcmFtIHtCb2R5fSBib2R5QlxuICovXG5mdW5jdGlvbiBSb3RhdGlvbmFsVmVsb2NpdHlFcXVhdGlvbihib2R5QSwgYm9keUIpe1xuICAgIEVxdWF0aW9uLmNhbGwodGhpcywgYm9keUEsIGJvZHlCLCAtTnVtYmVyLk1BWF9WQUxVRSwgTnVtYmVyLk1BWF9WQUxVRSk7XG4gICAgdGhpcy5yZWxhdGl2ZVZlbG9jaXR5ID0gMTtcbiAgICB0aGlzLnJhdGlvID0gMTtcbn1cblJvdGF0aW9uYWxWZWxvY2l0eUVxdWF0aW9uLnByb3RvdHlwZSA9IG5ldyBFcXVhdGlvbigpO1xuUm90YXRpb25hbFZlbG9jaXR5RXF1YXRpb24ucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gUm90YXRpb25hbFZlbG9jaXR5RXF1YXRpb247XG5Sb3RhdGlvbmFsVmVsb2NpdHlFcXVhdGlvbi5wcm90b3R5cGUuY29tcHV0ZUIgPSBmdW5jdGlvbihhLGIsaCl7XG4gICAgdmFyIEcgPSB0aGlzLkc7XG4gICAgR1syXSA9IC0xO1xuICAgIEdbNV0gPSB0aGlzLnJhdGlvO1xuXG4gICAgdmFyIEdpTWYgPSB0aGlzLmNvbXB1dGVHaU1mKCk7XG4gICAgdmFyIEdXID0gdGhpcy5jb21wdXRlR1coKTtcbiAgICB2YXIgQiA9IC0gR1cgKiBiIC0gaCpHaU1mO1xuXG4gICAgcmV0dXJuIEI7XG59O1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcDIvc3JjL2VxdWF0aW9ucy9Sb3RhdGlvbmFsVmVsb2NpdHlFcXVhdGlvbi5qc1xuICoqIG1vZHVsZSBpZCA9IDUxXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgTWF0ZXJpYWwgPSByZXF1aXJlKCcuL01hdGVyaWFsJyk7XG52YXIgRXF1YXRpb24gPSByZXF1aXJlKCcuLi9lcXVhdGlvbnMvRXF1YXRpb24nKTtcblxubW9kdWxlLmV4cG9ydHMgPSBDb250YWN0TWF0ZXJpYWw7XG5cbi8qKlxuICogRGVmaW5lcyB3aGF0IGhhcHBlbnMgd2hlbiB0d28gbWF0ZXJpYWxzIG1lZXQsIHN1Y2ggYXMgd2hhdCBmcmljdGlvbiBjb2VmZmljaWVudCB0byB1c2UuIFlvdSBjYW4gYWxzbyBzZXQgb3RoZXIgdGhpbmdzIHN1Y2ggYXMgcmVzdGl0dXRpb24sIHN1cmZhY2UgdmVsb2NpdHkgYW5kIGNvbnN0cmFpbnQgcGFyYW1ldGVycy5cbiAqIEBjbGFzcyBDb250YWN0TWF0ZXJpYWxcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtNYXRlcmlhbH0gbWF0ZXJpYWxBXG4gKiBAcGFyYW0ge01hdGVyaWFsfSBtYXRlcmlhbEJcbiAqIEBwYXJhbSB7T2JqZWN0fSAgIFtvcHRpb25zXVxuICogQHBhcmFtIHtOdW1iZXJ9ICAgW29wdGlvbnMuZnJpY3Rpb249MC4zXSAgICAgICBGcmljdGlvbiBjb2VmZmljaWVudC5cbiAqIEBwYXJhbSB7TnVtYmVyfSAgIFtvcHRpb25zLnJlc3RpdHV0aW9uPTBdICAgICAgUmVzdGl0dXRpb24gY29lZmZpY2llbnQgYWthIFwiYm91bmNpbmVzc1wiLlxuICogQHBhcmFtIHtOdW1iZXJ9ICAgW29wdGlvbnMuc3RpZmZuZXNzXSAgICAgICAgICBDb250YWN0RXF1YXRpb24gc3RpZmZuZXNzLlxuICogQHBhcmFtIHtOdW1iZXJ9ICAgW29wdGlvbnMucmVsYXhhdGlvbl0gICAgICAgICBDb250YWN0RXF1YXRpb24gcmVsYXhhdGlvbi5cbiAqIEBwYXJhbSB7TnVtYmVyfSAgIFtvcHRpb25zLmZyaWN0aW9uU3RpZmZuZXNzXSAgRnJpY3Rpb25FcXVhdGlvbiBzdGlmZm5lc3MuXG4gKiBAcGFyYW0ge051bWJlcn0gICBbb3B0aW9ucy5mcmljdGlvblJlbGF4YXRpb25dIEZyaWN0aW9uRXF1YXRpb24gcmVsYXhhdGlvbi5cbiAqIEBwYXJhbSB7TnVtYmVyfSAgIFtvcHRpb25zLnN1cmZhY2VWZWxvY2l0eT0wXSAgU3VyZmFjZSB2ZWxvY2l0eS5cbiAqIEBhdXRob3Igc2NodGVwcGVcbiAqL1xuZnVuY3Rpb24gQ29udGFjdE1hdGVyaWFsKG1hdGVyaWFsQSwgbWF0ZXJpYWxCLCBvcHRpb25zKXtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICAgIGlmKCEobWF0ZXJpYWxBIGluc3RhbmNlb2YgTWF0ZXJpYWwpIHx8ICEobWF0ZXJpYWxCIGluc3RhbmNlb2YgTWF0ZXJpYWwpKXtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRmlyc3QgdHdvIGFyZ3VtZW50cyBtdXN0IGJlIE1hdGVyaWFsIGluc3RhbmNlcy5cIik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGNvbnRhY3QgbWF0ZXJpYWwgaWRlbnRpZmllclxuICAgICAqIEBwcm9wZXJ0eSBpZFxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5pZCA9IENvbnRhY3RNYXRlcmlhbC5pZENvdW50ZXIrKztcblxuICAgIC8qKlxuICAgICAqIEZpcnN0IG1hdGVyaWFsIHBhcnRpY2lwYXRpbmcgaW4gdGhlIGNvbnRhY3QgbWF0ZXJpYWxcbiAgICAgKiBAcHJvcGVydHkgbWF0ZXJpYWxBXG4gICAgICogQHR5cGUge01hdGVyaWFsfVxuICAgICAqL1xuICAgIHRoaXMubWF0ZXJpYWxBID0gbWF0ZXJpYWxBO1xuXG4gICAgLyoqXG4gICAgICogU2Vjb25kIG1hdGVyaWFsIHBhcnRpY2lwYXRpbmcgaW4gdGhlIGNvbnRhY3QgbWF0ZXJpYWxcbiAgICAgKiBAcHJvcGVydHkgbWF0ZXJpYWxCXG4gICAgICogQHR5cGUge01hdGVyaWFsfVxuICAgICAqL1xuICAgIHRoaXMubWF0ZXJpYWxCID0gbWF0ZXJpYWxCO1xuXG4gICAgLyoqXG4gICAgICogRnJpY3Rpb24gdG8gdXNlIGluIHRoZSBjb250YWN0IG9mIHRoZXNlIHR3byBtYXRlcmlhbHNcbiAgICAgKiBAcHJvcGVydHkgZnJpY3Rpb25cbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuZnJpY3Rpb24gICAgPSAgdHlwZW9mKG9wdGlvbnMuZnJpY3Rpb24pICAgICE9PSBcInVuZGVmaW5lZFwiID8gICBOdW1iZXIob3B0aW9ucy5mcmljdGlvbikgICAgOiAwLjM7XG5cbiAgICAvKipcbiAgICAgKiBSZXN0aXR1dGlvbiB0byB1c2UgaW4gdGhlIGNvbnRhY3Qgb2YgdGhlc2UgdHdvIG1hdGVyaWFsc1xuICAgICAqIEBwcm9wZXJ0eSByZXN0aXR1dGlvblxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5yZXN0aXR1dGlvbiA9ICB0eXBlb2Yob3B0aW9ucy5yZXN0aXR1dGlvbikgIT09IFwidW5kZWZpbmVkXCIgPyAgIE51bWJlcihvcHRpb25zLnJlc3RpdHV0aW9uKSA6IDAuMDtcblxuICAgIC8qKlxuICAgICAqIFN0aWZmbmVzcyBvZiB0aGUgcmVzdWx0aW5nIENvbnRhY3RFcXVhdGlvbiB0aGF0IHRoaXMgQ29udGFjdE1hdGVyaWFsIGdlbmVyYXRlXG4gICAgICogQHByb3BlcnR5IHN0aWZmbmVzc1xuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5zdGlmZm5lc3MgPSAgICAgICAgICAgIHR5cGVvZihvcHRpb25zLnN0aWZmbmVzcykgICAgICAgICAgICE9PSBcInVuZGVmaW5lZFwiID8gICBOdW1iZXIob3B0aW9ucy5zdGlmZm5lc3MpICAgOiBFcXVhdGlvbi5ERUZBVUxUX1NUSUZGTkVTUztcblxuICAgIC8qKlxuICAgICAqIFJlbGF4YXRpb24gb2YgdGhlIHJlc3VsdGluZyBDb250YWN0RXF1YXRpb24gdGhhdCB0aGlzIENvbnRhY3RNYXRlcmlhbCBnZW5lcmF0ZVxuICAgICAqIEBwcm9wZXJ0eSByZWxheGF0aW9uXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnJlbGF4YXRpb24gPSAgICAgICAgICAgdHlwZW9mKG9wdGlvbnMucmVsYXhhdGlvbikgICAgICAgICAgIT09IFwidW5kZWZpbmVkXCIgPyAgIE51bWJlcihvcHRpb25zLnJlbGF4YXRpb24pICA6IEVxdWF0aW9uLkRFRkFVTFRfUkVMQVhBVElPTjtcblxuICAgIC8qKlxuICAgICAqIFN0aWZmbmVzcyBvZiB0aGUgcmVzdWx0aW5nIEZyaWN0aW9uRXF1YXRpb24gdGhhdCB0aGlzIENvbnRhY3RNYXRlcmlhbCBnZW5lcmF0ZVxuICAgICAqIEBwcm9wZXJ0eSBmcmljdGlvblN0aWZmbmVzc1xuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5mcmljdGlvblN0aWZmbmVzcyA9ICAgIHR5cGVvZihvcHRpb25zLmZyaWN0aW9uU3RpZmZuZXNzKSAgICE9PSBcInVuZGVmaW5lZFwiID8gICBOdW1iZXIob3B0aW9ucy5mcmljdGlvblN0aWZmbmVzcykgICA6IEVxdWF0aW9uLkRFRkFVTFRfU1RJRkZORVNTO1xuXG4gICAgLyoqXG4gICAgICogUmVsYXhhdGlvbiBvZiB0aGUgcmVzdWx0aW5nIEZyaWN0aW9uRXF1YXRpb24gdGhhdCB0aGlzIENvbnRhY3RNYXRlcmlhbCBnZW5lcmF0ZVxuICAgICAqIEBwcm9wZXJ0eSBmcmljdGlvblJlbGF4YXRpb25cbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuZnJpY3Rpb25SZWxheGF0aW9uID0gICB0eXBlb2Yob3B0aW9ucy5mcmljdGlvblJlbGF4YXRpb24pICAhPT0gXCJ1bmRlZmluZWRcIiA/ICAgTnVtYmVyKG9wdGlvbnMuZnJpY3Rpb25SZWxheGF0aW9uKSAgOiBFcXVhdGlvbi5ERUZBVUxUX1JFTEFYQVRJT047XG5cbiAgICAvKipcbiAgICAgKiBXaWxsIGFkZCBzdXJmYWNlIHZlbG9jaXR5IHRvIHRoaXMgbWF0ZXJpYWwuIElmIGJvZHlBIHJlc3RzIG9uIHRvcCBpZiBib2R5QiwgYW5kIHRoZSBzdXJmYWNlIHZlbG9jaXR5IGlzIHBvc2l0aXZlLCBib2R5QSB3aWxsIHNsaWRlIHRvIHRoZSByaWdodC5cbiAgICAgKiBAcHJvcGVydHkge051bWJlcn0gc3VyZmFjZVZlbG9jaXR5XG4gICAgICovXG4gICAgdGhpcy5zdXJmYWNlVmVsb2NpdHkgPSB0eXBlb2Yob3B0aW9ucy5zdXJmYWNlVmVsb2NpdHkpICAgICE9PSBcInVuZGVmaW5lZFwiID8gICBOdW1iZXIob3B0aW9ucy5zdXJmYWNlVmVsb2NpdHkpICAgIDogMDtcblxuICAgIC8qKlxuICAgICAqIE9mZnNldCB0byBiZSBzZXQgb24gQ29udGFjdEVxdWF0aW9ucy4gQSBwb3NpdGl2ZSB2YWx1ZSB3aWxsIG1ha2UgdGhlIGJvZGllcyBwZW5ldHJhdGUgbW9yZSBpbnRvIGVhY2ggb3RoZXIuIENhbiBiZSB1c2VmdWwgaW4gc2NlbmVzIHdoZXJlIGNvbnRhY3RzIG5lZWQgdG8gYmUgbW9yZSBwZXJzaXN0ZW50LCBmb3IgZXhhbXBsZSB3aGVuIHN0YWNraW5nLiBBa2EgXCJjdXJlIGZvciBuZXJ2b3VzIGNvbnRhY3RzXCIuXG4gICAgICogQHByb3BlcnR5IGNvbnRhY3RTa2luU2l6ZVxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5jb250YWN0U2tpblNpemUgPSAwLjAwNTtcbn1cblxuQ29udGFjdE1hdGVyaWFsLmlkQ291bnRlciA9IDA7XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9wMi9zcmMvbWF0ZXJpYWwvQ29udGFjdE1hdGVyaWFsLmpzXG4gKiogbW9kdWxlIGlkID0gNTJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciB2ZWMyID0gcmVxdWlyZSgnLi4vbWF0aC92ZWMyJyk7XG52YXIgU3ByaW5nID0gcmVxdWlyZSgnLi9TcHJpbmcnKTtcbnZhciBVdGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzL1V0aWxzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gTGluZWFyU3ByaW5nO1xuXG4vKipcbiAqIEEgc3ByaW5nLCBjb25uZWN0aW5nIHR3byBib2RpZXMuXG4gKlxuICogVGhlIFNwcmluZyBleHBsaWNpdGx5IGFkZHMgZm9yY2UgYW5kIGFuZ3VsYXJGb3JjZSB0byB0aGUgYm9kaWVzLlxuICpcbiAqIEBjbGFzcyBMaW5lYXJTcHJpbmdcbiAqIEBleHRlbmRzIFNwcmluZ1xuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0JvZHl9IGJvZHlBXG4gKiBAcGFyYW0ge0JvZHl9IGJvZHlCXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMucmVzdExlbmd0aF0gICBBIG51bWJlciA+IDAuIERlZmF1bHQgaXMgdGhlIGN1cnJlbnQgZGlzdGFuY2UgYmV0d2VlbiB0aGUgd29ybGQgYW5jaG9yIHBvaW50cy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5zdGlmZm5lc3M9MTAwXSAgU3ByaW5nIGNvbnN0YW50IChzZWUgSG9va2VzIExhdykuIEEgbnVtYmVyID49IDAuXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuZGFtcGluZz0xXSAgICAgIEEgbnVtYmVyID49IDAuIERlZmF1bHQ6IDFcbiAqIEBwYXJhbSB7QXJyYXl9ICBbb3B0aW9ucy53b3JsZEFuY2hvckFdICAgV2hlcmUgdG8gaG9vayB0aGUgc3ByaW5nIHRvIGJvZHkgQSwgaW4gd29ybGQgY29vcmRpbmF0ZXMuIE92ZXJyaWRlcyB0aGUgb3B0aW9uIFwibG9jYWxBbmNob3JBXCIgaWYgZ2l2ZW4uXG4gKiBAcGFyYW0ge0FycmF5fSAgW29wdGlvbnMud29ybGRBbmNob3JCXVxuICogQHBhcmFtIHtBcnJheX0gIFtvcHRpb25zLmxvY2FsQW5jaG9yQV0gICBXaGVyZSB0byBob29rIHRoZSBzcHJpbmcgdG8gYm9keSBBLCBpbiBsb2NhbCBib2R5IGNvb3JkaW5hdGVzLiBEZWZhdWx0cyB0byB0aGUgYm9keSBjZW50ZXIuXG4gKiBAcGFyYW0ge0FycmF5fSAgW29wdGlvbnMubG9jYWxBbmNob3JCXVxuICovXG5mdW5jdGlvbiBMaW5lYXJTcHJpbmcoYm9keUEsYm9keUIsb3B0aW9ucyl7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICBTcHJpbmcuY2FsbCh0aGlzLCBib2R5QSwgYm9keUIsIG9wdGlvbnMpO1xuXG4gICAgLyoqXG4gICAgICogQW5jaG9yIGZvciBib2R5QSBpbiBsb2NhbCBib2R5QSBjb29yZGluYXRlcy5cbiAgICAgKiBAcHJvcGVydHkgbG9jYWxBbmNob3JBXG4gICAgICogQHR5cGUge0FycmF5fVxuICAgICAqL1xuICAgIHRoaXMubG9jYWxBbmNob3JBID0gdmVjMi5mcm9tVmFsdWVzKDAsMCk7XG5cbiAgICAvKipcbiAgICAgKiBBbmNob3IgZm9yIGJvZHlCIGluIGxvY2FsIGJvZHlCIGNvb3JkaW5hdGVzLlxuICAgICAqIEBwcm9wZXJ0eSBsb2NhbEFuY2hvckJcbiAgICAgKiBAdHlwZSB7QXJyYXl9XG4gICAgICovXG4gICAgdGhpcy5sb2NhbEFuY2hvckIgPSB2ZWMyLmZyb21WYWx1ZXMoMCwwKTtcblxuICAgIGlmKG9wdGlvbnMubG9jYWxBbmNob3JBKXsgdmVjMi5jb3B5KHRoaXMubG9jYWxBbmNob3JBLCBvcHRpb25zLmxvY2FsQW5jaG9yQSk7IH1cbiAgICBpZihvcHRpb25zLmxvY2FsQW5jaG9yQil7IHZlYzIuY29weSh0aGlzLmxvY2FsQW5jaG9yQiwgb3B0aW9ucy5sb2NhbEFuY2hvckIpOyB9XG4gICAgaWYob3B0aW9ucy53b3JsZEFuY2hvckEpeyB0aGlzLnNldFdvcmxkQW5jaG9yQShvcHRpb25zLndvcmxkQW5jaG9yQSk7IH1cbiAgICBpZihvcHRpb25zLndvcmxkQW5jaG9yQil7IHRoaXMuc2V0V29ybGRBbmNob3JCKG9wdGlvbnMud29ybGRBbmNob3JCKTsgfVxuXG4gICAgdmFyIHdvcmxkQW5jaG9yQSA9IHZlYzIuY3JlYXRlKCk7XG4gICAgdmFyIHdvcmxkQW5jaG9yQiA9IHZlYzIuY3JlYXRlKCk7XG4gICAgdGhpcy5nZXRXb3JsZEFuY2hvckEod29ybGRBbmNob3JBKTtcbiAgICB0aGlzLmdldFdvcmxkQW5jaG9yQih3b3JsZEFuY2hvckIpO1xuICAgIHZhciB3b3JsZERpc3RhbmNlID0gdmVjMi5kaXN0YW5jZSh3b3JsZEFuY2hvckEsIHdvcmxkQW5jaG9yQik7XG5cbiAgICAvKipcbiAgICAgKiBSZXN0IGxlbmd0aCBvZiB0aGUgc3ByaW5nLlxuICAgICAqIEBwcm9wZXJ0eSByZXN0TGVuZ3RoXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnJlc3RMZW5ndGggPSB0eXBlb2Yob3B0aW9ucy5yZXN0TGVuZ3RoKSA9PT0gXCJudW1iZXJcIiA/IG9wdGlvbnMucmVzdExlbmd0aCA6IHdvcmxkRGlzdGFuY2U7XG59XG5MaW5lYXJTcHJpbmcucHJvdG90eXBlID0gbmV3IFNwcmluZygpO1xuTGluZWFyU3ByaW5nLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IExpbmVhclNwcmluZztcblxuLyoqXG4gKiBTZXQgdGhlIGFuY2hvciBwb2ludCBvbiBib2R5IEEsIHVzaW5nIHdvcmxkIGNvb3JkaW5hdGVzLlxuICogQG1ldGhvZCBzZXRXb3JsZEFuY2hvckFcbiAqIEBwYXJhbSB7QXJyYXl9IHdvcmxkQW5jaG9yQVxuICovXG5MaW5lYXJTcHJpbmcucHJvdG90eXBlLnNldFdvcmxkQW5jaG9yQSA9IGZ1bmN0aW9uKHdvcmxkQW5jaG9yQSl7XG4gICAgdGhpcy5ib2R5QS50b0xvY2FsRnJhbWUodGhpcy5sb2NhbEFuY2hvckEsIHdvcmxkQW5jaG9yQSk7XG59O1xuXG4vKipcbiAqIFNldCB0aGUgYW5jaG9yIHBvaW50IG9uIGJvZHkgQiwgdXNpbmcgd29ybGQgY29vcmRpbmF0ZXMuXG4gKiBAbWV0aG9kIHNldFdvcmxkQW5jaG9yQlxuICogQHBhcmFtIHtBcnJheX0gd29ybGRBbmNob3JCXG4gKi9cbkxpbmVhclNwcmluZy5wcm90b3R5cGUuc2V0V29ybGRBbmNob3JCID0gZnVuY3Rpb24od29ybGRBbmNob3JCKXtcbiAgICB0aGlzLmJvZHlCLnRvTG9jYWxGcmFtZSh0aGlzLmxvY2FsQW5jaG9yQiwgd29ybGRBbmNob3JCKTtcbn07XG5cbi8qKlxuICogR2V0IHRoZSBhbmNob3IgcG9pbnQgb24gYm9keSBBLCBpbiB3b3JsZCBjb29yZGluYXRlcy5cbiAqIEBtZXRob2QgZ2V0V29ybGRBbmNob3JBXG4gKiBAcGFyYW0ge0FycmF5fSByZXN1bHQgVGhlIHZlY3RvciB0byBzdG9yZSB0aGUgcmVzdWx0IGluLlxuICovXG5MaW5lYXJTcHJpbmcucHJvdG90eXBlLmdldFdvcmxkQW5jaG9yQSA9IGZ1bmN0aW9uKHJlc3VsdCl7XG4gICAgdGhpcy5ib2R5QS50b1dvcmxkRnJhbWUocmVzdWx0LCB0aGlzLmxvY2FsQW5jaG9yQSk7XG59O1xuXG4vKipcbiAqIEdldCB0aGUgYW5jaG9yIHBvaW50IG9uIGJvZHkgQiwgaW4gd29ybGQgY29vcmRpbmF0ZXMuXG4gKiBAbWV0aG9kIGdldFdvcmxkQW5jaG9yQlxuICogQHBhcmFtIHtBcnJheX0gcmVzdWx0IFRoZSB2ZWN0b3IgdG8gc3RvcmUgdGhlIHJlc3VsdCBpbi5cbiAqL1xuTGluZWFyU3ByaW5nLnByb3RvdHlwZS5nZXRXb3JsZEFuY2hvckIgPSBmdW5jdGlvbihyZXN1bHQpe1xuICAgIHRoaXMuYm9keUIudG9Xb3JsZEZyYW1lKHJlc3VsdCwgdGhpcy5sb2NhbEFuY2hvckIpO1xufTtcblxudmFyIGFwcGx5Rm9yY2VfciA9ICAgICAgICAgICAgICB2ZWMyLmNyZWF0ZSgpLFxuICAgIGFwcGx5Rm9yY2Vfcl91bml0ID0gICAgICAgICB2ZWMyLmNyZWF0ZSgpLFxuICAgIGFwcGx5Rm9yY2VfdSA9ICAgICAgICAgICAgICB2ZWMyLmNyZWF0ZSgpLFxuICAgIGFwcGx5Rm9yY2VfZiA9ICAgICAgICAgICAgICB2ZWMyLmNyZWF0ZSgpLFxuICAgIGFwcGx5Rm9yY2Vfd29ybGRBbmNob3JBID0gICB2ZWMyLmNyZWF0ZSgpLFxuICAgIGFwcGx5Rm9yY2Vfd29ybGRBbmNob3JCID0gICB2ZWMyLmNyZWF0ZSgpLFxuICAgIGFwcGx5Rm9yY2VfcmkgPSAgICAgICAgICAgICB2ZWMyLmNyZWF0ZSgpLFxuICAgIGFwcGx5Rm9yY2VfcmogPSAgICAgICAgICAgICB2ZWMyLmNyZWF0ZSgpLFxuICAgIGFwcGx5Rm9yY2VfdG1wID0gICAgICAgICAgICB2ZWMyLmNyZWF0ZSgpO1xuXG4vKipcbiAqIEFwcGx5IHRoZSBzcHJpbmcgZm9yY2UgdG8gdGhlIGNvbm5lY3RlZCBib2RpZXMuXG4gKiBAbWV0aG9kIGFwcGx5Rm9yY2VcbiAqL1xuTGluZWFyU3ByaW5nLnByb3RvdHlwZS5hcHBseUZvcmNlID0gZnVuY3Rpb24oKXtcbiAgICB2YXIgayA9IHRoaXMuc3RpZmZuZXNzLFxuICAgICAgICBkID0gdGhpcy5kYW1waW5nLFxuICAgICAgICBsID0gdGhpcy5yZXN0TGVuZ3RoLFxuICAgICAgICBib2R5QSA9IHRoaXMuYm9keUEsXG4gICAgICAgIGJvZHlCID0gdGhpcy5ib2R5QixcbiAgICAgICAgciA9IGFwcGx5Rm9yY2VfcixcbiAgICAgICAgcl91bml0ID0gYXBwbHlGb3JjZV9yX3VuaXQsXG4gICAgICAgIHUgPSBhcHBseUZvcmNlX3UsXG4gICAgICAgIGYgPSBhcHBseUZvcmNlX2YsXG4gICAgICAgIHRtcCA9IGFwcGx5Rm9yY2VfdG1wO1xuXG4gICAgdmFyIHdvcmxkQW5jaG9yQSA9IGFwcGx5Rm9yY2Vfd29ybGRBbmNob3JBLFxuICAgICAgICB3b3JsZEFuY2hvckIgPSBhcHBseUZvcmNlX3dvcmxkQW5jaG9yQixcbiAgICAgICAgcmkgPSBhcHBseUZvcmNlX3JpLFxuICAgICAgICByaiA9IGFwcGx5Rm9yY2Vfcmo7XG5cbiAgICAvLyBHZXQgd29ybGQgYW5jaG9yc1xuICAgIHRoaXMuZ2V0V29ybGRBbmNob3JBKHdvcmxkQW5jaG9yQSk7XG4gICAgdGhpcy5nZXRXb3JsZEFuY2hvckIod29ybGRBbmNob3JCKTtcblxuICAgIC8vIEdldCBvZmZzZXQgcG9pbnRzXG4gICAgdmVjMi5zdWIocmksIHdvcmxkQW5jaG9yQSwgYm9keUEucG9zaXRpb24pO1xuICAgIHZlYzIuc3ViKHJqLCB3b3JsZEFuY2hvckIsIGJvZHlCLnBvc2l0aW9uKTtcblxuICAgIC8vIENvbXB1dGUgZGlzdGFuY2UgdmVjdG9yIGJldHdlZW4gd29ybGQgYW5jaG9yIHBvaW50c1xuICAgIHZlYzIuc3ViKHIsIHdvcmxkQW5jaG9yQiwgd29ybGRBbmNob3JBKTtcbiAgICB2YXIgcmxlbiA9IHZlYzIubGVuKHIpO1xuICAgIHZlYzIubm9ybWFsaXplKHJfdW5pdCxyKTtcblxuICAgIC8vY29uc29sZS5sb2cocmxlbilcbiAgICAvL2NvbnNvbGUubG9nKFwiQVwiLHZlYzIuc3RyKHdvcmxkQW5jaG9yQSksXCJCXCIsdmVjMi5zdHIod29ybGRBbmNob3JCKSlcblxuICAgIC8vIENvbXB1dGUgcmVsYXRpdmUgdmVsb2NpdHkgb2YgdGhlIGFuY2hvciBwb2ludHMsIHVcbiAgICB2ZWMyLnN1Yih1LCBib2R5Qi52ZWxvY2l0eSwgYm9keUEudmVsb2NpdHkpO1xuICAgIHZlYzIuY3Jvc3NaVih0bXAsIGJvZHlCLmFuZ3VsYXJWZWxvY2l0eSwgcmopO1xuICAgIHZlYzIuYWRkKHUsIHUsIHRtcCk7XG4gICAgdmVjMi5jcm9zc1pWKHRtcCwgYm9keUEuYW5ndWxhclZlbG9jaXR5LCByaSk7XG4gICAgdmVjMi5zdWIodSwgdSwgdG1wKTtcblxuICAgIC8vIEYgPSAtIGsgKiAoIHggLSBMICkgLSBEICogKCB1IClcbiAgICB2ZWMyLnNjYWxlKGYsIHJfdW5pdCwgLWsqKHJsZW4tbCkgLSBkKnZlYzIuZG90KHUscl91bml0KSk7XG5cbiAgICAvLyBBZGQgZm9yY2VzIHRvIGJvZGllc1xuICAgIHZlYzIuc3ViKCBib2R5QS5mb3JjZSwgYm9keUEuZm9yY2UsIGYpO1xuICAgIHZlYzIuYWRkKCBib2R5Qi5mb3JjZSwgYm9keUIuZm9yY2UsIGYpO1xuXG4gICAgLy8gQW5ndWxhciBmb3JjZVxuICAgIHZhciByaV94X2YgPSB2ZWMyLmNyb3NzTGVuZ3RoKHJpLCBmKTtcbiAgICB2YXIgcmpfeF9mID0gdmVjMi5jcm9zc0xlbmd0aChyaiwgZik7XG4gICAgYm9keUEuYW5ndWxhckZvcmNlIC09IHJpX3hfZjtcbiAgICBib2R5Qi5hbmd1bGFyRm9yY2UgKz0gcmpfeF9mO1xufTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3AyL3NyYy9vYmplY3RzL0xpbmVhclNwcmluZy5qc1xuICoqIG1vZHVsZSBpZCA9IDUzXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgdmVjMiA9IHJlcXVpcmUoJy4uL21hdGgvdmVjMicpO1xudmFyIFNwcmluZyA9IHJlcXVpcmUoJy4vU3ByaW5nJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gUm90YXRpb25hbFNwcmluZztcblxuLyoqXG4gKiBBIHJvdGF0aW9uYWwgc3ByaW5nLCBjb25uZWN0aW5nIHR3byBib2RpZXMgcm90YXRpb24uIFRoaXMgc3ByaW5nIGV4cGxpY2l0bHkgYWRkcyBhbmd1bGFyRm9yY2UgKHRvcnF1ZSkgdG8gdGhlIGJvZGllcy5cbiAqXG4gKiBUaGUgc3ByaW5nIGNhbiBiZSBjb21iaW5lZCB3aXRoIGEge3sjY3Jvc3NMaW5rIFwiUmV2b2x1dGVDb25zdHJhaW50XCJ9fXt7L2Nyb3NzTGlua319IHRvIG1ha2UsIGZvciBleGFtcGxlLCBhIG1vdXNlIHRyYXAuXG4gKlxuICogQGNsYXNzIFJvdGF0aW9uYWxTcHJpbmdcbiAqIEBleHRlbmRzIFNwcmluZ1xuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0JvZHl9IGJvZHlBXG4gKiBAcGFyYW0ge0JvZHl9IGJvZHlCXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMucmVzdEFuZ2xlXSBUaGUgcmVsYXRpdmUgYW5nbGUgb2YgYm9kaWVzIGF0IHdoaWNoIHRoZSBzcHJpbmcgaXMgYXQgcmVzdC4gSWYgbm90IGdpdmVuLCBpdCdzIHNldCB0byB0aGUgY3VycmVudCByZWxhdGl2ZSBhbmdsZSBiZXR3ZWVuIHRoZSBib2RpZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuc3RpZmZuZXNzPTEwMF0gU3ByaW5nIGNvbnN0YW50IChzZWUgSG9va2VzIExhdykuIEEgbnVtYmVyID49IDAuXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuZGFtcGluZz0xXSBBIG51bWJlciA+PSAwLlxuICovXG5mdW5jdGlvbiBSb3RhdGlvbmFsU3ByaW5nKGJvZHlBLCBib2R5Qiwgb3B0aW9ucyl7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICBTcHJpbmcuY2FsbCh0aGlzLCBib2R5QSwgYm9keUIsIG9wdGlvbnMpO1xuXG4gICAgLyoqXG4gICAgICogUmVzdCBhbmdsZSBvZiB0aGUgc3ByaW5nLlxuICAgICAqIEBwcm9wZXJ0eSByZXN0QW5nbGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMucmVzdEFuZ2xlID0gdHlwZW9mKG9wdGlvbnMucmVzdEFuZ2xlKSA9PT0gXCJudW1iZXJcIiA/IG9wdGlvbnMucmVzdEFuZ2xlIDogYm9keUIuYW5nbGUgLSBib2R5QS5hbmdsZTtcbn1cblJvdGF0aW9uYWxTcHJpbmcucHJvdG90eXBlID0gbmV3IFNwcmluZygpO1xuUm90YXRpb25hbFNwcmluZy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBSb3RhdGlvbmFsU3ByaW5nO1xuXG4vKipcbiAqIEFwcGx5IHRoZSBzcHJpbmcgZm9yY2UgdG8gdGhlIGNvbm5lY3RlZCBib2RpZXMuXG4gKiBAbWV0aG9kIGFwcGx5Rm9yY2VcbiAqL1xuUm90YXRpb25hbFNwcmluZy5wcm90b3R5cGUuYXBwbHlGb3JjZSA9IGZ1bmN0aW9uKCl7XG4gICAgdmFyIGsgPSB0aGlzLnN0aWZmbmVzcyxcbiAgICAgICAgZCA9IHRoaXMuZGFtcGluZyxcbiAgICAgICAgbCA9IHRoaXMucmVzdEFuZ2xlLFxuICAgICAgICBib2R5QSA9IHRoaXMuYm9keUEsXG4gICAgICAgIGJvZHlCID0gdGhpcy5ib2R5QixcbiAgICAgICAgeCA9IGJvZHlCLmFuZ2xlIC0gYm9keUEuYW5nbGUsXG4gICAgICAgIHUgPSBib2R5Qi5hbmd1bGFyVmVsb2NpdHkgLSBib2R5QS5hbmd1bGFyVmVsb2NpdHk7XG5cbiAgICB2YXIgdG9ycXVlID0gLSBrICogKHggLSBsKSAtIGQgKiB1ICogMDtcblxuICAgIGJvZHlBLmFuZ3VsYXJGb3JjZSAtPSB0b3JxdWU7XG4gICAgYm9keUIuYW5ndWxhckZvcmNlICs9IHRvcnF1ZTtcbn07XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9wMi9zcmMvb2JqZWN0cy9Sb3RhdGlvbmFsU3ByaW5nLmpzXG4gKiogbW9kdWxlIGlkID0gNTRcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciB2ZWMyID0gcmVxdWlyZSgnLi4vbWF0aC92ZWMyJylcbiwgICBTaGFwZSA9IHJlcXVpcmUoJy4vU2hhcGUnKVxuLCAgIENvbnZleCA9IHJlcXVpcmUoJy4vQ29udmV4Jyk7XG5cbm1vZHVsZS5leHBvcnRzID0gQm94O1xuXG4vKipcbiAqIEJveCBzaGFwZSBjbGFzcy5cbiAqIEBjbGFzcyBCb3hcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAoTm90ZSB0aGF0IHRoaXMgb3B0aW9ucyBvYmplY3Qgd2lsbCBiZSBwYXNzZWQgb24gdG8gdGhlIHt7I2Nyb3NzTGluayBcIlNoYXBlXCJ9fXt7L2Nyb3NzTGlua319IGNvbnN0cnVjdG9yLilcbiAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy53aWR0aD0xXSBUb3RhbCB3aWR0aCBvZiB0aGUgYm94XG4gKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMuaGVpZ2h0PTFdIFRvdGFsIGhlaWdodCBvZiB0aGUgYm94XG4gKiBAZXh0ZW5kcyBDb252ZXhcbiAqL1xuZnVuY3Rpb24gQm94KG9wdGlvbnMpe1xuICAgIGlmKHR5cGVvZihhcmd1bWVudHNbMF0pID09PSAnbnVtYmVyJyAmJiB0eXBlb2YoYXJndW1lbnRzWzFdKSA9PT0gJ251bWJlcicpe1xuICAgICAgICBvcHRpb25zID0ge1xuICAgICAgICAgICAgd2lkdGg6IGFyZ3VtZW50c1swXSxcbiAgICAgICAgICAgIGhlaWdodDogYXJndW1lbnRzWzFdXG4gICAgICAgIH07XG4gICAgICAgIGNvbnNvbGUud2FybignVGhlIFJlY3RhbmdsZSBoYXMgYmVlbiByZW5hbWVkIHRvIEJveCBhbmQgaXRzIGNvbnN0cnVjdG9yIHNpZ25hdHVyZSBoYXMgY2hhbmdlZC4gUGxlYXNlIHVzZSB0aGUgZm9sbG93aW5nIGZvcm1hdDogbmV3IEJveCh7IHdpZHRoOiAxLCBoZWlnaHQ6IDEsIC4uLiB9KScpO1xuICAgIH1cbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICAgIC8qKlxuICAgICAqIFRvdGFsIHdpZHRoIG9mIHRoZSBib3hcbiAgICAgKiBAcHJvcGVydHkgd2lkdGhcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqL1xuICAgIHZhciB3aWR0aCA9IHRoaXMud2lkdGggPSBvcHRpb25zLndpZHRoIHx8IDE7XG5cbiAgICAvKipcbiAgICAgKiBUb3RhbCBoZWlnaHQgb2YgdGhlIGJveFxuICAgICAqIEBwcm9wZXJ0eSBoZWlnaHRcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqL1xuICAgIHZhciBoZWlnaHQgPSB0aGlzLmhlaWdodCA9IG9wdGlvbnMuaGVpZ2h0IHx8IDE7XG5cbiAgICB2YXIgdmVydHMgPSBbXG4gICAgICAgIHZlYzIuZnJvbVZhbHVlcygtd2lkdGgvMiwgLWhlaWdodC8yKSxcbiAgICAgICAgdmVjMi5mcm9tVmFsdWVzKCB3aWR0aC8yLCAtaGVpZ2h0LzIpLFxuICAgICAgICB2ZWMyLmZyb21WYWx1ZXMoIHdpZHRoLzIsICBoZWlnaHQvMiksXG4gICAgICAgIHZlYzIuZnJvbVZhbHVlcygtd2lkdGgvMiwgIGhlaWdodC8yKVxuICAgIF07XG4gICAgdmFyIGF4ZXMgPSBbXG4gICAgICAgIHZlYzIuZnJvbVZhbHVlcygxLCAwKSxcbiAgICAgICAgdmVjMi5mcm9tVmFsdWVzKDAsIDEpXG4gICAgXTtcblxuICAgIG9wdGlvbnMudmVydGljZXMgPSB2ZXJ0cztcbiAgICBvcHRpb25zLmF4ZXMgPSBheGVzO1xuICAgIG9wdGlvbnMudHlwZSA9IFNoYXBlLkJPWDtcbiAgICBDb252ZXguY2FsbCh0aGlzLCBvcHRpb25zKTtcbn1cbkJveC5wcm90b3R5cGUgPSBuZXcgQ29udmV4KCk7XG5Cb3gucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQm94O1xuXG4vKipcbiAqIENvbXB1dGUgbW9tZW50IG9mIGluZXJ0aWFcbiAqIEBtZXRob2QgY29tcHV0ZU1vbWVudE9mSW5lcnRpYVxuICogQHBhcmFtICB7TnVtYmVyfSBtYXNzXG4gKiBAcmV0dXJuIHtOdW1iZXJ9XG4gKi9cbkJveC5wcm90b3R5cGUuY29tcHV0ZU1vbWVudE9mSW5lcnRpYSA9IGZ1bmN0aW9uKG1hc3Mpe1xuICAgIHZhciB3ID0gdGhpcy53aWR0aCxcbiAgICAgICAgaCA9IHRoaXMuaGVpZ2h0O1xuICAgIHJldHVybiBtYXNzICogKGgqaCArIHcqdykgLyAxMjtcbn07XG5cbi8qKlxuICogVXBkYXRlIHRoZSBib3VuZGluZyByYWRpdXNcbiAqIEBtZXRob2QgdXBkYXRlQm91bmRpbmdSYWRpdXNcbiAqL1xuQm94LnByb3RvdHlwZS51cGRhdGVCb3VuZGluZ1JhZGl1cyA9IGZ1bmN0aW9uKCl7XG4gICAgdmFyIHcgPSB0aGlzLndpZHRoLFxuICAgICAgICBoID0gdGhpcy5oZWlnaHQ7XG4gICAgdGhpcy5ib3VuZGluZ1JhZGl1cyA9IE1hdGguc3FydCh3KncgKyBoKmgpIC8gMjtcbn07XG5cbnZhciBjb3JuZXIxID0gdmVjMi5jcmVhdGUoKSxcbiAgICBjb3JuZXIyID0gdmVjMi5jcmVhdGUoKSxcbiAgICBjb3JuZXIzID0gdmVjMi5jcmVhdGUoKSxcbiAgICBjb3JuZXI0ID0gdmVjMi5jcmVhdGUoKTtcblxuLyoqXG4gKiBAbWV0aG9kIGNvbXB1dGVBQUJCXG4gKiBAcGFyYW0gIHtBQUJCfSAgIG91dCAgICAgIFRoZSByZXN1bHRpbmcgQUFCQi5cbiAqIEBwYXJhbSAge0FycmF5fSAgcG9zaXRpb25cbiAqIEBwYXJhbSAge051bWJlcn0gYW5nbGVcbiAqL1xuQm94LnByb3RvdHlwZS5jb21wdXRlQUFCQiA9IGZ1bmN0aW9uKG91dCwgcG9zaXRpb24sIGFuZ2xlKXtcbiAgICBvdXQuc2V0RnJvbVBvaW50cyh0aGlzLnZlcnRpY2VzLHBvc2l0aW9uLGFuZ2xlLDApO1xufTtcblxuQm94LnByb3RvdHlwZS51cGRhdGVBcmVhID0gZnVuY3Rpb24oKXtcbiAgICB0aGlzLmFyZWEgPSB0aGlzLndpZHRoICogdGhpcy5oZWlnaHQ7XG59O1xuXG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9wMi9zcmMvc2hhcGVzL0JveC5qc1xuICoqIG1vZHVsZSBpZCA9IDU1XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgU2hhcGUgPSByZXF1aXJlKCcuL1NoYXBlJylcbiwgICB2ZWMyID0gcmVxdWlyZSgnLi4vbWF0aC92ZWMyJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gQ2Fwc3VsZTtcblxuLyoqXG4gKiBDYXBzdWxlIHNoYXBlIGNsYXNzLlxuICogQGNsYXNzIENhcHN1bGVcbiAqIEBjb25zdHJ1Y3RvclxuICogQGV4dGVuZHMgU2hhcGVcbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gKE5vdGUgdGhhdCB0aGlzIG9wdGlvbnMgb2JqZWN0IHdpbGwgYmUgcGFzc2VkIG9uIHRvIHRoZSB7eyNjcm9zc0xpbmsgXCJTaGFwZVwifX17ey9jcm9zc0xpbmt9fSBjb25zdHJ1Y3Rvci4pXG4gKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMubGVuZ3RoPTFdIFRoZSBkaXN0YW5jZSBiZXR3ZWVuIHRoZSBlbmQgcG9pbnRzXG4gKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMucmFkaXVzPTFdIFJhZGl1cyBvZiB0aGUgY2Fwc3VsZVxuICogQGV4YW1wbGVcbiAqICAgICB2YXIgY2Fwc3VsZVNoYXBlID0gbmV3IENhcHN1bGUoe1xuICogICAgICAgICBsZW5ndGg6IDEsXG4gKiAgICAgICAgIHJhZGl1czogMlxuICogICAgIH0pO1xuICogICAgIGJvZHkuYWRkU2hhcGUoY2Fwc3VsZVNoYXBlKTtcbiAqL1xuZnVuY3Rpb24gQ2Fwc3VsZShvcHRpb25zKXtcbiAgICBpZih0eXBlb2YoYXJndW1lbnRzWzBdKSA9PT0gJ251bWJlcicgJiYgdHlwZW9mKGFyZ3VtZW50c1sxXSkgPT09ICdudW1iZXInKXtcbiAgICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgIGxlbmd0aDogYXJndW1lbnRzWzBdLFxuICAgICAgICAgICAgcmFkaXVzOiBhcmd1bWVudHNbMV1cbiAgICAgICAgfTtcbiAgICAgICAgY29uc29sZS53YXJuKCdUaGUgQ2Fwc3VsZSBjb25zdHJ1Y3RvciBzaWduYXR1cmUgaGFzIGNoYW5nZWQuIFBsZWFzZSB1c2UgdGhlIGZvbGxvd2luZyBmb3JtYXQ6IG5ldyBDYXBzdWxlKHsgcmFkaXVzOiAxLCBsZW5ndGg6IDEgfSknKTtcbiAgICB9XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZGlzdGFuY2UgYmV0d2VlbiB0aGUgZW5kIHBvaW50cy5cbiAgICAgKiBAcHJvcGVydHkge051bWJlcn0gbGVuZ3RoXG4gICAgICovXG4gICAgdGhpcy5sZW5ndGggPSBvcHRpb25zLmxlbmd0aCB8fCAxO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHJhZGl1cyBvZiB0aGUgY2Fwc3VsZS5cbiAgICAgKiBAcHJvcGVydHkge051bWJlcn0gcmFkaXVzXG4gICAgICovXG4gICAgdGhpcy5yYWRpdXMgPSBvcHRpb25zLnJhZGl1cyB8fCAxO1xuXG4gICAgb3B0aW9ucy50eXBlID0gU2hhcGUuQ0FQU1VMRTtcbiAgICBTaGFwZS5jYWxsKHRoaXMsIG9wdGlvbnMpO1xufVxuQ2Fwc3VsZS5wcm90b3R5cGUgPSBuZXcgU2hhcGUoKTtcbkNhcHN1bGUucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQ2Fwc3VsZTtcblxuLyoqXG4gKiBDb21wdXRlIHRoZSBtYXNzIG1vbWVudCBvZiBpbmVydGlhIG9mIHRoZSBDYXBzdWxlLlxuICogQG1ldGhvZCBjb25wdXRlTW9tZW50T2ZJbmVydGlhXG4gKiBAcGFyYW0gIHtOdW1iZXJ9IG1hc3NcbiAqIEByZXR1cm4ge051bWJlcn1cbiAqIEB0b2RvXG4gKi9cbkNhcHN1bGUucHJvdG90eXBlLmNvbXB1dGVNb21lbnRPZkluZXJ0aWEgPSBmdW5jdGlvbihtYXNzKXtcbiAgICAvLyBBcHByb3hpbWF0ZSB3aXRoIHJlY3RhbmdsZVxuICAgIHZhciByID0gdGhpcy5yYWRpdXMsXG4gICAgICAgIHcgPSB0aGlzLmxlbmd0aCArIHIsIC8vIDIqciBpcyB0b28gbXVjaCwgMCBpcyB0b28gbGl0dGxlXG4gICAgICAgIGggPSByKjI7XG4gICAgcmV0dXJuIG1hc3MgKiAoaCpoICsgdyp3KSAvIDEyO1xufTtcblxuLyoqXG4gKiBAbWV0aG9kIHVwZGF0ZUJvdW5kaW5nUmFkaXVzXG4gKi9cbkNhcHN1bGUucHJvdG90eXBlLnVwZGF0ZUJvdW5kaW5nUmFkaXVzID0gZnVuY3Rpb24oKXtcbiAgICB0aGlzLmJvdW5kaW5nUmFkaXVzID0gdGhpcy5yYWRpdXMgKyB0aGlzLmxlbmd0aC8yO1xufTtcblxuLyoqXG4gKiBAbWV0aG9kIHVwZGF0ZUFyZWFcbiAqL1xuQ2Fwc3VsZS5wcm90b3R5cGUudXBkYXRlQXJlYSA9IGZ1bmN0aW9uKCl7XG4gICAgdGhpcy5hcmVhID0gTWF0aC5QSSAqIHRoaXMucmFkaXVzICogdGhpcy5yYWRpdXMgKyB0aGlzLnJhZGl1cyAqIDIgKiB0aGlzLmxlbmd0aDtcbn07XG5cbnZhciByID0gdmVjMi5jcmVhdGUoKTtcblxuLyoqXG4gKiBAbWV0aG9kIGNvbXB1dGVBQUJCXG4gKiBAcGFyYW0gIHtBQUJCfSAgIG91dCAgICAgIFRoZSByZXN1bHRpbmcgQUFCQi5cbiAqIEBwYXJhbSAge0FycmF5fSAgcG9zaXRpb25cbiAqIEBwYXJhbSAge051bWJlcn0gYW5nbGVcbiAqL1xuQ2Fwc3VsZS5wcm90b3R5cGUuY29tcHV0ZUFBQkIgPSBmdW5jdGlvbihvdXQsIHBvc2l0aW9uLCBhbmdsZSl7XG4gICAgdmFyIHJhZGl1cyA9IHRoaXMucmFkaXVzO1xuXG4gICAgLy8gQ29tcHV0ZSBjZW50ZXIgcG9zaXRpb24gb2Ygb25lIG9mIHRoZSB0aGUgY2lyY2xlcywgd29ybGQgb3JpZW50ZWQsIGJ1dCB3aXRoIGxvY2FsIG9mZnNldFxuICAgIHZlYzIuc2V0KHIsdGhpcy5sZW5ndGggLyAyLDApO1xuICAgIGlmKGFuZ2xlICE9PSAwKXtcbiAgICAgICAgdmVjMi5yb3RhdGUocixyLGFuZ2xlKTtcbiAgICB9XG5cbiAgICAvLyBHZXQgYm91bmRzXG4gICAgdmVjMi5zZXQob3V0LnVwcGVyQm91bmQsICBNYXRoLm1heChyWzBdK3JhZGl1cywgLXJbMF0rcmFkaXVzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hdGgubWF4KHJbMV0rcmFkaXVzLCAtclsxXStyYWRpdXMpKTtcbiAgICB2ZWMyLnNldChvdXQubG93ZXJCb3VuZCwgIE1hdGgubWluKHJbMF0tcmFkaXVzLCAtclswXS1yYWRpdXMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5taW4oclsxXS1yYWRpdXMsIC1yWzFdLXJhZGl1cykpO1xuXG4gICAgLy8gQWRkIG9mZnNldFxuICAgIHZlYzIuYWRkKG91dC5sb3dlckJvdW5kLCBvdXQubG93ZXJCb3VuZCwgcG9zaXRpb24pO1xuICAgIHZlYzIuYWRkKG91dC51cHBlckJvdW5kLCBvdXQudXBwZXJCb3VuZCwgcG9zaXRpb24pO1xufTtcblxudmFyIGludGVyc2VjdENhcHN1bGVfaGl0UG9pbnRXb3JsZCA9IHZlYzIuY3JlYXRlKCk7XG52YXIgaW50ZXJzZWN0Q2Fwc3VsZV9ub3JtYWwgPSB2ZWMyLmNyZWF0ZSgpO1xudmFyIGludGVyc2VjdENhcHN1bGVfbDAgPSB2ZWMyLmNyZWF0ZSgpO1xudmFyIGludGVyc2VjdENhcHN1bGVfbDEgPSB2ZWMyLmNyZWF0ZSgpO1xudmFyIGludGVyc2VjdENhcHN1bGVfdW5pdF95ID0gdmVjMi5mcm9tVmFsdWVzKDAsMSk7XG5cbi8qKlxuICogQG1ldGhvZCByYXljYXN0XG4gKiBAcGFyYW0gIHtSYXljYXN0UmVzdWx0fSByZXN1bHRcbiAqIEBwYXJhbSAge1JheX0gcmF5XG4gKiBAcGFyYW0gIHthcnJheX0gcG9zaXRpb25cbiAqIEBwYXJhbSAge251bWJlcn0gYW5nbGVcbiAqL1xuQ2Fwc3VsZS5wcm90b3R5cGUucmF5Y2FzdCA9IGZ1bmN0aW9uKHJlc3VsdCwgcmF5LCBwb3NpdGlvbiwgYW5nbGUpe1xuICAgIHZhciBmcm9tID0gcmF5LmZyb207XG4gICAgdmFyIHRvID0gcmF5LnRvO1xuICAgIHZhciBkaXJlY3Rpb24gPSByYXkuZGlyZWN0aW9uO1xuXG4gICAgdmFyIGhpdFBvaW50V29ybGQgPSBpbnRlcnNlY3RDYXBzdWxlX2hpdFBvaW50V29ybGQ7XG4gICAgdmFyIG5vcm1hbCA9IGludGVyc2VjdENhcHN1bGVfbm9ybWFsO1xuICAgIHZhciBsMCA9IGludGVyc2VjdENhcHN1bGVfbDA7XG4gICAgdmFyIGwxID0gaW50ZXJzZWN0Q2Fwc3VsZV9sMTtcblxuICAgIC8vIFRoZSBzaWRlc1xuICAgIHZhciBoYWxmTGVuID0gdGhpcy5sZW5ndGggLyAyO1xuICAgIGZvcih2YXIgaT0wOyBpPDI7IGkrKyl7XG5cbiAgICAgICAgLy8gZ2V0IHN0YXJ0IGFuZCBlbmQgb2YgdGhlIGxpbmVcbiAgICAgICAgdmFyIHkgPSB0aGlzLnJhZGl1cyAqIChpKjItMSk7XG4gICAgICAgIHZlYzIuc2V0KGwwLCAtaGFsZkxlbiwgeSk7XG4gICAgICAgIHZlYzIuc2V0KGwxLCBoYWxmTGVuLCB5KTtcbiAgICAgICAgdmVjMi50b0dsb2JhbEZyYW1lKGwwLCBsMCwgcG9zaXRpb24sIGFuZ2xlKTtcbiAgICAgICAgdmVjMi50b0dsb2JhbEZyYW1lKGwxLCBsMSwgcG9zaXRpb24sIGFuZ2xlKTtcblxuICAgICAgICB2YXIgZGVsdGEgPSB2ZWMyLmdldExpbmVTZWdtZW50c0ludGVyc2VjdGlvbkZyYWN0aW9uKGZyb20sIHRvLCBsMCwgbDEpO1xuICAgICAgICBpZihkZWx0YSA+PSAwKXtcbiAgICAgICAgICAgIHZlYzIucm90YXRlKG5vcm1hbCwgaW50ZXJzZWN0Q2Fwc3VsZV91bml0X3ksIGFuZ2xlKTtcbiAgICAgICAgICAgIHZlYzIuc2NhbGUobm9ybWFsLCBub3JtYWwsIChpKjItMSkpO1xuICAgICAgICAgICAgcmF5LnJlcG9ydEludGVyc2VjdGlvbihyZXN1bHQsIGRlbHRhLCBub3JtYWwsIC0xKTtcbiAgICAgICAgICAgIGlmKHJlc3VsdC5zaG91bGRTdG9wKHJheSkpe1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIENpcmNsZXNcbiAgICB2YXIgZGlhZ29uYWxMZW5ndGhTcXVhcmVkID0gTWF0aC5wb3codGhpcy5yYWRpdXMsIDIpICsgTWF0aC5wb3coaGFsZkxlbiwgMik7XG4gICAgZm9yKHZhciBpPTA7IGk8MjsgaSsrKXtcbiAgICAgICAgdmVjMi5zZXQobDAsIGhhbGZMZW4gKiAoaSoyLTEpLCAwKTtcbiAgICAgICAgdmVjMi50b0dsb2JhbEZyYW1lKGwwLCBsMCwgcG9zaXRpb24sIGFuZ2xlKTtcblxuICAgICAgICB2YXIgYSA9IE1hdGgucG93KHRvWzBdIC0gZnJvbVswXSwgMikgKyBNYXRoLnBvdyh0b1sxXSAtIGZyb21bMV0sIDIpO1xuICAgICAgICB2YXIgYiA9IDIgKiAoKHRvWzBdIC0gZnJvbVswXSkgKiAoZnJvbVswXSAtIGwwWzBdKSArICh0b1sxXSAtIGZyb21bMV0pICogKGZyb21bMV0gLSBsMFsxXSkpO1xuICAgICAgICB2YXIgYyA9IE1hdGgucG93KGZyb21bMF0gLSBsMFswXSwgMikgKyBNYXRoLnBvdyhmcm9tWzFdIC0gbDBbMV0sIDIpIC0gTWF0aC5wb3codGhpcy5yYWRpdXMsIDIpO1xuICAgICAgICB2YXIgZGVsdGEgPSBNYXRoLnBvdyhiLCAyKSAtIDQgKiBhICogYztcblxuICAgICAgICBpZihkZWx0YSA8IDApe1xuICAgICAgICAgICAgLy8gTm8gaW50ZXJzZWN0aW9uXG4gICAgICAgICAgICBjb250aW51ZTtcblxuICAgICAgICB9IGVsc2UgaWYoZGVsdGEgPT09IDApe1xuICAgICAgICAgICAgLy8gc2luZ2xlIGludGVyc2VjdGlvbiBwb2ludFxuICAgICAgICAgICAgdmVjMi5sZXJwKGhpdFBvaW50V29ybGQsIGZyb20sIHRvLCBkZWx0YSk7XG5cbiAgICAgICAgICAgIGlmKHZlYzIuc3F1YXJlZERpc3RhbmNlKGhpdFBvaW50V29ybGQsIHBvc2l0aW9uKSA+IGRpYWdvbmFsTGVuZ3RoU3F1YXJlZCl7XG4gICAgICAgICAgICAgICAgdmVjMi5zdWIobm9ybWFsLCBoaXRQb2ludFdvcmxkLCBsMCk7XG4gICAgICAgICAgICAgICAgdmVjMi5ub3JtYWxpemUobm9ybWFsLG5vcm1hbCk7XG4gICAgICAgICAgICAgICAgcmF5LnJlcG9ydEludGVyc2VjdGlvbihyZXN1bHQsIGRlbHRhLCBub3JtYWwsIC0xKTtcbiAgICAgICAgICAgICAgICBpZihyZXN1bHQuc2hvdWxkU3RvcChyYXkpKXtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIHNxcnREZWx0YSA9IE1hdGguc3FydChkZWx0YSk7XG4gICAgICAgICAgICB2YXIgaW52MmEgPSAxIC8gKDIgKiBhKTtcbiAgICAgICAgICAgIHZhciBkMSA9ICgtIGIgLSBzcXJ0RGVsdGEpICogaW52MmE7XG4gICAgICAgICAgICB2YXIgZDIgPSAoLSBiICsgc3FydERlbHRhKSAqIGludjJhO1xuXG4gICAgICAgICAgICBpZihkMSA+PSAwICYmIGQxIDw9IDEpe1xuICAgICAgICAgICAgICAgIHZlYzIubGVycChoaXRQb2ludFdvcmxkLCBmcm9tLCB0bywgZDEpO1xuICAgICAgICAgICAgICAgIGlmKHZlYzIuc3F1YXJlZERpc3RhbmNlKGhpdFBvaW50V29ybGQsIHBvc2l0aW9uKSA+IGRpYWdvbmFsTGVuZ3RoU3F1YXJlZCl7XG4gICAgICAgICAgICAgICAgICAgIHZlYzIuc3ViKG5vcm1hbCwgaGl0UG9pbnRXb3JsZCwgbDApO1xuICAgICAgICAgICAgICAgICAgICB2ZWMyLm5vcm1hbGl6ZShub3JtYWwsbm9ybWFsKTtcbiAgICAgICAgICAgICAgICAgICAgcmF5LnJlcG9ydEludGVyc2VjdGlvbihyZXN1bHQsIGQxLCBub3JtYWwsIC0xKTtcbiAgICAgICAgICAgICAgICAgICAgaWYocmVzdWx0LnNob3VsZFN0b3AocmF5KSl7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmKGQyID49IDAgJiYgZDIgPD0gMSl7XG4gICAgICAgICAgICAgICAgdmVjMi5sZXJwKGhpdFBvaW50V29ybGQsIGZyb20sIHRvLCBkMik7XG4gICAgICAgICAgICAgICAgaWYodmVjMi5zcXVhcmVkRGlzdGFuY2UoaGl0UG9pbnRXb3JsZCwgcG9zaXRpb24pID4gZGlhZ29uYWxMZW5ndGhTcXVhcmVkKXtcbiAgICAgICAgICAgICAgICAgICAgdmVjMi5zdWIobm9ybWFsLCBoaXRQb2ludFdvcmxkLCBsMCk7XG4gICAgICAgICAgICAgICAgICAgIHZlYzIubm9ybWFsaXplKG5vcm1hbCxub3JtYWwpO1xuICAgICAgICAgICAgICAgICAgICByYXkucmVwb3J0SW50ZXJzZWN0aW9uKHJlc3VsdCwgZDIsIG5vcm1hbCwgLTEpO1xuICAgICAgICAgICAgICAgICAgICBpZihyZXN1bHQuc2hvdWxkU3RvcChyYXkpKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcDIvc3JjL3NoYXBlcy9DYXBzdWxlLmpzXG4gKiogbW9kdWxlIGlkID0gNTZcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciBTaGFwZSA9IHJlcXVpcmUoJy4vU2hhcGUnKVxuLCAgIHZlYzIgPSByZXF1aXJlKCcuLi9tYXRoL3ZlYzInKTtcblxubW9kdWxlLmV4cG9ydHMgPSBMaW5lO1xuXG4vKipcbiAqIExpbmUgc2hhcGUgY2xhc3MuIFRoZSBsaW5lIHNoYXBlIGlzIGFsb25nIHRoZSB4IGRpcmVjdGlvbiwgYW5kIHN0cmV0Y2hlcyBmcm9tIFstbGVuZ3RoLzIsIDBdIHRvIFtsZW5ndGgvMiwwXS5cbiAqIEBjbGFzcyBMaW5lXG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIChOb3RlIHRoYXQgdGhpcyBvcHRpb25zIG9iamVjdCB3aWxsIGJlIHBhc3NlZCBvbiB0byB0aGUge3sjY3Jvc3NMaW5rIFwiU2hhcGVcIn19e3svY3Jvc3NMaW5rfX0gY29uc3RydWN0b3IuKVxuICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLmxlbmd0aD0xXSBUaGUgdG90YWwgbGVuZ3RoIG9mIHRoZSBsaW5lXG4gKiBAZXh0ZW5kcyBTaGFwZVxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIExpbmUob3B0aW9ucyl7XG4gICAgaWYodHlwZW9mKGFyZ3VtZW50c1swXSkgPT09ICdudW1iZXInKXtcbiAgICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgIGxlbmd0aDogYXJndW1lbnRzWzBdXG4gICAgICAgIH07XG4gICAgICAgIGNvbnNvbGUud2FybignVGhlIExpbmUgY29uc3RydWN0b3Igc2lnbmF0dXJlIGhhcyBjaGFuZ2VkLiBQbGVhc2UgdXNlIHRoZSBmb2xsb3dpbmcgZm9ybWF0OiBuZXcgTGluZSh7IGxlbmd0aDogMSwgLi4uIH0pJyk7XG4gICAgfVxuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgLyoqXG4gICAgICogTGVuZ3RoIG9mIHRoaXMgbGluZVxuICAgICAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBsZW5ndGhcbiAgICAgKiBAZGVmYXVsdCAxXG4gICAgICovXG4gICAgdGhpcy5sZW5ndGggPSBvcHRpb25zLmxlbmd0aCB8fCAxO1xuXG4gICAgb3B0aW9ucy50eXBlID0gU2hhcGUuTElORTtcbiAgICBTaGFwZS5jYWxsKHRoaXMsIG9wdGlvbnMpO1xufVxuTGluZS5wcm90b3R5cGUgPSBuZXcgU2hhcGUoKTtcbkxpbmUucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gTGluZTtcblxuTGluZS5wcm90b3R5cGUuY29tcHV0ZU1vbWVudE9mSW5lcnRpYSA9IGZ1bmN0aW9uKG1hc3Mpe1xuICAgIHJldHVybiBtYXNzICogTWF0aC5wb3codGhpcy5sZW5ndGgsMikgLyAxMjtcbn07XG5cbkxpbmUucHJvdG90eXBlLnVwZGF0ZUJvdW5kaW5nUmFkaXVzID0gZnVuY3Rpb24oKXtcbiAgICB0aGlzLmJvdW5kaW5nUmFkaXVzID0gdGhpcy5sZW5ndGgvMjtcbn07XG5cbnZhciBwb2ludHMgPSBbdmVjMi5jcmVhdGUoKSx2ZWMyLmNyZWF0ZSgpXTtcblxuLyoqXG4gKiBAbWV0aG9kIGNvbXB1dGVBQUJCXG4gKiBAcGFyYW0gIHtBQUJCfSAgIG91dCAgICAgIFRoZSByZXN1bHRpbmcgQUFCQi5cbiAqIEBwYXJhbSAge0FycmF5fSAgcG9zaXRpb25cbiAqIEBwYXJhbSAge051bWJlcn0gYW5nbGVcbiAqL1xuTGluZS5wcm90b3R5cGUuY29tcHV0ZUFBQkIgPSBmdW5jdGlvbihvdXQsIHBvc2l0aW9uLCBhbmdsZSl7XG4gICAgdmFyIGwyID0gdGhpcy5sZW5ndGggLyAyO1xuICAgIHZlYzIuc2V0KHBvaW50c1swXSwgLWwyLCAgMCk7XG4gICAgdmVjMi5zZXQocG9pbnRzWzFdLCAgbDIsICAwKTtcbiAgICBvdXQuc2V0RnJvbVBvaW50cyhwb2ludHMscG9zaXRpb24sYW5nbGUsMCk7XG59O1xuXG52YXIgcmF5Y2FzdF9oaXRQb2ludCA9IHZlYzIuY3JlYXRlKCk7XG52YXIgcmF5Y2FzdF9ub3JtYWwgPSB2ZWMyLmNyZWF0ZSgpO1xudmFyIHJheWNhc3RfbDAgPSB2ZWMyLmNyZWF0ZSgpO1xudmFyIHJheWNhc3RfbDEgPSB2ZWMyLmNyZWF0ZSgpO1xudmFyIHJheWNhc3RfdW5pdF95ID0gdmVjMi5mcm9tVmFsdWVzKDAsMSk7XG5cbi8qKlxuICogQG1ldGhvZCByYXljYXN0XG4gKiBAcGFyYW0gIHtSYXljYXN0UmVzdWx0fSByZXN1bHRcbiAqIEBwYXJhbSAge1JheX0gcmF5XG4gKiBAcGFyYW0gIHtudW1iZXJ9IGFuZ2xlXG4gKiBAcGFyYW0gIHthcnJheX0gcG9zaXRpb25cbiAqL1xuTGluZS5wcm90b3R5cGUucmF5Y2FzdCA9IGZ1bmN0aW9uKHJlc3VsdCwgcmF5LCBwb3NpdGlvbiwgYW5nbGUpe1xuICAgIHZhciBmcm9tID0gcmF5LmZyb207XG4gICAgdmFyIHRvID0gcmF5LnRvO1xuXG4gICAgdmFyIGwwID0gcmF5Y2FzdF9sMDtcbiAgICB2YXIgbDEgPSByYXljYXN0X2wxO1xuXG4gICAgLy8gZ2V0IHN0YXJ0IGFuZCBlbmQgb2YgdGhlIGxpbmVcbiAgICB2YXIgaGFsZkxlbiA9IHRoaXMubGVuZ3RoIC8gMjtcbiAgICB2ZWMyLnNldChsMCwgLWhhbGZMZW4sIDApO1xuICAgIHZlYzIuc2V0KGwxLCBoYWxmTGVuLCAwKTtcbiAgICB2ZWMyLnRvR2xvYmFsRnJhbWUobDAsIGwwLCBwb3NpdGlvbiwgYW5nbGUpO1xuICAgIHZlYzIudG9HbG9iYWxGcmFtZShsMSwgbDEsIHBvc2l0aW9uLCBhbmdsZSk7XG5cbiAgICB2YXIgZnJhY3Rpb24gPSB2ZWMyLmdldExpbmVTZWdtZW50c0ludGVyc2VjdGlvbkZyYWN0aW9uKGwwLCBsMSwgZnJvbSwgdG8pO1xuICAgIGlmKGZyYWN0aW9uID49IDApe1xuICAgICAgICB2YXIgbm9ybWFsID0gcmF5Y2FzdF9ub3JtYWw7XG4gICAgICAgIHZlYzIucm90YXRlKG5vcm1hbCwgcmF5Y2FzdF91bml0X3ksIGFuZ2xlKTsgLy8gdG9kbzogdGhpcyBzaG91bGQgZGVwZW5kIG9uIHdoaWNoIHNpZGUgdGhlIHJheSBjb21lcyBmcm9tXG4gICAgICAgIHJheS5yZXBvcnRJbnRlcnNlY3Rpb24ocmVzdWx0LCBmcmFjdGlvbiwgbm9ybWFsLCAtMSk7XG4gICAgfVxufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9wMi9zcmMvc2hhcGVzL0xpbmUuanNcbiAqKiBtb2R1bGUgaWQgPSA1N1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwidmFyIHZlYzIgPSByZXF1aXJlKCcuLi9tYXRoL3ZlYzInKVxuLCAgIFNvbHZlciA9IHJlcXVpcmUoJy4vU29sdmVyJylcbiwgICBVdGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzL1V0aWxzJylcbiwgICBGcmljdGlvbkVxdWF0aW9uID0gcmVxdWlyZSgnLi4vZXF1YXRpb25zL0ZyaWN0aW9uRXF1YXRpb24nKTtcblxubW9kdWxlLmV4cG9ydHMgPSBHU1NvbHZlcjtcblxuLyoqXG4gKiBJdGVyYXRpdmUgR2F1c3MtU2VpZGVsIGNvbnN0cmFpbnQgZXF1YXRpb24gc29sdmVyLlxuICpcbiAqIEBjbGFzcyBHU1NvbHZlclxuICogQGNvbnN0cnVjdG9yXG4gKiBAZXh0ZW5kcyBTb2x2ZXJcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5pdGVyYXRpb25zPTEwXVxuICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLnRvbGVyYW5jZT0wXVxuICovXG5mdW5jdGlvbiBHU1NvbHZlcihvcHRpb25zKXtcbiAgICBTb2x2ZXIuY2FsbCh0aGlzLG9wdGlvbnMsU29sdmVyLkdTKTtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBtYXggbnVtYmVyIG9mIGl0ZXJhdGlvbnMgdG8gZG8gd2hlbiBzb2x2aW5nLiBNb3JlIGdpdmVzIGJldHRlciByZXN1bHRzLCBidXQgaXMgbW9yZSBleHBlbnNpdmUuXG4gICAgICogQHByb3BlcnR5IGl0ZXJhdGlvbnNcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuaXRlcmF0aW9ucyA9IG9wdGlvbnMuaXRlcmF0aW9ucyB8fCAxMDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBlcnJvciB0b2xlcmFuY2UsIHBlciBjb25zdHJhaW50LiBJZiB0aGUgdG90YWwgZXJyb3IgaXMgYmVsb3cgdGhpcyBsaW1pdCwgdGhlIHNvbHZlciB3aWxsIHN0b3AgaXRlcmF0aW5nLiBTZXQgdG8gemVybyBmb3IgYXMgZ29vZCBzb2x1dGlvbiBhcyBwb3NzaWJsZSwgYnV0IHRvIHNvbWV0aGluZyBsYXJnZXIgdGhhbiB6ZXJvIHRvIG1ha2UgY29tcHV0YXRpb25zIGZhc3Rlci5cbiAgICAgKiBAcHJvcGVydHkgdG9sZXJhbmNlXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAxZS03XG4gICAgICovXG4gICAgdGhpcy50b2xlcmFuY2UgPSBvcHRpb25zLnRvbGVyYW5jZSB8fCAxZS03O1xuXG4gICAgdGhpcy5hcnJheVN0ZXAgPSAzMDtcbiAgICB0aGlzLmxhbWJkYSA9IG5ldyBVdGlscy5BUlJBWV9UWVBFKHRoaXMuYXJyYXlTdGVwKTtcbiAgICB0aGlzLkJzID0gICAgIG5ldyBVdGlscy5BUlJBWV9UWVBFKHRoaXMuYXJyYXlTdGVwKTtcbiAgICB0aGlzLmludkNzID0gIG5ldyBVdGlscy5BUlJBWV9UWVBFKHRoaXMuYXJyYXlTdGVwKTtcblxuICAgIC8qKlxuICAgICAqIFNldCB0byB0cnVlIHRvIHNldCBhbGwgcmlnaHQgaGFuZCBzaWRlIHRlcm1zIHRvIHplcm8gd2hlbiBzb2x2aW5nLiBDYW4gYmUgaGFuZHkgZm9yIGEgZmV3IGFwcGxpY2F0aW9ucy5cbiAgICAgKiBAcHJvcGVydHkgdXNlWmVyb1JIU1xuICAgICAqIEB0eXBlIHtCb29sZWFufVxuICAgICAqL1xuICAgIHRoaXMudXNlWmVyb1JIUyA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogTnVtYmVyIG9mIHNvbHZlciBpdGVyYXRpb25zIHRoYXQgYXJlIGRvbmUgdG8gYXBwcm94aW1hdGUgbm9ybWFsIGZvcmNlcy4gV2hlbiB0aGVzZSBpdGVyYXRpb25zIGFyZSBkb25lLCBmcmljdGlvbiBmb3JjZSB3aWxsIGJlIGNvbXB1dGVkIGZyb20gdGhlIGNvbnRhY3Qgbm9ybWFsIGZvcmNlcy4gVGhlc2UgZnJpY3Rpb24gZm9yY2VzIHdpbGwgb3ZlcnJpZGUgYW55IG90aGVyIGZyaWN0aW9uIGZvcmNlcyBzZXQgZnJvbSB0aGUgV29ybGQgZm9yIGV4YW1wbGUuXG4gICAgICogVGhlIHNvbHZlciB3aWxsIHVzZSBsZXNzIGl0ZXJhdGlvbnMgaWYgdGhlIHNvbHV0aW9uIGlzIGJlbG93IHRoZSAudG9sZXJhbmNlLlxuICAgICAqIEBwcm9wZXJ0eSBmcmljdGlvbkl0ZXJhdGlvbnNcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuZnJpY3Rpb25JdGVyYXRpb25zID0gMDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBudW1iZXIgb2YgaXRlcmF0aW9ucyB0aGF0IHdlcmUgbWFkZSBkdXJpbmcgdGhlIGxhc3Qgc29sdmUuIElmIC50b2xlcmFuY2UgaXMgemVybywgdGhpcyB2YWx1ZSB3aWxsIGFsd2F5cyBiZSBlcXVhbCB0byAuaXRlcmF0aW9ucywgYnV0IGlmIC50b2xlcmFuY2UgaXMgbGFyZ2VyIHRoYW4gemVybywgYW5kIHRoZSBzb2x2ZXIgY2FuIHF1aXQgZWFybHksIHRoZW4gdGhpcyBudW1iZXIgd2lsbCBiZSBzb21ld2hlcmUgYmV0d2VlbiAxIGFuZCAuaXRlcmF0aW9ucy5cbiAgICAgKiBAcHJvcGVydHkge051bWJlcn0gdXNlZEl0ZXJhdGlvbnNcbiAgICAgKi9cbiAgICB0aGlzLnVzZWRJdGVyYXRpb25zID0gMDtcbn1cbkdTU29sdmVyLnByb3RvdHlwZSA9IG5ldyBTb2x2ZXIoKTtcbkdTU29sdmVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEdTU29sdmVyO1xuXG5mdW5jdGlvbiBzZXRBcnJheVplcm8oYXJyYXkpe1xuICAgIHZhciBsID0gYXJyYXkubGVuZ3RoO1xuICAgIHdoaWxlKGwtLSl7XG4gICAgICAgIGFycmF5W2xdID0gKzAuMDtcbiAgICB9XG59XG5cbi8qKlxuICogU29sdmUgdGhlIHN5c3RlbSBvZiBlcXVhdGlvbnNcbiAqIEBtZXRob2Qgc29sdmVcbiAqIEBwYXJhbSAge051bWJlcn0gIGggICAgICAgVGltZSBzdGVwXG4gKiBAcGFyYW0gIHtXb3JsZH0gICB3b3JsZCAgICBXb3JsZCB0byBzb2x2ZVxuICovXG5HU1NvbHZlci5wcm90b3R5cGUuc29sdmUgPSBmdW5jdGlvbihoLCB3b3JsZCl7XG5cbiAgICB0aGlzLnNvcnRFcXVhdGlvbnMoKTtcblxuICAgIHZhciBpdGVyID0gMCxcbiAgICAgICAgbWF4SXRlciA9IHRoaXMuaXRlcmF0aW9ucyxcbiAgICAgICAgbWF4RnJpY3Rpb25JdGVyID0gdGhpcy5mcmljdGlvbkl0ZXJhdGlvbnMsXG4gICAgICAgIGVxdWF0aW9ucyA9IHRoaXMuZXF1YXRpb25zLFxuICAgICAgICBOZXEgPSBlcXVhdGlvbnMubGVuZ3RoLFxuICAgICAgICB0b2xTcXVhcmVkID0gTWF0aC5wb3codGhpcy50b2xlcmFuY2UqTmVxLCAyKSxcbiAgICAgICAgYm9kaWVzID0gd29ybGQuYm9kaWVzLFxuICAgICAgICBOYm9kaWVzID0gd29ybGQuYm9kaWVzLmxlbmd0aCxcbiAgICAgICAgYWRkID0gdmVjMi5hZGQsXG4gICAgICAgIHNldCA9IHZlYzIuc2V0LFxuICAgICAgICB1c2VaZXJvUkhTID0gdGhpcy51c2VaZXJvUkhTLFxuICAgICAgICBsYW1iZGEgPSB0aGlzLmxhbWJkYTtcblxuICAgIHRoaXMudXNlZEl0ZXJhdGlvbnMgPSAwO1xuXG4gICAgaWYoTmVxKXtcbiAgICAgICAgZm9yKHZhciBpPTA7IGkhPT1OYm9kaWVzOyBpKyspe1xuICAgICAgICAgICAgdmFyIGIgPSBib2RpZXNbaV07XG5cbiAgICAgICAgICAgIC8vIFVwZGF0ZSBzb2x2ZSBtYXNzXG4gICAgICAgICAgICBiLnVwZGF0ZVNvbHZlTWFzc1Byb3BlcnRpZXMoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIFRoaW5ncyB0aGF0IGRvZXMgbm90IGNoYW5nZSBkdXJpbmcgaXRlcmF0aW9uIGNhbiBiZSBjb21wdXRlZCBvbmNlXG4gICAgaWYobGFtYmRhLmxlbmd0aCA8IE5lcSl7XG4gICAgICAgIGxhbWJkYSA9IHRoaXMubGFtYmRhID0gIG5ldyBVdGlscy5BUlJBWV9UWVBFKE5lcSArIHRoaXMuYXJyYXlTdGVwKTtcbiAgICAgICAgdGhpcy5CcyA9ICAgICAgICAgICAgICAgbmV3IFV0aWxzLkFSUkFZX1RZUEUoTmVxICsgdGhpcy5hcnJheVN0ZXApO1xuICAgICAgICB0aGlzLmludkNzID0gICAgICAgICAgICBuZXcgVXRpbHMuQVJSQVlfVFlQRShOZXEgKyB0aGlzLmFycmF5U3RlcCk7XG4gICAgfVxuICAgIHNldEFycmF5WmVybyhsYW1iZGEpO1xuICAgIHZhciBpbnZDcyA9IHRoaXMuaW52Q3MsXG4gICAgICAgIEJzID0gdGhpcy5CcyxcbiAgICAgICAgbGFtYmRhID0gdGhpcy5sYW1iZGE7XG5cbiAgICBmb3IodmFyIGk9MDsgaSE9PWVxdWF0aW9ucy5sZW5ndGg7IGkrKyl7XG4gICAgICAgIHZhciBjID0gZXF1YXRpb25zW2ldO1xuICAgICAgICBpZihjLnRpbWVTdGVwICE9PSBoIHx8IGMubmVlZHNVcGRhdGUpe1xuICAgICAgICAgICAgYy50aW1lU3RlcCA9IGg7XG4gICAgICAgICAgICBjLnVwZGF0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIEJzW2ldID0gICAgIGMuY29tcHV0ZUIoYy5hLGMuYixoKTtcbiAgICAgICAgaW52Q3NbaV0gPSAgYy5jb21wdXRlSW52QyhjLmVwc2lsb24pO1xuICAgIH1cblxuICAgIHZhciBxLCBCLCBjLCBkZWx0YWxhbWJkYVRvdCxpLGo7XG5cbiAgICBpZihOZXEgIT09IDApe1xuXG4gICAgICAgIGZvcihpPTA7IGkhPT1OYm9kaWVzOyBpKyspe1xuICAgICAgICAgICAgdmFyIGIgPSBib2RpZXNbaV07XG5cbiAgICAgICAgICAgIC8vIFJlc2V0IHZsYW1iZGFcbiAgICAgICAgICAgIGIucmVzZXRDb25zdHJhaW50VmVsb2NpdHkoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmKG1heEZyaWN0aW9uSXRlcil7XG4gICAgICAgICAgICAvLyBJdGVyYXRlIG92ZXIgY29udGFjdCBlcXVhdGlvbnMgdG8gZ2V0IG5vcm1hbCBmb3JjZXNcbiAgICAgICAgICAgIGZvcihpdGVyPTA7IGl0ZXIhPT1tYXhGcmljdGlvbkl0ZXI7IGl0ZXIrKyl7XG5cbiAgICAgICAgICAgICAgICAvLyBBY2N1bXVsYXRlIHRoZSB0b3RhbCBlcnJvciBmb3IgZWFjaCBpdGVyYXRpb24uXG4gICAgICAgICAgICAgICAgZGVsdGFsYW1iZGFUb3QgPSAwLjA7XG5cbiAgICAgICAgICAgICAgICBmb3Ioaj0wOyBqIT09TmVxOyBqKyspe1xuICAgICAgICAgICAgICAgICAgICBjID0gZXF1YXRpb25zW2pdO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBkZWx0YWxhbWJkYSA9IEdTU29sdmVyLml0ZXJhdGVFcXVhdGlvbihqLGMsYy5lcHNpbG9uLEJzLGludkNzLGxhbWJkYSx1c2VaZXJvUkhTLGgsaXRlcik7XG4gICAgICAgICAgICAgICAgICAgIGRlbHRhbGFtYmRhVG90ICs9IE1hdGguYWJzKGRlbHRhbGFtYmRhKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLnVzZWRJdGVyYXRpb25zKys7XG5cbiAgICAgICAgICAgICAgICAvLyBJZiB0aGUgdG90YWwgZXJyb3IgaXMgc21hbGwgZW5vdWdoIC0gc3RvcCBpdGVyYXRlXG4gICAgICAgICAgICAgICAgaWYoZGVsdGFsYW1iZGFUb3QqZGVsdGFsYW1iZGFUb3QgPD0gdG9sU3F1YXJlZCl7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgR1NTb2x2ZXIudXBkYXRlTXVsdGlwbGllcnMoZXF1YXRpb25zLCBsYW1iZGEsIDEvaCk7XG5cbiAgICAgICAgICAgIC8vIFNldCBjb21wdXRlZCBmcmljdGlvbiBmb3JjZVxuICAgICAgICAgICAgZm9yKGo9MDsgaiE9PU5lcTsgaisrKXtcbiAgICAgICAgICAgICAgICB2YXIgZXEgPSBlcXVhdGlvbnNbal07XG4gICAgICAgICAgICAgICAgaWYoZXEgaW5zdGFuY2VvZiBGcmljdGlvbkVxdWF0aW9uKXtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGYgPSAwLjA7XG4gICAgICAgICAgICAgICAgICAgIGZvcih2YXIgaz0wOyBrIT09ZXEuY29udGFjdEVxdWF0aW9ucy5sZW5ndGg7IGsrKyl7XG4gICAgICAgICAgICAgICAgICAgICAgICBmICs9IGVxLmNvbnRhY3RFcXVhdGlvbnNba10ubXVsdGlwbGllcjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBmICo9IGVxLmZyaWN0aW9uQ29lZmZpY2llbnQgLyBlcS5jb250YWN0RXF1YXRpb25zLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgZXEubWF4Rm9yY2UgPSAgZjtcbiAgICAgICAgICAgICAgICAgICAgZXEubWluRm9yY2UgPSAtZjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJdGVyYXRlIG92ZXIgYWxsIGVxdWF0aW9uc1xuICAgICAgICBmb3IoaXRlcj0wOyBpdGVyIT09bWF4SXRlcjsgaXRlcisrKXtcblxuICAgICAgICAgICAgLy8gQWNjdW11bGF0ZSB0aGUgdG90YWwgZXJyb3IgZm9yIGVhY2ggaXRlcmF0aW9uLlxuICAgICAgICAgICAgZGVsdGFsYW1iZGFUb3QgPSAwLjA7XG5cbiAgICAgICAgICAgIGZvcihqPTA7IGohPT1OZXE7IGorKyl7XG4gICAgICAgICAgICAgICAgYyA9IGVxdWF0aW9uc1tqXTtcblxuICAgICAgICAgICAgICAgIHZhciBkZWx0YWxhbWJkYSA9IEdTU29sdmVyLml0ZXJhdGVFcXVhdGlvbihqLGMsYy5lcHNpbG9uLEJzLGludkNzLGxhbWJkYSx1c2VaZXJvUkhTLGgsaXRlcik7XG4gICAgICAgICAgICAgICAgZGVsdGFsYW1iZGFUb3QgKz0gTWF0aC5hYnMoZGVsdGFsYW1iZGEpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnVzZWRJdGVyYXRpb25zKys7XG5cbiAgICAgICAgICAgIC8vIElmIHRoZSB0b3RhbCBlcnJvciBpcyBzbWFsbCBlbm91Z2ggLSBzdG9wIGl0ZXJhdGVcbiAgICAgICAgICAgIGlmKGRlbHRhbGFtYmRhVG90KmRlbHRhbGFtYmRhVG90IDw9IHRvbFNxdWFyZWQpe1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gQWRkIHJlc3VsdCB0byB2ZWxvY2l0eVxuICAgICAgICBmb3IoaT0wOyBpIT09TmJvZGllczsgaSsrKXtcbiAgICAgICAgICAgIGJvZGllc1tpXS5hZGRDb25zdHJhaW50VmVsb2NpdHkoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIEdTU29sdmVyLnVwZGF0ZU11bHRpcGxpZXJzKGVxdWF0aW9ucywgbGFtYmRhLCAxL2gpO1xuICAgIH1cbn07XG5cbi8vIFNldHMgdGhlIC5tdWx0aXBsaWVyIHByb3BlcnR5IG9mIGVhY2ggZXF1YXRpb25cbkdTU29sdmVyLnVwZGF0ZU11bHRpcGxpZXJzID0gZnVuY3Rpb24oZXF1YXRpb25zLCBsYW1iZGEsIGludkR0KXtcbiAgICAvLyBTZXQgdGhlIC5tdWx0aXBsaWVyIHByb3BlcnR5IG9mIGVhY2ggZXF1YXRpb25cbiAgICB2YXIgbCA9IGVxdWF0aW9ucy5sZW5ndGg7XG4gICAgd2hpbGUobC0tKXtcbiAgICAgICAgZXF1YXRpb25zW2xdLm11bHRpcGxpZXIgPSBsYW1iZGFbbF0gKiBpbnZEdDtcbiAgICB9XG59O1xuXG5HU1NvbHZlci5pdGVyYXRlRXF1YXRpb24gPSBmdW5jdGlvbihqLGVxLGVwcyxCcyxpbnZDcyxsYW1iZGEsdXNlWmVyb1JIUyxkdCxpdGVyKXtcbiAgICAvLyBDb21wdXRlIGl0ZXJhdGlvblxuICAgIHZhciBCID0gQnNbal0sXG4gICAgICAgIGludkMgPSBpbnZDc1tqXSxcbiAgICAgICAgbGFtYmRhaiA9IGxhbWJkYVtqXSxcbiAgICAgICAgR1dsYW1iZGEgPSBlcS5jb21wdXRlR1dsYW1iZGEoKTtcblxuICAgIHZhciBtYXhGb3JjZSA9IGVxLm1heEZvcmNlLFxuICAgICAgICBtaW5Gb3JjZSA9IGVxLm1pbkZvcmNlO1xuXG4gICAgaWYodXNlWmVyb1JIUyl7XG4gICAgICAgIEIgPSAwO1xuICAgIH1cblxuICAgIHZhciBkZWx0YWxhbWJkYSA9IGludkMgKiAoIEIgLSBHV2xhbWJkYSAtIGVwcyAqIGxhbWJkYWogKTtcblxuICAgIC8vIENsYW1wIGlmIHdlIGFyZSBub3Qgd2l0aGluIHRoZSBtaW4vbWF4IGludGVydmFsXG4gICAgdmFyIGxhbWJkYWpfcGx1c19kZWx0YWxhbWJkYSA9IGxhbWJkYWogKyBkZWx0YWxhbWJkYTtcbiAgICBpZihsYW1iZGFqX3BsdXNfZGVsdGFsYW1iZGEgPCBtaW5Gb3JjZSpkdCl7XG4gICAgICAgIGRlbHRhbGFtYmRhID0gbWluRm9yY2UqZHQgLSBsYW1iZGFqO1xuICAgIH0gZWxzZSBpZihsYW1iZGFqX3BsdXNfZGVsdGFsYW1iZGEgPiBtYXhGb3JjZSpkdCl7XG4gICAgICAgIGRlbHRhbGFtYmRhID0gbWF4Rm9yY2UqZHQgLSBsYW1iZGFqO1xuICAgIH1cbiAgICBsYW1iZGFbal0gKz0gZGVsdGFsYW1iZGE7XG4gICAgZXEuYWRkVG9XbGFtYmRhKGRlbHRhbGFtYmRhKTtcblxuICAgIHJldHVybiBkZWx0YWxhbWJkYTtcbn07XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9wMi9zcmMvc29sdmVyL0dTU29sdmVyLmpzXG4gKiogbW9kdWxlIGlkID0gNThcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciBDb250YWN0RXF1YXRpb24gPSByZXF1aXJlKCcuLi9lcXVhdGlvbnMvQ29udGFjdEVxdWF0aW9uJyk7XG52YXIgUG9vbCA9IHJlcXVpcmUoJy4vUG9vbCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IENvbnRhY3RFcXVhdGlvblBvb2w7XG5cbi8qKlxuICogQGNsYXNzXG4gKi9cbmZ1bmN0aW9uIENvbnRhY3RFcXVhdGlvblBvb2woKSB7XG5cdFBvb2wuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cbkNvbnRhY3RFcXVhdGlvblBvb2wucHJvdG90eXBlID0gbmV3IFBvb2woKTtcbkNvbnRhY3RFcXVhdGlvblBvb2wucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQ29udGFjdEVxdWF0aW9uUG9vbDtcblxuLyoqXG4gKiBAbWV0aG9kIGNyZWF0ZVxuICogQHJldHVybiB7Q29udGFjdEVxdWF0aW9ufVxuICovXG5Db250YWN0RXF1YXRpb25Qb29sLnByb3RvdHlwZS5jcmVhdGUgPSBmdW5jdGlvbiAoKSB7XG5cdHJldHVybiBuZXcgQ29udGFjdEVxdWF0aW9uKCk7XG59O1xuXG4vKipcbiAqIEBtZXRob2QgZGVzdHJveVxuICogQHBhcmFtIHtDb250YWN0RXF1YXRpb259IGVxdWF0aW9uXG4gKiBAcmV0dXJuIHtDb250YWN0RXF1YXRpb25Qb29sfVxuICovXG5Db250YWN0RXF1YXRpb25Qb29sLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKGVxdWF0aW9uKSB7XG5cdGVxdWF0aW9uLmJvZHlBID0gZXF1YXRpb24uYm9keUIgPSBudWxsO1xuXHRyZXR1cm4gdGhpcztcbn07XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9wMi9zcmMvdXRpbHMvQ29udGFjdEVxdWF0aW9uUG9vbC5qc1xuICoqIG1vZHVsZSBpZCA9IDU5XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgRnJpY3Rpb25FcXVhdGlvbiA9IHJlcXVpcmUoJy4uL2VxdWF0aW9ucy9GcmljdGlvbkVxdWF0aW9uJyk7XG52YXIgUG9vbCA9IHJlcXVpcmUoJy4vUG9vbCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEZyaWN0aW9uRXF1YXRpb25Qb29sO1xuXG4vKipcbiAqIEBjbGFzc1xuICovXG5mdW5jdGlvbiBGcmljdGlvbkVxdWF0aW9uUG9vbCgpIHtcblx0UG9vbC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuRnJpY3Rpb25FcXVhdGlvblBvb2wucHJvdG90eXBlID0gbmV3IFBvb2woKTtcbkZyaWN0aW9uRXF1YXRpb25Qb29sLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEZyaWN0aW9uRXF1YXRpb25Qb29sO1xuXG4vKipcbiAqIEBtZXRob2QgY3JlYXRlXG4gKiBAcmV0dXJuIHtGcmljdGlvbkVxdWF0aW9ufVxuICovXG5GcmljdGlvbkVxdWF0aW9uUG9vbC5wcm90b3R5cGUuY3JlYXRlID0gZnVuY3Rpb24gKCkge1xuXHRyZXR1cm4gbmV3IEZyaWN0aW9uRXF1YXRpb24oKTtcbn07XG5cbi8qKlxuICogQG1ldGhvZCBkZXN0cm95XG4gKiBAcGFyYW0ge0ZyaWN0aW9uRXF1YXRpb259IGVxdWF0aW9uXG4gKiBAcmV0dXJuIHtGcmljdGlvbkVxdWF0aW9uUG9vbH1cbiAqL1xuRnJpY3Rpb25FcXVhdGlvblBvb2wucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoZXF1YXRpb24pIHtcblx0ZXF1YXRpb24uYm9keUEgPSBlcXVhdGlvbi5ib2R5QiA9IG51bGw7XG5cdHJldHVybiB0aGlzO1xufTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3AyL3NyYy91dGlscy9GcmljdGlvbkVxdWF0aW9uUG9vbC5qc1xuICoqIG1vZHVsZSBpZCA9IDYwXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IE92ZXJsYXBLZWVwZXJSZWNvcmQ7XG5cbi8qKlxuICogT3ZlcmxhcCBkYXRhIGNvbnRhaW5lciBmb3IgdGhlIE92ZXJsYXBLZWVwZXJcbiAqIEBjbGFzcyBPdmVybGFwS2VlcGVyUmVjb3JkXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7Qm9keX0gYm9keUFcbiAqIEBwYXJhbSB7U2hhcGV9IHNoYXBlQVxuICogQHBhcmFtIHtCb2R5fSBib2R5QlxuICogQHBhcmFtIHtTaGFwZX0gc2hhcGVCXG4gKi9cbmZ1bmN0aW9uIE92ZXJsYXBLZWVwZXJSZWNvcmQoYm9keUEsIHNoYXBlQSwgYm9keUIsIHNoYXBlQil7XG4gICAgLyoqXG4gICAgICogQHByb3BlcnR5IHtTaGFwZX0gc2hhcGVBXG4gICAgICovXG4gICAgdGhpcy5zaGFwZUEgPSBzaGFwZUE7XG4gICAgLyoqXG4gICAgICogQHByb3BlcnR5IHtTaGFwZX0gc2hhcGVCXG4gICAgICovXG4gICAgdGhpcy5zaGFwZUIgPSBzaGFwZUI7XG4gICAgLyoqXG4gICAgICogQHByb3BlcnR5IHtCb2R5fSBib2R5QVxuICAgICAqL1xuICAgIHRoaXMuYm9keUEgPSBib2R5QTtcbiAgICAvKipcbiAgICAgKiBAcHJvcGVydHkge0JvZHl9IGJvZHlCXG4gICAgICovXG4gICAgdGhpcy5ib2R5QiA9IGJvZHlCO1xufVxuXG4vKipcbiAqIFNldCB0aGUgZGF0YSBmb3IgdGhlIHJlY29yZFxuICogQG1ldGhvZCBzZXRcbiAqIEBwYXJhbSB7Qm9keX0gYm9keUFcbiAqIEBwYXJhbSB7U2hhcGV9IHNoYXBlQVxuICogQHBhcmFtIHtCb2R5fSBib2R5QlxuICogQHBhcmFtIHtTaGFwZX0gc2hhcGVCXG4gKi9cbk92ZXJsYXBLZWVwZXJSZWNvcmQucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uKGJvZHlBLCBzaGFwZUEsIGJvZHlCLCBzaGFwZUIpe1xuICAgIE92ZXJsYXBLZWVwZXJSZWNvcmQuY2FsbCh0aGlzLCBib2R5QSwgc2hhcGVBLCBib2R5Qiwgc2hhcGVCKTtcbn07XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9wMi9zcmMvdXRpbHMvT3ZlcmxhcEtlZXBlclJlY29yZC5qc1xuICoqIG1vZHVsZSBpZCA9IDYxXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgVXRpbHMgPSByZXF1aXJlKCcuL1V0aWxzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gVHVwbGVEaWN0aW9uYXJ5O1xuXG4vKipcbiAqIEBjbGFzcyBUdXBsZURpY3Rpb25hcnlcbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBUdXBsZURpY3Rpb25hcnkoKSB7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZGF0YSBzdG9yYWdlXG4gICAgICogQHByb3BlcnR5IGRhdGFcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqL1xuICAgIHRoaXMuZGF0YSA9IHt9O1xuXG4gICAgLyoqXG4gICAgICogS2V5cyB0aGF0IGFyZSBjdXJyZW50bHkgdXNlZC5cbiAgICAgKiBAcHJvcGVydHkge0FycmF5fSBrZXlzXG4gICAgICovXG4gICAgdGhpcy5rZXlzID0gW107XG59XG5cbi8qKlxuICogR2VuZXJhdGUgYSBrZXkgZ2l2ZW4gdHdvIGludGVnZXJzXG4gKiBAbWV0aG9kIGdldEtleVxuICogQHBhcmFtICB7bnVtYmVyfSBpXG4gKiBAcGFyYW0gIHtudW1iZXJ9IGpcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuVHVwbGVEaWN0aW9uYXJ5LnByb3RvdHlwZS5nZXRLZXkgPSBmdW5jdGlvbihpZDEsIGlkMikge1xuICAgIGlkMSA9IGlkMXwwO1xuICAgIGlkMiA9IGlkMnwwO1xuXG4gICAgaWYgKCAoaWQxfDApID09PSAoaWQyfDApICl7XG4gICAgICAgIHJldHVybiAtMTtcbiAgICB9XG5cbiAgICAvLyB2YWxpZCBmb3IgdmFsdWVzIDwgMl4xNlxuICAgIHJldHVybiAoKGlkMXwwKSA+IChpZDJ8MCkgP1xuICAgICAgICAoaWQxIDw8IDE2KSB8IChpZDIgJiAweEZGRkYpIDpcbiAgICAgICAgKGlkMiA8PCAxNikgfCAoaWQxICYgMHhGRkZGKSl8MFxuICAgICAgICA7XG59O1xuXG4vKipcbiAqIEBtZXRob2QgZ2V0QnlLZXlcbiAqIEBwYXJhbSAge051bWJlcn0ga2V5XG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKi9cblR1cGxlRGljdGlvbmFyeS5wcm90b3R5cGUuZ2V0QnlLZXkgPSBmdW5jdGlvbihrZXkpIHtcbiAgICBrZXkgPSBrZXl8MDtcbiAgICByZXR1cm4gdGhpcy5kYXRhW2tleV07XG59O1xuXG4vKipcbiAqIEBtZXRob2QgZ2V0XG4gKiBAcGFyYW0gIHtOdW1iZXJ9IGlcbiAqIEBwYXJhbSAge051bWJlcn0galxuICogQHJldHVybiB7TnVtYmVyfVxuICovXG5UdXBsZURpY3Rpb25hcnkucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uKGksIGopIHtcbiAgICByZXR1cm4gdGhpcy5kYXRhW3RoaXMuZ2V0S2V5KGksIGopXTtcbn07XG5cbi8qKlxuICogU2V0IGEgdmFsdWUuXG4gKiBAbWV0aG9kIHNldFxuICogQHBhcmFtICB7TnVtYmVyfSBpXG4gKiBAcGFyYW0gIHtOdW1iZXJ9IGpcbiAqIEBwYXJhbSB7TnVtYmVyfSB2YWx1ZVxuICovXG5UdXBsZURpY3Rpb25hcnkucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uKGksIGosIHZhbHVlKSB7XG4gICAgaWYoIXZhbHVlKXtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gZGF0YSFcIik7XG4gICAgfVxuXG4gICAgdmFyIGtleSA9IHRoaXMuZ2V0S2V5KGksIGopO1xuXG4gICAgLy8gQ2hlY2sgaWYga2V5IGFscmVhZHkgZXhpc3RzXG4gICAgaWYoIXRoaXMuZGF0YVtrZXldKXtcbiAgICAgICAgdGhpcy5rZXlzLnB1c2goa2V5KTtcbiAgICB9XG5cbiAgICB0aGlzLmRhdGFba2V5XSA9IHZhbHVlO1xuXG4gICAgcmV0dXJuIGtleTtcbn07XG5cbi8qKlxuICogUmVtb3ZlIGFsbCBkYXRhLlxuICogQG1ldGhvZCByZXNldFxuICovXG5UdXBsZURpY3Rpb25hcnkucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGRhdGEgPSB0aGlzLmRhdGEsXG4gICAgICAgIGtleXMgPSB0aGlzLmtleXM7XG5cbiAgICB2YXIgbCA9IGtleXMubGVuZ3RoO1xuICAgIHdoaWxlKGwtLSkge1xuICAgICAgICBkZWxldGUgZGF0YVtrZXlzW2xdXTtcbiAgICB9XG5cbiAgICBrZXlzLmxlbmd0aCA9IDA7XG59O1xuXG4vKipcbiAqIENvcHkgYW5vdGhlciBUdXBsZURpY3Rpb25hcnkuIE5vdGUgdGhhdCBhbGwgZGF0YSBpbiB0aGlzIGRpY3Rpb25hcnkgd2lsbCBiZSByZW1vdmVkLlxuICogQG1ldGhvZCBjb3B5XG4gKiBAcGFyYW0ge1R1cGxlRGljdGlvbmFyeX0gZGljdCBUaGUgVHVwbGVEaWN0aW9uYXJ5IHRvIGNvcHkgaW50byB0aGlzIG9uZS5cbiAqL1xuVHVwbGVEaWN0aW9uYXJ5LnByb3RvdHlwZS5jb3B5ID0gZnVuY3Rpb24oZGljdCkge1xuICAgIHRoaXMucmVzZXQoKTtcbiAgICBVdGlscy5hcHBlbmRBcnJheSh0aGlzLmtleXMsIGRpY3Qua2V5cyk7XG4gICAgdmFyIGwgPSBkaWN0LmtleXMubGVuZ3RoO1xuICAgIHdoaWxlKGwtLSl7XG4gICAgICAgIHZhciBrZXkgPSBkaWN0LmtleXNbbF07XG4gICAgICAgIHRoaXMuZGF0YVtrZXldID0gZGljdC5kYXRhW2tleV07XG4gICAgfVxufTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3AyL3NyYy91dGlscy9UdXBsZURpY3Rpb25hcnkuanNcbiAqKiBtb2R1bGUgaWQgPSA2MlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwidmFyIEJvZHkgPSByZXF1aXJlKCcuLi9vYmplY3RzL0JvZHknKTtcblxubW9kdWxlLmV4cG9ydHMgPSBJc2xhbmQ7XG5cbi8qKlxuICogQW4gaXNsYW5kIG9mIGJvZGllcyBjb25uZWN0ZWQgd2l0aCBlcXVhdGlvbnMuXG4gKiBAY2xhc3MgSXNsYW5kXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gSXNsYW5kKCl7XG5cbiAgICAvKipcbiAgICAgKiBDdXJyZW50IGVxdWF0aW9ucyBpbiB0aGlzIGlzbGFuZC5cbiAgICAgKiBAcHJvcGVydHkgZXF1YXRpb25zXG4gICAgICogQHR5cGUge0FycmF5fVxuICAgICAqL1xuICAgIHRoaXMuZXF1YXRpb25zID0gW107XG5cbiAgICAvKipcbiAgICAgKiBDdXJyZW50IGJvZGllcyBpbiB0aGlzIGlzbGFuZC5cbiAgICAgKiBAcHJvcGVydHkgYm9kaWVzXG4gICAgICogQHR5cGUge0FycmF5fVxuICAgICAqL1xuICAgIHRoaXMuYm9kaWVzID0gW107XG59XG5cbi8qKlxuICogQ2xlYW4gdGhpcyBpc2xhbmQgZnJvbSBib2RpZXMgYW5kIGVxdWF0aW9ucy5cbiAqIEBtZXRob2QgcmVzZXRcbiAqL1xuSXNsYW5kLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uKCl7XG4gICAgdGhpcy5lcXVhdGlvbnMubGVuZ3RoID0gdGhpcy5ib2RpZXMubGVuZ3RoID0gMDtcbn07XG5cbnZhciBib2R5SWRzID0gW107XG5cbi8qKlxuICogR2V0IGFsbCB1bmlxdWUgYm9kaWVzIGluIHRoaXMgaXNsYW5kLlxuICogQG1ldGhvZCBnZXRCb2RpZXNcbiAqIEByZXR1cm4ge0FycmF5fSBBbiBhcnJheSBvZiBCb2R5XG4gKi9cbklzbGFuZC5wcm90b3R5cGUuZ2V0Qm9kaWVzID0gZnVuY3Rpb24ocmVzdWx0KXtcbiAgICB2YXIgYm9kaWVzID0gcmVzdWx0IHx8IFtdLFxuICAgICAgICBlcXMgPSB0aGlzLmVxdWF0aW9ucztcbiAgICBib2R5SWRzLmxlbmd0aCA9IDA7XG4gICAgZm9yKHZhciBpPTA7IGkhPT1lcXMubGVuZ3RoOyBpKyspe1xuICAgICAgICB2YXIgZXEgPSBlcXNbaV07XG4gICAgICAgIGlmKGJvZHlJZHMuaW5kZXhPZihlcS5ib2R5QS5pZCk9PT0tMSl7XG4gICAgICAgICAgICBib2RpZXMucHVzaChlcS5ib2R5QSk7XG4gICAgICAgICAgICBib2R5SWRzLnB1c2goZXEuYm9keUEuaWQpO1xuICAgICAgICB9XG4gICAgICAgIGlmKGJvZHlJZHMuaW5kZXhPZihlcS5ib2R5Qi5pZCk9PT0tMSl7XG4gICAgICAgICAgICBib2RpZXMucHVzaChlcS5ib2R5Qik7XG4gICAgICAgICAgICBib2R5SWRzLnB1c2goZXEuYm9keUIuaWQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBib2RpZXM7XG59O1xuXG4vKipcbiAqIENoZWNrIGlmIHRoZSBlbnRpcmUgaXNsYW5kIHdhbnRzIHRvIHNsZWVwLlxuICogQG1ldGhvZCB3YW50c1RvU2xlZXBcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKi9cbklzbGFuZC5wcm90b3R5cGUud2FudHNUb1NsZWVwID0gZnVuY3Rpb24oKXtcbiAgICBmb3IodmFyIGk9MDsgaTx0aGlzLmJvZGllcy5sZW5ndGg7IGkrKyl7XG4gICAgICAgIHZhciBiID0gdGhpcy5ib2RpZXNbaV07XG4gICAgICAgIGlmKGIudHlwZSA9PT0gQm9keS5EWU5BTUlDICYmICFiLndhbnRzVG9TbGVlcCl7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59O1xuXG4vKipcbiAqIE1ha2UgYWxsIGJvZGllcyBpbiB0aGUgaXNsYW5kIHNsZWVwLlxuICogQG1ldGhvZCBzbGVlcFxuICovXG5Jc2xhbmQucHJvdG90eXBlLnNsZWVwID0gZnVuY3Rpb24oKXtcbiAgICBmb3IodmFyIGk9MDsgaTx0aGlzLmJvZGllcy5sZW5ndGg7IGkrKyl7XG4gICAgICAgIHZhciBiID0gdGhpcy5ib2RpZXNbaV07XG4gICAgICAgIGIuc2xlZXAoKTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59O1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcDIvc3JjL3dvcmxkL0lzbGFuZC5qc1xuICoqIG1vZHVsZSBpZCA9IDYzXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IElzbGFuZE5vZGU7XG5cbi8qKlxuICogSG9sZHMgYSBib2R5IGFuZCBrZWVwcyB0cmFjayBvZiBzb21lIGFkZGl0aW9uYWwgcHJvcGVydGllcyBuZWVkZWQgZm9yIGdyYXBoIHRyYXZlcnNhbC5cbiAqIEBjbGFzcyBJc2xhbmROb2RlXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7Qm9keX0gYm9keVxuICovXG5mdW5jdGlvbiBJc2xhbmROb2RlKGJvZHkpe1xuXG5cdC8qKlxuXHQgKiBUaGUgYm9keSB0aGF0IGlzIGNvbnRhaW5lZCBpbiB0aGlzIG5vZGUuXG5cdCAqIEBwcm9wZXJ0eSB7Qm9keX0gYm9keVxuXHQgKi9cbiAgICB0aGlzLmJvZHkgPSBib2R5O1xuXG4gICAgLyoqXG4gICAgICogTmVpZ2hib3JpbmcgSXNsYW5kTm9kZXNcbiAgICAgKiBAcHJvcGVydHkge0FycmF5fSBuZWlnaGJvcnNcbiAgICAgKi9cbiAgICB0aGlzLm5laWdoYm9ycyA9IFtdO1xuXG4gICAgLyoqXG4gICAgICogRXF1YXRpb25zIGNvbm5lY3RlZCB0byB0aGlzIG5vZGUuXG4gICAgICogQHByb3BlcnR5IHtBcnJheX0gZXF1YXRpb25zXG4gICAgICovXG4gICAgdGhpcy5lcXVhdGlvbnMgPSBbXTtcblxuICAgIC8qKlxuICAgICAqIElmIHRoaXMgbm9kZSB3YXMgdmlzaXRpbmcgZHVyaW5nIHRoZSBncmFwaCB0cmF2ZXJzYWwuXG4gICAgICogQHByb3BlcnR5IHZpc2l0ZWRcbiAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLnZpc2l0ZWQgPSBmYWxzZTtcbn1cblxuLyoqXG4gKiBDbGVhbiB0aGlzIG5vZGUgZnJvbSBib2RpZXMgYW5kIGVxdWF0aW9ucy5cbiAqIEBtZXRob2QgcmVzZXRcbiAqL1xuSXNsYW5kTm9kZS5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbigpe1xuICAgIHRoaXMuZXF1YXRpb25zLmxlbmd0aCA9IDA7XG4gICAgdGhpcy5uZWlnaGJvcnMubGVuZ3RoID0gMDtcbiAgICB0aGlzLnZpc2l0ZWQgPSBmYWxzZTtcbiAgICB0aGlzLmJvZHkgPSBudWxsO1xufTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3AyL3NyYy93b3JsZC9Jc2xhbmROb2RlLmpzXG4gKiogbW9kdWxlIGlkID0gNjRcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG5mdW5jdGlvbiBFdmVudEVtaXR0ZXIoKSB7XG4gIHRoaXMuX2V2ZW50cyA9IHRoaXMuX2V2ZW50cyB8fCB7fTtcbiAgdGhpcy5fbWF4TGlzdGVuZXJzID0gdGhpcy5fbWF4TGlzdGVuZXJzIHx8IHVuZGVmaW5lZDtcbn1cbm1vZHVsZS5leHBvcnRzID0gRXZlbnRFbWl0dGVyO1xuXG4vLyBCYWNrd2FyZHMtY29tcGF0IHdpdGggbm9kZSAwLjEwLnhcbkV2ZW50RW1pdHRlci5FdmVudEVtaXR0ZXIgPSBFdmVudEVtaXR0ZXI7XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuX2V2ZW50cyA9IHVuZGVmaW5lZDtcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuX21heExpc3RlbmVycyA9IHVuZGVmaW5lZDtcblxuLy8gQnkgZGVmYXVsdCBFdmVudEVtaXR0ZXJzIHdpbGwgcHJpbnQgYSB3YXJuaW5nIGlmIG1vcmUgdGhhbiAxMCBsaXN0ZW5lcnMgYXJlXG4vLyBhZGRlZCB0byBpdC4gVGhpcyBpcyBhIHVzZWZ1bCBkZWZhdWx0IHdoaWNoIGhlbHBzIGZpbmRpbmcgbWVtb3J5IGxlYWtzLlxuRXZlbnRFbWl0dGVyLmRlZmF1bHRNYXhMaXN0ZW5lcnMgPSAxMDtcblxuLy8gT2J2aW91c2x5IG5vdCBhbGwgRW1pdHRlcnMgc2hvdWxkIGJlIGxpbWl0ZWQgdG8gMTAuIFRoaXMgZnVuY3Rpb24gYWxsb3dzXG4vLyB0aGF0IHRvIGJlIGluY3JlYXNlZC4gU2V0IHRvIHplcm8gZm9yIHVubGltaXRlZC5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuc2V0TWF4TGlzdGVuZXJzID0gZnVuY3Rpb24obikge1xuICBpZiAoIWlzTnVtYmVyKG4pIHx8IG4gPCAwIHx8IGlzTmFOKG4pKVxuICAgIHRocm93IFR5cGVFcnJvcignbiBtdXN0IGJlIGEgcG9zaXRpdmUgbnVtYmVyJyk7XG4gIHRoaXMuX21heExpc3RlbmVycyA9IG47XG4gIHJldHVybiB0aGlzO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5lbWl0ID0gZnVuY3Rpb24odHlwZSkge1xuICB2YXIgZXIsIGhhbmRsZXIsIGxlbiwgYXJncywgaSwgbGlzdGVuZXJzO1xuXG4gIGlmICghdGhpcy5fZXZlbnRzKVxuICAgIHRoaXMuX2V2ZW50cyA9IHt9O1xuXG4gIC8vIElmIHRoZXJlIGlzIG5vICdlcnJvcicgZXZlbnQgbGlzdGVuZXIgdGhlbiB0aHJvdy5cbiAgaWYgKHR5cGUgPT09ICdlcnJvcicpIHtcbiAgICBpZiAoIXRoaXMuX2V2ZW50cy5lcnJvciB8fFxuICAgICAgICAoaXNPYmplY3QodGhpcy5fZXZlbnRzLmVycm9yKSAmJiAhdGhpcy5fZXZlbnRzLmVycm9yLmxlbmd0aCkpIHtcbiAgICAgIGVyID0gYXJndW1lbnRzWzFdO1xuICAgICAgaWYgKGVyIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgdGhyb3cgZXI7IC8vIFVuaGFuZGxlZCAnZXJyb3InIGV2ZW50XG4gICAgICB9XG4gICAgICB0aHJvdyBUeXBlRXJyb3IoJ1VuY2F1Z2h0LCB1bnNwZWNpZmllZCBcImVycm9yXCIgZXZlbnQuJyk7XG4gICAgfVxuICB9XG5cbiAgaGFuZGxlciA9IHRoaXMuX2V2ZW50c1t0eXBlXTtcblxuICBpZiAoaXNVbmRlZmluZWQoaGFuZGxlcikpXG4gICAgcmV0dXJuIGZhbHNlO1xuXG4gIGlmIChpc0Z1bmN0aW9uKGhhbmRsZXIpKSB7XG4gICAgc3dpdGNoIChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICAvLyBmYXN0IGNhc2VzXG4gICAgICBjYXNlIDE6XG4gICAgICAgIGhhbmRsZXIuY2FsbCh0aGlzKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDI6XG4gICAgICAgIGhhbmRsZXIuY2FsbCh0aGlzLCBhcmd1bWVudHNbMV0pO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgMzpcbiAgICAgICAgaGFuZGxlci5jYWxsKHRoaXMsIGFyZ3VtZW50c1sxXSwgYXJndW1lbnRzWzJdKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICAvLyBzbG93ZXJcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgIGFyZ3MgPSBuZXcgQXJyYXkobGVuIC0gMSk7XG4gICAgICAgIGZvciAoaSA9IDE7IGkgPCBsZW47IGkrKylcbiAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgaGFuZGxlci5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoaXNPYmplY3QoaGFuZGxlcikpIHtcbiAgICBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgIGFyZ3MgPSBuZXcgQXJyYXkobGVuIC0gMSk7XG4gICAgZm9yIChpID0gMTsgaSA8IGxlbjsgaSsrKVxuICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG5cbiAgICBsaXN0ZW5lcnMgPSBoYW5kbGVyLnNsaWNlKCk7XG4gICAgbGVuID0gbGlzdGVuZXJzLmxlbmd0aDtcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspXG4gICAgICBsaXN0ZW5lcnNbaV0uYXBwbHkodGhpcywgYXJncyk7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXIgPSBmdW5jdGlvbih0eXBlLCBsaXN0ZW5lcikge1xuICB2YXIgbTtcblxuICBpZiAoIWlzRnVuY3Rpb24obGlzdGVuZXIpKVxuICAgIHRocm93IFR5cGVFcnJvcignbGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHMpXG4gICAgdGhpcy5fZXZlbnRzID0ge307XG5cbiAgLy8gVG8gYXZvaWQgcmVjdXJzaW9uIGluIHRoZSBjYXNlIHRoYXQgdHlwZSA9PT0gXCJuZXdMaXN0ZW5lclwiISBCZWZvcmVcbiAgLy8gYWRkaW5nIGl0IHRvIHRoZSBsaXN0ZW5lcnMsIGZpcnN0IGVtaXQgXCJuZXdMaXN0ZW5lclwiLlxuICBpZiAodGhpcy5fZXZlbnRzLm5ld0xpc3RlbmVyKVxuICAgIHRoaXMuZW1pdCgnbmV3TGlzdGVuZXInLCB0eXBlLFxuICAgICAgICAgICAgICBpc0Z1bmN0aW9uKGxpc3RlbmVyLmxpc3RlbmVyKSA/XG4gICAgICAgICAgICAgIGxpc3RlbmVyLmxpc3RlbmVyIDogbGlzdGVuZXIpO1xuXG4gIGlmICghdGhpcy5fZXZlbnRzW3R5cGVdKVxuICAgIC8vIE9wdGltaXplIHRoZSBjYXNlIG9mIG9uZSBsaXN0ZW5lci4gRG9uJ3QgbmVlZCB0aGUgZXh0cmEgYXJyYXkgb2JqZWN0LlxuICAgIHRoaXMuX2V2ZW50c1t0eXBlXSA9IGxpc3RlbmVyO1xuICBlbHNlIGlmIChpc09iamVjdCh0aGlzLl9ldmVudHNbdHlwZV0pKVxuICAgIC8vIElmIHdlJ3ZlIGFscmVhZHkgZ290IGFuIGFycmF5LCBqdXN0IGFwcGVuZC5cbiAgICB0aGlzLl9ldmVudHNbdHlwZV0ucHVzaChsaXN0ZW5lcik7XG4gIGVsc2VcbiAgICAvLyBBZGRpbmcgdGhlIHNlY29uZCBlbGVtZW50LCBuZWVkIHRvIGNoYW5nZSB0byBhcnJheS5cbiAgICB0aGlzLl9ldmVudHNbdHlwZV0gPSBbdGhpcy5fZXZlbnRzW3R5cGVdLCBsaXN0ZW5lcl07XG5cbiAgLy8gQ2hlY2sgZm9yIGxpc3RlbmVyIGxlYWtcbiAgaWYgKGlzT2JqZWN0KHRoaXMuX2V2ZW50c1t0eXBlXSkgJiYgIXRoaXMuX2V2ZW50c1t0eXBlXS53YXJuZWQpIHtcbiAgICB2YXIgbTtcbiAgICBpZiAoIWlzVW5kZWZpbmVkKHRoaXMuX21heExpc3RlbmVycykpIHtcbiAgICAgIG0gPSB0aGlzLl9tYXhMaXN0ZW5lcnM7XG4gICAgfSBlbHNlIHtcbiAgICAgIG0gPSBFdmVudEVtaXR0ZXIuZGVmYXVsdE1heExpc3RlbmVycztcbiAgICB9XG5cbiAgICBpZiAobSAmJiBtID4gMCAmJiB0aGlzLl9ldmVudHNbdHlwZV0ubGVuZ3RoID4gbSkge1xuICAgICAgdGhpcy5fZXZlbnRzW3R5cGVdLndhcm5lZCA9IHRydWU7XG4gICAgICBjb25zb2xlLmVycm9yKCcobm9kZSkgd2FybmluZzogcG9zc2libGUgRXZlbnRFbWl0dGVyIG1lbW9yeSAnICtcbiAgICAgICAgICAgICAgICAgICAgJ2xlYWsgZGV0ZWN0ZWQuICVkIGxpc3RlbmVycyBhZGRlZC4gJyArXG4gICAgICAgICAgICAgICAgICAgICdVc2UgZW1pdHRlci5zZXRNYXhMaXN0ZW5lcnMoKSB0byBpbmNyZWFzZSBsaW1pdC4nLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9ldmVudHNbdHlwZV0ubGVuZ3RoKTtcbiAgICAgIGlmICh0eXBlb2YgY29uc29sZS50cmFjZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAvLyBub3Qgc3VwcG9ydGVkIGluIElFIDEwXG4gICAgICAgIGNvbnNvbGUudHJhY2UoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub24gPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyO1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uY2UgPSBmdW5jdGlvbih0eXBlLCBsaXN0ZW5lcikge1xuICBpZiAoIWlzRnVuY3Rpb24obGlzdGVuZXIpKVxuICAgIHRocm93IFR5cGVFcnJvcignbGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG5cbiAgdmFyIGZpcmVkID0gZmFsc2U7XG5cbiAgZnVuY3Rpb24gZygpIHtcbiAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKHR5cGUsIGcpO1xuXG4gICAgaWYgKCFmaXJlZCkge1xuICAgICAgZmlyZWQgPSB0cnVlO1xuICAgICAgbGlzdGVuZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG4gIH1cblxuICBnLmxpc3RlbmVyID0gbGlzdGVuZXI7XG4gIHRoaXMub24odHlwZSwgZyk7XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vLyBlbWl0cyBhICdyZW1vdmVMaXN0ZW5lcicgZXZlbnQgaWZmIHRoZSBsaXN0ZW5lciB3YXMgcmVtb3ZlZFxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lciA9IGZ1bmN0aW9uKHR5cGUsIGxpc3RlbmVyKSB7XG4gIHZhciBsaXN0LCBwb3NpdGlvbiwgbGVuZ3RoLCBpO1xuXG4gIGlmICghaXNGdW5jdGlvbihsaXN0ZW5lcikpXG4gICAgdGhyb3cgVHlwZUVycm9yKCdsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcblxuICBpZiAoIXRoaXMuX2V2ZW50cyB8fCAhdGhpcy5fZXZlbnRzW3R5cGVdKVxuICAgIHJldHVybiB0aGlzO1xuXG4gIGxpc3QgPSB0aGlzLl9ldmVudHNbdHlwZV07XG4gIGxlbmd0aCA9IGxpc3QubGVuZ3RoO1xuICBwb3NpdGlvbiA9IC0xO1xuXG4gIGlmIChsaXN0ID09PSBsaXN0ZW5lciB8fFxuICAgICAgKGlzRnVuY3Rpb24obGlzdC5saXN0ZW5lcikgJiYgbGlzdC5saXN0ZW5lciA9PT0gbGlzdGVuZXIpKSB7XG4gICAgZGVsZXRlIHRoaXMuX2V2ZW50c1t0eXBlXTtcbiAgICBpZiAodGhpcy5fZXZlbnRzLnJlbW92ZUxpc3RlbmVyKVxuICAgICAgdGhpcy5lbWl0KCdyZW1vdmVMaXN0ZW5lcicsIHR5cGUsIGxpc3RlbmVyKTtcblxuICB9IGVsc2UgaWYgKGlzT2JqZWN0KGxpc3QpKSB7XG4gICAgZm9yIChpID0gbGVuZ3RoOyBpLS0gPiAwOykge1xuICAgICAgaWYgKGxpc3RbaV0gPT09IGxpc3RlbmVyIHx8XG4gICAgICAgICAgKGxpc3RbaV0ubGlzdGVuZXIgJiYgbGlzdFtpXS5saXN0ZW5lciA9PT0gbGlzdGVuZXIpKSB7XG4gICAgICAgIHBvc2l0aW9uID0gaTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHBvc2l0aW9uIDwgMClcbiAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgaWYgKGxpc3QubGVuZ3RoID09PSAxKSB7XG4gICAgICBsaXN0Lmxlbmd0aCA9IDA7XG4gICAgICBkZWxldGUgdGhpcy5fZXZlbnRzW3R5cGVdO1xuICAgIH0gZWxzZSB7XG4gICAgICBsaXN0LnNwbGljZShwb3NpdGlvbiwgMSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX2V2ZW50cy5yZW1vdmVMaXN0ZW5lcilcbiAgICAgIHRoaXMuZW1pdCgncmVtb3ZlTGlzdGVuZXInLCB0eXBlLCBsaXN0ZW5lcik7XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzID0gZnVuY3Rpb24odHlwZSkge1xuICB2YXIga2V5LCBsaXN0ZW5lcnM7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHMpXG4gICAgcmV0dXJuIHRoaXM7XG5cbiAgLy8gbm90IGxpc3RlbmluZyBmb3IgcmVtb3ZlTGlzdGVuZXIsIG5vIG5lZWQgdG8gZW1pdFxuICBpZiAoIXRoaXMuX2V2ZW50cy5yZW1vdmVMaXN0ZW5lcikge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKVxuICAgICAgdGhpcy5fZXZlbnRzID0ge307XG4gICAgZWxzZSBpZiAodGhpcy5fZXZlbnRzW3R5cGVdKVxuICAgICAgZGVsZXRlIHRoaXMuX2V2ZW50c1t0eXBlXTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8vIGVtaXQgcmVtb3ZlTGlzdGVuZXIgZm9yIGFsbCBsaXN0ZW5lcnMgb24gYWxsIGV2ZW50c1xuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgIGZvciAoa2V5IGluIHRoaXMuX2V2ZW50cykge1xuICAgICAgaWYgKGtleSA9PT0gJ3JlbW92ZUxpc3RlbmVyJykgY29udGludWU7XG4gICAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycyhrZXkpO1xuICAgIH1cbiAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycygncmVtb3ZlTGlzdGVuZXInKTtcbiAgICB0aGlzLl9ldmVudHMgPSB7fTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50c1t0eXBlXTtcblxuICBpZiAoaXNGdW5jdGlvbihsaXN0ZW5lcnMpKSB7XG4gICAgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcnMpO1xuICB9IGVsc2Uge1xuICAgIC8vIExJRk8gb3JkZXJcbiAgICB3aGlsZSAobGlzdGVuZXJzLmxlbmd0aClcbiAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXJzW2xpc3RlbmVycy5sZW5ndGggLSAxXSk7XG4gIH1cbiAgZGVsZXRlIHRoaXMuX2V2ZW50c1t0eXBlXTtcblxuICByZXR1cm4gdGhpcztcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJzID0gZnVuY3Rpb24odHlwZSkge1xuICB2YXIgcmV0O1xuICBpZiAoIXRoaXMuX2V2ZW50cyB8fCAhdGhpcy5fZXZlbnRzW3R5cGVdKVxuICAgIHJldCA9IFtdO1xuICBlbHNlIGlmIChpc0Z1bmN0aW9uKHRoaXMuX2V2ZW50c1t0eXBlXSkpXG4gICAgcmV0ID0gW3RoaXMuX2V2ZW50c1t0eXBlXV07XG4gIGVsc2VcbiAgICByZXQgPSB0aGlzLl9ldmVudHNbdHlwZV0uc2xpY2UoKTtcbiAgcmV0dXJuIHJldDtcbn07XG5cbkV2ZW50RW1pdHRlci5saXN0ZW5lckNvdW50ID0gZnVuY3Rpb24oZW1pdHRlciwgdHlwZSkge1xuICB2YXIgcmV0O1xuICBpZiAoIWVtaXR0ZXIuX2V2ZW50cyB8fCAhZW1pdHRlci5fZXZlbnRzW3R5cGVdKVxuICAgIHJldCA9IDA7XG4gIGVsc2UgaWYgKGlzRnVuY3Rpb24oZW1pdHRlci5fZXZlbnRzW3R5cGVdKSlcbiAgICByZXQgPSAxO1xuICBlbHNlXG4gICAgcmV0ID0gZW1pdHRlci5fZXZlbnRzW3R5cGVdLmxlbmd0aDtcbiAgcmV0dXJuIHJldDtcbn07XG5cbmZ1bmN0aW9uIGlzRnVuY3Rpb24oYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnZnVuY3Rpb24nO1xufVxuXG5mdW5jdGlvbiBpc051bWJlcihhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdudW1iZXInO1xufVxuXG5mdW5jdGlvbiBpc09iamVjdChhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdvYmplY3QnICYmIGFyZyAhPT0gbnVsbDtcbn1cblxuZnVuY3Rpb24gaXNVbmRlZmluZWQoYXJnKSB7XG4gIHJldHVybiBhcmcgPT09IHZvaWQgMDtcbn1cblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogKHdlYnBhY2spL34vbm9kZS1saWJzLWJyb3dzZXIvfi9ldmVudHMvZXZlbnRzLmpzXG4gKiogbW9kdWxlIGlkID0gNjVcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8qKlxuICogQW4gZXZlbiBiZXR0ZXIgYW5pbWF0aW9uIGZyYW1lLlxuICpcbiAqIEBjb3B5cmlnaHQgT2xlZyBTbG9ib2Rza29pIDIwMTVcbiAqIEB3ZWJzaXRlIGh0dHBzOi8vZ2l0aHViLmNvbS9rb2YvYW5pbWF0aW9uRnJhbWVcbiAqIEBsaWNlbnNlIE1JVFxuICovXG5cbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9saWIvYW5pbWF0aW9uLWZyYW1lJylcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2FuaW1hdGlvbi1mcmFtZS9pbmRleC5qc1xuICoqIG1vZHVsZSBpZCA9IDY2XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIndXNlIHN0cmljdCdcblxudmFyIG5hdGl2ZUltcGwgPSByZXF1aXJlKCcuL25hdGl2ZScpXG52YXIgbm93ID0gcmVxdWlyZSgnLi9ub3cnKVxudmFyIHBlcmZvcm1hbmNlID0gcmVxdWlyZSgnLi9wZXJmb3JtYW5jZScpXG5cbi8vIFdlaXJkIG5hdGl2ZSBpbXBsZW1lbnRhdGlvbiBkb2Vzbid0IHdvcmsgaWYgY29udGV4dCBpcyBkZWZpbmVkLlxudmFyIG5hdGl2ZVJlcXVlc3QgPSBuYXRpdmVJbXBsLnJlcXVlc3RcbnZhciBuYXRpdmVDYW5jZWwgPSBuYXRpdmVJbXBsLmNhbmNlbFxuXG4vKipcbiAqIEFuaW1hdGlvbiBmcmFtZSBjb25zdHJ1Y3Rvci5cbiAqXG4gKiBPcHRpb25zOlxuICogICAtIGB1c2VOYXRpdmVgIHVzZSB0aGUgbmF0aXZlIGFuaW1hdGlvbiBmcmFtZSBpZiBwb3NzaWJsZSwgZGVmYXVsdHMgdG8gdHJ1ZVxuICogICAtIGBmcmFtZVJhdGVgIHBhc3MgYSBjdXN0b20gZnJhbWUgcmF0ZVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fE51bWJlcn0gb3B0aW9uc1xuICovXG5mdW5jdGlvbiBBbmltYXRpb25GcmFtZShvcHRpb25zKSB7XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIEFuaW1hdGlvbkZyYW1lKSkgcmV0dXJuIG5ldyBBbmltYXRpb25GcmFtZShvcHRpb25zKVxuICAgIG9wdGlvbnMgfHwgKG9wdGlvbnMgPSB7fSlcblxuICAgIC8vIEl0cyBhIGZyYW1lIHJhdGUuXG4gICAgaWYgKHR5cGVvZiBvcHRpb25zID09ICdudW1iZXInKSBvcHRpb25zID0ge2ZyYW1lUmF0ZTogb3B0aW9uc31cbiAgICBvcHRpb25zLnVzZU5hdGl2ZSAhPSBudWxsIHx8IChvcHRpb25zLnVzZU5hdGl2ZSA9IHRydWUpXG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9uc1xuICAgIHRoaXMuZnJhbWVSYXRlID0gb3B0aW9ucy5mcmFtZVJhdGUgfHwgQW5pbWF0aW9uRnJhbWUuRlJBTUVfUkFURVxuICAgIHRoaXMuX2ZyYW1lTGVuZ3RoID0gMTAwMCAvIHRoaXMuZnJhbWVSYXRlXG4gICAgdGhpcy5faXNDdXN0b21GcmFtZVJhdGUgPSB0aGlzLmZyYW1lUmF0ZSAhPT0gQW5pbWF0aW9uRnJhbWUuRlJBTUVfUkFURVxuICAgIHRoaXMuX3RpbWVvdXRJZCA9IG51bGxcbiAgICB0aGlzLl9jYWxsYmFja3MgPSB7fVxuICAgIHRoaXMuX2xhc3RUaWNrVGltZSA9IDBcbiAgICB0aGlzLl90aWNrQ291bnRlciA9IDBcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBBbmltYXRpb25GcmFtZVxuXG4vKipcbiAqIERlZmF1bHQgZnJhbWUgcmF0ZSB1c2VkIGZvciBzaGltIGltcGxlbWVudGF0aW9uLiBOYXRpdmUgaW1wbGVtZW50YXRpb25cbiAqIHdpbGwgdXNlIHRoZSBzY3JlZW4gZnJhbWUgcmF0ZSwgYnV0IGpzIGhhdmUgbm8gd2F5IHRvIGRldGVjdCBpdC5cbiAqXG4gKiBJZiB5b3Uga25vdyB5b3VyIHRhcmdldCBkZXZpY2UsIGRlZmluZSBpdCBtYW51YWxseS5cbiAqXG4gKiBAdHlwZSB7TnVtYmVyfVxuICogQGFwaSBwdWJsaWNcbiAqL1xuQW5pbWF0aW9uRnJhbWUuRlJBTUVfUkFURSA9IDYwXG5cbi8qKlxuICogUmVwbGFjZSB0aGUgZ2xvYmFsbHkgZGVmaW5lZCBpbXBsZW1lbnRhdGlvbiBvciBkZWZpbmUgaXQgZ2xvYmFsbHkuXG4gKlxuICogQHBhcmFtIHtPYmplY3R8TnVtYmVyfSBbb3B0aW9uc11cbiAqIEBhcGkgcHVibGljXG4gKi9cbkFuaW1hdGlvbkZyYW1lLnNoaW0gPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgdmFyIGFuaW1hdGlvbkZyYW1lID0gbmV3IEFuaW1hdGlvbkZyYW1lKG9wdGlvbnMpXG5cbiAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIGFuaW1hdGlvbkZyYW1lLnJlcXVlc3QoY2FsbGJhY2spXG4gICAgfVxuICAgIHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSA9IGZ1bmN0aW9uKGlkKSB7XG4gICAgICAgIHJldHVybiBhbmltYXRpb25GcmFtZS5jYW5jZWwoaWQpXG4gICAgfVxuXG4gICAgcmV0dXJuIGFuaW1hdGlvbkZyYW1lXG59XG5cbi8qKlxuICogUmVxdWVzdCBhbmltYXRpb24gZnJhbWUuXG4gKiBXZSB3aWxsIHVzZSB0aGUgbmF0aXZlIFJBRiBhcyBzb29uIGFzIHdlIGtub3cgaXQgZG9lcyB3b3Jrcy5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICogQHJldHVybiB7TnVtYmVyfSB0aW1lb3V0IGlkIG9yIHJlcXVlc3RlZCBhbmltYXRpb24gZnJhbWUgaWRcbiAqIEBhcGkgcHVibGljXG4gKi9cbkFuaW1hdGlvbkZyYW1lLnByb3RvdHlwZS5yZXF1ZXN0ID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgICB2YXIgc2VsZiA9IHRoaXNcblxuICAgIC8vIEFsYXd5cyBpbmMgY291bnRlciB0byBlbnN1cmUgaXQgbmV2ZXIgaGFzIGEgY29uZmxpY3Qgd2l0aCB0aGUgbmF0aXZlIGNvdW50ZXIuXG4gICAgLy8gQWZ0ZXIgdGhlIGZlYXR1cmUgdGVzdCBwaGFzZSB3ZSBkb24ndCBrbm93IGV4YWN0bHkgd2hpY2ggaW1wbGVtZW50YXRpb24gaGFzIGJlZW4gdXNlZC5cbiAgICAvLyBUaGVyZWZvcmUgb24gI2NhbmNlbCB3ZSBkbyBpdCBmb3IgYm90aC5cbiAgICArK3RoaXMuX3RpY2tDb3VudGVyXG5cbiAgICBpZiAobmF0aXZlSW1wbC5zdXBwb3J0ZWQgJiYgdGhpcy5vcHRpb25zLnVzZU5hdGl2ZSAmJiAhdGhpcy5faXNDdXN0b21GcmFtZVJhdGUpIHtcbiAgICAgICAgcmV0dXJuIG5hdGl2ZVJlcXVlc3QoY2FsbGJhY2spXG4gICAgfVxuXG4gICAgaWYgKCFjYWxsYmFjaykgdGhyb3cgbmV3IFR5cGVFcnJvcignTm90IGVub3VnaCBhcmd1bWVudHMnKVxuXG4gICAgaWYgKHRoaXMuX3RpbWVvdXRJZCA9PSBudWxsKSB7XG4gICAgICAgIC8vIE11Y2ggZmFzdGVyIHRoYW4gTWF0aC5tYXhcbiAgICAgICAgLy8gaHR0cDovL2pzcGVyZi5jb20vbWF0aC1tYXgtdnMtY29tcGFyaXNvbi8zXG4gICAgICAgIC8vIGh0dHA6Ly9qc3BlcmYuY29tL2RhdGUtbm93LXZzLWRhdGUtZ2V0dGltZS8xMVxuICAgICAgICB2YXIgZGVsYXkgPSB0aGlzLl9mcmFtZUxlbmd0aCArIHRoaXMuX2xhc3RUaWNrVGltZSAtIG5vdygpXG4gICAgICAgIGlmIChkZWxheSA8IDApIGRlbGF5ID0gMFxuXG4gICAgICAgIHRoaXMuX3RpbWVvdXRJZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzZWxmLl9sYXN0VGlja1RpbWUgPSBub3coKVxuICAgICAgICAgICAgc2VsZi5fdGltZW91dElkID0gbnVsbFxuICAgICAgICAgICAgKytzZWxmLl90aWNrQ291bnRlclxuICAgICAgICAgICAgdmFyIGNhbGxiYWNrcyA9IHNlbGYuX2NhbGxiYWNrc1xuICAgICAgICAgICAgc2VsZi5fY2FsbGJhY2tzID0ge31cbiAgICAgICAgICAgIGZvciAodmFyIGlkIGluIGNhbGxiYWNrcykge1xuICAgICAgICAgICAgICAgIGlmIChjYWxsYmFja3NbaWRdKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChuYXRpdmVJbXBsLnN1cHBvcnRlZCAmJiBzZWxmLm9wdGlvbnMudXNlTmF0aXZlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYXRpdmVSZXF1ZXN0KGNhbGxiYWNrc1tpZF0pXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFja3NbaWRdKHBlcmZvcm1hbmNlLm5vdygpKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCBkZWxheSlcbiAgICB9XG5cbiAgICB0aGlzLl9jYWxsYmFja3NbdGhpcy5fdGlja0NvdW50ZXJdID0gY2FsbGJhY2tcblxuICAgIHJldHVybiB0aGlzLl90aWNrQ291bnRlclxufVxuXG4vKipcbiAqIENhbmNlbCBhbmltYXRpb24gZnJhbWUuXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IHRpbWVvdXQgaWQgb3IgcmVxdWVzdGVkIGFuaW1hdGlvbiBmcmFtZSBpZFxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cbkFuaW1hdGlvbkZyYW1lLnByb3RvdHlwZS5jYW5jZWwgPSBmdW5jdGlvbihpZCkge1xuICAgIGlmIChuYXRpdmVJbXBsLnN1cHBvcnRlZCAmJiB0aGlzLm9wdGlvbnMudXNlTmF0aXZlKSBuYXRpdmVDYW5jZWwoaWQpXG4gICAgZGVsZXRlIHRoaXMuX2NhbGxiYWNrc1tpZF1cbn1cblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2FuaW1hdGlvbi1mcmFtZS9saWIvYW5pbWF0aW9uLWZyYW1lLmpzXG4gKiogbW9kdWxlIGlkID0gNjdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIid1c2Ugc3RyaWN0J1xuXG52YXIgZ2xvYmFsID0gd2luZG93XG5cbi8vIFRlc3QgaWYgd2UgYXJlIHdpdGhpbiBhIGZvcmVpZ24gZG9tYWluLiBVc2UgcmFmIGZyb20gdGhlIHRvcCBpZiBwb3NzaWJsZS5cbnRyeSB7XG4gICAgLy8gQWNjZXNzaW5nIC5uYW1lIHdpbGwgdGhyb3cgU2VjdXJpdHlFcnJvciB3aXRoaW4gYSBmb3JlaWduIGRvbWFpbi5cbiAgICBnbG9iYWwudG9wLm5hbWVcbiAgICBnbG9iYWwgPSBnbG9iYWwudG9wXG59IGNhdGNoKGUpIHt9XG5cbmV4cG9ydHMucmVxdWVzdCA9IGdsb2JhbC5yZXF1ZXN0QW5pbWF0aW9uRnJhbWVcbmV4cG9ydHMuY2FuY2VsID0gZ2xvYmFsLmNhbmNlbEFuaW1hdGlvbkZyYW1lIHx8IGdsb2JhbC5jYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWVcbmV4cG9ydHMuc3VwcG9ydGVkID0gZmFsc2VcblxudmFyIHZlbmRvcnMgPSBbJ1dlYmtpdCcsICdNb3onLCAnbXMnLCAnTyddXG5cbi8vIEdyYWIgdGhlIG5hdGl2ZSBpbXBsZW1lbnRhdGlvbi5cbmZvciAodmFyIGkgPSAwOyBpIDwgdmVuZG9ycy5sZW5ndGggJiYgIWV4cG9ydHMucmVxdWVzdDsgaSsrKSB7XG4gICAgZXhwb3J0cy5yZXF1ZXN0ID0gZ2xvYmFsW3ZlbmRvcnNbaV0gKyAnUmVxdWVzdEFuaW1hdGlvbkZyYW1lJ11cbiAgICBleHBvcnRzLmNhbmNlbCA9IGdsb2JhbFt2ZW5kb3JzW2ldICsgJ0NhbmNlbEFuaW1hdGlvbkZyYW1lJ10gfHxcbiAgICAgICAgZ2xvYmFsW3ZlbmRvcnNbaV0gKyAnQ2FuY2VsUmVxdWVzdEFuaW1hdGlvbkZyYW1lJ11cbn1cblxuLy8gVGVzdCBpZiBuYXRpdmUgaW1wbGVtZW50YXRpb24gd29ya3MuXG4vLyBUaGVyZSBhcmUgc29tZSBpc3N1ZXMgb24gaW9zNlxuLy8gaHR0cDovL3NoaXR3ZWJraXRkb2VzLnR1bWJsci5jb20vcG9zdC80NzE4Njk0NTg1Ni9uYXRpdmUtcmVxdWVzdGFuaW1hdGlvbmZyYW1lLWJyb2tlbi1vbi1pb3MtNlxuLy8gaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vS3JvZkRyYWt1bGEvNTMxODA0OFxuXG5pZiAoZXhwb3J0cy5yZXF1ZXN0KSB7XG4gICAgZXhwb3J0cy5yZXF1ZXN0LmNhbGwobnVsbCwgZnVuY3Rpb24oKSB7XG4gICAgICAgIGV4cG9ydHMuc3VwcG9ydGVkID0gdHJ1ZVxuICAgIH0pO1xufVxuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYW5pbWF0aW9uLWZyYW1lL2xpYi9uYXRpdmUuanNcbiAqKiBtb2R1bGUgaWQgPSA2OFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiJ3VzZSBzdHJpY3QnXG5cbnZhciBub3cgPSByZXF1aXJlKCcuL25vdycpXG5cbi8qKlxuICogUmVwbGFjZW1lbnQgZm9yIFBlcmZvcm1hbmNlVGltaW5nLm5hdmlnYXRpb25TdGFydCBmb3IgdGhlIGNhc2Ugd2hlblxuICogcGVyZm9ybWFuY2Uubm93IGlzIG5vdCBpbXBsZW1lbnRlZC5cbiAqXG4gKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvUGVyZm9ybWFuY2VUaW1pbmcubmF2aWdhdGlvblN0YXJ0XG4gKlxuICogQHR5cGUge051bWJlcn1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5leHBvcnRzLm5hdmlnYXRpb25TdGFydCA9IG5vdygpXG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9hbmltYXRpb24tZnJhbWUvbGliL3BlcmZvcm1hbmNlLXRpbWluZy5qc1xuICoqIG1vZHVsZSBpZCA9IDY5XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIndXNlIHN0cmljdCdcblxudmFyIG5vdyA9IHJlcXVpcmUoJy4vbm93JylcbnZhciBQZXJmb3JtYW5jZVRpbWluZyA9IHJlcXVpcmUoJy4vcGVyZm9ybWFuY2UtdGltaW5nJylcblxuLyoqXG4gKiBDcm9zc3BsYXRmb3JtIHBlcmZvcm1hbmNlLm5vdygpXG4gKlxuICogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1BlcmZvcm1hbmNlLm5vdygpXG4gKlxuICogQHJldHVybiB7TnVtYmVyfSByZWxhdGl2ZSB0aW1lIGluIG1zXG4gKiBAYXBpIHB1YmxpY1xuICovXG5leHBvcnRzLm5vdyA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAod2luZG93LnBlcmZvcm1hbmNlICYmIHdpbmRvdy5wZXJmb3JtYW5jZS5ub3cpIHJldHVybiB3aW5kb3cucGVyZm9ybWFuY2Uubm93KClcbiAgICByZXR1cm4gbm93KCkgLSBQZXJmb3JtYW5jZVRpbWluZy5uYXZpZ2F0aW9uU3RhcnRcbn1cblxuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYW5pbWF0aW9uLWZyYW1lL2xpYi9wZXJmb3JtYW5jZS5qc1xuICoqIG1vZHVsZSBpZCA9IDcwXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgQXVkaW9PYmplY3QgPSByZXF1aXJlKCcuL2xpYi9hdWRpby1vYmplY3QnKVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcblxuICBjcmVhdGU6IGZ1bmN0aW9uICh1cmwpIHtcbiAgICByZXR1cm4gbmV3IEF1ZGlvT2JqZWN0KHVybClcbiAgfSxcblxuICB3aGVuTG9hZGVkOiBmdW5jdGlvbiAob2JqZWN0cywgY2IpIHtcbiAgICB2YXIgbG9hZGVkID0gMFxuICAgIGlmICghQXJyYXkuaXNBcnJheShvYmplY3RzKSkge1xuICAgICAgb2JqZWN0cyA9IFtvYmplY3RzXVxuICAgIH1cbiAgICBvYmplY3RzLmZvckVhY2goZnVuY3Rpb24gKG8pIHtcbiAgICAgIGlmIChvLnN0YXRlID09PSAnbG9hZGVkJykge1xuICAgICAgICBjaGVjaygpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvLm9uY2UoJ2xvYWQnLCBjaGVjaylcbiAgICAgIH1cbiAgICB9KVxuICAgIGZ1bmN0aW9uIGNoZWNrICgpIHtcbiAgICAgIGxvYWRlZCsrXG4gICAgICBpZiAobG9hZGVkID09PSBvYmplY3RzLmxlbmd0aCkge1xuICAgICAgICBjYigpXG4gICAgICB9XG4gICAgfVxuICB9XG5cbn1cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9icm93c2VyLWF1ZGlvL2luZGV4LmpzXG4gKiogbW9kdWxlIGlkID0gNzFcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciBBdWRpb1RhZ1BsYXllciA9IHJlcXVpcmUoJy4vYXVkaW8tdGFnLXBsYXllcicpXG52YXIgV2ViQXVkaW9QbGF5ZXIgPSByZXF1aXJlKCcuL3dlYi1hdWRpby1wbGF5ZXInKVxudmFyIEVtaXR0ZXIgPSByZXF1aXJlKCdldmVudHMnKS5FdmVudEVtaXR0ZXJcbnZhciBBdWRpb0NvbnRleHQgPSB3aW5kb3cuQXVkaW9Db250ZXh0IHx8IHdpbmRvdy53ZWJraXRBdWRpb0NvbnRleHRcblxudmFyIHBsYXllclxuaWYgKEF1ZGlvQ29udGV4dCkge1xuICB0cnkge1xuICAgIC8vIENocm9tZSB0aHJvd3MgZXJyb3Igd2hlbiBoYXZpbmcgdG9vIG1hbnkgQXVkaW9Db250ZXh0c1xuICAgIGNvbnNvbGUubG9nKCdhdWRpbyBjb250ZXh0JylcbiAgICBwbGF5ZXIgPSBuZXcgV2ViQXVkaW9QbGF5ZXIoQXVkaW9Db250ZXh0KVxuICB9IGNhdGNoIChlKSB7XG4gICAgY29uc29sZS5sb2coJ2Vycm9yLCBmYWxsYmFjayB0byBhdWRpbyB0YWcnKVxuICAgIHBsYXllciA9IG5ldyBBdWRpb1RhZ1BsYXllcigpXG4gIH1cbn0gZWxzZSB7XG4gIHBsYXllciA9IG5ldyBBdWRpb1RhZ1BsYXllcigpXG59XG5cbmZ1bmN0aW9uIG5vb3AgKCkge31cblxuZnVuY3Rpb24gQXVkaW9PYmplY3QgKHVybCkge1xuICBFbWl0dGVyLmNhbGwodGhpcylcbiAgdGhpcy51cmwgPSB1cmxcbiAgdGhpcy5zdGF0ZSA9ICdsb2FkaW5nJ1xuICBwbGF5ZXIubG9hZCh1cmwsIGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLnN0YXRlID0gJ2xvYWRlZCdcbiAgICB0aGlzLmVtaXQoJ2xvYWQnKVxuICB9LmJpbmQodGhpcykpXG59XG5cbnZhciBwID0gQXVkaW9PYmplY3QucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShFbWl0dGVyLnByb3RvdHlwZSlcblxucC5wbGF5ID0gZnVuY3Rpb24gKCkge1xuICBpZiAodGhpcy5zdGF0ZSA9PT0gJ2xvYWRlZCcpIHtcbiAgICBwbGF5ZXIucGxheSh0aGlzLnVybClcbiAgfSBlbHNlIHtcbiAgICB0aGlzLm9uY2UoJ2xvYWQnLCB0aGlzLnBsYXkuYmluZCh0aGlzKSlcbiAgfVxufVxuXG5wLnN0b3AgPSBmdW5jdGlvbiAoKSB7XG4gIHBsYXllci5zdG9wKHRoaXMudXJsKVxufVxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkocCwgJ2R1cmF0aW9uJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gcGxheWVyLmR1cmF0aW9uT2YodGhpcy51cmwpICBcbiAgfSxcbiAgc2V0OiBub29wXG59KVxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkocCwgJ2N1cnJlbnRUaW1lJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gcGxheWVyLnRpbWUodGhpcy51cmwpXG4gIH0sXG4gIHNldDogbm9vcFxufSlcblxubW9kdWxlLmV4cG9ydHMgPSBBdWRpb09iamVjdFxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2Jyb3dzZXItYXVkaW8vbGliL2F1ZGlvLW9iamVjdC5qc1xuICoqIG1vZHVsZSBpZCA9IDcyXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvKipcbiAqIEEgcGxheWVyIHVzaW5nIGF1ZGlvIHRhZ3NcbiAqL1xuXG5mdW5jdGlvbiBBdWRpb1RhZ1BsYXllciAoKSB7XG4gIHRoaXMuYXVkaW9zID0ge31cbiAgdGhpcy5sb2FkZWQgPSB7fVxufVxuXG52YXIgcCA9IEF1ZGlvVGFnUGxheWVyLnByb3RvdHlwZVxuXG5wLmxvYWQgPSBmdW5jdGlvbiAodXJsLCBjYikge1xuICB2YXIgYXVkaW8gPSB0aGlzLmF1ZGlvc1t1cmxdXG4gIGlmIChhdWRpbykge1xuICAgIGlmIChjYikge1xuICAgICAgaWYgKCF0aGlzLmxvYWRlZFt1cmxdKSB7XG4gICAgICAgIGF1ZGlvLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWRlZGRhdGEnLCBjYilcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNiKClcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuXG4gIH1cbiAgYXVkaW8gPSB0aGlzLmF1ZGlvc1t1cmxdID0gbmV3IEF1ZGlvKClcbiAgYXVkaW8uc3JjID0gdXJsXG4gIGF1ZGlvLmxvYWQoKVxuICB2YXIgc2VsZiA9IHRoaXNcbiAgYXVkaW8uYWRkRXZlbnRMaXN0ZW5lcignbG9hZGVkZGF0YScsIGZ1bmN0aW9uICgpIHtcbiAgICBzZWxmLmxvYWRlZFt1cmxdID0gdHJ1ZVxuICAgIGlmIChjYikgY2IoKVxuICB9KVxufVxuXG5wLnBsYXkgPSBmdW5jdGlvbiAodXJsKSB7XG4gIHZhciBsb2FkZWQgPSB0aGlzLmxvYWRlZFt1cmxdXG4gIGlmICghbG9hZGVkKSB7XG4gICAgY29uc29sZS53YXJuKFxuICAgICAgJ2F1ZGlvOiBhdHRlbXB0aW5nIHRvIHBsYXkgZmlsZTogJyArIHVybCArXG4gICAgICAnIHdoaWNoIGlzIG5vdCBsb2FkZWQgeWV0LidcbiAgICApXG4gICAgcmV0dXJuXG4gIH1cbiAgdmFyIGF1ZGlvID0gdGhpcy5hdWRpb3NbdXJsXVxuICBhdWRpby5wbGF5KClcbn1cblxucC5zdG9wID0gZnVuY3Rpb24gKHVybCkge1xuICB2YXIgbG9hZGVkID0gdGhpcy5sb2FkZWRbdXJsXVxuICBpZiAobG9hZGVkKSB7XG4gICAgdmFyIGF1ZGlvID0gdGhpcy5hdWRpb3NbdXJsXVxuICAgIGF1ZGlvLnBhdXNlKClcbiAgICBhdWRpby5jdXJyZW50VGltZSA9IDBcbiAgfVxufVxuXG5wLmxvYWRBbGwgPSBmdW5jdGlvbiAoZmlsZXMsIGNiKSB7XG4gIHZhciBsb2FkZWQgPSAwXG4gIHZhciBzZWxmID0gdGhpc1xuICBmaWxlcy5mb3JFYWNoKGZ1bmN0aW9uIChmaWxlKSB7XG4gICAgc2VsZi5sb2FkKGZpbGUsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGxvYWRlZCsrXG4gICAgICBpZiAobG9hZGVkID49IGZpbGVzLmxlbmd0aCkge1xuICAgICAgICBjYigpXG4gICAgICB9XG4gICAgfSlcbiAgfSlcbn1cblxucC5kdXJhdGlvbk9mID0gZnVuY3Rpb24gKHVybCkge1xuICBpZiAodGhpcy5sb2FkZWRbdXJsXSkge1xuICAgIHJldHVybiB0aGlzLmF1ZGlvc1t1cmxdLmR1cmF0aW9uXG4gIH1cbn1cblxucC50aW1lID0gZnVuY3Rpb24gKHVybCkge1xuICBpZiAodGhpcy5sb2FkZWRbdXJsXSkge1xuICAgIHJldHVybiB0aGlzLmF1ZGlvc1t1cmxdLmN1cnJlbnRUaW1lXG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBBdWRpb1RhZ1BsYXllclxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2Jyb3dzZXItYXVkaW8vbGliL2F1ZGlvLXRhZy1wbGF5ZXIuanNcbiAqKiBtb2R1bGUgaWQgPSA3M1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLyoqXG4qIEEgcGxheWVyIHVzaW5nIHRoZSBXZWIgQXVkaW8gQVBJXG4qL1xuXG5mdW5jdGlvbiBXZWJBdWRpb1BsYXllciAoQWR1aW9Db250ZXh0KSB7XG4gIHRoaXMuY29udGV4dCA9IG5ldyBBZHVpb0NvbnRleHQoKVxuICB0aGlzLnBlbmRpbmcgPSB7fVxuICB0aGlzLmJ1ZmZlcnMgPSB7fVxuICB0aGlzLnNvdXJjZXMgPSB7fVxuICB0aGlzLnRpbWVycyA9IHt9XG59XG5cbnZhciBwID0gV2ViQXVkaW9QbGF5ZXIucHJvdG90eXBlXG5cbnAubG9hZCA9IGZ1bmN0aW9uICh1cmwsIGNiKSB7XG4gIC8vIGNoZWNrIGlmIHRoZXJlJ3MgYSBwZW5kaW5nIHJlcXVlc3QuXG4gIC8vIGlmIHllcywgbWVyZ2UgdGhlIGNhbGxiYWNrIHdpdGggdGhlIGV4aXN0aW5nIGNhbGxiYWNrXG4gIHZhciByZXF1ZXN0ID0gdGhpcy5wZW5kaW5nW3VybF1cbiAgaWYgKHJlcXVlc3QpIHtcbiAgICBpZiAoY2IpIHtcbiAgICAgIHZhciBvY2IgPSByZXF1ZXN0Lm9ubG9hZFxuICAgICAgcmVxdWVzdC5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIG9jYigpXG4gICAgICAgIGNiKClcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuXG4gIH1cbiAgLy8gY2hlY2sgaWYgdGhlIGJ1ZmZlciBpcyBhbHJlYWR5IGxvYWRlZC5cbiAgdmFyIGJ1ZmZlciA9IHRoaXMuYnVmZmVyc1t1cmxdXG4gIGlmIChidWZmZXIpIHtcbiAgICBpZiAoY2IpIGNiKClcbiAgICByZXR1cm5cbiAgfVxuICByZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KClcbiAgcmVxdWVzdC5vcGVuKCdHRVQnLCB1cmwsIHRydWUpXG4gIHJlcXVlc3QucmVzcG9uc2VUeXBlID0gJ2FycmF5YnVmZmVyJ1xuICAvLyBEZWNvZGUgYXN5bmNocm9ub3VzbHlcbiAgdmFyIHNlbGYgPSB0aGlzXG4gIHJlcXVlc3Qub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgIHNlbGYuY29udGV4dC5kZWNvZGVBdWRpb0RhdGEoXG4gICAgICByZXF1ZXN0LnJlc3BvbnNlLFxuICAgICAgZnVuY3Rpb24gKGJ1ZmZlcikge1xuICAgICAgICBzZWxmLmJ1ZmZlcnNbdXJsXSA9IGJ1ZmZlclxuICAgICAgICBpZiAoY2IpIGNiKClcbiAgICAgIH0sXG4gICAgICBmdW5jdGlvbiAoZSkge1xuICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgJ2F1ZGlvOiBlcnJvciBkZWNvZGluZyByZXNwb25zZSBmb3IgJyArIHVybFxuICAgICAgICApXG4gICAgICB9XG4gICAgKVxuICB9XG4gIHJlcXVlc3Quc2VuZCgpXG59XG5cbnAucGxheSA9IGZ1bmN0aW9uICh1cmwpIHtcbiAgdmFyIGJ1ZmZlciA9IHRoaXMuYnVmZmVyc1t1cmxdXG4gIGlmICghYnVmZmVyKSB7XG4gICAgY29uc29sZS53YXJuKFxuICAgICAgJ2F1ZGlvOiBhdHRlbXB0aW5nIHRvIHBsYXkgZmlsZTogJyArIHVybCArXG4gICAgICAnIHdoaWNoIGlzIG5vdCBsb2FkZWQgeWV0LidcbiAgICApXG4gICAgcmV0dXJuXG4gIH1cbiAgdmFyIHNvdXJjZSA9IHRoaXMuY29udGV4dC5jcmVhdGVCdWZmZXJTb3VyY2UoKVxuICB0aGlzLnNvdXJjZXNbdXJsXSA9IHNvdXJjZVxuICBzb3VyY2UuYnVmZmVyID0gYnVmZmVyXG4gIHNvdXJjZS5jb25uZWN0KHRoaXMuY29udGV4dC5kZXN0aW5hdGlvbilcbiAgaWYgKHR5cGVvZiBzb3VyY2Uubm90ZU9uID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICBzb3VyY2Uubm90ZU9uKDApXG4gIH0gZWxzZSB7XG4gICAgc291cmNlLnN0YXJ0KClcbiAgfVxuICB2YXIgdGltZXJzID0gdGhpcy50aW1lcnNcbiAgdGltZXJzW3VybF0gPSB0aGlzLmNvbnRleHQuY3VycmVudFRpbWVcbiAgc291cmNlLm9uZW5kZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGltZXJzW3VybF0gPSBudWxsXG4gIH1cbn1cblxucC5zdG9wID0gZnVuY3Rpb24gKHVybCkge1xuICBpZiAodGhpcy5zb3VyY2VzW3VybF0pIHtcbiAgICB0aGlzLnNvdXJjZXNbdXJsXS5zdG9wKDApXG4gICAgdGhpcy5zb3VyY2VzW3VybF0gPSBudWxsXG4gICAgdGhpcy50aW1lcnNbdXJsXSA9IG51bGxcbiAgfVxufVxuXG5wLmxvYWRBbGwgPSBmdW5jdGlvbiAoZmlsZXMsIGNiKSB7XG4gIHZhciBsb2FkZWQgPSAwXG4gIHZhciBzZWxmID0gdGhpc1xuICBmaWxlcy5mb3JFYWNoKGZ1bmN0aW9uIChmaWxlKSB7XG4gICAgc2VsZi5sb2FkKGZpbGUsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGxvYWRlZCsrXG4gICAgICBpZiAobG9hZGVkID49IGZpbGVzLmxlbmd0aCkge1xuICAgICAgICBjYigpXG4gICAgICB9XG4gICAgfSlcbiAgfSlcbn1cblxucC5kdXJhdGlvbk9mID0gZnVuY3Rpb24gKHVybCkge1xuICB2YXIgYnVmZmVyID0gdGhpcy5idWZmZXJzW3VybF1cbiAgaWYgKGJ1ZmZlcikgcmV0dXJuIGJ1ZmZlci5kdXJhdGlvblxufVxuXG5wLnRpbWUgPSBmdW5jdGlvbiAodXJsKSB7XG4gIGlmICh0aGlzLnRpbWVyc1t1cmxdICE9IG51bGwpIHtcbiAgICByZXR1cm4gdGhpcy5jb250ZXh0LmN1cnJlbnRUaW1lIC0gdGhpcy50aW1lcnNbdXJsXVxuICB9IGVsc2Uge1xuICAgIHJldHVybiAwXG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBXZWJBdWRpb1BsYXllclxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2Jyb3dzZXItYXVkaW8vbGliL3dlYi1hdWRpby1wbGF5ZXIuanNcbiAqKiBtb2R1bGUgaWQgPSA3NFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcclxuXHR2YXIgbGlzdCA9IFtdO1xyXG5cdGxpc3QudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcclxuXHRcdHZhciByZXN1bHQgPSBbXTtcclxuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdHZhciBpdGVtID0gdGhpc1tpXTtcclxuXHRcdFx0aWYoaXRlbVsyXSkge1xyXG5cdFx0XHRcdHJlc3VsdC5wdXNoKFwiQG1lZGlhIFwiICsgaXRlbVsyXSArIFwie1wiICsgaXRlbVsxXSArIFwifVwiKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRyZXN1bHQucHVzaChpdGVtWzFdKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHJlc3VsdC5qb2luKFwiXCIpO1xyXG5cdH07XHJcblx0cmV0dXJuIGxpc3Q7XHJcbn1cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jc3MtbG9hZGVyL2Nzc1RvU3RyaW5nLmpzXG4gKiogbW9kdWxlIGlkID0gNzVcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIvaG9tZS90cmF2aXMvYnVpbGQvcmlrdWtpc3NhL2RvZ2ZpZ2h0LWRvZGdlcnMvbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvY3NzVG9TdHJpbmcuanNcIikoKTtcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcImh0bWwsYm9keSxjYW52YXN7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTttYXJnaW46MDtvdmVyZmxvdzpoaWRkZW47Zm9udDoxM3B4ICdIZWx2ZXRpY2EgTmV1ZScsSGVsdmV0aWNhLEFyaWFsfWNhbnZhc3tkaXNwbGF5OmJsb2NrfS5tdXRle3Bvc2l0aW9uOmZpeGVkO3JpZ2h0OjFlbTt0b3A6MWVtfSNkZWJ1Z3tib3gtc2l6aW5nOmJvcmRlci1ib3g7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7bGVmdDowO2JhY2tncm91bmQ6cmdiYSgyNTUsMjU1LDI1NSwuNSk7cGFkZGluZzoxZW19I2ZwczpiZWZvcmV7Y29udGVudDonZnBzOiAnfS5mcmFtZXtwb3NpdGlvbjpmaXhlZDtsZWZ0OjA7Ym90dG9tOjA7d2lkdGg6MTAwJX1cIiwgXCJcIl0pO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2Nzcy1sb2FkZXIhLi9zY3JpcHRzL3N0eWxlLmNzc1xuICoqIG1vZHVsZSBpZCA9IDc2XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvKipcbiAqIE1vZHVsZSBkZXBlbmRlbmNpZXMuXG4gKi9cblxudmFyIGFzc2VydCA9IHJlcXVpcmUoJ2Fzc2VydCcpO1xuXG4vKipcbiAqIENvbnZlcnQgZGVncmVlcyB0byByYWRpYW5zLlxuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBkZWdyZWVzXG4gKiBAcmV0dXJuIHtOdW1iZXJ9XG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihkZWdyZWVzKSB7XG4gIGFzc2VydCgnbnVtYmVyJyA9PSB0eXBlb2YgZGVncmVlcywgJ0RlZ3JlZXMgc2hvdWxkIGJlIGEgbnVtYmVyJyk7XG4gIHJldHVybiBkZWdyZWVzICogKE1hdGguUEkgLyAxODApO1xufVxuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vZGVncmVlcy1yYWRpYW5zL2luZGV4LmpzXG4gKiogbW9kdWxlIGlkID0gNzdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjYwOGNlOTkwMjMwZWU1MGI5NjIzOThlZDk0ZGYyNDAyLm1wM1wiXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL2Fzc2V0cy9zb3VuZHMvc2hvdC5tcDNcbiAqKiBtb2R1bGUgaWQgPSA3OFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwidmFyIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50cycpLkV2ZW50RW1pdHRlclxuICAsIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZwc1xuXG4vLyBUcnkgdXNlIHBlcmZvcm1hbmNlLm5vdygpLCBvdGhlcndpc2UgdHJ5XG4vLyArbmV3IERhdGUuXG52YXIgbm93ID0gKFxuICAoZnVuY3Rpb24oKXsgcmV0dXJuIHRoaXMgfSgpKS5wZXJmb3JtYW5jZSAmJlxuICAnZnVuY3Rpb24nID09PSB0eXBlb2YgcGVyZm9ybWFuY2Uubm93XG4pID8gZnVuY3Rpb24oKSB7IHJldHVybiBwZXJmb3JtYW5jZS5ub3coKSB9XG4gIDogRGF0ZS5ub3cgfHwgZnVuY3Rpb24oKSB7IHJldHVybiArbmV3IERhdGUgfVxuXG5mdW5jdGlvbiBmcHMob3B0cykge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgZnBzKSkgcmV0dXJuIG5ldyBmcHMob3B0cylcbiAgRXZlbnRFbWl0dGVyLmNhbGwodGhpcylcblxuICBvcHRzID0gb3B0cyB8fCB7fVxuICB0aGlzLmxhc3QgPSBub3coKVxuICB0aGlzLnJhdGUgPSAwXG4gIHRoaXMudGltZSA9IDBcbiAgdGhpcy5kZWNheSA9IG9wdHMuZGVjYXkgfHwgMVxuICB0aGlzLmV2ZXJ5ID0gb3B0cy5ldmVyeSB8fCAxXG4gIHRoaXMudGlja3MgPSAwXG59XG5pbmhlcml0cyhmcHMsIEV2ZW50RW1pdHRlcilcblxuZnBzLnByb3RvdHlwZS50aWNrID0gZnVuY3Rpb24oKSB7XG4gIHZhciB0aW1lID0gbm93KClcbiAgICAsIGRpZmYgPSB0aW1lIC0gdGhpcy5sYXN0XG4gICAgLCBmcHMgPSBkaWZmXG5cbiAgdGhpcy50aWNrcyArPSAxXG4gIHRoaXMubGFzdCA9IHRpbWVcbiAgdGhpcy50aW1lICs9IChmcHMgLSB0aGlzLnRpbWUpICogdGhpcy5kZWNheVxuICB0aGlzLnJhdGUgPSAxMDAwIC8gdGhpcy50aW1lXG4gIGlmICghKHRoaXMudGlja3MgJSB0aGlzLmV2ZXJ5KSkgdGhpcy5lbWl0KCdkYXRhJywgdGhpcy5yYXRlKVxufVxuXG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9mcHMvaW5kZXguanNcbiAqKiBtb2R1bGUgaWQgPSA3OVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwibW9kdWxlLmV4cG9ydHMgPSBpbmhlcml0c1xuXG5mdW5jdGlvbiBpbmhlcml0cyAoYywgcCwgcHJvdG8pIHtcbiAgcHJvdG8gPSBwcm90byB8fCB7fVxuICB2YXIgZSA9IHt9XG4gIDtbYy5wcm90b3R5cGUsIHByb3RvXS5mb3JFYWNoKGZ1bmN0aW9uIChzKSB7XG4gICAgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMocykuZm9yRWFjaChmdW5jdGlvbiAoaykge1xuICAgICAgZVtrXSA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IocywgaylcbiAgICB9KVxuICB9KVxuICBjLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUocC5wcm90b3R5cGUsIGUpXG4gIGMuc3VwZXIgPSBwXG59XG5cbi8vZnVuY3Rpb24gQ2hpbGQgKCkge1xuLy8gIENoaWxkLnN1cGVyLmNhbGwodGhpcylcbi8vICBjb25zb2xlLmVycm9yKFt0aGlzXG4vLyAgICAgICAgICAgICAgICAsdGhpcy5jb25zdHJ1Y3RvclxuLy8gICAgICAgICAgICAgICAgLHRoaXMuY29uc3RydWN0b3IgPT09IENoaWxkXG4vLyAgICAgICAgICAgICAgICAsdGhpcy5jb25zdHJ1Y3Rvci5zdXBlciA9PT0gUGFyZW50XG4vLyAgICAgICAgICAgICAgICAsT2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpID09PSBDaGlsZC5wcm90b3R5cGVcbi8vICAgICAgICAgICAgICAgICxPYmplY3QuZ2V0UHJvdG90eXBlT2YoT2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpKVxuLy8gICAgICAgICAgICAgICAgID09PSBQYXJlbnQucHJvdG90eXBlXG4vLyAgICAgICAgICAgICAgICAsdGhpcyBpbnN0YW5jZW9mIENoaWxkXG4vLyAgICAgICAgICAgICAgICAsdGhpcyBpbnN0YW5jZW9mIFBhcmVudF0pXG4vL31cbi8vZnVuY3Rpb24gUGFyZW50ICgpIHt9XG4vL2luaGVyaXRzKENoaWxkLCBQYXJlbnQpXG4vL25ldyBDaGlsZFxuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vZnBzL34vaW5oZXJpdHMvaW5oZXJpdHMuanNcbiAqKiBtb2R1bGUgaWQgPSA4MFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLyoqXG4gKiBsb2Rhc2ggMy4xLjEgKEN1c3RvbSBCdWlsZCkgPGh0dHBzOi8vbG9kYXNoLmNvbS8+XG4gKiBCdWlsZDogYGxvZGFzaCBtb2Rlcm4gbW9kdWxhcml6ZSBleHBvcnRzPVwibnBtXCIgLW8gLi9gXG4gKiBDb3B5cmlnaHQgMjAxMi0yMDE1IFRoZSBEb2pvIEZvdW5kYXRpb24gPGh0dHA6Ly9kb2pvZm91bmRhdGlvbi5vcmcvPlxuICogQmFzZWQgb24gVW5kZXJzY29yZS5qcyAxLjguMyA8aHR0cDovL3VuZGVyc2NvcmVqcy5vcmcvTElDRU5TRT5cbiAqIENvcHlyaWdodCAyMDA5LTIwMTUgSmVyZW15IEFzaGtlbmFzLCBEb2N1bWVudENsb3VkIGFuZCBJbnZlc3RpZ2F0aXZlIFJlcG9ydGVycyAmIEVkaXRvcnNcbiAqIEF2YWlsYWJsZSB1bmRlciBNSVQgbGljZW5zZSA8aHR0cHM6Ly9sb2Rhc2guY29tL2xpY2Vuc2U+XG4gKi9cbnZhciBjcmVhdGVXcmFwcGVyID0gcmVxdWlyZSgnbG9kYXNoLl9jcmVhdGV3cmFwcGVyJyksXG4gICAgcmVwbGFjZUhvbGRlcnMgPSByZXF1aXJlKCdsb2Rhc2guX3JlcGxhY2Vob2xkZXJzJyksXG4gICAgcmVzdFBhcmFtID0gcmVxdWlyZSgnbG9kYXNoLnJlc3RwYXJhbScpO1xuXG4vKiogVXNlZCB0byBjb21wb3NlIGJpdG1hc2tzIGZvciB3cmFwcGVyIG1ldGFkYXRhLiAqL1xudmFyIFBBUlRJQUxfUklHSFRfRkxBRyA9IDY0O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBgXy5wYXJ0aWFsYCBvciBgXy5wYXJ0aWFsUmlnaHRgIGZ1bmN0aW9uLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGZsYWcgVGhlIHBhcnRpYWwgYml0IGZsYWcuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBwYXJ0aWFsIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBjcmVhdGVQYXJ0aWFsKGZsYWcpIHtcbiAgdmFyIHBhcnRpYWxGdW5jID0gcmVzdFBhcmFtKGZ1bmN0aW9uKGZ1bmMsIHBhcnRpYWxzKSB7XG4gICAgdmFyIGhvbGRlcnMgPSByZXBsYWNlSG9sZGVycyhwYXJ0aWFscywgcGFydGlhbEZ1bmMucGxhY2Vob2xkZXIpO1xuICAgIHJldHVybiBjcmVhdGVXcmFwcGVyKGZ1bmMsIGZsYWcsIHVuZGVmaW5lZCwgcGFydGlhbHMsIGhvbGRlcnMpO1xuICB9KTtcbiAgcmV0dXJuIHBhcnRpYWxGdW5jO1xufVxuXG4vKipcbiAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ucGFydGlhbGAgZXhjZXB0IHRoYXQgcGFydGlhbGx5IGFwcGxpZWQgYXJndW1lbnRzXG4gKiBhcmUgYXBwZW5kZWQgdG8gdGhvc2UgcHJvdmlkZWQgdG8gdGhlIG5ldyBmdW5jdGlvbi5cbiAqXG4gKiBUaGUgYF8ucGFydGlhbFJpZ2h0LnBsYWNlaG9sZGVyYCB2YWx1ZSwgd2hpY2ggZGVmYXVsdHMgdG8gYF9gIGluIG1vbm9saXRoaWNcbiAqIGJ1aWxkcywgbWF5IGJlIHVzZWQgYXMgYSBwbGFjZWhvbGRlciBmb3IgcGFydGlhbGx5IGFwcGxpZWQgYXJndW1lbnRzLlxuICpcbiAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBkb2VzIG5vdCBzZXQgdGhlIFwibGVuZ3RoXCIgcHJvcGVydHkgb2YgcGFydGlhbGx5XG4gKiBhcHBsaWVkIGZ1bmN0aW9ucy5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBwYXJ0aWFsbHkgYXBwbHkgYXJndW1lbnRzIHRvLlxuICogQHBhcmFtIHsuLi4qfSBbcGFydGlhbHNdIFRoZSBhcmd1bWVudHMgdG8gYmUgcGFydGlhbGx5IGFwcGxpZWQuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBwYXJ0aWFsbHkgYXBwbGllZCBmdW5jdGlvbi5cbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIGdyZWV0ID0gZnVuY3Rpb24oZ3JlZXRpbmcsIG5hbWUpIHtcbiAqICAgcmV0dXJuIGdyZWV0aW5nICsgJyAnICsgbmFtZTtcbiAqIH07XG4gKlxuICogdmFyIGdyZWV0RnJlZCA9IF8ucGFydGlhbFJpZ2h0KGdyZWV0LCAnZnJlZCcpO1xuICogZ3JlZXRGcmVkKCdoaScpO1xuICogLy8gPT4gJ2hpIGZyZWQnXG4gKlxuICogLy8gdXNpbmcgcGxhY2Vob2xkZXJzXG4gKiB2YXIgc2F5SGVsbG9UbyA9IF8ucGFydGlhbFJpZ2h0KGdyZWV0LCAnaGVsbG8nLCBfKTtcbiAqIHNheUhlbGxvVG8oJ2ZyZWQnKTtcbiAqIC8vID0+ICdoZWxsbyBmcmVkJ1xuICovXG52YXIgcGFydGlhbFJpZ2h0ID0gY3JlYXRlUGFydGlhbChQQVJUSUFMX1JJR0hUX0ZMQUcpO1xuXG4vLyBBc3NpZ24gZGVmYXVsdCBwbGFjZWhvbGRlcnMuXG5wYXJ0aWFsUmlnaHQucGxhY2Vob2xkZXIgPSB7fTtcblxubW9kdWxlLmV4cG9ydHMgPSBwYXJ0aWFsUmlnaHQ7XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9sb2Rhc2gucGFydGlhbHJpZ2h0L2luZGV4LmpzXG4gKiogbW9kdWxlIGlkID0gODFcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8qKlxuICogbG9kYXNoIDMuMC43IChDdXN0b20gQnVpbGQpIDxodHRwczovL2xvZGFzaC5jb20vPlxuICogQnVpbGQ6IGBsb2Rhc2ggbW9kZXJuIG1vZHVsYXJpemUgZXhwb3J0cz1cIm5wbVwiIC1vIC4vYFxuICogQ29weXJpZ2h0IDIwMTItMjAxNSBUaGUgRG9qbyBGb3VuZGF0aW9uIDxodHRwOi8vZG9qb2ZvdW5kYXRpb24ub3JnLz5cbiAqIEJhc2VkIG9uIFVuZGVyc2NvcmUuanMgMS44LjMgPGh0dHA6Ly91bmRlcnNjb3JlanMub3JnL0xJQ0VOU0U+XG4gKiBDb3B5cmlnaHQgMjAwOS0yMDE1IEplcmVteSBBc2hrZW5hcywgRG9jdW1lbnRDbG91ZCBhbmQgSW52ZXN0aWdhdGl2ZSBSZXBvcnRlcnMgJiBFZGl0b3JzXG4gKiBBdmFpbGFibGUgdW5kZXIgTUlUIGxpY2Vuc2UgPGh0dHBzOi8vbG9kYXNoLmNvbS9saWNlbnNlPlxuICovXG52YXIgYXJyYXlDb3B5ID0gcmVxdWlyZSgnbG9kYXNoLl9hcnJheWNvcHknKSxcbiAgICBiYXNlQ3JlYXRlID0gcmVxdWlyZSgnbG9kYXNoLl9iYXNlY3JlYXRlJyksXG4gICAgcmVwbGFjZUhvbGRlcnMgPSByZXF1aXJlKCdsb2Rhc2guX3JlcGxhY2Vob2xkZXJzJyk7XG5cbi8qKiBVc2VkIHRvIGNvbXBvc2UgYml0bWFza3MgZm9yIHdyYXBwZXIgbWV0YWRhdGEuICovXG52YXIgQklORF9GTEFHID0gMSxcbiAgICBCSU5EX0tFWV9GTEFHID0gMixcbiAgICBDVVJSWV9CT1VORF9GTEFHID0gNCxcbiAgICBDVVJSWV9GTEFHID0gOCxcbiAgICBDVVJSWV9SSUdIVF9GTEFHID0gMTYsXG4gICAgUEFSVElBTF9GTEFHID0gMzIsXG4gICAgUEFSVElBTF9SSUdIVF9GTEFHID0gNjQsXG4gICAgQVJZX0ZMQUcgPSAxMjg7XG5cbi8qKiBVc2VkIGFzIHRoZSBgVHlwZUVycm9yYCBtZXNzYWdlIGZvciBcIkZ1bmN0aW9uc1wiIG1ldGhvZHMuICovXG52YXIgRlVOQ19FUlJPUl9URVhUID0gJ0V4cGVjdGVkIGEgZnVuY3Rpb24nO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgdW5zaWduZWQgaW50ZWdlciB2YWx1ZXMuICovXG52YXIgcmVJc1VpbnQgPSAvXlxcZCskLztcblxuLyogTmF0aXZlIG1ldGhvZCByZWZlcmVuY2VzIGZvciB0aG9zZSB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgb3RoZXIgYGxvZGFzaGAgbWV0aG9kcy4gKi9cbnZhciBuYXRpdmVNYXggPSBNYXRoLm1heCxcbiAgICBuYXRpdmVNaW4gPSBNYXRoLm1pbjtcblxuLyoqXG4gKiBVc2VkIGFzIHRoZSBbbWF4aW11bSBsZW5ndGhdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzYuMC8jc2VjLW51bWJlci5tYXhfc2FmZV9pbnRlZ2VyKVxuICogb2YgYW4gYXJyYXktbGlrZSB2YWx1ZS5cbiAqL1xudmFyIE1BWF9TQUZFX0lOVEVHRVIgPSA5MDA3MTk5MjU0NzQwOTkxO1xuXG4vKipcbiAqIENyZWF0ZXMgYW4gYXJyYXkgdGhhdCBpcyB0aGUgY29tcG9zaXRpb24gb2YgcGFydGlhbGx5IGFwcGxpZWQgYXJndW1lbnRzLFxuICogcGxhY2Vob2xkZXJzLCBhbmQgcHJvdmlkZWQgYXJndW1lbnRzIGludG8gYSBzaW5nbGUgYXJyYXkgb2YgYXJndW1lbnRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gYXJncyBUaGUgcHJvdmlkZWQgYXJndW1lbnRzLlxuICogQHBhcmFtIHtBcnJheX0gcGFydGlhbHMgVGhlIGFyZ3VtZW50cyB0byBwcmVwZW5kIHRvIHRob3NlIHByb3ZpZGVkLlxuICogQHBhcmFtIHtBcnJheX0gaG9sZGVycyBUaGUgYHBhcnRpYWxzYCBwbGFjZWhvbGRlciBpbmRleGVzLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgY29tcG9zZWQgYXJndW1lbnRzLlxuICovXG5mdW5jdGlvbiBjb21wb3NlQXJncyhhcmdzLCBwYXJ0aWFscywgaG9sZGVycykge1xuICB2YXIgaG9sZGVyc0xlbmd0aCA9IGhvbGRlcnMubGVuZ3RoLFxuICAgICAgYXJnc0luZGV4ID0gLTEsXG4gICAgICBhcmdzTGVuZ3RoID0gbmF0aXZlTWF4KGFyZ3MubGVuZ3RoIC0gaG9sZGVyc0xlbmd0aCwgMCksXG4gICAgICBsZWZ0SW5kZXggPSAtMSxcbiAgICAgIGxlZnRMZW5ndGggPSBwYXJ0aWFscy5sZW5ndGgsXG4gICAgICByZXN1bHQgPSBBcnJheShsZWZ0TGVuZ3RoICsgYXJnc0xlbmd0aCk7XG5cbiAgd2hpbGUgKCsrbGVmdEluZGV4IDwgbGVmdExlbmd0aCkge1xuICAgIHJlc3VsdFtsZWZ0SW5kZXhdID0gcGFydGlhbHNbbGVmdEluZGV4XTtcbiAgfVxuICB3aGlsZSAoKythcmdzSW5kZXggPCBob2xkZXJzTGVuZ3RoKSB7XG4gICAgcmVzdWx0W2hvbGRlcnNbYXJnc0luZGV4XV0gPSBhcmdzW2FyZ3NJbmRleF07XG4gIH1cbiAgd2hpbGUgKGFyZ3NMZW5ndGgtLSkge1xuICAgIHJlc3VsdFtsZWZ0SW5kZXgrK10gPSBhcmdzW2FyZ3NJbmRleCsrXTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gaXMgbGlrZSBgY29tcG9zZUFyZ3NgIGV4Y2VwdCB0aGF0IHRoZSBhcmd1bWVudHMgY29tcG9zaXRpb25cbiAqIGlzIHRhaWxvcmVkIGZvciBgXy5wYXJ0aWFsUmlnaHRgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gYXJncyBUaGUgcHJvdmlkZWQgYXJndW1lbnRzLlxuICogQHBhcmFtIHtBcnJheX0gcGFydGlhbHMgVGhlIGFyZ3VtZW50cyB0byBhcHBlbmQgdG8gdGhvc2UgcHJvdmlkZWQuXG4gKiBAcGFyYW0ge0FycmF5fSBob2xkZXJzIFRoZSBgcGFydGlhbHNgIHBsYWNlaG9sZGVyIGluZGV4ZXMuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBjb21wb3NlZCBhcmd1bWVudHMuXG4gKi9cbmZ1bmN0aW9uIGNvbXBvc2VBcmdzUmlnaHQoYXJncywgcGFydGlhbHMsIGhvbGRlcnMpIHtcbiAgdmFyIGhvbGRlcnNJbmRleCA9IC0xLFxuICAgICAgaG9sZGVyc0xlbmd0aCA9IGhvbGRlcnMubGVuZ3RoLFxuICAgICAgYXJnc0luZGV4ID0gLTEsXG4gICAgICBhcmdzTGVuZ3RoID0gbmF0aXZlTWF4KGFyZ3MubGVuZ3RoIC0gaG9sZGVyc0xlbmd0aCwgMCksXG4gICAgICByaWdodEluZGV4ID0gLTEsXG4gICAgICByaWdodExlbmd0aCA9IHBhcnRpYWxzLmxlbmd0aCxcbiAgICAgIHJlc3VsdCA9IEFycmF5KGFyZ3NMZW5ndGggKyByaWdodExlbmd0aCk7XG5cbiAgd2hpbGUgKCsrYXJnc0luZGV4IDwgYXJnc0xlbmd0aCkge1xuICAgIHJlc3VsdFthcmdzSW5kZXhdID0gYXJnc1thcmdzSW5kZXhdO1xuICB9XG4gIHZhciBvZmZzZXQgPSBhcmdzSW5kZXg7XG4gIHdoaWxlICgrK3JpZ2h0SW5kZXggPCByaWdodExlbmd0aCkge1xuICAgIHJlc3VsdFtvZmZzZXQgKyByaWdodEluZGV4XSA9IHBhcnRpYWxzW3JpZ2h0SW5kZXhdO1xuICB9XG4gIHdoaWxlICgrK2hvbGRlcnNJbmRleCA8IGhvbGRlcnNMZW5ndGgpIHtcbiAgICByZXN1bHRbb2Zmc2V0ICsgaG9sZGVyc1tob2xkZXJzSW5kZXhdXSA9IGFyZ3NbYXJnc0luZGV4KytdO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgd3JhcHMgYGZ1bmNgIGFuZCBpbnZva2VzIGl0IHdpdGggdGhlIGB0aGlzYFxuICogYmluZGluZyBvZiBgdGhpc0FyZ2AuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGJpbmQuXG4gKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGZ1bmNgLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYm91bmQgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUJpbmRXcmFwcGVyKGZ1bmMsIHRoaXNBcmcpIHtcbiAgdmFyIEN0b3IgPSBjcmVhdGVDdG9yV3JhcHBlcihmdW5jKTtcblxuICBmdW5jdGlvbiB3cmFwcGVyKCkge1xuICAgIHZhciBmbiA9ICh0aGlzICYmIHRoaXMgIT09IGdsb2JhbCAmJiB0aGlzIGluc3RhbmNlb2Ygd3JhcHBlcikgPyBDdG9yIDogZnVuYztcbiAgICByZXR1cm4gZm4uYXBwbHkodGhpc0FyZywgYXJndW1lbnRzKTtcbiAgfVxuICByZXR1cm4gd3JhcHBlcjtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBwcm9kdWNlcyBhbiBpbnN0YW5jZSBvZiBgQ3RvcmAgcmVnYXJkbGVzcyBvZlxuICogd2hldGhlciBpdCB3YXMgaW52b2tlZCBhcyBwYXJ0IG9mIGEgYG5ld2AgZXhwcmVzc2lvbiBvciBieSBgY2FsbGAgb3IgYGFwcGx5YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gQ3RvciBUaGUgY29uc3RydWN0b3IgdG8gd3JhcC5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHdyYXBwZWQgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUN0b3JXcmFwcGVyKEN0b3IpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIC8vIFVzZSBhIGBzd2l0Y2hgIHN0YXRlbWVudCB0byB3b3JrIHdpdGggY2xhc3MgY29uc3RydWN0b3JzLlxuICAgIC8vIFNlZSBodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi82LjAvI3NlYy1lY21hc2NyaXB0LWZ1bmN0aW9uLW9iamVjdHMtY2FsbC10aGlzYXJndW1lbnQtYXJndW1lbnRzbGlzdFxuICAgIC8vIGZvciBtb3JlIGRldGFpbHMuXG4gICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgc3dpdGNoIChhcmdzLmxlbmd0aCkge1xuICAgICAgY2FzZSAwOiByZXR1cm4gbmV3IEN0b3I7XG4gICAgICBjYXNlIDE6IHJldHVybiBuZXcgQ3RvcihhcmdzWzBdKTtcbiAgICAgIGNhc2UgMjogcmV0dXJuIG5ldyBDdG9yKGFyZ3NbMF0sIGFyZ3NbMV0pO1xuICAgICAgY2FzZSAzOiByZXR1cm4gbmV3IEN0b3IoYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSk7XG4gICAgICBjYXNlIDQ6IHJldHVybiBuZXcgQ3RvcihhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdLCBhcmdzWzNdKTtcbiAgICAgIGNhc2UgNTogcmV0dXJuIG5ldyBDdG9yKGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0sIGFyZ3NbM10sIGFyZ3NbNF0pO1xuICAgICAgY2FzZSA2OiByZXR1cm4gbmV3IEN0b3IoYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSwgYXJnc1szXSwgYXJnc1s0XSwgYXJnc1s1XSk7XG4gICAgICBjYXNlIDc6IHJldHVybiBuZXcgQ3RvcihhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdLCBhcmdzWzNdLCBhcmdzWzRdLCBhcmdzWzVdLCBhcmdzWzZdKTtcbiAgICB9XG4gICAgdmFyIHRoaXNCaW5kaW5nID0gYmFzZUNyZWF0ZShDdG9yLnByb3RvdHlwZSksXG4gICAgICAgIHJlc3VsdCA9IEN0b3IuYXBwbHkodGhpc0JpbmRpbmcsIGFyZ3MpO1xuXG4gICAgLy8gTWltaWMgdGhlIGNvbnN0cnVjdG9yJ3MgYHJldHVybmAgYmVoYXZpb3IuXG4gICAgLy8gU2VlIGh0dHBzOi8vZXM1LmdpdGh1Yi5pby8jeDEzLjIuMiBmb3IgbW9yZSBkZXRhaWxzLlxuICAgIHJldHVybiBpc09iamVjdChyZXN1bHQpID8gcmVzdWx0IDogdGhpc0JpbmRpbmc7XG4gIH07XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgd3JhcHMgYGZ1bmNgIGFuZCBpbnZva2VzIGl0IHdpdGggb3B0aW9uYWwgYHRoaXNgXG4gKiBiaW5kaW5nIG9mLCBwYXJ0aWFsIGFwcGxpY2F0aW9uLCBhbmQgY3VycnlpbmcuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb258c3RyaW5nfSBmdW5jIFRoZSBmdW5jdGlvbiBvciBtZXRob2QgbmFtZSB0byByZWZlcmVuY2UuXG4gKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBvZiBmbGFncy4gU2VlIGBjcmVhdGVXcmFwcGVyYCBmb3IgbW9yZSBkZXRhaWxzLlxuICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBmdW5jYC5cbiAqIEBwYXJhbSB7QXJyYXl9IFtwYXJ0aWFsc10gVGhlIGFyZ3VtZW50cyB0byBwcmVwZW5kIHRvIHRob3NlIHByb3ZpZGVkIHRvIHRoZSBuZXcgZnVuY3Rpb24uXG4gKiBAcGFyYW0ge0FycmF5fSBbaG9sZGVyc10gVGhlIGBwYXJ0aWFsc2AgcGxhY2Vob2xkZXIgaW5kZXhlcy5cbiAqIEBwYXJhbSB7QXJyYXl9IFtwYXJ0aWFsc1JpZ2h0XSBUaGUgYXJndW1lbnRzIHRvIGFwcGVuZCB0byB0aG9zZSBwcm92aWRlZCB0byB0aGUgbmV3IGZ1bmN0aW9uLlxuICogQHBhcmFtIHtBcnJheX0gW2hvbGRlcnNSaWdodF0gVGhlIGBwYXJ0aWFsc1JpZ2h0YCBwbGFjZWhvbGRlciBpbmRleGVzLlxuICogQHBhcmFtIHtBcnJheX0gW2FyZ1Bvc10gVGhlIGFyZ3VtZW50IHBvc2l0aW9ucyBvZiB0aGUgbmV3IGZ1bmN0aW9uLlxuICogQHBhcmFtIHtudW1iZXJ9IFthcnldIFRoZSBhcml0eSBjYXAgb2YgYGZ1bmNgLlxuICogQHBhcmFtIHtudW1iZXJ9IFthcml0eV0gVGhlIGFyaXR5IG9mIGBmdW5jYC5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHdyYXBwZWQgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUh5YnJpZFdyYXBwZXIoZnVuYywgYml0bWFzaywgdGhpc0FyZywgcGFydGlhbHMsIGhvbGRlcnMsIHBhcnRpYWxzUmlnaHQsIGhvbGRlcnNSaWdodCwgYXJnUG9zLCBhcnksIGFyaXR5KSB7XG4gIHZhciBpc0FyeSA9IGJpdG1hc2sgJiBBUllfRkxBRyxcbiAgICAgIGlzQmluZCA9IGJpdG1hc2sgJiBCSU5EX0ZMQUcsXG4gICAgICBpc0JpbmRLZXkgPSBiaXRtYXNrICYgQklORF9LRVlfRkxBRyxcbiAgICAgIGlzQ3VycnkgPSBiaXRtYXNrICYgQ1VSUllfRkxBRyxcbiAgICAgIGlzQ3VycnlCb3VuZCA9IGJpdG1hc2sgJiBDVVJSWV9CT1VORF9GTEFHLFxuICAgICAgaXNDdXJyeVJpZ2h0ID0gYml0bWFzayAmIENVUlJZX1JJR0hUX0ZMQUcsXG4gICAgICBDdG9yID0gaXNCaW5kS2V5ID8gdW5kZWZpbmVkIDogY3JlYXRlQ3RvcldyYXBwZXIoZnVuYyk7XG5cbiAgZnVuY3Rpb24gd3JhcHBlcigpIHtcbiAgICAvLyBBdm9pZCBgYXJndW1lbnRzYCBvYmplY3QgdXNlIGRpc3F1YWxpZnlpbmcgb3B0aW1pemF0aW9ucyBieVxuICAgIC8vIGNvbnZlcnRpbmcgaXQgdG8gYW4gYXJyYXkgYmVmb3JlIHByb3ZpZGluZyBpdCB0byBvdGhlciBmdW5jdGlvbnMuXG4gICAgdmFyIGxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGgsXG4gICAgICAgIGluZGV4ID0gbGVuZ3RoLFxuICAgICAgICBhcmdzID0gQXJyYXkobGVuZ3RoKTtcblxuICAgIHdoaWxlIChpbmRleC0tKSB7XG4gICAgICBhcmdzW2luZGV4XSA9IGFyZ3VtZW50c1tpbmRleF07XG4gICAgfVxuICAgIGlmIChwYXJ0aWFscykge1xuICAgICAgYXJncyA9IGNvbXBvc2VBcmdzKGFyZ3MsIHBhcnRpYWxzLCBob2xkZXJzKTtcbiAgICB9XG4gICAgaWYgKHBhcnRpYWxzUmlnaHQpIHtcbiAgICAgIGFyZ3MgPSBjb21wb3NlQXJnc1JpZ2h0KGFyZ3MsIHBhcnRpYWxzUmlnaHQsIGhvbGRlcnNSaWdodCk7XG4gICAgfVxuICAgIGlmIChpc0N1cnJ5IHx8IGlzQ3VycnlSaWdodCkge1xuICAgICAgdmFyIHBsYWNlaG9sZGVyID0gd3JhcHBlci5wbGFjZWhvbGRlcixcbiAgICAgICAgICBhcmdzSG9sZGVycyA9IHJlcGxhY2VIb2xkZXJzKGFyZ3MsIHBsYWNlaG9sZGVyKTtcblxuICAgICAgbGVuZ3RoIC09IGFyZ3NIb2xkZXJzLmxlbmd0aDtcbiAgICAgIGlmIChsZW5ndGggPCBhcml0eSkge1xuICAgICAgICB2YXIgbmV3QXJnUG9zID0gYXJnUG9zID8gYXJyYXlDb3B5KGFyZ1BvcykgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBuZXdBcml0eSA9IG5hdGl2ZU1heChhcml0eSAtIGxlbmd0aCwgMCksXG4gICAgICAgICAgICBuZXdzSG9sZGVycyA9IGlzQ3VycnkgPyBhcmdzSG9sZGVycyA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIG5ld0hvbGRlcnNSaWdodCA9IGlzQ3VycnkgPyB1bmRlZmluZWQgOiBhcmdzSG9sZGVycyxcbiAgICAgICAgICAgIG5ld1BhcnRpYWxzID0gaXNDdXJyeSA/IGFyZ3MgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBuZXdQYXJ0aWFsc1JpZ2h0ID0gaXNDdXJyeSA/IHVuZGVmaW5lZCA6IGFyZ3M7XG5cbiAgICAgICAgYml0bWFzayB8PSAoaXNDdXJyeSA/IFBBUlRJQUxfRkxBRyA6IFBBUlRJQUxfUklHSFRfRkxBRyk7XG4gICAgICAgIGJpdG1hc2sgJj0gfihpc0N1cnJ5ID8gUEFSVElBTF9SSUdIVF9GTEFHIDogUEFSVElBTF9GTEFHKTtcblxuICAgICAgICBpZiAoIWlzQ3VycnlCb3VuZCkge1xuICAgICAgICAgIGJpdG1hc2sgJj0gfihCSU5EX0ZMQUcgfCBCSU5EX0tFWV9GTEFHKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVzdWx0ID0gY3JlYXRlSHlicmlkV3JhcHBlcihmdW5jLCBiaXRtYXNrLCB0aGlzQXJnLCBuZXdQYXJ0aWFscywgbmV3c0hvbGRlcnMsIG5ld1BhcnRpYWxzUmlnaHQsIG5ld0hvbGRlcnNSaWdodCwgbmV3QXJnUG9zLCBhcnksIG5ld0FyaXR5KTtcblxuICAgICAgICByZXN1bHQucGxhY2Vob2xkZXIgPSBwbGFjZWhvbGRlcjtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIHRoaXNCaW5kaW5nID0gaXNCaW5kID8gdGhpc0FyZyA6IHRoaXMsXG4gICAgICAgIGZuID0gaXNCaW5kS2V5ID8gdGhpc0JpbmRpbmdbZnVuY10gOiBmdW5jO1xuXG4gICAgaWYgKGFyZ1Bvcykge1xuICAgICAgYXJncyA9IHJlb3JkZXIoYXJncywgYXJnUG9zKTtcbiAgICB9XG4gICAgaWYgKGlzQXJ5ICYmIGFyeSA8IGFyZ3MubGVuZ3RoKSB7XG4gICAgICBhcmdzLmxlbmd0aCA9IGFyeTtcbiAgICB9XG4gICAgaWYgKHRoaXMgJiYgdGhpcyAhPT0gZ2xvYmFsICYmIHRoaXMgaW5zdGFuY2VvZiB3cmFwcGVyKSB7XG4gICAgICBmbiA9IEN0b3IgfHwgY3JlYXRlQ3RvcldyYXBwZXIoZnVuYyk7XG4gICAgfVxuICAgIHJldHVybiBmbi5hcHBseSh0aGlzQmluZGluZywgYXJncyk7XG4gIH1cbiAgcmV0dXJuIHdyYXBwZXI7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgd3JhcHMgYGZ1bmNgIGFuZCBpbnZva2VzIGl0IHdpdGggdGhlIG9wdGlvbmFsIGB0aGlzYFxuICogYmluZGluZyBvZiBgdGhpc0FyZ2AgYW5kIHRoZSBgcGFydGlhbHNgIHByZXBlbmRlZCB0byB0aG9zZSBwcm92aWRlZCB0b1xuICogdGhlIHdyYXBwZXIuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHBhcnRpYWxseSBhcHBseSBhcmd1bWVudHMgdG8uXG4gKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBvZiBmbGFncy4gU2VlIGBjcmVhdGVXcmFwcGVyYCBmb3IgbW9yZSBkZXRhaWxzLlxuICogQHBhcmFtIHsqfSB0aGlzQXJnIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgZnVuY2AuXG4gKiBAcGFyYW0ge0FycmF5fSBwYXJ0aWFscyBUaGUgYXJndW1lbnRzIHRvIHByZXBlbmQgdG8gdGhvc2UgcHJvdmlkZWQgdG8gdGhlIG5ldyBmdW5jdGlvbi5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGJvdW5kIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBjcmVhdGVQYXJ0aWFsV3JhcHBlcihmdW5jLCBiaXRtYXNrLCB0aGlzQXJnLCBwYXJ0aWFscykge1xuICB2YXIgaXNCaW5kID0gYml0bWFzayAmIEJJTkRfRkxBRyxcbiAgICAgIEN0b3IgPSBjcmVhdGVDdG9yV3JhcHBlcihmdW5jKTtcblxuICBmdW5jdGlvbiB3cmFwcGVyKCkge1xuICAgIC8vIEF2b2lkIGBhcmd1bWVudHNgIG9iamVjdCB1c2UgZGlzcXVhbGlmeWluZyBvcHRpbWl6YXRpb25zIGJ5XG4gICAgLy8gY29udmVydGluZyBpdCB0byBhbiBhcnJheSBiZWZvcmUgcHJvdmlkaW5nIGl0IGBmdW5jYC5cbiAgICB2YXIgYXJnc0luZGV4ID0gLTEsXG4gICAgICAgIGFyZ3NMZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoLFxuICAgICAgICBsZWZ0SW5kZXggPSAtMSxcbiAgICAgICAgbGVmdExlbmd0aCA9IHBhcnRpYWxzLmxlbmd0aCxcbiAgICAgICAgYXJncyA9IEFycmF5KGxlZnRMZW5ndGggKyBhcmdzTGVuZ3RoKTtcblxuICAgIHdoaWxlICgrK2xlZnRJbmRleCA8IGxlZnRMZW5ndGgpIHtcbiAgICAgIGFyZ3NbbGVmdEluZGV4XSA9IHBhcnRpYWxzW2xlZnRJbmRleF07XG4gICAgfVxuICAgIHdoaWxlIChhcmdzTGVuZ3RoLS0pIHtcbiAgICAgIGFyZ3NbbGVmdEluZGV4KytdID0gYXJndW1lbnRzWysrYXJnc0luZGV4XTtcbiAgICB9XG4gICAgdmFyIGZuID0gKHRoaXMgJiYgdGhpcyAhPT0gZ2xvYmFsICYmIHRoaXMgaW5zdGFuY2VvZiB3cmFwcGVyKSA/IEN0b3IgOiBmdW5jO1xuICAgIHJldHVybiBmbi5hcHBseShpc0JpbmQgPyB0aGlzQXJnIDogdGhpcywgYXJncyk7XG4gIH1cbiAgcmV0dXJuIHdyYXBwZXI7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgZWl0aGVyIGN1cnJpZXMgb3IgaW52b2tlcyBgZnVuY2Agd2l0aCBvcHRpb25hbFxuICogYHRoaXNgIGJpbmRpbmcgYW5kIHBhcnRpYWxseSBhcHBsaWVkIGFyZ3VtZW50cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbnxzdHJpbmd9IGZ1bmMgVGhlIGZ1bmN0aW9uIG9yIG1ldGhvZCBuYW1lIHRvIHJlZmVyZW5jZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIG9mIGZsYWdzLlxuICogIFRoZSBiaXRtYXNrIG1heSBiZSBjb21wb3NlZCBvZiB0aGUgZm9sbG93aW5nIGZsYWdzOlxuICogICAgIDEgLSBgXy5iaW5kYFxuICogICAgIDIgLSBgXy5iaW5kS2V5YFxuICogICAgIDQgLSBgXy5jdXJyeWAgb3IgYF8uY3VycnlSaWdodGAgb2YgYSBib3VuZCBmdW5jdGlvblxuICogICAgIDggLSBgXy5jdXJyeWBcbiAqICAgIDE2IC0gYF8uY3VycnlSaWdodGBcbiAqICAgIDMyIC0gYF8ucGFydGlhbGBcbiAqICAgIDY0IC0gYF8ucGFydGlhbFJpZ2h0YFxuICogICAxMjggLSBgXy5yZWFyZ2BcbiAqICAgMjU2IC0gYF8uYXJ5YFxuICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBmdW5jYC5cbiAqIEBwYXJhbSB7QXJyYXl9IFtwYXJ0aWFsc10gVGhlIGFyZ3VtZW50cyB0byBiZSBwYXJ0aWFsbHkgYXBwbGllZC5cbiAqIEBwYXJhbSB7QXJyYXl9IFtob2xkZXJzXSBUaGUgYHBhcnRpYWxzYCBwbGFjZWhvbGRlciBpbmRleGVzLlxuICogQHBhcmFtIHtBcnJheX0gW2FyZ1Bvc10gVGhlIGFyZ3VtZW50IHBvc2l0aW9ucyBvZiB0aGUgbmV3IGZ1bmN0aW9uLlxuICogQHBhcmFtIHtudW1iZXJ9IFthcnldIFRoZSBhcml0eSBjYXAgb2YgYGZ1bmNgLlxuICogQHBhcmFtIHtudW1iZXJ9IFthcml0eV0gVGhlIGFyaXR5IG9mIGBmdW5jYC5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHdyYXBwZWQgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVdyYXBwZXIoZnVuYywgYml0bWFzaywgdGhpc0FyZywgcGFydGlhbHMsIGhvbGRlcnMsIGFyZ1BvcywgYXJ5LCBhcml0eSkge1xuICB2YXIgaXNCaW5kS2V5ID0gYml0bWFzayAmIEJJTkRfS0VZX0ZMQUc7XG4gIGlmICghaXNCaW5kS2V5ICYmIHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gIH1cbiAgdmFyIGxlbmd0aCA9IHBhcnRpYWxzID8gcGFydGlhbHMubGVuZ3RoIDogMDtcbiAgaWYgKCFsZW5ndGgpIHtcbiAgICBiaXRtYXNrICY9IH4oUEFSVElBTF9GTEFHIHwgUEFSVElBTF9SSUdIVF9GTEFHKTtcbiAgICBwYXJ0aWFscyA9IGhvbGRlcnMgPSB1bmRlZmluZWQ7XG4gIH1cbiAgbGVuZ3RoIC09IChob2xkZXJzID8gaG9sZGVycy5sZW5ndGggOiAwKTtcbiAgaWYgKGJpdG1hc2sgJiBQQVJUSUFMX1JJR0hUX0ZMQUcpIHtcbiAgICB2YXIgcGFydGlhbHNSaWdodCA9IHBhcnRpYWxzLFxuICAgICAgICBob2xkZXJzUmlnaHQgPSBob2xkZXJzO1xuXG4gICAgcGFydGlhbHMgPSBob2xkZXJzID0gdW5kZWZpbmVkO1xuICB9XG4gIHZhciBuZXdEYXRhID0gW2Z1bmMsIGJpdG1hc2ssIHRoaXNBcmcsIHBhcnRpYWxzLCBob2xkZXJzLCBwYXJ0aWFsc1JpZ2h0LCBob2xkZXJzUmlnaHQsIGFyZ1BvcywgYXJ5LCBhcml0eV07XG5cbiAgbmV3RGF0YVs5XSA9IGFyaXR5ID09IG51bGxcbiAgICA/IChpc0JpbmRLZXkgPyAwIDogZnVuYy5sZW5ndGgpXG4gICAgOiAobmF0aXZlTWF4KGFyaXR5IC0gbGVuZ3RoLCAwKSB8fCAwKTtcblxuICBpZiAoYml0bWFzayA9PSBCSU5EX0ZMQUcpIHtcbiAgICB2YXIgcmVzdWx0ID0gY3JlYXRlQmluZFdyYXBwZXIobmV3RGF0YVswXSwgbmV3RGF0YVsyXSk7XG4gIH0gZWxzZSBpZiAoKGJpdG1hc2sgPT0gUEFSVElBTF9GTEFHIHx8IGJpdG1hc2sgPT0gKEJJTkRfRkxBRyB8IFBBUlRJQUxfRkxBRykpICYmICFuZXdEYXRhWzRdLmxlbmd0aCkge1xuICAgIHJlc3VsdCA9IGNyZWF0ZVBhcnRpYWxXcmFwcGVyLmFwcGx5KHVuZGVmaW5lZCwgbmV3RGF0YSk7XG4gIH0gZWxzZSB7XG4gICAgcmVzdWx0ID0gY3JlYXRlSHlicmlkV3JhcHBlci5hcHBseSh1bmRlZmluZWQsIG5ld0RhdGEpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBhcnJheS1saWtlIGluZGV4LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbbGVuZ3RoPU1BWF9TQUZFX0lOVEVHRVJdIFRoZSB1cHBlciBib3VuZHMgb2YgYSB2YWxpZCBpbmRleC5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgaW5kZXgsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNJbmRleCh2YWx1ZSwgbGVuZ3RoKSB7XG4gIHZhbHVlID0gKHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyB8fCByZUlzVWludC50ZXN0KHZhbHVlKSkgPyArdmFsdWUgOiAtMTtcbiAgbGVuZ3RoID0gbGVuZ3RoID09IG51bGwgPyBNQVhfU0FGRV9JTlRFR0VSIDogbGVuZ3RoO1xuICByZXR1cm4gdmFsdWUgPiAtMSAmJiB2YWx1ZSAlIDEgPT0gMCAmJiB2YWx1ZSA8IGxlbmd0aDtcbn1cblxuLyoqXG4gKiBSZW9yZGVyIGBhcnJheWAgYWNjb3JkaW5nIHRvIHRoZSBzcGVjaWZpZWQgaW5kZXhlcyB3aGVyZSB0aGUgZWxlbWVudCBhdFxuICogdGhlIGZpcnN0IGluZGV4IGlzIGFzc2lnbmVkIGFzIHRoZSBmaXJzdCBlbGVtZW50LCB0aGUgZWxlbWVudCBhdFxuICogdGhlIHNlY29uZCBpbmRleCBpcyBhc3NpZ25lZCBhcyB0aGUgc2Vjb25kIGVsZW1lbnQsIGFuZCBzbyBvbi5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHJlb3JkZXIuXG4gKiBAcGFyYW0ge0FycmF5fSBpbmRleGVzIFRoZSBhcnJhbmdlZCBhcnJheSBpbmRleGVzLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gKi9cbmZ1bmN0aW9uIHJlb3JkZXIoYXJyYXksIGluZGV4ZXMpIHtcbiAgdmFyIGFyckxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgIGxlbmd0aCA9IG5hdGl2ZU1pbihpbmRleGVzLmxlbmd0aCwgYXJyTGVuZ3RoKSxcbiAgICAgIG9sZEFycmF5ID0gYXJyYXlDb3B5KGFycmF5KTtcblxuICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICB2YXIgaW5kZXggPSBpbmRleGVzW2xlbmd0aF07XG4gICAgYXJyYXlbbGVuZ3RoXSA9IGlzSW5kZXgoaW5kZXgsIGFyckxlbmd0aCkgPyBvbGRBcnJheVtpbmRleF0gOiB1bmRlZmluZWQ7XG4gIH1cbiAgcmV0dXJuIGFycmF5O1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHRoZSBbbGFuZ3VhZ2UgdHlwZV0oaHR0cHM6Ly9lczUuZ2l0aHViLmlvLyN4OCkgb2YgYE9iamVjdGAuXG4gKiAoZS5nLiBhcnJheXMsIGZ1bmN0aW9ucywgb2JqZWN0cywgcmVnZXhlcywgYG5ldyBOdW1iZXIoMClgLCBhbmQgYG5ldyBTdHJpbmcoJycpYClcbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNPYmplY3Qoe30pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KDEpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcbiAgLy8gQXZvaWQgYSBWOCBKSVQgYnVnIGluIENocm9tZSAxOS0yMC5cbiAgLy8gU2VlIGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvdjgvaXNzdWVzL2RldGFpbD9pZD0yMjkxIGZvciBtb3JlIGRldGFpbHMuXG4gIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICByZXR1cm4gISF2YWx1ZSAmJiAodHlwZSA9PSAnb2JqZWN0JyB8fCB0eXBlID09ICdmdW5jdGlvbicpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGNyZWF0ZVdyYXBwZXI7XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9sb2Rhc2gucGFydGlhbHJpZ2h0L34vbG9kYXNoLl9jcmVhdGV3cmFwcGVyL2luZGV4LmpzXG4gKiogbW9kdWxlIGlkID0gODJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8qKlxuICogbG9kYXNoIDMuMC4wIChDdXN0b20gQnVpbGQpIDxodHRwczovL2xvZGFzaC5jb20vPlxuICogQnVpbGQ6IGBsb2Rhc2ggbW9kZXJuIG1vZHVsYXJpemUgZXhwb3J0cz1cIm5wbVwiIC1vIC4vYFxuICogQ29weXJpZ2h0IDIwMTItMjAxNSBUaGUgRG9qbyBGb3VuZGF0aW9uIDxodHRwOi8vZG9qb2ZvdW5kYXRpb24ub3JnLz5cbiAqIEJhc2VkIG9uIFVuZGVyc2NvcmUuanMgMS43LjAgPGh0dHA6Ly91bmRlcnNjb3JlanMub3JnL0xJQ0VOU0U+XG4gKiBDb3B5cmlnaHQgMjAwOS0yMDE1IEplcmVteSBBc2hrZW5hcywgRG9jdW1lbnRDbG91ZCBhbmQgSW52ZXN0aWdhdGl2ZSBSZXBvcnRlcnMgJiBFZGl0b3JzXG4gKiBBdmFpbGFibGUgdW5kZXIgTUlUIGxpY2Vuc2UgPGh0dHBzOi8vbG9kYXNoLmNvbS9saWNlbnNlPlxuICovXG5cbi8qKlxuICogQ29waWVzIHRoZSB2YWx1ZXMgb2YgYHNvdXJjZWAgdG8gYGFycmF5YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gc291cmNlIFRoZSBhcnJheSB0byBjb3B5IHZhbHVlcyBmcm9tLlxuICogQHBhcmFtIHtBcnJheX0gW2FycmF5PVtdXSBUaGUgYXJyYXkgdG8gY29weSB2YWx1ZXMgdG8uXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAqL1xuZnVuY3Rpb24gYXJyYXlDb3B5KHNvdXJjZSwgYXJyYXkpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBzb3VyY2UubGVuZ3RoO1xuXG4gIGFycmF5IHx8IChhcnJheSA9IEFycmF5KGxlbmd0aCkpO1xuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIGFycmF5W2luZGV4XSA9IHNvdXJjZVtpbmRleF07XG4gIH1cbiAgcmV0dXJuIGFycmF5O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGFycmF5Q29weTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2xvZGFzaC5wYXJ0aWFscmlnaHQvfi9sb2Rhc2guX2NyZWF0ZXdyYXBwZXIvfi9sb2Rhc2guX2FycmF5Y29weS9pbmRleC5qc1xuICoqIG1vZHVsZSBpZCA9IDgzXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvKipcbiAqIGxvZGFzaCAzLjAuMyAoQ3VzdG9tIEJ1aWxkKSA8aHR0cHM6Ly9sb2Rhc2guY29tLz5cbiAqIEJ1aWxkOiBgbG9kYXNoIG1vZGVybiBtb2R1bGFyaXplIGV4cG9ydHM9XCJucG1cIiAtbyAuL2BcbiAqIENvcHlyaWdodCAyMDEyLTIwMTUgVGhlIERvam8gRm91bmRhdGlvbiA8aHR0cDovL2Rvam9mb3VuZGF0aW9uLm9yZy8+XG4gKiBCYXNlZCBvbiBVbmRlcnNjb3JlLmpzIDEuOC4zIDxodHRwOi8vdW5kZXJzY29yZWpzLm9yZy9MSUNFTlNFPlxuICogQ29weXJpZ2h0IDIwMDktMjAxNSBKZXJlbXkgQXNoa2VuYXMsIERvY3VtZW50Q2xvdWQgYW5kIEludmVzdGlnYXRpdmUgUmVwb3J0ZXJzICYgRWRpdG9yc1xuICogQXZhaWxhYmxlIHVuZGVyIE1JVCBsaWNlbnNlIDxodHRwczovL2xvZGFzaC5jb20vbGljZW5zZT5cbiAqL1xuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmNyZWF0ZWAgd2l0aG91dCBzdXBwb3J0IGZvciBhc3NpZ25pbmdcbiAqIHByb3BlcnRpZXMgdG8gdGhlIGNyZWF0ZWQgb2JqZWN0LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gcHJvdG90eXBlIFRoZSBvYmplY3QgdG8gaW5oZXJpdCBmcm9tLlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAqL1xudmFyIGJhc2VDcmVhdGUgPSAoZnVuY3Rpb24oKSB7XG4gIGZ1bmN0aW9uIG9iamVjdCgpIHt9XG4gIHJldHVybiBmdW5jdGlvbihwcm90b3R5cGUpIHtcbiAgICBpZiAoaXNPYmplY3QocHJvdG90eXBlKSkge1xuICAgICAgb2JqZWN0LnByb3RvdHlwZSA9IHByb3RvdHlwZTtcbiAgICAgIHZhciByZXN1bHQgPSBuZXcgb2JqZWN0O1xuICAgICAgb2JqZWN0LnByb3RvdHlwZSA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdCB8fCB7fTtcbiAgfTtcbn0oKSk7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgdGhlIFtsYW5ndWFnZSB0eXBlXShodHRwczovL2VzNS5naXRodWIuaW8vI3g4KSBvZiBgT2JqZWN0YC5cbiAqIChlLmcuIGFycmF5cywgZnVuY3Rpb25zLCBvYmplY3RzLCByZWdleGVzLCBgbmV3IE51bWJlcigwKWAsIGFuZCBgbmV3IFN0cmluZygnJylgKVxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc09iamVjdCh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QoMSk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdCh2YWx1ZSkge1xuICAvLyBBdm9pZCBhIFY4IEpJVCBidWcgaW4gQ2hyb21lIDE5LTIwLlxuICAvLyBTZWUgaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTIyOTEgZm9yIG1vcmUgZGV0YWlscy5cbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gIHJldHVybiAhIXZhbHVlICYmICh0eXBlID09ICdvYmplY3QnIHx8IHR5cGUgPT0gJ2Z1bmN0aW9uJyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYmFzZUNyZWF0ZTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2xvZGFzaC5wYXJ0aWFscmlnaHQvfi9sb2Rhc2guX2NyZWF0ZXdyYXBwZXIvfi9sb2Rhc2guX2Jhc2VjcmVhdGUvaW5kZXguanNcbiAqKiBtb2R1bGUgaWQgPSA4NFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLyoqXG4gKiBsb2Rhc2ggMy42LjEgKEN1c3RvbSBCdWlsZCkgPGh0dHBzOi8vbG9kYXNoLmNvbS8+XG4gKiBCdWlsZDogYGxvZGFzaCBtb2Rlcm4gbW9kdWxhcml6ZSBleHBvcnRzPVwibnBtXCIgLW8gLi9gXG4gKiBDb3B5cmlnaHQgMjAxMi0yMDE1IFRoZSBEb2pvIEZvdW5kYXRpb24gPGh0dHA6Ly9kb2pvZm91bmRhdGlvbi5vcmcvPlxuICogQmFzZWQgb24gVW5kZXJzY29yZS5qcyAxLjguMyA8aHR0cDovL3VuZGVyc2NvcmVqcy5vcmcvTElDRU5TRT5cbiAqIENvcHlyaWdodCAyMDA5LTIwMTUgSmVyZW15IEFzaGtlbmFzLCBEb2N1bWVudENsb3VkIGFuZCBJbnZlc3RpZ2F0aXZlIFJlcG9ydGVycyAmIEVkaXRvcnNcbiAqIEF2YWlsYWJsZSB1bmRlciBNSVQgbGljZW5zZSA8aHR0cHM6Ly9sb2Rhc2guY29tL2xpY2Vuc2U+XG4gKi9cblxuLyoqIFVzZWQgYXMgdGhlIGBUeXBlRXJyb3JgIG1lc3NhZ2UgZm9yIFwiRnVuY3Rpb25zXCIgbWV0aG9kcy4gKi9cbnZhciBGVU5DX0VSUk9SX1RFWFQgPSAnRXhwZWN0ZWQgYSBmdW5jdGlvbic7XG5cbi8qIE5hdGl2ZSBtZXRob2QgcmVmZXJlbmNlcyBmb3IgdGhvc2Ugd2l0aCB0aGUgc2FtZSBuYW1lIGFzIG90aGVyIGBsb2Rhc2hgIG1ldGhvZHMuICovXG52YXIgbmF0aXZlTWF4ID0gTWF0aC5tYXg7XG5cbi8qKlxuICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgdGhlXG4gKiBjcmVhdGVkIGZ1bmN0aW9uIGFuZCBhcmd1bWVudHMgZnJvbSBgc3RhcnRgIGFuZCBiZXlvbmQgcHJvdmlkZWQgYXMgYW4gYXJyYXkuXG4gKlxuICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGJhc2VkIG9uIHRoZSBbcmVzdCBwYXJhbWV0ZXJdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0Z1bmN0aW9ucy9yZXN0X3BhcmFtZXRlcnMpLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFwcGx5IGEgcmVzdCBwYXJhbWV0ZXIgdG8uXG4gKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PWZ1bmMubGVuZ3RoLTFdIFRoZSBzdGFydCBwb3NpdGlvbiBvZiB0aGUgcmVzdCBwYXJhbWV0ZXIuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIHNheSA9IF8ucmVzdFBhcmFtKGZ1bmN0aW9uKHdoYXQsIG5hbWVzKSB7XG4gKiAgIHJldHVybiB3aGF0ICsgJyAnICsgXy5pbml0aWFsKG5hbWVzKS5qb2luKCcsICcpICtcbiAqICAgICAoXy5zaXplKG5hbWVzKSA+IDEgPyAnLCAmICcgOiAnJykgKyBfLmxhc3QobmFtZXMpO1xuICogfSk7XG4gKlxuICogc2F5KCdoZWxsbycsICdmcmVkJywgJ2Jhcm5leScsICdwZWJibGVzJyk7XG4gKiAvLyA9PiAnaGVsbG8gZnJlZCwgYmFybmV5LCAmIHBlYmJsZXMnXG4gKi9cbmZ1bmN0aW9uIHJlc3RQYXJhbShmdW5jLCBzdGFydCkge1xuICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgfVxuICBzdGFydCA9IG5hdGl2ZU1heChzdGFydCA9PT0gdW5kZWZpbmVkID8gKGZ1bmMubGVuZ3RoIC0gMSkgOiAoK3N0YXJ0IHx8IDApLCAwKTtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciBhcmdzID0gYXJndW1lbnRzLFxuICAgICAgICBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBuYXRpdmVNYXgoYXJncy5sZW5ndGggLSBzdGFydCwgMCksXG4gICAgICAgIHJlc3QgPSBBcnJheShsZW5ndGgpO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIHJlc3RbaW5kZXhdID0gYXJnc1tzdGFydCArIGluZGV4XTtcbiAgICB9XG4gICAgc3dpdGNoIChzdGFydCkge1xuICAgICAgY2FzZSAwOiByZXR1cm4gZnVuYy5jYWxsKHRoaXMsIHJlc3QpO1xuICAgICAgY2FzZSAxOiByZXR1cm4gZnVuYy5jYWxsKHRoaXMsIGFyZ3NbMF0sIHJlc3QpO1xuICAgICAgY2FzZSAyOiByZXR1cm4gZnVuYy5jYWxsKHRoaXMsIGFyZ3NbMF0sIGFyZ3NbMV0sIHJlc3QpO1xuICAgIH1cbiAgICB2YXIgb3RoZXJBcmdzID0gQXJyYXkoc3RhcnQgKyAxKTtcbiAgICBpbmRleCA9IC0xO1xuICAgIHdoaWxlICgrK2luZGV4IDwgc3RhcnQpIHtcbiAgICAgIG90aGVyQXJnc1tpbmRleF0gPSBhcmdzW2luZGV4XTtcbiAgICB9XG4gICAgb3RoZXJBcmdzW3N0YXJ0XSA9IHJlc3Q7XG4gICAgcmV0dXJuIGZ1bmMuYXBwbHkodGhpcywgb3RoZXJBcmdzKTtcbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSByZXN0UGFyYW07XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9sb2Rhc2gucGFydGlhbHJpZ2h0L34vbG9kYXNoLnJlc3RwYXJhbS9pbmRleC5qc1xuICoqIG1vZHVsZSBpZCA9IDg1XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvKipcbiAqIGxvZGFzaCAzLjAuMSAoQ3VzdG9tIEJ1aWxkKSA8aHR0cHM6Ly9sb2Rhc2guY29tLz5cbiAqIEJ1aWxkOiBgbG9kYXNoIG1vZGVybiBtb2R1bGFyaXplIGV4cG9ydHM9XCJucG1cIiAtbyAuL2BcbiAqIENvcHlyaWdodCAyMDEyLTIwMTUgVGhlIERvam8gRm91bmRhdGlvbiA8aHR0cDovL2Rvam9mb3VuZGF0aW9uLm9yZy8+XG4gKiBCYXNlZCBvbiBVbmRlcnNjb3JlLmpzIDEuOC4zIDxodHRwOi8vdW5kZXJzY29yZWpzLm9yZy9MSUNFTlNFPlxuICogQ29weXJpZ2h0IDIwMDktMjAxNSBKZXJlbXkgQXNoa2VuYXMsIERvY3VtZW50Q2xvdWQgYW5kIEludmVzdGlnYXRpdmUgUmVwb3J0ZXJzICYgRWRpdG9yc1xuICogQXZhaWxhYmxlIHVuZGVyIE1JVCBsaWNlbnNlIDxodHRwczovL2xvZGFzaC5jb20vbGljZW5zZT5cbiAqL1xudmFyIGlzSXRlcmF0ZWVDYWxsID0gcmVxdWlyZSgnbG9kYXNoLl9pc2l0ZXJhdGVlY2FsbCcpO1xuXG4vKiBOYXRpdmUgbWV0aG9kIHJlZmVyZW5jZXMgZm9yIHRob3NlIHdpdGggdGhlIHNhbWUgbmFtZSBhcyBvdGhlciBgbG9kYXNoYCBtZXRob2RzLiAqL1xudmFyIG5hdGl2ZUNlaWwgPSBNYXRoLmNlaWwsXG4gICAgbmF0aXZlTWF4ID0gTWF0aC5tYXg7XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBhcnJheSBvZiBudW1iZXJzIChwb3NpdGl2ZSBhbmQvb3IgbmVnYXRpdmUpIHByb2dyZXNzaW5nIGZyb21cbiAqIGBzdGFydGAgdXAgdG8sIGJ1dCBub3QgaW5jbHVkaW5nLCBgZW5kYC4gSWYgYGVuZGAgaXMgbm90IHNwZWNpZmllZCBpdCBpc1xuICogc2V0IHRvIGBzdGFydGAgd2l0aCBgc3RhcnRgIHRoZW4gc2V0IHRvIGAwYC4gSWYgYGVuZGAgaXMgbGVzcyB0aGFuIGBzdGFydGBcbiAqIGEgemVyby1sZW5ndGggcmFuZ2UgaXMgY3JlYXRlZCB1bmxlc3MgYSBuZWdhdGl2ZSBgc3RlcGAgaXMgc3BlY2lmaWVkLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAY2F0ZWdvcnkgVXRpbGl0eVxuICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD0wXSBUaGUgc3RhcnQgb2YgdGhlIHJhbmdlLlxuICogQHBhcmFtIHtudW1iZXJ9IGVuZCBUaGUgZW5kIG9mIHRoZSByYW5nZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbc3RlcD0xXSBUaGUgdmFsdWUgdG8gaW5jcmVtZW50IG9yIGRlY3JlbWVudCBieS5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIG51bWJlcnMuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8ucmFuZ2UoNCk7XG4gKiAvLyA9PiBbMCwgMSwgMiwgM11cbiAqXG4gKiBfLnJhbmdlKDEsIDUpO1xuICogLy8gPT4gWzEsIDIsIDMsIDRdXG4gKlxuICogXy5yYW5nZSgwLCAyMCwgNSk7XG4gKiAvLyA9PiBbMCwgNSwgMTAsIDE1XVxuICpcbiAqIF8ucmFuZ2UoMCwgLTQsIC0xKTtcbiAqIC8vID0+IFswLCAtMSwgLTIsIC0zXVxuICpcbiAqIF8ucmFuZ2UoMSwgNCwgMCk7XG4gKiAvLyA9PiBbMSwgMSwgMV1cbiAqXG4gKiBfLnJhbmdlKDApO1xuICogLy8gPT4gW11cbiAqL1xuZnVuY3Rpb24gcmFuZ2Uoc3RhcnQsIGVuZCwgc3RlcCkge1xuICBpZiAoc3RlcCAmJiBpc0l0ZXJhdGVlQ2FsbChzdGFydCwgZW5kLCBzdGVwKSkge1xuICAgIGVuZCA9IHN0ZXAgPSB1bmRlZmluZWQ7XG4gIH1cbiAgc3RhcnQgPSArc3RhcnQgfHwgMDtcbiAgc3RlcCA9IHN0ZXAgPT0gbnVsbCA/IDEgOiAoK3N0ZXAgfHwgMCk7XG5cbiAgaWYgKGVuZCA9PSBudWxsKSB7XG4gICAgZW5kID0gc3RhcnQ7XG4gICAgc3RhcnQgPSAwO1xuICB9IGVsc2Uge1xuICAgIGVuZCA9ICtlbmQgfHwgMDtcbiAgfVxuICAvLyBVc2UgYEFycmF5KGxlbmd0aClgIHNvIGVuZ2luZXMgbGlrZSBDaGFrcmEgYW5kIFY4IGF2b2lkIHNsb3dlciBtb2Rlcy5cbiAgLy8gU2VlIGh0dHBzOi8veW91dHUuYmUvWEFxSXBHVThaWmsjdD0xN20yNXMgZm9yIG1vcmUgZGV0YWlscy5cbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBuYXRpdmVNYXgobmF0aXZlQ2VpbCgoZW5kIC0gc3RhcnQpIC8gKHN0ZXAgfHwgMSkpLCAwKSxcbiAgICAgIHJlc3VsdCA9IEFycmF5KGxlbmd0aCk7XG5cbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICByZXN1bHRbaW5kZXhdID0gc3RhcnQ7XG4gICAgc3RhcnQgKz0gc3RlcDtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHJhbmdlO1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vbG9kYXNoLnJhbmdlL2luZGV4LmpzXG4gKiogbW9kdWxlIGlkID0gODZcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8qKlxuICogbG9kYXNoIDMuMC45IChDdXN0b20gQnVpbGQpIDxodHRwczovL2xvZGFzaC5jb20vPlxuICogQnVpbGQ6IGBsb2Rhc2ggbW9kZXJuIG1vZHVsYXJpemUgZXhwb3J0cz1cIm5wbVwiIC1vIC4vYFxuICogQ29weXJpZ2h0IDIwMTItMjAxNSBUaGUgRG9qbyBGb3VuZGF0aW9uIDxodHRwOi8vZG9qb2ZvdW5kYXRpb24ub3JnLz5cbiAqIEJhc2VkIG9uIFVuZGVyc2NvcmUuanMgMS44LjMgPGh0dHA6Ly91bmRlcnNjb3JlanMub3JnL0xJQ0VOU0U+XG4gKiBDb3B5cmlnaHQgMjAwOS0yMDE1IEplcmVteSBBc2hrZW5hcywgRG9jdW1lbnRDbG91ZCBhbmQgSW52ZXN0aWdhdGl2ZSBSZXBvcnRlcnMgJiBFZGl0b3JzXG4gKiBBdmFpbGFibGUgdW5kZXIgTUlUIGxpY2Vuc2UgPGh0dHBzOi8vbG9kYXNoLmNvbS9saWNlbnNlPlxuICovXG5cbi8qKiBVc2VkIHRvIGRldGVjdCB1bnNpZ25lZCBpbnRlZ2VyIHZhbHVlcy4gKi9cbnZhciByZUlzVWludCA9IC9eXFxkKyQvO1xuXG4vKipcbiAqIFVzZWQgYXMgdGhlIFttYXhpbXVtIGxlbmd0aF0oaHR0cHM6Ly9wZW9wbGUubW96aWxsYS5vcmcvfmpvcmVuZG9yZmYvZXM2LWRyYWZ0Lmh0bWwjc2VjLW51bWJlci5tYXhfc2FmZV9pbnRlZ2VyKVxuICogb2YgYW4gYXJyYXktbGlrZSB2YWx1ZS5cbiAqL1xudmFyIE1BWF9TQUZFX0lOVEVHRVIgPSA5MDA3MTk5MjU0NzQwOTkxO1xuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnByb3BlcnR5YCB3aXRob3V0IHN1cHBvcnQgZm9yIGRlZXAgcGF0aHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGJhc2VQcm9wZXJ0eShrZXkpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IG9iamVjdFtrZXldO1xuICB9O1xufVxuXG4vKipcbiAqIEdldHMgdGhlIFwibGVuZ3RoXCIgcHJvcGVydHkgdmFsdWUgb2YgYG9iamVjdGAuXG4gKlxuICogKipOb3RlOioqIFRoaXMgZnVuY3Rpb24gaXMgdXNlZCB0byBhdm9pZCBhIFtKSVQgYnVnXShodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTQyNzkyKVxuICogdGhhdCBhZmZlY3RzIFNhZmFyaSBvbiBhdCBsZWFzdCBpT1MgOC4xLTguMyBBUk02NC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIFwibGVuZ3RoXCIgdmFsdWUuXG4gKi9cbnZhciBnZXRMZW5ndGggPSBiYXNlUHJvcGVydHkoJ2xlbmd0aCcpO1xuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGFycmF5LWxpa2UuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYXJyYXktbGlrZSwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc0FycmF5TGlrZSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiBpc0xlbmd0aChnZXRMZW5ndGgodmFsdWUpKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGFycmF5LWxpa2UgaW5kZXguXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGg9TUFYX1NBRkVfSU5URUdFUl0gVGhlIHVwcGVyIGJvdW5kcyBvZiBhIHZhbGlkIGluZGV4LlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBpbmRleCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc0luZGV4KHZhbHVlLCBsZW5ndGgpIHtcbiAgdmFsdWUgPSAodHlwZW9mIHZhbHVlID09ICdudW1iZXInIHx8IHJlSXNVaW50LnRlc3QodmFsdWUpKSA/ICt2YWx1ZSA6IC0xO1xuICBsZW5ndGggPSBsZW5ndGggPT0gbnVsbCA/IE1BWF9TQUZFX0lOVEVHRVIgOiBsZW5ndGg7XG4gIHJldHVybiB2YWx1ZSA+IC0xICYmIHZhbHVlICUgMSA9PSAwICYmIHZhbHVlIDwgbGVuZ3RoO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiB0aGUgcHJvdmlkZWQgYXJndW1lbnRzIGFyZSBmcm9tIGFuIGl0ZXJhdGVlIGNhbGwuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHBvdGVudGlhbCBpdGVyYXRlZSB2YWx1ZSBhcmd1bWVudC5cbiAqIEBwYXJhbSB7Kn0gaW5kZXggVGhlIHBvdGVudGlhbCBpdGVyYXRlZSBpbmRleCBvciBrZXkgYXJndW1lbnQuXG4gKiBAcGFyYW0geyp9IG9iamVjdCBUaGUgcG90ZW50aWFsIGl0ZXJhdGVlIG9iamVjdCBhcmd1bWVudC5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgYXJndW1lbnRzIGFyZSBmcm9tIGFuIGl0ZXJhdGVlIGNhbGwsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNJdGVyYXRlZUNhbGwodmFsdWUsIGluZGV4LCBvYmplY3QpIHtcbiAgaWYgKCFpc09iamVjdChvYmplY3QpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciB0eXBlID0gdHlwZW9mIGluZGV4O1xuICBpZiAodHlwZSA9PSAnbnVtYmVyJ1xuICAgICAgPyAoaXNBcnJheUxpa2Uob2JqZWN0KSAmJiBpc0luZGV4KGluZGV4LCBvYmplY3QubGVuZ3RoKSlcbiAgICAgIDogKHR5cGUgPT0gJ3N0cmluZycgJiYgaW5kZXggaW4gb2JqZWN0KSkge1xuICAgIHZhciBvdGhlciA9IG9iamVjdFtpbmRleF07XG4gICAgcmV0dXJuIHZhbHVlID09PSB2YWx1ZSA/ICh2YWx1ZSA9PT0gb3RoZXIpIDogKG90aGVyICE9PSBvdGhlcik7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgYXJyYXktbGlrZSBsZW5ndGguXG4gKlxuICogKipOb3RlOioqIFRoaXMgZnVuY3Rpb24gaXMgYmFzZWQgb24gW2BUb0xlbmd0aGBdKGh0dHBzOi8vcGVvcGxlLm1vemlsbGEub3JnL35qb3JlbmRvcmZmL2VzNi1kcmFmdC5odG1sI3NlYy10b2xlbmd0aCkuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBsZW5ndGgsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNMZW5ndGgodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyAmJiB2YWx1ZSA+IC0xICYmIHZhbHVlICUgMSA9PSAwICYmIHZhbHVlIDw9IE1BWF9TQUZFX0lOVEVHRVI7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgdGhlIFtsYW5ndWFnZSB0eXBlXShodHRwczovL2VzNS5naXRodWIuaW8vI3g4KSBvZiBgT2JqZWN0YC5cbiAqIChlLmcuIGFycmF5cywgZnVuY3Rpb25zLCBvYmplY3RzLCByZWdleGVzLCBgbmV3IE51bWJlcigwKWAsIGFuZCBgbmV3IFN0cmluZygnJylgKVxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc09iamVjdCh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QoMSk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdCh2YWx1ZSkge1xuICAvLyBBdm9pZCBhIFY4IEpJVCBidWcgaW4gQ2hyb21lIDE5LTIwLlxuICAvLyBTZWUgaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTIyOTEgZm9yIG1vcmUgZGV0YWlscy5cbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gIHJldHVybiAhIXZhbHVlICYmICh0eXBlID09ICdvYmplY3QnIHx8IHR5cGUgPT0gJ2Z1bmN0aW9uJyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNJdGVyYXRlZUNhbGw7XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9sb2Rhc2gucmFuZ2Uvfi9sb2Rhc2guX2lzaXRlcmF0ZWVjYWxsL2luZGV4LmpzXG4gKiogbW9kdWxlIGlkID0gODdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8qKlxuICogbG9kYXNoIDMuNy40IChDdXN0b20gQnVpbGQpIDxodHRwczovL2xvZGFzaC5jb20vPlxuICogQnVpbGQ6IGBsb2Rhc2ggbW9kZXJuIG1vZHVsYXJpemUgZXhwb3J0cz1cIm5wbVwiIC1vIC4vYFxuICogQ29weXJpZ2h0IDIwMTItMjAxNSBUaGUgRG9qbyBGb3VuZGF0aW9uIDxodHRwOi8vZG9qb2ZvdW5kYXRpb24ub3JnLz5cbiAqIEJhc2VkIG9uIFVuZGVyc2NvcmUuanMgMS44LjMgPGh0dHA6Ly91bmRlcnNjb3JlanMub3JnL0xJQ0VOU0U+XG4gKiBDb3B5cmlnaHQgMjAwOS0yMDE1IEplcmVteSBBc2hrZW5hcywgRG9jdW1lbnRDbG91ZCBhbmQgSW52ZXN0aWdhdGl2ZSBSZXBvcnRlcnMgJiBFZGl0b3JzXG4gKiBBdmFpbGFibGUgdW5kZXIgTUlUIGxpY2Vuc2UgPGh0dHBzOi8vbG9kYXNoLmNvbS9saWNlbnNlPlxuICovXG52YXIgdG9QYXRoID0gcmVxdWlyZSgnbG9kYXNoLl90b3BhdGgnKSxcbiAgICBpc0FycmF5ID0gcmVxdWlyZSgnbG9kYXNoLmlzYXJyYXknKTtcblxuLyoqIFVzZWQgdG8gbWF0Y2ggcHJvcGVydHkgbmFtZXMgd2l0aGluIHByb3BlcnR5IHBhdGhzLiAqL1xudmFyIHJlSXNEZWVwUHJvcCA9IC9cXC58XFxbKD86W15bXFxdXSp8KFtcIiddKSg/Oig/IVxcMSlbXlxcblxcXFxdfFxcXFwuKSo/XFwxKVxcXS8sXG4gICAgcmVJc1BsYWluUHJvcCA9IC9eXFx3KiQvO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgdW5zaWduZWQgaW50ZWdlciB2YWx1ZXMuICovXG52YXIgcmVJc1VpbnQgPSAvXlxcZCskLztcblxuLyoqXG4gKiBVc2VkIGFzIHRoZSBbbWF4aW11bSBsZW5ndGhdKGh0dHBzOi8vcGVvcGxlLm1vemlsbGEub3JnL35qb3JlbmRvcmZmL2VzNi1kcmFmdC5odG1sI3NlYy1udW1iZXIubWF4X3NhZmVfaW50ZWdlcilcbiAqIG9mIGFuIGFycmF5LWxpa2UgdmFsdWUuXG4gKi9cbnZhciBNQVhfU0FGRV9JTlRFR0VSID0gOTAwNzE5OTI1NDc0MDk5MTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGFycmF5LWxpa2UgaW5kZXguXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGg9TUFYX1NBRkVfSU5URUdFUl0gVGhlIHVwcGVyIGJvdW5kcyBvZiBhIHZhbGlkIGluZGV4LlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBpbmRleCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc0luZGV4KHZhbHVlLCBsZW5ndGgpIHtcbiAgdmFsdWUgPSAodHlwZW9mIHZhbHVlID09ICdudW1iZXInIHx8IHJlSXNVaW50LnRlc3QodmFsdWUpKSA/ICt2YWx1ZSA6IC0xO1xuICBsZW5ndGggPSBsZW5ndGggPT0gbnVsbCA/IE1BWF9TQUZFX0lOVEVHRVIgOiBsZW5ndGg7XG4gIHJldHVybiB2YWx1ZSA+IC0xICYmIHZhbHVlICUgMSA9PSAwICYmIHZhbHVlIDwgbGVuZ3RoO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgcHJvcGVydHkgbmFtZSBhbmQgbm90IGEgcHJvcGVydHkgcGF0aC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIG9iamVjdCB0byBxdWVyeSBrZXlzIG9uLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBwcm9wZXJ0eSBuYW1lLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzS2V5KHZhbHVlLCBvYmplY3QpIHtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gIGlmICgodHlwZSA9PSAnc3RyaW5nJyAmJiByZUlzUGxhaW5Qcm9wLnRlc3QodmFsdWUpKSB8fCB0eXBlID09ICdudW1iZXInKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciByZXN1bHQgPSAhcmVJc0RlZXBQcm9wLnRlc3QodmFsdWUpO1xuICByZXR1cm4gcmVzdWx0IHx8IChvYmplY3QgIT0gbnVsbCAmJiB2YWx1ZSBpbiB0b09iamVjdChvYmplY3QpKTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGFuIG9iamVjdCBpZiBpdCdzIG5vdCBvbmUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb2Nlc3MuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBvYmplY3QuXG4gKi9cbmZ1bmN0aW9uIHRvT2JqZWN0KHZhbHVlKSB7XG4gIHJldHVybiBpc09iamVjdCh2YWx1ZSkgPyB2YWx1ZSA6IE9iamVjdCh2YWx1ZSk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgdGhlIFtsYW5ndWFnZSB0eXBlXShodHRwczovL2VzNS5naXRodWIuaW8vI3g4KSBvZiBgT2JqZWN0YC5cbiAqIChlLmcuIGFycmF5cywgZnVuY3Rpb25zLCBvYmplY3RzLCByZWdleGVzLCBgbmV3IE51bWJlcigwKWAsIGFuZCBgbmV3IFN0cmluZygnJylgKVxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc09iamVjdCh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QoMSk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdCh2YWx1ZSkge1xuICAvLyBBdm9pZCBhIFY4IEpJVCBidWcgaW4gQ2hyb21lIDE5LTIwLlxuICAvLyBTZWUgaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTIyOTEgZm9yIG1vcmUgZGV0YWlscy5cbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gIHJldHVybiAhIXZhbHVlICYmICh0eXBlID09ICdvYmplY3QnIHx8IHR5cGUgPT0gJ2Z1bmN0aW9uJyk7XG59XG5cbi8qKlxuICogU2V0cyB0aGUgcHJvcGVydHkgdmFsdWUgb2YgYHBhdGhgIG9uIGBvYmplY3RgLiBJZiBhIHBvcnRpb24gb2YgYHBhdGhgXG4gKiBkb2VzIG5vdCBleGlzdCBpdCBpcyBjcmVhdGVkLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAY2F0ZWdvcnkgT2JqZWN0XG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gYXVnbWVudC5cbiAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBzZXQuXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgb2JqZWN0ID0geyAnYSc6IFt7ICdiJzogeyAnYyc6IDMgfSB9XSB9O1xuICpcbiAqIF8uc2V0KG9iamVjdCwgJ2FbMF0uYi5jJywgNCk7XG4gKiBjb25zb2xlLmxvZyhvYmplY3QuYVswXS5iLmMpO1xuICogLy8gPT4gNFxuICpcbiAqIF8uc2V0KG9iamVjdCwgJ3hbMF0ueS56JywgNSk7XG4gKiBjb25zb2xlLmxvZyhvYmplY3QueFswXS55LnopO1xuICogLy8gPT4gNVxuICovXG5mdW5jdGlvbiBzZXQob2JqZWN0LCBwYXRoLCB2YWx1ZSkge1xuICBpZiAob2JqZWN0ID09IG51bGwpIHtcbiAgICByZXR1cm4gb2JqZWN0O1xuICB9XG4gIHZhciBwYXRoS2V5ID0gKHBhdGggKyAnJyk7XG4gIHBhdGggPSAob2JqZWN0W3BhdGhLZXldICE9IG51bGwgfHwgaXNLZXkocGF0aCwgb2JqZWN0KSkgPyBbcGF0aEtleV0gOiB0b1BhdGgocGF0aCk7XG5cbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBwYXRoLmxlbmd0aCxcbiAgICAgIGxhc3RJbmRleCA9IGxlbmd0aCAtIDEsXG4gICAgICBuZXN0ZWQgPSBvYmplY3Q7XG5cbiAgd2hpbGUgKG5lc3RlZCAhPSBudWxsICYmICsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB2YXIga2V5ID0gcGF0aFtpbmRleF07XG4gICAgaWYgKGlzT2JqZWN0KG5lc3RlZCkpIHtcbiAgICAgIGlmIChpbmRleCA9PSBsYXN0SW5kZXgpIHtcbiAgICAgICAgbmVzdGVkW2tleV0gPSB2YWx1ZTtcbiAgICAgIH0gZWxzZSBpZiAobmVzdGVkW2tleV0gPT0gbnVsbCkge1xuICAgICAgICBuZXN0ZWRba2V5XSA9IGlzSW5kZXgocGF0aFtpbmRleCArIDFdKSA/IFtdIDoge307XG4gICAgICB9XG4gICAgfVxuICAgIG5lc3RlZCA9IG5lc3RlZFtrZXldO1xuICB9XG4gIHJldHVybiBvYmplY3Q7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc2V0O1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vbG9kYXNoLnNldC9pbmRleC5qc1xuICoqIG1vZHVsZSBpZCA9IDg4XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvKipcbiAqIGxvZGFzaCAzLjguMSAoQ3VzdG9tIEJ1aWxkKSA8aHR0cHM6Ly9sb2Rhc2guY29tLz5cbiAqIEJ1aWxkOiBgbG9kYXNoIG1vZGVybiBtb2R1bGFyaXplIGV4cG9ydHM9XCJucG1cIiAtbyAuL2BcbiAqIENvcHlyaWdodCAyMDEyLTIwMTUgVGhlIERvam8gRm91bmRhdGlvbiA8aHR0cDovL2Rvam9mb3VuZGF0aW9uLm9yZy8+XG4gKiBCYXNlZCBvbiBVbmRlcnNjb3JlLmpzIDEuOC4zIDxodHRwOi8vdW5kZXJzY29yZWpzLm9yZy9MSUNFTlNFPlxuICogQ29weXJpZ2h0IDIwMDktMjAxNSBKZXJlbXkgQXNoa2VuYXMsIERvY3VtZW50Q2xvdWQgYW5kIEludmVzdGlnYXRpdmUgUmVwb3J0ZXJzICYgRWRpdG9yc1xuICogQXZhaWxhYmxlIHVuZGVyIE1JVCBsaWNlbnNlIDxodHRwczovL2xvZGFzaC5jb20vbGljZW5zZT5cbiAqL1xudmFyIGlzQXJyYXkgPSByZXF1aXJlKCdsb2Rhc2guaXNhcnJheScpO1xuXG4vKiogVXNlZCB0byBtYXRjaCBwcm9wZXJ0eSBuYW1lcyB3aXRoaW4gcHJvcGVydHkgcGF0aHMuICovXG52YXIgcmVQcm9wTmFtZSA9IC9bXi5bXFxdXSt8XFxbKD86KC0/XFxkKyg/OlxcLlxcZCspPyl8KFtcIiddKSgoPzooPyFcXDIpW15cXG5cXFxcXXxcXFxcLikqPylcXDIpXFxdL2c7XG5cbi8qKiBVc2VkIHRvIG1hdGNoIGJhY2tzbGFzaGVzIGluIHByb3BlcnR5IHBhdGhzLiAqL1xudmFyIHJlRXNjYXBlQ2hhciA9IC9cXFxcKFxcXFwpPy9nO1xuXG4vKipcbiAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBzdHJpbmcgaWYgaXQncyBub3Qgb25lLiBBbiBlbXB0eSBzdHJpbmcgaXMgcmV0dXJuZWRcbiAqIGZvciBgbnVsbGAgb3IgYHVuZGVmaW5lZGAgdmFsdWVzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwcm9jZXNzLlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc3RyaW5nLlxuICovXG5mdW5jdGlvbiBiYXNlVG9TdHJpbmcodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlID09IG51bGwgPyAnJyA6ICh2YWx1ZSArICcnKTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBgdmFsdWVgIHRvIHByb3BlcnR5IHBhdGggYXJyYXkgaWYgaXQncyBub3Qgb25lLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwcm9jZXNzLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBwcm9wZXJ0eSBwYXRoIGFycmF5LlxuICovXG5mdW5jdGlvbiB0b1BhdGgodmFsdWUpIHtcbiAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIHZhciByZXN1bHQgPSBbXTtcbiAgYmFzZVRvU3RyaW5nKHZhbHVlKS5yZXBsYWNlKHJlUHJvcE5hbWUsIGZ1bmN0aW9uKG1hdGNoLCBudW1iZXIsIHF1b3RlLCBzdHJpbmcpIHtcbiAgICByZXN1bHQucHVzaChxdW90ZSA/IHN0cmluZy5yZXBsYWNlKHJlRXNjYXBlQ2hhciwgJyQxJykgOiAobnVtYmVyIHx8IG1hdGNoKSk7XG4gIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHRvUGF0aDtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2xvZGFzaC5zZXQvfi9sb2Rhc2guX3RvcGF0aC9pbmRleC5qc1xuICoqIG1vZHVsZSBpZCA9IDg5XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvKipcbiAqIGxvZGFzaCAzLjAuMCAoQ3VzdG9tIEJ1aWxkKSA8aHR0cHM6Ly9sb2Rhc2guY29tLz5cbiAqIEJ1aWxkOiBgbG9kYXNoIG1vZGVybiBtb2R1bGFyaXplIGV4cG9ydHM9XCJucG1cIiAtbyAuL2BcbiAqIENvcHlyaWdodCAyMDEyLTIwMTUgVGhlIERvam8gRm91bmRhdGlvbiA8aHR0cDovL2Rvam9mb3VuZGF0aW9uLm9yZy8+XG4gKiBCYXNlZCBvbiBVbmRlcnNjb3JlLmpzIDEuNy4wIDxodHRwOi8vdW5kZXJzY29yZWpzLm9yZy9MSUNFTlNFPlxuICogQ29weXJpZ2h0IDIwMDktMjAxNSBKZXJlbXkgQXNoa2VuYXMsIERvY3VtZW50Q2xvdWQgYW5kIEludmVzdGlnYXRpdmUgUmVwb3J0ZXJzICYgRWRpdG9yc1xuICogQXZhaWxhYmxlIHVuZGVyIE1JVCBsaWNlbnNlIDxodHRwczovL2xvZGFzaC5jb20vbGljZW5zZT5cbiAqL1xudmFyIGlzQXJyYXkgPSByZXF1aXJlKCdsb2Rhc2guaXNhcnJheScpO1xuXG4vKipcbiAqIENyZWF0ZXMgYW4gb2JqZWN0IGNvbXBvc2VkIGZyb20gYXJyYXlzIG9mIHByb3BlcnR5IG5hbWVzIGFuZCB2YWx1ZXMuIFByb3ZpZGVcbiAqIGVpdGhlciBhIHNpbmdsZSB0d28gZGltZW5zaW9uYWwgYXJyYXksIGUuZy4gYFtba2V5MSwgdmFsdWUxXSwgW2tleTIsIHZhbHVlMl1dYFxuICogb3IgdHdvIGFycmF5cywgb25lIG9mIHByb3BlcnR5IG5hbWVzIGFuZCBvbmUgb2YgY29ycmVzcG9uZGluZyB2YWx1ZXMuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBhbGlhcyBvYmplY3RcbiAqIEBjYXRlZ29yeSBBcnJheVxuICogQHBhcmFtIHtBcnJheX0gcHJvcHMgVGhlIHByb3BlcnR5IG5hbWVzLlxuICogQHBhcmFtIHtBcnJheX0gW3ZhbHVlcz1bXV0gVGhlIHByb3BlcnR5IHZhbHVlcy5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uemlwT2JqZWN0KFsnZnJlZCcsICdiYXJuZXknXSwgWzMwLCA0MF0pO1xuICogLy8gPT4geyAnZnJlZCc6IDMwLCAnYmFybmV5JzogNDAgfVxuICovXG5mdW5jdGlvbiB6aXBPYmplY3QocHJvcHMsIHZhbHVlcykge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IHByb3BzID8gcHJvcHMubGVuZ3RoIDogMCxcbiAgICAgIHJlc3VsdCA9IHt9O1xuXG4gIGlmIChsZW5ndGggJiYgIXZhbHVlcyAmJiAhaXNBcnJheShwcm9wc1swXSkpIHtcbiAgICB2YWx1ZXMgPSBbXTtcbiAgfVxuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHZhciBrZXkgPSBwcm9wc1tpbmRleF07XG4gICAgaWYgKHZhbHVlcykge1xuICAgICAgcmVzdWx0W2tleV0gPSB2YWx1ZXNbaW5kZXhdO1xuICAgIH0gZWxzZSBpZiAoa2V5KSB7XG4gICAgICByZXN1bHRba2V5WzBdXSA9IGtleVsxXTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB6aXBPYmplY3Q7XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9sb2Rhc2guemlwb2JqZWN0L2luZGV4LmpzXG4gKiogbW9kdWxlIGlkID0gOTBcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8qKlxuICogbG9kYXNoIDMuMC40IChDdXN0b20gQnVpbGQpIDxodHRwczovL2xvZGFzaC5jb20vPlxuICogQnVpbGQ6IGBsb2Rhc2ggbW9kZXJuIG1vZHVsYXJpemUgZXhwb3J0cz1cIm5wbVwiIC1vIC4vYFxuICogQ29weXJpZ2h0IDIwMTItMjAxNSBUaGUgRG9qbyBGb3VuZGF0aW9uIDxodHRwOi8vZG9qb2ZvdW5kYXRpb24ub3JnLz5cbiAqIEJhc2VkIG9uIFVuZGVyc2NvcmUuanMgMS44LjMgPGh0dHA6Ly91bmRlcnNjb3JlanMub3JnL0xJQ0VOU0U+XG4gKiBDb3B5cmlnaHQgMjAwOS0yMDE1IEplcmVteSBBc2hrZW5hcywgRG9jdW1lbnRDbG91ZCBhbmQgSW52ZXN0aWdhdGl2ZSBSZXBvcnRlcnMgJiBFZGl0b3JzXG4gKiBBdmFpbGFibGUgdW5kZXIgTUlUIGxpY2Vuc2UgPGh0dHBzOi8vbG9kYXNoLmNvbS9saWNlbnNlPlxuICovXG5cbi8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbnZhciBhcnJheVRhZyA9ICdbb2JqZWN0IEFycmF5XScsXG4gICAgZnVuY1RhZyA9ICdbb2JqZWN0IEZ1bmN0aW9uXSc7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBob3N0IGNvbnN0cnVjdG9ycyAoU2FmYXJpID4gNSkuICovXG52YXIgcmVJc0hvc3RDdG9yID0gL15cXFtvYmplY3QgLis/Q29uc3RydWN0b3JcXF0kLztcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZSwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc09iamVjdExpa2UodmFsdWUpIHtcbiAgcmV0dXJuICEhdmFsdWUgJiYgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnO1xufVxuXG4vKiogVXNlZCBmb3IgbmF0aXZlIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqIFVzZWQgdG8gcmVzb2x2ZSB0aGUgZGVjb21waWxlZCBzb3VyY2Ugb2YgZnVuY3Rpb25zLiAqL1xudmFyIGZuVG9TdHJpbmcgPSBGdW5jdGlvbi5wcm90b3R5cGUudG9TdHJpbmc7XG5cbi8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xudmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbi8qKlxuICogVXNlZCB0byByZXNvbHZlIHRoZSBbYHRvU3RyaW5nVGFnYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNi4wLyNzZWMtb2JqZWN0LnByb3RvdHlwZS50b3N0cmluZylcbiAqIG9mIHZhbHVlcy5cbiAqL1xudmFyIG9ialRvU3RyaW5nID0gb2JqZWN0UHJvdG8udG9TdHJpbmc7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBpZiBhIG1ldGhvZCBpcyBuYXRpdmUuICovXG52YXIgcmVJc05hdGl2ZSA9IFJlZ0V4cCgnXicgK1xuICBmblRvU3RyaW5nLmNhbGwoaGFzT3duUHJvcGVydHkpLnJlcGxhY2UoL1tcXFxcXiQuKis/KClbXFxde318XS9nLCAnXFxcXCQmJylcbiAgLnJlcGxhY2UoL2hhc093blByb3BlcnR5fChmdW5jdGlvbikuKj8oPz1cXFxcXFwoKXwgZm9yIC4rPyg/PVxcXFxcXF0pL2csICckMS4qPycpICsgJyQnXG4pO1xuXG4vKiBOYXRpdmUgbWV0aG9kIHJlZmVyZW5jZXMgZm9yIHRob3NlIHdpdGggdGhlIHNhbWUgbmFtZSBhcyBvdGhlciBgbG9kYXNoYCBtZXRob2RzLiAqL1xudmFyIG5hdGl2ZUlzQXJyYXkgPSBnZXROYXRpdmUoQXJyYXksICdpc0FycmF5Jyk7XG5cbi8qKlxuICogVXNlZCBhcyB0aGUgW21heGltdW0gbGVuZ3RoXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi82LjAvI3NlYy1udW1iZXIubWF4X3NhZmVfaW50ZWdlcilcbiAqIG9mIGFuIGFycmF5LWxpa2UgdmFsdWUuXG4gKi9cbnZhciBNQVhfU0FGRV9JTlRFR0VSID0gOTAwNzE5OTI1NDc0MDk5MTtcblxuLyoqXG4gKiBHZXRzIHRoZSBuYXRpdmUgZnVuY3Rpb24gYXQgYGtleWAgb2YgYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgbWV0aG9kIHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBmdW5jdGlvbiBpZiBpdCdzIG5hdGl2ZSwgZWxzZSBgdW5kZWZpbmVkYC5cbiAqL1xuZnVuY3Rpb24gZ2V0TmF0aXZlKG9iamVjdCwga2V5KSB7XG4gIHZhciB2YWx1ZSA9IG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogb2JqZWN0W2tleV07XG4gIHJldHVybiBpc05hdGl2ZSh2YWx1ZSkgPyB2YWx1ZSA6IHVuZGVmaW5lZDtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGFycmF5LWxpa2UgbGVuZ3RoLlxuICpcbiAqICoqTm90ZToqKiBUaGlzIGZ1bmN0aW9uIGlzIGJhc2VkIG9uIFtgVG9MZW5ndGhgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi82LjAvI3NlYy10b2xlbmd0aCkuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBsZW5ndGgsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNMZW5ndGgodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyAmJiB2YWx1ZSA+IC0xICYmIHZhbHVlICUgMSA9PSAwICYmIHZhbHVlIDw9IE1BWF9TQUZFX0lOVEVHRVI7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhbiBgQXJyYXlgIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgY29ycmVjdGx5IGNsYXNzaWZpZWQsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0FycmF5KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5KGZ1bmN0aW9uKCkgeyByZXR1cm4gYXJndW1lbnRzOyB9KCkpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xudmFyIGlzQXJyYXkgPSBuYXRpdmVJc0FycmF5IHx8IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGlzTGVuZ3RoKHZhbHVlLmxlbmd0aCkgJiYgb2JqVG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT0gYXJyYXlUYWc7XG59O1xuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgRnVuY3Rpb25gIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgY29ycmVjdGx5IGNsYXNzaWZpZWQsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0Z1bmN0aW9uKF8pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNGdW5jdGlvbigvYWJjLyk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKHZhbHVlKSB7XG4gIC8vIFRoZSB1c2Ugb2YgYE9iamVjdCN0b1N0cmluZ2AgYXZvaWRzIGlzc3VlcyB3aXRoIHRoZSBgdHlwZW9mYCBvcGVyYXRvclxuICAvLyBpbiBvbGRlciB2ZXJzaW9ucyBvZiBDaHJvbWUgYW5kIFNhZmFyaSB3aGljaCByZXR1cm4gJ2Z1bmN0aW9uJyBmb3IgcmVnZXhlc1xuICAvLyBhbmQgU2FmYXJpIDggZXF1aXZhbGVudHMgd2hpY2ggcmV0dXJuICdvYmplY3QnIGZvciB0eXBlZCBhcnJheSBjb25zdHJ1Y3RvcnMuXG4gIHJldHVybiBpc09iamVjdCh2YWx1ZSkgJiYgb2JqVG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT0gZnVuY1RhZztcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyB0aGUgW2xhbmd1YWdlIHR5cGVdKGh0dHBzOi8vZXM1LmdpdGh1Yi5pby8jeDgpIG9mIGBPYmplY3RgLlxuICogKGUuZy4gYXJyYXlzLCBmdW5jdGlvbnMsIG9iamVjdHMsIHJlZ2V4ZXMsIGBuZXcgTnVtYmVyKDApYCwgYW5kIGBuZXcgU3RyaW5nKCcnKWApXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0KHt9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdCgxKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0KHZhbHVlKSB7XG4gIC8vIEF2b2lkIGEgVjggSklUIGJ1ZyBpbiBDaHJvbWUgMTktMjAuXG4gIC8vIFNlZSBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9MjI5MSBmb3IgbW9yZSBkZXRhaWxzLlxuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgcmV0dXJuICEhdmFsdWUgJiYgKHR5cGUgPT0gJ29iamVjdCcgfHwgdHlwZSA9PSAnZnVuY3Rpb24nKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIG5hdGl2ZSBmdW5jdGlvbi5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBuYXRpdmUgZnVuY3Rpb24sIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc05hdGl2ZShBcnJheS5wcm90b3R5cGUucHVzaCk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc05hdGl2ZShfKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzTmF0aXZlKHZhbHVlKSB7XG4gIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChpc0Z1bmN0aW9uKHZhbHVlKSkge1xuICAgIHJldHVybiByZUlzTmF0aXZlLnRlc3QoZm5Ub1N0cmluZy5jYWxsKHZhbHVlKSk7XG4gIH1cbiAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgcmVJc0hvc3RDdG9yLnRlc3QodmFsdWUpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzQXJyYXk7XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9sb2Rhc2guemlwb2JqZWN0L34vbG9kYXNoLmlzYXJyYXkvaW5kZXguanNcbiAqKiBtb2R1bGUgaWQgPSA5MVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiaW1wb3J0IHtzY2FsZSwgdG9SR0IsIHJlY3RQYXRoLCBpbWFnZX0gZnJvbSAncmVuZGVyL3V0aWxzJztcbmltcG9ydCB7cmFuZG9tR2VuZXJhdG9yLCBjbGFtcCwgbW9kfSBmcm9tICd1dGlscyc7XG5pbXBvcnQge1NDQUxFLCBHUk9VTkRfTEVWRUx9IGZyb20gJ3JlbmRlci9jb25zdGFudHMnO1xuaW1wb3J0IHtXSURUSCwgSEVJR0hUfSBmcm9tICd3b3JsZCc7XG5pbXBvcnQge2NhbnZhcywgY3R4fSBmcm9tICdyZW5kZXIvY2FudmFzJztcblxuZXhwb3J0IGNvbnN0IFNLWV9DT0xPUiA9IFsxNjgsIDIyNywgMjMzXTtcbmV4cG9ydCBjb25zdCBTUEFDRV9DT0xPUiA9IFsxNywgMTAzLCAxMjVdO1xuXG5jb25zdCBTQ0FMRURfR1JPVU5EX0xFVkVMID0gc2NhbGUoR1JPVU5EX0xFVkVMKTtcblxuY29uc3QgR1JPVU5EID0gaW1hZ2UocmVxdWlyZSgndXJsIWdyb3VuZC5wbmcnKSk7XG5cbmNvbnN0IENMT1VEUyA9IFtcbiAgaW1hZ2UocmVxdWlyZSgndXJsIWNsb3VkMS5wbmcnKSksXG4gIGltYWdlKHJlcXVpcmUoJ3VybCFjbG91ZDIucG5nJykpLFxuICBpbWFnZShyZXF1aXJlKCd1cmwhY2xvdWQzLnBuZycpKVxuXTtcblxuY29uc3QgQ0xPVURfU0VFRCA9IE1hdGguY2VpbChNYXRoLnJhbmRvbSgpICogMTAwKTtcblxuY29uc3QgU0NBTEVEX1dPUkxEX1dJRFRIID0gc2NhbGUoV0lEVEgpO1xuY29uc3QgU0NBTEVEX1dPUkxEX0hFSUdIVCA9IHNjYWxlKEhFSUdIVCk7XG5cbmNvbnN0IGxheWVycyA9IFtcbiAge1xuICAgIHN0cm9rZVN0eWxlOiAnIzhlZGJlMicsXG4gICAgZmlsbFN0eWxlOiAnIzhlZGJlMicsXG4gICAgbWF4SGVpZ2h0OiAyNTAsXG4gICAgbWluSGVpZ2h0OiAyMDAsXG4gICAgc3BhY2VCZXR3ZWVuOiA1MDAsXG4gICAgcGFyYWxsYXg6IDAuOVxuICB9LFxuICB7XG4gICAgc3Ryb2tlU3R5bGU6ICcjNmNkMGQ5JyxcbiAgICBmaWxsU3R5bGU6ICcjNmNkMGQ5JyxcbiAgICBtYXhIZWlnaHQ6IDIwMCxcbiAgICBtaW5IZWlnaHQ6IDEwMCxcbiAgICBzcGFjZUJldHdlZW46IDMwMCxcbiAgICBwYXJhbGxheDogMC44XG4gIH0sXG4gIHtcbiAgICBzdHJva2VTdHlsZTogJyM5ZTkxN2InLFxuICAgIGZpbGxTdHlsZTogJyNiNmE3OGUnLFxuICAgIG1heEhlaWdodDogMTIwLFxuICAgIG1pbkhlaWdodDogMTAwLFxuICAgIHNwYWNlQmV0d2VlbjogMjUwLFxuICAgIHBhcmFsbGF4OiAwLjRcbiAgfSxcbiAge1xuICAgIHN0cm9rZVN0eWxlOiAnIzkxODU2ZScsXG4gICAgZmlsbFN0eWxlOiAnIzllOTE3YicsXG4gICAgbWF4SGVpZ2h0OiAxMDAsXG4gICAgbWluSGVpZ2h0OiA4MCxcbiAgICBzcGFjZUJldHdlZW46IDIwMCxcbiAgICBwYXJhbGxheDogMC4zXG4gIH1cbl0ubWFwKChsYXllcikgPT4ge1xuICBsYXllci5zZWVkID0gTWF0aC5jZWlsKE1hdGgucmFuZG9tKCkgKiAxMDApO1xuICByZXR1cm4gbGF5ZXI7XG59KTtcblxuZnVuY3Rpb24gaHVlRm9ySGVpZ2h0KGNhbWVyYVBvc2l0aW9uKSB7XG4gIGNvbnN0IG1vZGlmaWVyID0gLShjYW1lcmFQb3NpdGlvbiAqIFNDQUxFKSAvIEhFSUdIVDtcbiAgcmV0dXJuIFNLWV9DT0xPUi5tYXAoKG51bSwgaSkgPT4ge1xuICAgIHJldHVybiBjbGFtcCgwLCAyNTUsIE1hdGguZmxvb3IobnVtIC0gKG51bSAtIFNQQUNFX0NPTE9SW2ldKSAqIG1vZGlmaWVyKSk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVHcmFkaWVudCh0cmFuc2xhdGlvbikge1xuICBjb25zdCBncmFkaWVudCA9IGN0eC5jcmVhdGVMaW5lYXJHcmFkaWVudCgwLCAwLCAwLCBjYW52YXMuaGVpZ2h0KTtcblxuICBjb25zdCBjYW52YXNJbkdhbWUgPSBjYW52YXMuaGVpZ2h0ICogU0NBTEU7XG5cbiAgZ3JhZGllbnQuYWRkQ29sb3JTdG9wKDAsIHRvUkdCKGh1ZUZvckhlaWdodCgtdHJhbnNsYXRpb24ueSkpKTtcbiAgZ3JhZGllbnQuYWRkQ29sb3JTdG9wKDEsIHRvUkdCKGh1ZUZvckhlaWdodCgtdHJhbnNsYXRpb24ueSAtIGNhbnZhc0luR2FtZSkpKTtcblxuICByZXR1cm4gZ3JhZGllbnQ7XG59XG5cbmZ1bmN0aW9uIHJlbmRlckJhY2tncm91bmRMYXllcihsYXllciwgdHJhbnNsYXRpb24pIHtcbiAgY29uc3QgZ3JvdW5kTGV2ZWwgPSBTQ0FMRURfR1JPVU5EX0xFVkVMO1xuXG4gIGNvbnN0IG5leHRPZmZzZXQgPSAxO1xuXG4gIGNvbnN0IHtcbiAgICBzdHJva2VTdHlsZSxcbiAgICBmaWxsU3R5bGUsXG4gICAgbWF4SGVpZ2h0LFxuICAgIG1pbkhlaWdodCxcbiAgICBzcGFjZUJldHdlZW4sXG4gICAgcGFyYWxsYXhcbiAgfSA9IGxheWVyO1xuXG4gIGN0eC5zYXZlKCk7XG4gIGN0eC5zdHJva2VTdHlsZSA9IHN0cm9rZVN0eWxlO1xuICBjdHguZmlsbFN0eWxlID0gZmlsbFN0eWxlO1xuICBjdHgubGluZVdpZHRoID0gMztcbiAgY3R4LmJlZ2luUGF0aCgpO1xuXG4gIGNvbnN0IGJvdW5jZXMgPSBNYXRoLmZsb29yKFNDQUxFRF9XT1JMRF9XSURUSCAvIHNwYWNlQmV0d2Vlbik7XG5cbiAgY29uc3QgeSA9ICh2YWwpID0+IGNhbnZhcy5oZWlnaHQgLSBncm91bmRMZXZlbCAtIHZhbDtcblxuICBjb25zdCB0cmFuc2xhdGlvbk9mZnNldCA9IC10cmFuc2xhdGlvbi54ICogcGFyYWxsYXg7XG4gIGNvbnN0IHRvdGFsVHJhbnNsYXRpb24gPSB0cmFuc2xhdGlvbi54ICsgdHJhbnNsYXRpb25PZmZzZXQ7XG5cbiAgY3R4LnRyYW5zbGF0ZSh0cmFuc2xhdGlvbk9mZnNldCwgMCk7XG5cbiAgY29uc3Qgc3RhcnRCb3VuY2UgPSBNYXRoLmZsb29yKC10b3RhbFRyYW5zbGF0aW9uIC8gbGF5ZXIuc3BhY2VCZXR3ZWVuKTtcblxuICBjb25zdCBlbmRCb3VuY2UgPSBNYXRoLm1pbihcbiAgICBib3VuY2VzLFxuICAgIHN0YXJ0Qm91bmNlICsgTWF0aC5mbG9vcihjYW52YXMud2lkdGggLyBsYXllci5zcGFjZUJldHdlZW4pICsgMSArIG5leHRPZmZzZXRcbiAgKTtcblxuICBsZXQgcmFuZG9tRm47XG4gIGxldCBzdGFydEZyb207XG5cbiAgaWYoc3RhcnRCb3VuY2UgPiAwKSB7XG4gICAgY29uc3Qgc2VlZE9mZnNldCA9IHN0YXJ0Qm91bmNlICogMjtcbiAgICByYW5kb21GbiA9IHJhbmRvbUdlbmVyYXRvcihsYXllci5zZWVkICsgc2VlZE9mZnNldCAtIDIpO1xuICAgIHN0YXJ0RnJvbSA9IHkobWluSGVpZ2h0IC8gMiAqIHJhbmRvbUZuKCkpO1xuICAgIHJhbmRvbUZuID0gcmFuZG9tR2VuZXJhdG9yKGxheWVyLnNlZWQgKyBzZWVkT2Zmc2V0KTtcbiAgfSBlbHNlIHtcbiAgICByYW5kb21GbiA9IHJhbmRvbUdlbmVyYXRvcihsYXllci5zZWVkKTtcbiAgICBzdGFydEZyb20gPSBjYW52YXMuaGVpZ2h0IC0gZ3JvdW5kTGV2ZWw7XG4gIH1cblxuICBmb3IobGV0IGkgPSBzdGFydEJvdW5jZTsgaSA8IGVuZEJvdW5jZTsgaSsrKSB7XG4gICAgY29uc3QgZW5kSGVpZ2h0ID0gaSA9PT0gYm91bmNlcyAtIDEgPyB5KDApIDogeShtaW5IZWlnaHQgLyAyICogcmFuZG9tRm4oKSk7XG5cbiAgICBjdHguYmV6aWVyQ3VydmVUbyhcbiAgICAgIGkgKiBzcGFjZUJldHdlZW4sIHN0YXJ0RnJvbSxcbiAgICAgIGkgKiBzcGFjZUJldHdlZW4gKyBzcGFjZUJldHdlZW4gLyAyLCB5KE1hdGgubWF4KG1pbkhlaWdodCwgcmFuZG9tRm4oKSAqIG1heEhlaWdodCkpLFxuICAgICAgKGkgKyAxKSAqIHNwYWNlQmV0d2VlbiwgZW5kSGVpZ2h0XG4gICAgKTtcblxuICAgIHN0YXJ0RnJvbSA9IGVuZEhlaWdodDtcbiAgfVxuXG4gIGN0eC5saW5lVG8oLXRvdGFsVHJhbnNsYXRpb24gKyBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQgLSBncm91bmRMZXZlbCk7XG5cbiAgY3R4LmxpbmVUbyhzdGFydEJvdW5jZSAqIHNwYWNlQmV0d2VlbiwgY2FudmFzLmhlaWdodCAtIGdyb3VuZExldmVsKTtcbiAgY3R4LmNsb3NlUGF0aCgpO1xuICBjdHguZmlsbCgpO1xuICBjdHguc3Ryb2tlKCk7XG4gIGN0eC5yZXN0b3JlKCk7XG59XG5cbmZ1bmN0aW9uIHJlbmRlckdyb3VuZCh0cmFuc2xhdGlvbikge1xuXG4gIGNvbnN0IHdpZHRoID0gR1JPVU5ELndpZHRoIC8gMjtcbiAgY29uc3QgcmF0aW8gPSB3aWR0aCAvIEdST1VORC53aWR0aDtcbiAgY29uc3QgaGVpZ2h0ID0gd2lkdGggKiByYXRpbztcbiAgY29uc3QgcGllY2VzID0gTWF0aC5jZWlsKGNhbnZhcy53aWR0aCAvIHdpZHRoKSArIDE7XG5cbiAgY29uc3QgeSA9IGNhbnZhcy5oZWlnaHQgLSBTQ0FMRURfR1JPVU5EX0xFVkVMO1xuICBjdHguc2F2ZSgpO1xuXG4gIGN0eC5zdHJva2VTdHlsZSA9ICcjNzM2YzYxJztcbiAgY3R4LmZpbGxTdHlsZSA9ICcjN2Y3ODZmJztcbiAgY3R4LmxpbmVXaWR0aCA9IDI7XG5cbiAgcmVjdFBhdGgoMCwgeSwgU0NBTEVEX1dPUkxEX1dJRFRILCBTQ0FMRURfR1JPVU5EX0xFVkVMKTtcbiAgY3R4LmZpbGwoKTtcbiAgY3R4LnN0cm9rZSgpO1xuXG4gIGN0eC50cmFuc2xhdGUoLXRyYW5zbGF0aW9uLngsIDApO1xuXG4gIGZvcihsZXQgaSA9IDA7IGkgPCBwaWVjZXM7IGkrKykge1xuICAgIGNvbnN0IHggPSB3aWR0aCAqIGkgKyAodHJhbnNsYXRpb24ueCAlIHdpZHRoKTtcbiAgICBjdHguZHJhd0ltYWdlKEdST1VORCwgeCwgeSwgd2lkdGgsIGhlaWdodCk7XG4gIH1cblxuICBjdHgucmVzdG9yZSgpO1xuXG59XG5cbmZ1bmN0aW9uIHJlbmRlckNsb3Vkcyh0cmFuc2xhdGlvbiwgZWxhcHNlZFRpbWUpIHtcbiAgLypcbiAgICogVE9ET1xuICAgKiAtIG5vcm1hbCBkaXN0cmlidXRpb25cbiAgICogLSB3b3VsZCBiZSBjb29sIGlmIHNvbWUgY2xvdWRzIHdvdWxkIGJlIG9uIHRvcCBvZiBwbGF5ZXJcbiAgICovXG5cbiAgY29uc3QgcmFuZG9tID0gcmFuZG9tR2VuZXJhdG9yKENMT1VEX1NFRUQpO1xuXG4gIGNvbnN0IGJhc2UgPSBjYW52YXMuaGVpZ2h0IC0gU0NBTEVEX0dST1VORF9MRVZFTCAtIDIwMDtcblxuICBjb25zdCBtYXhYID0gU0NBTEVEX1dPUkxEX1dJRFRIO1xuXG4gIGZvcihsZXQgaSA9IDA7IGkgPCBXSURUSCAvIDEwOyBpKyspIHtcbiAgICBjb25zdCBtb3ZlbWVudCA9IGVsYXBzZWRUaW1lICogcmFuZG9tKCk7XG4gICAgY29uc3Qgc3ByaXRlID0gQ0xPVURTW01hdGguZmxvb3IocmFuZG9tKCkgKiBDTE9VRFMubGVuZ3RoKV07XG5cbiAgICBjb25zdCBkZXB0aCA9IGNsYW1wKDAuMiwgMSwgcmFuZG9tKCkpO1xuXG4gICAgY29uc3Qgd2lkdGggPSBzcHJpdGUud2lkdGggKiBkZXB0aDtcbiAgICBjb25zdCBoZWlnaHQgPSBzcHJpdGUuaGVpZ2h0ICogZGVwdGg7XG5cbiAgICBjb25zdCBvZmZzZXRSaWdodCA9IHdpZHRoO1xuICAgIGNvbnN0IG9mZnNldExlZnQgPSAtd2lkdGg7XG5cbiAgICBjb25zdCB4ID0gbW9kKChyYW5kb20oKSAqIG1heFggLSBtb3ZlbWVudCksIG1heFggKyBvZmZzZXRSaWdodCkgKyBvZmZzZXRMZWZ0O1xuICAgIGNvbnN0IHkgPSBiYXNlIC0gcmFuZG9tKCkgKiAoU0NBTEVEX1dPUkxEX0hFSUdIVCAvIDIpO1xuXG4gICAgY29uc3QgY2FudmFzWCA9IHggKyB0cmFuc2xhdGlvbi54ICogZGVwdGg7XG4gICAgY29uc3QgY2FudmFzWSA9IHkgKyB0cmFuc2xhdGlvbi55ICogZGVwdGg7XG5cbiAgICBpZihjYW52YXNYID4gY2FudmFzLndpZHRoIHx8IGNhbnZhc1ggPCAtd2lkdGggfHxcbiAgICAgIGNhbnZhc1kgPiBjYW52YXMuaGVpZ2h0IHx8IGNhbnZhc1kgPCAtaGVpZ2h0KSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBjdHguc2F2ZSgpO1xuICAgIGN0eC50cmFuc2xhdGUoXG4gICAgICAtKHRyYW5zbGF0aW9uLnggLSB0cmFuc2xhdGlvbi54ICogZGVwdGgpICsgeCxcbiAgICAgIC0odHJhbnNsYXRpb24ueSAtIHRyYW5zbGF0aW9uLnkgKiBkZXB0aCkgKyB5XG4gICAgKTtcblxuICAgIGN0eC5kcmF3SW1hZ2Uoc3ByaXRlLFxuICAgICAgMCwgMCxcbiAgICAgIHNwcml0ZS53aWR0aCwgc3ByaXRlLmhlaWdodCxcbiAgICAgIDAsIDAsIHdpZHRoLCBoZWlnaHRcbiAgICApO1xuXG4gICAgLy8gY3R4LnN0cm9rZVJlY3QoMCwgMCwgc3ByaXRlLndpZHRoICogMC43NSwgc3ByaXRlLmhlaWdodCAqIDAuNzUpO1xuXG4gICAgY3R4LnJlc3RvcmUoKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVuZGVyKHRyYW5zbGF0aW9uLCBlbGFwc2VkVGltZSkge1xuICBjdHguZmlsbFN0eWxlID0gY3JlYXRlR3JhZGllbnQodHJhbnNsYXRpb24pO1xuICBjdHguZmlsbFJlY3QoLXRyYW5zbGF0aW9uLngsIC10cmFuc2xhdGlvbi55LCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuXG5cbiAgcmVuZGVyQmFja2dyb3VuZExheWVyKGxheWVyc1swXSwgdHJhbnNsYXRpb24pO1xuICByZW5kZXJCYWNrZ3JvdW5kTGF5ZXIobGF5ZXJzWzFdLCB0cmFuc2xhdGlvbik7XG4gIHJlbmRlckJhY2tncm91bmRMYXllcihsYXllcnNbMl0sIHRyYW5zbGF0aW9uKTtcblxuICByZW5kZXJDbG91ZHModHJhbnNsYXRpb24sIGVsYXBzZWRUaW1lKTtcblxuICByZW5kZXJCYWNrZ3JvdW5kTGF5ZXIobGF5ZXJzWzNdLCB0cmFuc2xhdGlvbik7XG5cblxuICByZW5kZXJHcm91bmQodHJhbnNsYXRpb24pO1xufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zY3JpcHRzL2JhY2tncm91bmQvcmVuZGVyLmpzXG4gKiovIiwiaW1wb3J0IHtcbiAgaW1hZ2UsXG4gIHNjYWxlLFxuICBib2R5VG9DYW52YXNcbn0gZnJvbSAncmVuZGVyL3V0aWxzJztcblxuaW1wb3J0IHtjdHh9IGZyb20gJ3JlbmRlci9jYW52YXMnO1xuXG5pbXBvcnQge1dJRFRILCBIRUlHSFR9IGZyb20gJ2J1bGxldCc7XG5cbmNvbnN0IFNQUklURSA9IGltYWdlKHJlcXVpcmUoJ3VybCFidWxsZXQucG5nJykpO1xuXG5leHBvcnQgZnVuY3Rpb24gcmVuZGVyKGJ1bGxldCkge1xuXG4gIGNvbnN0IHdpZHRoID0gc2NhbGUoV0lEVEgpO1xuICBjb25zdCBoZWlnaHQgPSBzY2FsZShIRUlHSFQpO1xuXG4gIGNvbnN0IGNhbnZhc0Nvb3JkaW5hdGVzID0gYm9keVRvQ2FudmFzKGJ1bGxldC5ib2R5KTtcblxuICBjdHguc2F2ZSgpO1xuXG4gIGN0eC50cmFuc2xhdGUoY2FudmFzQ29vcmRpbmF0ZXMueCwgY2FudmFzQ29vcmRpbmF0ZXMueSk7XG4gIGN0eC5yb3RhdGUoYnVsbGV0LmJvZHkuYW5nbGUpO1xuXG4gIGN0eC50cmFuc2xhdGUoLXdpZHRoIC8gMiwgLWhlaWdodCAvIDIpO1xuXG4gIGN0eC5kcmF3SW1hZ2UoU1BSSVRFLCAwLCAwLCBTUFJJVEUud2lkdGgsIFNQUklURS5oZWlnaHQsIDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuICAvLyBjdHguc3Ryb2tlUmVjdCgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcbiAgY3R4LnJlc3RvcmUoKTtcbn1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc2NyaXB0cy9idWxsZXQvcmVuZGVyLmpzXG4gKiovIiwiaW1wb3J0IHtcbiAgaW1hZ2UsXG4gIHNjYWxlLFxuICBib2R5VG9DYW52YXNcbn0gZnJvbSAncmVuZGVyL3V0aWxzJztcblxuaW1wb3J0IHtjdHh9IGZyb20gJ3JlbmRlci9jYW52YXMnO1xuaW1wb3J0IHtDUkFURV9TSVpFfSBmcm9tICdjcmF0ZSc7XG5cbmNvbnN0IENSQVRFX1NQUklURSA9IGltYWdlKHJlcXVpcmUoJ3VybCFjcmF0ZS5wbmcnKSk7XG5cbmV4cG9ydCBmdW5jdGlvbiByZW5kZXIoY3JhdGUpIHtcbiAgY29uc3Qgd2lkdGggPSBzY2FsZShDUkFURV9TSVpFKTtcbiAgY29uc3QgaGVpZ2h0ID0gc2NhbGUoQ1JBVEVfU0laRSk7XG5cbiAgY29uc3QgY2FudmFzQ29vcmRpbmF0ZXMgPSBib2R5VG9DYW52YXMoY3JhdGUuYm9keSk7XG5cbiAgY3R4LnNhdmUoKTtcblxuICBjdHgudHJhbnNsYXRlKGNhbnZhc0Nvb3JkaW5hdGVzLngsIGNhbnZhc0Nvb3JkaW5hdGVzLnkpO1xuICBjdHgucm90YXRlKGNyYXRlLmJvZHkuYW5nbGUpO1xuXG4gIGN0eC50cmFuc2xhdGUoLXdpZHRoIC8gMiwgLWhlaWdodCAvIDIpO1xuXG4gIGN0eC5kcmF3SW1hZ2UoQ1JBVEVfU1BSSVRFLCAwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcbiAgLy8gY3R4LnN0cm9rZVJlY3QoMCwgMCwgd2lkdGgsIGhlaWdodCk7XG4gIGN0eC5yZXN0b3JlKCk7XG5cbn1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc2NyaXB0cy9jcmF0ZS9yZW5kZXIuanNcbiAqKi8iLCJpbXBvcnQgc2V0IGZyb20gJ2xvZGFzaC5zZXQnO1xuaW1wb3J0IHBhcnRpYWxSaWdodCBmcm9tICdsb2Rhc2gucGFydGlhbHJpZ2h0JztcblxuZXhwb3J0IGNvbnN0IEFMSVZFX1RJTUUgPSAxMDAwO1xuXG5leHBvcnQgZnVuY3Rpb24gaW5pdGlhbCgpIHtcbiAgcmV0dXJuIHtcbiAgICBleHBsb3Npb25zOiBbXSxcbiAgICBzb3VuZHM6IHtcbiAgICAgIGNyZWF0ZWQ6IFtdXG4gICAgfVxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlKHtleHBsb3Npb25zLCBzb3VuZHN9LCBpbnB1dCwgYnVsbGV0cykge1xuXG4gIGNvbnN0IG5ld0V4cGxvc2lvbnMgPSBidWxsZXRzLmV4cGxvc2lvbnNcbiAgICAubWFwKCh7Ym9keToge3Bvc2l0aW9uOiBbeCwgeV19fSkgPT4gKHtcbiAgICAgIHBvc2l0aW9uOiB7eCwgeX0sXG4gICAgICBhbGl2ZVRpbWU6IDBcbiAgICB9KSk7XG5cbiAgcmV0dXJuIHtcbiAgICBleHBsb3Npb25zOiBleHBsb3Npb25zXG4gICAgICAuZmlsdGVyKChlKSA9PiBlLmFsaXZlVGltZSA8IEFMSVZFX1RJTUUpXG4gICAgICAubWFwKChlKSA9PiB7XG4gICAgICAgIGUuYWxpdmVUaW1lICs9IGlucHV0LmRlbHRhO1xuICAgICAgICByZXR1cm4gZTtcbiAgICAgIH0pXG4gICAgICAuY29uY2F0KG5ld0V4cGxvc2lvbnMpLFxuICAgIHNvdW5kczoge1xuICAgICAgY3JlYXRlZDogc291bmRzLmNyZWF0ZWQuY29uY2F0KGJ1bGxldHMuZXhwbG9zaW9ucylcbiAgICB9XG4gIH07XG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NjcmlwdHMvZXhwbG9zaW9uL2luZGV4LmpzXG4gKiovIiwiaW1wb3J0IEFuaW1hdGlvbkZyYW1lIGZyb20gJ2FuaW1hdGlvbi1mcmFtZSc7XG5pbXBvcnQge0ZSQU1FX1JBVEUsIFdPUkxEX1NQRUVEfSBmcm9tICdjb25zdGFudHMnO1xuXG5jb25zdCBkZWx0YVRpbWUgPSAoKCkgPT4ge1xuICBsZXQgbGFzdFRpbWU7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIHRpbWVEZWx0YSh0aW1lc3RhbXApIHtcbiAgICBjb25zdCBjdXJyZW50ID0gdGltZXN0YW1wIC8gMTAwMDtcblxuICAgIGxhc3RUaW1lID0gbGFzdFRpbWUgfHwgY3VycmVudDtcbiAgICBjb25zdCBkaWZmZXJlbmNlID0gY3VycmVudCAtIGxhc3RUaW1lO1xuXG4gICAgbGFzdFRpbWUgPSBjdXJyZW50O1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGN1cnJlbnQsXG4gICAgICBkaWZmZXJlbmNlLFxuICAgICAgZGVsdGE6IGRpZmZlcmVuY2UgLyBXT1JMRF9TUEVFRFxuICAgIH07XG4gIH07XG59KSgpO1xuXG5jb25zdCBhbmltYXRpb25GcmFtZSA9IG5ldyBBbmltYXRpb25GcmFtZShGUkFNRV9SQVRFKTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2FtZUxvb3AoZm4pIHtcblxuICBmdW5jdGlvbiBsb29wKHRpbWVzdGFtcCkge1xuICAgIGFuaW1hdGlvbkZyYW1lLnJlcXVlc3QobG9vcCk7XG4gICAgcmV0dXJuIGZuKGRlbHRhVGltZSh0aW1lc3RhbXApKTtcbiAgfVxuXG4gIGxvb3AoMCk7XG59XG5cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc2NyaXB0cy9nYW1lTG9vcC5qc1xuICoqLyIsImltcG9ydCB7V29ybGR9IGZyb20gJ3AyJztcbmltcG9ydCB7cmVuZGVyfSBmcm9tICdyZW5kZXInO1xuaW1wb3J0IHtjb250YWN0TWF0ZXJpYWxzfSBmcm9tICdtYXRlcmlhbHMnO1xuaW1wb3J0IHtwbGF5U291bmRzfSBmcm9tICdzb3VuZHMnO1xuaW1wb3J0IGdhbWVMb29wIGZyb20gJ2dhbWVMb29wJztcbmltcG9ydCAqIGFzIGlucHV0IGZyb20gJ2lucHV0JztcblxuaW1wb3J0IHtpbml0aWFsIGFzIGluaXRpYWxXb3JsZCwgdXBkYXRlIGFzIHVwZGF0ZVdvcmxkfSBmcm9tICcuL3dvcmxkJztcbmltcG9ydCB7aW5pdGlhbCBhcyBpbml0aWFsUGxheWVyLCB1cGRhdGUgYXMgdXBkYXRlUGxheWVyfSBmcm9tICcuL3BsYXllcic7XG5pbXBvcnQge2luaXRpYWwgYXMgaW5pdGlhbFBsYW5lcywgdXBkYXRlIGFzIHVwZGF0ZVBsYW5lc30gZnJvbSAnLi9wbGFuZSc7XG5pbXBvcnQge2luaXRpYWwgYXMgaW5pdGlhbEJ1bGxldHMsIHVwZGF0ZSBhcyB1cGRhdGVCdWxsZXRzfSBmcm9tICcuL2J1bGxldCc7XG5pbXBvcnQge2luaXRpYWwgYXMgaW5pdGlhbENyYXRlcywgdXBkYXRlIGFzIHVwZGF0ZUNyYXRlc30gZnJvbSAnLi9jcmF0ZSc7XG5pbXBvcnQge2luaXRpYWwgYXMgaW5pdGlhbEV4cGxvc2lvbnMsIHVwZGF0ZSBhcyB1cGRhdGVFeHBsb3Npb25zfSBmcm9tICcuL2V4cGxvc2lvbic7XG5cbi8qXG4gKiBQaHlzaWNzIHdvcmxkIGluaXRpYWxpemF0aW9uXG4gKi9cblxuY29uc3QgZW5naW5lID0gbmV3IFdvcmxkKHtcbiAgZ3Jhdml0eTogWzAsIC05LjgyXVxufSk7XG5cbmNvbnRhY3RNYXRlcmlhbHMuZm9yRWFjaChtYXRlcmlhbCA9PiBlbmdpbmUuYWRkQ29udGFjdE1hdGVyaWFsKG1hdGVyaWFsKSk7XG5cbi8qXG4gKiBHYW1lIHN0YXRlICYgZ2FtZSBsb29wXG4gKi9cblxubGV0IHN0YXRlID0ge1xuICB3b3JsZDogaW5pdGlhbFdvcmxkKGVuZ2luZSksXG4gIHBsYXllcjogaW5pdGlhbFBsYXllcihlbmdpbmUpLFxuICBidWxsZXRzOiBpbml0aWFsQnVsbGV0cyhlbmdpbmUpLFxuICBjcmF0ZXM6IGluaXRpYWxDcmF0ZXMoZW5naW5lKSxcbiAgZXhwbG9zaW9uczogaW5pdGlhbEV4cGxvc2lvbnMoZW5naW5lKSxcbiAgcGxhbmVzOiBpbml0aWFsUGxhbmVzKGVuZ2luZSksXG4gIGVsYXBzZWRUaW1lOiAwXG59O1xuXG5nYW1lTG9vcChmdW5jdGlvbih7ZGVsdGF9KSB7XG5cbiAgY29uc3QgaW5wdXRTdGF0ZSA9IGlucHV0LmdldFN0YXRlKCk7XG5cbiAgaW5wdXRTdGF0ZS5kZWx0YSA9IGRlbHRhO1xuICBpbnB1dC5mbHVzaCgpO1xuXG4gIGNvbnN0IHdvcmxkID0gdXBkYXRlV29ybGQoc3RhdGUud29ybGQsIGlucHV0U3RhdGUpO1xuICBjb25zdCBwbGF5ZXIgPSB1cGRhdGVQbGF5ZXIoc3RhdGUucGxheWVyLCBpbnB1dFN0YXRlLCB3b3JsZCk7XG4gIGNvbnN0IHBsYW5lcyA9IHVwZGF0ZVBsYW5lcyhzdGF0ZS5wbGFuZXMsIGlucHV0U3RhdGUsIHdvcmxkKTtcbiAgY29uc3QgYnVsbGV0cyA9IHVwZGF0ZUJ1bGxldHMoc3RhdGUuYnVsbGV0cywgaW5wdXRTdGF0ZSwgd29ybGQsIHBsYXllcik7XG4gIGNvbnN0IGNyYXRlcyA9IHVwZGF0ZUNyYXRlcyhzdGF0ZS5jcmF0ZXMsIGlucHV0U3RhdGUsIHdvcmxkKTtcbiAgY29uc3QgZXhwbG9zaW9ucyA9IHVwZGF0ZUV4cGxvc2lvbnMoc3RhdGUuZXhwbG9zaW9ucywgaW5wdXRTdGF0ZSwgYnVsbGV0cyk7XG5cbiAgc3RhdGUgPSB7XG4gICAgd29ybGQsXG4gICAgcGxheWVyLFxuICAgIHBsYW5lcyxcbiAgICBidWxsZXRzLFxuICAgIGNyYXRlcyxcbiAgICBleHBsb3Npb25zLFxuICAgIGVsYXBzZWRUaW1lOiBzdGF0ZS5lbGFwc2VkVGltZSArIGRlbHRhXG4gIH07XG5cbiAgcmVuZGVyKHN0YXRlKTtcbiAgcGxheVNvdW5kcyhzdGF0ZSk7XG5cbn0pO1xuXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NjcmlwdHMvaW5kZXguanNcbiAqKi8iLCJpbXBvcnQgQmFjb24gZnJvbSAnYmFjb25qcyc7XG5pbXBvcnQgZXh0ZW5kIGZyb20gJ2V4dGVuZCc7XG5cbmltcG9ydCB7XG4gIFNQQUNFX0tFWSxcbiAgVVBfS0VZLFxuICBET1dOX0tFWSxcbiAgTEVGVF9LRVksXG4gIFJJR0hUX0tFWVxufSBmcm9tICdjb25zdGFudHMnO1xuXG4vLyBVc2VyIGV2ZW50c1xuY29uc3Qga2V5cyA9IHtcbiAgW1VQX0tFWV06ICd1cCcsXG4gIFtET1dOX0tFWV06ICdkb3duJyxcbiAgW0xFRlRfS0VZXTogJ2xlZnQnLFxuICBbUklHSFRfS0VZXTogJ3JpZ2h0J1xufTtcblxuZnVuY3Rpb24gaW5pdGlhbFN0YXRlKCkge1xuICByZXR1cm4ge1xuICAgIGtleXM6IHtcbiAgICAgIHVwOiBmYWxzZSxcbiAgICAgIGRvd246IGZhbHNlLFxuICAgICAgbGVmdDogZmFsc2UsXG4gICAgICByaWdodDogZmFsc2VcbiAgICB9LFxuICAgIHNob290OiBbXVxuICB9O1xufVxuXG5sZXQgaW5wdXRTdGF0ZSA9IGluaXRpYWxTdGF0ZSgpO1xuXG5jb25zdCBrZXlEb3duJCA9IEJhY29uLmZyb21FdmVudCh3aW5kb3csICdrZXlkb3duJylcbiAgLm1hcCgnLmtleUNvZGUnKS5maWx0ZXIoYyA9PiBrZXlzLmhhc093blByb3BlcnR5KGMpKVxuICAubWFwKChrZXlDb2RlKSA9PiAoe1trZXlzW2tleUNvZGVdXTogdHJ1ZX0pKTtcblxuY29uc3Qga2V5VXAkID0gQmFjb24uZnJvbUV2ZW50KHdpbmRvdywgJ2tleXVwJylcbiAgLm1hcCgnLmtleUNvZGUnKS5maWx0ZXIoYyA9PiBrZXlzLmhhc093blByb3BlcnR5KGMpKVxuICAubWFwKChrZXlDb2RlKSA9PiAoe1trZXlzW2tleUNvZGVdXTogZmFsc2V9KSk7XG5cbmNvbnN0IGtleXNEb3duJCA9IGtleVVwJC5tZXJnZShrZXlEb3duJClcbiAgLnNjYW4oaW5wdXRTdGF0ZS5rZXlzLCBleHRlbmQpO1xuXG5jb25zdCBzaG9vdCQgPSBCYWNvbi5mcm9tRXZlbnQod2luZG93LCAna2V5ZG93bicpXG4gIC5tYXAoJy5rZXlDb2RlJylcbiAgLmZpbHRlcigoYykgPT4gYyA9PT0gU1BBQ0VfS0VZKTtcblxua2V5c0Rvd24kLm9uVmFsdWUodmFsdWUgPT4gaW5wdXRTdGF0ZS5rZXlzID0gdmFsdWUpO1xuc2hvb3QkLm9uVmFsdWUoKCkgPT4gaW5wdXRTdGF0ZS5zaG9vdC5wdXNoKHRydWUpKTtcblxuZXhwb3J0IGZ1bmN0aW9uIGdldFN0YXRlKCkge1xuICByZXR1cm4gaW5wdXRTdGF0ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZsdXNoKCkge1xuICBpbnB1dFN0YXRlID0ge1xuICAgIGtleXM6IGlucHV0U3RhdGUua2V5cyxcbiAgICBzaG9vdDogW11cbiAgfVxufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zY3JpcHRzL2lucHV0L2luZGV4LmpzXG4gKiovIiwiaW1wb3J0IHtcbiAgaW1hZ2UsXG4gIHNjYWxlLFxuICBib2R5VG9DYW52YXNcbn0gZnJvbSAncmVuZGVyL3V0aWxzJztcblxuaW1wb3J0IHtjdHgsIGNhbnZhc30gZnJvbSAncmVuZGVyL2NhbnZhcyc7XG5pbXBvcnQge1dJRFRILCBIRUlHSFR9IGZyb20gJ3BsYW5lJztcbmltcG9ydCB7R1JPVU5EX0xFVkVMfSBmcm9tICdyZW5kZXIvY29uc3RhbnRzJztcbmNvbnN0IFNQUklURSA9IGltYWdlKHJlcXVpcmUoJ3VybCFwbGFuZS5wbmcnKSk7XG5cbmNvbnN0IHdpZHRoID0gc2NhbGUoV0lEVEgpO1xuY29uc3QgaGVpZ2h0ID0gc2NhbGUoSEVJR0hUKTtcblxuY29uc3QgZ3JvdW5kTGV2ZWwgPSBzY2FsZShHUk9VTkRfTEVWRUwpO1xuXG5leHBvcnQgZnVuY3Rpb24gcmVuZGVyKHBsYW5lKSB7XG5cbiAgY29uc3QgY2FudmFzQ29vcmRpbmF0ZXMgPSBib2R5VG9DYW52YXMocGxhbmUuYm9keSk7XG5cbiAgY3R4LnNhdmUoKTtcblxuICAvKlxuICAgKiBTaGFkb3dcbiAgICovXG5cbiAgIGNvbnN0IGRlbHRhID0gTWF0aC5tYXgoMCwgMSAtIHBsYW5lLmJvZHkucG9zaXRpb25bMV0gLyAzKTtcblxuICBjb25zdCBzY2FsZVggPSAyIC8gZGVsdGE7XG4gIGNvbnN0IHNjYWxlWSA9IDAuMTUgKiBkZWx0YTtcblxuICBjdHguc2F2ZSgpO1xuICBjdHgudHJhbnNsYXRlKGNhbnZhc0Nvb3JkaW5hdGVzLngsIGNhbnZhcy5oZWlnaHQgLSBncm91bmRMZXZlbCArIGhlaWdodCk7XG4gIGN0eC5iZWdpblBhdGgoKTtcbiAgY3R4LnNjYWxlKDEsIHNjYWxlWSk7XG5cbiAgY3R4LmFyYygwLCBoZWlnaHQgLyAoc2NhbGVZICogMiksIHdpZHRoIC8gc2NhbGVYLCAwLCBNYXRoLlBJICogMik7XG4gIGN0eC5maWxsU3R5bGUgPSBgcmdiYSgwLCAwLCAwLCAkezAuMiArIDAuNCAqIGRlbHRhfSlgO1xuICBjdHguZmlsbCgpO1xuICBjdHgucmVzdG9yZSgpO1xuXG4gIGN0eC50cmFuc2xhdGUoY2FudmFzQ29vcmRpbmF0ZXMueCwgY2FudmFzQ29vcmRpbmF0ZXMueSk7XG4gIGN0eC5yb3RhdGUocGxhbmUuYm9keS5hbmdsZSk7XG4gIGN0eC50cmFuc2xhdGUoLXdpZHRoIC8gMiwgLWhlaWdodCAvIDIpO1xuICBjdHguZHJhd0ltYWdlKFNQUklURSwgMCwgMCwgU1BSSVRFLndpZHRoLCBTUFJJVEUuaGVpZ2h0LCAwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcblxuXG4gIC8vIGN0eC5zdHJva2VSZWN0KDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuXG4gIGN0eC5yZXN0b3JlKCk7XG5cbn1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc2NyaXB0cy9wbGFuZS9yZW5kZXIuanNcbiAqKi8iLCJpbXBvcnQge0dST1VORF9MRVZFTH0gZnJvbSAnd29ybGQnO1xuaW1wb3J0IHtSQURJQU59IGZyb20gJ2NvbnN0YW50cyc7XG5pbXBvcnQge2NyZWF0ZX0gZnJvbSAncGxhbmUnO1xuaW1wb3J0IGNyYXRlIGZyb20gJ2NyYXRlJztcbmltcG9ydCBleHRlbmQgZnJvbSAnZXh0ZW5kJztcbmltcG9ydCB7Y3JlYXRlQ29sbGlzaW9uRGlzcGF0Y2hlcn0gZnJvbSAndXRpbHMnO1xuXG5jb25zdCBNQVhfU1BFRUQgPSAwLjc7XG5jb25zdCBLRVlfUk9UQVRJT04gPSAwLjA1O1xuXG5jb25zdCBjb2xsaXNpb25IYW5kbGVycyA9IG5ldyBNYXAoKTtcblxuY29sbGlzaW9uSGFuZGxlcnMuc2V0KGNyYXRlLCBmdW5jdGlvbihwbGF5ZXIpIHtcbiAgcGxheWVyLmJ1bGxldHMgKz0gMjA7XG4gIHJldHVybiBwbGF5ZXI7XG59KTtcblxuZXhwb3J0IGZ1bmN0aW9uIGluaXRpYWwod29ybGQpIHtcbiAgcmV0dXJuIGV4dGVuZChjcmVhdGUobnVsbCwgd29ybGQpLCB7XG4gICAgY3JlYXRlZEJ1bGxldHM6IFtdXG4gIH0pO1xufVxuXG5mdW5jdGlvbiByb3RhdGVQbGFuZShwbGF5ZXIsIGRlZ3JlZXMpIHtcbiAgY29uc3QgeSA9IHBsYXllci5ib2R5LnBvc2l0aW9uWzFdO1xuXG4gIGlmKHkgPCAyKSB7XG4gICAgY29uc3QgZGVsdGFTcGVlZCA9IHBsYXllci50aHJ1c3QgLyBNQVhfU1BFRUQ7XG4gICAgcmV0dXJuICgoZGVncmVlcyAvIDEwKSAqIGRlbHRhU3BlZWQpO1xuICB9XG5cbiAgaWYoeSA8IDQpIHtcbiAgICByZXR1cm4gZGVncmVlcyAqIHkgLyA0ICogMC41O1xuICB9XG5cbiAgcmV0dXJuIGRlZ3JlZXM7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZU5ld0J1bGxldHMoaW5wdXQpIHtcbiAgdGhpcy5jcmVhdGVkQnVsbGV0cyA9IGlucHV0LnNob290LnNsaWNlKDAsIHRoaXMuYnVsbGV0cykubWFwKCgpID0+IHRydWUpO1xuICB0aGlzLmJ1bGxldHMgLT0gdGhpcy5jcmVhdGVkQnVsbGV0cy5sZW5ndGg7XG4gIHJldHVybiB0aGlzO1xufVxuXG5jb25zdCBoYW5kbGVDb2xsaXNpb25zID0gY3JlYXRlQ29sbGlzaW9uRGlzcGF0Y2hlcihjb2xsaXNpb25IYW5kbGVycyk7XG5cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGUocGxheWVyLCBpbnB1dCwgd29ybGQpIHtcblxuICBpZihpbnB1dC5rZXlzLmRvd24pIHtcbiAgICBwbGF5ZXIuYm9keS5hbmdsZSArPSByb3RhdGVQbGFuZShwbGF5ZXIsIC1LRVlfUk9UQVRJT04pICogaW5wdXQuZGVsdGE7XG5cbiAgICBpZihwbGF5ZXIudGhydXN0IDwgTUFYX1NQRUVEKSB7XG4gICAgICBwbGF5ZXIudGhydXN0ICs9IDAuMDA1ICogaW5wdXQuZGVsdGE7XG4gICAgfVxuXG4gIH0gZWxzZSBpZihpbnB1dC5rZXlzLnVwKSB7XG4gICAgcGxheWVyLmJvZHkuYW5nbGUgKz0gcm90YXRlUGxhbmUocGxheWVyLCBLRVlfUk9UQVRJT04pICogaW5wdXQuZGVsdGE7XG4gIH1cblxuXG4gIHBsYXllci50aHJ1c3QgPSBNYXRoLm1pbihNQVhfU1BFRUQsIHBsYXllci50aHJ1c3QpO1xuXG4gIGNvbnN0IGRlbHRhQW5nbGUgPSBNYXRoLnNpbihwbGF5ZXIuYm9keS5hbmdsZSAtIFJBRElBTiAvIDIpO1xuICBwbGF5ZXIudGhydXN0IC09IDAuMDA1ICogZGVsdGFBbmdsZTtcblxuXG4gIGlmKHBsYXllci5ib2R5LnBvc2l0aW9uWzFdIDw9IEdST1VORF9MRVZFTCkge1xuICAgIHBsYXllci5ib2R5LnBvc2l0aW9uWzFdID0gR1JPVU5EX0xFVkVMO1xuICB9XG5cbiAgcGxheWVyLmJvZHkucG9zaXRpb25bMF0gKz0gcGxheWVyLnRocnVzdCAqIE1hdGguc2luKHBsYXllci5ib2R5LmFuZ2xlICsgUkFESUFOICogMC4yNSlcbiAgICAqIGlucHV0LmRlbHRhO1xuXG4gIHBsYXllci5ib2R5LnBvc2l0aW9uWzFdICs9IHBsYXllci50aHJ1c3QgKiBNYXRoLmNvcyhwbGF5ZXIuYm9keS5hbmdsZSArIFJBRElBTiAqIDAuMjUpXG4gICAgKiBpbnB1dC5kZWx0YTtcblxuICByZXR1cm4gcGxheWVyXG4gICAgOjpoYW5kbGVDb2xsaXNpb25zKHdvcmxkKVxuICAgIDo6Y3JlYXRlTmV3QnVsbGV0cyhpbnB1dCk7XG59XG5cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc2NyaXB0cy9wbGF5ZXIvaW5kZXguanNcbiAqKi8iLCJpbXBvcnQge2N0eH0gZnJvbSAncmVuZGVyL2NhbnZhcyc7XG5pbXBvcnQge2NhbWVyYVRyYW5zbGF0aW9ufSBmcm9tICdyZW5kZXIvdXRpbHMnO1xuXG5pbXBvcnQge3JlbmRlciBhcyByZW5kZXJQbGFuZX0gZnJvbSAncGxhbmUvcmVuZGVyJztcbmltcG9ydCB7cmVuZGVyIGFzIHJlbmRlckJhY2tncm91bmR9IGZyb20gJ2JhY2tncm91bmQvcmVuZGVyJztcbmltcG9ydCB7cmVuZGVyIGFzIHJlbmRlckJ1bGxldH0gZnJvbSAnYnVsbGV0L3JlbmRlcic7XG5pbXBvcnQge3JlbmRlciBhcyByZW5kZXJDcmF0ZX0gZnJvbSAnY3JhdGUvcmVuZGVyJztcblxuY29uc3QgR1JPVU5EX0xFVkVMID0gLTMwO1xuXG5pbXBvcnQgZnBzIGZyb20gJ2Zwcyc7XG5pbXBvcnQgJ3N0eWxlLmNzcyc7XG5cbmNvbnN0IHRpY2tlciA9IGZwcyh7ZXZlcnk6IDEwfSk7XG5cbmNvbnN0ICRmcHMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZnBzJyk7XG5cbnRpY2tlci5vbignZGF0YScsIGZyYW1lcmF0ZSA9PlxuICAkZnBzLmlubmVySFRNTCA9IE1hdGgucm91bmQoZnJhbWVyYXRlKVxuKTtcblxuZXhwb3J0IGZ1bmN0aW9uIHJlbmRlcih7cGxheWVyLCBidWxsZXRzLCBjcmF0ZXMsIHBsYW5lcywgZWxhcHNlZFRpbWV9KSB7XG4gIGN0eC5zYXZlKCk7XG5cbiAgY29uc3QgdHJhbnNsYXRpb24gPSBjYW1lcmFUcmFuc2xhdGlvbihwbGF5ZXIpO1xuICBjdHgudHJhbnNsYXRlKHRyYW5zbGF0aW9uLngsIHRyYW5zbGF0aW9uLnkpO1xuXG4gIHJlbmRlckJhY2tncm91bmQodHJhbnNsYXRpb24sIGVsYXBzZWRUaW1lKTtcblxuICBjdHgudHJhbnNsYXRlKDAsIEdST1VORF9MRVZFTCk7XG5cbiAgcmVuZGVyUGxhbmUocGxheWVyKTtcblxuICBidWxsZXRzLmJ1bGxldHMuZm9yRWFjaChyZW5kZXJCdWxsZXQpO1xuICBjcmF0ZXMuY3JhdGVzLmZvckVhY2gocmVuZGVyQ3JhdGUpO1xuXG4gIGZvcihsZXQgaWQgaW4gcGxhbmVzKSB7XG4gICAgcmVuZGVyUGxhbmUocGxhbmVzW2lkXSk7XG4gIH1cblxuICBjdHgucmVzdG9yZSgpO1xuICB0aWNrZXIudGljaygpO1xufVxuXG5cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc2NyaXB0cy9yZW5kZXIvaW5kZXguanNcbiAqKi8iLCJpbXBvcnQgYXVkaW8gZnJvbSAnYnJvd3Nlci1hdWRpbyc7XG5pbXBvcnQgQmFjb24gZnJvbSAnYmFjb25qcyc7XG5cbmNvbnN0IHNob290U291bmQgPSBhdWRpby5jcmVhdGUocmVxdWlyZSgnLi4vYXNzZXRzL3NvdW5kcy9zaG90Lm1wMycpKTtcblxuY29uc3QgJG11dGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbXV0ZScpO1xuJG11dGUuY2hlY2tlZCA9IEpTT04ucGFyc2Uod2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdzb3VuZHNNdXRlZCcpKTtcblxuZXhwb3J0IGNvbnN0IG11dGVkJCA9IEJhY29uLmZyb21FdmVudCgkbXV0ZSwgJ2NoYW5nZScpXG4gIC5tYXAoJy50YXJnZXQnKVxuICAubWFwKCcuY2hlY2tlZCcpXG4gIC5kb0FjdGlvbigodmFsdWUpID0+IHtcbiAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3NvdW5kc011dGVkJywgdmFsdWUpO1xuICB9KVxuICAudG9Qcm9wZXJ0eSgkbXV0ZS5jaGVja2VkKTtcblxuY29uc3Qgc291bmRCdXMkID0gbmV3IEJhY29uLkJ1cygpO1xuXG5zb3VuZEJ1cyQuZmlsdGVyKG11dGVkJC5ub3QoKSkub25WYWx1ZSgoe2J1bGxldHN9KSA9PiB7XG4gIGJ1bGxldHMuc291bmRzLmNyZWF0ZWQuZm9yRWFjaCgoKSA9PiBzaG9vdFNvdW5kLnBsYXkoKSk7XG59KTtcblxuZXhwb3J0IGNvbnN0IHBsYXlTb3VuZHMgPSA6OnNvdW5kQnVzJC5wdXNoO1xuXG5cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc2NyaXB0cy9zb3VuZHMuanNcbiAqKi8iLCJ2YXIgU2NhbGFyID0gcmVxdWlyZSgnLi9TY2FsYXInKTtcblxubW9kdWxlLmV4cG9ydHMgPSBMaW5lO1xuXG4vKipcbiAqIENvbnRhaW5lciBmb3IgbGluZS1yZWxhdGVkIGZ1bmN0aW9uc1xuICogQGNsYXNzIExpbmVcbiAqL1xuZnVuY3Rpb24gTGluZSgpe307XG5cbi8qKlxuICogQ29tcHV0ZSB0aGUgaW50ZXJzZWN0aW9uIGJldHdlZW4gdHdvIGxpbmVzLlxuICogQHN0YXRpY1xuICogQG1ldGhvZCBsaW5lSW50XG4gKiBAcGFyYW0gIHtBcnJheX0gIGwxICAgICAgICAgIExpbmUgdmVjdG9yIDFcbiAqIEBwYXJhbSAge0FycmF5fSAgbDIgICAgICAgICAgTGluZSB2ZWN0b3IgMlxuICogQHBhcmFtICB7TnVtYmVyfSBwcmVjaXNpb24gICBQcmVjaXNpb24gdG8gdXNlIHdoZW4gY2hlY2tpbmcgaWYgdGhlIGxpbmVzIGFyZSBwYXJhbGxlbFxuICogQHJldHVybiB7QXJyYXl9ICAgICAgICAgICAgICBUaGUgaW50ZXJzZWN0aW9uIHBvaW50LlxuICovXG5MaW5lLmxpbmVJbnQgPSBmdW5jdGlvbihsMSxsMixwcmVjaXNpb24pe1xuICAgIHByZWNpc2lvbiA9IHByZWNpc2lvbiB8fCAwO1xuICAgIHZhciBpID0gWzAsMF07IC8vIHBvaW50XG4gICAgdmFyIGExLCBiMSwgYzEsIGEyLCBiMiwgYzIsIGRldDsgLy8gc2NhbGFyc1xuICAgIGExID0gbDFbMV1bMV0gLSBsMVswXVsxXTtcbiAgICBiMSA9IGwxWzBdWzBdIC0gbDFbMV1bMF07XG4gICAgYzEgPSBhMSAqIGwxWzBdWzBdICsgYjEgKiBsMVswXVsxXTtcbiAgICBhMiA9IGwyWzFdWzFdIC0gbDJbMF1bMV07XG4gICAgYjIgPSBsMlswXVswXSAtIGwyWzFdWzBdO1xuICAgIGMyID0gYTIgKiBsMlswXVswXSArIGIyICogbDJbMF1bMV07XG4gICAgZGV0ID0gYTEgKiBiMiAtIGEyKmIxO1xuICAgIGlmICghU2NhbGFyLmVxKGRldCwgMCwgcHJlY2lzaW9uKSkgeyAvLyBsaW5lcyBhcmUgbm90IHBhcmFsbGVsXG4gICAgICAgIGlbMF0gPSAoYjIgKiBjMSAtIGIxICogYzIpIC8gZGV0O1xuICAgICAgICBpWzFdID0gKGExICogYzIgLSBhMiAqIGMxKSAvIGRldDtcbiAgICB9XG4gICAgcmV0dXJuIGk7XG59O1xuXG4vKipcbiAqIENoZWNrcyBpZiB0d28gbGluZSBzZWdtZW50cyBpbnRlcnNlY3RzLlxuICogQG1ldGhvZCBzZWdtZW50c0ludGVyc2VjdFxuICogQHBhcmFtIHtBcnJheX0gcDEgVGhlIHN0YXJ0IHZlcnRleCBvZiB0aGUgZmlyc3QgbGluZSBzZWdtZW50LlxuICogQHBhcmFtIHtBcnJheX0gcDIgVGhlIGVuZCB2ZXJ0ZXggb2YgdGhlIGZpcnN0IGxpbmUgc2VnbWVudC5cbiAqIEBwYXJhbSB7QXJyYXl9IHExIFRoZSBzdGFydCB2ZXJ0ZXggb2YgdGhlIHNlY29uZCBsaW5lIHNlZ21lbnQuXG4gKiBAcGFyYW0ge0FycmF5fSBxMiBUaGUgZW5kIHZlcnRleCBvZiB0aGUgc2Vjb25kIGxpbmUgc2VnbWVudC5cbiAqIEByZXR1cm4ge0Jvb2xlYW59IFRydWUgaWYgdGhlIHR3byBsaW5lIHNlZ21lbnRzIGludGVyc2VjdFxuICovXG5MaW5lLnNlZ21lbnRzSW50ZXJzZWN0ID0gZnVuY3Rpb24ocDEsIHAyLCBxMSwgcTIpe1xuICAgdmFyIGR4ID0gcDJbMF0gLSBwMVswXTtcbiAgIHZhciBkeSA9IHAyWzFdIC0gcDFbMV07XG4gICB2YXIgZGEgPSBxMlswXSAtIHExWzBdO1xuICAgdmFyIGRiID0gcTJbMV0gLSBxMVsxXTtcblxuICAgLy8gc2VnbWVudHMgYXJlIHBhcmFsbGVsXG4gICBpZihkYSpkeSAtIGRiKmR4ID09IDApXG4gICAgICByZXR1cm4gZmFsc2U7XG5cbiAgIHZhciBzID0gKGR4ICogKHExWzFdIC0gcDFbMV0pICsgZHkgKiAocDFbMF0gLSBxMVswXSkpIC8gKGRhICogZHkgLSBkYiAqIGR4KVxuICAgdmFyIHQgPSAoZGEgKiAocDFbMV0gLSBxMVsxXSkgKyBkYiAqIChxMVswXSAtIHAxWzBdKSkgLyAoZGIgKiBkeCAtIGRhICogZHkpXG5cbiAgIHJldHVybiAocz49MCAmJiBzPD0xICYmIHQ+PTAgJiYgdDw9MSk7XG59O1xuXG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9wMi9+L3BvbHktZGVjb21wL3NyYy9MaW5lLmpzXG4gKiogbW9kdWxlIGlkID0gMTAzXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgTGluZSA9IHJlcXVpcmUoXCIuL0xpbmVcIilcbiwgICBQb2ludCA9IHJlcXVpcmUoXCIuL1BvaW50XCIpXG4sICAgU2NhbGFyID0gcmVxdWlyZShcIi4vU2NhbGFyXCIpXG5cbm1vZHVsZS5leHBvcnRzID0gUG9seWdvbjtcblxuLyoqXG4gKiBQb2x5Z29uIGNsYXNzLlxuICogQGNsYXNzIFBvbHlnb25cbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBQb2x5Z29uKCl7XG5cbiAgICAvKipcbiAgICAgKiBWZXJ0aWNlcyB0aGF0IHRoaXMgcG9seWdvbiBjb25zaXN0cyBvZi4gQW4gYXJyYXkgb2YgYXJyYXkgb2YgbnVtYmVycywgZXhhbXBsZTogW1swLDBdLFsxLDBdLC4uXVxuICAgICAqIEBwcm9wZXJ0eSB2ZXJ0aWNlc1xuICAgICAqIEB0eXBlIHtBcnJheX1cbiAgICAgKi9cbiAgICB0aGlzLnZlcnRpY2VzID0gW107XG59XG5cbi8qKlxuICogR2V0IGEgdmVydGV4IGF0IHBvc2l0aW9uIGkuIEl0IGRvZXMgbm90IG1hdHRlciBpZiBpIGlzIG91dCBvZiBib3VuZHMsIHRoaXMgZnVuY3Rpb24gd2lsbCBqdXN0IGN5Y2xlLlxuICogQG1ldGhvZCBhdFxuICogQHBhcmFtICB7TnVtYmVyfSBpXG4gKiBAcmV0dXJuIHtBcnJheX1cbiAqL1xuUG9seWdvbi5wcm90b3R5cGUuYXQgPSBmdW5jdGlvbihpKXtcbiAgICB2YXIgdiA9IHRoaXMudmVydGljZXMsXG4gICAgICAgIHMgPSB2Lmxlbmd0aDtcbiAgICByZXR1cm4gdltpIDwgMCA/IGkgJSBzICsgcyA6IGkgJSBzXTtcbn07XG5cbi8qKlxuICogR2V0IGZpcnN0IHZlcnRleFxuICogQG1ldGhvZCBmaXJzdFxuICogQHJldHVybiB7QXJyYXl9XG4gKi9cblBvbHlnb24ucHJvdG90eXBlLmZpcnN0ID0gZnVuY3Rpb24oKXtcbiAgICByZXR1cm4gdGhpcy52ZXJ0aWNlc1swXTtcbn07XG5cbi8qKlxuICogR2V0IGxhc3QgdmVydGV4XG4gKiBAbWV0aG9kIGxhc3RcbiAqIEByZXR1cm4ge0FycmF5fVxuICovXG5Qb2x5Z29uLnByb3RvdHlwZS5sYXN0ID0gZnVuY3Rpb24oKXtcbiAgICByZXR1cm4gdGhpcy52ZXJ0aWNlc1t0aGlzLnZlcnRpY2VzLmxlbmd0aC0xXTtcbn07XG5cbi8qKlxuICogQ2xlYXIgdGhlIHBvbHlnb24gZGF0YVxuICogQG1ldGhvZCBjbGVhclxuICogQHJldHVybiB7QXJyYXl9XG4gKi9cblBvbHlnb24ucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24oKXtcbiAgICB0aGlzLnZlcnRpY2VzLmxlbmd0aCA9IDA7XG59O1xuXG4vKipcbiAqIEFwcGVuZCBwb2ludHMgXCJmcm9tXCIgdG8gXCJ0b1wiLTEgZnJvbSBhbiBvdGhlciBwb2x5Z29uIFwicG9seVwiIG9udG8gdGhpcyBvbmUuXG4gKiBAbWV0aG9kIGFwcGVuZFxuICogQHBhcmFtIHtQb2x5Z29ufSBwb2x5IFRoZSBwb2x5Z29uIHRvIGdldCBwb2ludHMgZnJvbS5cbiAqIEBwYXJhbSB7TnVtYmVyfSAgZnJvbSBUaGUgdmVydGV4IGluZGV4IGluIFwicG9seVwiLlxuICogQHBhcmFtIHtOdW1iZXJ9ICB0byBUaGUgZW5kIHZlcnRleCBpbmRleCBpbiBcInBvbHlcIi4gTm90ZSB0aGF0IHRoaXMgdmVydGV4IGlzIE5PVCBpbmNsdWRlZCB3aGVuIGFwcGVuZGluZy5cbiAqIEByZXR1cm4ge0FycmF5fVxuICovXG5Qb2x5Z29uLnByb3RvdHlwZS5hcHBlbmQgPSBmdW5jdGlvbihwb2x5LGZyb20sdG8pe1xuICAgIGlmKHR5cGVvZihmcm9tKSA9PSBcInVuZGVmaW5lZFwiKSB0aHJvdyBuZXcgRXJyb3IoXCJGcm9tIGlzIG5vdCBnaXZlbiFcIik7XG4gICAgaWYodHlwZW9mKHRvKSA9PSBcInVuZGVmaW5lZFwiKSAgIHRocm93IG5ldyBFcnJvcihcIlRvIGlzIG5vdCBnaXZlbiFcIik7XG5cbiAgICBpZih0by0xIDwgZnJvbSkgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImxvbDFcIik7XG4gICAgaWYodG8gPiBwb2x5LnZlcnRpY2VzLmxlbmd0aCkgICB0aHJvdyBuZXcgRXJyb3IoXCJsb2wyXCIpO1xuICAgIGlmKGZyb20gPCAwKSAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibG9sM1wiKTtcblxuICAgIGZvcih2YXIgaT1mcm9tOyBpPHRvOyBpKyspe1xuICAgICAgICB0aGlzLnZlcnRpY2VzLnB1c2gocG9seS52ZXJ0aWNlc1tpXSk7XG4gICAgfVxufTtcblxuLyoqXG4gKiBNYWtlIHN1cmUgdGhhdCB0aGUgcG9seWdvbiB2ZXJ0aWNlcyBhcmUgb3JkZXJlZCBjb3VudGVyLWNsb2Nrd2lzZS5cbiAqIEBtZXRob2QgbWFrZUNDV1xuICovXG5Qb2x5Z29uLnByb3RvdHlwZS5tYWtlQ0NXID0gZnVuY3Rpb24oKXtcbiAgICB2YXIgYnIgPSAwLFxuICAgICAgICB2ID0gdGhpcy52ZXJ0aWNlcztcblxuICAgIC8vIGZpbmQgYm90dG9tIHJpZ2h0IHBvaW50XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCB0aGlzLnZlcnRpY2VzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGlmICh2W2ldWzFdIDwgdlticl1bMV0gfHwgKHZbaV1bMV0gPT0gdlticl1bMV0gJiYgdltpXVswXSA+IHZbYnJdWzBdKSkge1xuICAgICAgICAgICAgYnIgPSBpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gcmV2ZXJzZSBwb2x5IGlmIGNsb2Nrd2lzZVxuICAgIGlmICghUG9pbnQubGVmdCh0aGlzLmF0KGJyIC0gMSksIHRoaXMuYXQoYnIpLCB0aGlzLmF0KGJyICsgMSkpKSB7XG4gICAgICAgIHRoaXMucmV2ZXJzZSgpO1xuICAgIH1cbn07XG5cbi8qKlxuICogUmV2ZXJzZSB0aGUgdmVydGljZXMgaW4gdGhlIHBvbHlnb25cbiAqIEBtZXRob2QgcmV2ZXJzZVxuICovXG5Qb2x5Z29uLnByb3RvdHlwZS5yZXZlcnNlID0gZnVuY3Rpb24oKXtcbiAgICB2YXIgdG1wID0gW107XG4gICAgZm9yKHZhciBpPTAsIE49dGhpcy52ZXJ0aWNlcy5sZW5ndGg7IGkhPT1OOyBpKyspe1xuICAgICAgICB0bXAucHVzaCh0aGlzLnZlcnRpY2VzLnBvcCgpKTtcbiAgICB9XG4gICAgdGhpcy52ZXJ0aWNlcyA9IHRtcDtcbn07XG5cbi8qKlxuICogQ2hlY2sgaWYgYSBwb2ludCBpbiB0aGUgcG9seWdvbiBpcyBhIHJlZmxleCBwb2ludFxuICogQG1ldGhvZCBpc1JlZmxleFxuICogQHBhcmFtICB7TnVtYmVyfSAgaVxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqL1xuUG9seWdvbi5wcm90b3R5cGUuaXNSZWZsZXggPSBmdW5jdGlvbihpKXtcbiAgICByZXR1cm4gUG9pbnQucmlnaHQodGhpcy5hdChpIC0gMSksIHRoaXMuYXQoaSksIHRoaXMuYXQoaSArIDEpKTtcbn07XG5cbnZhciB0bXBMaW5lMT1bXSxcbiAgICB0bXBMaW5lMj1bXTtcblxuLyoqXG4gKiBDaGVjayBpZiB0d28gdmVydGljZXMgaW4gdGhlIHBvbHlnb24gY2FuIHNlZSBlYWNoIG90aGVyXG4gKiBAbWV0aG9kIGNhblNlZVxuICogQHBhcmFtICB7TnVtYmVyfSBhIFZlcnRleCBpbmRleCAxXG4gKiBAcGFyYW0gIHtOdW1iZXJ9IGIgVmVydGV4IGluZGV4IDJcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKi9cblBvbHlnb24ucHJvdG90eXBlLmNhblNlZSA9IGZ1bmN0aW9uKGEsYikge1xuICAgIHZhciBwLCBkaXN0LCBsMT10bXBMaW5lMSwgbDI9dG1wTGluZTI7XG5cbiAgICBpZiAoUG9pbnQubGVmdE9uKHRoaXMuYXQoYSArIDEpLCB0aGlzLmF0KGEpLCB0aGlzLmF0KGIpKSAmJiBQb2ludC5yaWdodE9uKHRoaXMuYXQoYSAtIDEpLCB0aGlzLmF0KGEpLCB0aGlzLmF0KGIpKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGRpc3QgPSBQb2ludC5zcWRpc3QodGhpcy5hdChhKSwgdGhpcy5hdChiKSk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgIT09IHRoaXMudmVydGljZXMubGVuZ3RoOyArK2kpIHsgLy8gZm9yIGVhY2ggZWRnZVxuICAgICAgICBpZiAoKGkgKyAxKSAlIHRoaXMudmVydGljZXMubGVuZ3RoID09PSBhIHx8IGkgPT09IGEpIC8vIGlnbm9yZSBpbmNpZGVudCBlZGdlc1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIGlmIChQb2ludC5sZWZ0T24odGhpcy5hdChhKSwgdGhpcy5hdChiKSwgdGhpcy5hdChpICsgMSkpICYmIFBvaW50LnJpZ2h0T24odGhpcy5hdChhKSwgdGhpcy5hdChiKSwgdGhpcy5hdChpKSkpIHsgLy8gaWYgZGlhZyBpbnRlcnNlY3RzIGFuIGVkZ2VcbiAgICAgICAgICAgIGwxWzBdID0gdGhpcy5hdChhKTtcbiAgICAgICAgICAgIGwxWzFdID0gdGhpcy5hdChiKTtcbiAgICAgICAgICAgIGwyWzBdID0gdGhpcy5hdChpKTtcbiAgICAgICAgICAgIGwyWzFdID0gdGhpcy5hdChpICsgMSk7XG4gICAgICAgICAgICBwID0gTGluZS5saW5lSW50KGwxLGwyKTtcbiAgICAgICAgICAgIGlmIChQb2ludC5zcWRpc3QodGhpcy5hdChhKSwgcCkgPCBkaXN0KSB7IC8vIGlmIGVkZ2UgaXMgYmxvY2tpbmcgdmlzaWJpbGl0eSB0byBiXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG59O1xuXG4vKipcbiAqIENvcHkgdGhlIHBvbHlnb24gZnJvbSB2ZXJ0ZXggaSB0byB2ZXJ0ZXggai5cbiAqIEBtZXRob2QgY29weVxuICogQHBhcmFtICB7TnVtYmVyfSBpXG4gKiBAcGFyYW0gIHtOdW1iZXJ9IGpcbiAqIEBwYXJhbSAge1BvbHlnb259IFt0YXJnZXRQb2x5XSAgIE9wdGlvbmFsIHRhcmdldCBwb2x5Z29uIHRvIHNhdmUgaW4uXG4gKiBAcmV0dXJuIHtQb2x5Z29ufSAgICAgICAgICAgICAgICBUaGUgcmVzdWx0aW5nIGNvcHkuXG4gKi9cblBvbHlnb24ucHJvdG90eXBlLmNvcHkgPSBmdW5jdGlvbihpLGosdGFyZ2V0UG9seSl7XG4gICAgdmFyIHAgPSB0YXJnZXRQb2x5IHx8IG5ldyBQb2x5Z29uKCk7XG4gICAgcC5jbGVhcigpO1xuICAgIGlmIChpIDwgaikge1xuICAgICAgICAvLyBJbnNlcnQgYWxsIHZlcnRpY2VzIGZyb20gaSB0byBqXG4gICAgICAgIGZvcih2YXIgaz1pOyBrPD1qOyBrKyspXG4gICAgICAgICAgICBwLnZlcnRpY2VzLnB1c2godGhpcy52ZXJ0aWNlc1trXSk7XG5cbiAgICB9IGVsc2Uge1xuXG4gICAgICAgIC8vIEluc2VydCB2ZXJ0aWNlcyAwIHRvIGpcbiAgICAgICAgZm9yKHZhciBrPTA7IGs8PWo7IGsrKylcbiAgICAgICAgICAgIHAudmVydGljZXMucHVzaCh0aGlzLnZlcnRpY2VzW2tdKTtcblxuICAgICAgICAvLyBJbnNlcnQgdmVydGljZXMgaSB0byBlbmRcbiAgICAgICAgZm9yKHZhciBrPWk7IGs8dGhpcy52ZXJ0aWNlcy5sZW5ndGg7IGsrKylcbiAgICAgICAgICAgIHAudmVydGljZXMucHVzaCh0aGlzLnZlcnRpY2VzW2tdKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcDtcbn07XG5cbi8qKlxuICogRGVjb21wb3NlcyB0aGUgcG9seWdvbiBpbnRvIGNvbnZleCBwaWVjZXMuIFJldHVybnMgYSBsaXN0IG9mIGVkZ2VzIFtbcDEscDJdLFtwMixwM10sLi4uXSB0aGF0IGN1dHMgdGhlIHBvbHlnb24uXG4gKiBOb3RlIHRoYXQgdGhpcyBhbGdvcml0aG0gaGFzIGNvbXBsZXhpdHkgTyhOXjQpIGFuZCB3aWxsIGJlIHZlcnkgc2xvdyBmb3IgcG9seWdvbnMgd2l0aCBtYW55IHZlcnRpY2VzLlxuICogQG1ldGhvZCBnZXRDdXRFZGdlc1xuICogQHJldHVybiB7QXJyYXl9XG4gKi9cblBvbHlnb24ucHJvdG90eXBlLmdldEN1dEVkZ2VzID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIG1pbj1bXSwgdG1wMT1bXSwgdG1wMj1bXSwgdG1wUG9seSA9IG5ldyBQb2x5Z29uKCk7XG4gICAgdmFyIG5EaWFncyA9IE51bWJlci5NQVhfVkFMVUU7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMudmVydGljZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNSZWZsZXgoaSkpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdGhpcy52ZXJ0aWNlcy5sZW5ndGg7ICsraikge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNhblNlZShpLCBqKSkge1xuICAgICAgICAgICAgICAgICAgICB0bXAxID0gdGhpcy5jb3B5KGksIGosIHRtcFBvbHkpLmdldEN1dEVkZ2VzKCk7XG4gICAgICAgICAgICAgICAgICAgIHRtcDIgPSB0aGlzLmNvcHkoaiwgaSwgdG1wUG9seSkuZ2V0Q3V0RWRnZXMoKTtcblxuICAgICAgICAgICAgICAgICAgICBmb3IodmFyIGs9MDsgazx0bXAyLmxlbmd0aDsgaysrKVxuICAgICAgICAgICAgICAgICAgICAgICAgdG1wMS5wdXNoKHRtcDJba10pO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0bXAxLmxlbmd0aCA8IG5EaWFncykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWluID0gdG1wMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5EaWFncyA9IHRtcDEubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgbWluLnB1c2goW3RoaXMuYXQoaSksIHRoaXMuYXQoaildKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBtaW47XG59O1xuXG4vKipcbiAqIERlY29tcG9zZXMgdGhlIHBvbHlnb24gaW50byBvbmUgb3IgbW9yZSBjb252ZXggc3ViLVBvbHlnb25zLlxuICogQG1ldGhvZCBkZWNvbXBcbiAqIEByZXR1cm4ge0FycmF5fSBBbiBhcnJheSBvciBQb2x5Z29uIG9iamVjdHMuXG4gKi9cblBvbHlnb24ucHJvdG90eXBlLmRlY29tcCA9IGZ1bmN0aW9uKCl7XG4gICAgdmFyIGVkZ2VzID0gdGhpcy5nZXRDdXRFZGdlcygpO1xuICAgIGlmKGVkZ2VzLmxlbmd0aCA+IDApXG4gICAgICAgIHJldHVybiB0aGlzLnNsaWNlKGVkZ2VzKTtcbiAgICBlbHNlXG4gICAgICAgIHJldHVybiBbdGhpc107XG59O1xuXG4vKipcbiAqIFNsaWNlcyB0aGUgcG9seWdvbiBnaXZlbiBvbmUgb3IgbW9yZSBjdXQgZWRnZXMuIElmIGdpdmVuIG9uZSwgdGhpcyBmdW5jdGlvbiB3aWxsIHJldHVybiB0d28gcG9seWdvbnMgKGZhbHNlIG9uIGZhaWx1cmUpLiBJZiBtYW55LCBhbiBhcnJheSBvZiBwb2x5Z29ucy5cbiAqIEBtZXRob2Qgc2xpY2VcbiAqIEBwYXJhbSB7QXJyYXl9IGN1dEVkZ2VzIEEgbGlzdCBvZiBlZGdlcywgYXMgcmV0dXJuZWQgYnkgLmdldEN1dEVkZ2VzKClcbiAqIEByZXR1cm4ge0FycmF5fVxuICovXG5Qb2x5Z29uLnByb3RvdHlwZS5zbGljZSA9IGZ1bmN0aW9uKGN1dEVkZ2VzKXtcbiAgICBpZihjdXRFZGdlcy5sZW5ndGggPT0gMCkgcmV0dXJuIFt0aGlzXTtcbiAgICBpZihjdXRFZGdlcyBpbnN0YW5jZW9mIEFycmF5ICYmIGN1dEVkZ2VzLmxlbmd0aCAmJiBjdXRFZGdlc1swXSBpbnN0YW5jZW9mIEFycmF5ICYmIGN1dEVkZ2VzWzBdLmxlbmd0aD09MiAmJiBjdXRFZGdlc1swXVswXSBpbnN0YW5jZW9mIEFycmF5KXtcblxuICAgICAgICB2YXIgcG9seXMgPSBbdGhpc107XG5cbiAgICAgICAgZm9yKHZhciBpPTA7IGk8Y3V0RWRnZXMubGVuZ3RoOyBpKyspe1xuICAgICAgICAgICAgdmFyIGN1dEVkZ2UgPSBjdXRFZGdlc1tpXTtcbiAgICAgICAgICAgIC8vIEN1dCBhbGwgcG9seXNcbiAgICAgICAgICAgIGZvcih2YXIgaj0wOyBqPHBvbHlzLmxlbmd0aDsgaisrKXtcbiAgICAgICAgICAgICAgICB2YXIgcG9seSA9IHBvbHlzW2pdO1xuICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBwb2x5LnNsaWNlKGN1dEVkZ2UpO1xuICAgICAgICAgICAgICAgIGlmKHJlc3VsdCl7XG4gICAgICAgICAgICAgICAgICAgIC8vIEZvdW5kIHBvbHkhIEN1dCBhbmQgcXVpdFxuICAgICAgICAgICAgICAgICAgICBwb2x5cy5zcGxpY2UoaiwxKTtcbiAgICAgICAgICAgICAgICAgICAgcG9seXMucHVzaChyZXN1bHRbMF0scmVzdWx0WzFdKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHBvbHlzO1xuICAgIH0gZWxzZSB7XG5cbiAgICAgICAgLy8gV2FzIGdpdmVuIG9uZSBlZGdlXG4gICAgICAgIHZhciBjdXRFZGdlID0gY3V0RWRnZXM7XG4gICAgICAgIHZhciBpID0gdGhpcy52ZXJ0aWNlcy5pbmRleE9mKGN1dEVkZ2VbMF0pO1xuICAgICAgICB2YXIgaiA9IHRoaXMudmVydGljZXMuaW5kZXhPZihjdXRFZGdlWzFdKTtcblxuICAgICAgICBpZihpICE9IC0xICYmIGogIT0gLTEpe1xuICAgICAgICAgICAgcmV0dXJuIFt0aGlzLmNvcHkoaSxqKSxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb3B5KGosaSldO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxufTtcblxuLyoqXG4gKiBDaGVja3MgdGhhdCB0aGUgbGluZSBzZWdtZW50cyBvZiB0aGlzIHBvbHlnb24gZG8gbm90IGludGVyc2VjdCBlYWNoIG90aGVyLlxuICogQG1ldGhvZCBpc1NpbXBsZVxuICogQHBhcmFtICB7QXJyYXl9IHBhdGggQW4gYXJyYXkgb2YgdmVydGljZXMgZS5nLiBbWzAsMF0sWzAsMV0sLi4uXVxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqIEB0b2RvIFNob3VsZCBpdCBjaGVjayBhbGwgc2VnbWVudHMgd2l0aCBhbGwgb3RoZXJzP1xuICovXG5Qb2x5Z29uLnByb3RvdHlwZS5pc1NpbXBsZSA9IGZ1bmN0aW9uKCl7XG4gICAgdmFyIHBhdGggPSB0aGlzLnZlcnRpY2VzO1xuICAgIC8vIENoZWNrXG4gICAgZm9yKHZhciBpPTA7IGk8cGF0aC5sZW5ndGgtMTsgaSsrKXtcbiAgICAgICAgZm9yKHZhciBqPTA7IGo8aS0xOyBqKyspe1xuICAgICAgICAgICAgaWYoTGluZS5zZWdtZW50c0ludGVyc2VjdChwYXRoW2ldLCBwYXRoW2krMV0sIHBhdGhbal0sIHBhdGhbaisxXSApKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBDaGVjayB0aGUgc2VnbWVudCBiZXR3ZWVuIHRoZSBsYXN0IGFuZCB0aGUgZmlyc3QgcG9pbnQgdG8gYWxsIG90aGVyc1xuICAgIGZvcih2YXIgaT0xOyBpPHBhdGgubGVuZ3RoLTI7IGkrKyl7XG4gICAgICAgIGlmKExpbmUuc2VnbWVudHNJbnRlcnNlY3QocGF0aFswXSwgcGF0aFtwYXRoLmxlbmd0aC0xXSwgcGF0aFtpXSwgcGF0aFtpKzFdICkpe1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG59O1xuXG5mdW5jdGlvbiBnZXRJbnRlcnNlY3Rpb25Qb2ludChwMSwgcDIsIHExLCBxMiwgZGVsdGEpe1xuICAgIGRlbHRhID0gZGVsdGEgfHwgMDtcbiAgIHZhciBhMSA9IHAyWzFdIC0gcDFbMV07XG4gICB2YXIgYjEgPSBwMVswXSAtIHAyWzBdO1xuICAgdmFyIGMxID0gKGExICogcDFbMF0pICsgKGIxICogcDFbMV0pO1xuICAgdmFyIGEyID0gcTJbMV0gLSBxMVsxXTtcbiAgIHZhciBiMiA9IHExWzBdIC0gcTJbMF07XG4gICB2YXIgYzIgPSAoYTIgKiBxMVswXSkgKyAoYjIgKiBxMVsxXSk7XG4gICB2YXIgZGV0ID0gKGExICogYjIpIC0gKGEyICogYjEpO1xuXG4gICBpZighU2NhbGFyLmVxKGRldCwwLGRlbHRhKSlcbiAgICAgIHJldHVybiBbKChiMiAqIGMxKSAtIChiMSAqIGMyKSkgLyBkZXQsICgoYTEgKiBjMikgLSAoYTIgKiBjMSkpIC8gZGV0XVxuICAgZWxzZVxuICAgICAgcmV0dXJuIFswLDBdXG59XG5cbi8qKlxuICogUXVpY2tseSBkZWNvbXBvc2UgdGhlIFBvbHlnb24gaW50byBjb252ZXggc3ViLXBvbHlnb25zLlxuICogQG1ldGhvZCBxdWlja0RlY29tcFxuICogQHBhcmFtICB7QXJyYXl9IHJlc3VsdFxuICogQHBhcmFtICB7QXJyYXl9IFtyZWZsZXhWZXJ0aWNlc11cbiAqIEBwYXJhbSAge0FycmF5fSBbc3RlaW5lclBvaW50c11cbiAqIEBwYXJhbSAge051bWJlcn0gW2RlbHRhXVxuICogQHBhcmFtICB7TnVtYmVyfSBbbWF4bGV2ZWxdXG4gKiBAcGFyYW0gIHtOdW1iZXJ9IFtsZXZlbF1cbiAqIEByZXR1cm4ge0FycmF5fVxuICovXG5Qb2x5Z29uLnByb3RvdHlwZS5xdWlja0RlY29tcCA9IGZ1bmN0aW9uKHJlc3VsdCxyZWZsZXhWZXJ0aWNlcyxzdGVpbmVyUG9pbnRzLGRlbHRhLG1heGxldmVsLGxldmVsKXtcbiAgICBtYXhsZXZlbCA9IG1heGxldmVsIHx8IDEwMDtcbiAgICBsZXZlbCA9IGxldmVsIHx8IDA7XG4gICAgZGVsdGEgPSBkZWx0YSB8fCAyNTtcbiAgICByZXN1bHQgPSB0eXBlb2YocmVzdWx0KSE9XCJ1bmRlZmluZWRcIiA/IHJlc3VsdCA6IFtdO1xuICAgIHJlZmxleFZlcnRpY2VzID0gcmVmbGV4VmVydGljZXMgfHwgW107XG4gICAgc3RlaW5lclBvaW50cyA9IHN0ZWluZXJQb2ludHMgfHwgW107XG5cbiAgICB2YXIgdXBwZXJJbnQ9WzAsMF0sIGxvd2VySW50PVswLDBdLCBwPVswLDBdOyAvLyBQb2ludHNcbiAgICB2YXIgdXBwZXJEaXN0PTAsIGxvd2VyRGlzdD0wLCBkPTAsIGNsb3Nlc3REaXN0PTA7IC8vIHNjYWxhcnNcbiAgICB2YXIgdXBwZXJJbmRleD0wLCBsb3dlckluZGV4PTAsIGNsb3Nlc3RJbmRleD0wOyAvLyBJbnRlZ2Vyc1xuICAgIHZhciBsb3dlclBvbHk9bmV3IFBvbHlnb24oKSwgdXBwZXJQb2x5PW5ldyBQb2x5Z29uKCk7IC8vIHBvbHlnb25zXG4gICAgdmFyIHBvbHkgPSB0aGlzLFxuICAgICAgICB2ID0gdGhpcy52ZXJ0aWNlcztcblxuICAgIGlmKHYubGVuZ3RoIDwgMykgcmV0dXJuIHJlc3VsdDtcblxuICAgIGxldmVsKys7XG4gICAgaWYobGV2ZWwgPiBtYXhsZXZlbCl7XG4gICAgICAgIGNvbnNvbGUud2FybihcInF1aWNrRGVjb21wOiBtYXggbGV2ZWwgKFwiK21heGxldmVsK1wiKSByZWFjaGVkLlwiKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMudmVydGljZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgaWYgKHBvbHkuaXNSZWZsZXgoaSkpIHtcbiAgICAgICAgICAgIHJlZmxleFZlcnRpY2VzLnB1c2gocG9seS52ZXJ0aWNlc1tpXSk7XG4gICAgICAgICAgICB1cHBlckRpc3QgPSBsb3dlckRpc3QgPSBOdW1iZXIuTUFYX1ZBTFVFO1xuXG5cbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdGhpcy52ZXJ0aWNlcy5sZW5ndGg7ICsraikge1xuICAgICAgICAgICAgICAgIGlmIChQb2ludC5sZWZ0KHBvbHkuYXQoaSAtIDEpLCBwb2x5LmF0KGkpLCBwb2x5LmF0KGopKVxuICAgICAgICAgICAgICAgICAgICAgICAgJiYgUG9pbnQucmlnaHRPbihwb2x5LmF0KGkgLSAxKSwgcG9seS5hdChpKSwgcG9seS5hdChqIC0gMSkpKSB7IC8vIGlmIGxpbmUgaW50ZXJzZWN0cyB3aXRoIGFuIGVkZ2VcbiAgICAgICAgICAgICAgICAgICAgcCA9IGdldEludGVyc2VjdGlvblBvaW50KHBvbHkuYXQoaSAtIDEpLCBwb2x5LmF0KGkpLCBwb2x5LmF0KGopLCBwb2x5LmF0KGogLSAxKSk7IC8vIGZpbmQgdGhlIHBvaW50IG9mIGludGVyc2VjdGlvblxuICAgICAgICAgICAgICAgICAgICBpZiAoUG9pbnQucmlnaHQocG9seS5hdChpICsgMSksIHBvbHkuYXQoaSksIHApKSB7IC8vIG1ha2Ugc3VyZSBpdCdzIGluc2lkZSB0aGUgcG9seVxuICAgICAgICAgICAgICAgICAgICAgICAgZCA9IFBvaW50LnNxZGlzdChwb2x5LnZlcnRpY2VzW2ldLCBwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkIDwgbG93ZXJEaXN0KSB7IC8vIGtlZXAgb25seSB0aGUgY2xvc2VzdCBpbnRlcnNlY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb3dlckRpc3QgPSBkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvd2VySW50ID0gcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb3dlckluZGV4ID0gajtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoUG9pbnQubGVmdChwb2x5LmF0KGkgKyAxKSwgcG9seS5hdChpKSwgcG9seS5hdChqICsgMSkpXG4gICAgICAgICAgICAgICAgICAgICAgICAmJiBQb2ludC5yaWdodE9uKHBvbHkuYXQoaSArIDEpLCBwb2x5LmF0KGkpLCBwb2x5LmF0KGopKSkge1xuICAgICAgICAgICAgICAgICAgICBwID0gZ2V0SW50ZXJzZWN0aW9uUG9pbnQocG9seS5hdChpICsgMSksIHBvbHkuYXQoaSksIHBvbHkuYXQoaiksIHBvbHkuYXQoaiArIDEpKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKFBvaW50LmxlZnQocG9seS5hdChpIC0gMSksIHBvbHkuYXQoaSksIHApKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkID0gUG9pbnQuc3FkaXN0KHBvbHkudmVydGljZXNbaV0sIHApO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGQgPCB1cHBlckRpc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cHBlckRpc3QgPSBkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwcGVySW50ID0gcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cHBlckluZGV4ID0gajtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gaWYgdGhlcmUgYXJlIG5vIHZlcnRpY2VzIHRvIGNvbm5lY3QgdG8sIGNob29zZSBhIHBvaW50IGluIHRoZSBtaWRkbGVcbiAgICAgICAgICAgIGlmIChsb3dlckluZGV4ID09ICh1cHBlckluZGV4ICsgMSkgJSB0aGlzLnZlcnRpY2VzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJDYXNlIDE6IFZlcnRleChcIitpK1wiKSwgbG93ZXJJbmRleChcIitsb3dlckluZGV4K1wiKSwgdXBwZXJJbmRleChcIit1cHBlckluZGV4K1wiKSwgcG9seS5zaXplKFwiK3RoaXMudmVydGljZXMubGVuZ3RoK1wiKVwiKTtcbiAgICAgICAgICAgICAgICBwWzBdID0gKGxvd2VySW50WzBdICsgdXBwZXJJbnRbMF0pIC8gMjtcbiAgICAgICAgICAgICAgICBwWzFdID0gKGxvd2VySW50WzFdICsgdXBwZXJJbnRbMV0pIC8gMjtcbiAgICAgICAgICAgICAgICBzdGVpbmVyUG9pbnRzLnB1c2gocCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoaSA8IHVwcGVySW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgLy9sb3dlclBvbHkuaW5zZXJ0KGxvd2VyUG9seS5lbmQoKSwgcG9seS5iZWdpbigpICsgaSwgcG9seS5iZWdpbigpICsgdXBwZXJJbmRleCArIDEpO1xuICAgICAgICAgICAgICAgICAgICBsb3dlclBvbHkuYXBwZW5kKHBvbHksIGksIHVwcGVySW5kZXgrMSk7XG4gICAgICAgICAgICAgICAgICAgIGxvd2VyUG9seS52ZXJ0aWNlcy5wdXNoKHApO1xuICAgICAgICAgICAgICAgICAgICB1cHBlclBvbHkudmVydGljZXMucHVzaChwKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxvd2VySW5kZXggIT0gMCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL3VwcGVyUG9seS5pbnNlcnQodXBwZXJQb2x5LmVuZCgpLCBwb2x5LmJlZ2luKCkgKyBsb3dlckluZGV4LCBwb2x5LmVuZCgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwcGVyUG9seS5hcHBlbmQocG9seSxsb3dlckluZGV4LHBvbHkudmVydGljZXMubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvL3VwcGVyUG9seS5pbnNlcnQodXBwZXJQb2x5LmVuZCgpLCBwb2x5LmJlZ2luKCksIHBvbHkuYmVnaW4oKSArIGkgKyAxKTtcbiAgICAgICAgICAgICAgICAgICAgdXBwZXJQb2x5LmFwcGVuZChwb2x5LDAsaSsxKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaSAhPSAwKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vbG93ZXJQb2x5Lmluc2VydChsb3dlclBvbHkuZW5kKCksIHBvbHkuYmVnaW4oKSArIGksIHBvbHkuZW5kKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbG93ZXJQb2x5LmFwcGVuZChwb2x5LGkscG9seS52ZXJ0aWNlcy5sZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vbG93ZXJQb2x5Lmluc2VydChsb3dlclBvbHkuZW5kKCksIHBvbHkuYmVnaW4oKSwgcG9seS5iZWdpbigpICsgdXBwZXJJbmRleCArIDEpO1xuICAgICAgICAgICAgICAgICAgICBsb3dlclBvbHkuYXBwZW5kKHBvbHksMCx1cHBlckluZGV4KzEpO1xuICAgICAgICAgICAgICAgICAgICBsb3dlclBvbHkudmVydGljZXMucHVzaChwKTtcbiAgICAgICAgICAgICAgICAgICAgdXBwZXJQb2x5LnZlcnRpY2VzLnB1c2gocCk7XG4gICAgICAgICAgICAgICAgICAgIC8vdXBwZXJQb2x5Lmluc2VydCh1cHBlclBvbHkuZW5kKCksIHBvbHkuYmVnaW4oKSArIGxvd2VySW5kZXgsIHBvbHkuYmVnaW4oKSArIGkgKyAxKTtcbiAgICAgICAgICAgICAgICAgICAgdXBwZXJQb2x5LmFwcGVuZChwb2x5LGxvd2VySW5kZXgsaSsxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGNvbm5lY3QgdG8gdGhlIGNsb3Nlc3QgcG9pbnQgd2l0aGluIHRoZSB0cmlhbmdsZVxuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJDYXNlIDI6IFZlcnRleChcIitpK1wiKSwgY2xvc2VzdEluZGV4KFwiK2Nsb3Nlc3RJbmRleCtcIiksIHBvbHkuc2l6ZShcIit0aGlzLnZlcnRpY2VzLmxlbmd0aCtcIilcXG5cIik7XG5cbiAgICAgICAgICAgICAgICBpZiAobG93ZXJJbmRleCA+IHVwcGVySW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgdXBwZXJJbmRleCArPSB0aGlzLnZlcnRpY2VzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2xvc2VzdERpc3QgPSBOdW1iZXIuTUFYX1ZBTFVFO1xuXG4gICAgICAgICAgICAgICAgaWYodXBwZXJJbmRleCA8IGxvd2VySW5kZXgpe1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSBsb3dlckluZGV4OyBqIDw9IHVwcGVySW5kZXg7ICsraikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoUG9pbnQubGVmdE9uKHBvbHkuYXQoaSAtIDEpLCBwb2x5LmF0KGkpLCBwb2x5LmF0KGopKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmIFBvaW50LnJpZ2h0T24ocG9seS5hdChpICsgMSksIHBvbHkuYXQoaSksIHBvbHkuYXQoaikpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkID0gUG9pbnQuc3FkaXN0KHBvbHkuYXQoaSksIHBvbHkuYXQoaikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGQgPCBjbG9zZXN0RGlzdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsb3Nlc3REaXN0ID0gZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbG9zZXN0SW5kZXggPSBqICUgdGhpcy52ZXJ0aWNlcy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoaSA8IGNsb3Nlc3RJbmRleCkge1xuICAgICAgICAgICAgICAgICAgICBsb3dlclBvbHkuYXBwZW5kKHBvbHksaSxjbG9zZXN0SW5kZXgrMSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjbG9zZXN0SW5kZXggIT0gMCl7XG4gICAgICAgICAgICAgICAgICAgICAgICB1cHBlclBvbHkuYXBwZW5kKHBvbHksY2xvc2VzdEluZGV4LHYubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB1cHBlclBvbHkuYXBwZW5kKHBvbHksMCxpKzEpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpICE9IDApe1xuICAgICAgICAgICAgICAgICAgICAgICAgbG93ZXJQb2x5LmFwcGVuZChwb2x5LGksdi5sZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGxvd2VyUG9seS5hcHBlbmQocG9seSwwLGNsb3Nlc3RJbmRleCsxKTtcbiAgICAgICAgICAgICAgICAgICAgdXBwZXJQb2x5LmFwcGVuZChwb2x5LGNsb3Nlc3RJbmRleCxpKzEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gc29sdmUgc21hbGxlc3QgcG9seSBmaXJzdFxuICAgICAgICAgICAgaWYgKGxvd2VyUG9seS52ZXJ0aWNlcy5sZW5ndGggPCB1cHBlclBvbHkudmVydGljZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgbG93ZXJQb2x5LnF1aWNrRGVjb21wKHJlc3VsdCxyZWZsZXhWZXJ0aWNlcyxzdGVpbmVyUG9pbnRzLGRlbHRhLG1heGxldmVsLGxldmVsKTtcbiAgICAgICAgICAgICAgICB1cHBlclBvbHkucXVpY2tEZWNvbXAocmVzdWx0LHJlZmxleFZlcnRpY2VzLHN0ZWluZXJQb2ludHMsZGVsdGEsbWF4bGV2ZWwsbGV2ZWwpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB1cHBlclBvbHkucXVpY2tEZWNvbXAocmVzdWx0LHJlZmxleFZlcnRpY2VzLHN0ZWluZXJQb2ludHMsZGVsdGEsbWF4bGV2ZWwsbGV2ZWwpO1xuICAgICAgICAgICAgICAgIGxvd2VyUG9seS5xdWlja0RlY29tcChyZXN1bHQscmVmbGV4VmVydGljZXMsc3RlaW5lclBvaW50cyxkZWx0YSxtYXhsZXZlbCxsZXZlbCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVzdWx0LnB1c2godGhpcyk7XG5cbiAgICByZXR1cm4gcmVzdWx0O1xufTtcblxuLyoqXG4gKiBSZW1vdmUgY29sbGluZWFyIHBvaW50cyBpbiB0aGUgcG9seWdvbi5cbiAqIEBtZXRob2QgcmVtb3ZlQ29sbGluZWFyUG9pbnRzXG4gKiBAcGFyYW0gIHtOdW1iZXJ9IFtwcmVjaXNpb25dIFRoZSB0aHJlc2hvbGQgYW5nbGUgdG8gdXNlIHdoZW4gZGV0ZXJtaW5pbmcgd2hldGhlciB0d28gZWRnZXMgYXJlIGNvbGxpbmVhci4gVXNlIHplcm8gZm9yIGZpbmVzdCBwcmVjaXNpb24uXG4gKiBAcmV0dXJuIHtOdW1iZXJ9ICAgICAgICAgICBUaGUgbnVtYmVyIG9mIHBvaW50cyByZW1vdmVkXG4gKi9cblBvbHlnb24ucHJvdG90eXBlLnJlbW92ZUNvbGxpbmVhclBvaW50cyA9IGZ1bmN0aW9uKHByZWNpc2lvbil7XG4gICAgdmFyIG51bSA9IDA7XG4gICAgZm9yKHZhciBpPXRoaXMudmVydGljZXMubGVuZ3RoLTE7IHRoaXMudmVydGljZXMubGVuZ3RoPjMgJiYgaT49MDsgLS1pKXtcbiAgICAgICAgaWYoUG9pbnQuY29sbGluZWFyKHRoaXMuYXQoaS0xKSx0aGlzLmF0KGkpLHRoaXMuYXQoaSsxKSxwcmVjaXNpb24pKXtcbiAgICAgICAgICAgIC8vIFJlbW92ZSB0aGUgbWlkZGxlIHBvaW50XG4gICAgICAgICAgICB0aGlzLnZlcnRpY2VzLnNwbGljZShpJXRoaXMudmVydGljZXMubGVuZ3RoLDEpO1xuICAgICAgICAgICAgaS0tOyAvLyBKdW1wIG9uZSBwb2ludCBmb3J3YXJkLiBPdGhlcndpc2Ugd2UgbWF5IGdldCBhIGNoYWluIHJlbW92YWxcbiAgICAgICAgICAgIG51bSsrO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudW07XG59O1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcDIvfi9wb2x5LWRlY29tcC9zcmMvUG9seWdvbi5qc1xuICoqIG1vZHVsZSBpZCA9IDEwNFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwidmFyIENpcmNsZSA9IHJlcXVpcmUoJy4uL3NoYXBlcy9DaXJjbGUnKSxcbiAgICBQbGFuZSA9IHJlcXVpcmUoJy4uL3NoYXBlcy9QbGFuZScpLFxuICAgIFNoYXBlID0gcmVxdWlyZSgnLi4vc2hhcGVzL1NoYXBlJyksXG4gICAgUGFydGljbGUgPSByZXF1aXJlKCcuLi9zaGFwZXMvUGFydGljbGUnKSxcbiAgICBCcm9hZHBoYXNlID0gcmVxdWlyZSgnLi4vY29sbGlzaW9uL0Jyb2FkcGhhc2UnKSxcbiAgICB2ZWMyID0gcmVxdWlyZSgnLi4vbWF0aC92ZWMyJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gTmFpdmVCcm9hZHBoYXNlO1xuXG4vKipcbiAqIE5haXZlIGJyb2FkcGhhc2UgaW1wbGVtZW50YXRpb24uIERvZXMgTl4yIHRlc3RzLlxuICpcbiAqIEBjbGFzcyBOYWl2ZUJyb2FkcGhhc2VcbiAqIEBjb25zdHJ1Y3RvclxuICogQGV4dGVuZHMgQnJvYWRwaGFzZVxuICovXG5mdW5jdGlvbiBOYWl2ZUJyb2FkcGhhc2UoKXtcbiAgICBCcm9hZHBoYXNlLmNhbGwodGhpcywgQnJvYWRwaGFzZS5OQUlWRSk7XG59XG5OYWl2ZUJyb2FkcGhhc2UucHJvdG90eXBlID0gbmV3IEJyb2FkcGhhc2UoKTtcbk5haXZlQnJvYWRwaGFzZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBOYWl2ZUJyb2FkcGhhc2U7XG5cbi8qKlxuICogR2V0IHRoZSBjb2xsaWRpbmcgcGFpcnNcbiAqIEBtZXRob2QgZ2V0Q29sbGlzaW9uUGFpcnNcbiAqIEBwYXJhbSAge1dvcmxkfSB3b3JsZFxuICogQHJldHVybiB7QXJyYXl9XG4gKi9cbk5haXZlQnJvYWRwaGFzZS5wcm90b3R5cGUuZ2V0Q29sbGlzaW9uUGFpcnMgPSBmdW5jdGlvbih3b3JsZCl7XG4gICAgdmFyIGJvZGllcyA9IHdvcmxkLmJvZGllcyxcbiAgICAgICAgcmVzdWx0ID0gdGhpcy5yZXN1bHQ7XG5cbiAgICByZXN1bHQubGVuZ3RoID0gMDtcblxuICAgIGZvcih2YXIgaT0wLCBOY29sbGlkaW5nPWJvZGllcy5sZW5ndGg7IGkhPT1OY29sbGlkaW5nOyBpKyspe1xuICAgICAgICB2YXIgYmkgPSBib2RpZXNbaV07XG5cbiAgICAgICAgZm9yKHZhciBqPTA7IGo8aTsgaisrKXtcbiAgICAgICAgICAgIHZhciBiaiA9IGJvZGllc1tqXTtcblxuICAgICAgICAgICAgaWYoQnJvYWRwaGFzZS5jYW5Db2xsaWRlKGJpLGJqKSAmJiB0aGlzLmJvdW5kaW5nVm9sdW1lQ2hlY2soYmksYmopKXtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChiaSxiaik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIGFsbCB0aGUgYm9kaWVzIHdpdGhpbiBhbiBBQUJCLlxuICogQG1ldGhvZCBhYWJiUXVlcnlcbiAqIEBwYXJhbSAge1dvcmxkfSB3b3JsZFxuICogQHBhcmFtICB7QUFCQn0gYWFiYlxuICogQHBhcmFtIHthcnJheX0gcmVzdWx0IEFuIGFycmF5IHRvIHN0b3JlIHJlc3VsdGluZyBib2RpZXMgaW4uXG4gKiBAcmV0dXJuIHthcnJheX1cbiAqL1xuTmFpdmVCcm9hZHBoYXNlLnByb3RvdHlwZS5hYWJiUXVlcnkgPSBmdW5jdGlvbih3b3JsZCwgYWFiYiwgcmVzdWx0KXtcbiAgICByZXN1bHQgPSByZXN1bHQgfHwgW107XG5cbiAgICB2YXIgYm9kaWVzID0gd29ybGQuYm9kaWVzO1xuICAgIGZvcih2YXIgaSA9IDA7IGkgPCBib2RpZXMubGVuZ3RoOyBpKyspe1xuICAgICAgICB2YXIgYiA9IGJvZGllc1tpXTtcblxuICAgICAgICBpZihiLmFhYmJOZWVkc1VwZGF0ZSl7XG4gICAgICAgICAgICBiLnVwZGF0ZUFBQkIoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmKGIuYWFiYi5vdmVybGFwcyhhYWJiKSl7XG4gICAgICAgICAgICByZXN1bHQucHVzaChiKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3AyL3NyYy9jb2xsaXNpb24vTmFpdmVCcm9hZHBoYXNlLmpzXG4gKiogbW9kdWxlIGlkID0gMTA1XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJcbiAgICAvKlxuICAgICAgICBQb2x5SyBsaWJyYXJ5XG4gICAgICAgIHVybDogaHR0cDovL3BvbHlrLml2YW5rLm5ldFxuICAgICAgICBSZWxlYXNlZCB1bmRlciBNSVQgbGljZW5jZS5cblxuICAgICAgICBDb3B5cmlnaHQgKGMpIDIwMTIgSXZhbiBLdWNraXJcblxuICAgICAgICBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvblxuICAgICAgICBvYnRhaW5pbmcgYSBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvblxuICAgICAgICBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXRcbiAgICAgICAgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsXG4gICAgICAgIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXG4gICAgICAgIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZVxuICAgICAgICBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZ1xuICAgICAgICBjb25kaXRpb25zOlxuXG4gICAgICAgIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlXG4gICAgICAgIGluY2x1ZGVkIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuXG4gICAgICAgIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsXG4gICAgICAgIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFU1xuICAgICAgICBPRiBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORFxuICAgICAgICBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVFxuICAgICAgICBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSxcbiAgICAgICAgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HXG4gICAgICAgIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1JcbiAgICAgICAgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuICAgICovXG5cbiAgICB2YXIgUG9seUsgPSB7fTtcblxuICAgIC8qXG4gICAgICAgIElzIFBvbHlnb24gc2VsZi1pbnRlcnNlY3Rpbmc/XG5cbiAgICAgICAgTyhuXjIpXG4gICAgKi9cbiAgICAvKlxuICAgIFBvbHlLLklzU2ltcGxlID0gZnVuY3Rpb24ocClcbiAgICB7XG4gICAgICAgIHZhciBuID0gcC5sZW5ndGg+PjE7XG4gICAgICAgIGlmKG48NCkgcmV0dXJuIHRydWU7XG4gICAgICAgIHZhciBhMSA9IG5ldyBQb2x5Sy5fUCgpLCBhMiA9IG5ldyBQb2x5Sy5fUCgpO1xuICAgICAgICB2YXIgYjEgPSBuZXcgUG9seUsuX1AoKSwgYjIgPSBuZXcgUG9seUsuX1AoKTtcbiAgICAgICAgdmFyIGMgPSBuZXcgUG9seUsuX1AoKTtcblxuICAgICAgICBmb3IodmFyIGk9MDsgaTxuOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGExLnggPSBwWzIqaSAgXTtcbiAgICAgICAgICAgIGExLnkgPSBwWzIqaSsxXTtcbiAgICAgICAgICAgIGlmKGk9PW4tMSkgIHsgYTIueCA9IHBbMCAgICBdOyAgYTIueSA9IHBbMSAgICBdOyB9XG4gICAgICAgICAgICBlbHNlICAgICAgICB7IGEyLnggPSBwWzIqaSsyXTsgIGEyLnkgPSBwWzIqaSszXTsgfVxuXG4gICAgICAgICAgICBmb3IodmFyIGo9MDsgajxuOyBqKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYoTWF0aC5hYnMoaS1qKSA8IDIpIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGlmKGo9PW4tMSAmJiBpPT0wKSBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBpZihpPT1uLTEgJiYgaj09MCkgY29udGludWU7XG5cbiAgICAgICAgICAgICAgICBiMS54ID0gcFsyKmogIF07XG4gICAgICAgICAgICAgICAgYjEueSA9IHBbMipqKzFdO1xuICAgICAgICAgICAgICAgIGlmKGo9PW4tMSkgIHsgYjIueCA9IHBbMCAgICBdOyAgYjIueSA9IHBbMSAgICBdOyB9XG4gICAgICAgICAgICAgICAgZWxzZSAgICAgICAgeyBiMi54ID0gcFsyKmorMl07ICBiMi55ID0gcFsyKmorM107IH1cblxuICAgICAgICAgICAgICAgIGlmKFBvbHlLLl9HZXRMaW5lSW50ZXJzZWN0aW9uKGExLGEyLGIxLGIyLGMpICE9IG51bGwpIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBQb2x5Sy5Jc0NvbnZleCA9IGZ1bmN0aW9uKHApXG4gICAge1xuICAgICAgICBpZihwLmxlbmd0aDw2KSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgdmFyIGwgPSBwLmxlbmd0aCAtIDQ7XG4gICAgICAgIGZvcih2YXIgaT0wOyBpPGw7IGkrPTIpXG4gICAgICAgICAgICBpZighUG9seUsuX2NvbnZleChwW2ldLCBwW2krMV0sIHBbaSsyXSwgcFtpKzNdLCBwW2krNF0sIHBbaSs1XSkpIHJldHVybiBmYWxzZTtcbiAgICAgICAgaWYoIVBvbHlLLl9jb252ZXgocFtsICBdLCBwW2wrMV0sIHBbbCsyXSwgcFtsKzNdLCBwWzBdLCBwWzFdKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZighUG9seUsuX2NvbnZleChwW2wrMl0sIHBbbCszXSwgcFswICBdLCBwWzEgIF0sIHBbMl0sIHBbM10pKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAqL1xuICAgIFBvbHlLLkdldEFyZWEgPSBmdW5jdGlvbihwKVxuICAgIHtcbiAgICAgICAgaWYocC5sZW5ndGggPDYpIHJldHVybiAwO1xuICAgICAgICB2YXIgbCA9IHAubGVuZ3RoIC0gMjtcbiAgICAgICAgdmFyIHN1bSA9IDA7XG4gICAgICAgIGZvcih2YXIgaT0wOyBpPGw7IGkrPTIpXG4gICAgICAgICAgICBzdW0gKz0gKHBbaSsyXS1wW2ldKSAqIChwW2krMV0rcFtpKzNdKTtcbiAgICAgICAgc3VtICs9IChwWzBdLXBbbF0pICogKHBbbCsxXStwWzFdKTtcbiAgICAgICAgcmV0dXJuIC0gc3VtICogMC41O1xuICAgIH1cbiAgICAvKlxuICAgIFBvbHlLLkdldEFBQkIgPSBmdW5jdGlvbihwKVxuICAgIHtcbiAgICAgICAgdmFyIG1pbnggPSBJbmZpbml0eTtcbiAgICAgICAgdmFyIG1pbnkgPSBJbmZpbml0eTtcbiAgICAgICAgdmFyIG1heHggPSAtbWlueDtcbiAgICAgICAgdmFyIG1heHkgPSAtbWlueTtcbiAgICAgICAgZm9yKHZhciBpPTA7IGk8cC5sZW5ndGg7IGkrPTIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIG1pbnggPSBNYXRoLm1pbihtaW54LCBwW2kgIF0pO1xuICAgICAgICAgICAgbWF4eCA9IE1hdGgubWF4KG1heHgsIHBbaSAgXSk7XG4gICAgICAgICAgICBtaW55ID0gTWF0aC5taW4obWlueSwgcFtpKzFdKTtcbiAgICAgICAgICAgIG1heHkgPSBNYXRoLm1heChtYXh5LCBwW2krMV0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7eDptaW54LCB5Om1pbnksIHdpZHRoOm1heHgtbWlueCwgaGVpZ2h0Om1heHktbWlueX07XG4gICAgfVxuICAgICovXG5cbiAgICBQb2x5Sy5Ucmlhbmd1bGF0ZSA9IGZ1bmN0aW9uKHApXG4gICAge1xuICAgICAgICB2YXIgbiA9IHAubGVuZ3RoPj4xO1xuICAgICAgICBpZihuPDMpIHJldHVybiBbXTtcbiAgICAgICAgdmFyIHRncyA9IFtdO1xuICAgICAgICB2YXIgYXZsID0gW107XG4gICAgICAgIGZvcih2YXIgaT0wOyBpPG47IGkrKykgYXZsLnB1c2goaSk7XG5cbiAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICB2YXIgYWwgPSBuO1xuICAgICAgICB3aGlsZShhbCA+IDMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBpMCA9IGF2bFsoaSswKSVhbF07XG4gICAgICAgICAgICB2YXIgaTEgPSBhdmxbKGkrMSklYWxdO1xuICAgICAgICAgICAgdmFyIGkyID0gYXZsWyhpKzIpJWFsXTtcblxuICAgICAgICAgICAgdmFyIGF4ID0gcFsyKmkwXSwgIGF5ID0gcFsyKmkwKzFdO1xuICAgICAgICAgICAgdmFyIGJ4ID0gcFsyKmkxXSwgIGJ5ID0gcFsyKmkxKzFdO1xuICAgICAgICAgICAgdmFyIGN4ID0gcFsyKmkyXSwgIGN5ID0gcFsyKmkyKzFdO1xuXG4gICAgICAgICAgICB2YXIgZWFyRm91bmQgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmKFBvbHlLLl9jb252ZXgoYXgsIGF5LCBieCwgYnksIGN4LCBjeSkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZWFyRm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGZvcih2YXIgaj0wOyBqPGFsOyBqKyspXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdmkgPSBhdmxbal07XG4gICAgICAgICAgICAgICAgICAgIGlmKHZpPT1pMCB8fCB2aT09aTEgfHwgdmk9PWkyKSBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYoUG9seUsuX1BvaW50SW5UcmlhbmdsZShwWzIqdmldLCBwWzIqdmkrMV0sIGF4LCBheSwgYngsIGJ5LCBjeCwgY3kpKSB7ZWFyRm91bmQgPSBmYWxzZTsgYnJlYWs7fVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKGVhckZvdW5kKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRncy5wdXNoKGkwLCBpMSwgaTIpO1xuICAgICAgICAgICAgICAgIGF2bC5zcGxpY2UoKGkrMSklYWwsIDEpO1xuICAgICAgICAgICAgICAgIGFsLS07XG4gICAgICAgICAgICAgICAgaT0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYoaSsrID4gMyphbCkgYnJlYWs7ICAgICAgLy8gbm8gY29udmV4IGFuZ2xlcyA6KFxuICAgICAgICB9XG4gICAgICAgIHRncy5wdXNoKGF2bFswXSwgYXZsWzFdLCBhdmxbMl0pO1xuICAgICAgICByZXR1cm4gdGdzO1xuICAgIH1cbiAgICAvKlxuICAgIFBvbHlLLkNvbnRhaW5zUG9pbnQgPSBmdW5jdGlvbihwLCBweCwgcHkpXG4gICAge1xuICAgICAgICB2YXIgbiA9IHAubGVuZ3RoPj4xO1xuICAgICAgICB2YXIgYXgsIGF5LCBieCA9IHBbMipuLTJdLXB4LCBieSA9IHBbMipuLTFdLXB5O1xuICAgICAgICB2YXIgZGVwdGggPSAwO1xuICAgICAgICBmb3IodmFyIGk9MDsgaTxuOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGF4ID0gYng7ICBheSA9IGJ5O1xuICAgICAgICAgICAgYnggPSBwWzIqaSAgXSAtIHB4O1xuICAgICAgICAgICAgYnkgPSBwWzIqaSsxXSAtIHB5O1xuICAgICAgICAgICAgaWYoYXk8IDAgJiYgYnk8IDApIGNvbnRpbnVlOyAgICAvLyBib3RoIFwidXBcIiBvciBib3RoIFwiZG9ud1wiXG4gICAgICAgICAgICBpZihheT49MCAmJiBieT49MCkgY29udGludWU7ICAgIC8vIGJvdGggXCJ1cFwiIG9yIGJvdGggXCJkb253XCJcbiAgICAgICAgICAgIGlmKGF4PCAwICYmIGJ4PCAwKSBjb250aW51ZTtcblxuICAgICAgICAgICAgdmFyIGx4ID0gYXggKyAoYngtYXgpKigtYXkpLyhieS1heSk7XG4gICAgICAgICAgICBpZihseD4wKSBkZXB0aCsrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoZGVwdGggJiAxKSA9PSAxO1xuICAgIH1cblxuICAgIFBvbHlLLlNsaWNlID0gZnVuY3Rpb24ocCwgYXgsIGF5LCBieCwgYnkpXG4gICAge1xuICAgICAgICBpZihQb2x5Sy5Db250YWluc1BvaW50KHAsIGF4LCBheSkgfHwgUG9seUsuQ29udGFpbnNQb2ludChwLCBieCwgYnkpKSByZXR1cm4gW3Auc2xpY2UoMCldO1xuXG4gICAgICAgIHZhciBhID0gbmV3IFBvbHlLLl9QKGF4LCBheSk7XG4gICAgICAgIHZhciBiID0gbmV3IFBvbHlLLl9QKGJ4LCBieSk7XG4gICAgICAgIHZhciBpc2NzID0gW107ICAvLyBpbnRlcnNlY3Rpb25zXG4gICAgICAgIHZhciBwcyA9IFtdOyAgICAvLyBwb2ludHNcbiAgICAgICAgZm9yKHZhciBpPTA7IGk8cC5sZW5ndGg7IGkrPTIpIHBzLnB1c2gobmV3IFBvbHlLLl9QKHBbaV0sIHBbaSsxXSkpO1xuXG4gICAgICAgIGZvcih2YXIgaT0wOyBpPHBzLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgaXNjID0gbmV3IFBvbHlLLl9QKDAsMCk7XG4gICAgICAgICAgICBpc2MgPSBQb2x5Sy5fR2V0TGluZUludGVyc2VjdGlvbihhLCBiLCBwc1tpXSwgcHNbKGkrMSklcHMubGVuZ3RoXSwgaXNjKTtcblxuICAgICAgICAgICAgaWYoaXNjKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlzYy5mbGFnID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBpc2NzLnB1c2goaXNjKTtcbiAgICAgICAgICAgICAgICBwcy5zcGxpY2UoaSsxLDAsaXNjKTtcbiAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYoaXNjcy5sZW5ndGggPT0gMCkgcmV0dXJuIFtwLnNsaWNlKDApXTtcbiAgICAgICAgdmFyIGNvbXAgPSBmdW5jdGlvbih1LHYpIHtyZXR1cm4gUG9seUsuX1AuZGlzdChhLHUpIC0gUG9seUsuX1AuZGlzdChhLHYpOyB9XG4gICAgICAgIGlzY3Muc29ydChjb21wKTtcblxuICAgICAgICB2YXIgcGdzID0gW107XG4gICAgICAgIHZhciBkaXIgPSAwO1xuICAgICAgICB3aGlsZShpc2NzLmxlbmd0aCA+IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBuID0gcHMubGVuZ3RoO1xuICAgICAgICAgICAgdmFyIGkwID0gaXNjc1swXTtcbiAgICAgICAgICAgIHZhciBpMSA9IGlzY3NbMV07XG4gICAgICAgICAgICB2YXIgaW5kMCA9IHBzLmluZGV4T2YoaTApO1xuICAgICAgICAgICAgdmFyIGluZDEgPSBwcy5pbmRleE9mKGkxKTtcbiAgICAgICAgICAgIHZhciBzb2x2ZWQgPSBmYWxzZTtcblxuICAgICAgICAgICAgaWYoUG9seUsuX2ZpcnN0V2l0aEZsYWcocHMsIGluZDApID09IGluZDEpIHNvbHZlZCA9IHRydWU7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaTAgPSBpc2NzWzFdO1xuICAgICAgICAgICAgICAgIGkxID0gaXNjc1swXTtcbiAgICAgICAgICAgICAgICBpbmQwID0gcHMuaW5kZXhPZihpMCk7XG4gICAgICAgICAgICAgICAgaW5kMSA9IHBzLmluZGV4T2YoaTEpO1xuICAgICAgICAgICAgICAgIGlmKFBvbHlLLl9maXJzdFdpdGhGbGFnKHBzLCBpbmQwKSA9PSBpbmQxKSBzb2x2ZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYoc29sdmVkKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRpci0tO1xuICAgICAgICAgICAgICAgIHZhciBwZ24gPSBQb2x5Sy5fZ2V0UG9pbnRzKHBzLCBpbmQwLCBpbmQxKTtcbiAgICAgICAgICAgICAgICBwZ3MucHVzaChwZ24pO1xuICAgICAgICAgICAgICAgIHBzID0gUG9seUsuX2dldFBvaW50cyhwcywgaW5kMSwgaW5kMCk7XG4gICAgICAgICAgICAgICAgaTAuZmxhZyA9IGkxLmZsYWcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBpc2NzLnNwbGljZSgwLDIpO1xuICAgICAgICAgICAgICAgIGlmKGlzY3MubGVuZ3RoID09IDApIHBncy5wdXNoKHBzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgeyBkaXIrKzsgaXNjcy5yZXZlcnNlKCk7IH1cbiAgICAgICAgICAgIGlmKGRpcj4xKSBicmVhaztcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICAgIGZvcih2YXIgaT0wOyBpPHBncy5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIHBnID0gcGdzW2ldO1xuICAgICAgICAgICAgdmFyIG5wZyA9IFtdO1xuICAgICAgICAgICAgZm9yKHZhciBqPTA7IGo8cGcubGVuZ3RoOyBqKyspIG5wZy5wdXNoKHBnW2pdLngsIHBnW2pdLnkpO1xuICAgICAgICAgICAgcmVzdWx0LnB1c2gobnBnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIFBvbHlLLlJheWNhc3QgPSBmdW5jdGlvbihwLCB4LCB5LCBkeCwgZHksIGlzYylcbiAgICB7XG4gICAgICAgIHZhciBsID0gcC5sZW5ndGggLSAyO1xuICAgICAgICB2YXIgdHAgPSBQb2x5Sy5fdHA7XG4gICAgICAgIHZhciBhMSA9IHRwWzBdLCBhMiA9IHRwWzFdLFxuICAgICAgICBiMSA9IHRwWzJdLCBiMiA9IHRwWzNdLCBjID0gdHBbNF07XG4gICAgICAgIGExLnggPSB4OyBhMS55ID0geTtcbiAgICAgICAgYTIueCA9IHgrZHg7IGEyLnkgPSB5K2R5O1xuXG4gICAgICAgIGlmKGlzYz09bnVsbCkgaXNjID0ge2Rpc3Q6MCwgZWRnZTowLCBub3JtOnt4OjAsIHk6MH0sIHJlZmw6e3g6MCwgeTowfX07XG4gICAgICAgIGlzYy5kaXN0ID0gSW5maW5pdHk7XG5cbiAgICAgICAgZm9yKHZhciBpPTA7IGk8bDsgaSs9MilcbiAgICAgICAge1xuICAgICAgICAgICAgYjEueCA9IHBbaSAgXTsgIGIxLnkgPSBwW2krMV07XG4gICAgICAgICAgICBiMi54ID0gcFtpKzJdOyAgYjIueSA9IHBbaSszXTtcbiAgICAgICAgICAgIHZhciBuaXNjID0gUG9seUsuX1JheUxpbmVJbnRlcnNlY3Rpb24oYTEsIGEyLCBiMSwgYjIsIGMpO1xuICAgICAgICAgICAgaWYobmlzYykgUG9seUsuX3VwZGF0ZUlTQyhkeCwgZHksIGExLCBiMSwgYjIsIGMsIGkvMiwgaXNjKTtcbiAgICAgICAgfVxuICAgICAgICBiMS54ID0gYjIueDsgIGIxLnkgPSBiMi55O1xuICAgICAgICBiMi54ID0gcFswXTsgIGIyLnkgPSBwWzFdO1xuICAgICAgICB2YXIgbmlzYyA9IFBvbHlLLl9SYXlMaW5lSW50ZXJzZWN0aW9uKGExLCBhMiwgYjEsIGIyLCBjKTtcbiAgICAgICAgaWYobmlzYykgUG9seUsuX3VwZGF0ZUlTQyhkeCwgZHksIGExLCBiMSwgYjIsIGMsIHAubGVuZ3RoLzIsIGlzYyk7XG5cbiAgICAgICAgcmV0dXJuIChpc2MuZGlzdCAhPSBJbmZpbml0eSkgPyBpc2MgOiBudWxsO1xuICAgIH1cblxuICAgIFBvbHlLLkNsb3Nlc3RFZGdlID0gZnVuY3Rpb24ocCwgeCwgeSwgaXNjKVxuICAgIHtcbiAgICAgICAgdmFyIGwgPSBwLmxlbmd0aCAtIDI7XG4gICAgICAgIHZhciB0cCA9IFBvbHlLLl90cDtcbiAgICAgICAgdmFyIGExID0gdHBbMF0sXG4gICAgICAgIGIxID0gdHBbMl0sIGIyID0gdHBbM10sIGMgPSB0cFs0XTtcbiAgICAgICAgYTEueCA9IHg7IGExLnkgPSB5O1xuXG4gICAgICAgIGlmKGlzYz09bnVsbCkgaXNjID0ge2Rpc3Q6MCwgZWRnZTowLCBwb2ludDp7eDowLCB5OjB9LCBub3JtOnt4OjAsIHk6MH19O1xuICAgICAgICBpc2MuZGlzdCA9IEluZmluaXR5O1xuXG4gICAgICAgIGZvcih2YXIgaT0wOyBpPGw7IGkrPTIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGIxLnggPSBwW2kgIF07ICBiMS55ID0gcFtpKzFdO1xuICAgICAgICAgICAgYjIueCA9IHBbaSsyXTsgIGIyLnkgPSBwW2krM107XG4gICAgICAgICAgICBQb2x5Sy5fcG9pbnRMaW5lRGlzdChhMSwgYjEsIGIyLCBpPj4xLCBpc2MpO1xuICAgICAgICB9XG4gICAgICAgIGIxLnggPSBiMi54OyAgYjEueSA9IGIyLnk7XG4gICAgICAgIGIyLnggPSBwWzBdOyAgYjIueSA9IHBbMV07XG4gICAgICAgIFBvbHlLLl9wb2ludExpbmVEaXN0KGExLCBiMSwgYjIsIGw+PjEsIGlzYyk7XG5cbiAgICAgICAgdmFyIGlkc3QgPSAxL2lzYy5kaXN0O1xuICAgICAgICBpc2Mubm9ybS54ID0gKHgtaXNjLnBvaW50LngpKmlkc3Q7XG4gICAgICAgIGlzYy5ub3JtLnkgPSAoeS1pc2MucG9pbnQueSkqaWRzdDtcbiAgICAgICAgcmV0dXJuIGlzYztcbiAgICB9XG5cbiAgICBQb2x5Sy5fcG9pbnRMaW5lRGlzdCA9IGZ1bmN0aW9uKHAsIGEsIGIsIGVkZ2UsIGlzYylcbiAgICB7XG4gICAgICAgIHZhciB4ID0gcC54LCB5ID0gcC55LCB4MSA9IGEueCwgeTEgPSBhLnksIHgyID0gYi54LCB5MiA9IGIueTtcblxuICAgICAgICB2YXIgQSA9IHggLSB4MTtcbiAgICAgICAgdmFyIEIgPSB5IC0geTE7XG4gICAgICAgIHZhciBDID0geDIgLSB4MTtcbiAgICAgICAgdmFyIEQgPSB5MiAtIHkxO1xuXG4gICAgICAgIHZhciBkb3QgPSBBICogQyArIEIgKiBEO1xuICAgICAgICB2YXIgbGVuX3NxID0gQyAqIEMgKyBEICogRDtcbiAgICAgICAgdmFyIHBhcmFtID0gZG90IC8gbGVuX3NxO1xuXG4gICAgICAgIHZhciB4eCwgeXk7XG5cbiAgICAgICAgaWYgKHBhcmFtIDwgMCB8fCAoeDEgPT0geDIgJiYgeTEgPT0geTIpKSB7XG4gICAgICAgICAgICB4eCA9IHgxO1xuICAgICAgICAgICAgeXkgPSB5MTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwYXJhbSA+IDEpIHtcbiAgICAgICAgICAgIHh4ID0geDI7XG4gICAgICAgICAgICB5eSA9IHkyO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgeHggPSB4MSArIHBhcmFtICogQztcbiAgICAgICAgICAgIHl5ID0geTEgKyBwYXJhbSAqIEQ7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZHggPSB4IC0geHg7XG4gICAgICAgIHZhciBkeSA9IHkgLSB5eTtcbiAgICAgICAgdmFyIGRzdCA9IE1hdGguc3FydChkeCAqIGR4ICsgZHkgKiBkeSk7XG4gICAgICAgIGlmKGRzdDxpc2MuZGlzdClcbiAgICAgICAge1xuICAgICAgICAgICAgaXNjLmRpc3QgPSBkc3Q7XG4gICAgICAgICAgICBpc2MuZWRnZSA9IGVkZ2U7XG4gICAgICAgICAgICBpc2MucG9pbnQueCA9IHh4O1xuICAgICAgICAgICAgaXNjLnBvaW50LnkgPSB5eTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIFBvbHlLLl91cGRhdGVJU0MgPSBmdW5jdGlvbihkeCwgZHksIGExLCBiMSwgYjIsIGMsIGVkZ2UsIGlzYylcbiAgICB7XG4gICAgICAgIHZhciBucmwgPSBQb2x5Sy5fUC5kaXN0KGExLCBjKTtcbiAgICAgICAgaWYobnJsPGlzYy5kaXN0KVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgaWJsID0gMS9Qb2x5Sy5fUC5kaXN0KGIxLCBiMik7XG4gICAgICAgICAgICB2YXIgbnggPSAtKGIyLnktYjEueSkqaWJsO1xuICAgICAgICAgICAgdmFyIG55ID0gIChiMi54LWIxLngpKmlibDtcbiAgICAgICAgICAgIHZhciBkZG90ID0gMiooZHgqbngrZHkqbnkpO1xuICAgICAgICAgICAgaXNjLmRpc3QgPSBucmw7XG4gICAgICAgICAgICBpc2Mubm9ybS54ID0gbng7XG4gICAgICAgICAgICBpc2Mubm9ybS55ID0gbnk7XG4gICAgICAgICAgICBpc2MucmVmbC54ID0gLWRkb3QqbngrZHg7XG4gICAgICAgICAgICBpc2MucmVmbC55ID0gLWRkb3QqbnkrZHk7XG4gICAgICAgICAgICBpc2MuZWRnZSA9IGVkZ2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBQb2x5Sy5fZ2V0UG9pbnRzID0gZnVuY3Rpb24ocHMsIGluZDAsIGluZDEpXG4gICAge1xuICAgICAgICB2YXIgbiA9IHBzLmxlbmd0aDtcbiAgICAgICAgdmFyIG5wcyA9IFtdO1xuICAgICAgICBpZihpbmQxPGluZDApIGluZDEgKz0gbjtcbiAgICAgICAgZm9yKHZhciBpPWluZDA7IGk8PSBpbmQxOyBpKyspIG5wcy5wdXNoKHBzW2klbl0pO1xuICAgICAgICByZXR1cm4gbnBzO1xuICAgIH1cblxuICAgIFBvbHlLLl9maXJzdFdpdGhGbGFnID0gZnVuY3Rpb24ocHMsIGluZClcbiAgICB7XG4gICAgICAgIHZhciBuID0gcHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSh0cnVlKVxuICAgICAgICB7XG4gICAgICAgICAgICBpbmQgPSAoaW5kKzEpJW47XG4gICAgICAgICAgICBpZihwc1tpbmRdLmZsYWcpIHJldHVybiBpbmQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgKi9cbiAgICBQb2x5Sy5fUG9pbnRJblRyaWFuZ2xlID0gZnVuY3Rpb24ocHgsIHB5LCBheCwgYXksIGJ4LCBieSwgY3gsIGN5KVxuICAgIHtcbiAgICAgICAgdmFyIHYweCA9IGN4LWF4O1xuICAgICAgICB2YXIgdjB5ID0gY3ktYXk7XG4gICAgICAgIHZhciB2MXggPSBieC1heDtcbiAgICAgICAgdmFyIHYxeSA9IGJ5LWF5O1xuICAgICAgICB2YXIgdjJ4ID0gcHgtYXg7XG4gICAgICAgIHZhciB2MnkgPSBweS1heTtcblxuICAgICAgICB2YXIgZG90MDAgPSB2MHgqdjB4K3YweSp2MHk7XG4gICAgICAgIHZhciBkb3QwMSA9IHYweCp2MXgrdjB5KnYxeTtcbiAgICAgICAgdmFyIGRvdDAyID0gdjB4KnYyeCt2MHkqdjJ5O1xuICAgICAgICB2YXIgZG90MTEgPSB2MXgqdjF4K3YxeSp2MXk7XG4gICAgICAgIHZhciBkb3QxMiA9IHYxeCp2MngrdjF5KnYyeTtcblxuICAgICAgICB2YXIgaW52RGVub20gPSAxIC8gKGRvdDAwICogZG90MTEgLSBkb3QwMSAqIGRvdDAxKTtcbiAgICAgICAgdmFyIHUgPSAoZG90MTEgKiBkb3QwMiAtIGRvdDAxICogZG90MTIpICogaW52RGVub207XG4gICAgICAgIHZhciB2ID0gKGRvdDAwICogZG90MTIgLSBkb3QwMSAqIGRvdDAyKSAqIGludkRlbm9tO1xuXG4gICAgICAgIC8vIENoZWNrIGlmIHBvaW50IGlzIGluIHRyaWFuZ2xlXG4gICAgICAgIHJldHVybiAodSA+PSAwKSAmJiAodiA+PSAwKSAmJiAodSArIHYgPCAxKTtcbiAgICB9XG4gICAgLypcbiAgICBQb2x5Sy5fUmF5TGluZUludGVyc2VjdGlvbiA9IGZ1bmN0aW9uKGExLCBhMiwgYjEsIGIyLCBjKVxuICAgIHtcbiAgICAgICAgdmFyIGRheCA9IChhMS54LWEyLngpLCBkYnggPSAoYjEueC1iMi54KTtcbiAgICAgICAgdmFyIGRheSA9IChhMS55LWEyLnkpLCBkYnkgPSAoYjEueS1iMi55KTtcblxuICAgICAgICB2YXIgRGVuID0gZGF4KmRieSAtIGRheSpkYng7XG4gICAgICAgIGlmIChEZW4gPT0gMCkgcmV0dXJuIG51bGw7ICAvLyBwYXJhbGxlbFxuXG4gICAgICAgIHZhciBBID0gKGExLnggKiBhMi55IC0gYTEueSAqIGEyLngpO1xuICAgICAgICB2YXIgQiA9IChiMS54ICogYjIueSAtIGIxLnkgKiBiMi54KTtcblxuICAgICAgICB2YXIgSSA9IGM7XG4gICAgICAgIHZhciBpRGVuID0gMS9EZW47XG4gICAgICAgIEkueCA9ICggQSpkYnggLSBkYXgqQiApICogaURlbjtcbiAgICAgICAgSS55ID0gKCBBKmRieSAtIGRheSpCICkgKiBpRGVuO1xuXG4gICAgICAgIGlmKCFQb2x5Sy5fSW5SZWN0KEksIGIxLCBiMikpIHJldHVybiBudWxsO1xuICAgICAgICBpZigoZGF5PjAgJiYgSS55PmExLnkpIHx8IChkYXk8MCAmJiBJLnk8YTEueSkpIHJldHVybiBudWxsO1xuICAgICAgICBpZigoZGF4PjAgJiYgSS54PmExLngpIHx8IChkYXg8MCAmJiBJLng8YTEueCkpIHJldHVybiBudWxsO1xuICAgICAgICByZXR1cm4gSTtcbiAgICB9XG5cbiAgICBQb2x5Sy5fR2V0TGluZUludGVyc2VjdGlvbiA9IGZ1bmN0aW9uKGExLCBhMiwgYjEsIGIyLCBjKVxuICAgIHtcbiAgICAgICAgdmFyIGRheCA9IChhMS54LWEyLngpLCBkYnggPSAoYjEueC1iMi54KTtcbiAgICAgICAgdmFyIGRheSA9IChhMS55LWEyLnkpLCBkYnkgPSAoYjEueS1iMi55KTtcblxuICAgICAgICB2YXIgRGVuID0gZGF4KmRieSAtIGRheSpkYng7XG4gICAgICAgIGlmIChEZW4gPT0gMCkgcmV0dXJuIG51bGw7ICAvLyBwYXJhbGxlbFxuXG4gICAgICAgIHZhciBBID0gKGExLnggKiBhMi55IC0gYTEueSAqIGEyLngpO1xuICAgICAgICB2YXIgQiA9IChiMS54ICogYjIueSAtIGIxLnkgKiBiMi54KTtcblxuICAgICAgICB2YXIgSSA9IGM7XG4gICAgICAgIEkueCA9ICggQSpkYnggLSBkYXgqQiApIC8gRGVuO1xuICAgICAgICBJLnkgPSAoIEEqZGJ5IC0gZGF5KkIgKSAvIERlbjtcblxuICAgICAgICBpZihQb2x5Sy5fSW5SZWN0KEksIGExLCBhMikgJiYgUG9seUsuX0luUmVjdChJLCBiMSwgYjIpKSByZXR1cm4gSTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgUG9seUsuX0luUmVjdCA9IGZ1bmN0aW9uKGEsIGIsIGMpXG4gICAge1xuICAgICAgICBpZiAgKGIueCA9PSBjLngpIHJldHVybiAoYS55Pj1NYXRoLm1pbihiLnksIGMueSkgJiYgYS55PD1NYXRoLm1heChiLnksIGMueSkpO1xuICAgICAgICBpZiAgKGIueSA9PSBjLnkpIHJldHVybiAoYS54Pj1NYXRoLm1pbihiLngsIGMueCkgJiYgYS54PD1NYXRoLm1heChiLngsIGMueCkpO1xuXG4gICAgICAgIGlmKGEueCA+PSBNYXRoLm1pbihiLngsIGMueCkgJiYgYS54IDw9IE1hdGgubWF4KGIueCwgYy54KVxuICAgICAgICAmJiBhLnkgPj0gTWF0aC5taW4oYi55LCBjLnkpICYmIGEueSA8PSBNYXRoLm1heChiLnksIGMueSkpXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgICovXG4gICAgUG9seUsuX2NvbnZleCA9IGZ1bmN0aW9uKGF4LCBheSwgYngsIGJ5LCBjeCwgY3kpXG4gICAge1xuICAgICAgICByZXR1cm4gKGF5LWJ5KSooY3gtYngpICsgKGJ4LWF4KSooY3ktYnkpID49IDA7XG4gICAgfVxuICAgIC8qXG4gICAgUG9seUsuX1AgPSBmdW5jdGlvbih4LHkpXG4gICAge1xuICAgICAgICB0aGlzLnggPSB4O1xuICAgICAgICB0aGlzLnkgPSB5O1xuICAgICAgICB0aGlzLmZsYWcgPSBmYWxzZTtcbiAgICB9XG4gICAgUG9seUsuX1AucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24oKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIFwiUG9pbnQgW1wiK3RoaXMueCtcIiwgXCIrdGhpcy55K1wiXVwiO1xuICAgIH1cbiAgICBQb2x5Sy5fUC5kaXN0ID0gZnVuY3Rpb24oYSxiKVxuICAgIHtcbiAgICAgICAgdmFyIGR4ID0gYi54LWEueDtcbiAgICAgICAgdmFyIGR5ID0gYi55LWEueTtcbiAgICAgICAgcmV0dXJuIE1hdGguc3FydChkeCpkeCArIGR5KmR5KTtcbiAgICB9XG5cbiAgICBQb2x5Sy5fdHAgPSBbXTtcbiAgICBmb3IodmFyIGk9MDsgaTwxMDsgaSsrKSBQb2x5Sy5fdHAucHVzaChuZXcgUG9seUsuX1AoMCwwKSk7XG4gICAgICAgICovXG5cbm1vZHVsZS5leHBvcnRzID0gUG9seUs7XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9wMi9zcmMvbWF0aC9wb2x5ay5qc1xuICoqIG1vZHVsZSBpZCA9IDEwNlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwidmFyIHZlYzIgPSByZXF1aXJlKCcuLi9tYXRoL3ZlYzInKTtcbnZhciBVdGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzL1V0aWxzJyk7XG52YXIgQ29uc3RyYWludCA9IHJlcXVpcmUoJy4uL2NvbnN0cmFpbnRzL0NvbnN0cmFpbnQnKTtcbnZhciBGcmljdGlvbkVxdWF0aW9uID0gcmVxdWlyZSgnLi4vZXF1YXRpb25zL0ZyaWN0aW9uRXF1YXRpb24nKTtcbnZhciBCb2R5ID0gcmVxdWlyZSgnLi4vb2JqZWN0cy9Cb2R5Jyk7XG5cbm1vZHVsZS5leHBvcnRzID0gVG9wRG93blZlaGljbGU7XG5cbi8qKlxuICogQGNsYXNzIFRvcERvd25WZWhpY2xlXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7Qm9keX0gY2hhc3Npc0JvZHkgQSBkeW5hbWljIGJvZHksIGFscmVhZHkgYWRkZWQgdG8gdGhlIHdvcmxkLlxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICpcbiAqIEBleGFtcGxlXG4gKlxuICogICAgIC8vIENyZWF0ZSBhIGR5bmFtaWMgYm9keSBmb3IgdGhlIGNoYXNzaXNcbiAqICAgICB2YXIgY2hhc3Npc0JvZHkgPSBuZXcgQm9keSh7XG4gKiAgICAgICAgIG1hc3M6IDFcbiAqICAgICB9KTtcbiAqICAgICB2YXIgYm94U2hhcGUgPSBuZXcgQm94KHsgd2lkdGg6IDAuNSwgaGVpZ2h0OiAxIH0pO1xuICogICAgIGNoYXNzaXNCb2R5LmFkZFNoYXBlKGJveFNoYXBlKTtcbiAqICAgICB3b3JsZC5hZGRCb2R5KGNoYXNzaXNCb2R5KTtcbiAqXG4gKiAgICAgLy8gQ3JlYXRlIHRoZSB2ZWhpY2xlXG4gKiAgICAgdmFyIHZlaGljbGUgPSBuZXcgVG9wRG93blZlaGljbGUoY2hhc3Npc0JvZHkpO1xuICpcbiAqICAgICAvLyBBZGQgb25lIGZyb250IHdoZWVsIGFuZCBvbmUgYmFjayB3aGVlbCAtIHdlIGRvbid0IGFjdHVhbGx5IG5lZWQgZm91ciA6KVxuICogICAgIHZhciBmcm9udFdoZWVsID0gdmVoaWNsZS5hZGRXaGVlbCh7XG4gKiAgICAgICAgIGxvY2FsUG9zaXRpb246IFswLCAwLjVdIC8vIGZyb250XG4gKiAgICAgfSk7XG4gKiAgICAgZnJvbnRXaGVlbC5zZXRTaWRlRnJpY3Rpb24oNCk7XG4gKlxuICogICAgIC8vIEJhY2sgd2hlZWxcbiAqICAgICB2YXIgYmFja1doZWVsID0gdmVoaWNsZS5hZGRXaGVlbCh7XG4gKiAgICAgICAgIGxvY2FsUG9zaXRpb246IFswLCAtMC41XSAvLyBiYWNrXG4gKiAgICAgfSk7XG4gKiAgICAgYmFja1doZWVsLnNldFNpZGVGcmljdGlvbigzKTsgLy8gTGVzcyBzaWRlIGZyaWN0aW9uIG9uIGJhY2sgd2hlZWwgbWFrZXMgaXQgZWFzaWVyIHRvIGRyaWZ0XG4gKiAgICAgdmVoaWNsZS5hZGRUb1dvcmxkKHdvcmxkKTtcbiAqXG4gKiAgICAgLy8gU3RlZXIgdmFsdWUgemVybyBtZWFucyBzdHJhaWdodCBmb3J3YXJkLiBQb3NpdGl2ZSBpcyBsZWZ0IGFuZCBuZWdhdGl2ZSByaWdodC5cbiAqICAgICBmcm9udFdoZWVsLnN0ZWVyVmFsdWUgPSBNYXRoLlBJIC8gMTY7XG4gKlxuICogICAgIC8vIEVuZ2luZSBmb3JjZSBmb3J3YXJkXG4gKiAgICAgYmFja1doZWVsLmVuZ2luZUZvcmNlID0gMTA7XG4gKiAgICAgYmFja1doZWVsLnNldEJyYWtlRm9yY2UoMCk7XG4gKi9cbmZ1bmN0aW9uIFRvcERvd25WZWhpY2xlKGNoYXNzaXNCb2R5LCBvcHRpb25zKXtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICAgIC8qKlxuICAgICAqIEBwcm9wZXJ0eSB7Qm9keX0gY2hhc3Npc0JvZHlcbiAgICAgKi9cbiAgICB0aGlzLmNoYXNzaXNCb2R5ID0gY2hhc3Npc0JvZHk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJvcGVydHkge0FycmF5fSB3aGVlbHNcbiAgICAgKi9cbiAgICB0aGlzLndoZWVscyA9IFtdO1xuXG4gICAgLy8gQSBkdW1teSBib2R5IHRvIGNvbnN0cmFpbiB0aGUgY2hhc3NpcyB0b1xuICAgIHRoaXMuZ3JvdW5kQm9keSA9IG5ldyBCb2R5KHsgbWFzczogMCB9KTtcblxuICAgIHRoaXMud29ybGQgPSBudWxsO1xuXG4gICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgIHRoaXMucHJlU3RlcENhbGxiYWNrID0gZnVuY3Rpb24oKXtcbiAgICAgICAgdGhhdC51cGRhdGUoKTtcbiAgICB9O1xufVxuXG4vKipcbiAqIEBtZXRob2QgYWRkVG9Xb3JsZFxuICogQHBhcmFtIHtXb3JsZH0gd29ybGRcbiAqL1xuVG9wRG93blZlaGljbGUucHJvdG90eXBlLmFkZFRvV29ybGQgPSBmdW5jdGlvbih3b3JsZCl7XG4gICAgdGhpcy53b3JsZCA9IHdvcmxkO1xuICAgIHdvcmxkLmFkZEJvZHkodGhpcy5ncm91bmRCb2R5KTtcbiAgICB3b3JsZC5vbigncHJlU3RlcCcsIHRoaXMucHJlU3RlcENhbGxiYWNrKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMud2hlZWxzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciB3aGVlbCA9IHRoaXMud2hlZWxzW2ldO1xuICAgICAgICB3b3JsZC5hZGRDb25zdHJhaW50KHdoZWVsKTtcbiAgICB9XG59O1xuXG4vKipcbiAqIEBtZXRob2QgcmVtb3ZlRnJvbVdvcmxkXG4gKiBAcGFyYW0ge1dvcmxkfSB3b3JsZFxuICovXG5Ub3BEb3duVmVoaWNsZS5wcm90b3R5cGUucmVtb3ZlRnJvbVdvcmxkID0gZnVuY3Rpb24oKXtcbiAgICB2YXIgd29ybGQgPSB0aGlzLndvcmxkO1xuICAgIHdvcmxkLnJlbW92ZUJvZHkodGhpcy5ncm91bmRCb2R5KTtcbiAgICB3b3JsZC5vZmYoJ3ByZVN0ZXAnLCB0aGlzLnByZVN0ZXBDYWxsYmFjayk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLndoZWVscy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgd2hlZWwgPSB0aGlzLndoZWVsc1tpXTtcbiAgICAgICAgd29ybGQucmVtb3ZlQ29uc3RyYWludCh3aGVlbCk7XG4gICAgfVxuICAgIHRoaXMud29ybGQgPSBudWxsO1xufTtcblxuLyoqXG4gKiBAbWV0aG9kIGFkZFdoZWVsXG4gKiBAcGFyYW0ge29iamVjdH0gW3doZWVsT3B0aW9uc11cbiAqIEByZXR1cm4ge1doZWVsQ29uc3RyYWludH1cbiAqL1xuVG9wRG93blZlaGljbGUucHJvdG90eXBlLmFkZFdoZWVsID0gZnVuY3Rpb24od2hlZWxPcHRpb25zKXtcbiAgICB2YXIgd2hlZWwgPSBuZXcgV2hlZWxDb25zdHJhaW50KHRoaXMsd2hlZWxPcHRpb25zKTtcbiAgICB0aGlzLndoZWVscy5wdXNoKHdoZWVsKTtcbiAgICByZXR1cm4gd2hlZWw7XG59O1xuXG4vKipcbiAqIEBtZXRob2QgdXBkYXRlXG4gKi9cblRvcERvd25WZWhpY2xlLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbigpe1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy53aGVlbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdGhpcy53aGVlbHNbaV0udXBkYXRlKCk7XG4gICAgfVxufTtcblxuLyoqXG4gKiBAY2xhc3MgV2hlZWxDb25zdHJhaW50XG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIHtDb25zdHJhaW50fVxuICogQHBhcmFtIHtWZWhpY2xlfSB2ZWhpY2xlXG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdXG4gKiBAcGFyYW0ge0FycmF5fSBbb3B0aW9ucy5sb2NhbEZvcndhcmRWZWN0b3JdVGhlIGxvY2FsIHdoZWVsIGZvcndhcmQgdmVjdG9yIGluIGxvY2FsIGJvZHkgc3BhY2UuIERlZmF1bHQgaXMgemVyby5cbiAqIEBwYXJhbSB7QXJyYXl9IFtvcHRpb25zLmxvY2FsUG9zaXRpb25dIFRoZSBsb2NhbCBwb3NpdGlvbiBvZiB0aGUgd2hlZW4gaW4gdGhlIGNoYXNzaXMgYm9keS4gRGVmYXVsdCBpcyB6ZXJvIC0gdGhlIGNlbnRlciBvZiB0aGUgYm9keS5cbiAqIEBwYXJhbSB7QXJyYXl9IFtvcHRpb25zLnNpZGVGcmljdGlvbj01XSBUaGUgbWF4IGZyaWN0aW9uIGZvcmNlIGluIHRoZSBzaWRld2F5cyBkaXJlY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIFdoZWVsQ29uc3RyYWludCh2ZWhpY2xlLCBvcHRpb25zKXtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICAgIHRoaXMudmVoaWNsZSA9IHZlaGljbGU7XG5cbiAgICB0aGlzLmZvcndhcmRFcXVhdGlvbiA9IG5ldyBGcmljdGlvbkVxdWF0aW9uKHZlaGljbGUuY2hhc3Npc0JvZHksIHZlaGljbGUuZ3JvdW5kQm9keSk7XG5cbiAgICB0aGlzLnNpZGVFcXVhdGlvbiA9IG5ldyBGcmljdGlvbkVxdWF0aW9uKHZlaGljbGUuY2hhc3Npc0JvZHksIHZlaGljbGUuZ3JvdW5kQm9keSk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gc3RlZXJWYWx1ZVxuICAgICAqL1xuICAgIHRoaXMuc3RlZXJWYWx1ZSA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gZW5naW5lRm9yY2VcbiAgICAgKi9cbiAgICB0aGlzLmVuZ2luZUZvcmNlID0gMDtcblxuICAgIHRoaXMuc2V0U2lkZUZyaWN0aW9uKG9wdGlvbnMuc2lkZUZyaWN0aW9uICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnNpZGVGcmljdGlvbiA6IDUpO1xuXG4gICAgLyoqXG4gICAgICogQHByb3BlcnR5IHtBcnJheX0gbG9jYWxGb3J3YXJkVmVjdG9yXG4gICAgICovXG4gICAgdGhpcy5sb2NhbEZvcndhcmRWZWN0b3IgPSB2ZWMyLmZyb21WYWx1ZXMoMCwgMSk7XG4gICAgaWYob3B0aW9ucy5sb2NhbEZvcndhcmRWZWN0b3Ipe1xuICAgICAgICB2ZWMyLmNvcHkodGhpcy5sb2NhbEZvcndhcmRWZWN0b3IsIG9wdGlvbnMubG9jYWxGb3J3YXJkVmVjdG9yKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcHJvcGVydHkge0FycmF5fSBsb2NhbFBvc2l0aW9uXG4gICAgICovXG4gICAgdGhpcy5sb2NhbFBvc2l0aW9uID0gdmVjMi5mcm9tVmFsdWVzKDAsIDApO1xuICAgIGlmKG9wdGlvbnMubG9jYWxQb3NpdGlvbil7XG4gICAgICAgIHZlYzIuY29weSh0aGlzLmxvY2FsUG9zaXRpb24sIG9wdGlvbnMubG9jYWxQb3NpdGlvbik7XG4gICAgfVxuXG4gICAgQ29uc3RyYWludC5hcHBseSh0aGlzLCB2ZWhpY2xlLmNoYXNzaXNCb2R5LCB2ZWhpY2xlLmdyb3VuZEJvZHkpO1xuXG4gICAgdGhpcy5lcXVhdGlvbnMucHVzaChcbiAgICAgICAgdGhpcy5mb3J3YXJkRXF1YXRpb24sXG4gICAgICAgIHRoaXMuc2lkZUVxdWF0aW9uXG4gICAgKTtcblxuICAgIHRoaXMuc2V0QnJha2VGb3JjZSgwKTtcbn1cbldoZWVsQ29uc3RyYWludC5wcm90b3R5cGUgPSBuZXcgQ29uc3RyYWludCgpO1xuXG4vKipcbiAqIEBtZXRob2Qgc2V0Rm9yd2FyZEZyaWN0aW9uXG4gKi9cbldoZWVsQ29uc3RyYWludC5wcm90b3R5cGUuc2V0QnJha2VGb3JjZSA9IGZ1bmN0aW9uKGZvcmNlKXtcbiAgICB0aGlzLmZvcndhcmRFcXVhdGlvbi5zZXRTbGlwRm9yY2UoZm9yY2UpO1xufTtcblxuLyoqXG4gKiBAbWV0aG9kIHNldFNpZGVGcmljdGlvblxuICovXG5XaGVlbENvbnN0cmFpbnQucHJvdG90eXBlLnNldFNpZGVGcmljdGlvbiA9IGZ1bmN0aW9uKGZvcmNlKXtcbiAgICB0aGlzLnNpZGVFcXVhdGlvbi5zZXRTbGlwRm9yY2UoZm9yY2UpO1xufTtcblxudmFyIHdvcmxkVmVsb2NpdHkgPSB2ZWMyLmNyZWF0ZSgpO1xudmFyIHJlbGF0aXZlUG9pbnQgPSB2ZWMyLmNyZWF0ZSgpO1xuXG4vKipcbiAqIEBtZXRob2QgZ2V0U3BlZWRcbiAqL1xuV2hlZWxDb25zdHJhaW50LnByb3RvdHlwZS5nZXRTcGVlZCA9IGZ1bmN0aW9uKCl7XG4gICAgdGhpcy52ZWhpY2xlLmNoYXNzaXNCb2R5LnZlY3RvclRvV29ybGRGcmFtZShyZWxhdGl2ZVBvaW50LCB0aGlzLmxvY2FsRm9yd2FyZFZlY3Rvcik7XG4gICAgdGhpcy52ZWhpY2xlLmNoYXNzaXNCb2R5LmdldFZlbG9jaXR5QXRQb2ludCh3b3JsZFZlbG9jaXR5LCByZWxhdGl2ZVBvaW50KTtcbiAgICByZXR1cm4gdmVjMi5kb3Qod29ybGRWZWxvY2l0eSwgcmVsYXRpdmVQb2ludCk7XG59O1xuXG52YXIgdG1wVmVjID0gdmVjMi5jcmVhdGUoKTtcblxuLyoqXG4gKiBAbWV0aG9kIHVwZGF0ZVxuICovXG5XaGVlbENvbnN0cmFpbnQucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uKCl7XG5cbiAgICAvLyBEaXJlY3Rpb25hbFxuICAgIHRoaXMudmVoaWNsZS5jaGFzc2lzQm9keS52ZWN0b3JUb1dvcmxkRnJhbWUodGhpcy5mb3J3YXJkRXF1YXRpb24udCwgdGhpcy5sb2NhbEZvcndhcmRWZWN0b3IpO1xuICAgIHZlYzIucm90YXRlKHRoaXMuc2lkZUVxdWF0aW9uLnQsIHRoaXMubG9jYWxGb3J3YXJkVmVjdG9yLCBNYXRoLlBJIC8gMik7XG4gICAgdGhpcy52ZWhpY2xlLmNoYXNzaXNCb2R5LnZlY3RvclRvV29ybGRGcmFtZSh0aGlzLnNpZGVFcXVhdGlvbi50LCB0aGlzLnNpZGVFcXVhdGlvbi50KTtcblxuICAgIHZlYzIucm90YXRlKHRoaXMuZm9yd2FyZEVxdWF0aW9uLnQsIHRoaXMuZm9yd2FyZEVxdWF0aW9uLnQsIHRoaXMuc3RlZXJWYWx1ZSk7XG4gICAgdmVjMi5yb3RhdGUodGhpcy5zaWRlRXF1YXRpb24udCwgdGhpcy5zaWRlRXF1YXRpb24udCwgdGhpcy5zdGVlclZhbHVlKTtcblxuICAgIC8vIEF0dGFjaG1lbnQgcG9pbnRcbiAgICB0aGlzLnZlaGljbGUuY2hhc3Npc0JvZHkudG9Xb3JsZEZyYW1lKHRoaXMuZm9yd2FyZEVxdWF0aW9uLmNvbnRhY3RQb2ludEIsIHRoaXMubG9jYWxQb3NpdGlvbik7XG4gICAgdmVjMi5jb3B5KHRoaXMuc2lkZUVxdWF0aW9uLmNvbnRhY3RQb2ludEIsIHRoaXMuZm9yd2FyZEVxdWF0aW9uLmNvbnRhY3RQb2ludEIpO1xuXG4gICAgdGhpcy52ZWhpY2xlLmNoYXNzaXNCb2R5LnZlY3RvclRvV29ybGRGcmFtZSh0aGlzLmZvcndhcmRFcXVhdGlvbi5jb250YWN0UG9pbnRBLCB0aGlzLmxvY2FsUG9zaXRpb24pO1xuICAgIHZlYzIuY29weSh0aGlzLnNpZGVFcXVhdGlvbi5jb250YWN0UG9pbnRBLCB0aGlzLmZvcndhcmRFcXVhdGlvbi5jb250YWN0UG9pbnRBKTtcblxuICAgIC8vIEFkZCBlbmdpbmUgZm9yY2VcbiAgICB2ZWMyLm5vcm1hbGl6ZSh0bXBWZWMsIHRoaXMuZm9yd2FyZEVxdWF0aW9uLnQpO1xuICAgIHZlYzIuc2NhbGUodG1wVmVjLCB0bXBWZWMsIHRoaXMuZW5naW5lRm9yY2UpO1xuXG4gICAgdGhpcy52ZWhpY2xlLmNoYXNzaXNCb2R5LmFwcGx5Rm9yY2UodG1wVmVjLCB0aGlzLmZvcndhcmRFcXVhdGlvbi5jb250YWN0UG9pbnRBKTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcDIvc3JjL29iamVjdHMvVG9wRG93blZlaGljbGUuanNcbiAqKiBtb2R1bGUgaWQgPSAxMDdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciBTaGFwZSA9IHJlcXVpcmUoJy4vU2hhcGUnKVxuLCAgICB2ZWMyID0gcmVxdWlyZSgnLi4vbWF0aC92ZWMyJylcbiwgICAgVXRpbHMgPSByZXF1aXJlKCcuLi91dGlscy9VdGlscycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEhlaWdodGZpZWxkO1xuXG4vKipcbiAqIEhlaWdodGZpZWxkIHNoYXBlIGNsYXNzLiBIZWlnaHQgZGF0YSBpcyBnaXZlbiBhcyBhbiBhcnJheS4gVGhlc2UgZGF0YSBwb2ludHMgYXJlIHNwcmVhZCBvdXQgZXZlbmx5IHdpdGggYSBkaXN0YW5jZSBcImVsZW1lbnRXaWR0aFwiLlxuICogQGNsYXNzIEhlaWdodGZpZWxkXG4gKiBAZXh0ZW5kcyBTaGFwZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIChOb3RlIHRoYXQgdGhpcyBvcHRpb25zIG9iamVjdCB3aWxsIGJlIHBhc3NlZCBvbiB0byB0aGUge3sjY3Jvc3NMaW5rIFwiU2hhcGVcIn19e3svY3Jvc3NMaW5rfX0gY29uc3RydWN0b3IuKVxuICogQHBhcmFtIHthcnJheX0gW29wdGlvbnMuaGVpZ2h0c10gQW4gYXJyYXkgb2YgWSB2YWx1ZXMgdGhhdCB3aWxsIGJlIHVzZWQgdG8gY29uc3RydWN0IHRoZSB0ZXJyYWluLlxuICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLm1pblZhbHVlXSBNaW5pbXVtIHZhbHVlIG9mIHRoZSBkYXRhIHBvaW50cyBpbiB0aGUgZGF0YSBhcnJheS4gV2lsbCBiZSBjb21wdXRlZCBhdXRvbWF0aWNhbGx5IGlmIG5vdCBnaXZlbi5cbiAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5tYXhWYWx1ZV0gTWF4aW11bSB2YWx1ZS5cbiAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5lbGVtZW50V2lkdGg9MC4xXSBXb3JsZCBzcGFjaW5nIGJldHdlZW4gdGhlIGRhdGEgcG9pbnRzIGluIFggZGlyZWN0aW9uLlxuICpcbiAqIEBleGFtcGxlXG4gKiAgICAgLy8gR2VuZXJhdGUgc29tZSBoZWlnaHQgZGF0YSAoeS12YWx1ZXMpLlxuICogICAgIHZhciBoZWlnaHRzID0gW107XG4gKiAgICAgZm9yKHZhciBpID0gMDsgaSA8IDEwMDA7IGkrKyl7XG4gKiAgICAgICAgIHZhciB5ID0gMC41ICogTWF0aC5jb3MoMC4yICogaSk7XG4gKiAgICAgICAgIGhlaWdodHMucHVzaCh5KTtcbiAqICAgICB9XG4gKlxuICogICAgIC8vIENyZWF0ZSB0aGUgaGVpZ2h0ZmllbGQgc2hhcGVcbiAqICAgICB2YXIgaGVpZ2h0ZmllbGRTaGFwZSA9IG5ldyBIZWlnaHRmaWVsZCh7XG4gKiAgICAgICAgIGhlaWdodHM6IGhlaWdodHMsXG4gKiAgICAgICAgIGVsZW1lbnRXaWR0aDogMSAvLyBEaXN0YW5jZSBiZXR3ZWVuIHRoZSBkYXRhIHBvaW50cyBpbiBYIGRpcmVjdGlvblxuICogICAgIH0pO1xuICogICAgIHZhciBoZWlnaHRmaWVsZEJvZHkgPSBuZXcgQm9keSgpO1xuICogICAgIGhlaWdodGZpZWxkQm9keS5hZGRTaGFwZShoZWlnaHRmaWVsZFNoYXBlKTtcbiAqICAgICB3b3JsZC5hZGRCb2R5KGhlaWdodGZpZWxkQm9keSk7XG4gKlxuICogQHRvZG8gU2hvdWxkIHVzZSBhIHNjYWxlIHByb3BlcnR5IHdpdGggWCBhbmQgWSBkaXJlY3Rpb24gaW5zdGVhZCBvZiBqdXN0IGVsZW1lbnRXaWR0aFxuICovXG5mdW5jdGlvbiBIZWlnaHRmaWVsZChvcHRpb25zKXtcbiAgICBpZihBcnJheS5pc0FycmF5KGFyZ3VtZW50c1swXSkpe1xuICAgICAgICBvcHRpb25zID0ge1xuICAgICAgICAgICAgaGVpZ2h0czogYXJndW1lbnRzWzBdXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYodHlwZW9mKGFyZ3VtZW50c1sxXSkgPT09ICdvYmplY3QnKXtcbiAgICAgICAgICAgIGZvcih2YXIga2V5IGluIGFyZ3VtZW50c1sxXSl7XG4gICAgICAgICAgICAgICAgb3B0aW9uc1trZXldID0gYXJndW1lbnRzWzFdW2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zb2xlLndhcm4oJ1RoZSBIZWlnaHRmaWVsZCBjb25zdHJ1Y3RvciBzaWduYXR1cmUgaGFzIGNoYW5nZWQuIFBsZWFzZSB1c2UgdGhlIGZvbGxvd2luZyBmb3JtYXQ6IG5ldyBIZWlnaHRmaWVsZCh7IGhlaWdodHM6IFsuLi5dLCAuLi4gfSknKTtcbiAgICB9XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICAvKipcbiAgICAgKiBBbiBhcnJheSBvZiBudW1iZXJzLCBvciBoZWlnaHQgdmFsdWVzLCB0aGF0IGFyZSBzcHJlYWQgb3V0IGFsb25nIHRoZSB4IGF4aXMuXG4gICAgICogQHByb3BlcnR5IHthcnJheX0gaGVpZ2h0c1xuICAgICAqL1xuICAgIHRoaXMuaGVpZ2h0cyA9IG9wdGlvbnMuaGVpZ2h0cyA/IG9wdGlvbnMuaGVpZ2h0cy5zbGljZSgwKSA6IFtdO1xuXG4gICAgLyoqXG4gICAgICogTWF4IHZhbHVlIG9mIHRoZSBoZWlnaHRzXG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9IG1heFZhbHVlXG4gICAgICovXG4gICAgdGhpcy5tYXhWYWx1ZSA9IG9wdGlvbnMubWF4VmFsdWUgfHwgbnVsbDtcblxuICAgIC8qKlxuICAgICAqIE1heCB2YWx1ZSBvZiB0aGUgaGVpZ2h0c1xuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBtaW5WYWx1ZVxuICAgICAqL1xuICAgIHRoaXMubWluVmFsdWUgPSBvcHRpb25zLm1pblZhbHVlIHx8IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgd2lkdGggb2YgZWFjaCBlbGVtZW50XG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9IGVsZW1lbnRXaWR0aFxuICAgICAqL1xuICAgIHRoaXMuZWxlbWVudFdpZHRoID0gb3B0aW9ucy5lbGVtZW50V2lkdGggfHwgMC4xO1xuXG4gICAgaWYob3B0aW9ucy5tYXhWYWx1ZSA9PT0gdW5kZWZpbmVkIHx8IG9wdGlvbnMubWluVmFsdWUgPT09IHVuZGVmaW5lZCl7XG4gICAgICAgIHRoaXMudXBkYXRlTWF4TWluVmFsdWVzKCk7XG4gICAgfVxuXG4gICAgb3B0aW9ucy50eXBlID0gU2hhcGUuSEVJR0hURklFTEQ7XG4gICAgU2hhcGUuY2FsbCh0aGlzLCBvcHRpb25zKTtcbn1cbkhlaWdodGZpZWxkLnByb3RvdHlwZSA9IG5ldyBTaGFwZSgpO1xuSGVpZ2h0ZmllbGQucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gSGVpZ2h0ZmllbGQ7XG5cbi8qKlxuICogVXBkYXRlIHRoZSAubWluVmFsdWUgYW5kIHRoZSAubWF4VmFsdWVcbiAqIEBtZXRob2QgdXBkYXRlTWF4TWluVmFsdWVzXG4gKi9cbkhlaWdodGZpZWxkLnByb3RvdHlwZS51cGRhdGVNYXhNaW5WYWx1ZXMgPSBmdW5jdGlvbigpe1xuICAgIHZhciBkYXRhID0gdGhpcy5oZWlnaHRzO1xuICAgIHZhciBtYXhWYWx1ZSA9IGRhdGFbMF07XG4gICAgdmFyIG1pblZhbHVlID0gZGF0YVswXTtcbiAgICBmb3IodmFyIGk9MDsgaSAhPT0gZGF0YS5sZW5ndGg7IGkrKyl7XG4gICAgICAgIHZhciB2ID0gZGF0YVtpXTtcbiAgICAgICAgaWYodiA+IG1heFZhbHVlKXtcbiAgICAgICAgICAgIG1heFZhbHVlID0gdjtcbiAgICAgICAgfVxuICAgICAgICBpZih2IDwgbWluVmFsdWUpe1xuICAgICAgICAgICAgbWluVmFsdWUgPSB2O1xuICAgICAgICB9XG4gICAgfVxuICAgIHRoaXMubWF4VmFsdWUgPSBtYXhWYWx1ZTtcbiAgICB0aGlzLm1pblZhbHVlID0gbWluVmFsdWU7XG59O1xuXG4vKipcbiAqIEBtZXRob2QgY29tcHV0ZU1vbWVudE9mSW5lcnRpYVxuICogQHBhcmFtICB7TnVtYmVyfSBtYXNzXG4gKiBAcmV0dXJuIHtOdW1iZXJ9XG4gKi9cbkhlaWdodGZpZWxkLnByb3RvdHlwZS5jb21wdXRlTW9tZW50T2ZJbmVydGlhID0gZnVuY3Rpb24obWFzcyl7XG4gICAgcmV0dXJuIE51bWJlci5NQVhfVkFMVUU7XG59O1xuXG5IZWlnaHRmaWVsZC5wcm90b3R5cGUudXBkYXRlQm91bmRpbmdSYWRpdXMgPSBmdW5jdGlvbigpe1xuICAgIHRoaXMuYm91bmRpbmdSYWRpdXMgPSBOdW1iZXIuTUFYX1ZBTFVFO1xufTtcblxuSGVpZ2h0ZmllbGQucHJvdG90eXBlLnVwZGF0ZUFyZWEgPSBmdW5jdGlvbigpe1xuICAgIHZhciBkYXRhID0gdGhpcy5oZWlnaHRzLFxuICAgICAgICBhcmVhID0gMDtcbiAgICBmb3IodmFyIGk9MDsgaTxkYXRhLmxlbmd0aC0xOyBpKyspe1xuICAgICAgICBhcmVhICs9IChkYXRhW2ldK2RhdGFbaSsxXSkgLyAyICogdGhpcy5lbGVtZW50V2lkdGg7XG4gICAgfVxuICAgIHRoaXMuYXJlYSA9IGFyZWE7XG59O1xuXG52YXIgcG9pbnRzID0gW1xuICAgIHZlYzIuY3JlYXRlKCksXG4gICAgdmVjMi5jcmVhdGUoKSxcbiAgICB2ZWMyLmNyZWF0ZSgpLFxuICAgIHZlYzIuY3JlYXRlKClcbl07XG5cbi8qKlxuICogQG1ldGhvZCBjb21wdXRlQUFCQlxuICogQHBhcmFtICB7QUFCQn0gICBvdXQgICAgICBUaGUgcmVzdWx0aW5nIEFBQkIuXG4gKiBAcGFyYW0gIHtBcnJheX0gIHBvc2l0aW9uXG4gKiBAcGFyYW0gIHtOdW1iZXJ9IGFuZ2xlXG4gKi9cbkhlaWdodGZpZWxkLnByb3RvdHlwZS5jb21wdXRlQUFCQiA9IGZ1bmN0aW9uKG91dCwgcG9zaXRpb24sIGFuZ2xlKXtcbiAgICB2ZWMyLnNldChwb2ludHNbMF0sIDAsIHRoaXMubWF4VmFsdWUpO1xuICAgIHZlYzIuc2V0KHBvaW50c1sxXSwgdGhpcy5lbGVtZW50V2lkdGggKiB0aGlzLmhlaWdodHMubGVuZ3RoLCB0aGlzLm1heFZhbHVlKTtcbiAgICB2ZWMyLnNldChwb2ludHNbMl0sIHRoaXMuZWxlbWVudFdpZHRoICogdGhpcy5oZWlnaHRzLmxlbmd0aCwgdGhpcy5taW5WYWx1ZSk7XG4gICAgdmVjMi5zZXQocG9pbnRzWzNdLCAwLCB0aGlzLm1pblZhbHVlKTtcbiAgICBvdXQuc2V0RnJvbVBvaW50cyhwb2ludHMsIHBvc2l0aW9uLCBhbmdsZSk7XG59O1xuXG4vKipcbiAqIEdldCBhIGxpbmUgc2VnbWVudCBpbiB0aGUgaGVpZ2h0ZmllbGRcbiAqIEBtZXRob2QgZ2V0TGluZVNlZ21lbnRcbiAqIEBwYXJhbSAge2FycmF5fSBzdGFydCBXaGVyZSB0byBzdG9yZSB0aGUgcmVzdWx0aW5nIHN0YXJ0IHBvaW50XG4gKiBAcGFyYW0gIHthcnJheX0gZW5kIFdoZXJlIHRvIHN0b3JlIHRoZSByZXN1bHRpbmcgZW5kIHBvaW50XG4gKiBAcGFyYW0gIHtudW1iZXJ9IGlcbiAqL1xuSGVpZ2h0ZmllbGQucHJvdG90eXBlLmdldExpbmVTZWdtZW50ID0gZnVuY3Rpb24oc3RhcnQsIGVuZCwgaSl7XG4gICAgdmFyIGRhdGEgPSB0aGlzLmhlaWdodHM7XG4gICAgdmFyIHdpZHRoID0gdGhpcy5lbGVtZW50V2lkdGg7XG4gICAgdmVjMi5zZXQoc3RhcnQsIGkgKiB3aWR0aCwgZGF0YVtpXSk7XG4gICAgdmVjMi5zZXQoZW5kLCAoaSArIDEpICogd2lkdGgsIGRhdGFbaSArIDFdKTtcbn07XG5cbkhlaWdodGZpZWxkLnByb3RvdHlwZS5nZXRTZWdtZW50SW5kZXggPSBmdW5jdGlvbihwb3NpdGlvbil7XG4gICAgcmV0dXJuIE1hdGguZmxvb3IocG9zaXRpb25bMF0gLyB0aGlzLmVsZW1lbnRXaWR0aCk7XG59O1xuXG5IZWlnaHRmaWVsZC5wcm90b3R5cGUuZ2V0Q2xhbXBlZFNlZ21lbnRJbmRleCA9IGZ1bmN0aW9uKHBvc2l0aW9uKXtcbiAgICB2YXIgaSA9IHRoaXMuZ2V0U2VnbWVudEluZGV4KHBvc2l0aW9uKTtcbiAgICBpID0gTWF0aC5taW4odGhpcy5oZWlnaHRzLmxlbmd0aCwgTWF0aC5tYXgoaSwgMCkpOyAvLyBjbGFtcFxuICAgIHJldHVybiBpO1xufTtcblxudmFyIGludGVyc2VjdEhlaWdodGZpZWxkX2hpdFBvaW50V29ybGQgPSB2ZWMyLmNyZWF0ZSgpO1xudmFyIGludGVyc2VjdEhlaWdodGZpZWxkX3dvcmxkTm9ybWFsID0gdmVjMi5jcmVhdGUoKTtcbnZhciBpbnRlcnNlY3RIZWlnaHRmaWVsZF9sMCA9IHZlYzIuY3JlYXRlKCk7XG52YXIgaW50ZXJzZWN0SGVpZ2h0ZmllbGRfbDEgPSB2ZWMyLmNyZWF0ZSgpO1xudmFyIGludGVyc2VjdEhlaWdodGZpZWxkX2xvY2FsRnJvbSA9IHZlYzIuY3JlYXRlKCk7XG52YXIgaW50ZXJzZWN0SGVpZ2h0ZmllbGRfbG9jYWxUbyA9IHZlYzIuY3JlYXRlKCk7XG52YXIgaW50ZXJzZWN0SGVpZ2h0ZmllbGRfdW5pdF95ID0gdmVjMi5mcm9tVmFsdWVzKDAsMSk7XG5cbi8vIFJldHVybnMgMSBpZiB0aGUgbGluZXMgaW50ZXJzZWN0LCBvdGhlcndpc2UgMC5cbmZ1bmN0aW9uIGdldExpbmVTZWdtZW50c0ludGVyc2VjdGlvbiAob3V0LCBwMCwgcDEsIHAyLCBwMykge1xuXG4gICAgdmFyIHMxX3gsIHMxX3ksIHMyX3gsIHMyX3k7XG4gICAgczFfeCA9IHAxWzBdIC0gcDBbMF07XG4gICAgczFfeSA9IHAxWzFdIC0gcDBbMV07XG4gICAgczJfeCA9IHAzWzBdIC0gcDJbMF07XG4gICAgczJfeSA9IHAzWzFdIC0gcDJbMV07XG5cbiAgICB2YXIgcywgdDtcbiAgICBzID0gKC1zMV95ICogKHAwWzBdIC0gcDJbMF0pICsgczFfeCAqIChwMFsxXSAtIHAyWzFdKSkgLyAoLXMyX3ggKiBzMV95ICsgczFfeCAqIHMyX3kpO1xuICAgIHQgPSAoIHMyX3ggKiAocDBbMV0gLSBwMlsxXSkgLSBzMl95ICogKHAwWzBdIC0gcDJbMF0pKSAvICgtczJfeCAqIHMxX3kgKyBzMV94ICogczJfeSk7XG4gICAgaWYgKHMgPj0gMCAmJiBzIDw9IDEgJiYgdCA+PSAwICYmIHQgPD0gMSkgeyAvLyBDb2xsaXNpb24gZGV0ZWN0ZWRcbiAgICAgICAgdmFyIGludFggPSBwMFswXSArICh0ICogczFfeCk7XG4gICAgICAgIHZhciBpbnRZID0gcDBbMV0gKyAodCAqIHMxX3kpO1xuICAgICAgICBvdXRbMF0gPSBpbnRYO1xuICAgICAgICBvdXRbMV0gPSBpbnRZO1xuICAgICAgICByZXR1cm4gdDtcbiAgICB9XG4gICAgcmV0dXJuIC0xOyAvLyBObyBjb2xsaXNpb25cbn1cblxuLyoqXG4gKiBAbWV0aG9kIHJheWNhc3RcbiAqIEBwYXJhbSAge1JheVJlc3VsdH0gcmVzdWx0XG4gKiBAcGFyYW0gIHtSYXl9IHJheVxuICogQHBhcmFtICB7YXJyYXl9IHBvc2l0aW9uXG4gKiBAcGFyYW0gIHtudW1iZXJ9IGFuZ2xlXG4gKi9cbkhlaWdodGZpZWxkLnByb3RvdHlwZS5yYXljYXN0ID0gZnVuY3Rpb24ocmVzdWx0LCByYXksIHBvc2l0aW9uLCBhbmdsZSl7XG4gICAgdmFyIGZyb20gPSByYXkuZnJvbTtcbiAgICB2YXIgdG8gPSByYXkudG87XG4gICAgdmFyIGRpcmVjdGlvbiA9IHJheS5kaXJlY3Rpb247XG5cbiAgICB2YXIgaGl0UG9pbnRXb3JsZCA9IGludGVyc2VjdEhlaWdodGZpZWxkX2hpdFBvaW50V29ybGQ7XG4gICAgdmFyIHdvcmxkTm9ybWFsID0gaW50ZXJzZWN0SGVpZ2h0ZmllbGRfd29ybGROb3JtYWw7XG4gICAgdmFyIGwwID0gaW50ZXJzZWN0SGVpZ2h0ZmllbGRfbDA7XG4gICAgdmFyIGwxID0gaW50ZXJzZWN0SGVpZ2h0ZmllbGRfbDE7XG4gICAgdmFyIGxvY2FsRnJvbSA9IGludGVyc2VjdEhlaWdodGZpZWxkX2xvY2FsRnJvbTtcbiAgICB2YXIgbG9jYWxUbyA9IGludGVyc2VjdEhlaWdodGZpZWxkX2xvY2FsVG87XG5cbiAgICAvLyBnZXQgbG9jYWwgcmF5IHN0YXJ0IGFuZCBlbmRcbiAgICB2ZWMyLnRvTG9jYWxGcmFtZShsb2NhbEZyb20sIGZyb20sIHBvc2l0aW9uLCBhbmdsZSk7XG4gICAgdmVjMi50b0xvY2FsRnJhbWUobG9jYWxUbywgdG8sIHBvc2l0aW9uLCBhbmdsZSk7XG5cbiAgICAvLyBHZXQgdGhlIHNlZ21lbnQgcmFuZ2VcbiAgICB2YXIgaTAgPSB0aGlzLmdldENsYW1wZWRTZWdtZW50SW5kZXgobG9jYWxGcm9tKTtcbiAgICB2YXIgaTEgPSB0aGlzLmdldENsYW1wZWRTZWdtZW50SW5kZXgobG9jYWxUbyk7XG4gICAgaWYoaTAgPiBpMSl7XG4gICAgICAgIHZhciB0bXAgPSBpMDtcbiAgICAgICAgaTAgPSBpMTtcbiAgICAgICAgaTEgPSB0bXA7XG4gICAgfVxuXG4gICAgLy8gVGhlIHNlZ21lbnRzXG4gICAgZm9yKHZhciBpPTA7IGk8dGhpcy5oZWlnaHRzLmxlbmd0aCAtIDE7IGkrKyl7XG4gICAgICAgIHRoaXMuZ2V0TGluZVNlZ21lbnQobDAsIGwxLCBpKTtcbiAgICAgICAgdmFyIHQgPSB2ZWMyLmdldExpbmVTZWdtZW50c0ludGVyc2VjdGlvbkZyYWN0aW9uKGxvY2FsRnJvbSwgbG9jYWxUbywgbDAsIGwxKTtcbiAgICAgICAgaWYodCA+PSAwKXtcbiAgICAgICAgICAgIHZlYzIuc3ViKHdvcmxkTm9ybWFsLCBsMSwgbDApO1xuICAgICAgICAgICAgdmVjMi5yb3RhdGUod29ybGROb3JtYWwsIHdvcmxkTm9ybWFsLCBhbmdsZSArIE1hdGguUEkgLyAyKTtcbiAgICAgICAgICAgIHZlYzIubm9ybWFsaXplKHdvcmxkTm9ybWFsLCB3b3JsZE5vcm1hbCk7XG4gICAgICAgICAgICByYXkucmVwb3J0SW50ZXJzZWN0aW9uKHJlc3VsdCwgdCwgd29ybGROb3JtYWwsIC0xKTtcbiAgICAgICAgICAgIGlmKHJlc3VsdC5zaG91bGRTdG9wKHJheSkpe1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcDIvc3JjL3NoYXBlcy9IZWlnaHRmaWVsZC5qc1xuICoqIG1vZHVsZSBpZCA9IDEwOFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwidmFyIElzbGFuZE5vZGUgPSByZXF1aXJlKCcuLi93b3JsZC9Jc2xhbmROb2RlJyk7XG52YXIgUG9vbCA9IHJlcXVpcmUoJy4vUG9vbCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IElzbGFuZE5vZGVQb29sO1xuXG4vKipcbiAqIEBjbGFzc1xuICovXG5mdW5jdGlvbiBJc2xhbmROb2RlUG9vbCgpIHtcblx0UG9vbC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuSXNsYW5kTm9kZVBvb2wucHJvdG90eXBlID0gbmV3IFBvb2woKTtcbklzbGFuZE5vZGVQb29sLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IElzbGFuZE5vZGVQb29sO1xuXG4vKipcbiAqIEBtZXRob2QgY3JlYXRlXG4gKiBAcmV0dXJuIHtJc2xhbmROb2RlfVxuICovXG5Jc2xhbmROb2RlUG9vbC5wcm90b3R5cGUuY3JlYXRlID0gZnVuY3Rpb24gKCkge1xuXHRyZXR1cm4gbmV3IElzbGFuZE5vZGUoKTtcbn07XG5cbi8qKlxuICogQG1ldGhvZCBkZXN0cm95XG4gKiBAcGFyYW0ge0lzbGFuZE5vZGV9IG5vZGVcbiAqIEByZXR1cm4ge0lzbGFuZE5vZGVQb29sfVxuICovXG5Jc2xhbmROb2RlUG9vbC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIChub2RlKSB7XG5cdG5vZGUucmVzZXQoKTtcblx0cmV0dXJuIHRoaXM7XG59O1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcDIvc3JjL3V0aWxzL0lzbGFuZE5vZGVQb29sLmpzXG4gKiogbW9kdWxlIGlkID0gMTA5XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgSXNsYW5kID0gcmVxdWlyZSgnLi4vd29ybGQvSXNsYW5kJyk7XG52YXIgUG9vbCA9IHJlcXVpcmUoJy4vUG9vbCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IElzbGFuZFBvb2w7XG5cbi8qKlxuICogQGNsYXNzXG4gKi9cbmZ1bmN0aW9uIElzbGFuZFBvb2woKSB7XG5cdFBvb2wuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cbklzbGFuZFBvb2wucHJvdG90eXBlID0gbmV3IFBvb2woKTtcbklzbGFuZFBvb2wucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gSXNsYW5kUG9vbDtcblxuLyoqXG4gKiBAbWV0aG9kIGNyZWF0ZVxuICogQHJldHVybiB7SXNsYW5kfVxuICovXG5Jc2xhbmRQb29sLnByb3RvdHlwZS5jcmVhdGUgPSBmdW5jdGlvbiAoKSB7XG5cdHJldHVybiBuZXcgSXNsYW5kKCk7XG59O1xuXG4vKipcbiAqIEBtZXRob2QgZGVzdHJveVxuICogQHBhcmFtIHtJc2xhbmR9IGlzbGFuZFxuICogQHJldHVybiB7SXNsYW5kUG9vbH1cbiAqL1xuSXNsYW5kUG9vbC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIChpc2xhbmQpIHtcblx0aXNsYW5kLnJlc2V0KCk7XG5cdHJldHVybiB0aGlzO1xufTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3AyL3NyYy91dGlscy9Jc2xhbmRQb29sLmpzXG4gKiogbW9kdWxlIGlkID0gMTEwXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgVHVwbGVEaWN0aW9uYXJ5ID0gcmVxdWlyZSgnLi9UdXBsZURpY3Rpb25hcnknKTtcbnZhciBPdmVybGFwS2VlcGVyUmVjb3JkID0gcmVxdWlyZSgnLi9PdmVybGFwS2VlcGVyUmVjb3JkJyk7XG52YXIgT3ZlcmxhcEtlZXBlclJlY29yZFBvb2wgPSByZXF1aXJlKCcuL092ZXJsYXBLZWVwZXJSZWNvcmRQb29sJyk7XG52YXIgVXRpbHMgPSByZXF1aXJlKCcuL1V0aWxzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gT3ZlcmxhcEtlZXBlcjtcblxuLyoqXG4gKiBLZWVwcyB0cmFjayBvZiBvdmVybGFwcyBpbiB0aGUgY3VycmVudCBzdGF0ZSBhbmQgdGhlIGxhc3Qgc3RlcCBzdGF0ZS5cbiAqIEBjbGFzcyBPdmVybGFwS2VlcGVyXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gT3ZlcmxhcEtlZXBlcigpIHtcbiAgICB0aGlzLm92ZXJsYXBwaW5nU2hhcGVzTGFzdFN0YXRlID0gbmV3IFR1cGxlRGljdGlvbmFyeSgpO1xuICAgIHRoaXMub3ZlcmxhcHBpbmdTaGFwZXNDdXJyZW50U3RhdGUgPSBuZXcgVHVwbGVEaWN0aW9uYXJ5KCk7XG4gICAgdGhpcy5yZWNvcmRQb29sID0gbmV3IE92ZXJsYXBLZWVwZXJSZWNvcmRQb29sKHsgc2l6ZTogMTYgfSk7XG4gICAgdGhpcy50bXBEaWN0ID0gbmV3IFR1cGxlRGljdGlvbmFyeSgpO1xuICAgIHRoaXMudG1wQXJyYXkxID0gW107XG59XG5cbi8qKlxuICogVGlja3Mgb25lIHN0ZXAgZm9yd2FyZCBpbiB0aW1lLiBUaGlzIHdpbGwgbW92ZSB0aGUgY3VycmVudCBvdmVybGFwIHN0YXRlIHRvIHRoZSBcIm9sZFwiIG92ZXJsYXAgc3RhdGUsIGFuZCBjcmVhdGUgYSBuZXcgb25lIGFzIGN1cnJlbnQuXG4gKiBAbWV0aG9kIHRpY2tcbiAqL1xuT3ZlcmxhcEtlZXBlci5wcm90b3R5cGUudGljayA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBsYXN0ID0gdGhpcy5vdmVybGFwcGluZ1NoYXBlc0xhc3RTdGF0ZTtcbiAgICB2YXIgY3VycmVudCA9IHRoaXMub3ZlcmxhcHBpbmdTaGFwZXNDdXJyZW50U3RhdGU7XG5cbiAgICAvLyBTYXZlIG9sZCBvYmplY3RzIGludG8gcG9vbFxuICAgIHZhciBsID0gbGFzdC5rZXlzLmxlbmd0aDtcbiAgICB3aGlsZShsLS0pe1xuICAgICAgICB2YXIga2V5ID0gbGFzdC5rZXlzW2xdO1xuICAgICAgICB2YXIgbGFzdE9iamVjdCA9IGxhc3QuZ2V0QnlLZXkoa2V5KTtcbiAgICAgICAgdmFyIGN1cnJlbnRPYmplY3QgPSBjdXJyZW50LmdldEJ5S2V5KGtleSk7XG4gICAgICAgIGlmKGxhc3RPYmplY3Qpe1xuICAgICAgICAgICAgLy8gVGhlIHJlY29yZCBpcyBvbmx5IHVzZWQgaW4gdGhlIFwibGFzdFwiIGRpY3QsIGFuZCB3aWxsIGJlIHJlbW92ZWQuIFdlIG1pZ2h0IGFzIHdlbGwgcG9vbCBpdC5cbiAgICAgICAgICAgIHRoaXMucmVjb3JkUG9vbC5yZWxlYXNlKGxhc3RPYmplY3QpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gQ2xlYXIgbGFzdCBvYmplY3RcbiAgICBsYXN0LnJlc2V0KCk7XG5cbiAgICAvLyBUcmFuc2ZlciBmcm9tIG5ldyBvYmplY3QgdG8gb2xkXG4gICAgbGFzdC5jb3B5KGN1cnJlbnQpO1xuXG4gICAgLy8gQ2xlYXIgY3VycmVudCBvYmplY3RcbiAgICBjdXJyZW50LnJlc2V0KCk7XG59O1xuXG4vKipcbiAqIEBtZXRob2Qgc2V0T3ZlcmxhcHBpbmdcbiAqIEBwYXJhbSB7Qm9keX0gYm9keUFcbiAqIEBwYXJhbSB7Qm9keX0gc2hhcGVBXG4gKiBAcGFyYW0ge0JvZHl9IGJvZHlCXG4gKiBAcGFyYW0ge0JvZHl9IHNoYXBlQlxuICovXG5PdmVybGFwS2VlcGVyLnByb3RvdHlwZS5zZXRPdmVybGFwcGluZyA9IGZ1bmN0aW9uKGJvZHlBLCBzaGFwZUEsIGJvZHlCLCBzaGFwZUIpIHtcbiAgICB2YXIgbGFzdCA9IHRoaXMub3ZlcmxhcHBpbmdTaGFwZXNMYXN0U3RhdGU7XG4gICAgdmFyIGN1cnJlbnQgPSB0aGlzLm92ZXJsYXBwaW5nU2hhcGVzQ3VycmVudFN0YXRlO1xuXG4gICAgLy8gU3RvcmUgY3VycmVudCBjb250YWN0IHN0YXRlXG4gICAgaWYoIWN1cnJlbnQuZ2V0KHNoYXBlQS5pZCwgc2hhcGVCLmlkKSl7XG4gICAgICAgIHZhciBkYXRhID0gdGhpcy5yZWNvcmRQb29sLmdldCgpO1xuICAgICAgICBkYXRhLnNldChib2R5QSwgc2hhcGVBLCBib2R5Qiwgc2hhcGVCKTtcbiAgICAgICAgY3VycmVudC5zZXQoc2hhcGVBLmlkLCBzaGFwZUIuaWQsIGRhdGEpO1xuICAgIH1cbn07XG5cbk92ZXJsYXBLZWVwZXIucHJvdG90eXBlLmdldE5ld092ZXJsYXBzID0gZnVuY3Rpb24ocmVzdWx0KXtcbiAgICByZXR1cm4gdGhpcy5nZXREaWZmKHRoaXMub3ZlcmxhcHBpbmdTaGFwZXNMYXN0U3RhdGUsIHRoaXMub3ZlcmxhcHBpbmdTaGFwZXNDdXJyZW50U3RhdGUsIHJlc3VsdCk7XG59O1xuXG5PdmVybGFwS2VlcGVyLnByb3RvdHlwZS5nZXRFbmRPdmVybGFwcyA9IGZ1bmN0aW9uKHJlc3VsdCl7XG4gICAgcmV0dXJuIHRoaXMuZ2V0RGlmZih0aGlzLm92ZXJsYXBwaW5nU2hhcGVzQ3VycmVudFN0YXRlLCB0aGlzLm92ZXJsYXBwaW5nU2hhcGVzTGFzdFN0YXRlLCByZXN1bHQpO1xufTtcblxuLyoqXG4gKiBDaGVja3MgaWYgdHdvIGJvZGllcyBhcmUgY3VycmVudGx5IG92ZXJsYXBwaW5nLlxuICogQG1ldGhvZCBib2RpZXNBcmVPdmVybGFwcGluZ1xuICogQHBhcmFtICB7Qm9keX0gYm9keUFcbiAqIEBwYXJhbSAge0JvZHl9IGJvZHlCXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5PdmVybGFwS2VlcGVyLnByb3RvdHlwZS5ib2RpZXNBcmVPdmVybGFwcGluZyA9IGZ1bmN0aW9uKGJvZHlBLCBib2R5Qil7XG4gICAgdmFyIGN1cnJlbnQgPSB0aGlzLm92ZXJsYXBwaW5nU2hhcGVzQ3VycmVudFN0YXRlO1xuICAgIHZhciBsID0gY3VycmVudC5rZXlzLmxlbmd0aDtcbiAgICB3aGlsZShsLS0pe1xuICAgICAgICB2YXIga2V5ID0gY3VycmVudC5rZXlzW2xdO1xuICAgICAgICB2YXIgZGF0YSA9IGN1cnJlbnQuZGF0YVtrZXldO1xuICAgICAgICBpZigoZGF0YS5ib2R5QSA9PT0gYm9keUEgJiYgZGF0YS5ib2R5QiA9PT0gYm9keUIpIHx8IGRhdGEuYm9keUEgPT09IGJvZHlCICYmIGRhdGEuYm9keUIgPT09IGJvZHlBKXtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn07XG5cbk92ZXJsYXBLZWVwZXIucHJvdG90eXBlLmdldERpZmYgPSBmdW5jdGlvbihkaWN0QSwgZGljdEIsIHJlc3VsdCl7XG4gICAgdmFyIHJlc3VsdCA9IHJlc3VsdCB8fCBbXTtcbiAgICB2YXIgbGFzdCA9IGRpY3RBO1xuICAgIHZhciBjdXJyZW50ID0gZGljdEI7XG5cbiAgICByZXN1bHQubGVuZ3RoID0gMDtcblxuICAgIHZhciBsID0gY3VycmVudC5rZXlzLmxlbmd0aDtcbiAgICB3aGlsZShsLS0pe1xuICAgICAgICB2YXIga2V5ID0gY3VycmVudC5rZXlzW2xdO1xuICAgICAgICB2YXIgZGF0YSA9IGN1cnJlbnQuZGF0YVtrZXldO1xuXG4gICAgICAgIGlmKCFkYXRhKXtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignS2V5ICcra2V5KycgaGFkIG5vIGRhdGEhJyk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbGFzdERhdGEgPSBsYXN0LmRhdGFba2V5XTtcbiAgICAgICAgaWYoIWxhc3REYXRhKXtcbiAgICAgICAgICAgIC8vIE5vdCBvdmVybGFwcGluZyBpbiBsYXN0IHN0YXRlLCBidXQgaW4gY3VycmVudC5cbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKGRhdGEpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbk92ZXJsYXBLZWVwZXIucHJvdG90eXBlLmlzTmV3T3ZlcmxhcCA9IGZ1bmN0aW9uKHNoYXBlQSwgc2hhcGVCKXtcbiAgICB2YXIgaWRBID0gc2hhcGVBLmlkfDAsXG4gICAgICAgIGlkQiA9IHNoYXBlQi5pZHwwO1xuICAgIHZhciBsYXN0ID0gdGhpcy5vdmVybGFwcGluZ1NoYXBlc0xhc3RTdGF0ZTtcbiAgICB2YXIgY3VycmVudCA9IHRoaXMub3ZlcmxhcHBpbmdTaGFwZXNDdXJyZW50U3RhdGU7XG4gICAgLy8gTm90IGluIGxhc3QgYnV0IGluIG5ld1xuICAgIHJldHVybiAhISFsYXN0LmdldChpZEEsIGlkQikgJiYgISFjdXJyZW50LmdldChpZEEsIGlkQik7XG59O1xuXG5PdmVybGFwS2VlcGVyLnByb3RvdHlwZS5nZXROZXdCb2R5T3ZlcmxhcHMgPSBmdW5jdGlvbihyZXN1bHQpe1xuICAgIHRoaXMudG1wQXJyYXkxLmxlbmd0aCA9IDA7XG4gICAgdmFyIG92ZXJsYXBzID0gdGhpcy5nZXROZXdPdmVybGFwcyh0aGlzLnRtcEFycmF5MSk7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Qm9keURpZmYob3ZlcmxhcHMsIHJlc3VsdCk7XG59O1xuXG5PdmVybGFwS2VlcGVyLnByb3RvdHlwZS5nZXRFbmRCb2R5T3ZlcmxhcHMgPSBmdW5jdGlvbihyZXN1bHQpe1xuICAgIHRoaXMudG1wQXJyYXkxLmxlbmd0aCA9IDA7XG4gICAgdmFyIG92ZXJsYXBzID0gdGhpcy5nZXRFbmRPdmVybGFwcyh0aGlzLnRtcEFycmF5MSk7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Qm9keURpZmYob3ZlcmxhcHMsIHJlc3VsdCk7XG59O1xuXG5PdmVybGFwS2VlcGVyLnByb3RvdHlwZS5nZXRCb2R5RGlmZiA9IGZ1bmN0aW9uKG92ZXJsYXBzLCByZXN1bHQpe1xuICAgIHJlc3VsdCA9IHJlc3VsdCB8fCBbXTtcbiAgICB2YXIgYWNjdW11bGF0b3IgPSB0aGlzLnRtcERpY3Q7XG5cbiAgICB2YXIgbCA9IG92ZXJsYXBzLmxlbmd0aDtcblxuICAgIHdoaWxlKGwtLSl7XG4gICAgICAgIHZhciBkYXRhID0gb3ZlcmxhcHNbbF07XG5cbiAgICAgICAgLy8gU2luY2Ugd2UgdXNlIGJvZHkgaWQncyBmb3IgdGhlIGFjY3VtdWxhdG9yLCB0aGVzZSB3aWxsIGJlIGEgc3Vic2V0IG9mIHRoZSBvcmlnaW5hbCBvbmVcbiAgICAgICAgYWNjdW11bGF0b3Iuc2V0KGRhdGEuYm9keUEuaWR8MCwgZGF0YS5ib2R5Qi5pZHwwLCBkYXRhKTtcbiAgICB9XG5cbiAgICBsID0gYWNjdW11bGF0b3Iua2V5cy5sZW5ndGg7XG4gICAgd2hpbGUobC0tKXtcbiAgICAgICAgdmFyIGRhdGEgPSBhY2N1bXVsYXRvci5nZXRCeUtleShhY2N1bXVsYXRvci5rZXlzW2xdKTtcbiAgICAgICAgaWYoZGF0YSl7XG4gICAgICAgICAgICByZXN1bHQucHVzaChkYXRhLmJvZHlBLCBkYXRhLmJvZHlCKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFjY3VtdWxhdG9yLnJlc2V0KCk7XG5cbiAgICByZXR1cm4gcmVzdWx0O1xufTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3AyL3NyYy91dGlscy9PdmVybGFwS2VlcGVyLmpzXG4gKiogbW9kdWxlIGlkID0gMTExXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgT3ZlcmxhcEtlZXBlclJlY29yZCA9IHJlcXVpcmUoJy4vT3ZlcmxhcEtlZXBlclJlY29yZCcpO1xudmFyIFBvb2wgPSByZXF1aXJlKCcuL1Bvb2wnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBPdmVybGFwS2VlcGVyUmVjb3JkUG9vbDtcblxuLyoqXG4gKiBAY2xhc3NcbiAqL1xuZnVuY3Rpb24gT3ZlcmxhcEtlZXBlclJlY29yZFBvb2woKSB7XG5cdFBvb2wuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cbk92ZXJsYXBLZWVwZXJSZWNvcmRQb29sLnByb3RvdHlwZSA9IG5ldyBQb29sKCk7XG5PdmVybGFwS2VlcGVyUmVjb3JkUG9vbC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBPdmVybGFwS2VlcGVyUmVjb3JkUG9vbDtcblxuLyoqXG4gKiBAbWV0aG9kIGNyZWF0ZVxuICogQHJldHVybiB7T3ZlcmxhcEtlZXBlclJlY29yZH1cbiAqL1xuT3ZlcmxhcEtlZXBlclJlY29yZFBvb2wucHJvdG90eXBlLmNyZWF0ZSA9IGZ1bmN0aW9uICgpIHtcblx0cmV0dXJuIG5ldyBPdmVybGFwS2VlcGVyUmVjb3JkKCk7XG59O1xuXG4vKipcbiAqIEBtZXRob2QgZGVzdHJveVxuICogQHBhcmFtIHtPdmVybGFwS2VlcGVyUmVjb3JkfSByZWNvcmRcbiAqIEByZXR1cm4ge092ZXJsYXBLZWVwZXJSZWNvcmRQb29sfVxuICovXG5PdmVybGFwS2VlcGVyUmVjb3JkUG9vbC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIChyZWNvcmQpIHtcblx0cmVjb3JkLmJvZHlBID0gcmVjb3JkLmJvZHlCID0gcmVjb3JkLnNoYXBlQSA9IHJlY29yZC5zaGFwZUIgPSBudWxsO1xuXHRyZXR1cm4gdGhpcztcbn07XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9wMi9zcmMvdXRpbHMvT3ZlcmxhcEtlZXBlclJlY29yZFBvb2wuanNcbiAqKiBtb2R1bGUgaWQgPSAxMTJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciB2ZWMyID0gcmVxdWlyZSgnLi4vbWF0aC92ZWMyJylcbiwgICBJc2xhbmQgPSByZXF1aXJlKCcuL0lzbGFuZCcpXG4sICAgSXNsYW5kTm9kZSA9IHJlcXVpcmUoJy4vSXNsYW5kTm9kZScpXG4sICAgSXNsYW5kTm9kZVBvb2wgPSByZXF1aXJlKCcuLy4uL3V0aWxzL0lzbGFuZE5vZGVQb29sJylcbiwgICBJc2xhbmRQb29sID0gcmVxdWlyZSgnLi8uLi91dGlscy9Jc2xhbmRQb29sJylcbiwgICBCb2R5ID0gcmVxdWlyZSgnLi4vb2JqZWN0cy9Cb2R5Jyk7XG5cbm1vZHVsZS5leHBvcnRzID0gSXNsYW5kTWFuYWdlcjtcblxuLyoqXG4gKiBTcGxpdHMgdGhlIHN5c3RlbSBvZiBib2RpZXMgYW5kIGVxdWF0aW9ucyBpbnRvIGluZGVwZW5kZW50IGlzbGFuZHNcbiAqXG4gKiBAY2xhc3MgSXNsYW5kTWFuYWdlclxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gKiBAZXh0ZW5kcyBTb2x2ZXJcbiAqL1xuZnVuY3Rpb24gSXNsYW5kTWFuYWdlcihvcHRpb25zKXtcblxuICAgIC8qKlxuICAgICAqIEBwcm9wZXJ0eSBub2RlUG9vbFxuICAgICAqIEB0eXBlIHtJc2xhbmROb2RlUG9vbH1cbiAgICAgKi9cbiAgICB0aGlzLm5vZGVQb29sID0gbmV3IElzbGFuZE5vZGVQb29sKHsgc2l6ZTogMTYgfSk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJvcGVydHkgaXNsYW5kUG9vbFxuICAgICAqIEB0eXBlIHtJc2xhbmRQb29sfVxuICAgICAqL1xuICAgIHRoaXMuaXNsYW5kUG9vbCA9IG5ldyBJc2xhbmRQb29sKHsgc2l6ZTogOCB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBlcXVhdGlvbnMgdG8gc3BsaXQuIE1hbnVhbGx5IGZpbGwgdGhpcyBhcnJheSBiZWZvcmUgcnVubmluZyAuc3BsaXQoKS5cbiAgICAgKiBAcHJvcGVydHkge0FycmF5fSBlcXVhdGlvbnNcbiAgICAgKi9cbiAgICB0aGlzLmVxdWF0aW9ucyA9IFtdO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHJlc3VsdGluZyB7eyNjcm9zc0xpbmsgXCJJc2xhbmRcIn19e3svY3Jvc3NMaW5rfX1zLlxuICAgICAqIEBwcm9wZXJ0eSB7QXJyYXl9IGlzbGFuZHNcbiAgICAgKi9cbiAgICB0aGlzLmlzbGFuZHMgPSBbXTtcblxuICAgIC8qKlxuICAgICAqIFRoZSByZXN1bHRpbmcgZ3JhcGggbm9kZXMuXG4gICAgICogQHByb3BlcnR5IHtBcnJheX0gbm9kZXNcbiAgICAgKi9cbiAgICB0aGlzLm5vZGVzID0gW107XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbm9kZSBxdWV1ZSwgdXNlZCB3aGVuIHRyYXZlcnNpbmcgdGhlIGdyYXBoIG9mIG5vZGVzLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHByb3BlcnR5IHtBcnJheX0gcXVldWVcbiAgICAgKi9cbiAgICB0aGlzLnF1ZXVlID0gW107XG59XG5cbi8qKlxuICogR2V0IGFuIHVudmlzaXRlZCBub2RlIGZyb20gYSBsaXN0IG9mIG5vZGVzLlxuICogQHN0YXRpY1xuICogQG1ldGhvZCBnZXRVbnZpc2l0ZWROb2RlXG4gKiBAcGFyYW0gIHtBcnJheX0gbm9kZXNcbiAqIEByZXR1cm4ge0lzbGFuZE5vZGV8Ym9vbGVhbn0gVGhlIG5vZGUgaWYgZm91bmQsIGVsc2UgZmFsc2UuXG4gKi9cbklzbGFuZE1hbmFnZXIuZ2V0VW52aXNpdGVkTm9kZSA9IGZ1bmN0aW9uKG5vZGVzKXtcbiAgICB2YXIgTm5vZGVzID0gbm9kZXMubGVuZ3RoO1xuICAgIGZvcih2YXIgaT0wOyBpIT09Tm5vZGVzOyBpKyspe1xuICAgICAgICB2YXIgbm9kZSA9IG5vZGVzW2ldO1xuICAgICAgICBpZighbm9kZS52aXNpdGVkICYmIG5vZGUuYm9keS50eXBlID09PSBCb2R5LkRZTkFNSUMpe1xuICAgICAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufTtcblxuLyoqXG4gKiBWaXNpdCBhIG5vZGUuXG4gKiBAbWV0aG9kIHZpc2l0XG4gKiBAcGFyYW0gIHtJc2xhbmROb2RlfSBub2RlXG4gKiBAcGFyYW0gIHtBcnJheX0gYmRzXG4gKiBAcGFyYW0gIHtBcnJheX0gZXFzXG4gKi9cbklzbGFuZE1hbmFnZXIucHJvdG90eXBlLnZpc2l0ID0gZnVuY3Rpb24gKG5vZGUsYmRzLGVxcyl7XG4gICAgYmRzLnB1c2gobm9kZS5ib2R5KTtcbiAgICB2YXIgTmVxcyA9IG5vZGUuZXF1YXRpb25zLmxlbmd0aDtcbiAgICBmb3IodmFyIGk9MDsgaSE9PU5lcXM7IGkrKyl7XG4gICAgICAgIHZhciBlcSA9IG5vZGUuZXF1YXRpb25zW2ldO1xuICAgICAgICBpZihlcXMuaW5kZXhPZihlcSkgPT09IC0xKXsgLy8gQWxyZWFkeSBhZGRlZD9cbiAgICAgICAgICAgIGVxcy5wdXNoKGVxKTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5cbi8qKlxuICogUnVucyB0aGUgc2VhcmNoIGFsZ29yaXRobSwgc3RhcnRpbmcgYXQgYSByb290IG5vZGUuIFRoZSByZXN1bHRpbmcgYm9kaWVzIGFuZCBlcXVhdGlvbnMgd2lsbCBiZSBzdG9yZWQgaW4gdGhlIHByb3ZpZGVkIGFycmF5cy5cbiAqIEBtZXRob2QgYmZzXG4gKiBAcGFyYW0gIHtJc2xhbmROb2RlfSByb290IFRoZSBub2RlIHRvIHN0YXJ0IGZyb21cbiAqIEBwYXJhbSAge0FycmF5fSBiZHMgIEFuIGFycmF5IHRvIGFwcGVuZCByZXN1bHRpbmcgQm9kaWVzIHRvLlxuICogQHBhcmFtICB7QXJyYXl9IGVxcyAgQW4gYXJyYXkgdG8gYXBwZW5kIHJlc3VsdGluZyBFcXVhdGlvbnMgdG8uXG4gKi9cbklzbGFuZE1hbmFnZXIucHJvdG90eXBlLmJmcyA9IGZ1bmN0aW9uKHJvb3QsYmRzLGVxcyl7XG5cbiAgICAvLyBSZXNldCB0aGUgdmlzaXQgcXVldWVcbiAgICB2YXIgcXVldWUgPSB0aGlzLnF1ZXVlO1xuICAgIHF1ZXVlLmxlbmd0aCA9IDA7XG5cbiAgICAvLyBBZGQgcm9vdCBub2RlIHRvIHF1ZXVlXG4gICAgcXVldWUucHVzaChyb290KTtcbiAgICByb290LnZpc2l0ZWQgPSB0cnVlO1xuICAgIHRoaXMudmlzaXQocm9vdCxiZHMsZXFzKTtcblxuICAgIC8vIFByb2Nlc3MgYWxsIHF1ZXVlZCBub2Rlc1xuICAgIHdoaWxlKHF1ZXVlLmxlbmd0aCkge1xuXG4gICAgICAgIC8vIEdldCBuZXh0IG5vZGUgaW4gdGhlIHF1ZXVlXG4gICAgICAgIHZhciBub2RlID0gcXVldWUucG9wKCk7XG5cbiAgICAgICAgLy8gVmlzaXQgdW52aXNpdGVkIG5laWdoYm9yaW5nIG5vZGVzXG4gICAgICAgIHZhciBjaGlsZDtcbiAgICAgICAgd2hpbGUoKGNoaWxkID0gSXNsYW5kTWFuYWdlci5nZXRVbnZpc2l0ZWROb2RlKG5vZGUubmVpZ2hib3JzKSkpIHtcbiAgICAgICAgICAgIGNoaWxkLnZpc2l0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy52aXNpdChjaGlsZCxiZHMsZXFzKTtcblxuICAgICAgICAgICAgLy8gT25seSB2aXNpdCB0aGUgY2hpbGRyZW4gb2YgdGhpcyBub2RlIGlmIGl0J3MgZHluYW1pY1xuICAgICAgICAgICAgaWYoY2hpbGQuYm9keS50eXBlID09PSBCb2R5LkRZTkFNSUMpe1xuICAgICAgICAgICAgICAgIHF1ZXVlLnB1c2goY2hpbGQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufTtcblxuLyoqXG4gKiBTcGxpdCB0aGUgd29ybGQgaW50byBpbmRlcGVuZGVudCBpc2xhbmRzLiBUaGUgcmVzdWx0IGlzIHN0b3JlZCBpbiAuaXNsYW5kcy5cbiAqIEBtZXRob2Qgc3BsaXRcbiAqIEBwYXJhbSAge1dvcmxkfSB3b3JsZFxuICogQHJldHVybiB7QXJyYXl9IFRoZSBnZW5lcmF0ZWQgaXNsYW5kc1xuICovXG5Jc2xhbmRNYW5hZ2VyLnByb3RvdHlwZS5zcGxpdCA9IGZ1bmN0aW9uKHdvcmxkKXtcbiAgICB2YXIgYm9kaWVzID0gd29ybGQuYm9kaWVzLFxuICAgICAgICBub2RlcyA9IHRoaXMubm9kZXMsXG4gICAgICAgIGVxdWF0aW9ucyA9IHRoaXMuZXF1YXRpb25zO1xuXG4gICAgLy8gTW92ZSBvbGQgbm9kZXMgdG8gdGhlIG5vZGUgcG9vbFxuICAgIHdoaWxlKG5vZGVzLmxlbmd0aCl7XG4gICAgICAgIHRoaXMubm9kZVBvb2wucmVsZWFzZShub2Rlcy5wb3AoKSk7XG4gICAgfVxuXG4gICAgLy8gQ3JlYXRlIG5lZWRlZCBub2RlcywgcmV1c2UgaWYgcG9zc2libGVcbiAgICBmb3IodmFyIGk9MDsgaSE9PWJvZGllcy5sZW5ndGg7IGkrKyl7XG4gICAgICAgIHZhciBub2RlID0gdGhpcy5ub2RlUG9vbC5nZXQoKTtcbiAgICAgICAgbm9kZS5ib2R5ID0gYm9kaWVzW2ldO1xuICAgICAgICBub2Rlcy5wdXNoKG5vZGUpO1xuICAgICAgICAvLyBpZih0aGlzLm5vZGVQb29sLmxlbmd0aCl7XG4gICAgICAgIC8vICAgICB2YXIgbm9kZSA9IHRoaXMubm9kZVBvb2wucG9wKCk7XG4gICAgICAgIC8vICAgICBub2RlLnJlc2V0KCk7XG4gICAgICAgIC8vICAgICBub2RlLmJvZHkgPSBib2RpZXNbaV07XG4gICAgICAgIC8vICAgICBub2Rlcy5wdXNoKG5vZGUpO1xuICAgICAgICAvLyB9IGVsc2Uge1xuICAgICAgICAvLyAgICAgbm9kZXMucHVzaChuZXcgSXNsYW5kTm9kZShib2RpZXNbaV0pKTtcbiAgICAgICAgLy8gfVxuICAgIH1cblxuICAgIC8vIEFkZCBjb25uZWN0aXZpdHkgZGF0YS4gRWFjaCBlcXVhdGlvbiBjb25uZWN0cyAyIGJvZGllcy5cbiAgICBmb3IodmFyIGs9MDsgayE9PWVxdWF0aW9ucy5sZW5ndGg7IGsrKyl7XG4gICAgICAgIHZhciBlcT1lcXVhdGlvbnNba10sXG4gICAgICAgICAgICBpPWJvZGllcy5pbmRleE9mKGVxLmJvZHlBKSxcbiAgICAgICAgICAgIGo9Ym9kaWVzLmluZGV4T2YoZXEuYm9keUIpLFxuICAgICAgICAgICAgbmk9bm9kZXNbaV0sXG4gICAgICAgICAgICBuaj1ub2Rlc1tqXTtcbiAgICAgICAgbmkubmVpZ2hib3JzLnB1c2gobmopO1xuICAgICAgICBuai5uZWlnaGJvcnMucHVzaChuaSk7XG4gICAgICAgIG5pLmVxdWF0aW9ucy5wdXNoKGVxKTtcbiAgICAgICAgbmouZXF1YXRpb25zLnB1c2goZXEpO1xuICAgIH1cblxuICAgIC8vIE1vdmUgb2xkIGlzbGFuZHMgdG8gdGhlIGlzbGFuZCBwb29sXG4gICAgdmFyIGlzbGFuZHMgPSB0aGlzLmlzbGFuZHM7XG4gICAgZm9yKHZhciBpPTA7IGk8aXNsYW5kcy5sZW5ndGg7IGkrKyl7XG4gICAgICAgIHRoaXMuaXNsYW5kUG9vbC5yZWxlYXNlKGlzbGFuZHNbaV0pO1xuICAgIH1cbiAgICBpc2xhbmRzLmxlbmd0aCA9IDA7XG5cbiAgICAvLyBHZXQgaXNsYW5kc1xuICAgIHZhciBjaGlsZDtcbiAgICB3aGlsZSgoY2hpbGQgPSBJc2xhbmRNYW5hZ2VyLmdldFVudmlzaXRlZE5vZGUobm9kZXMpKSl7XG5cbiAgICAgICAgLy8gQ3JlYXRlIG5ldyBpc2xhbmRcbiAgICAgICAgdmFyIGlzbGFuZCA9IHRoaXMuaXNsYW5kUG9vbC5nZXQoKTtcblxuICAgICAgICAvLyBHZXQgYWxsIGVxdWF0aW9ucyBhbmQgYm9kaWVzIGluIHRoaXMgaXNsYW5kXG4gICAgICAgIHRoaXMuYmZzKGNoaWxkLCBpc2xhbmQuYm9kaWVzLCBpc2xhbmQuZXF1YXRpb25zKTtcblxuICAgICAgICBpc2xhbmRzLnB1c2goaXNsYW5kKTtcbiAgICB9XG5cbiAgICByZXR1cm4gaXNsYW5kcztcbn07XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9wMi9zcmMvd29ybGQvSXNsYW5kTWFuYWdlci5qc1xuICoqIG1vZHVsZSBpZCA9IDExM1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwidmFyICBHU1NvbHZlciA9IHJlcXVpcmUoJy4uL3NvbHZlci9HU1NvbHZlcicpXG4sICAgIFNvbHZlciA9IHJlcXVpcmUoJy4uL3NvbHZlci9Tb2x2ZXInKVxuLCAgICBSYXkgPSByZXF1aXJlKCcuLi9jb2xsaXNpb24vUmF5JylcbiwgICAgdmVjMiA9IHJlcXVpcmUoJy4uL21hdGgvdmVjMicpXG4sICAgIENpcmNsZSA9IHJlcXVpcmUoJy4uL3NoYXBlcy9DaXJjbGUnKVxuLCAgICBDb252ZXggPSByZXF1aXJlKCcuLi9zaGFwZXMvQ29udmV4JylcbiwgICAgTGluZSA9IHJlcXVpcmUoJy4uL3NoYXBlcy9MaW5lJylcbiwgICAgUGxhbmUgPSByZXF1aXJlKCcuLi9zaGFwZXMvUGxhbmUnKVxuLCAgICBDYXBzdWxlID0gcmVxdWlyZSgnLi4vc2hhcGVzL0NhcHN1bGUnKVxuLCAgICBQYXJ0aWNsZSA9IHJlcXVpcmUoJy4uL3NoYXBlcy9QYXJ0aWNsZScpXG4sICAgIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJy4uL2V2ZW50cy9FdmVudEVtaXR0ZXInKVxuLCAgICBCb2R5ID0gcmVxdWlyZSgnLi4vb2JqZWN0cy9Cb2R5JylcbiwgICAgU2hhcGUgPSByZXF1aXJlKCcuLi9zaGFwZXMvU2hhcGUnKVxuLCAgICBMaW5lYXJTcHJpbmcgPSByZXF1aXJlKCcuLi9vYmplY3RzL0xpbmVhclNwcmluZycpXG4sICAgIE1hdGVyaWFsID0gcmVxdWlyZSgnLi4vbWF0ZXJpYWwvTWF0ZXJpYWwnKVxuLCAgICBDb250YWN0TWF0ZXJpYWwgPSByZXF1aXJlKCcuLi9tYXRlcmlhbC9Db250YWN0TWF0ZXJpYWwnKVxuLCAgICBEaXN0YW5jZUNvbnN0cmFpbnQgPSByZXF1aXJlKCcuLi9jb25zdHJhaW50cy9EaXN0YW5jZUNvbnN0cmFpbnQnKVxuLCAgICBDb25zdHJhaW50ID0gcmVxdWlyZSgnLi4vY29uc3RyYWludHMvQ29uc3RyYWludCcpXG4sICAgIExvY2tDb25zdHJhaW50ID0gcmVxdWlyZSgnLi4vY29uc3RyYWludHMvTG9ja0NvbnN0cmFpbnQnKVxuLCAgICBSZXZvbHV0ZUNvbnN0cmFpbnQgPSByZXF1aXJlKCcuLi9jb25zdHJhaW50cy9SZXZvbHV0ZUNvbnN0cmFpbnQnKVxuLCAgICBQcmlzbWF0aWNDb25zdHJhaW50ID0gcmVxdWlyZSgnLi4vY29uc3RyYWludHMvUHJpc21hdGljQ29uc3RyYWludCcpXG4sICAgIEdlYXJDb25zdHJhaW50ID0gcmVxdWlyZSgnLi4vY29uc3RyYWludHMvR2VhckNvbnN0cmFpbnQnKVxuLCAgICBwa2cgPSByZXF1aXJlKCcuLi8uLi9wYWNrYWdlLmpzb24nKVxuLCAgICBCcm9hZHBoYXNlID0gcmVxdWlyZSgnLi4vY29sbGlzaW9uL0Jyb2FkcGhhc2UnKVxuLCAgICBBQUJCID0gcmVxdWlyZSgnLi4vY29sbGlzaW9uL0FBQkInKVxuLCAgICBTQVBCcm9hZHBoYXNlID0gcmVxdWlyZSgnLi4vY29sbGlzaW9uL1NBUEJyb2FkcGhhc2UnKVxuLCAgICBOYXJyb3dwaGFzZSA9IHJlcXVpcmUoJy4uL2NvbGxpc2lvbi9OYXJyb3dwaGFzZScpXG4sICAgIFV0aWxzID0gcmVxdWlyZSgnLi4vdXRpbHMvVXRpbHMnKVxuLCAgICBPdmVybGFwS2VlcGVyID0gcmVxdWlyZSgnLi4vdXRpbHMvT3ZlcmxhcEtlZXBlcicpXG4sICAgIElzbGFuZE1hbmFnZXIgPSByZXF1aXJlKCcuL0lzbGFuZE1hbmFnZXInKVxuLCAgICBSb3RhdGlvbmFsU3ByaW5nID0gcmVxdWlyZSgnLi4vb2JqZWN0cy9Sb3RhdGlvbmFsU3ByaW5nJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gV29ybGQ7XG5cbi8qKlxuICogVGhlIGR5bmFtaWNzIHdvcmxkLCB3aGVyZSBhbGwgYm9kaWVzIGFuZCBjb25zdHJhaW50cyBsaXZlLlxuICpcbiAqIEBjbGFzcyBXb3JsZFxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gKiBAcGFyYW0ge1NvbHZlcn0gW29wdGlvbnMuc29sdmVyXSBEZWZhdWx0cyB0byBHU1NvbHZlci5cbiAqIEBwYXJhbSB7QXJyYXl9IFtvcHRpb25zLmdyYXZpdHldIERlZmF1bHRzIHRvIHk9LTkuNzguXG4gKiBAcGFyYW0ge0Jyb2FkcGhhc2V9IFtvcHRpb25zLmJyb2FkcGhhc2VdIERlZmF1bHRzIHRvIFNBUEJyb2FkcGhhc2VcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuaXNsYW5kU3BsaXQ9dHJ1ZV1cbiAqIEBleHRlbmRzIEV2ZW50RW1pdHRlclxuICpcbiAqIEBleGFtcGxlXG4gKiAgICAgdmFyIHdvcmxkID0gbmV3IFdvcmxkKHtcbiAqICAgICAgICAgZ3Jhdml0eTogWzAsIC0xMF0sXG4gKiAgICAgICAgIGJyb2FkcGhhc2U6IG5ldyBTQVBCcm9hZHBoYXNlKClcbiAqICAgICB9KTtcbiAqICAgICB3b3JsZC5hZGRCb2R5KG5ldyBCb2R5KCkpO1xuICovXG5mdW5jdGlvbiBXb3JsZChvcHRpb25zKXtcbiAgICBFdmVudEVtaXR0ZXIuYXBwbHkodGhpcyk7XG5cbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICAgIC8qKlxuICAgICAqIEFsbCBzcHJpbmdzIGluIHRoZSB3b3JsZC4gVG8gYWRkIGEgc3ByaW5nIHRvIHRoZSB3b3JsZCwgdXNlIHt7I2Nyb3NzTGluayBcIldvcmxkL2FkZFNwcmluZzptZXRob2RcIn19e3svY3Jvc3NMaW5rfX0uXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgc3ByaW5nc1xuICAgICAqIEB0eXBlIHtBcnJheX1cbiAgICAgKi9cbiAgICB0aGlzLnNwcmluZ3MgPSBbXTtcblxuICAgIC8qKlxuICAgICAqIEFsbCBib2RpZXMgaW4gdGhlIHdvcmxkLiBUbyBhZGQgYSBib2R5IHRvIHRoZSB3b3JsZCwgdXNlIHt7I2Nyb3NzTGluayBcIldvcmxkL2FkZEJvZHk6bWV0aG9kXCJ9fXt7L2Nyb3NzTGlua319LlxuICAgICAqIEBwcm9wZXJ0eSB7QXJyYXl9IGJvZGllc1xuICAgICAqL1xuICAgIHRoaXMuYm9kaWVzID0gW107XG5cbiAgICAvKipcbiAgICAgKiBEaXNhYmxlZCBib2R5IGNvbGxpc2lvbiBwYWlycy4gU2VlIHt7I2Nyb3NzTGluayBcIldvcmxkL2Rpc2FibGVCb2R5Q29sbGlzaW9uOm1ldGhvZFwifX0uXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcHJvcGVydHkge0FycmF5fSBkaXNhYmxlZEJvZHlDb2xsaXNpb25QYWlyc1xuICAgICAqL1xuICAgIHRoaXMuZGlzYWJsZWRCb2R5Q29sbGlzaW9uUGFpcnMgPSBbXTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBzb2x2ZXIgdXNlZCB0byBzYXRpc2Z5IGNvbnN0cmFpbnRzIGFuZCBjb250YWN0cy4gRGVmYXVsdCBpcyB7eyNjcm9zc0xpbmsgXCJHU1NvbHZlclwifX17ey9jcm9zc0xpbmt9fS5cbiAgICAgKiBAcHJvcGVydHkge1NvbHZlcn0gc29sdmVyXG4gICAgICovXG4gICAgdGhpcy5zb2x2ZXIgPSBvcHRpb25zLnNvbHZlciB8fCBuZXcgR1NTb2x2ZXIoKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBuYXJyb3dwaGFzZSB0byB1c2UgdG8gZ2VuZXJhdGUgY29udGFjdHMuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgbmFycm93cGhhc2VcbiAgICAgKiBAdHlwZSB7TmFycm93cGhhc2V9XG4gICAgICovXG4gICAgdGhpcy5uYXJyb3dwaGFzZSA9IG5ldyBOYXJyb3dwaGFzZSh0aGlzKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBpc2xhbmQgbWFuYWdlciBvZiB0aGlzIHdvcmxkLlxuICAgICAqIEBwcm9wZXJ0eSB7SXNsYW5kTWFuYWdlcn0gaXNsYW5kTWFuYWdlclxuICAgICAqL1xuICAgIHRoaXMuaXNsYW5kTWFuYWdlciA9IG5ldyBJc2xhbmRNYW5hZ2VyKCk7XG5cbiAgICAvKipcbiAgICAgKiBHcmF2aXR5IGluIHRoZSB3b3JsZC4gVGhpcyBpcyBhcHBsaWVkIG9uIGFsbCBib2RpZXMgaW4gdGhlIGJlZ2lubmluZyBvZiBlYWNoIHN0ZXAoKS5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBncmF2aXR5XG4gICAgICogQHR5cGUge0FycmF5fVxuICAgICAqL1xuICAgIHRoaXMuZ3Jhdml0eSA9IHZlYzIuZnJvbVZhbHVlcygwLCAtOS43OCk7XG4gICAgaWYob3B0aW9ucy5ncmF2aXR5KXtcbiAgICAgICAgdmVjMi5jb3B5KHRoaXMuZ3Jhdml0eSwgb3B0aW9ucy5ncmF2aXR5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHcmF2aXR5IHRvIHVzZSB3aGVuIGFwcHJveGltYXRpbmcgdGhlIGZyaWN0aW9uIG1heCBmb3JjZSAobXUqbWFzcypncmF2aXR5KS5cbiAgICAgKiBAcHJvcGVydHkge051bWJlcn0gZnJpY3Rpb25HcmF2aXR5XG4gICAgICovXG4gICAgdGhpcy5mcmljdGlvbkdyYXZpdHkgPSB2ZWMyLmxlbmd0aCh0aGlzLmdyYXZpdHkpIHx8IDEwO1xuXG4gICAgLyoqXG4gICAgICogU2V0IHRvIHRydWUgaWYgeW91IHdhbnQgLmZyaWN0aW9uR3Jhdml0eSB0byBiZSBhdXRvbWF0aWNhbGx5IHNldCB0byB0aGUgbGVuZ3RoIG9mIC5ncmF2aXR5LlxuICAgICAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gdXNlV29ybGRHcmF2aXR5QXNGcmljdGlvbkdyYXZpdHlcbiAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICovXG4gICAgdGhpcy51c2VXb3JsZEdyYXZpdHlBc0ZyaWN0aW9uR3Jhdml0eSA9IHRydWU7XG5cbiAgICAvKipcbiAgICAgKiBJZiB0aGUgbGVuZ3RoIG9mIC5ncmF2aXR5IGlzIHplcm8sIGFuZCAudXNlV29ybGRHcmF2aXR5QXNGcmljdGlvbkdyYXZpdHk9dHJ1ZSwgdGhlbiBzd2l0Y2ggdG8gdXNpbmcgLmZyaWN0aW9uR3Jhdml0eSBmb3IgZnJpY3Rpb24gaW5zdGVhZC4gVGhpcyBmYWxsYmFjayBpcyB1c2VmdWwgZm9yIGdyYXZpdHlsZXNzIGdhbWVzLlxuICAgICAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gdXNlRnJpY3Rpb25HcmF2aXR5T25aZXJvR3Jhdml0eVxuICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgKi9cbiAgICB0aGlzLnVzZUZyaWN0aW9uR3Jhdml0eU9uWmVyb0dyYXZpdHkgPSB0cnVlO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGJyb2FkcGhhc2UgYWxnb3JpdGhtIHRvIHVzZS5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBicm9hZHBoYXNlXG4gICAgICogQHR5cGUge0Jyb2FkcGhhc2V9XG4gICAgICovXG4gICAgdGhpcy5icm9hZHBoYXNlID0gb3B0aW9ucy5icm9hZHBoYXNlIHx8IG5ldyBTQVBCcm9hZHBoYXNlKCk7XG4gICAgdGhpcy5icm9hZHBoYXNlLnNldFdvcmxkKHRoaXMpO1xuXG4gICAgLyoqXG4gICAgICogVXNlci1hZGRlZCBjb25zdHJhaW50cy5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBjb25zdHJhaW50c1xuICAgICAqIEB0eXBlIHtBcnJheX1cbiAgICAgKi9cbiAgICB0aGlzLmNvbnN0cmFpbnRzID0gW107XG5cbiAgICAvKipcbiAgICAgKiBEdW1teSBkZWZhdWx0IG1hdGVyaWFsIGluIHRoZSB3b3JsZCwgdXNlZCBpbiAuZGVmYXVsdENvbnRhY3RNYXRlcmlhbFxuICAgICAqIEBwcm9wZXJ0eSB7TWF0ZXJpYWx9IGRlZmF1bHRNYXRlcmlhbFxuICAgICAqL1xuICAgIHRoaXMuZGVmYXVsdE1hdGVyaWFsID0gbmV3IE1hdGVyaWFsKCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZGVmYXVsdCBjb250YWN0IG1hdGVyaWFsIHRvIHVzZSwgaWYgbm8gY29udGFjdCBtYXRlcmlhbCB3YXMgc2V0IGZvciB0aGUgY29sbGlkaW5nIG1hdGVyaWFscy5cbiAgICAgKiBAcHJvcGVydHkge0NvbnRhY3RNYXRlcmlhbH0gZGVmYXVsdENvbnRhY3RNYXRlcmlhbFxuICAgICAqL1xuICAgIHRoaXMuZGVmYXVsdENvbnRhY3RNYXRlcmlhbCA9IG5ldyBDb250YWN0TWF0ZXJpYWwodGhpcy5kZWZhdWx0TWF0ZXJpYWwsdGhpcy5kZWZhdWx0TWF0ZXJpYWwpO1xuXG4gICAgLyoqXG4gICAgICogRm9yIGtlZXBpbmcgdHJhY2sgb2Ygd2hhdCB0aW1lIHN0ZXAgc2l6ZSB3ZSB1c2VkIGxhc3Qgc3RlcFxuICAgICAqIEBwcm9wZXJ0eSBsYXN0VGltZVN0ZXBcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMubGFzdFRpbWVTdGVwID0gMS82MDtcblxuICAgIC8qKlxuICAgICAqIEVuYWJsZSB0byBhdXRvbWF0aWNhbGx5IGFwcGx5IHNwcmluZyBmb3JjZXMgZWFjaCBzdGVwLlxuICAgICAqIEBwcm9wZXJ0eSBhcHBseVNwcmluZ0ZvcmNlc1xuICAgICAqIEB0eXBlIHtCb29sZWFufVxuICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgKi9cbiAgICB0aGlzLmFwcGx5U3ByaW5nRm9yY2VzID0gdHJ1ZTtcblxuICAgIC8qKlxuICAgICAqIEVuYWJsZSB0byBhdXRvbWF0aWNhbGx5IGFwcGx5IGJvZHkgZGFtcGluZyBlYWNoIHN0ZXAuXG4gICAgICogQHByb3BlcnR5IGFwcGx5RGFtcGluZ1xuICAgICAqIEB0eXBlIHtCb29sZWFufVxuICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgKi9cbiAgICB0aGlzLmFwcGx5RGFtcGluZyA9IHRydWU7XG5cbiAgICAvKipcbiAgICAgKiBFbmFibGUgdG8gYXV0b21hdGljYWxseSBhcHBseSBncmF2aXR5IGVhY2ggc3RlcC5cbiAgICAgKiBAcHJvcGVydHkgYXBwbHlHcmF2aXR5XG4gICAgICogQHR5cGUge0Jvb2xlYW59XG4gICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAqL1xuICAgIHRoaXMuYXBwbHlHcmF2aXR5ID0gdHJ1ZTtcblxuICAgIC8qKlxuICAgICAqIEVuYWJsZS9kaXNhYmxlIGNvbnN0cmFpbnQgc29sdmluZyBpbiBlYWNoIHN0ZXAuXG4gICAgICogQHByb3BlcnR5IHNvbHZlQ29uc3RyYWludHNcbiAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICovXG4gICAgdGhpcy5zb2x2ZUNvbnN0cmFpbnRzID0gdHJ1ZTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBDb250YWN0TWF0ZXJpYWxzIGFkZGVkIHRvIHRoZSBXb3JsZC5cbiAgICAgKiBAcHJvcGVydHkgY29udGFjdE1hdGVyaWFsc1xuICAgICAqIEB0eXBlIHtBcnJheX1cbiAgICAgKi9cbiAgICB0aGlzLmNvbnRhY3RNYXRlcmlhbHMgPSBbXTtcblxuICAgIC8qKlxuICAgICAqIFdvcmxkIHRpbWUuXG4gICAgICogQHByb3BlcnR5IHRpbWVcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMudGltZSA9IDAuMDtcbiAgICB0aGlzLmFjY3VtdWxhdG9yID0gMDtcblxuICAgIC8qKlxuICAgICAqIElzIHRydWUgZHVyaW5nIHN0ZXAoKS5cbiAgICAgKiBAcHJvcGVydHkge0Jvb2xlYW59IHN0ZXBwaW5nXG4gICAgICovXG4gICAgdGhpcy5zdGVwcGluZyA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogQm9kaWVzIHRoYXQgYXJlIHNjaGVkdWxlZCB0byBiZSByZW1vdmVkIGF0IHRoZSBlbmQgb2YgdGhlIHN0ZXAuXG4gICAgICogQHByb3BlcnR5IHtBcnJheX0gYm9kaWVzVG9CZVJlbW92ZWRcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuYm9kaWVzVG9CZVJlbW92ZWQgPSBbXTtcblxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdG8gZW5hYmxlIGlzbGFuZCBzcGxpdHRpbmcuIElzbGFuZCBzcGxpdHRpbmcgY2FuIGJlIGFuIGFkdmFudGFnZSBmb3IgYm90aCBwcmVjaXNpb24gYW5kIHBlcmZvcm1hbmNlLiBTZWUge3sjY3Jvc3NMaW5rIFwiSXNsYW5kTWFuYWdlclwifX17ey9jcm9zc0xpbmt9fS5cbiAgICAgKiBAcHJvcGVydHkge0Jvb2xlYW59IGlzbGFuZFNwbGl0XG4gICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAqL1xuICAgIHRoaXMuaXNsYW5kU3BsaXQgPSB0eXBlb2Yob3B0aW9ucy5pc2xhbmRTcGxpdCkhPT1cInVuZGVmaW5lZFwiID8gISFvcHRpb25zLmlzbGFuZFNwbGl0IDogdHJ1ZTtcblxuICAgIC8qKlxuICAgICAqIFNldCB0byB0cnVlIGlmIHlvdSB3YW50IHRvIHRoZSB3b3JsZCB0byBlbWl0IHRoZSBcImltcGFjdFwiIGV2ZW50LiBUdXJuaW5nIHRoaXMgb2ZmIGNvdWxkIGltcHJvdmUgcGVyZm9ybWFuY2UuXG4gICAgICogQHByb3BlcnR5IGVtaXRJbXBhY3RFdmVudFxuICAgICAqIEB0eXBlIHtCb29sZWFufVxuICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgKi9cbiAgICB0aGlzLmVtaXRJbXBhY3RFdmVudCA9IHRydWU7XG5cbiAgICAvLyBJZCBjb3VudGVyc1xuICAgIHRoaXMuX2NvbnN0cmFpbnRJZENvdW50ZXIgPSAwO1xuICAgIHRoaXMuX2JvZHlJZENvdW50ZXIgPSAwO1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgYWZ0ZXIgdGhlIHN0ZXAoKS5cbiAgICAgKiBAZXZlbnQgcG9zdFN0ZXBcbiAgICAgKi9cbiAgICB0aGlzLnBvc3RTdGVwRXZlbnQgPSB7XG4gICAgICAgIHR5cGUgOiBcInBvc3RTdGVwXCJcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiBhIGJvZHkgaXMgYWRkZWQgdG8gdGhlIHdvcmxkLlxuICAgICAqIEBldmVudCBhZGRCb2R5XG4gICAgICogQHBhcmFtIHtCb2R5fSBib2R5XG4gICAgICovXG4gICAgdGhpcy5hZGRCb2R5RXZlbnQgPSB7XG4gICAgICAgIHR5cGUgOiBcImFkZEJvZHlcIixcbiAgICAgICAgYm9keSA6IG51bGxcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiBhIGJvZHkgaXMgcmVtb3ZlZCBmcm9tIHRoZSB3b3JsZC5cbiAgICAgKiBAZXZlbnQgcmVtb3ZlQm9keVxuICAgICAqIEBwYXJhbSB7Qm9keX0gYm9keVxuICAgICAqL1xuICAgIHRoaXMucmVtb3ZlQm9keUV2ZW50ID0ge1xuICAgICAgICB0eXBlIDogXCJyZW1vdmVCb2R5XCIsXG4gICAgICAgIGJvZHkgOiBudWxsXG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIHdoZW4gYSBzcHJpbmcgaXMgYWRkZWQgdG8gdGhlIHdvcmxkLlxuICAgICAqIEBldmVudCBhZGRTcHJpbmdcbiAgICAgKiBAcGFyYW0ge1NwcmluZ30gc3ByaW5nXG4gICAgICovXG4gICAgdGhpcy5hZGRTcHJpbmdFdmVudCA9IHtcbiAgICAgICAgdHlwZSA6IFwiYWRkU3ByaW5nXCIsXG4gICAgICAgIHNwcmluZyA6IG51bGxcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiBhIGZpcnN0IGNvbnRhY3QgaXMgY3JlYXRlZCBiZXR3ZWVuIHR3byBib2RpZXMuIFRoaXMgZXZlbnQgaXMgZmlyZWQgYWZ0ZXIgdGhlIHN0ZXAgaGFzIGJlZW4gZG9uZS5cbiAgICAgKiBAZXZlbnQgaW1wYWN0XG4gICAgICogQHBhcmFtIHtCb2R5fSBib2R5QVxuICAgICAqIEBwYXJhbSB7Qm9keX0gYm9keUJcbiAgICAgKi9cbiAgICB0aGlzLmltcGFjdEV2ZW50ID0ge1xuICAgICAgICB0eXBlOiBcImltcGFjdFwiLFxuICAgICAgICBib2R5QSA6IG51bGwsXG4gICAgICAgIGJvZHlCIDogbnVsbCxcbiAgICAgICAgc2hhcGVBIDogbnVsbCxcbiAgICAgICAgc2hhcGVCIDogbnVsbCxcbiAgICAgICAgY29udGFjdEVxdWF0aW9uIDogbnVsbFxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCBhZnRlciB0aGUgQnJvYWRwaGFzZSBoYXMgY29sbGVjdGVkIGNvbGxpc2lvbiBwYWlycyBpbiB0aGUgd29ybGQuXG4gICAgICogSW5zaWRlIHRoZSBldmVudCBoYW5kbGVyLCB5b3UgY2FuIG1vZGlmeSB0aGUgcGFpcnMgYXJyYXkgYXMgeW91IGxpa2UsIHRvXG4gICAgICogcHJldmVudCBjb2xsaXNpb25zIGJldHdlZW4gb2JqZWN0cyB0aGF0IHlvdSBkb24ndCB3YW50LlxuICAgICAqIEBldmVudCBwb3N0QnJvYWRwaGFzZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHBhaXJzIEFuIGFycmF5IG9mIGNvbGxpc2lvbiBwYWlycy4gSWYgdGhpcyBhcnJheSBpcyBbYm9keTEsYm9keTIsYm9keTMsYm9keTRdLCB0aGVuIHRoZSBib2R5IHBhaXJzIDEsMiBhbmQgMyw0IHdvdWxkIGFkdmFuY2UgdG8gbmFycm93cGhhc2UuXG4gICAgICovXG4gICAgdGhpcy5wb3N0QnJvYWRwaGFzZUV2ZW50ID0ge1xuICAgICAgICB0eXBlOiBcInBvc3RCcm9hZHBoYXNlXCIsXG4gICAgICAgIHBhaXJzOiBudWxsXG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEhvdyB0byBkZWFjdGl2YXRlIGJvZGllcyBkdXJpbmcgc2ltdWxhdGlvbi4gUG9zc2libGUgbW9kZXMgYXJlOiB7eyNjcm9zc0xpbmsgXCJXb3JsZC9OT19TTEVFUElORzpwcm9wZXJ0eVwifX1Xb3JsZC5OT19TTEVFUElOR3t7L2Nyb3NzTGlua319LCB7eyNjcm9zc0xpbmsgXCJXb3JsZC9CT0RZX1NMRUVQSU5HOnByb3BlcnR5XCJ9fVdvcmxkLkJPRFlfU0xFRVBJTkd7ey9jcm9zc0xpbmt9fSBhbmQge3sjY3Jvc3NMaW5rIFwiV29ybGQvSVNMQU5EX1NMRUVQSU5HOnByb3BlcnR5XCJ9fVdvcmxkLklTTEFORF9TTEVFUElOR3t7L2Nyb3NzTGlua319LlxuICAgICAqIElmIHNsZWVwaW5nIGlzIGVuYWJsZWQsIHlvdSBtaWdodCBuZWVkIHRvIHt7I2Nyb3NzTGluayBcIkJvZHkvd2FrZVVwOm1ldGhvZFwifX13YWtlIHVwe3svY3Jvc3NMaW5rfX0gdGhlIGJvZGllcyBpZiB0aGV5IGZhbGwgYXNsZWVwIHdoZW4gdGhleSBzaG91bGRuJ3QuIElmIHlvdSB3YW50IHRvIGVuYWJsZSBzbGVlcGluZyBpbiB0aGUgd29ybGQsIGJ1dCB3YW50IHRvIGRpc2FibGUgaXQgZm9yIGEgcGFydGljdWxhciBib2R5LCBzZWUge3sjY3Jvc3NMaW5rIFwiQm9keS9hbGxvd1NsZWVwOnByb3BlcnR5XCJ9fUJvZHkuYWxsb3dTbGVlcHt7L2Nyb3NzTGlua319LlxuICAgICAqIEBwcm9wZXJ0eSBzbGVlcE1vZGVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IFdvcmxkLk5PX1NMRUVQSU5HXG4gICAgICovXG4gICAgdGhpcy5zbGVlcE1vZGUgPSBXb3JsZC5OT19TTEVFUElORztcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIHdoZW4gdHdvIHNoYXBlcyBzdGFydHMgc3RhcnQgdG8gb3ZlcmxhcC4gRmlyZWQgaW4gdGhlIG5hcnJvd3BoYXNlLCBkdXJpbmcgc3RlcC5cbiAgICAgKiBAZXZlbnQgYmVnaW5Db250YWN0XG4gICAgICogQHBhcmFtIHtTaGFwZX0gc2hhcGVBXG4gICAgICogQHBhcmFtIHtTaGFwZX0gc2hhcGVCXG4gICAgICogQHBhcmFtIHtCb2R5fSAgYm9keUFcbiAgICAgKiBAcGFyYW0ge0JvZHl9ICBib2R5QlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGNvbnRhY3RFcXVhdGlvbnNcbiAgICAgKi9cbiAgICB0aGlzLmJlZ2luQ29udGFjdEV2ZW50ID0ge1xuICAgICAgICB0eXBlOiBcImJlZ2luQ29udGFjdFwiLFxuICAgICAgICBzaGFwZUE6IG51bGwsXG4gICAgICAgIHNoYXBlQjogbnVsbCxcbiAgICAgICAgYm9keUE6IG51bGwsXG4gICAgICAgIGJvZHlCOiBudWxsLFxuICAgICAgICBjb250YWN0RXF1YXRpb25zOiBbXVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIHR3byBzaGFwZXMgc3RvcCBvdmVybGFwcGluZywgYWZ0ZXIgdGhlIG5hcnJvd3BoYXNlIChkdXJpbmcgc3RlcCkuXG4gICAgICogQGV2ZW50IGVuZENvbnRhY3RcbiAgICAgKiBAcGFyYW0ge1NoYXBlfSBzaGFwZUFcbiAgICAgKiBAcGFyYW0ge1NoYXBlfSBzaGFwZUJcbiAgICAgKiBAcGFyYW0ge0JvZHl9ICBib2R5QVxuICAgICAqIEBwYXJhbSB7Qm9keX0gIGJvZHlCXG4gICAgICovXG4gICAgdGhpcy5lbmRDb250YWN0RXZlbnQgPSB7XG4gICAgICAgIHR5cGU6IFwiZW5kQ29udGFjdFwiLFxuICAgICAgICBzaGFwZUE6IG51bGwsXG4gICAgICAgIHNoYXBlQjogbnVsbCxcbiAgICAgICAgYm9keUE6IG51bGwsXG4gICAgICAgIGJvZHlCOiBudWxsXG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIGp1c3QgYmVmb3JlIGVxdWF0aW9ucyBhcmUgYWRkZWQgdG8gdGhlIHNvbHZlciB0byBiZSBzb2x2ZWQuIENhbiBiZSB1c2VkIHRvIGNvbnRyb2wgd2hhdCBlcXVhdGlvbnMgZ29lcyBpbnRvIHRoZSBzb2x2ZXIuXG4gICAgICogQGV2ZW50IHByZVNvbHZlXG4gICAgICogQHBhcmFtIHtBcnJheX0gY29udGFjdEVxdWF0aW9ucyAgQW4gYXJyYXkgb2YgY29udGFjdHMgdG8gYmUgc29sdmVkLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGZyaWN0aW9uRXF1YXRpb25zIEFuIGFycmF5IG9mIGZyaWN0aW9uIGVxdWF0aW9ucyB0byBiZSBzb2x2ZWQuXG4gICAgICovXG4gICAgdGhpcy5wcmVTb2x2ZUV2ZW50ID0ge1xuICAgICAgICB0eXBlOiBcInByZVNvbHZlXCIsXG4gICAgICAgIGNvbnRhY3RFcXVhdGlvbnM6IG51bGwsXG4gICAgICAgIGZyaWN0aW9uRXF1YXRpb25zOiBudWxsXG4gICAgfTtcblxuICAgIC8vIEZvciBrZWVwaW5nIHRyYWNrIG9mIG92ZXJsYXBwaW5nIHNoYXBlc1xuICAgIHRoaXMub3ZlcmxhcHBpbmdTaGFwZXNMYXN0U3RhdGUgPSB7IGtleXM6W10gfTtcbiAgICB0aGlzLm92ZXJsYXBwaW5nU2hhcGVzQ3VycmVudFN0YXRlID0geyBrZXlzOltdIH07XG5cbiAgICAvKipcbiAgICAgKiBAcHJvcGVydHkge092ZXJsYXBLZWVwZXJ9IG92ZXJsYXBLZWVwZXJcbiAgICAgKi9cbiAgICB0aGlzLm92ZXJsYXBLZWVwZXIgPSBuZXcgT3ZlcmxhcEtlZXBlcigpO1xufVxuV29ybGQucHJvdG90eXBlID0gbmV3IE9iamVjdChFdmVudEVtaXR0ZXIucHJvdG90eXBlKTtcbldvcmxkLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFdvcmxkO1xuXG4vKipcbiAqIE5ldmVyIGRlYWN0aXZhdGUgYm9kaWVzLlxuICogQHN0YXRpY1xuICogQHByb3BlcnR5IHtudW1iZXJ9IE5PX1NMRUVQSU5HXG4gKi9cbldvcmxkLk5PX1NMRUVQSU5HID0gMTtcblxuLyoqXG4gKiBEZWFjdGl2YXRlIGluZGl2aWR1YWwgYm9kaWVzIGlmIHRoZXkgYXJlIHNsZWVweS5cbiAqIEBzdGF0aWNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBCT0RZX1NMRUVQSU5HXG4gKi9cbldvcmxkLkJPRFlfU0xFRVBJTkcgPSAyO1xuXG4vKipcbiAqIERlYWN0aXZhdGVzIGJvZGllcyB0aGF0IGFyZSBpbiBjb250YWN0LCBpZiBhbGwgb2YgdGhlbSBhcmUgc2xlZXB5LiBOb3RlIHRoYXQgeW91IG11c3QgZW5hYmxlIHt7I2Nyb3NzTGluayBcIldvcmxkL2lzbGFuZFNwbGl0OnByb3BlcnR5XCJ9fS5pc2xhbmRTcGxpdHt7L2Nyb3NzTGlua319IGZvciB0aGlzIHRvIHdvcmsuXG4gKiBAc3RhdGljXG4gKiBAcHJvcGVydHkge251bWJlcn0gSVNMQU5EX1NMRUVQSU5HXG4gKi9cbldvcmxkLklTTEFORF9TTEVFUElORyA9IDQ7XG5cbi8qKlxuICogQWRkIGEgY29uc3RyYWludCB0byB0aGUgc2ltdWxhdGlvbi5cbiAqXG4gKiBAbWV0aG9kIGFkZENvbnN0cmFpbnRcbiAqIEBwYXJhbSB7Q29uc3RyYWludH0gY29uc3RyYWludFxuICogQGV4YW1wbGVcbiAqICAgICB2YXIgY29uc3RyYWludCA9IG5ldyBMb2NrQ29uc3RyYWludChib2R5QSwgYm9keUIpO1xuICogICAgIHdvcmxkLmFkZENvbnN0cmFpbnQoY29uc3RyYWludCk7XG4gKi9cbldvcmxkLnByb3RvdHlwZS5hZGRDb25zdHJhaW50ID0gZnVuY3Rpb24oY29uc3RyYWludCl7XG4gICAgdGhpcy5jb25zdHJhaW50cy5wdXNoKGNvbnN0cmFpbnQpO1xufTtcblxuLyoqXG4gKiBBZGQgYSBDb250YWN0TWF0ZXJpYWwgdG8gdGhlIHNpbXVsYXRpb24uXG4gKiBAbWV0aG9kIGFkZENvbnRhY3RNYXRlcmlhbFxuICogQHBhcmFtIHtDb250YWN0TWF0ZXJpYWx9IGNvbnRhY3RNYXRlcmlhbFxuICovXG5Xb3JsZC5wcm90b3R5cGUuYWRkQ29udGFjdE1hdGVyaWFsID0gZnVuY3Rpb24oY29udGFjdE1hdGVyaWFsKXtcbiAgICB0aGlzLmNvbnRhY3RNYXRlcmlhbHMucHVzaChjb250YWN0TWF0ZXJpYWwpO1xufTtcblxuLyoqXG4gKiBSZW1vdmVzIGEgY29udGFjdCBtYXRlcmlhbFxuICpcbiAqIEBtZXRob2QgcmVtb3ZlQ29udGFjdE1hdGVyaWFsXG4gKiBAcGFyYW0ge0NvbnRhY3RNYXRlcmlhbH0gY21cbiAqL1xuV29ybGQucHJvdG90eXBlLnJlbW92ZUNvbnRhY3RNYXRlcmlhbCA9IGZ1bmN0aW9uKGNtKXtcbiAgICB2YXIgaWR4ID0gdGhpcy5jb250YWN0TWF0ZXJpYWxzLmluZGV4T2YoY20pO1xuICAgIGlmKGlkeCE9PS0xKXtcbiAgICAgICAgVXRpbHMuc3BsaWNlKHRoaXMuY29udGFjdE1hdGVyaWFscyxpZHgsMSk7XG4gICAgfVxufTtcblxuLyoqXG4gKiBHZXQgYSBjb250YWN0IG1hdGVyaWFsIGdpdmVuIHR3byBtYXRlcmlhbHNcbiAqIEBtZXRob2QgZ2V0Q29udGFjdE1hdGVyaWFsXG4gKiBAcGFyYW0ge01hdGVyaWFsfSBtYXRlcmlhbEFcbiAqIEBwYXJhbSB7TWF0ZXJpYWx9IG1hdGVyaWFsQlxuICogQHJldHVybiB7Q29udGFjdE1hdGVyaWFsfSBUaGUgbWF0Y2hpbmcgQ29udGFjdE1hdGVyaWFsLCBvciBmYWxzZSBvbiBmYWlsLlxuICogQHRvZG8gVXNlIGZhc3RlciBoYXNoIG1hcCB0byBsb29rdXAgZnJvbSBtYXRlcmlhbCBpZCdzXG4gKi9cbldvcmxkLnByb3RvdHlwZS5nZXRDb250YWN0TWF0ZXJpYWwgPSBmdW5jdGlvbihtYXRlcmlhbEEsbWF0ZXJpYWxCKXtcbiAgICB2YXIgY21hdHMgPSB0aGlzLmNvbnRhY3RNYXRlcmlhbHM7XG4gICAgZm9yKHZhciBpPTAsIE49Y21hdHMubGVuZ3RoOyBpIT09TjsgaSsrKXtcbiAgICAgICAgdmFyIGNtID0gY21hdHNbaV07XG4gICAgICAgIGlmKCAoY20ubWF0ZXJpYWxBLmlkID09PSBtYXRlcmlhbEEuaWQpICYmIChjbS5tYXRlcmlhbEIuaWQgPT09IG1hdGVyaWFsQi5pZCkgfHxcbiAgICAgICAgICAgIChjbS5tYXRlcmlhbEEuaWQgPT09IG1hdGVyaWFsQi5pZCkgJiYgKGNtLm1hdGVyaWFsQi5pZCA9PT0gbWF0ZXJpYWxBLmlkKSApe1xuICAgICAgICAgICAgcmV0dXJuIGNtO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn07XG5cbi8qKlxuICogUmVtb3ZlcyBhIGNvbnN0cmFpbnRcbiAqXG4gKiBAbWV0aG9kIHJlbW92ZUNvbnN0cmFpbnRcbiAqIEBwYXJhbSB7Q29uc3RyYWludH0gY29uc3RyYWludFxuICovXG5Xb3JsZC5wcm90b3R5cGUucmVtb3ZlQ29uc3RyYWludCA9IGZ1bmN0aW9uKGNvbnN0cmFpbnQpe1xuICAgIHZhciBpZHggPSB0aGlzLmNvbnN0cmFpbnRzLmluZGV4T2YoY29uc3RyYWludCk7XG4gICAgaWYoaWR4IT09LTEpe1xuICAgICAgICBVdGlscy5zcGxpY2UodGhpcy5jb25zdHJhaW50cyxpZHgsMSk7XG4gICAgfVxufTtcblxudmFyIHN0ZXBfciA9IHZlYzIuY3JlYXRlKCksXG4gICAgc3RlcF9ydW5pdCA9IHZlYzIuY3JlYXRlKCksXG4gICAgc3RlcF91ID0gdmVjMi5jcmVhdGUoKSxcbiAgICBzdGVwX2YgPSB2ZWMyLmNyZWF0ZSgpLFxuICAgIHN0ZXBfZmhNaW52ID0gdmVjMi5jcmVhdGUoKSxcbiAgICBzdGVwX3ZlbG9kdCA9IHZlYzIuY3JlYXRlKCksXG4gICAgc3RlcF9tZyA9IHZlYzIuY3JlYXRlKCksXG4gICAgeGl3ID0gdmVjMi5mcm9tVmFsdWVzKDAsMCksXG4gICAgeGp3ID0gdmVjMi5mcm9tVmFsdWVzKDAsMCksXG4gICAgemVybyA9IHZlYzIuZnJvbVZhbHVlcygwLDApLFxuICAgIGludGVycHZlbG8gPSB2ZWMyLmZyb21WYWx1ZXMoMCwwKTtcblxuLyoqXG4gKiBTdGVwIHRoZSBwaHlzaWNzIHdvcmxkIGZvcndhcmQgaW4gdGltZS5cbiAqXG4gKiBUaGVyZSBhcmUgdHdvIG1vZGVzLiBUaGUgc2ltcGxlIG1vZGUgaXMgZml4ZWQgdGltZXN0ZXBwaW5nIHdpdGhvdXQgaW50ZXJwb2xhdGlvbi4gSW4gdGhpcyBjYXNlIHlvdSBvbmx5IHVzZSB0aGUgZmlyc3QgYXJndW1lbnQuIFRoZSBzZWNvbmQgY2FzZSB1c2VzIGludGVycG9sYXRpb24uIEluIHRoYXQgeW91IGFsc28gcHJvdmlkZSB0aGUgdGltZSBzaW5jZSB0aGUgZnVuY3Rpb24gd2FzIGxhc3QgdXNlZCwgYXMgd2VsbCBhcyB0aGUgbWF4aW11bSBmaXhlZCB0aW1lc3RlcHMgdG8gdGFrZS5cbiAqXG4gKiBAbWV0aG9kIHN0ZXBcbiAqIEBwYXJhbSB7TnVtYmVyfSBkdCAgICAgICAgICAgICAgICAgICAgICAgVGhlIGZpeGVkIHRpbWUgc3RlcCBzaXplIHRvIHVzZS5cbiAqIEBwYXJhbSB7TnVtYmVyfSBbdGltZVNpbmNlTGFzdENhbGxlZD0wXSAgVGhlIHRpbWUgZWxhcHNlZCBzaW5jZSB0aGUgZnVuY3Rpb24gd2FzIGxhc3QgY2FsbGVkLlxuICogQHBhcmFtIHtOdW1iZXJ9IFttYXhTdWJTdGVwcz0xMF0gICAgICAgICBNYXhpbXVtIG51bWJlciBvZiBmaXhlZCBzdGVwcyB0byB0YWtlIHBlciBmdW5jdGlvbiBjYWxsLlxuICpcbiAqIEBleGFtcGxlXG4gKiAgICAgLy8gU2ltcGxlIGZpeGVkIHRpbWVzdGVwcGluZyB3aXRob3V0IGludGVycG9sYXRpb25cbiAqICAgICB2YXIgZml4ZWRUaW1lU3RlcCA9IDEgLyA2MDtcbiAqICAgICB2YXIgd29ybGQgPSBuZXcgV29ybGQoKTtcbiAqICAgICB2YXIgYm9keSA9IG5ldyBCb2R5KHsgbWFzczogMSB9KTtcbiAqICAgICB3b3JsZC5hZGRCb2R5KGJvZHkpO1xuICpcbiAqICAgICBmdW5jdGlvbiBhbmltYXRlKCl7XG4gKiAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShhbmltYXRlKTtcbiAqICAgICAgICAgd29ybGQuc3RlcChmaXhlZFRpbWVTdGVwKTtcbiAqICAgICAgICAgcmVuZGVyQm9keShib2R5LnBvc2l0aW9uLCBib2R5LmFuZ2xlKTtcbiAqICAgICB9XG4gKlxuICogICAgIC8vIFN0YXJ0IGFuaW1hdGlvbiBsb29wXG4gKiAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGFuaW1hdGUpO1xuICpcbiAqIEBleGFtcGxlXG4gKiAgICAgLy8gRml4ZWQgdGltZXN0ZXBwaW5nIHdpdGggaW50ZXJwb2xhdGlvblxuICogICAgIHZhciBtYXhTdWJTdGVwcyA9IDEwO1xuICogICAgIHZhciBsYXN0VGltZVNlY29uZHM7XG4gKlxuICogICAgIGZ1bmN0aW9uIGFuaW1hdGUodCl7XG4gKiAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShhbmltYXRlKTtcbiAqICAgICAgICAgdGltZVNlY29uZHMgPSB0IC8gMTAwMDtcbiAqICAgICAgICAgbGFzdFRpbWVTZWNvbmRzID0gbGFzdFRpbWVTZWNvbmRzIHx8IHRpbWVTZWNvbmRzO1xuICpcbiAqICAgICAgICAgZGVsdGFUaW1lID0gdGltZVNlY29uZHMgLSBsYXN0VGltZVNlY29uZHM7XG4gKiAgICAgICAgIHdvcmxkLnN0ZXAoZml4ZWRUaW1lU3RlcCwgZGVsdGFUaW1lLCBtYXhTdWJTdGVwcyk7XG4gKlxuICogICAgICAgICByZW5kZXJCb2R5KGJvZHkuaW50ZXJwb2xhdGVkUG9zaXRpb24sIGJvZHkuaW50ZXJwb2xhdGVkQW5nbGUpO1xuICogICAgIH1cbiAqXG4gKiAgICAgLy8gU3RhcnQgYW5pbWF0aW9uIGxvb3BcbiAqICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoYW5pbWF0ZSk7XG4gKlxuICogQHNlZSBodHRwOi8vYnVsbGV0cGh5c2ljcy5vcmcvbWVkaWF3aWtpLTEuNS44L2luZGV4LnBocC9TdGVwcGluZ19UaGVfV29ybGRcbiAqL1xuV29ybGQucHJvdG90eXBlLnN0ZXAgPSBmdW5jdGlvbihkdCx0aW1lU2luY2VMYXN0Q2FsbGVkLG1heFN1YlN0ZXBzKXtcbiAgICBtYXhTdWJTdGVwcyA9IG1heFN1YlN0ZXBzIHx8IDEwO1xuICAgIHRpbWVTaW5jZUxhc3RDYWxsZWQgPSB0aW1lU2luY2VMYXN0Q2FsbGVkIHx8IDA7XG5cbiAgICBpZih0aW1lU2luY2VMYXN0Q2FsbGVkID09PSAwKXsgLy8gRml4ZWQsIHNpbXBsZSBzdGVwcGluZ1xuXG4gICAgICAgIHRoaXMuaW50ZXJuYWxTdGVwKGR0KTtcblxuICAgICAgICAvLyBJbmNyZW1lbnQgdGltZVxuICAgICAgICB0aGlzLnRpbWUgKz0gZHQ7XG5cbiAgICB9IGVsc2Uge1xuXG4gICAgICAgIHRoaXMuYWNjdW11bGF0b3IgKz0gdGltZVNpbmNlTGFzdENhbGxlZDtcbiAgICAgICAgdmFyIHN1YnN0ZXBzID0gMDtcbiAgICAgICAgd2hpbGUgKHRoaXMuYWNjdW11bGF0b3IgPj0gZHQgJiYgc3Vic3RlcHMgPCBtYXhTdWJTdGVwcykge1xuICAgICAgICAgICAgLy8gRG8gZml4ZWQgc3RlcHMgdG8gY2F0Y2ggdXBcbiAgICAgICAgICAgIHRoaXMuaW50ZXJuYWxTdGVwKGR0KTtcbiAgICAgICAgICAgIHRoaXMudGltZSArPSBkdDtcbiAgICAgICAgICAgIHRoaXMuYWNjdW11bGF0b3IgLT0gZHQ7XG4gICAgICAgICAgICBzdWJzdGVwcysrO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHQgPSAodGhpcy5hY2N1bXVsYXRvciAlIGR0KSAvIGR0O1xuICAgICAgICBmb3IodmFyIGo9MDsgaiE9PXRoaXMuYm9kaWVzLmxlbmd0aDsgaisrKXtcbiAgICAgICAgICAgIHZhciBiID0gdGhpcy5ib2RpZXNbal07XG4gICAgICAgICAgICB2ZWMyLmxlcnAoYi5pbnRlcnBvbGF0ZWRQb3NpdGlvbiwgYi5wcmV2aW91c1Bvc2l0aW9uLCBiLnBvc2l0aW9uLCB0KTtcbiAgICAgICAgICAgIGIuaW50ZXJwb2xhdGVkQW5nbGUgPSBiLnByZXZpb3VzQW5nbGUgKyB0ICogKGIuYW5nbGUgLSBiLnByZXZpb3VzQW5nbGUpO1xuICAgICAgICB9XG4gICAgfVxufTtcblxudmFyIGVuZE92ZXJsYXBzID0gW107XG5cbi8qKlxuICogTWFrZSBhIGZpeGVkIHN0ZXAuXG4gKiBAbWV0aG9kIGludGVybmFsU3RlcFxuICogQHBhcmFtICB7bnVtYmVyfSBkdFxuICogQHByaXZhdGVcbiAqL1xuV29ybGQucHJvdG90eXBlLmludGVybmFsU3RlcCA9IGZ1bmN0aW9uKGR0KXtcbiAgICB0aGlzLnN0ZXBwaW5nID0gdHJ1ZTtcblxuICAgIHZhciB0aGF0ID0gdGhpcyxcbiAgICAgICAgTnNwcmluZ3MgPSB0aGlzLnNwcmluZ3MubGVuZ3RoLFxuICAgICAgICBzcHJpbmdzID0gdGhpcy5zcHJpbmdzLFxuICAgICAgICBib2RpZXMgPSB0aGlzLmJvZGllcyxcbiAgICAgICAgZyA9IHRoaXMuZ3Jhdml0eSxcbiAgICAgICAgc29sdmVyID0gdGhpcy5zb2x2ZXIsXG4gICAgICAgIE5ib2RpZXMgPSB0aGlzLmJvZGllcy5sZW5ndGgsXG4gICAgICAgIGJyb2FkcGhhc2UgPSB0aGlzLmJyb2FkcGhhc2UsXG4gICAgICAgIG5wID0gdGhpcy5uYXJyb3dwaGFzZSxcbiAgICAgICAgY29uc3RyYWludHMgPSB0aGlzLmNvbnN0cmFpbnRzLFxuICAgICAgICB0MCwgdDEsXG4gICAgICAgIGZoTWludiA9IHN0ZXBfZmhNaW52LFxuICAgICAgICB2ZWxvZHQgPSBzdGVwX3ZlbG9kdCxcbiAgICAgICAgbWcgPSBzdGVwX21nLFxuICAgICAgICBzY2FsZSA9IHZlYzIuc2NhbGUsXG4gICAgICAgIGFkZCA9IHZlYzIuYWRkLFxuICAgICAgICByb3RhdGUgPSB2ZWMyLnJvdGF0ZSxcbiAgICAgICAgaXNsYW5kTWFuYWdlciA9IHRoaXMuaXNsYW5kTWFuYWdlcjtcblxuICAgIHRoaXMub3ZlcmxhcEtlZXBlci50aWNrKCk7XG5cbiAgICB0aGlzLmxhc3RUaW1lU3RlcCA9IGR0O1xuXG4gICAgLy8gVXBkYXRlIGFwcHJveGltYXRlIGZyaWN0aW9uIGdyYXZpdHkuXG4gICAgaWYodGhpcy51c2VXb3JsZEdyYXZpdHlBc0ZyaWN0aW9uR3Jhdml0eSl7XG4gICAgICAgIHZhciBncmF2aXR5TGVuID0gdmVjMi5sZW5ndGgodGhpcy5ncmF2aXR5KTtcbiAgICAgICAgaWYoIShncmF2aXR5TGVuID09PSAwICYmIHRoaXMudXNlRnJpY3Rpb25HcmF2aXR5T25aZXJvR3Jhdml0eSkpe1xuICAgICAgICAgICAgLy8gTm9uemVybyBncmF2aXR5LiBVc2UgaXQuXG4gICAgICAgICAgICB0aGlzLmZyaWN0aW9uR3Jhdml0eSA9IGdyYXZpdHlMZW47XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBBZGQgZ3Jhdml0eSB0byBib2RpZXNcbiAgICBpZih0aGlzLmFwcGx5R3Jhdml0eSl7XG4gICAgICAgIGZvcih2YXIgaT0wOyBpIT09TmJvZGllczsgaSsrKXtcbiAgICAgICAgICAgIHZhciBiID0gYm9kaWVzW2ldLFxuICAgICAgICAgICAgICAgIGZpID0gYi5mb3JjZTtcbiAgICAgICAgICAgIGlmKGIudHlwZSAhPT0gQm9keS5EWU5BTUlDIHx8IGIuc2xlZXBTdGF0ZSA9PT0gQm9keS5TTEVFUElORyl7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2ZWMyLnNjYWxlKG1nLGcsYi5tYXNzKmIuZ3Jhdml0eVNjYWxlKTsgLy8gRj1tKmdcbiAgICAgICAgICAgIGFkZChmaSxmaSxtZyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBBZGQgc3ByaW5nIGZvcmNlc1xuICAgIGlmKHRoaXMuYXBwbHlTcHJpbmdGb3JjZXMpe1xuICAgICAgICBmb3IodmFyIGk9MDsgaSE9PU5zcHJpbmdzOyBpKyspe1xuICAgICAgICAgICAgdmFyIHMgPSBzcHJpbmdzW2ldO1xuICAgICAgICAgICAgcy5hcHBseUZvcmNlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZih0aGlzLmFwcGx5RGFtcGluZyl7XG4gICAgICAgIGZvcih2YXIgaT0wOyBpIT09TmJvZGllczsgaSsrKXtcbiAgICAgICAgICAgIHZhciBiID0gYm9kaWVzW2ldO1xuICAgICAgICAgICAgaWYoYi50eXBlID09PSBCb2R5LkRZTkFNSUMpe1xuICAgICAgICAgICAgICAgIGIuYXBwbHlEYW1waW5nKGR0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIEJyb2FkcGhhc2VcbiAgICB2YXIgcmVzdWx0ID0gYnJvYWRwaGFzZS5nZXRDb2xsaXNpb25QYWlycyh0aGlzKTtcblxuICAgIC8vIFJlbW92ZSBpZ25vcmVkIGNvbGxpc2lvbiBwYWlyc1xuICAgIHZhciBpZ25vcmVkUGFpcnMgPSB0aGlzLmRpc2FibGVkQm9keUNvbGxpc2lvblBhaXJzO1xuICAgIGZvcih2YXIgaT1pZ25vcmVkUGFpcnMubGVuZ3RoLTI7IGk+PTA7IGktPTIpe1xuICAgICAgICBmb3IodmFyIGo9cmVzdWx0Lmxlbmd0aC0yOyBqPj0wOyBqLT0yKXtcbiAgICAgICAgICAgIGlmKCAoaWdub3JlZFBhaXJzW2ldICAgPT09IHJlc3VsdFtqXSAmJiBpZ25vcmVkUGFpcnNbaSsxXSA9PT0gcmVzdWx0W2orMV0pIHx8XG4gICAgICAgICAgICAgICAgKGlnbm9yZWRQYWlyc1tpKzFdID09PSByZXN1bHRbal0gJiYgaWdub3JlZFBhaXJzW2ldICAgPT09IHJlc3VsdFtqKzFdKSl7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnNwbGljZShqLDIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gUmVtb3ZlIGNvbnN0cmFpbmVkIHBhaXJzIHdpdGggY29sbGlkZUNvbm5lY3RlZCA9PSBmYWxzZVxuICAgIHZhciBOY29uc3RyYWludHMgPSBjb25zdHJhaW50cy5sZW5ndGg7XG4gICAgZm9yKGk9MDsgaSE9PU5jb25zdHJhaW50czsgaSsrKXtcbiAgICAgICAgdmFyIGMgPSBjb25zdHJhaW50c1tpXTtcbiAgICAgICAgaWYoIWMuY29sbGlkZUNvbm5lY3RlZCl7XG4gICAgICAgICAgICBmb3IodmFyIGo9cmVzdWx0Lmxlbmd0aC0yOyBqPj0wOyBqLT0yKXtcbiAgICAgICAgICAgICAgICBpZiggKGMuYm9keUEgPT09IHJlc3VsdFtqXSAmJiBjLmJvZHlCID09PSByZXN1bHRbaisxXSkgfHxcbiAgICAgICAgICAgICAgICAgICAgKGMuYm9keUIgPT09IHJlc3VsdFtqXSAmJiBjLmJvZHlBID09PSByZXN1bHRbaisxXSkpe1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQuc3BsaWNlKGosMik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gcG9zdEJyb2FkcGhhc2UgZXZlbnRcbiAgICB0aGlzLnBvc3RCcm9hZHBoYXNlRXZlbnQucGFpcnMgPSByZXN1bHQ7XG4gICAgdGhpcy5lbWl0KHRoaXMucG9zdEJyb2FkcGhhc2VFdmVudCk7XG4gICAgdGhpcy5wb3N0QnJvYWRwaGFzZUV2ZW50LnBhaXJzID0gbnVsbDtcblxuICAgIC8vIE5hcnJvd3BoYXNlXG4gICAgbnAucmVzZXQodGhpcyk7XG4gICAgZm9yKHZhciBpPTAsIE5yZXN1bHRzPXJlc3VsdC5sZW5ndGg7IGkhPT1OcmVzdWx0czsgaSs9Mil7XG4gICAgICAgIHZhciBiaSA9IHJlc3VsdFtpXSxcbiAgICAgICAgICAgIGJqID0gcmVzdWx0W2krMV07XG5cbiAgICAgICAgLy8gTG9vcCBvdmVyIGFsbCBzaGFwZXMgb2YgYm9keSBpXG4gICAgICAgIGZvcih2YXIgaz0wLCBOc2hhcGVzaT1iaS5zaGFwZXMubGVuZ3RoOyBrIT09TnNoYXBlc2k7IGsrKyl7XG4gICAgICAgICAgICB2YXIgc2kgPSBiaS5zaGFwZXNba10sXG4gICAgICAgICAgICAgICAgeGkgPSBzaS5wb3NpdGlvbixcbiAgICAgICAgICAgICAgICBhaSA9IHNpLmFuZ2xlO1xuXG4gICAgICAgICAgICAvLyBBbGwgc2hhcGVzIG9mIGJvZHkgalxuICAgICAgICAgICAgZm9yKHZhciBsPTAsIE5zaGFwZXNqPWJqLnNoYXBlcy5sZW5ndGg7IGwhPT1Oc2hhcGVzajsgbCsrKXtcbiAgICAgICAgICAgICAgICB2YXIgc2ogPSBiai5zaGFwZXNbbF0sXG4gICAgICAgICAgICAgICAgICAgIHhqID0gc2oucG9zaXRpb24sXG4gICAgICAgICAgICAgICAgICAgIGFqID0gc2ouYW5nbGU7XG5cbiAgICAgICAgICAgICAgICB2YXIgY20gPSB0aGlzLmRlZmF1bHRDb250YWN0TWF0ZXJpYWw7XG4gICAgICAgICAgICAgICAgaWYoc2kubWF0ZXJpYWwgJiYgc2oubWF0ZXJpYWwpe1xuICAgICAgICAgICAgICAgICAgICB2YXIgdG1wID0gdGhpcy5nZXRDb250YWN0TWF0ZXJpYWwoc2kubWF0ZXJpYWwsc2oubWF0ZXJpYWwpO1xuICAgICAgICAgICAgICAgICAgICBpZih0bXApe1xuICAgICAgICAgICAgICAgICAgICAgICAgY20gPSB0bXA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLnJ1bk5hcnJvd3BoYXNlKG5wLGJpLHNpLHhpLGFpLGJqLHNqLHhqLGFqLGNtLHRoaXMuZnJpY3Rpb25HcmF2aXR5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIFdha2UgdXAgYm9kaWVzXG4gICAgZm9yKHZhciBpPTA7IGkhPT1OYm9kaWVzOyBpKyspe1xuICAgICAgICB2YXIgYm9keSA9IGJvZGllc1tpXTtcbiAgICAgICAgaWYoYm9keS5fd2FrZVVwQWZ0ZXJOYXJyb3dwaGFzZSl7XG4gICAgICAgICAgICBib2R5Lndha2VVcCgpO1xuICAgICAgICAgICAgYm9keS5fd2FrZVVwQWZ0ZXJOYXJyb3dwaGFzZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gRW1pdCBlbmQgb3ZlcmxhcCBldmVudHNcbiAgICBpZih0aGlzLmhhcygnZW5kQ29udGFjdCcpKXtcbiAgICAgICAgdGhpcy5vdmVybGFwS2VlcGVyLmdldEVuZE92ZXJsYXBzKGVuZE92ZXJsYXBzKTtcbiAgICAgICAgdmFyIGUgPSB0aGlzLmVuZENvbnRhY3RFdmVudDtcbiAgICAgICAgdmFyIGwgPSBlbmRPdmVybGFwcy5sZW5ndGg7XG4gICAgICAgIHdoaWxlKGwtLSl7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IGVuZE92ZXJsYXBzW2xdO1xuICAgICAgICAgICAgZS5zaGFwZUEgPSBkYXRhLnNoYXBlQTtcbiAgICAgICAgICAgIGUuc2hhcGVCID0gZGF0YS5zaGFwZUI7XG4gICAgICAgICAgICBlLmJvZHlBID0gZGF0YS5ib2R5QTtcbiAgICAgICAgICAgIGUuYm9keUIgPSBkYXRhLmJvZHlCO1xuICAgICAgICAgICAgdGhpcy5lbWl0KGUpO1xuICAgICAgICB9XG4gICAgICAgIGVuZE92ZXJsYXBzLmxlbmd0aCA9IDA7XG4gICAgfVxuXG4gICAgdmFyIHByZVNvbHZlRXZlbnQgPSB0aGlzLnByZVNvbHZlRXZlbnQ7XG4gICAgcHJlU29sdmVFdmVudC5jb250YWN0RXF1YXRpb25zID0gbnAuY29udGFjdEVxdWF0aW9ucztcbiAgICBwcmVTb2x2ZUV2ZW50LmZyaWN0aW9uRXF1YXRpb25zID0gbnAuZnJpY3Rpb25FcXVhdGlvbnM7XG4gICAgdGhpcy5lbWl0KHByZVNvbHZlRXZlbnQpO1xuICAgIHByZVNvbHZlRXZlbnQuY29udGFjdEVxdWF0aW9ucyA9IHByZVNvbHZlRXZlbnQuZnJpY3Rpb25FcXVhdGlvbnMgPSBudWxsO1xuXG4gICAgLy8gdXBkYXRlIGNvbnN0cmFpbnQgZXF1YXRpb25zXG4gICAgdmFyIE5jb25zdHJhaW50cyA9IGNvbnN0cmFpbnRzLmxlbmd0aDtcbiAgICBmb3IoaT0wOyBpIT09TmNvbnN0cmFpbnRzOyBpKyspe1xuICAgICAgICBjb25zdHJhaW50c1tpXS51cGRhdGUoKTtcbiAgICB9XG5cbiAgICBpZihucC5jb250YWN0RXF1YXRpb25zLmxlbmd0aCB8fCBucC5mcmljdGlvbkVxdWF0aW9ucy5sZW5ndGggfHwgTmNvbnN0cmFpbnRzKXtcbiAgICAgICAgaWYodGhpcy5pc2xhbmRTcGxpdCl7XG4gICAgICAgICAgICAvLyBTcGxpdCBpbnRvIGlzbGFuZHNcbiAgICAgICAgICAgIGlzbGFuZE1hbmFnZXIuZXF1YXRpb25zLmxlbmd0aCA9IDA7XG4gICAgICAgICAgICBVdGlscy5hcHBlbmRBcnJheShpc2xhbmRNYW5hZ2VyLmVxdWF0aW9ucywgbnAuY29udGFjdEVxdWF0aW9ucyk7XG4gICAgICAgICAgICBVdGlscy5hcHBlbmRBcnJheShpc2xhbmRNYW5hZ2VyLmVxdWF0aW9ucywgbnAuZnJpY3Rpb25FcXVhdGlvbnMpO1xuICAgICAgICAgICAgZm9yKGk9MDsgaSE9PU5jb25zdHJhaW50czsgaSsrKXtcbiAgICAgICAgICAgICAgICBVdGlscy5hcHBlbmRBcnJheShpc2xhbmRNYW5hZ2VyLmVxdWF0aW9ucywgY29uc3RyYWludHNbaV0uZXF1YXRpb25zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlzbGFuZE1hbmFnZXIuc3BsaXQodGhpcyk7XG5cbiAgICAgICAgICAgIGZvcih2YXIgaT0wOyBpIT09aXNsYW5kTWFuYWdlci5pc2xhbmRzLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgICAgICAgICB2YXIgaXNsYW5kID0gaXNsYW5kTWFuYWdlci5pc2xhbmRzW2ldO1xuICAgICAgICAgICAgICAgIGlmKGlzbGFuZC5lcXVhdGlvbnMubGVuZ3RoKXtcbiAgICAgICAgICAgICAgICAgICAgc29sdmVyLnNvbHZlSXNsYW5kKGR0LGlzbGFuZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgIC8vIEFkZCBjb250YWN0IGVxdWF0aW9ucyB0byBzb2x2ZXJcbiAgICAgICAgICAgIHNvbHZlci5hZGRFcXVhdGlvbnMobnAuY29udGFjdEVxdWF0aW9ucyk7XG4gICAgICAgICAgICBzb2x2ZXIuYWRkRXF1YXRpb25zKG5wLmZyaWN0aW9uRXF1YXRpb25zKTtcblxuICAgICAgICAgICAgLy8gQWRkIHVzZXItZGVmaW5lZCBjb25zdHJhaW50IGVxdWF0aW9uc1xuICAgICAgICAgICAgZm9yKGk9MDsgaSE9PU5jb25zdHJhaW50czsgaSsrKXtcbiAgICAgICAgICAgICAgICBzb2x2ZXIuYWRkRXF1YXRpb25zKGNvbnN0cmFpbnRzW2ldLmVxdWF0aW9ucyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmKHRoaXMuc29sdmVDb25zdHJhaW50cyl7XG4gICAgICAgICAgICAgICAgc29sdmVyLnNvbHZlKGR0LHRoaXMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzb2x2ZXIucmVtb3ZlQWxsRXF1YXRpb25zKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBTdGVwIGZvcndhcmRcbiAgICBmb3IodmFyIGk9MDsgaSE9PU5ib2RpZXM7IGkrKyl7XG4gICAgICAgIHZhciBib2R5ID0gYm9kaWVzW2ldO1xuXG4gICAgICAgIC8vIGlmKGJvZHkuc2xlZXBTdGF0ZSAhPT0gQm9keS5TTEVFUElORyAmJiBib2R5LnR5cGUgIT09IEJvZHkuU1RBVElDKXtcbiAgICAgICAgYm9keS5pbnRlZ3JhdGUoZHQpO1xuICAgICAgICAvLyB9XG4gICAgfVxuXG4gICAgLy8gUmVzZXQgZm9yY2VcbiAgICBmb3IodmFyIGk9MDsgaSE9PU5ib2RpZXM7IGkrKyl7XG4gICAgICAgIGJvZGllc1tpXS5zZXRaZXJvRm9yY2UoKTtcbiAgICB9XG5cbiAgICAvLyBFbWl0IGltcGFjdCBldmVudFxuICAgIGlmKHRoaXMuZW1pdEltcGFjdEV2ZW50ICYmIHRoaXMuaGFzKCdpbXBhY3QnKSl7XG4gICAgICAgIHZhciBldiA9IHRoaXMuaW1wYWN0RXZlbnQ7XG4gICAgICAgIGZvcih2YXIgaT0wOyBpIT09bnAuY29udGFjdEVxdWF0aW9ucy5sZW5ndGg7IGkrKyl7XG4gICAgICAgICAgICB2YXIgZXEgPSBucC5jb250YWN0RXF1YXRpb25zW2ldO1xuICAgICAgICAgICAgaWYoZXEuZmlyc3RJbXBhY3Qpe1xuICAgICAgICAgICAgICAgIGV2LmJvZHlBID0gZXEuYm9keUE7XG4gICAgICAgICAgICAgICAgZXYuYm9keUIgPSBlcS5ib2R5QjtcbiAgICAgICAgICAgICAgICBldi5zaGFwZUEgPSBlcS5zaGFwZUE7XG4gICAgICAgICAgICAgICAgZXYuc2hhcGVCID0gZXEuc2hhcGVCO1xuICAgICAgICAgICAgICAgIGV2LmNvbnRhY3RFcXVhdGlvbiA9IGVxO1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdChldik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBTbGVlcGluZyB1cGRhdGVcbiAgICBpZih0aGlzLnNsZWVwTW9kZSA9PT0gV29ybGQuQk9EWV9TTEVFUElORyl7XG4gICAgICAgIGZvcihpPTA7IGkhPT1OYm9kaWVzOyBpKyspe1xuICAgICAgICAgICAgYm9kaWVzW2ldLnNsZWVwVGljayh0aGlzLnRpbWUsIGZhbHNlLCBkdCk7XG4gICAgICAgIH1cbiAgICB9IGVsc2UgaWYodGhpcy5zbGVlcE1vZGUgPT09IFdvcmxkLklTTEFORF9TTEVFUElORyAmJiB0aGlzLmlzbGFuZFNwbGl0KXtcblxuICAgICAgICAvLyBUZWxsIGFsbCBib2RpZXMgdG8gc2xlZXAgdGljayBidXQgZG9udCBzbGVlcCB5ZXRcbiAgICAgICAgZm9yKGk9MDsgaSE9PU5ib2RpZXM7IGkrKyl7XG4gICAgICAgICAgICBib2RpZXNbaV0uc2xlZXBUaWNrKHRoaXMudGltZSwgdHJ1ZSwgZHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2xlZXAgaXNsYW5kc1xuICAgICAgICBmb3IodmFyIGk9MDsgaTx0aGlzLmlzbGFuZE1hbmFnZXIuaXNsYW5kcy5sZW5ndGg7IGkrKyl7XG4gICAgICAgICAgICB2YXIgaXNsYW5kID0gdGhpcy5pc2xhbmRNYW5hZ2VyLmlzbGFuZHNbaV07XG4gICAgICAgICAgICBpZihpc2xhbmQud2FudHNUb1NsZWVwKCkpe1xuICAgICAgICAgICAgICAgIGlzbGFuZC5zbGVlcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5zdGVwcGluZyA9IGZhbHNlO1xuXG4gICAgLy8gUmVtb3ZlIGJvZGllcyB0aGF0IGFyZSBzY2hlZHVsZWQgZm9yIHJlbW92YWxcbiAgICB2YXIgYm9kaWVzVG9CZVJlbW92ZWQgPSB0aGlzLmJvZGllc1RvQmVSZW1vdmVkO1xuICAgIGZvcih2YXIgaT0wOyBpIT09Ym9kaWVzVG9CZVJlbW92ZWQubGVuZ3RoOyBpKyspe1xuICAgICAgICB0aGlzLnJlbW92ZUJvZHkoYm9kaWVzVG9CZVJlbW92ZWRbaV0pO1xuICAgIH1cbiAgICBib2RpZXNUb0JlUmVtb3ZlZC5sZW5ndGggPSAwO1xuXG4gICAgdGhpcy5lbWl0KHRoaXMucG9zdFN0ZXBFdmVudCk7XG59O1xuXG4vKipcbiAqIFJ1bnMgbmFycm93cGhhc2UgZm9yIHRoZSBzaGFwZSBwYWlyIGkgYW5kIGouXG4gKiBAbWV0aG9kIHJ1bk5hcnJvd3BoYXNlXG4gKiBAcGFyYW0gIHtOYXJyb3dwaGFzZX0gbnBcbiAqIEBwYXJhbSAge0JvZHl9IGJpXG4gKiBAcGFyYW0gIHtTaGFwZX0gc2lcbiAqIEBwYXJhbSAge0FycmF5fSB4aVxuICogQHBhcmFtICB7TnVtYmVyfSBhaVxuICogQHBhcmFtICB7Qm9keX0gYmpcbiAqIEBwYXJhbSAge1NoYXBlfSBzalxuICogQHBhcmFtICB7QXJyYXl9IHhqXG4gKiBAcGFyYW0gIHtOdW1iZXJ9IGFqXG4gKiBAcGFyYW0gIHtOdW1iZXJ9IG11XG4gKi9cbldvcmxkLnByb3RvdHlwZS5ydW5OYXJyb3dwaGFzZSA9IGZ1bmN0aW9uKG5wLGJpLHNpLHhpLGFpLGJqLHNqLHhqLGFqLGNtLGdsZW4pe1xuXG4gICAgLy8gQ2hlY2sgY29sbGlzaW9uIGdyb3VwcyBhbmQgbWFza3NcbiAgICBpZighKChzaS5jb2xsaXNpb25Hcm91cCAmIHNqLmNvbGxpc2lvbk1hc2spICE9PSAwICYmIChzai5jb2xsaXNpb25Hcm91cCAmIHNpLmNvbGxpc2lvbk1hc2spICE9PSAwKSl7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBHZXQgd29ybGQgcG9zaXRpb24gYW5kIGFuZ2xlIG9mIGVhY2ggc2hhcGVcbiAgICB2ZWMyLnJvdGF0ZSh4aXcsIHhpLCBiaS5hbmdsZSk7XG4gICAgdmVjMi5yb3RhdGUoeGp3LCB4aiwgYmouYW5nbGUpO1xuICAgIHZlYzIuYWRkKHhpdywgeGl3LCBiaS5wb3NpdGlvbik7XG4gICAgdmVjMi5hZGQoeGp3LCB4ancsIGJqLnBvc2l0aW9uKTtcbiAgICB2YXIgYWl3ID0gYWkgKyBiaS5hbmdsZTtcbiAgICB2YXIgYWp3ID0gYWogKyBiai5hbmdsZTtcblxuICAgIG5wLmVuYWJsZUZyaWN0aW9uID0gY20uZnJpY3Rpb24gPiAwO1xuICAgIG5wLmZyaWN0aW9uQ29lZmZpY2llbnQgPSBjbS5mcmljdGlvbjtcbiAgICB2YXIgcmVkdWNlZE1hc3M7XG4gICAgaWYoYmkudHlwZSA9PT0gQm9keS5TVEFUSUMgfHwgYmkudHlwZSA9PT0gQm9keS5LSU5FTUFUSUMpe1xuICAgICAgICByZWR1Y2VkTWFzcyA9IGJqLm1hc3M7XG4gICAgfSBlbHNlIGlmKGJqLnR5cGUgPT09IEJvZHkuU1RBVElDIHx8IGJqLnR5cGUgPT09IEJvZHkuS0lORU1BVElDKXtcbiAgICAgICAgcmVkdWNlZE1hc3MgPSBiaS5tYXNzO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJlZHVjZWRNYXNzID0gKGJpLm1hc3MqYmoubWFzcykvKGJpLm1hc3MrYmoubWFzcyk7XG4gICAgfVxuICAgIG5wLnNsaXBGb3JjZSA9IGNtLmZyaWN0aW9uKmdsZW4qcmVkdWNlZE1hc3M7XG4gICAgbnAucmVzdGl0dXRpb24gPSBjbS5yZXN0aXR1dGlvbjtcbiAgICBucC5zdXJmYWNlVmVsb2NpdHkgPSBjbS5zdXJmYWNlVmVsb2NpdHk7XG4gICAgbnAuZnJpY3Rpb25TdGlmZm5lc3MgPSBjbS5mcmljdGlvblN0aWZmbmVzcztcbiAgICBucC5mcmljdGlvblJlbGF4YXRpb24gPSBjbS5mcmljdGlvblJlbGF4YXRpb247XG4gICAgbnAuc3RpZmZuZXNzID0gY20uc3RpZmZuZXNzO1xuICAgIG5wLnJlbGF4YXRpb24gPSBjbS5yZWxheGF0aW9uO1xuICAgIG5wLmNvbnRhY3RTa2luU2l6ZSA9IGNtLmNvbnRhY3RTa2luU2l6ZTtcbiAgICBucC5lbmFibGVkRXF1YXRpb25zID0gYmkuY29sbGlzaW9uUmVzcG9uc2UgJiYgYmouY29sbGlzaW9uUmVzcG9uc2UgJiYgc2kuY29sbGlzaW9uUmVzcG9uc2UgJiYgc2ouY29sbGlzaW9uUmVzcG9uc2U7XG5cbiAgICB2YXIgcmVzb2x2ZXIgPSBucFtzaS50eXBlIHwgc2oudHlwZV0sXG4gICAgICAgIG51bUNvbnRhY3RzID0gMDtcbiAgICBpZiAocmVzb2x2ZXIpIHtcbiAgICAgICAgdmFyIHNlbnNvciA9IHNpLnNlbnNvciB8fCBzai5zZW5zb3I7XG4gICAgICAgIHZhciBudW1GcmljdGlvbkJlZm9yZSA9IG5wLmZyaWN0aW9uRXF1YXRpb25zLmxlbmd0aDtcbiAgICAgICAgaWYgKHNpLnR5cGUgPCBzai50eXBlKSB7XG4gICAgICAgICAgICBudW1Db250YWN0cyA9IHJlc29sdmVyLmNhbGwobnAsIGJpLHNpLHhpdyxhaXcsIGJqLHNqLHhqdyxhancsIHNlbnNvcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBudW1Db250YWN0cyA9IHJlc29sdmVyLmNhbGwobnAsIGJqLHNqLHhqdyxhancsIGJpLHNpLHhpdyxhaXcsIHNlbnNvcik7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG51bUZyaWN0aW9uRXF1YXRpb25zID0gbnAuZnJpY3Rpb25FcXVhdGlvbnMubGVuZ3RoIC0gbnVtRnJpY3Rpb25CZWZvcmU7XG5cbiAgICAgICAgaWYobnVtQ29udGFjdHMpe1xuXG4gICAgICAgICAgICBpZiggYmkuYWxsb3dTbGVlcCAmJlxuICAgICAgICAgICAgICAgIGJpLnR5cGUgPT09IEJvZHkuRFlOQU1JQyAmJlxuICAgICAgICAgICAgICAgIGJpLnNsZWVwU3RhdGUgID09PSBCb2R5LlNMRUVQSU5HICYmXG4gICAgICAgICAgICAgICAgYmouc2xlZXBTdGF0ZSAgPT09IEJvZHkuQVdBS0UgJiZcbiAgICAgICAgICAgICAgICBiai50eXBlICE9PSBCb2R5LlNUQVRJQ1xuICAgICAgICAgICAgKXtcbiAgICAgICAgICAgICAgICB2YXIgc3BlZWRTcXVhcmVkQiA9IHZlYzIuc3F1YXJlZExlbmd0aChiai52ZWxvY2l0eSkgKyBNYXRoLnBvdyhiai5hbmd1bGFyVmVsb2NpdHksMik7XG4gICAgICAgICAgICAgICAgdmFyIHNwZWVkTGltaXRTcXVhcmVkQiA9IE1hdGgucG93KGJqLnNsZWVwU3BlZWRMaW1pdCwyKTtcbiAgICAgICAgICAgICAgICBpZihzcGVlZFNxdWFyZWRCID49IHNwZWVkTGltaXRTcXVhcmVkQioyKXtcbiAgICAgICAgICAgICAgICAgICAgYmkuX3dha2VVcEFmdGVyTmFycm93cGhhc2UgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYoIGJqLmFsbG93U2xlZXAgJiZcbiAgICAgICAgICAgICAgICBiai50eXBlID09PSBCb2R5LkRZTkFNSUMgJiZcbiAgICAgICAgICAgICAgICBiai5zbGVlcFN0YXRlICA9PT0gQm9keS5TTEVFUElORyAmJlxuICAgICAgICAgICAgICAgIGJpLnNsZWVwU3RhdGUgID09PSBCb2R5LkFXQUtFICYmXG4gICAgICAgICAgICAgICAgYmkudHlwZSAhPT0gQm9keS5TVEFUSUNcbiAgICAgICAgICAgICl7XG4gICAgICAgICAgICAgICAgdmFyIHNwZWVkU3F1YXJlZEEgPSB2ZWMyLnNxdWFyZWRMZW5ndGgoYmkudmVsb2NpdHkpICsgTWF0aC5wb3coYmkuYW5ndWxhclZlbG9jaXR5LDIpO1xuICAgICAgICAgICAgICAgIHZhciBzcGVlZExpbWl0U3F1YXJlZEEgPSBNYXRoLnBvdyhiaS5zbGVlcFNwZWVkTGltaXQsMik7XG4gICAgICAgICAgICAgICAgaWYoc3BlZWRTcXVhcmVkQSA+PSBzcGVlZExpbWl0U3F1YXJlZEEqMil7XG4gICAgICAgICAgICAgICAgICAgIGJqLl93YWtlVXBBZnRlck5hcnJvd3BoYXNlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMub3ZlcmxhcEtlZXBlci5zZXRPdmVybGFwcGluZyhiaSwgc2ksIGJqLCBzaik7XG4gICAgICAgICAgICBpZih0aGlzLmhhcygnYmVnaW5Db250YWN0JykgJiYgdGhpcy5vdmVybGFwS2VlcGVyLmlzTmV3T3ZlcmxhcChzaSwgc2opKXtcblxuICAgICAgICAgICAgICAgIC8vIFJlcG9ydCBuZXcgc2hhcGUgb3ZlcmxhcFxuICAgICAgICAgICAgICAgIHZhciBlID0gdGhpcy5iZWdpbkNvbnRhY3RFdmVudDtcbiAgICAgICAgICAgICAgICBlLnNoYXBlQSA9IHNpO1xuICAgICAgICAgICAgICAgIGUuc2hhcGVCID0gc2o7XG4gICAgICAgICAgICAgICAgZS5ib2R5QSA9IGJpO1xuICAgICAgICAgICAgICAgIGUuYm9keUIgPSBiajtcblxuICAgICAgICAgICAgICAgIC8vIFJlc2V0IGNvbnRhY3QgZXF1YXRpb25zXG4gICAgICAgICAgICAgICAgZS5jb250YWN0RXF1YXRpb25zLmxlbmd0aCA9IDA7XG5cbiAgICAgICAgICAgICAgICBpZih0eXBlb2YobnVtQ29udGFjdHMpPT09XCJudW1iZXJcIil7XG4gICAgICAgICAgICAgICAgICAgIGZvcih2YXIgaT1ucC5jb250YWN0RXF1YXRpb25zLmxlbmd0aC1udW1Db250YWN0czsgaTxucC5jb250YWN0RXF1YXRpb25zLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUuY29udGFjdEVxdWF0aW9ucy5wdXNoKG5wLmNvbnRhY3RFcXVhdGlvbnNbaV0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KGUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBkaXZpZGUgdGhlIG1heCBmcmljdGlvbiBmb3JjZSBieSB0aGUgbnVtYmVyIG9mIGNvbnRhY3RzXG4gICAgICAgICAgICBpZih0eXBlb2YobnVtQ29udGFjdHMpPT09XCJudW1iZXJcIiAmJiBudW1GcmljdGlvbkVxdWF0aW9ucyA+IDEpeyAvLyBXaHkgZGl2aWRlIGJ5IDE/XG4gICAgICAgICAgICAgICAgZm9yKHZhciBpPW5wLmZyaWN0aW9uRXF1YXRpb25zLmxlbmd0aC1udW1GcmljdGlvbkVxdWF0aW9uczsgaTxucC5mcmljdGlvbkVxdWF0aW9ucy5sZW5ndGg7IGkrKyl7XG4gICAgICAgICAgICAgICAgICAgIHZhciBmID0gbnAuZnJpY3Rpb25FcXVhdGlvbnNbaV07XG4gICAgICAgICAgICAgICAgICAgIGYuc2V0U2xpcEZvcmNlKGYuZ2V0U2xpcEZvcmNlKCkgLyBudW1GcmljdGlvbkVxdWF0aW9ucyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG59O1xuXG4vKipcbiAqIEFkZCBhIHNwcmluZyB0byB0aGUgc2ltdWxhdGlvblxuICpcbiAqIEBtZXRob2QgYWRkU3ByaW5nXG4gKiBAcGFyYW0ge1NwcmluZ30gc3ByaW5nXG4gKi9cbldvcmxkLnByb3RvdHlwZS5hZGRTcHJpbmcgPSBmdW5jdGlvbihzcHJpbmcpe1xuICAgIHRoaXMuc3ByaW5ncy5wdXNoKHNwcmluZyk7XG4gICAgdmFyIGV2dCA9IHRoaXMuYWRkU3ByaW5nRXZlbnQ7XG4gICAgZXZ0LnNwcmluZyA9IHNwcmluZztcbiAgICB0aGlzLmVtaXQoZXZ0KTtcbiAgICBldnQuc3ByaW5nID0gbnVsbDtcbn07XG5cbi8qKlxuICogUmVtb3ZlIGEgc3ByaW5nXG4gKlxuICogQG1ldGhvZCByZW1vdmVTcHJpbmdcbiAqIEBwYXJhbSB7U3ByaW5nfSBzcHJpbmdcbiAqL1xuV29ybGQucHJvdG90eXBlLnJlbW92ZVNwcmluZyA9IGZ1bmN0aW9uKHNwcmluZyl7XG4gICAgdmFyIGlkeCA9IHRoaXMuc3ByaW5ncy5pbmRleE9mKHNwcmluZyk7XG4gICAgaWYoaWR4ICE9PSAtMSl7XG4gICAgICAgIFV0aWxzLnNwbGljZSh0aGlzLnNwcmluZ3MsaWR4LDEpO1xuICAgIH1cbn07XG5cbi8qKlxuICogQWRkIGEgYm9keSB0byB0aGUgc2ltdWxhdGlvblxuICpcbiAqIEBtZXRob2QgYWRkQm9keVxuICogQHBhcmFtIHtCb2R5fSBib2R5XG4gKlxuICogQGV4YW1wbGVcbiAqICAgICB2YXIgd29ybGQgPSBuZXcgV29ybGQoKSxcbiAqICAgICAgICAgYm9keSA9IG5ldyBCb2R5KCk7XG4gKiAgICAgd29ybGQuYWRkQm9keShib2R5KTtcbiAqIEB0b2RvIFdoYXQgaWYgdGhpcyBpcyBkb25lIGR1cmluZyBzdGVwP1xuICovXG5Xb3JsZC5wcm90b3R5cGUuYWRkQm9keSA9IGZ1bmN0aW9uKGJvZHkpe1xuICAgIGlmKHRoaXMuYm9kaWVzLmluZGV4T2YoYm9keSkgPT09IC0xKXtcbiAgICAgICAgdGhpcy5ib2RpZXMucHVzaChib2R5KTtcbiAgICAgICAgYm9keS53b3JsZCA9IHRoaXM7XG4gICAgICAgIHZhciBldnQgPSB0aGlzLmFkZEJvZHlFdmVudDtcbiAgICAgICAgZXZ0LmJvZHkgPSBib2R5O1xuICAgICAgICB0aGlzLmVtaXQoZXZ0KTtcbiAgICAgICAgZXZ0LmJvZHkgPSBudWxsO1xuICAgIH1cbn07XG5cbi8qKlxuICogUmVtb3ZlIGEgYm9keSBmcm9tIHRoZSBzaW11bGF0aW9uLiBJZiB0aGlzIG1ldGhvZCBpcyBjYWxsZWQgZHVyaW5nIHN0ZXAoKSwgdGhlIGJvZHkgcmVtb3ZhbCBpcyBzY2hlZHVsZWQgdG8gYWZ0ZXIgdGhlIHN0ZXAuXG4gKlxuICogQG1ldGhvZCByZW1vdmVCb2R5XG4gKiBAcGFyYW0ge0JvZHl9IGJvZHlcbiAqL1xuV29ybGQucHJvdG90eXBlLnJlbW92ZUJvZHkgPSBmdW5jdGlvbihib2R5KXtcbiAgICBpZih0aGlzLnN0ZXBwaW5nKXtcbiAgICAgICAgdGhpcy5ib2RpZXNUb0JlUmVtb3ZlZC5wdXNoKGJvZHkpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGJvZHkud29ybGQgPSBudWxsO1xuICAgICAgICB2YXIgaWR4ID0gdGhpcy5ib2RpZXMuaW5kZXhPZihib2R5KTtcbiAgICAgICAgaWYoaWR4IT09LTEpe1xuICAgICAgICAgICAgVXRpbHMuc3BsaWNlKHRoaXMuYm9kaWVzLGlkeCwxKTtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlQm9keUV2ZW50LmJvZHkgPSBib2R5O1xuICAgICAgICAgICAgYm9keS5yZXNldENvbnN0cmFpbnRWZWxvY2l0eSgpO1xuICAgICAgICAgICAgdGhpcy5lbWl0KHRoaXMucmVtb3ZlQm9keUV2ZW50KTtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlQm9keUV2ZW50LmJvZHkgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxufTtcblxuLyoqXG4gKiBHZXQgYSBib2R5IGJ5IGl0cyBpZC5cbiAqIEBtZXRob2QgZ2V0Qm9keUJ5SWRcbiAqIEBwYXJhbSB7bnVtYmVyfSBpZFxuICogQHJldHVybiB7Qm9keX0gVGhlIGJvZHksIG9yIGZhbHNlIGlmIGl0IHdhcyBub3QgZm91bmQuXG4gKi9cbldvcmxkLnByb3RvdHlwZS5nZXRCb2R5QnlJZCA9IGZ1bmN0aW9uKGlkKXtcbiAgICB2YXIgYm9kaWVzID0gdGhpcy5ib2RpZXM7XG4gICAgZm9yKHZhciBpPTA7IGk8Ym9kaWVzLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgdmFyIGIgPSBib2RpZXNbaV07XG4gICAgICAgIGlmKGIuaWQgPT09IGlkKXtcbiAgICAgICAgICAgIHJldHVybiBiO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn07XG5cbi8qKlxuICogRGlzYWJsZSBjb2xsaXNpb24gYmV0d2VlbiB0d28gYm9kaWVzXG4gKiBAbWV0aG9kIGRpc2FibGVCb2R5Q29sbGlzaW9uXG4gKiBAcGFyYW0ge0JvZHl9IGJvZHlBXG4gKiBAcGFyYW0ge0JvZHl9IGJvZHlCXG4gKi9cbldvcmxkLnByb3RvdHlwZS5kaXNhYmxlQm9keUNvbGxpc2lvbiA9IGZ1bmN0aW9uKGJvZHlBLGJvZHlCKXtcbiAgICB0aGlzLmRpc2FibGVkQm9keUNvbGxpc2lvblBhaXJzLnB1c2goYm9keUEsYm9keUIpO1xufTtcblxuLyoqXG4gKiBFbmFibGUgY29sbGlzaW9ucyBiZXR3ZWVuIHRoZSBnaXZlbiB0d28gYm9kaWVzXG4gKiBAbWV0aG9kIGVuYWJsZUJvZHlDb2xsaXNpb25cbiAqIEBwYXJhbSB7Qm9keX0gYm9keUFcbiAqIEBwYXJhbSB7Qm9keX0gYm9keUJcbiAqL1xuV29ybGQucHJvdG90eXBlLmVuYWJsZUJvZHlDb2xsaXNpb24gPSBmdW5jdGlvbihib2R5QSxib2R5Qil7XG4gICAgdmFyIHBhaXJzID0gdGhpcy5kaXNhYmxlZEJvZHlDb2xsaXNpb25QYWlycztcbiAgICBmb3IodmFyIGk9MDsgaTxwYWlycy5sZW5ndGg7IGkrPTIpe1xuICAgICAgICBpZigocGFpcnNbaV0gPT09IGJvZHlBICYmIHBhaXJzW2krMV0gPT09IGJvZHlCKSB8fCAocGFpcnNbaSsxXSA9PT0gYm9keUEgJiYgcGFpcnNbaV0gPT09IGJvZHlCKSl7XG4gICAgICAgICAgICBwYWlycy5zcGxpY2UoaSwyKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cbn07XG5cbi8qKlxuICogUmVzZXRzIHRoZSBXb3JsZCwgcmVtb3ZlcyBhbGwgYm9kaWVzLCBjb25zdHJhaW50cyBhbmQgc3ByaW5ncy5cbiAqXG4gKiBAbWV0aG9kIGNsZWFyXG4gKi9cbldvcmxkLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uKCl7XG5cbiAgICB0aGlzLnRpbWUgPSAwO1xuXG4gICAgLy8gUmVtb3ZlIGFsbCBzb2x2ZXIgZXF1YXRpb25zXG4gICAgaWYodGhpcy5zb2x2ZXIgJiYgdGhpcy5zb2x2ZXIuZXF1YXRpb25zLmxlbmd0aCl7XG4gICAgICAgIHRoaXMuc29sdmVyLnJlbW92ZUFsbEVxdWF0aW9ucygpO1xuICAgIH1cblxuICAgIC8vIFJlbW92ZSBhbGwgY29uc3RyYWludHNcbiAgICB2YXIgY3MgPSB0aGlzLmNvbnN0cmFpbnRzO1xuICAgIGZvcih2YXIgaT1jcy5sZW5ndGgtMTsgaT49MDsgaS0tKXtcbiAgICAgICAgdGhpcy5yZW1vdmVDb25zdHJhaW50KGNzW2ldKTtcbiAgICB9XG5cbiAgICAvLyBSZW1vdmUgYWxsIGJvZGllc1xuICAgIHZhciBib2RpZXMgPSB0aGlzLmJvZGllcztcbiAgICBmb3IodmFyIGk9Ym9kaWVzLmxlbmd0aC0xOyBpPj0wOyBpLS0pe1xuICAgICAgICB0aGlzLnJlbW92ZUJvZHkoYm9kaWVzW2ldKTtcbiAgICB9XG5cbiAgICAvLyBSZW1vdmUgYWxsIHNwcmluZ3NcbiAgICB2YXIgc3ByaW5ncyA9IHRoaXMuc3ByaW5ncztcbiAgICBmb3IodmFyIGk9c3ByaW5ncy5sZW5ndGgtMTsgaT49MDsgaS0tKXtcbiAgICAgICAgdGhpcy5yZW1vdmVTcHJpbmcoc3ByaW5nc1tpXSk7XG4gICAgfVxuXG4gICAgLy8gUmVtb3ZlIGFsbCBjb250YWN0IG1hdGVyaWFsc1xuICAgIHZhciBjbXMgPSB0aGlzLmNvbnRhY3RNYXRlcmlhbHM7XG4gICAgZm9yKHZhciBpPWNtcy5sZW5ndGgtMTsgaT49MDsgaS0tKXtcbiAgICAgICAgdGhpcy5yZW1vdmVDb250YWN0TWF0ZXJpYWwoY21zW2ldKTtcbiAgICB9XG5cbiAgICBXb3JsZC5hcHBseSh0aGlzKTtcbn07XG5cbnZhciBoaXRUZXN0X3RtcDEgPSB2ZWMyLmNyZWF0ZSgpLFxuICAgIGhpdFRlc3RfemVybyA9IHZlYzIuZnJvbVZhbHVlcygwLDApLFxuICAgIGhpdFRlc3RfdG1wMiA9IHZlYzIuZnJvbVZhbHVlcygwLDApO1xuXG4vKipcbiAqIFRlc3QgaWYgYSB3b3JsZCBwb2ludCBvdmVybGFwcyBib2RpZXNcbiAqIEBtZXRob2QgaGl0VGVzdFxuICogQHBhcmFtICB7QXJyYXl9ICB3b3JsZFBvaW50ICBQb2ludCB0byB1c2UgZm9yIGludGVyc2VjdGlvbiB0ZXN0c1xuICogQHBhcmFtICB7QXJyYXl9ICBib2RpZXMgICAgICBBIGxpc3Qgb2Ygb2JqZWN0cyB0byBjaGVjayBmb3IgaW50ZXJzZWN0aW9uXG4gKiBAcGFyYW0gIHtOdW1iZXJ9IHByZWNpc2lvbiAgIFVzZWQgZm9yIG1hdGNoaW5nIGFnYWluc3QgcGFydGljbGVzIGFuZCBsaW5lcy4gQWRkcyBzb21lIG1hcmdpbiB0byB0aGVzZSBpbmZpbml0ZXNpbWFsIG9iamVjdHMuXG4gKiBAcmV0dXJuIHtBcnJheX0gICAgICAgICAgICAgIEFycmF5IG9mIGJvZGllcyB0aGF0IG92ZXJsYXAgdGhlIHBvaW50XG4gKiBAdG9kbyBTaG91bGQgdXNlIGFuIGFwaSBzaW1pbGFyIHRvIHRoZSByYXljYXN0IGZ1bmN0aW9uXG4gKiBAdG9kbyBTaG91bGQgcHJvYmFibHkgaW1wbGVtZW50IGEgLmNvbnRhaW5zUG9pbnQgbWV0aG9kIGZvciBhbGwgc2hhcGVzLiBXb3VsZCBiZSBtb3JlIGVmZmljaWVudFxuICovXG5Xb3JsZC5wcm90b3R5cGUuaGl0VGVzdCA9IGZ1bmN0aW9uKHdvcmxkUG9pbnQsYm9kaWVzLHByZWNpc2lvbil7XG4gICAgcHJlY2lzaW9uID0gcHJlY2lzaW9uIHx8IDA7XG5cbiAgICAvLyBDcmVhdGUgYSBkdW1teSBwYXJ0aWNsZSBib2R5IHdpdGggYSBwYXJ0aWNsZSBzaGFwZSB0byB0ZXN0IGFnYWluc3QgdGhlIGJvZGllc1xuICAgIHZhciBwYiA9IG5ldyBCb2R5KHsgcG9zaXRpb246d29ybGRQb2ludCB9KSxcbiAgICAgICAgcHMgPSBuZXcgUGFydGljbGUoKSxcbiAgICAgICAgcHggPSB3b3JsZFBvaW50LFxuICAgICAgICBwYSA9IDAsXG4gICAgICAgIHggPSBoaXRUZXN0X3RtcDEsXG4gICAgICAgIHplcm8gPSBoaXRUZXN0X3plcm8sXG4gICAgICAgIHRtcCA9IGhpdFRlc3RfdG1wMjtcbiAgICBwYi5hZGRTaGFwZShwcyk7XG5cbiAgICB2YXIgbiA9IHRoaXMubmFycm93cGhhc2UsXG4gICAgICAgIHJlc3VsdCA9IFtdO1xuXG4gICAgLy8gQ2hlY2sgYm9kaWVzXG4gICAgZm9yKHZhciBpPTAsIE49Ym9kaWVzLmxlbmd0aDsgaSE9PU47IGkrKyl7XG4gICAgICAgIHZhciBiID0gYm9kaWVzW2ldO1xuXG4gICAgICAgIGZvcih2YXIgaj0wLCBOUz1iLnNoYXBlcy5sZW5ndGg7IGohPT1OUzsgaisrKXtcbiAgICAgICAgICAgIHZhciBzID0gYi5zaGFwZXNbal07XG5cbiAgICAgICAgICAgIC8vIEdldCBzaGFwZSB3b3JsZCBwb3NpdGlvbiArIGFuZ2xlXG4gICAgICAgICAgICB2ZWMyLnJvdGF0ZSh4LCBzLnBvc2l0aW9uLCBiLmFuZ2xlKTtcbiAgICAgICAgICAgIHZlYzIuYWRkKHgsIHgsIGIucG9zaXRpb24pO1xuICAgICAgICAgICAgdmFyIGEgPSBzLmFuZ2xlICsgYi5hbmdsZTtcblxuICAgICAgICAgICAgaWYoIChzIGluc3RhbmNlb2YgQ2lyY2xlICAgICYmIG4uY2lyY2xlUGFydGljbGUgIChiLHMseCxhLCAgICAgcGIscHMscHgscGEsIHRydWUpKSB8fFxuICAgICAgICAgICAgICAgIChzIGluc3RhbmNlb2YgQ29udmV4ICAgICYmIG4ucGFydGljbGVDb252ZXggIChwYixwcyxweCxwYSwgYixzLHgsYSwgICAgIHRydWUpKSB8fFxuICAgICAgICAgICAgICAgIChzIGluc3RhbmNlb2YgUGxhbmUgICAgICYmIG4ucGFydGljbGVQbGFuZSAgIChwYixwcyxweCxwYSwgYixzLHgsYSwgICAgIHRydWUpKSB8fFxuICAgICAgICAgICAgICAgIChzIGluc3RhbmNlb2YgQ2Fwc3VsZSAgICYmIG4ucGFydGljbGVDYXBzdWxlIChwYixwcyxweCxwYSwgYixzLHgsYSwgICAgIHRydWUpKSB8fFxuICAgICAgICAgICAgICAgIChzIGluc3RhbmNlb2YgUGFydGljbGUgICYmIHZlYzIuc3F1YXJlZExlbmd0aCh2ZWMyLnN1Yih0bXAseCx3b3JsZFBvaW50KSkgPCBwcmVjaXNpb24qcHJlY2lzaW9uKVxuICAgICAgICAgICAgICAgICl7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goYik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xufTtcblxuLyoqXG4gKiBTZXQgdGhlIHN0aWZmbmVzcyBmb3IgYWxsIGVxdWF0aW9ucyBhbmQgY29udGFjdCBtYXRlcmlhbHMuXG4gKiBAbWV0aG9kIHNldEdsb2JhbFN0aWZmbmVzc1xuICogQHBhcmFtIHtOdW1iZXJ9IHN0aWZmbmVzc1xuICovXG5Xb3JsZC5wcm90b3R5cGUuc2V0R2xvYmFsU3RpZmZuZXNzID0gZnVuY3Rpb24oc3RpZmZuZXNzKXtcblxuICAgIC8vIFNldCBmb3IgYWxsIGNvbnN0cmFpbnRzXG4gICAgdmFyIGNvbnN0cmFpbnRzID0gdGhpcy5jb25zdHJhaW50cztcbiAgICBmb3IodmFyIGk9MDsgaSAhPT0gY29uc3RyYWludHMubGVuZ3RoOyBpKyspe1xuICAgICAgICB2YXIgYyA9IGNvbnN0cmFpbnRzW2ldO1xuICAgICAgICBmb3IodmFyIGo9MDsgaiAhPT0gYy5lcXVhdGlvbnMubGVuZ3RoOyBqKyspe1xuICAgICAgICAgICAgdmFyIGVxID0gYy5lcXVhdGlvbnNbal07XG4gICAgICAgICAgICBlcS5zdGlmZm5lc3MgPSBzdGlmZm5lc3M7XG4gICAgICAgICAgICBlcS5uZWVkc1VwZGF0ZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBTZXQgZm9yIGFsbCBjb250YWN0IG1hdGVyaWFsc1xuICAgIHZhciBjb250YWN0TWF0ZXJpYWxzID0gdGhpcy5jb250YWN0TWF0ZXJpYWxzO1xuICAgIGZvcih2YXIgaT0wOyBpICE9PSBjb250YWN0TWF0ZXJpYWxzLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgdmFyIGMgPSBjb250YWN0TWF0ZXJpYWxzW2ldO1xuICAgICAgICBjLnN0aWZmbmVzcyA9IGMuZnJpY3Rpb25TdGlmZm5lc3MgPSBzdGlmZm5lc3M7XG4gICAgfVxuXG4gICAgLy8gU2V0IGZvciBkZWZhdWx0IGNvbnRhY3QgbWF0ZXJpYWxcbiAgICB2YXIgYyA9IHRoaXMuZGVmYXVsdENvbnRhY3RNYXRlcmlhbDtcbiAgICBjLnN0aWZmbmVzcyA9IGMuZnJpY3Rpb25TdGlmZm5lc3MgPSBzdGlmZm5lc3M7XG59O1xuXG4vKipcbiAqIFNldCB0aGUgcmVsYXhhdGlvbiBmb3IgYWxsIGVxdWF0aW9ucyBhbmQgY29udGFjdCBtYXRlcmlhbHMuXG4gKiBAbWV0aG9kIHNldEdsb2JhbFJlbGF4YXRpb25cbiAqIEBwYXJhbSB7TnVtYmVyfSByZWxheGF0aW9uXG4gKi9cbldvcmxkLnByb3RvdHlwZS5zZXRHbG9iYWxSZWxheGF0aW9uID0gZnVuY3Rpb24ocmVsYXhhdGlvbil7XG5cbiAgICAvLyBTZXQgZm9yIGFsbCBjb25zdHJhaW50c1xuICAgIGZvcih2YXIgaT0wOyBpICE9PSB0aGlzLmNvbnN0cmFpbnRzLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgdmFyIGMgPSB0aGlzLmNvbnN0cmFpbnRzW2ldO1xuICAgICAgICBmb3IodmFyIGo9MDsgaiAhPT0gYy5lcXVhdGlvbnMubGVuZ3RoOyBqKyspe1xuICAgICAgICAgICAgdmFyIGVxID0gYy5lcXVhdGlvbnNbal07XG4gICAgICAgICAgICBlcS5yZWxheGF0aW9uID0gcmVsYXhhdGlvbjtcbiAgICAgICAgICAgIGVxLm5lZWRzVXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIFNldCBmb3IgYWxsIGNvbnRhY3QgbWF0ZXJpYWxzXG4gICAgZm9yKHZhciBpPTA7IGkgIT09IHRoaXMuY29udGFjdE1hdGVyaWFscy5sZW5ndGg7IGkrKyl7XG4gICAgICAgIHZhciBjID0gdGhpcy5jb250YWN0TWF0ZXJpYWxzW2ldO1xuICAgICAgICBjLnJlbGF4YXRpb24gPSBjLmZyaWN0aW9uUmVsYXhhdGlvbiA9IHJlbGF4YXRpb247XG4gICAgfVxuXG4gICAgLy8gU2V0IGZvciBkZWZhdWx0IGNvbnRhY3QgbWF0ZXJpYWxcbiAgICB2YXIgYyA9IHRoaXMuZGVmYXVsdENvbnRhY3RNYXRlcmlhbDtcbiAgICBjLnJlbGF4YXRpb24gPSBjLmZyaWN0aW9uUmVsYXhhdGlvbiA9IHJlbGF4YXRpb247XG59O1xuXG52YXIgdG1wQUFCQiA9IG5ldyBBQUJCKCk7XG52YXIgdG1wQXJyYXkgPSBbXTtcblxuLyoqXG4gKiBSYXkgY2FzdCBhZ2FpbnN0IGFsbCBib2RpZXMgaW4gdGhlIHdvcmxkLlxuICogQG1ldGhvZCByYXljYXN0XG4gKiBAcGFyYW0gIHtSYXljYXN0UmVzdWx0fSByZXN1bHRcbiAqIEBwYXJhbSAge1JheX0gcmF5XG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIGFueSBib2R5IHdhcyBoaXQuXG4gKlxuICogQGV4YW1wbGVcbiAqICAgICB2YXIgcmF5ID0gbmV3IFJheSh7XG4gKiAgICAgICAgIG1vZGU6IFJheS5DTE9TRVNULCAvLyBvciBBTllcbiAqICAgICAgICAgZnJvbTogWzAsIDBdLFxuICogICAgICAgICB0bzogWzEwLCAwXSxcbiAqICAgICB9KTtcbiAqICAgICB2YXIgcmVzdWx0ID0gbmV3IFJheWNhc3RSZXN1bHQoKTtcbiAqICAgICB3b3JsZC5yYXljYXN0KHJlc3VsdCwgcmF5KTtcbiAqXG4gKiAgICAgLy8gR2V0IHRoZSBoaXQgcG9pbnRcbiAqICAgICB2YXIgaGl0UG9pbnQgPSB2ZWMyLmNyZWF0ZSgpO1xuICogICAgIHJlc3VsdC5nZXRIaXRQb2ludChoaXRQb2ludCwgcmF5KTtcbiAqICAgICBjb25zb2xlLmxvZygnSGl0IHBvaW50OiAnLCBoaXRQb2ludFswXSwgaGl0UG9pbnRbMV0sICcgYXQgZGlzdGFuY2UgJyArIHJlc3VsdC5nZXRIaXREaXN0YW5jZShyYXkpKTtcbiAqXG4gKiBAZXhhbXBsZVxuICogICAgIHZhciByYXkgPSBuZXcgUmF5KHtcbiAqICAgICAgICAgbW9kZTogUmF5LkFMTCxcbiAqICAgICAgICAgZnJvbTogWzAsIDBdLFxuICogICAgICAgICB0bzogWzEwLCAwXSxcbiAqICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uKHJlc3VsdCl7XG4gKlxuICogICAgICAgICAgICAgLy8gUHJpbnQgc29tZSBpbmZvIGFib3V0IHRoZSBoaXRcbiAqICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdIaXQgYm9keSBhbmQgc2hhcGU6ICcsIHJlc3VsdC5ib2R5LCByZXN1bHQuc2hhcGUpO1xuICpcbiAqICAgICAgICAgICAgIC8vIEdldCB0aGUgaGl0IHBvaW50XG4gKiAgICAgICAgICAgICB2YXIgaGl0UG9pbnQgPSB2ZWMyLmNyZWF0ZSgpO1xuICogICAgICAgICAgICAgcmVzdWx0LmdldEhpdFBvaW50KGhpdFBvaW50LCByYXkpO1xuICogICAgICAgICAgICAgY29uc29sZS5sb2coJ0hpdCBwb2ludDogJywgaGl0UG9pbnRbMF0sIGhpdFBvaW50WzFdLCAnIGF0IGRpc3RhbmNlICcgKyByZXN1bHQuZ2V0SGl0RGlzdGFuY2UocmF5KSk7XG4gKlxuICogICAgICAgICAgICAgLy8gSWYgeW91IGFyZSBoYXBweSB3aXRoIHRoZSBoaXRzIHlvdSBnb3QgdGhpcyBmYXIsIHlvdSBjYW4gc3RvcCB0aGUgdHJhdmVyc2FsIGhlcmU6XG4gKiAgICAgICAgICAgICByZXN1bHQuc3RvcCgpO1xuICogICAgICAgICB9XG4gKiAgICAgfSk7XG4gKiAgICAgdmFyIHJlc3VsdCA9IG5ldyBSYXljYXN0UmVzdWx0KCk7XG4gKiAgICAgd29ybGQucmF5Y2FzdChyZXN1bHQsIHJheSk7XG4gKi9cbldvcmxkLnByb3RvdHlwZS5yYXljYXN0ID0gZnVuY3Rpb24ocmVzdWx0LCByYXkpe1xuXG4gICAgLy8gR2V0IGFsbCBib2RpZXMgd2l0aGluIHRoZSByYXkgQUFCQlxuICAgIHJheS5nZXRBQUJCKHRtcEFBQkIpO1xuICAgIHRoaXMuYnJvYWRwaGFzZS5hYWJiUXVlcnkodGhpcywgdG1wQUFCQiwgdG1wQXJyYXkpO1xuICAgIHJheS5pbnRlcnNlY3RCb2RpZXMocmVzdWx0LCB0bXBBcnJheSk7XG4gICAgdG1wQXJyYXkubGVuZ3RoID0gMDtcblxuICAgIHJldHVybiByZXN1bHQuaGFzSGl0KCk7XG59O1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcDIvc3JjL3dvcmxkL1dvcmxkLmpzXG4gKiogbW9kdWxlIGlkID0gMTE0XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvKlxyXG5cdE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXHJcblx0QXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxyXG4qL1xyXG52YXIgc3R5bGVzSW5Eb20gPSB7fSxcclxuXHRtZW1vaXplID0gZnVuY3Rpb24oZm4pIHtcclxuXHRcdHZhciBtZW1vO1xyXG5cdFx0cmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0aWYgKHR5cGVvZiBtZW1vID09PSBcInVuZGVmaW5lZFwiKSBtZW1vID0gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuXHRcdFx0cmV0dXJuIG1lbW87XHJcblx0XHR9O1xyXG5cdH0sXHJcblx0aXNPbGRJRSA9IG1lbW9pemUoZnVuY3Rpb24oKSB7XHJcblx0XHRyZXR1cm4gL21zaWUgWzYtOV1cXGIvLnRlc3Qod2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKSk7XHJcblx0fSksXHJcblx0Z2V0SGVhZEVsZW1lbnQgPSBtZW1vaXplKGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiBkb2N1bWVudC5oZWFkIHx8IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaGVhZFwiKVswXTtcclxuXHR9KSxcclxuXHRzaW5nbGV0b25FbGVtZW50ID0gbnVsbCxcclxuXHRzaW5nbGV0b25Db3VudGVyID0gMDtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obGlzdCwgb3B0aW9ucykge1xyXG5cdGlmKHR5cGVvZiBERUJVRyAhPT0gXCJ1bmRlZmluZWRcIiAmJiBERUJVRykge1xyXG5cdFx0aWYodHlwZW9mIGRvY3VtZW50ICE9PSBcIm9iamVjdFwiKSB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgc3R5bGUtbG9hZGVyIGNhbm5vdCBiZSB1c2VkIGluIGEgbm9uLWJyb3dzZXIgZW52aXJvbm1lbnRcIik7XHJcblx0fVxyXG5cclxuXHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcclxuXHQvLyBGb3JjZSBzaW5nbGUtdGFnIHNvbHV0aW9uIG9uIElFNi05LCB3aGljaCBoYXMgYSBoYXJkIGxpbWl0IG9uIHRoZSAjIG9mIDxzdHlsZT5cclxuXHQvLyB0YWdzIGl0IHdpbGwgYWxsb3cgb24gYSBwYWdlXHJcblx0aWYgKHR5cGVvZiBvcHRpb25zLnNpbmdsZXRvbiA9PT0gXCJ1bmRlZmluZWRcIikgb3B0aW9ucy5zaW5nbGV0b24gPSBpc09sZElFKCk7XHJcblxyXG5cdHZhciBzdHlsZXMgPSBsaXN0VG9TdHlsZXMobGlzdCk7XHJcblx0YWRkU3R5bGVzVG9Eb20oc3R5bGVzLCBvcHRpb25zKTtcclxuXHJcblx0cmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZShuZXdMaXN0KSB7XHJcblx0XHR2YXIgbWF5UmVtb3ZlID0gW107XHJcblx0XHRmb3IodmFyIGkgPSAwOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdHZhciBpdGVtID0gc3R5bGVzW2ldO1xyXG5cdFx0XHR2YXIgZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXTtcclxuXHRcdFx0ZG9tU3R5bGUucmVmcy0tO1xyXG5cdFx0XHRtYXlSZW1vdmUucHVzaChkb21TdHlsZSk7XHJcblx0XHR9XHJcblx0XHRpZihuZXdMaXN0KSB7XHJcblx0XHRcdHZhciBuZXdTdHlsZXMgPSBsaXN0VG9TdHlsZXMobmV3TGlzdCk7XHJcblx0XHRcdGFkZFN0eWxlc1RvRG9tKG5ld1N0eWxlcywgb3B0aW9ucyk7XHJcblx0XHR9XHJcblx0XHRmb3IodmFyIGkgPSAwOyBpIDwgbWF5UmVtb3ZlLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdHZhciBkb21TdHlsZSA9IG1heVJlbW92ZVtpXTtcclxuXHRcdFx0aWYoZG9tU3R5bGUucmVmcyA9PT0gMCkge1xyXG5cdFx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBkb21TdHlsZS5wYXJ0cy5sZW5ndGg7IGorKylcclxuXHRcdFx0XHRcdGRvbVN0eWxlLnBhcnRzW2pdKCk7XHJcblx0XHRcdFx0ZGVsZXRlIHN0eWxlc0luRG9tW2RvbVN0eWxlLmlkXTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFkZFN0eWxlc1RvRG9tKHN0eWxlcywgb3B0aW9ucykge1xyXG5cdGZvcih2YXIgaSA9IDA7IGkgPCBzdHlsZXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdHZhciBpdGVtID0gc3R5bGVzW2ldO1xyXG5cdFx0dmFyIGRvbVN0eWxlID0gc3R5bGVzSW5Eb21baXRlbS5pZF07XHJcblx0XHRpZihkb21TdHlsZSkge1xyXG5cdFx0XHRkb21TdHlsZS5yZWZzKys7XHJcblx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBkb21TdHlsZS5wYXJ0cy5sZW5ndGg7IGorKykge1xyXG5cdFx0XHRcdGRvbVN0eWxlLnBhcnRzW2pdKGl0ZW0ucGFydHNbal0pO1xyXG5cdFx0XHR9XHJcblx0XHRcdGZvcig7IGogPCBpdGVtLnBhcnRzLmxlbmd0aDsgaisrKSB7XHJcblx0XHRcdFx0ZG9tU3R5bGUucGFydHMucHVzaChhZGRTdHlsZShpdGVtLnBhcnRzW2pdLCBvcHRpb25zKSk7XHJcblx0XHRcdH1cclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHZhciBwYXJ0cyA9IFtdO1xyXG5cdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xyXG5cdFx0XHRcdHBhcnRzLnB1c2goYWRkU3R5bGUoaXRlbS5wYXJ0c1tqXSwgb3B0aW9ucykpO1xyXG5cdFx0XHR9XHJcblx0XHRcdHN0eWxlc0luRG9tW2l0ZW0uaWRdID0ge2lkOiBpdGVtLmlkLCByZWZzOiAxLCBwYXJ0czogcGFydHN9O1xyXG5cdFx0fVxyXG5cdH1cclxufVxyXG5cclxuZnVuY3Rpb24gbGlzdFRvU3R5bGVzKGxpc3QpIHtcclxuXHR2YXIgc3R5bGVzID0gW107XHJcblx0dmFyIG5ld1N0eWxlcyA9IHt9O1xyXG5cdGZvcih2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XHJcblx0XHR2YXIgaXRlbSA9IGxpc3RbaV07XHJcblx0XHR2YXIgaWQgPSBpdGVtWzBdO1xyXG5cdFx0dmFyIGNzcyA9IGl0ZW1bMV07XHJcblx0XHR2YXIgbWVkaWEgPSBpdGVtWzJdO1xyXG5cdFx0dmFyIHNvdXJjZU1hcCA9IGl0ZW1bM107XHJcblx0XHR2YXIgcGFydCA9IHtjc3M6IGNzcywgbWVkaWE6IG1lZGlhLCBzb3VyY2VNYXA6IHNvdXJjZU1hcH07XHJcblx0XHRpZighbmV3U3R5bGVzW2lkXSlcclxuXHRcdFx0c3R5bGVzLnB1c2gobmV3U3R5bGVzW2lkXSA9IHtpZDogaWQsIHBhcnRzOiBbcGFydF19KTtcclxuXHRcdGVsc2VcclxuXHRcdFx0bmV3U3R5bGVzW2lkXS5wYXJ0cy5wdXNoKHBhcnQpO1xyXG5cdH1cclxuXHRyZXR1cm4gc3R5bGVzO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVTdHlsZUVsZW1lbnQoKSB7XHJcblx0dmFyIHN0eWxlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcclxuXHR2YXIgaGVhZCA9IGdldEhlYWRFbGVtZW50KCk7XHJcblx0c3R5bGVFbGVtZW50LnR5cGUgPSBcInRleHQvY3NzXCI7XHJcblx0aGVhZC5hcHBlbmRDaGlsZChzdHlsZUVsZW1lbnQpO1xyXG5cdHJldHVybiBzdHlsZUVsZW1lbnQ7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFkZFN0eWxlKG9iaiwgb3B0aW9ucykge1xyXG5cdHZhciBzdHlsZUVsZW1lbnQsIHVwZGF0ZSwgcmVtb3ZlO1xyXG5cclxuXHRpZiAob3B0aW9ucy5zaW5nbGV0b24pIHtcclxuXHRcdHZhciBzdHlsZUluZGV4ID0gc2luZ2xldG9uQ291bnRlcisrO1xyXG5cdFx0c3R5bGVFbGVtZW50ID0gc2luZ2xldG9uRWxlbWVudCB8fCAoc2luZ2xldG9uRWxlbWVudCA9IGNyZWF0ZVN0eWxlRWxlbWVudCgpKTtcclxuXHRcdHVwZGF0ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZUVsZW1lbnQsIHN0eWxlSW5kZXgsIGZhbHNlKTtcclxuXHRcdHJlbW92ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZUVsZW1lbnQsIHN0eWxlSW5kZXgsIHRydWUpO1xyXG5cdH0gZWxzZSB7XHJcblx0XHRzdHlsZUVsZW1lbnQgPSBjcmVhdGVTdHlsZUVsZW1lbnQoKTtcclxuXHRcdHVwZGF0ZSA9IGFwcGx5VG9UYWcuYmluZChudWxsLCBzdHlsZUVsZW1lbnQpO1xyXG5cdFx0cmVtb3ZlID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRzdHlsZUVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZUVsZW1lbnQpO1xyXG5cdFx0fTtcclxuXHR9XHJcblxyXG5cdHVwZGF0ZShvYmopO1xyXG5cclxuXHRyZXR1cm4gZnVuY3Rpb24gdXBkYXRlU3R5bGUobmV3T2JqKSB7XHJcblx0XHRpZihuZXdPYmopIHtcclxuXHRcdFx0aWYobmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJiBuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJiBuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwKVxyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0dXBkYXRlKG9iaiA9IG5ld09iaik7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRyZW1vdmUoKTtcclxuXHRcdH1cclxuXHR9O1xyXG59XHJcblxyXG5mdW5jdGlvbiByZXBsYWNlVGV4dChzb3VyY2UsIGlkLCByZXBsYWNlbWVudCkge1xyXG5cdHZhciBib3VuZGFyaWVzID0gW1wiLyoqID4+XCIgKyBpZCArIFwiICoqL1wiLCBcIi8qKiBcIiArIGlkICsgXCI8PCAqKi9cIl07XHJcblx0dmFyIHN0YXJ0ID0gc291cmNlLmxhc3RJbmRleE9mKGJvdW5kYXJpZXNbMF0pO1xyXG5cdHZhciB3cmFwcGVkUmVwbGFjZW1lbnQgPSByZXBsYWNlbWVudFxyXG5cdFx0PyAoYm91bmRhcmllc1swXSArIHJlcGxhY2VtZW50ICsgYm91bmRhcmllc1sxXSlcclxuXHRcdDogXCJcIjtcclxuXHRpZiAoc291cmNlLmxhc3RJbmRleE9mKGJvdW5kYXJpZXNbMF0pID49IDApIHtcclxuXHRcdHZhciBlbmQgPSBzb3VyY2UubGFzdEluZGV4T2YoYm91bmRhcmllc1sxXSkgKyBib3VuZGFyaWVzWzFdLmxlbmd0aDtcclxuXHRcdHJldHVybiBzb3VyY2Uuc2xpY2UoMCwgc3RhcnQpICsgd3JhcHBlZFJlcGxhY2VtZW50ICsgc291cmNlLnNsaWNlKGVuZCk7XHJcblx0fSBlbHNlIHtcclxuXHRcdHJldHVybiBzb3VyY2UgKyB3cmFwcGVkUmVwbGFjZW1lbnQ7XHJcblx0fVxyXG59XHJcblxyXG5mdW5jdGlvbiBhcHBseVRvU2luZ2xldG9uVGFnKHN0eWxlRWxlbWVudCwgaW5kZXgsIHJlbW92ZSwgb2JqKSB7XHJcblx0dmFyIGNzcyA9IHJlbW92ZSA/IFwiXCIgOiBvYmouY3NzO1xyXG5cclxuXHRpZihzdHlsZUVsZW1lbnQuc3R5bGVTaGVldCkge1xyXG5cdFx0c3R5bGVFbGVtZW50LnN0eWxlU2hlZXQuY3NzVGV4dCA9IHJlcGxhY2VUZXh0KHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0LmNzc1RleHQsIGluZGV4LCBjc3MpO1xyXG5cdH0gZWxzZSB7XHJcblx0XHR2YXIgY3NzTm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcyk7XHJcblx0XHR2YXIgY2hpbGROb2RlcyA9IHN0eWxlRWxlbWVudC5jaGlsZE5vZGVzO1xyXG5cdFx0aWYgKGNoaWxkTm9kZXNbaW5kZXhdKSBzdHlsZUVsZW1lbnQucmVtb3ZlQ2hpbGQoY2hpbGROb2Rlc1tpbmRleF0pO1xyXG5cdFx0aWYgKGNoaWxkTm9kZXMubGVuZ3RoKSB7XHJcblx0XHRcdHN0eWxlRWxlbWVudC5pbnNlcnRCZWZvcmUoY3NzTm9kZSwgY2hpbGROb2Rlc1tpbmRleF0pO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0c3R5bGVFbGVtZW50LmFwcGVuZENoaWxkKGNzc05vZGUpO1xyXG5cdFx0fVxyXG5cdH1cclxufVxyXG5cclxuZnVuY3Rpb24gYXBwbHlUb1RhZyhzdHlsZUVsZW1lbnQsIG9iaikge1xyXG5cdHZhciBjc3MgPSBvYmouY3NzO1xyXG5cdHZhciBtZWRpYSA9IG9iai5tZWRpYTtcclxuXHR2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcclxuXHJcblx0aWYoc291cmNlTWFwICYmIHR5cGVvZiBidG9hID09PSBcImZ1bmN0aW9uXCIpIHtcclxuXHRcdHRyeSB7XHJcblx0XHRcdGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIgKyBidG9hKEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpICsgXCIgKi9cIjtcclxuXHRcdFx0Y3NzID0gXCJAaW1wb3J0IHVybChcXFwiZGF0YTp0ZXh0L2NzcztiYXNlNjQsXCIgKyBidG9hKGNzcykgKyBcIlxcXCIpXCI7XHJcblx0XHR9IGNhdGNoKGUpIHt9XHJcblx0fVxyXG5cclxuXHRpZihtZWRpYSkge1xyXG5cdFx0c3R5bGVFbGVtZW50LnNldEF0dHJpYnV0ZShcIm1lZGlhXCIsIG1lZGlhKVxyXG5cdH1cclxuXHJcblx0aWYoc3R5bGVFbGVtZW50LnN0eWxlU2hlZXQpIHtcclxuXHRcdHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XHJcblx0fSBlbHNlIHtcclxuXHRcdHdoaWxlKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKSB7XHJcblx0XHRcdHN0eWxlRWxlbWVudC5yZW1vdmVDaGlsZChzdHlsZUVsZW1lbnQuZmlyc3RDaGlsZCk7XHJcblx0XHR9XHJcblx0XHRzdHlsZUVsZW1lbnQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XHJcblx0fVxyXG59XHJcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3N0eWxlLWxvYWRlci9hZGRTdHlsZXMuanNcbiAqKiBtb2R1bGUgaWQgPSAxMTVcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cbi8vIGxvYWQgdGhlIHN0eWxlc1xudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEvaG9tZS90cmF2aXMvYnVpbGQvcmlrdWtpc3NhL2RvZ2ZpZ2h0LWRvZGdlcnMvbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhL2hvbWUvdHJhdmlzL2J1aWxkL3Jpa3VraXNzYS9kb2dmaWdodC1kb2RnZXJzL3NjcmlwdHMvc3R5bGUuY3NzXCIpO1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4vLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEvaG9tZS90cmF2aXMvYnVpbGQvcmlrdWtpc3NhL2RvZ2ZpZ2h0LWRvZGdlcnMvbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9hZGRTdHlsZXMuanNcIikoY29udGVudCwge30pO1xuLy8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuaWYobW9kdWxlLmhvdCkge1xuXHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRtb2R1bGUuaG90LmFjY2VwdChcIiEhL2hvbWUvdHJhdmlzL2J1aWxkL3Jpa3VraXNzYS9kb2dmaWdodC1kb2RnZXJzL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS9ob21lL3RyYXZpcy9idWlsZC9yaWt1a2lzc2EvZG9nZmlnaHQtZG9kZ2Vycy9zY3JpcHRzL3N0eWxlLmNzc1wiLCBmdW5jdGlvbigpIHtcblx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS9ob21lL3RyYXZpcy9idWlsZC9yaWt1a2lzc2EvZG9nZmlnaHQtZG9kZ2Vycy9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEvaG9tZS90cmF2aXMvYnVpbGQvcmlrdWtpc3NhL2RvZ2ZpZ2h0LWRvZGdlcnMvc2NyaXB0cy9zdHlsZS5jc3NcIik7XG5cdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHR9KTtcblx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn1cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vc2NyaXB0cy9zdHlsZS5jc3NcbiAqKiBtb2R1bGUgaWQgPSAxMTZcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0gXCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUNnQUFBQVFDQVlBQUFCazF6MnRBQUFBQ1hCSVdYTUFBQXNUQUFBTEV3RUFtcHdZQUFBS1QybERRMUJRYUc5MGIzTm9iM0FnU1VORElIQnliMlpwYkdVQUFIamFuVk5uVkZQcEZqMzMzdlJDUzRpQWxFdHZVaFVJSUZKQ2k0QVVrU1lxSVFrUVNvZ2hvZGtWVWNFUlJVVUVHOGlnaUFPT2pvQ01GVkVzRElvSzJBZmtJYUtPZzZPSWlzcjc0WHVqYTlhODkrYk4vclhYUHVlczg1Mnp6d2ZBQ0F5V1NETlJOWUFNcVVJZUVlQ0R4OFRHNGVRdVFJRUtKSEFBRUFpelpDRnovU01CQVBoK1BEd3JJc0FIdmdBQmVOTUxDQURBVFp2QU1CeUgvdy9xUXBsY0FZQ0VBY0Iwa1RoTENJQVVBRUI2amtLbUFFQkdBWUNkbUNaVEFLQUVBR0RMWTJMakFGQXRBR0FuZitiVEFJQ2QrSmw3QVFCYmxDRVZBYUNSQUNBVFpZaEVBR2c3QUt6UFZvcEZBRmd3QUJSbVM4UTVBTmd0QURCSlYyWklBTEMzQU1ET0VBdXlBQWdNQURCUmlJVXBBQVI3QUdESUl5TjRBSVNaQUJSRzhsYzg4U3V1RU9jcUFBQjRtYkk4dVNRNVJZRmJDQzF4QjFkWExoNG96a2tYS3hRMllRSmhta0F1d25tWkdUS0JOQS9nODh3QUFLQ1JGUkhnZy9QOWVNNE9yczdPTm82MkRsOHQ2cjhHL3lKaVl1UCs1YytyY0VBQUFPRjBmdEgrTEMrekdvQTdCb0J0L3FJbDdnUm9YZ3VnZGZlTFpySVBRTFVBb09uYVYvTncrSDQ4UEVXaGtMbloyZVhrNU5oS3hFSmJZY3BYZmY1bndsL0FWLzFzK1g0OC9QZjE0TDdpSklFeVhZRkhCUGpnd3N6MFRLVWN6NUlKaEdMYzVvOUgvTGNMLy93ZDB5TEVTV0s1V0NvVTQxRVNjWTVFbW96ek1xVWlpVUtTS2NVbDB2OWs0dDhzK3dNKzN6VUFzR28rQVh1UkxhaGRZd1AyU3ljUVdIVEE0dmNBQVBLN2I4SFVLQWdEZ0dpRDRjOTMvKzgvL1VlZ0pRQ0Faa21TY1FBQVhrUWtMbFRLc3ovSENBQUFSS0NCS3JCQkcvVEJHQ3pBQmh6QkJkekJDL3hnTm9SQ0pNVENRaEJDQ21TQUhISmdLYXlDUWlpR3piQWRLbUF2MUVBZE5NQlJhSWFUY0E0dXdsVzREajF3RC9waENKN0JLTHlCQ1FSQnlBZ1RZU0hhaUFGaWlsZ2pqZ2dYbVlYNEljRklCQktMSkNESmlCUlJJa3VSTlVneFVvcFVJRlZJSGZJOWNnSTVoMXhHdXBFN3lBQXlndnlHdkVjeGxJR3lVVDNVRExWRHVhZzNHb1JHb2d2UVpIUXhtbzhXb0p2UWNyUWFQWXcyb2VmUXEyZ1AybzgrUThjd3dPZ1lCelBFYkRBdXhzTkNzVGdzQ1pOank3RWlyQXlyeGhxd1Zxd0R1NG4xWTgreGR3UVNnVVhBQ1RZRWQwSWdZUjVCU0ZoTVdFN1lTS2dnSENRMEVkb0pOd2tEaEZIQ0p5S1RxRXUwSnJvUitjUVlZakl4aDFoSUxDUFdFbzhUTHhCN2lFUEVOeVFTaVVNeUo3bVFBa214cEZUU0V0SkcwbTVTSStrc3FaczBTQm9qazhuYVpHdXlCem1VTENBcnlJWGtuZVRENURQa0crUWg4bHNLbldKQWNhVDRVK0lvVXNwcVNobmxFT1UwNVFabG1ESkJWYU9hVXQyb29WUVJOWTlhUXEyaHRsS3ZVWWVvRXpSMW1qbk5neFpKUzZXdG9wWFRHbWdYYVBkcHIraDB1aEhkbFI1T2w5Qlgwc3ZwUitpWDZBUDBkd3dOaGhXRHg0aG5LQm1iR0FjWVp4bDNHSytZVEtZWjA0c1p4MVF3TnpIcm1PZVpENWx2VlZncXRpcDhGWkhLQ3BWS2xTYVZHeW92VkttcXBxcmVxZ3RWODFYTFZJK3BYbE45cmtaVk0xUGpxUW5VbHF0VnFwMVE2MU1iVTJlcE82aUhxbWVvYjFRL3BINVovWWtHV2NOTXcwOURwRkdnc1YvanZNWWdDMk1aczNnc0lXc05xNFoxZ1RYRUpySE4yWHgyS3J1WS9SMjdpejJxcWFFNVF6TktNMWV6VXZPVVpqOEg0NWh4K0p4MFRnbm5LS2VYODM2SzNoVHZLZUlwRzZZMFRMa3haVnhycXBhWGxsaXJTS3RScTBmcnZUYXU3YWVkcHIxRnUxbjdnUTVCeDBvblhDZEhaNC9PQlozblU5bFQzYWNLcHhaTlBUcjFyaTZxYTZVYm9idEVkNzl1cCs2WW5yNWVnSjVNYjZmZWViM24raHg5TC8xVS9XMzZwL1ZIREZnR3N3d2tCdHNNemhnOHhUVnhiendkTDhmYjhWRkRYY05BUTZWaGxXR1g0WVNSdWRFOG85VkdqVVlQakduR1hPTWs0MjNHYmNhakpnWW1JU1pMVGVwTjdwcFNUYm1tS2FZN1REdE14ODNNemFMTjFwazFtejB4MXpMbm0rZWIxNXZmdDJCYWVGb3N0cWkydUdWSnN1UmFwbG51dHJ4dWhWbzVXYVZZVlZwZHMwYXRuYTBsMXJ1dHU2Y1JwN2xPazA2cm50Wm53N0R4dHNtMnFiY1pzT1hZQnR1dXRtMjJmV0ZuWWhkbnQ4V3V3KzZUdlpOOXVuMk4vVDBIRFlmWkRxc2RXaDErYzdSeUZEcFdPdDZhenB6dVAzM0Y5SmJwTDJkWXp4RFAyRFBqdGhQTEtjUnBuVk9iMDBkbkYyZTVjNFB6aUl1SlM0TExMcGMrTHBzYnh0M0l2ZVJLZFBWeFhlRjYwdldkbTdPYnd1Mm8yNi91TnU1cDdvZmNuOHcwbnltZVdUTnowTVBJUStCUjVkRS9DNStWTUd2ZnJINVBRMCtCWjdYbkl5OWpMNUZYcmRld3Q2VjNxdmRoN3hjKzlqNXluK00rNHp3MzNqTGVXVi9NTjhDM3lMZkxUOE52bmwrRjMwTi9JLzlrLzNyLzBRQ25nQ1VCWndPSmdVR0JXd0w3K0hwOEliK09QenJiWmZheTJlMUJqS0M1UVJWQmo0S3RndVhCclNGb3lPeVFyU0gzNTVqT2tjNXBEb1ZRZnVqVzBBZGg1bUdMdzM0TUo0V0hoVmVHUDQ1d2lGZ2EwVEdYTlhmUjNFTnozMFQ2UkpaRTNwdG5NVTg1cnkxS05TbytxaTVxUE5vM3VqUzZQOFl1WmxuTTFWaWRXRWxzU3h3NUxpcXVObTVzdnQvODdmT0g0cDNpQytON0Y1Z3Z5RjF3ZWFIT3d2U0ZweGFwTGhJc09wWkFUSWhPT0pUd1FSQXFxQmFNSmZJVGR5V09Dbm5DSGNKbklpL1JOdEdJMkVOY0toNU84a2dxVFhxUzdKRzhOWGtreFRPbExPVzVoQ2Vwa0x4TURVemRtenFlRnBwMklHMHlQVHE5TVlPU2taQnhRcW9oVFpPMlorcG41bVoyeTZ4bGhiTCt4VzZMdHk4ZWxRZkphN09RckFWWkxRcTJRcWJvVkZvbzF5b0hzbWRsVjJhL3pZbktPWmFybml2TjdjeXp5dHVRTjV6dm4vL3RFc0lTNFpLMnBZWkxWeTBkV09hOXJHbzVzanh4ZWRzSzR4VUZLNFpXQnF3OHVJcTJLbTNWVDZ2dFY1ZXVmcjBtZWsxcmdWN0J5b0xCdFFGcjZ3dFZDdVdGZmV2YzErMWRUMWd2V2QrMVlmcUduUnMrRlltS3JoVGJGNWNWZjlnbzNIamxHNGR2eXIrWjNKUzBxYXZFdVdUUFp0Sm02ZWJlTFo1YkRwYXFsK2FYRG00TjJkcTBEZDlXdE8zMTlrWGJMNWZOS051N2c3WkR1YU8vUExpOFphZkp6czA3UDFTa1ZQUlUrbFEyN3RMZHRXSFgrRzdSN2h0N3ZQWTA3TlhiVzd6My9UN0p2dHRWQVZWTjFXYlZaZnRKKzdQM1A2NkpxdW40bHZ0dFhhMU9iWEh0eHdQU0EvMEhJdzYyMTduVTFSM1NQVlJTajlZcjYwY094eCsrL3AzdmR5ME5OZzFWalp6RzRpTndSSG5rNmZjSjMvY2VEVHJhZG94N3JPRUgweDkySFdjZEwycENtdkthUnB0VG12dGJZbHU2VDh3KzBkYnEzbnI4UjlzZkQ1dzBQRmw1U3ZOVXlXbmE2WUxUazJmeXo0eWRsWjE5Zmk3NTNHRGJvclo3NTJQTzMyb1BiKys2RUhUaDBrWC9pK2M3dkR2T1hQSzRkUEt5MitVVFY3aFhtcTg2WDIzcWRPbzgvcFBUVDhlN25MdWFycmxjYTdudWVyMjFlMmIzNlJ1ZU44N2Q5TDE1OFJiLzF0V2VPVDNkdmZONmIvZkY5L1hmRnQxK2NpZjl6c3U3MlhjbjdxMjhUN3hmOUVEdFFkbEQzWWZWUDF2KzNOanYzSDlxd0hlZzg5SGNSL2NHaFlQUC9wSDFqdzlEQlkrWmo4dUdEWWJybmpnK09UbmlQM0w5NmZ5blE4OWt6eWFlRi82aS9zdXVGeFl2ZnZqVjY5Zk8wWmpSb1pmeWw1Ty9iWHlsL2VyQTZ4bXYyOGJDeGg2K3lYZ3pNVjcwVnZ2dHdYZmNkeDN2bzk4UFQrUjhJSDhvLzJqNXNmVlQwS2Y3a3htVGsvOEVBNWp6L0dNekxkc0FBRHRXYVZSWWRGaE5URHBqYjIwdVlXUnZZbVV1ZUcxd0FBQUFBQUE4UDNod1lXTnJaWFFnWW1WbmFXNDlJdSs3dnlJZ2FXUTlJbGMxVFRCTmNFTmxhR2xJZW5KbFUzcE9WR042YTJNNVpDSS9QZ284ZURwNGJYQnRaWFJoSUhodGJHNXpPbmc5SW1Ga2IySmxPbTV6T20xbGRHRXZJaUI0T25odGNIUnJQU0pCWkc5aVpTQllUVkFnUTI5eVpTQTFMalV0WXpBeU1TQTNPUzR4TlRVM056SXNJREl3TVRRdk1ERXZNVE10TVRrNk5EUTZNREFnSUNBZ0lDQWdJQ0krQ2lBZ0lEeHlaR1k2VWtSR0lIaHRiRzV6T25Ka1pqMGlhSFIwY0RvdkwzZDNkeTUzTXk1dmNtY3ZNVGs1T1M4d01pOHlNaTF5WkdZdGMzbHVkR0Y0TFc1ekl5SStDaUFnSUNBZ0lEeHlaR1k2UkdWelkzSnBjSFJwYjI0Z2NtUm1PbUZpYjNWMFBTSWlDaUFnSUNBZ0lDQWdJQ0FnSUhodGJHNXpPbmh0Y0QwaWFIUjBjRG92TDI1ekxtRmtiMkpsTG1OdmJTOTRZWEF2TVM0d0x5SUtJQ0FnSUNBZ0lDQWdJQ0FnZUcxc2JuTTZlRzF3VFUwOUltaDBkSEE2THk5dWN5NWhaRzlpWlM1amIyMHZlR0Z3THpFdU1DOXRiUzhpQ2lBZ0lDQWdJQ0FnSUNBZ0lIaHRiRzV6T25OMFJYWjBQU0pvZEhSd09pOHZibk11WVdSdlltVXVZMjl0TDNoaGNDOHhMakF2YzFSNWNHVXZVbVZ6YjNWeVkyVkZkbVZ1ZENNaUNpQWdJQ0FnSUNBZ0lDQWdJSGh0Ykc1ek9uQm9iM1J2YzJodmNEMGlhSFIwY0RvdkwyNXpMbUZrYjJKbExtTnZiUzl3YUc5MGIzTm9iM0F2TVM0d0x5SUtJQ0FnSUNBZ0lDQWdJQ0FnZUcxc2JuTTZaR005SW1oMGRIQTZMeTl3ZFhKc0xtOXlaeTlrWXk5bGJHVnRaVzUwY3k4eExqRXZJZ29nSUNBZ0lDQWdJQ0FnSUNCNGJXeHVjenAwYVdabVBTSm9kSFJ3T2k4dmJuTXVZV1J2WW1VdVkyOXRMM1JwWm1Zdk1TNHdMeUlLSUNBZ0lDQWdJQ0FnSUNBZ2VHMXNibk02WlhocFpqMGlhSFIwY0RvdkwyNXpMbUZrYjJKbExtTnZiUzlsZUdsbUx6RXVNQzhpUGdvZ0lDQWdJQ0FnSUNBOGVHMXdPa055WldGMGIzSlViMjlzUGtGa2IySmxJRkJvYjNSdmMyaHZjQ0JEUXlBeU1ERTBJQ2hOWVdOcGJuUnZjMmdwUEM5NGJYQTZRM0psWVhSdmNsUnZiMncrQ2lBZ0lDQWdJQ0FnSUR4NGJYQTZRM0psWVhSbFJHRjBaVDR5TURFMUxUQTNMVEU0VkRFME9qQXdPakF4S3pBek9qQXdQQzk0YlhBNlEzSmxZWFJsUkdGMFpUNEtJQ0FnSUNBZ0lDQWdQSGh0Y0RwTlpYUmhaR0YwWVVSaGRHVStNakF4TlMwd055MHhPRlF4TkRvd01Eb3dNU3N3TXpvd01Ed3ZlRzF3T2sxbGRHRmtZWFJoUkdGMFpUNEtJQ0FnSUNBZ0lDQWdQSGh0Y0RwTmIyUnBabmxFWVhSbFBqSXdNVFV0TURjdE1UaFVNVFE2TURBNk1ERXJNRE02TURBOEwzaHRjRHBOYjJScFpubEVZWFJsUGdvZ0lDQWdJQ0FnSUNBOGVHMXdUVTA2U1c1emRHRnVZMlZKUkQ1NGJYQXVhV2xrT2pNME56STBObU5oTFRFME56a3RORFpoTXkxaVptTTNMVFl4TW1NMlpUTmpOell4TVR3dmVHMXdUVTA2U1c1emRHRnVZMlZKUkQ0S0lDQWdJQ0FnSUNBZ1BIaHRjRTFOT2tSdlkzVnRaVzUwU1VRK1lXUnZZbVU2Wkc5amFXUTZjR2h2ZEc5emFHOXdPbUZsWXpKbU1qTTFMVFprTmpZdE1URTNPQzA0TjJNM0xXRTVZbVZrTldNMU9UVmtZVHd2ZUcxd1RVMDZSRzlqZFcxbGJuUkpSRDRLSUNBZ0lDQWdJQ0FnUEhodGNFMU5Pazl5YVdkcGJtRnNSRzlqZFcxbGJuUkpSRDU0YlhBdVpHbGtPbVZpWTJNeVpERmhMVFk1WlRRdE5EVm1ZUzA0WmpBekxUWmlPR1JsTm1ReE5UUTJPVHd2ZUcxd1RVMDZUM0pwWjJsdVlXeEViMk4xYldWdWRFbEVQZ29nSUNBZ0lDQWdJQ0E4ZUcxd1RVMDZTR2x6ZEc5eWVUNEtJQ0FnSUNBZ0lDQWdJQ0FnUEhKa1pqcFRaWEUrQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJRHh5WkdZNmJHa2djbVJtT25CaGNuTmxWSGx3WlQwaVVtVnpiM1Z5WTJVaVBnb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQThjM1JGZG5RNllXTjBhVzl1UG1OeVpXRjBaV1E4TDNOMFJYWjBPbUZqZEdsdmJqNEtJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdQSE4wUlhaME9tbHVjM1JoYm1ObFNVUStlRzF3TG1scFpEcGxZbU5qTW1ReFlTMDJPV1UwTFRRMVptRXRPR1l3TXkwMllqaGtaVFprTVRVME5qazhMM04wUlhaME9tbHVjM1JoYm1ObFNVUStDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJRHh6ZEVWMmREcDNhR1Z1UGpJd01UVXRNRGN0TVRoVU1UUTZNREE2TURFck1ETTZNREE4TDNOMFJYWjBPbmRvWlc0K0NpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lEeHpkRVYyZERwemIyWjBkMkZ5WlVGblpXNTBQa0ZrYjJKbElGQm9iM1J2YzJodmNDQkRReUF5TURFMElDaE5ZV05wYm5SdmMyZ3BQQzl6ZEVWMmREcHpiMlowZDJGeVpVRm5aVzUwUGdvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0E4TDNKa1pqcHNhVDRLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdQSEprWmpwc2FTQnlaR1k2Y0dGeWMyVlVlWEJsUFNKU1pYTnZkWEpqWlNJK0NpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lEeHpkRVYyZERwaFkzUnBiMjQrYzJGMlpXUThMM04wUlhaME9tRmpkR2x2Ymo0S0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ1BITjBSWFowT21sdWMzUmhibU5sU1VRK2VHMXdMbWxwWkRvek5EY3lORFpqWVMweE5EYzVMVFEyWVRNdFltWmpOeTAyTVRKak5tVXpZemMyTVRFOEwzTjBSWFowT21sdWMzUmhibU5sU1VRK0NpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lEeHpkRVYyZERwM2FHVnVQakl3TVRVdE1EY3RNVGhVTVRRNk1EQTZNREVyTURNNk1EQThMM04wUlhaME9uZG9aVzQrQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUR4emRFVjJkRHB6YjJaMGQyRnlaVUZuWlc1MFBrRmtiMkpsSUZCb2IzUnZjMmh2Y0NCRFF5QXlNREUwSUNoTllXTnBiblJ2YzJncFBDOXpkRVYyZERwemIyWjBkMkZ5WlVGblpXNTBQZ29nSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0E4YzNSRmRuUTZZMmhoYm1kbFpENHZQQzl6ZEVWMmREcGphR0Z1WjJWa1Bnb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBOEwzSmtaanBzYVQ0S0lDQWdJQ0FnSUNBZ0lDQWdQQzl5WkdZNlUyVnhQZ29nSUNBZ0lDQWdJQ0E4TDNodGNFMU5Pa2hwYzNSdmNuaytDaUFnSUNBZ0lDQWdJRHh3YUc5MGIzTm9iM0E2Ukc5amRXMWxiblJCYm1ObGMzUnZjbk0rQ2lBZ0lDQWdJQ0FnSUNBZ0lEeHlaR1k2UW1GblBnb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBOGNtUm1PbXhwUG1Ga2IySmxPbVJ2WTJsa09uQm9iM1J2YzJodmNEb3pObU5qWW1JeVlTMDJZemxoTFRFeE56Z3RPR1F6TWkwNVpXVXdNalF6Tm1ZeU1XSThMM0prWmpwc2FUNEtJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ1BISmtaanBzYVQ1NGJYQXVaR2xrT2pBNU9EQXhNVGMwTURjeU1EWTRNVEU0TWpKQlFqa3dPRFV5UXpFMlFrRXhQQzl5WkdZNmJHaytDaUFnSUNBZ0lDQWdJQ0FnSUR3dmNtUm1Pa0poWno0S0lDQWdJQ0FnSUNBZ1BDOXdhRzkwYjNOb2IzQTZSRzlqZFcxbGJuUkJibU5sYzNSdmNuTStDaUFnSUNBZ0lDQWdJRHh3YUc5MGIzTm9iM0E2UTI5c2IzSk5iMlJsUGpNOEwzQm9iM1J2YzJodmNEcERiMnh2Y2sxdlpHVStDaUFnSUNBZ0lDQWdJRHh3YUc5MGIzTm9iM0E2U1VORFVISnZabWxzWlQ1elVrZENJRWxGUXpZeE9UWTJMVEl1TVR3dmNHaHZkRzl6YUc5d09rbERRMUJ5YjJacGJHVStDaUFnSUNBZ0lDQWdJRHhrWXpwbWIzSnRZWFErYVcxaFoyVXZjRzVuUEM5a1l6cG1iM0p0WVhRK0NpQWdJQ0FnSUNBZ0lEeDBhV1ptT2s5eWFXVnVkR0YwYVc5dVBqRThMM1JwWm1ZNlQzSnBaVzUwWVhScGIyNCtDaUFnSUNBZ0lDQWdJRHgwYVdabU9saFNaWE52YkhWMGFXOXVQamN5TURBd01DOHhNREF3TUR3dmRHbG1aanBZVW1WemIyeDFkR2x2Ymo0S0lDQWdJQ0FnSUNBZ1BIUnBabVk2V1ZKbGMyOXNkWFJwYjI0K056SXdNREF3THpFd01EQXdQQzkwYVdabU9sbFNaWE52YkhWMGFXOXVQZ29nSUNBZ0lDQWdJQ0E4ZEdsbVpqcFNaWE52YkhWMGFXOXVWVzVwZEQ0eVBDOTBhV1ptT2xKbGMyOXNkWFJwYjI1VmJtbDBQZ29nSUNBZ0lDQWdJQ0E4WlhocFpqcERiMnh2Y2xOd1lXTmxQakU4TDJWNGFXWTZRMjlzYjNKVGNHRmpaVDRLSUNBZ0lDQWdJQ0FnUEdWNGFXWTZVR2w0Wld4WVJHbHRaVzV6YVc5dVBqUXdQQzlsZUdsbU9sQnBlR1ZzV0VScGJXVnVjMmx2Ymo0S0lDQWdJQ0FnSUNBZ1BHVjRhV1k2VUdsNFpXeFpSR2x0Wlc1emFXOXVQakUyUEM5bGVHbG1PbEJwZUdWc1dVUnBiV1Z1YzJsdmJqNEtJQ0FnSUNBZ1BDOXlaR1k2UkdWelkzSnBjSFJwYjI0K0NpQWdJRHd2Y21SbU9sSkVSajRLUEM5NE9uaHRjRzFsZEdFK0NpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQUtJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQW9nSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBS0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lBb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUFvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0NpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQUtJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQW9nSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBS0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lBb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUFvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0NpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQUtJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQW9nSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBS0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lBb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUFvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0NpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQUtJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQW9nSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBS0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lBb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUFvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0NpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQUtJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQW9nSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBS0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lBb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUFvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0NpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQUtJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQW9nSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBS0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lBb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUFvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0NpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQUtJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQW9nSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBS0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lBb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUFvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0NpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQUtJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQW9nSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBS0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lBb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUFvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0NpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQUtJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQW9nSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBS0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lBb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUFvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0NpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQUtJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQW9nSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBS0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lBb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUFvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0NpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQUtJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQW9nSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBS0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lBb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUFvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0NpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQUtJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQW9nSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBS0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lBb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUFvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0NpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQUtJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQW9nSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBS0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lBb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUFvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0NpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQUtJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQW9nSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnQ2p3L2VIQmhZMnRsZENCbGJtUTlJbmNpUHo3cnZGWkVBQUFBSUdOSVVrMEFBSG9sQUFDQWd3QUErZjhBQUlEcEFBQjFNQUFBNm1BQUFEcVlBQUFYYjVKZnhVWUFBQW9nU1VSQlZIZ0JBQkFLNy9VQi8vLy9BQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBLy9rSEFQamRJZ0Q0MmlVQStOc2pBUHJnSGdEODVSZ0ErZDBjQVB2VUZ3RDlBQkVBL3dBS0FQMEFDZ0FBQUFBQUJBRHpBQVFBNndBR09OMEFERUhIQUEwL3hBQU5Qc1FBQWduM0FBQUFBQUFBQUFBQUFBQUFBQUFBQUFILy8vOEFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFELy9RTUErZHNrQVBYT01BRDJ6eThBOTg4ckFQZTlMQUQ1QUNJQUFRQUFBQUFBQUFEL0FBQUFBUUFBQVA4QUFBQUFBQUFBQUFBQUFBQUFBQUFCQUFBQUFBQUFBQUFBQUFBQUFBQUEvd0FBQUFBQUFBQUFBQUFBQVFBQUFBQUFBQUFRU3F3QUlKdHZBQVVhNWdBQUFBQUFBQUFBQWYvLy93QUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQStkc2tBUFhNTXdEMHh6VUE5Ync1QVBQWE9nQUJBQUFBL3dBQUFBQUFBQUFCQUFBQUFBQUFBQUFBQUFBQUFBQUEvd0FBQUFBQUFBQUFBQUFBQUFBQUFBRUFBQUFBQUFBQUFBQUFBUDhBQUFBQUFBQUFBQUFBQUFFQUFBRC9BQUFBQVFBQUFQOEFBQUFBQUFBQUFRQUFBQUFBQUFBRUFPd0FINmxwQUJKV3JBQUFBQUFCLy8vL0FBQUFBQUFBQUFBQUFBQUFBQUQzMWlrQTVYV0NBUE8yUEFEN0FCZ0FBQUFBQUFBQUFBQUJBQUFBL3dBQUFBRUFBQUFBQUFBQUFBQUFBQUFBQUFEL0FBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFCQUFBQS93QUFBQUFBQUFBQkFBQUEvd0FBQUFFQUFBRC9BQUFBQVFBQUFBQUFBQUQvQUFBQUFBQUFBQUVBQUFBQUFBQUFBQUFBQVA4QUFBQUFBQUFBSktwVEFCSlZyZ0gvLy84QUFBQUFBQUQ0MlNZQTMxeVhBUFBNUWdBQUFBQUFBUUFBQVA4QUFBQUJBQUFBL3dBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQkFBQUEvd0FBQUFFQUFBQUFBQUFBL3dBQUFBRUFBQUFBQUFBQS93QUFBQUVBQUFEL0FBQUFBUUFBQUFBQUFBRC9BQUFBQVFBQUFBQUFBQUFBQUFBQS93QUFBQUVBQUFEL0FBQUFBUUFBQUFBQUFBQUFBQUFBQUFBQUFQOEFBQUFFQU9vQU1QUWlCQUFBQUFBQTk5a21BTlVvMGdEL0FBY0FBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFCQUFBQUFBQUFBUDhBQUFBQUFBQUFBUUFBQVA4QUFBQUFBQUFBQUFBQUFBQUFBQUFIQUFBQUJ3TUFBQWNsQUFBR0ZnQUFCUThBQUFVUUFBQUVEUUFBQWdvQUFBSUZBQUFDQmdBQUFBQUFBUDc1QUFEODlBQUErdXNBQVBYZEFBRHZ6QUFBK1FBQUFBRUFBQUFBQUFBQUFRQUFBUHdBRmdEcGsya0IvLy8vQUFEWE5iMEE5TXhDQVA4QUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBUUFBQUFZQUFBQUtFQUFBQ1NjQUFBY2NBQUFKR1FBQUJCRUFBQUVDQUFBQkFRQUFBQUFBQVAvL0FBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUVCQUFELy93QUFBUUVBQUFBQUFBRC8vd0FBQUFBQUFQLytBQURsb0FBQTd1TUFBUDhBQUFBQkFBQUFBQUFBQUE5RXNRSC8vLzhBQU1zQitRRC9BQVlBQVFBQUFBQUFBQUFBQUFBQS93QUFBQWdBQUFBSUR3QUFDeXdBQUFnZ0FBQUtIUUFBQXdnQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUEvLzhBQUFFQkFBRC8vd0FBQVFBQUFQOEFBQUFCQVFBQUFBQUFBQUFBQUFELy93QUFBUUVBQUFBQUFBRC8vd0FBQUFBQUFBQUFBQUFBQUFBQUFBQUFBUHoxQUFEVmpBQUFBQUFBQUFFQUFBQUFBQUFBQkFEdUJBRHp5RFlBQUFBR0FBRUFBQUQvQUFBQUFRQUFBQWtBQUFBVVNRQUFEaWtBQUFRT0FBRC8vd0FBQVFFQUFBQUFBQUFBQUFBQUFBQUFBUC8vQUFBQUFBQUFBUUVBQVAvL0FBQUFBQUFBLy84QUFBRUJBQUFBQUFBQUFQOEFBQUFBQUFBQUFBQUEvLzhBQUFBQUFBQUFBQUFBLy84QUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUEvZllBQUFBQUFBQUFBQUFBL3dBQUFBQUFBQUFEQU8wQi8vLy9BQURMQWZrQUFBQUdBUDhBQUFBQUFBQUFBUUFBQVA4QUFBQUJBQUFBQXdBQUFBZ0FBQUFKSXdBQUJoOEFBQWtYQUFBRkZBQUFCUkFBQUFFQ0FBQUFBQUFBQVFFQUFQLy9BQUFBQUFBQUFRQUFBQUFCQUFBQUFBQUEvLzhBQUFFQkFBQUFBQUFBLy84QUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQkFRQUEvLzhBQVB2d0FBRGhrUUFBOWdBQUFBQUFBQUQvQUFBQUFRQUFBQlJhbmdRQUFBQUFBQTAweEFEenpFSUFBQUFBQUFFQUFBQUFBQUFBQVFBQUFBQUFBQUQ4QUFBQTlBQUFBUFhkQUFELzNRQUFBUUFBQVA4QUFBQUNBQUFBQkFBQUFBWUFBQUFISFFBQUJSa0FBQVlUQUFBRURBQUFBdzBBQUFRTUFBQURDQUFBQVFRQUFBTUZBQUFCQVFBQS92d0FBUDc2QUFEOTl3QUEvUEVBQVBmbEFBRHp5Z0FBOHZNQUFBQUFBQUQvQUFBQUFBQUFBQUVBQUFBQUFBQUFERUhFQWYvLy93QUE5OWttQU5RbzBnQUFBQWNBL3dBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUJBQUFBQUFBQUFBQUFBQUFBQUFBQS93QUFBQUVBQUFEL0FBQUFBUUFBQUFBQUFBRC9BQUFBQVFBQUFQOEFBQUFBQUFBQUFBQUFBQUVBQUFEL0FBQUFBUUFBQVA4QUFBQUJBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFEL0FBQUFBQUFBQUFzanlnQXIzRGNDQUFBQUFBQUpKOW9BTE5ndUFBMDB2Z0FCQUFBQUFBQUFBQUFBQUFBQkFBQUFBQUFBQUFFQUFBQUJBQUFBQUFBQUFQOEFBQUFBQUFBQS93QUFBUDhBQUFBQUFBQUEvd0FBQUFBQUFBRC9BQUFBQUFBQUFBQUFBQUQvQUFBQUFRQUFBQUFBQUFBQUFBQUEvd0FBQUFFQUFBRC9BQUFBQUFBQUFQOEFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFFQUFBQUFBUDRBSUtscEFBQUFBQUgvLy84QUFBQUFBQUFBQUFBQUFBQUFBUGZXS1FEeHQwWUE4NzQ4QVBTMlBRRDdBQmNBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBUUFBQUFBQUFBRC9BQUFBQVFBQUFBQUFBQUFBQUFBQS93QUFBQUVBQUFBQUFBQUEvd0FBQUFBQUFBQUJBQUFBQUFBQUFBQUFBQUQvQUFBQUFBQUFBQUFBQUFBQkFBQUEvd0FBQUFFQUFBRC9BQUFBQ1JMVEFDQ3dhUUFOUGNVQUFBQUFBZi8vL3dBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFQenFGZ0QxMGl3QStOVXBBUGZUS3dEMzBTY0ErOHdoQVBnQUlRQUFBQUFBQVFBQUFBQUFBQUQvQUFBQUFBQUFBQUFBQUFBQkFBQUFBQUFBQUFBQUFBRC9BQUFBQVFBQUFQOEFBQUFBQUFBQUFRQUFBUDhBQUFBQkFBQUFBQUFBQVA4QUFBQUFBQUFBQ0FEY0FCQnJzd0FlazNNQUFBSC9BQUFBQUFBQUFBQUIvLy8vQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBLy9zRkFQcmpIQUQ0M2lFQStkMGhBUHJlSVFENDNSOEEvZWtVQVB2aUZRRDg0aFVBL1FBT0FQOEFCd0QvQUFrQUFBQUFBQUFBL0FBQ0FQUUFCQUR4QUFZcDVRQUpOOU1BREVIREFBNC94QUFHSCtFQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBRUFBUC8vMERwZ3orM3JKbGtBQUFBQVNVVk9SSzVDWUlJPVwiXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vdXJsLWxvYWRlciEuL2Fzc2V0cy9idWxsZXQucG5nXG4gKiogbW9kdWxlIGlkID0gMTE3XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IFwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFPY0FBQUJnQ0FZQUFBRG1RV1ZBQUFBQUJHZEJUVUVBQUxHUEMveGhCUUFBQUNCalNGSk5BQUI2SmdBQWdJUUFBUG9BQUFDQTZBQUFkVEFBQU9wZ0FBQTZtQUFBRjNDY3VsRThBQUFBQm1KTFIwUUFBQUFBQUFENVE3dC9BQUFBQ1hCSVdYTUFBQXNTQUFBTEVnSFMzWDc4QUFBTy9rbEVRVlI0MnUyZGU3QWtWWDNIUHpQVE03UDNzYi9kRUV5a0VsRUVYNEE4RmxuSmc0Z2tZRUo0UnFteTFCaFRWSWlsQVlKQnJESVJDbU9TUWhJRVl4VVZEWVZsUkV3MkMwaklReU1JWWl6WVVFdGtZYlB5MGhCVUFpanM3M0xuM25uMGRQNDQzWGRuTHpQM1R2ZE05K21lT1orcXFkbmQ2Wm41bmQ3K3pqbjlPNzlIQ1VmdVVOVk53QmJnV09DMXdLSEF5NEdYQVJ1QVRlR2hlNEZsNEZuZ2FlQng0QkhnQVdDbmlPeTFQUlpIY2txMkRYQ0FxbGFBWHdaT0IzNFZPQm9vai9peFhlQTd3QjNBN2NDM1JNUzNQVmJIOERoeFdrUlZ0d0MvQzd3VE9ERGxyM3NPK0RKd2c0anN0RDEyeC9vNGNXYU1xcGFCdHdOL0NQeWlKVFArQTdnVzJDNGlYZHZueE5FZko4Nk1VTlVTY0M3d2NlQjF0dTBKMlFOY0Rtd1RrY0MyTVk3OWNlTE1BRlU5SHZnMGNJSnRXd1p3TDNDaGlQeW5iVU1jKzNEaVRCRlZyUU9YQVpjQ25tMTcxcUVEZkJLNFFrUmF0bzF4T0hHbWhxb2VDM3dCT05LMkxUSFpCZnlPaUR4ZzI1QnB4NGt6QlZUMUl1QXFvQnIzdmVWeW1VcWxRcmxjWG5tVVN1YS9LWG9PZ21EbHVkdnRyang4MzZmYkhZdC9wdzE4V0VTdXRYMHVweGtuempFU0xtT3ZCOTQ5N0h0S3BSS1ZTb1ZxdFVxbFVsa1JZRktDSU1EM2ZkcnROcjd2cndnNUlUY0M1NGxJTTR2ejU5Z2ZKODR4b2FvSEFMY0NKdzV6ZkxsY3BsYXI0WG5leUlJY1JCQUVkRG9kV3EzV0tEUHFONEZ6Uk9RbnFSanBHSWdUNXhoUTFaOEZ2Z1ljdGQ2eGxVcUZlcjFPcFZMSjFFYmY5MmsybS9oK29pQ2hCNEZUUk9TWlRJMmVjcHc0UjBSVlg0YVpYVjYvMW5IbGNwbDZ2WTduMlhYYWRqb2RtczFta3BsMEQvQXJJdktzMVFGTUVVNmNJeEFHcU44RHZIR3Q0MnExR3JWYUxiWGxhMXlDSUtEVmF0RnF4ZDR4MlFXYzZBTHFzeUVmVjBzQlVkVWE4Sy9BeVlPT0taVkt6TXpNWkw2RUhSYmY5MWxhV29yck5Qb0c4T3R1THpSOVJzMThtR2F1WncxaGxzdGxabWRuY3l0TU1QZS9zN096bE11eExvTzNBbjlyMi9acHdJa3pBYXA2SWZDZVFhOG52T2l0a1BCSDVMZkRjK0JJRWJlc2pZbXF2aG5qQUtyMWU3MVNxVEF6TTVPYis4dGhDWUtBcGFXbE9ON2NGdWIrYzhkNkI0YjVxbS9FUkVzZGpuR2V2UXFUTkw0Sm1BZnFnQUtMbVBTMnh6Qk9xTjJZZTkySHBpMGZ0VmhYa0dWVWRSNVRaZUN3ZnE4WFZaZ1JDUVQ2MzhBV0VWbnVjNjUrR2pnSGswQitFdnVxTnlSbEwzQVhKbkg4NW1uWWR5M21WV1FKVmIwT2VIKy8xMHFsRW5OemM0VVZaa1FRQkN3dUxzWnhFbDBsSXBlRzU2Y0N2QTE0SDNBbVpqWk1neVp3Ry9CNTROOG1OU2UxMkZmU0FGVDFFR0FyOEJwTURaN0RnSU13djk0Yk1Sa2lIV0FCODR2OFEvYlYzM2tVMkNFaTMxdjFtU2NDZHc4NlozbDMvc1RCOTMwYWpjYlFoMk1jWTBjQWx3Q3Z6dGpjeDRGUEFGOFVrVTdHMzUwcUV5Rk9WUlhnTE9BVTRDM0F3V1A0MkNjeFl2dzZac3ZrVGdaa21OUnFOZXIxdENZSk83UmFMWnJOb1VOcTJ5UUk4aDh6andCWEFEZE5TdUo0WWNXcHFoNXdCaWJJL0RSZ0pzV3Y4NEcrMDJLNVhHWnViczcyNlVpRnhjWEZjV1c1Wk1rZHdQa2k4b1J0UTBhbGNPSU1uVEx2Qnk0RVhtSGJucG1aR2VzaGVXblI2WFJZV2xxeWJVWVNsb0NQQVZjWGVSWXRqRGpEbWZKOHpOSWw3VXAxUXhIdFowNHlqVVlqVnJCOFR2SlJJMjREM2x2VWNNTkNpRk5WVHdJK2czRTY1SVpKY2dJTllqM25VS2xVd3ZNOFBNOGJhejVxcDlPaDArbU1tbzhLNWw3MEhCSFpuZm5KRzVGY2kxTlZaNEdyZ2QrM2JjdHFKdmxlY3pYOTdqMmpCUEZxTlYwL1VMdmRYa2tjSDRIbmdkTkU1TjdVVDlZWXlhMDRWZlVZNEV2QUcyemIwbzk2dlU2dFZodjlnd3BBcitlMlVxbXNKSWxuU1pRMFBvSklGNEF6Uk9UdVRBMGZnVnlLVTFYZkFmd2RwaTlJTHBtYm15dEU3T3c0NkhhN05Cb042dlY2NmpQbGVyVGJiWnJOWnRMbGJnTWowRHV0RG1KSWNpZE9WYjBFdUpJY0IrVlAwNUkySWdpQzNFUS9kYnRkbHBlWGs4NmllNEUzaThoM2JZOWpQWElsQUZXOUVsTzFMbGQycldiU25VRDl5SXN3WVY4bVRjS2w5U2JnOXJDQ1JhN0pqUWhVTlNxK25IdW1aVG1iZDBiWVl6NE0yQmJHQXVlV1hQd2Nocm1CcWRWSTdiZnZGajJnLy81YjlGaTlEd2VUSFhoUVJPTHV4ZmJ3VVJINUM5djJEOEs2T0ZYMVZPQmZHQkFlbDRSS3BiS3k3emJ1SmFqdisvdHRyRHZzRXptc0VqaUoyc0F2NWJWSGpOVXJURlVQQnU3SGRHd2VpV2pmTGMwNnNJNzhFak5RdjVlSGdXUHltTkZpN2VZcFhPLy9BeU1LczFxdE1qYzN4K3pzTE5WcTFRbHpTaG5oLy80STRBTzI3ZStIdFN0WlZTL0dSUDhrd3ZNODZ2VzZjODQ0VmxoZVhxYmRiaWQ5K3d0QUVENHZBRDhBL2k5OGZoUlRMbVdQaUN4a05SNHI0bFRWVndJUFlXckh4Q0l2eFprZCtTT2pMSnJ2QS9jQjM4YVVUZG1WVnVhTExYSGVBcHdkOTMyZTU3Rmh3d2EzZEhYMEpRZ0NYbnp4eGF5LzltbU1RL05tNE92amJQcVUrVld1cWxzd1RxQlkzejJKMVFZYzQyZGhJYk5WWno5K2d1bk05amtSMlRYcWg5a1E1NjJZa2lKRDQ0VHBHQmJMNHV6bFB1Q3ZnTzFKQzVCbEtrNVZQUkxUc1dybzcvVThqNW1aTkN1UU9DYUZJQWhvTnB2ckJwdEV4MGJQL1FKT3V0M3VPSEpKd2RUZS9haUkzQkwzalZtTDh4cmdvcUdObTVCeWs0NWlFa1dGZFRxZGNUUWl2Z3Y0a0lnOE1Pd2JNcnZxdzhZL1R4RmpYOU9GeVRueVJDVFVkcnVkVktnKzhKZkFaY00wZ3NweWsvQjBZZ2l6WEM0N1lUcHlSZFQ0ZUg1K1BtbjN1QXJ3RWVBK1ZUMTh2WU96Rk9mYjRoeHNPNm5YNFZnTHovT1luWjFOV2tmcUdJeEF6MTdyb0N6RmVXcWNnNmN4WjlKUlBLSUtqUFY2UGE1dlpCNzRSMVg5NEtBRFJycm5WTlV5cG52VW16QXhpcThGZmc1NE9hWlB4dWJvVUdJMnNwbWZuM2VPSUVlaDZIYTdMQzB0eFMzdkdXQWNSZGVzZmlIMjFhK3FQNFZwVW5NV3BwSHE1alFHdW5IanhqUSsxdUZJbFNBSWFEUWFTUVQ2YmhHNXFmY2ZoeFpuMkpmeUQ0QnpTYTk3MUFwdTVuUVVsWVFDYlFCYlJlVGg2Qi9XdmZwVjlVM0FueEh6bm5GVXBxRmdzMk55aWRtcExXSVBjSnlJTkdBTmg1Q3FpcXIrRFNZTUtWTmhSb056T0lwS1ZJMGpKcThIUGh6OXBlL01xYXJIQTM4UEhHSnJjTk5ZZnRJeFdTUk1ZV3NBYnhDUkoxOHljNFo3TDNkalVaaGdQRitkVHU0cVJ6Z2NRNVB3dG13VzA0UjQvNWxUVmMvRTVLWGw0bWJQeGRZNmlrN0NMQmtGRGxvUm9hcHV4WFJ3emxWb1RyZmJkZEZDamtJU0JBR3Qxcm9odFAyb0EvZFhBRlIxSTZhOWVpNzZYdllTdWFOZG5LMmphRVNCOGdsNVBycm4vQlBnMWJZSE00Z1J5aDQ2SE5ZWW9kZ1l3SEVsVmQyTXFUQ1creGJOcm9hUW95Z2szT2ZzNVpreThFNEtJRXd3cnVsR28rRzh1STVjRXdRQnk4dkxvMzdNQVdYZ0ZOdURpVU1VWEp3Z3dOamhTSjJFb1h2OWFIdkE4YllIbElST3AwT24wNkZhclZLcjFWeHhhWWQxRW1hbERPSlpEempJOXFCR29kMXUwMjYzWGE4VWgxVmFyUmF0Vm10Y1JjRUFmdVJoT2kwVmZwL0M5LzJWZU53MHU0dzVITDM0dmsrejJVd2pGbnluaCtrSDhTcmJneHdudlVLRjBmcHpsa29sSjNESFMraDBPclJhclRRVE5QN2RBM1l5WWVKY3pXcXh4cVZVS3EzYzI3b2w4L1F5aHVwN3c3SUFmTlhEUkFiOWx1MkI1NWtvREt2VmF1RjVIdFZxbFVxbDRvUnFrU0FJVnJiVW9wWFJ1Qmx6M2RvNGZGNUVHcVd3N01oVEZHU3ZNeTlFeTEzUDh5YktDUlZkOU5FRkNlUnExUkQ5VUs2ZXZVcWwwbjYzTGptcStCNlhsWlN4RW9DcVhnbGNhdXVFVHdKUm5kMXl1WnphTDNrYVJMTkRsS0szMWpaQXRHcXdFZWNjTFNlbklBRGw0eUp5T1lRcFkySGcrMytSNC9qYW9oSE5yUDErelczUWIyWkl1bFNMeHRiN0dEZVJueUI2V0pyRnNtYS9NaVVyVjBwWXdPdWJRTTIyaFpOTXRQenFmVjc5aUk3cmZVOHZ2UmRxdENUci9mUHFaVnJ2TVdtT2FRS1dsRFpadThDWHFwNEZiQ2NueWRZT3g1VFF0elRtZmpkR0l2SVZUT25MMUh0M094d093QWp6ajFZTEV3WVgrTm9LZkJuTGRZUWNqZ25IQnk0UWtldjZ2ZGpYcFNnaU96RE5WajRMdU5RUGgyUDhMQUJuREJJbURGZFVlaXZ3Q1FxV1d1Wnc1Smp2QU84U2tkMXJIUlNuSGNNSm1IWU03eUNEZGd3T3h3VFNCYTRDTGhlUmRldnVKR2xrZEFCd0JuQTJwcEZSck81aGZkZ0xQSW5wVnVad1RDcDNrV1hiZVZXdHNLOEY0SkhBWWNEUDg5SVdnQzhBVGVCcFRLamdZOEJEd1AzQUxoSHhWZlV5NEFyYlo5RGhHRFBmQmY1WVJMYkhmYVA5WU1rZVhCaWhZNEs0RC9nVXNFMUVFamxWY3lWT0FGVzlCUGhrSG0xek9OYmhlV0FiOERrUnVYL1VEOHVsQUZUMVhPQUx3QWJidGpnYzYvQTBwbFBDcmNCWGgzSDBERXN1eFFtZ3FsdUFHekZ0MFJ5T3ZQQjlqSy9rV3hnbno0TWlra29nY0c3RkNhQ3FzNWgxKy9tMmJYRk1CRDVtWjZBTVNQZ2M3VGJzeFd4MWFQajRBYWFFenc4eERzeUhnVDBpc2pjclkzTXR6Z2hWZlN2d0dlQncyN2IwWVRmd01ZeW4rVWpieHFSRWx6VWFMUmVFS0NMbmJ0dUdERXNoVHJpSWZBTTRHaE1FOFdQYjlvVDhHUGdnY0xTSTNBeThCYmpIdGxFcGNBL3dHNWp0c0tMeVBIQnFrWVFKQlprNWUxSFZlZUFEd0FXWVBkV3NlUXI0TkhDZGlMeTR5cllOd1BYQXUyeWZwekh4SmVBOEVWbFcxU09BVzREWDJEWXFKbzhBNTZ3WEtwZEhDaWZPQ0ZXdEFxY0Q3d0ZPSTEzUGJnZjRHbkFEOEJVUldiTjlsS3BlREZ4SnpucWR4cUFOZkVSRVByVnFYSnN3WHZRemJSczRKTGNCNzgzeVBuR2NGRmFjdllRWHpWbkFyd0VuQWE4WXc4ZitMOFliZHlmd1R5SVNhemtkSmd6Y2lJbWFLaEtQWVJKL2R3d1lWd240RVBDbndJeHRZd2V3aFBFRFhKMldKelVMSmtLY3ExSFZRNEN0bUNYWTZ6QUNPUWpqb2RzY2pqdkEzRWNweGlQM09DYlU2bEZnaDRoOGJ3eDJ6R015ZWk0Zy8vZjNYZUN2TWFGbWkwT003VkJNU3VISnRnMWZ4UjNBK1NMeWhHMURSbVVpeFprM3dsbjBXdUFFMjdZTTRGN2dva0d6NVJyakttSHVyLzhjT05qeUdCN0JlTXh2S3ZKczJZc1RaMGFFRi9LNXdPWGtaMHRvTithQzNqYktCYTJxZGVBODRCS3lyNTd4QkdhSi9VVVJtYWk2bVU2Y0dhT3FaZUR0d01YQUwxZ3k0OXZBTmNEMnBFSFpBOFpXd2FRVC9oNXdLdWsxeUlvY2RKOEZiaGVSMUJxVzJNU0oweUtxZWh6d1BreDM4UU5UL3Jybk1IV2hiaENSblJtTTdXY3dPYisvaVhIU3lhZ2ZpWEhRL1ROd3E0ZzhrL1lZYk9QRW1RUENHZWRFekt4ek1uQVVvenVRdXNDRGhONW00QjViTTB3NHZxTXdlYjlIQUljQ3I4VDhJQWt3Rng2NmlCSGhjOEQvWUp4MEQyTmlXUitjMUJseUVFNmNPVVJWTndOYmdHTXhIdWRETWQ3bUF6RTliVGFHaHk1Z2loRS9CL3dJY3pFL0Nqd0E3QlNSRjJ5UHhaR2Mvd2RVclFLSUZnYmE2UUFBQUFCSlJVNUVya0pnZ2c9PVwiXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vdXJsLWxvYWRlciEuL2Fzc2V0cy9jbG91ZDEucG5nXG4gKiogbW9kdWxlIGlkID0gMTE4XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IFwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFPY0FBQUJnQ0FNQUFBRFJuNVZ5QUFBQUJHZEJUVUVBQUxHUEMveGhCUUFBQUNCalNGSk5BQUI2SmdBQWdJUUFBUG9BQUFDQTZBQUFkVEFBQU9wZ0FBQTZtQUFBRjNDY3VsRThBQUFDZGxCTVZFVUFBQUR5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkwwOVBUMzkvZjUrZm43Ky92OS9mMysvdjcvLy8vejgvUDI5dmI2K3ZyMTlmWDgvUHo0K1BnQUFBQVl4bDZoQUFBQXczUlNUbE1BRDBGeW1MdlQ2UEFEUDR2Ty9US1Q2d0pWeE1VQlZ0ZllOY2NHaGZzSE1kSnYrcVFTd2NJVzBSY1Z2cjJpbzI0dlhJYXU1dkg0N04wd052azNaTEFUQ05iYkRFcXFpcGNFWU54cFB2eitQU0ZYZk4vdXhsclpYdUZkRGlLODlxeFJjK0owc1dvcTFFQTRDdkpDOWZkVUo0bkFmbmxHNmg3SURWK0VuN2JlNzNFdXFQTWZTNTNucnkyUzdTeS9rSWpQVWxDWmEzQzBqbU5aRVN1NU5IOU9sc25wRUdpdGdVOUowTHBUbnF0aW9MZmcxZHFsZGVOMkJiVWpDMXRtTTJXejlJMWlUeXV4QUFBQUFXSkxSMFFBaUFVZFNBQUFBQWx3U0ZsekFBQUxFZ0FBQ3hJQjB0MSsvQUFBQjFCSlJFRlVlTnJkblBsajAxUWN3RFBZVldEQUpnUEcyRlpnQWs0NnpvMnRNQmdEZElpcmpCVUZqN21Od2JnUmtWUGRwcWdnYWhrTThVQkVSVVM4aDRpZ0lzZnIycVp0MnY1Skp1MlNwczN4M3N2UkpINStnVzVwOHYzc3ZiemorNUpIRUJrbWE5VG83Snpjdkh3QTh2TnljN0pIajhyS2RBVDZZeHN6ZGx3QlNLTmczTmd4TnFNajA1THhFeVlDQ1NaT0dHOTBkQnBSV1BRSWtHVlNVYUhSTWFxbmVQSVVBR1hxNUdLajQxUkp5VFM0SmNPMEVxTWpWVVBwOURJMFRRREtwcGNiSGExaUt1eW9sZ3k1RlViSHE1QVpNM0UwQVpnNXcraUlsVkErQzgrU1laYjE2bTdsbzZrSzNtR2ZQMENTd1NCSkJ2eStZYSs0Nk94S28rUEdaTTVjWHZTaHNKOFdUSVgwaDBNaW9uTWZNenB5TEtwNG5hYVhFa2lPcUZJaXBUcWx5dWpZTWNoS05yU1JhRkNHYUVRZ2FyZk82TDcwY2E0cy9VRUlma0daemlzMU9uNVVIR3pJTVJLbVNkZmVXTHBvdGRIeEl6S2ZiWDZpY010NDVVMXZrT1liYlpERXRtRGhvc1gySlRXZ2RtbmR1TVdMRnRZbjU1SE9aU04xTm9DbUdRd0cwdXJ1c3VWRzZ5V29iRmlSbjE3WjhsYzBySXovc25IVlNBT0VVR2U1dXB2V0hEV3RObHFSbms2dVdWc3Izc25YcmwxRGwrb1QrSnBDMFNlTnRteGU5eFNRb1c3OTB5MEtOQVdpcm1lWWkyMW8zZWlZMU9ZdUEyWHV0azJPamEwYk1tVlovT3h6QUVKaTdCN0MxS1JGVXh1ajNLck5qaTJDazI5eFBQOUNCalJmZkFsbXlZTFkwdktKcHA2aFJlTE03UzkzTk90Y21KM3RxSm8rZk0xZ01JWjY5cTZ0ZWpaVFdkMm9jUUN2RXMxZzBJdDhnWW5iZEN2VDdkQTdNd2wwc0NlT0gvMEtvR2VIUHBvNzNlbGxKajJmakNqVERBWWpHS0lnZTVjT21tTjI4eThSR2hhYlR3NnpMYWFDUmloQkZNY1RyS3JYWEhQUFhuNXhVVkp4VWhFVmR5ZmVIY3F3YjcvR21xL3dSbmtSMlp2UEgxSFkyQ2J3WVhtQ2dxMmFhbFkxSldzc0JRdVZDaUVQMzRVRThEd0JPS0NocHUzVlpHRWlPR0NQaFBqZ1ZWeWFnOXA1dnNhZE5LeEdBWWxoWEUvdDVxb2xNek9uaVh1RDByUWMwa2F6dVllcnRQcHJNa09GQ04weFI5bWVPVXAzelpCZTlmQVJUVHpaSkFoUTA3NGdRNHIydlZHZm5PdFJGVXZpeDBxT3YvN0dtM043M1gzYzZWUjBGMXI4QVNocDFYNUZpc1Z2elgrN1RYZ3kvQm1sMWdTa0dxa1Q3MkJMbHIvNzNrbnhrdzBicmNtWWhzVmpPNFZwK2Y3cER5UXJoOEk1aU1iNFJUdFlGODZqSElWRlIrV2FOY09yYlFKU3RFaFhvR3QyUUI2WE1GcVFReXp0NFBvUTBiTGlJd0FzNGlrcTZrR3lMRDJUbG5VS0pUdHJ0cmMyU2IxbEVLbTZoMUhXbnJZUHBEaUdxVXlNQ0ZSQWlpd1FuNFZybmp2Qms0d3BUZ1prRUpGRTBpQlU4M3l5emtiTTBYbkFFZll1YlRETmoxMmNwUldLTW9ISXRDYmY1WEtmSExqd3lhY0xSQjhXL0l6VkRCazdmc1ZETm1IV3QvajQ1K21hRjlrRUYvcGlwUmtnSVoxZ2JYWHFDdW91ZG5EZ05WRzNnUUtzdHdmZ2kwczh6eTh0cWdrclQ0YUNRVzVwN1FoYmE2M1RBaVZBUzJqM3NzKzZuaDc1UVFZU1A5cUNtRVpxUDVlNE8ydEdQbHVsMitSQVRYKzJYSTRQaE5pUEZyczdNUmJXbGpscHo2L1lUMGJIalluWStGYUt1bU1FOGJWRnl6T01yaGxmbWZpRy9iKzE3ay9rOWYwNGU2OFEzRFA2bG1wdjhUUUIrSlpJUGxaaG5mNlR4S3EwREZlSjVQTTVsaGtQK2JFWDFFQVh3Y3Z2V1VNMGdGMllOR1hKZmdWWVlyNFN3RjgwWkdnbk92Z2ZUVDcvbEZ0ZmthZU4ySlh5RUltSjh3bnk2MlVRcmliSDhaeXBPVHJTS05iNko0ejF2SGxac3ZZYW51OGpZeGlqT2dUMk1qbVU3MFIrSVptL0RWQ1UzcTB5NlZmU29zcHlJQ1Z2a3U0cXpNZEhRdkhpaHB2U0JVTC9xUlQ4UlVncXJHMVJNakRqZUg0ZURKbXcvRDNNRllnM2hwUFdEMUF4L0JFQUF0d2JCVnhlRTUxUTJDZCtFMGQ5YVFVU0NzZW9LS1JreVNnVjA2RWNFN1JjNDFKaC9maWlRTHBpaXg3ckRjZDhsRC9LSEI2WHB2OEowRitoZkxGd1JDL0RPTzBkdkp6ZitoYjFKelFudmM2VUpPNzN1OVdmMG9UdzhwcnN1dUIxbzJQU2dSK2NoSUR5TXdYcVQyd21hbWZ0RkY4MWc2L2JteFc3OEEyd1U4ZGwzbjcrY2FyUkVTdmlJR0dyYi9CY3VKN1hCMEJmM3ZVTG5vWjZ5R053aGExSDFWODIweWg3enZqU29GdjlwVE9JUy9GejQrV1hmenFwL3ZvWllsK1JVazJHNGdVemZtNHpXZ0dGS1Jwc1hKUzEvSmRGdi81bUgzSXptMXk1aDNwTk9HWWExUDg5SFJRVTlzaTVaMjhnSFhkamxBNldoTWg3VnhENkRzMVdvam03a21qZXRoUjYyTkx6cG5pUERvRGZMeEtOTi9FMWJ6WXlsMXI5eHkzWm8yNzlhWkwzSWtGM2ZFK0xmdHg5ZWZyWmE5M2VmMGRxZzZaOVZ6dHU2MmhKWUx6bjJ0NDVzdHVYc3dudEN3bWFVa2JlSzljNXVnU0hkRGsyWjJKWEVMVDNsdWY5eFgzaGJ3OXljMVRnRVZiR0RhMGJxemNOdVYzQTVSNmFWbTJ1OTlDMy9KT3lkWnNUZFI4MHA5S1k5S0Y1WFoxY3VMM2IwbmVFS3A2TTBGSGNNT0crZHJaclVtMUUyWjF6WW5PRndxSko4cGFiekxwUDRaeTczVFhwd2RaMDM1MGorUVhaZlNmL05WcEhEbHZGUGM5OSs1SUhBRHhZWXIvdnVWY0JtZlhaZGp3Y0VPNGpPdkJ3eC85cUg5RUVWL1owWnVmMDVORkR5TjE1UFRuWm5YdXVaT1N5L3dGNXhtcUMrUVVtMndBQUFBQkpSVTVFcmtKZ2dnPT1cIlxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3VybC1sb2FkZXIhLi9hc3NldHMvY2xvdWQyLnBuZ1xuICoqIG1vZHVsZSBpZCA9IDExOVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwibW9kdWxlLmV4cG9ydHMgPSBcImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBUWNBQUFCNkNBTUFBQUNGdm1ZK0FBQUFCR2RCVFVFQUFMR1BDL3hoQlFBQUFDQmpTRkpOQUFCNkpnQUFnSVFBQVBvQUFBQ0E2QUFBZFRBQUFPcGdBQUE2bUFBQUYzQ2N1bEU4QUFBQ25WQk1WRVVBQUFEeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2THk4dkx5OHZMeTh2TDE5Zlg1K2ZuOC9QejkvZjMvLy8vejgvUCsvdjc0K1BqNit2cjI5dmI3Ky92MzkvZjA5UFFBQUFBVjBtakFBQUFBMEhSU1RsTUFKV0tMczlmci9BSkJtK0ZDRVh3UWhQR0ZXdWRjR2JsQTZtVDdkMjUxVy80NitSTm5wOFRvN2hMaTR5dHNxZDhEUjVkS2FaRHBrU3dIMnNOU2N0a0c1ZFZJWmJja3p2WjJLaUNHNzB4L0FmMm1CRWx0a3JYTjRQVGUxTW02QzhmNHdnckZ2Y3V4SW93MnFsaXVKd3ptZmhXc0tPUUlwY0FYMHJJWTFoL0lyVHlEaWN3YzdBNW1jUmFodXpGVU0xN2Q5M0NkRkxEeXdmTmhNSm04WXo2dlRoMk9xenROazBRYURkczNiME9mOEppVk5JcTJlTFExbGkzMU9CN0t2a1ZMUHpKUFgxbS9Mam5ZbzJBbVV3V1VubHBHV1FBQUFBRmlTMGRFQUlnRkhVZ0FBQUFKY0VoWmN3QUFDeElBQUFzU0FkTGRmdndBQUFtSlNVUkJWSGphM1ozL1l4Tm5IY2V2bEs2d0FnVmxvOSt3b1d5UVVOb1ZFRHJHM0hDMlpiVUlrVXBuSzJJWkE1ekR6YkdoVXFHZG9KdUl6c0tjVm1GdWZvR2g0a0NvVzRHaHFCdTZ6VzFQN2tzdXlTWC9pN2xMTG5tZTVMbTc1Kzd5M0hQcDY3Y2tsK2Mrbi9jOXorZjUvaHpITWFOaVJ1WE1xdHVxUWZWdFZUTXJaMVN3TTRRaHMyYmZYZ05RYW02Zk00dTFXUjR6ZDE2aENGa3A1czFsYlpxSDFNNWZBSXhZOElsYTF1WjV4U2NYQWpNVzNzSGFRRSs0Y3hHd1l0R2RySTJrVDEyOXBRd0ExTTltYlNadEdocGhmeU84SUVxU0pBcDhCQldpc1lHMW9YUnBnbnlOOHJLVVIrYWppQkpOckUybHlXSllCYWtRVklsUHNUYVdIczJCZkltUXBXSmt1SFFFbWxtYlM0c2xMVGtuWXhLZUdDUkV5eExvdjB2cjdxcThlMW5WOG1BQUJJTExxNWJkWFhsWDNWTFdEamtqdENMbklpOFp3VU5DdElZeWYxeloxbjRQdGxxNXA3MXRKV3V2N05PZXN6OHVHUk9IL0d6bnVJNVZxMXROcTlqVzFhczZXSHRtaXpXV2hhSzRhSHg2N1RxQzFzYTZ6bnRaTzBmTyt2dDBzeE9TT1FrQzF3dlpjSCs1OUZRL2s2c3daUXNkNUtnREljQURkNVNGRWc5dUpBa094U0VpUnpRUzR4VkJsR1ZKbGtWQjRXT1JRcmsrK3hCckp3bjRuRzV0eEZJR1NZb1VhcENJaTVqTHhIZ0MxYUtybTdXYmx2VG90Z29FT2dpSWR3bkZwQ1FwU0RUWjlIQUhhMGZONmJXVEhlQU1FWTFaaHBNWW5DazJmSjYxcTZiMGtVY0hKRUpZcXBCUkFoSmk4eGRZKzJxR1hpeWlSREpJVXVZUkowWEN5OFZrWG9qQWxxMnN2VFZrYVRoclpKTFFNZFd2cUVKNHNZb0NGWTR2UHNqYTN5emJLdnEvdEgzZ2tTOEhCMEZMY09nck93WUdkQk5KWFZQUzRaR2tTRUNGQXdxWVg5M0pXZ0dPcTcxLzdkZUdEVnM3eEc1Wk5MNXhRRkZpMTZOc1JlaHUybDF0MXVnanF5MjBER0ZiQnFTditoakRvakczYlErd3dQNUR0Z1hVRU4zYndVaUZmZHNIclZRZ3JUV2RBeFdOcnpOUjRmRnZWRnVyUUI0bUhRTUZ5eWU4VjZGN1A0a0lhVWpiQTQ2QitxcUQzL1JZaFNmN1dnaGxBUGFxUWljbytaczk0bTJzZk9JcHhOVlVJdE0vMXA2TzFrRk9wRHpVQVM0WjMvSlFoYWNQd05WaVRNQjZLdXZ6VmZSbGtNUzhPUzNQZUNaRDNiUDZUYU5KeGZScHkwb3k2a1YrZ0RQRUlxOWthTkpyaVFoUmpSajNRZ2NvUWdCdlJxZ09manQ3dXdUSjRJcG5RRDJ1UFY1MFBlZCtKNnNDOWRyUUhsQWZIS3lpTDhOM0QyWHFCMS9sQlJWNFNteUV1Z3pmTzZ6ZGlIS1B3UW53NkdiNENHVVpRbHB1aVBvdU0waEl6UWxBSDEwWkhoM1ZhZ2t2NHI5dFpGaUhwNmpPN213ZDB3SWthNDhOUU5xM3o5SFU0ZnQrbGdISkQrQW9SUm5XQklDZHNTV1BRZUlET0VaUGhoLzhVSzB2ZlJrYlZORFpzUER6dEdUWXFpNEVqZnFzOFFUQkl6cUFPbG82dktDbXpydTNseFpKVkljZlVaTGgrR1kvQndjSjZWK29yS2FrdzQvVnhQM1lmc3Fpb0RLQUUzUmsrRW5ZNTltaGNGblJZVG82YUt2bGFZKy91MEFza0FIVVU1RmhpZGF0WU8yc0NVV3J6QlpRMFdIQXp5MUpxVGc2cEtFaHd6TUJmMWVhY3NvYkhiWURmOWNXbUxXWE5NckYrczFhMHI1dFM4YUtaYUFTSjMrYVNkcXZYUXZzd2tzYTllWllKbW5XL2hxQVg0aGJxbmJVemhkL3RtWDEzaDNqd1pPNXBQMmFId1NjRUNWb1YyOTc4ZFNCOFhCeDByNk5Ed0pHaCtVdk5SOTNJOExQWjd6OEM0REh2L1VGajdVMzBOTTN4OW5rOTVNemZwbGIySkZLeE9MYUFtOXRoWGM4bGtqNXQvMWd2R2xoWXUrdmJPOWordlZwUFNmZ1oyLzlHaDhrODAwTGpXZGVzYk9ML2pjbjlEOG0vVnNBRE9HQkdjT3Z2dFpCcGtLdnZ2MGEzV1phUHFTQU9SdjdmbXV0UXUzdjlIM0hSQ3U4L1FnUHJHajgvUjhzWkRpcnIvSHgyeHkyRFdSTEhkSnNXR09pd3ZweittVStyaENzaVpBSUFYYThiaVREK1ZFOU1wUmhlSVN3TGhnWkZ2WGlBNlMrM2RiSFV4TkVLSVE2Z01iT1B4YkxjRy85TkpHaGVJVFNtSnIrUWhtNmM3dUhxYS85cFExUm9Nd1M2RHlJeUJENmsvNkxEeGU0Mk1XR0RnRDB3SzJKclMvclgxdnV0dlUvZHZKRG1uVi96dXR3SWZldGoyY21TTEVSSHpRbS9wS3JNU2VtVVhiQURrS1lzbWxPVm9jM2NsK1I3cWZ6TTZUdGh6d1hNK2NtOUlhblU3RWdiRThpUEtBMUpDN2x2eWozdG9Oa08weG0rR3RhaG9NWDg1K25RWGl3WHl6U2hDOXpYRC8wbWJVVEpjQnEvQUhQVEk2N0FuMHMvL3dRZHlRRENPemp6a0FmeXo0K09EdFVKYzNEWEJYMHFlenJDeWVIN0dnTWNQQkJpT1hlZm5BVUpEVldjUEJKaUg1ZTZVS0E3YVprbnBOSWZpanZnaUU0RFE2YURuQjhLT3NPaGhzWjB1WGlEUExaKy9FSHVVUWpQNG9iR2NBa1Y0bCs0Zmw0bEZLYTRYSG5JVkxqYjBoN0VqQVluMHpZUGdNRmcreTR3c3lRYmtjZExEaFUyNjRRb3J0aGZpM0cyem9UQjRPN01wSG1UYlMvbVJIQ2xtTkMxRlZzMVJ1QWJtYlFSSmVaSWQzUGVnc2RmOGhpbzhDcXhkTEZuaFJvd2FQVEdWVTVac05oQTZZS3hxTjBTSjlPOWtta25ENU1FZTRkV3AraGhsWEJiWkZJYzE5bVF1Yzg1bWdYa2xsL09SK2puWVg4b2hodmQ2ZTQ0THBFcUZ5OG1oMmdQSVg1MFhMOUEzcnl0b1A5elFKdXFDQVZJODViWXN6WldFTWgxK2JrNWkvMllpOHdXdzhqSkF1dmp0aFRRakFjUjB6RkNHb1BwVVFpQURENE9tNCtxeUJUNE5kSHFXZGE0QndnWGtJajh4WmVSR0tLWWI0UWxaaURzVmdqMWwxSDVqZWZOYnl3ZUwyY21mMjhkYllXZVVJMzFEdG56bUxWN2kwS2lzWGRIZER6TmpyUmU1WGtmUXhFUkpOeHdTaGZ5RUk4V1lMNFhqSUM1OUI1WG5qOVEwblFqdzJDbmlWZjhtZnBtaFc0NVVIbmI3QTJ5Mk1hdDJQV2dhZ1RHWmRZVytZcGY4ZXZDMUo1YlRscjR6emp4ajg0RTJyWE5ycS9SUm13N0tiVlNVSzlKOXpmeGVkVWp6M0hFZkRQNmEzRXhyNjNTVlJRK2RjYm0xaGJTNG5oVi8vZFFhcUNTdWlGWFVRSGE1WVYxWTgxT0hoNzM5T3ZqRXhZSkR3eFVybVF5QUlmNEdRZmlzNjJ5NmYyRHdXd3lRYUc5cDk2YTF0YXJURTN4dTFhMnhOdzgzOUNuTzlMZ3RoNStaMHRsMFp1akFlSDB5a09COGYzakZ6YThzN2wvRW5aN3pydW1OUy9tLzc3OGVhWER0UFVJbkRZNVQ0MVltcW53azRNREUvbFhqQVp1am4vbGxVWmRNTGdyZmszUTU1b2tHSGxUUHMydmxud3hxZU9xODFIdTFydHAyTkFhOWZSNXY5MGVLaEJoc2NQMk1vVDRiSC80dE1KMWJXZG0zeVArTnhmREMzdlRaNXJxL015RjZCMFQxMGpOZlhhbE1YN1cyWWRtZDNROS82dEtvS1R3WE1NVnQxNnY2OWg5aEgyYndzS3RSMGpNZmhZRy9uRDJybnYrdGtQRnMrN2NycTlhL2VoOGFGZ1VJOGlFOEhnMFBpaDNWM3RwNi9NVy96QjJldjdmUENHQTRpS3BsSFQ1bGYxYU5QL1dOdm9FYUVQTzBlSGNSb01qM1oreUs3WU11R2ppdjRMSDAvMjFLaEhCSndNMXZSTWZueWh2K0lqMWxaWjhIOTRldi9IbW1mSkVRQUFBQUJKUlU1RXJrSmdnZz09XCJcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi91cmwtbG9hZGVyIS4vYXNzZXRzL2Nsb3VkMy5wbmdcbiAqKiBtb2R1bGUgaWQgPSAxMjBcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0gXCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUU0QUFBQk1DQVlBQUFERFlvRVdBQUFBQkdkQlRVRUFBTEdQQy94aEJRQUFBQ0JqU0ZKTkFBQjZKZ0FBZ0lRQUFQb0FBQUNBNkFBQWRUQUFBT3BnQUFBNm1BQUFGM0NjdWxFOEFBQUFCbUpMUjBRQUFBQUFBQUQ1UTd0L0FBQUFDWEJJV1hNQUFBc1NBQUFMRWdIUzNYNzhBQUFPOTBsRVFWUjQydDJjVzJ3YlYzckhmM01oS1ZJaWRiOVJjaVJGOWxhSll6dDI0OWlXN0d4YXA4MXV5Nmpkb24zb0JRVmFGQ2gyWC9qU0F1MUwzL3F5UlZFSWZRaUt2aXlLQmJZdFdxQmhoZTF1M0YwSGltNkpZOGVYWk8zYXU1YmtXS0lrV2pmZWg1ZGhIMGFTSmM0WmFraFIwbTcrQUNIcW5ETm5adjQ4NTN6ZitjODNuOFFCWTNSa3VBM29CVG9BUDlDMCtXa0VmRUFESUFIMW0zOTlnTHFqaXhyQVhkVHRWdHRpWklBa3NBR2tnUWl3dVBuNUNmQUF1QlVJaGpiMmUxL1NmanZZUVpBTW5BU0dnTlBBcTV2Lys2cDFqaXJpTGpBTy9CRDRmaUFZeXBYYndiNklHeDBaL2dyd3A4QmxETUorVWZFdndEOEVncUhiZGcrb2lMalJrZUZ2QTI5ampLd3ZFLzRkK0ZZZ0dGclpxMkZaeEkyT0RQODk4QzJNZGVmTGlubmdtNEZnNkw5TE5iSkYzT2pJOEJYZ1hZdzFxeXlvaW9UVG9lQlFKUnlxaktwSUtMS0Vxa2pJc3ZGZGtrQ1JKVUJDa1NHV2ZMN2tTSktFTElHdjFyRmRwaWppeXk0VVFOY0w1UFVDZXFIQVJqeExMbDhnbnkrUXllbGtjenFackU1ZUw5aTU5RDhKQkVQZnFaaTR6V241bDNiTzVIVEkxRGdWbkE2WlpwK1RHcGV5U1VoNTJJaG5UV1gxZFk2cTlPT3JkWkJNNTloSVpGblp5SkRONlJXUlozbFhveVBERW9ibEdiUnFJMjFlaU1zcDQ2bFJkNUZVeVkwZUJuRTcreWtVWUQyZVlTR1NRc3RhRXZqMVFERDBnK0pDdWNSNUxVbVRKR2hyZEhIeXhYcjZ1K3Z3ZWh3VmpheWpoaVJCbzlmSlM3MCttbnhPcTJidmpvNE1tMXdxSVhHYjAxTklXbjJkZzVkNzYrbHU4K0IwbE9MOUZ3ZXlMTkhiV1V0Ym8wdFUzUXY4byttWTRvTFJrZUZUQ05ZMENlaHU4OURmVllmTCtlVWdyQmpkYlI2ckplR1BSMGVHVCt3c0VESHdUOFVGRXREcnQveEZ2bFRvN2F6Rm9Rb0h4dDhVYzdLTjBaSGh2d1Arb3ZpSTdqWTNiWTNXcnB2ZHhYdzk1U0FjZFJHT3VsaU9PMGxvQ2xsZHBrYlY2ZlNsNmZCcDlEU21rZkpKVy8zdGhVcU56TXFHeHR4aVVsVGxEQVJEV2RpOW1RYjRnK0tXZFc2MUpHbDJNRFhid055cW03V1UrS0pUV1puSEt4NGVyM2lZbklHQjFnM08rWi90NjV6N1FaUFB4Y0t6dE1oVitWM2dlN0JqcW82T0RQOFdobnF4RFVtQ1krMmVpaTlnWWFPRzc5M3E1UGE4ejVJMEVSNUU2cm0xMEhKa3hFa1N0TlFMcmV4YlcxOTJUdVkvTEc3VjZIWGlkaWtWblh4eXRvSDNQbXRqdlF6Q2R1SkJwSjZvVnJrdnVGODBlSVhFdmJuMVpTZHh2MUhjcXJXaGZHT2dGeVRlZjlURm5mbjlxMGtMMGNwSCszN2hkaW1vNXEzZGk2TWp3MzdZWE9OR1I0WXZBTFU3VzdnY01yVnUxZFpKdHBEVFpYNzBzMDVXa3VJMVVaSWsvSDQvWFYxZE5EWTI0dkY0VUZXVlRDWkRPQnptNDQ4LzN0VStrbkF6MExwdnpiRmllRDBPMW1LWjR1SXJ3TDl0TVhPNXVOWlhwaFhMNUdXdVA3WW1yYXVyaXpObnpsQlhWMmVxYzdsY2RIUjBtTW9qaWFNVllXcmRxb2k0b1ozRVhTbXU5WHJzRTVmTnkxeC83R2NsYVo3YXNpeHo5dXhaK3Z2N1MvWWh5MmJmU1M4YzdUYk9JMTdmejhCemQrVDE0dHJhR250R1FTL0FqeDkzV3BKMjZkSWx1cnE2OXV3bm5VNmJ5dHlPc2hYdHFzSmloL1JMQVBMb3lIQXIwTG16UmxVa0srL1poUGZ1dFF1bnB5ekxEQTRPMmlJTklCS0ptTXBhYTlPMmpqMG9PRlFaV1RLTit2YlJrV0dQdk1YZ1R0UTQ3WTIyLzdyWHptTE1QTklVUmVIeTVjdjQvWDViL1FETXpzNmF5bzZhT0FDSFE3aGMrR1hBTkNUc2pMYnB1UWJDVWZIMEhCd2NGQzcyVnBpZm4yZGx4U3p6dDlXbWpwUTBBSWNpNUtLakl1SStYNnpqMDZkbVAwMlNKQzVldkVoblp5ZDJvV2thdDI3ZE1wVzMxNldvZFI3dEdnZWdxbVVSWjIzTjV0YmNqUDJzU1ZoMy92eDV1cnU3YlY5VUxwZGpmSHljVk1vOHNzNTByaDQxWndBaUp4aWdTY1Y0b202bk1ZQWxhYWRQbjZhM3Q5ZjJCV1d6V2NiSHg0VlR0Szh4Um92SFdOODIwazRpaVJyV0Z6d3N4VjBrTXdyWnZJUkwxZkg3TkRwOEdzY2FValRYWm0yZnV4d0lqQU5BblFxWVBGTFpRZ1pmMkhBUjE4eUdZMkJnZ0lHQkFkc1hrMGdrR0I4ZloyUER2Q3Z3MWVRNDN4M2gwNFZtNW1NZW9tbXhwSzNsWkdaVzNjeXN1cG1pZ1pNZGNkN29yLzRvRlM5eFpSSVhGbGpRbnA0ZVRwKzIvMXg2ZFhXVjhmRnhvZDhtU3dWZTZZanpnNGZIeXQ3Z2Y3NW8zRWExeWJQZ29rNUdFTnRoOWVBbHZHSDIxM3A2ZW14ZnhQejhQQjk4OElHUU5JQ2VwaFNUc3cwVnF5S2ZMOWF4a3FpdW9tSkJuTGVzaHdlZDllWWJucDZlSmg2UDczbnNnd2NQbUp5Y0pKY3pXMHFYcXRQb3pqS3pzbjgxNU9uRzRleHZWUVRQSGF4TVE2ZFhNNVZsTWhuR3hzYTRldlVxTHBkNUt1ZnplVzdjdU1HVEowK0VmZnJjT1ZTcHdHcFNQRksyRkpYdTdtNmFtcHB3dTkzYmlzcmk0aUxUMDlPNzJvZWpMczc0WTRkQ25PMDF6bCt2Y2J3bHlVK2Y3UjRaOFhpY3Fha3AzbmpqalYyYjlXUXl5Y1RFQkd0cmE4TCtXbW9ONWVGWlFtd0FTaWtxVHFlVDl2WjJVM2s0ZWpnanJ1em5mRy8wcjlMa01adis1ZVZsYnR5NHNmMy8wdElTMTY1ZHN5U3QzYXNoU1dMU0pFbmkzTGx6REEwTkNVbmJnc05oSHFXWlhIVVZGWXYxdnI0OHBSSmpQZnJWRXl0OC8zNHJ5Y3h1MTJSdWJnNmZ6N0ExbjMzMkdZV0NPTGpsYkZlVWhXZ05rYmlaTkZtV3VYanhvaTFIT3BrMFA0bXFjK1dyU3B3VlpJend6MTBvN0JITTAxcVg0ZW9KY1FqWnZYdjN1SGZ2bnBBMFZTN3d0WmNpaEtNdWxtSmkwaTVkdW1SNzk3Rzh2R3dxNi9ScHRvNnRCbkVtVTZudnhSelEzWkRtN1FIN2ovQWEzRm5lZVdXWk8vTStvYUlpeXpKRFEwTzJaU2dRS3lxSFNWekZlTEU1eWNYZTlUM2JkWGcxdm5GcWlkbFZkMGxGcFJ4eElCd084K3laK1lmcnFxK3VGQ1hlY1NHWHZjWVY0MnhYbExTVzUzYTRXVmovYWxlVVM3M3JQSXJVV2lvcUZ5NWNLRXU3MHpTTlR6NzV4RlR1OTJuNGFxcXJxRmc1d1BzbUR1RGx0blZPTkVlSkpHcFlUcmlSS05EYmtxUFRwK0ZRZE9iVzNQenZRekd4cjczMkdzZU9IYk45cm53K3orVGtwRkJSZWIxbnZhcWtsVUpWaUFOd0tEcCtYeEsvejdCME8yTTBTaWtxZlgxOXRzK1J6V2FabUpnUXl1d25XaFBiNjF0TVUxbU11cGhkY2ZBc1VVTXlxNUxWSlZ5S2pyOWVvOU9uOFVKam1nYjMzb3FLaFV2clVnSFRhbXJETnRpR2xhSnkvUGp4c2hTVlpETEpoeDkrYUttb2ZMVi9iYzhZbFhSTzJZNVJtWmlCMC80WVEzMXJKYzhyaVJlNUdwVUtyYXBkV0NrcTU4NmRzOTNIMnRxYXBlQUo4RXBIalArODAxNVdmQXJBM1FVdlFFbnlMTnhwbTQreTlrUGNQaFdWY0RqTTlldlhMVW5yYTA0eU9kdFlObWxidUx2Z0xSbmZZbUVjUEFkT25FaFJtWnFhc3FXb1BIejRrUEh4OFFOWFZMNVl0OTdmV293NHBXckd3UW9pUlNXYnpaWlVWSFJkNStiTm04ek16QWo3OU5ia1VPVUNhM3NvS2gwZEhUUTNOKytLVVZsY1hEVEZxSVNqTGs1MWloVVZLeUh6d0lrclYxRkpwVkpNVFUwSm5WdUFaazhHSk1sU3NDeWxxTlRVMUFnZlc0cWM4dWMvZ3JCWWxRR1RUYTZtVlFWRFVXbTJVRlIyT3JLUlNJUnIxNjVaa3RaZXB5SExDRW16cTZpSVlsVHl1bFNpdmZXSU0wa011cjFYZG16RHBlcjhpb1dpTWpzN2k5ZnJSVkVVN3R5NVk2bW9uT21Lc2hpdElSTGJuNklpTWpJZVovbUt5cUhGM2UrbHFOeStmVnRJbWlUQmxkNUZsa29vS29PRGc3WVZGZEZvTGlVTVdJeEYrVkJmV0NoWFVmRzZzbHp0WCtCQnBNRXlSbVZvYUdqZk1TcWxpQ3YxbE12a2l0dDh1NjRpMkZWVVdtclR2Tlcvd0VMVUl3d3dyRVJSc1lwUnFVU0tFdTRjQ3RXMkRrVTQyeFVGWUhxMlFWai9VdXM2Wi8wclBGcng4Wk5sYzVzdFJhVWFNU3BkOVdtOHJ2SVZGUlhSaU1zZkxIRmI1SjNzaUxNWWRiRVFkYUhyRXAwK2pRNWZtb3ltc1JEMWNPTnBxL0RZOCtmUGw2V29sSXBSdVZDaG9xSUNwa1VuZDRCVGRTZWNpczRMalNsZWFOeDlReGtOUHJZZ3Jab3hLbDlwVGREdXpaUTgzbUxaaXFrWXIxSVhuYXpreTY4SGpxVzRtMlRXN0p1WEc2T3lsNkppSjF6Q3dqVkxxTURqNGxMdGlJa1RHWU5xeDZoOHRYOFZoN0wzekxJWWNSc3E4TWhFWEVhblVMRGNiaHdaY1hheHNMREE5UFMwVUJ3QWVIdmdHZDBOOXA1TlpITkM0c0p5SUJoS0FqZDNsdXFGQWludGNKNVBpaUNLL2Yzb280OXN4NmhNVEV3SVNYTXFPci81Y29UZUp2c2hzaGJ2N0QvZGNvREhpMnVpaVlNSjFLdVVPRTNUR0JzYkk1c1ZYMWMrbjJkNmVwcTdkKzhLM1Ntdks4dWJmV0dUSWRvTEZnUG9yaVZ4cTlIUzF1WWcwVjZYb3FmQlBMcmk4VGdURXhQbyt1NVJrRXFsdUg3OXVtVmdUNU5iNDgyK01DMFZSTEZiRUhkN2k3Z2ZGdGVrTTNuaGk3S0hoZlBkRVh3dXNhSnk4K2J6bFdWcGFZbjMzMytmMVZXeGhXeXBUZlBXOFhtOHJ2THZSUzhVaUtlRTYrU2tEQkFJaG1MQWU4VzFUeVBKcWlzbGR1RlVkQVpmV01MdE1QL2lNek16M0w5L24vdjM3ek0yTm9hbWliZE1MN1d0OCt2SDUxSGx5dTVoSTU0VjNmK3RRRENVMkxuSi8zWnhDeTJqTTd1WTRHaW9neWFQeHNWank4SzZQV05VQmlLYzdkd3pSVkpKUk5hRlA4ZzQ3SkNWQXNIUUpQQWZ4YTNXWTFsbUZoSkhOdkk2dlVtdTlDN2FidC9nemhJNHVVeGY4LzVlTG9rbXNzU1R3bW42blYzRWJlS2JRTGk0NVhvc3cvMjUySzZjUjRlSlkvVUoyekVxdjMxcWFkK0JON2w4d1NxWndWUWdHUHJVUkZ3Z0dIb0cvTG5vQ0MyVDU5RVhNUjU5RVdNamtUMzA2WHUySzFxU3ZGZTdvbnpqOUJKdXgvNTJQYmw4Z1o4K2pWbjViMys5OVVXNE54Z2RHZjQ5akZ4cWxuQ29NZzExRHJ5MURncDZ3U1Q0SFZSdXBVeGUzbFpVZ08yWFJKeUtYbFkvSWlSU09XYkNDVExpTGVlL0JvS2gzeTlKM0NaNTd3RC9ETFJqQXk2bmpNdWg0SExJT0IweUxRMnVpdk10SFZaU3FpMmt0VHlMcStsU3Z1c01jQzRRREszdlNkd21lVzBZZWVOK3B4SUNIS3BCb3RNaEc0U3FNZzZIakVPUmNhZ1NxaUlMOThPSFFWdzZreWVheUxJZXkxcjVhbHRJQWU4RWdxRWY3U3kwbTNqdjE0Qy9CYzVYUW1BcHFJcEJvS3BJS0lxUmtDK2ZMMnduNVpObENWbVM4TmFxeUpMUlJwR2w3UXVYRlduWFRlaDZ3VWpBVnlpd0hzdWlGNHhFZkxsY2dWemVTTHFYMVBKMnhkb25HRG5rZmx4Y1VXNnF4OHZBbjJHTVFHKzFTZnc1d3pqd1I0RmdhRTVVV2JGd05Eb3kvRHBHeXB6THdLV2p2c3NxWWg3NGJpQVkrcXRTamFxaXVJMk9ES3ZBV2VDWE1iSWtuTnI4L0R6bUFMYkNKUEJ1SUJqNnJwM0dCeXBWYm1hRjZRSDZNQkxZOVdLOFdOeU9rVUNoRlRpcVBFRC9CM3lJTVNYL0p4QU1MWmR6OEpIblo5ek1RdEVLdFBBOG5YY1RSaXJ2NXMzdlBveE1QSFdiNVhVOEo5d0w3SXlyU0dGRW1hYUFOV0FkNDRIVUV3eTM0aTdHUm4xZjcyZitQOGV6K0lvdXRGRG5BQUFBQUVsRlRrU3VRbUNDXCJcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi91cmwtbG9hZGVyIS4vYXNzZXRzL2NyYXRlLnBuZ1xuICoqIG1vZHVsZSBpZCA9IDEyMVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwibW9kdWxlLmV4cG9ydHMgPSBcImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBUklBQUFCS0NBWUFBQUIzbmRzTkFBQUFCR2RCVFVFQUFMR1BDL3hoQlFBQUFDQmpTRkpOQUFCNkpnQUFnSVFBQVBvQUFBQ0E2QUFBZFRBQUFPcGdBQUE2bUFBQUYzQ2N1bEU4QUFBQUJtSkxSMFFBQUFBQUFBRDVRN3QvQUFBQUNYQklXWE1BQUFzU0FBQUxFZ0hTM1g3OEFBQUxRMGxFUVZSNDJ1MmRhV3dWMXhYSGZ3YXptTTNRc0ljU3d0SUVVRkk3RmFGVWF0SW1qZW8wRkhWUHBGYnRLRWxGTzFWcFJsUmQxRlJObGJSUys2SFRSWmtzYXRyNUFGWFNkRUhOQm1vTEpQa1FqRnR3Z3RqQ1pnZzdBUXdZakFsTFA1dzd6TE94YTJ6UHZEdnozdmxKVjM1NmZtL2VtZEY3Wis0OXkvOVdvQ2hsZ09jNk00RUZ3SWVCRHdEamdaSG0zODNBUWVCdFlBM3dEejhJTjl1Mk9VOVUyRFpBVWRMRWM1M0p3Rk5BWFEvZnVoeFk2QWZoSHR2bmtBZjYyVFpBVVZMbVpYcnVSRER2ZWNXMjhYbWgwcllCU3ZId1hLY0NtQVBNQldxQVdjQVlZQVF3SEptaG5qVGpDTEFKYUFUcWdRWS9DQy9aUG9jaWM4RzJBWGxCWnlSbGd1YzZkd05iRWFmd1crQitKRjR3RFhFbWc0RkI1dkUwODcvN3pXdnJnYTNtR0hualU4Q0tYcnh2T1REZnR2RjVvZEp6bmZIQUY0QTdnSm5BTmNBbzREaHdGTmdNckFUKzRnZmhRZHNHSzczbWo4QzRQcngvQnJBRStYN2tCaFBqcVBOY1p4WVNiSjFMSEd3ZFpWNTJuRGpZV284RVd6Zlp0ajFQVkhpdWN3b1lkaFd2YlFFVyswSDR0RzJqbFo1alpoTy9RMllidldFSDhHMC9DRFZ1b0Z4QlA2N09pV0JlOXd2YkJpdTl3emlBR2NnZGVSSHdCNkFCMklmY0pDSmF6SE1ONWpXTHpIdG1xQk5SdXFJUytlSmM3WXprKzdZTlZucVBDWmF1TlVQSkNaN3JURVJpVmpYQWRHQUtzc1FjRFF3ay92MjJBT2VBZDVHd1JCT3dIUW1Zci9HRGNIOWFObFowaUpIVUlPdm9JY0FaNEpBeFloWHd2TVpJRktVNGVLNHpDUGc2RXZDdVRlaXc2NEZuZ04vN1FkaVdwTDFha0tZb0djUnpuVlhBeDFJNi9Hby9DRCtlNUFFMS9hc28yU1ROR3EvRWo2Mk9SRkd5eVYxSW9Mc3h3V00ybW1QZWxiU3h1clJSbEl6anVjNGtKSE5XQzB5bGZiQjFFRERVdlBRMDBFWWNiTjJOcE8zWEEvVitFTzVOeTBaMUpCM1FMbEZGNlRucVNBemFKYW9vdlVkakpESGFKYW9vdlVRZFNUSm9sNmhTMXFnamlkRXVVVVhwSlJvajZZQjJpU3FLb2lpS0JYUkdvaFFWejNXcWtTN2txVWdEMmlTa3YyczBVaHN4Z3JnSmJSZ3dBSGlQdUVPNUJWRndPNHJVU3h3QzlpTE5hVHVCYlg0UW5yQjludVdHT2hJbFZUelh1UkdwcEp3TDNJbzRqelMvZDVjUXA3SVdXWDcrMHcvQ0xiYXZRNm1qamtSSkhOTlJ2aEQ0TWpMN3NNMDI0RS9BazlyQm5nN3FTSlRFOEZ5blAvQXdvbHRUWmR1ZVRtaEZ4TGtlODRNd015bDdjOTJ1QmQ2UExQVW1JTnE1NDREM0ljdTlrVUExMG5CWGJkNGFMZjBLS1Z3R25nRE9tNy9OeUpMd0dMSWNQQUljUUphRjd3RDcrbkpOVkVWZVNaTEhrWmxJVnFrQ0hrRitxTjhvOW9jYmh6RU51Qm40SUhBVG91Ui9IU0pRbEFRRGlMT01vM3J3dm5PZTYreEdkZzdZQUx3SnZBWHN1Qm9Ib3pNU0pURjZvUDlybXhZL0NJY1g0WHIwUTdiL3FBTStpdlJ2RGUzVFFZdlBhYVN2N0hXa1pxckJEOEtMSFYra014SWxTWmFTN1JsSm9aMnA0Ym5PVGNBRHdIMzBUYmsvQ3d3RjdqVGpFZUNRNXpyUEFzLzRRYmdoZWxGUkhZbVoydFVDdHlCYlg4eEFwcG1Sdk9NUXBDMjZEWkY2ak9RZUR5QUJzODNBT21COWx0YTR5bVcraFJUc2ZZL3N4a2grQ1R5YXhzRTkxNWtHL0JxNGg5S2Q3WThEdmdNczhsem5aZUFoUHdpM3AzNnlabnAzRC9BVjRHNWtSN2UrY2dwcGxGc0N2TlRaVkV1eGgrYzZFNGl6TnROdDI0Tm9jaXdCbnZLRDhFQks1M3c3OEFMSmZML3pSQXV3SUZWSDRybk85Y0JmU1U2OHRqUFdBNS8zZzNCWG11ZWk5QTdQZFdZand1SzI2a2hXK2tHNHNRam51UnVZblBiblpKUTlhUzl0WGdGdVNQa3phczNuM0pqeTV5aTl3UHlJTnlLYmN4Vld0azR6WXpJd2xsanhxeHBaNG1JZTl3TXVJaWxNa09YdUNXSVZzTVBBSG1UV3NRT3RiTFhCaGJRZFNiSFdpYVc2SGkwNXpJLzhQMmFVRWwrbGZKYzJENlF0STdBQVdYcWt5WHJ6T1lwaURUOElYMFZteHk4aHk2dFM1NUk1MTFvL0NGY1ZLOWc2SHdtMjFwRmNzSFU1RWtCN1VZT3RTcFl3NmQ4SGdYdkpmL3EzSTRlQTU1Qk50aTZuZjR1NkpQQmNweEx4Mmg5Q1loclRhWi8rSFlwVStKMURDbUVLMDcvYmdTM0FmNUgwNzNtNzE3UGRlVlVqNWMzWElXditTVWlKODZpQ01aSTR2UTB3bURoRjJncWNOWStqMUhjem9uOFNqU05JT2ZNZVJCMzhIWTBGWkJ0ekU3MlZ1Q0J0THZrc1NLc25Ma2hiMjltTlcyTUxQY1Jrb2o2Q2xEamZETXhHSEljTjlpS0J6TGVRa3VZMy9DRGNhZnNhS1oxamJxUXprVHFxMlVoNS9BM0lEV2hBSHc2ZEJPOGhONml0U0puOFJ1U212ZVZxYnRycVNMckJjNTBLNUc1eUx5TEhPTVcyVGQzUWhBaFpQd2U4YmpZT1Z6S01LZFNjaE14cXJ3VW1JaG1zcUdtdjJveVJpTU1aam1TenFyczQ1QWtrMDNVS2NSRE41cmtUU05QZVlXU0d1eC9ZaDJuYzYwdVJwenFTLzRQbk9wOEJmb2JjT2ZMSUp1QkhmaEF1czIySVV0cjB0MjFBVnZGYzU2ZkFFMGlzSTYrTUFlNmJONmVtMzVxR3h0VzJqVkZLRjFXUjc1cnYyalpBejBYSkMrcEl1dVpYdGczUWMxSHlnaTV0dW1CTlErT3FlWE5xM2tTeU0zbGQzbXhHdGhNTmJCdWlsRFlhYk8wR2s3VzVIZmdTMHIwOHhiWk4zZENFOUI3OUdYaFZzelpLTVZCSDBrTTgxNWtLekVQclNCVGxNdXBJRXNCVXRrNUdDb3NpQWQreHRLOXNyVWJ5LzFHalpGVEZDM0VsTDRoWTd5a2s1MTlZMlhxWVdLaDNON0JISzFzVlJWRVVSVkVVSlVLWE5rcHVNVXZLcUVFeTJndG1ERkpLSG8xSUtDbmFBeVlTUzRMdTk0V0pCSldpNXlKUnBlYUNjWVI0ajVnandONXlYSEtxSTFFeWkrbEJtV3JHOVFWaktwSTl1OGEyalYxd0ZNbWU3UVIyRll5ZHdNNVNGQzVYUjZKa0FzOTFCZ0UxU0t0OURYRkdiTEJ0MnhMbUxPMHpiV3VBUmo4STIyd2IxaGZVa1NoVzhGeG5NSkpHai9aTXFTWFdhaWszMmhDbHY1WEF2NUEwL3RtK0hiSzRxQ05SaW9ibk9zTVFXY3pQSXNWOWVSUDVLUmFuRVJHaHZ3RXYrRUY0eXJaQjNhR09SRWtkejNYbUFOOEV2a2crdHZUTUVpM0E4OEFUZmhBMjJEYW1LOVNSS0tsaEhNaWp3Q2R0MjFJaXJBQituRVdIY3RtUmVLNHpFQmlQcE5OR0l4SHhhSytSVWNBSU00WWo2YlNCeEZQVC91Wi9FWVc3b0I4dmVId1NpQ0xXcDVHS3pqTklKZWRKTTQ0VDcxbHkxRHplQ3h6MGcvQ2M3UXVtZEkvNUx2MGNlQWh0REUyYUM4QnZnQjltNmZkUTRibk9Pa1RhTFE5cTE0Y1JhYmltZ3ZFMm9qTzVXOVhrN2VPNVRoV3l0cSt6YlV1SnN4ejRuQitFcmJZTkFlbjdTSE03emFRWmEwWm5OcC8xWEdjTGtsSnJSS0xnYTdOeW9jdUl4MUFuVWd6cWtHdTkyTFloRURlUWxRS0RrZnFER3VCcjVyazJ6M1hxZ1ZWSWFxMCs3L242SE9EWU5xQ01jRkJIVWhRR0FiZVo4Uk9nMVhPZDFZakMrckp5TEdWV2xEUW9ONm5GS3FSK0lRVDJlNjd6cE9jNnV2bDRzb1MyRFNnalF0c0dSSlNiSXlsa0NMQVEyT0M1enVPZTY1VGI1czlwOFRDU3BsVFNaUVZ5clROQk9UdVNpRXJBQmQ3d1hHZUNiV1B5amdsdUwwQUVwMHV1T1MwRFhFU3U3WUlzSlJKS1BVYlNFMllEVHdPZnRtMUkzakgxRFlzOTEza1dMVWhMa3N3V3BLa2phYzhuYkJ0UVNwZ3ZmSjJXeVBlSlhKVElxeU5wejByYkJwUWk1Z2ZRNExtT0I4d25idG9iWXR1MmpISUcyUW5nNzhDTGVjZ3VxaU9KMlFnOGFOdUlVc2I4SUpZQ1M0Mk13RzNBSGNoMkg3Y1FpMkdYRytlQWRjQnJ3TCtCMTNJbkkrQzVUcm52ZTNJZWlZMzhJQS90MnFXS0VUYXFwYjJ3MFN4S1U5aG9FeUpzMUFpc0JkYmx2VkN5bkIzSkdXQUo0UHRCdU1XMk1jcVZlSzVUeVpWU2kxUEl2dFRpTWE2VVdHd0NkZ0M3L0NBOGI5dkFwQ2szUjlJS3JFWjJvVnZtQjJHemJZT1UzdE5CL0hraTdjV2ZxK2xlL0xud2NVUWsrRno0dURQeDUraHZKUDY4bjNJV2Z5NXhSOUlHUkwwMnF4RUp1MXhQSVJVbGk1UlNzTFVOMlRSYnUzOFZwY2hVSWorOFNXUjN2Vm5JTVdUTHlpWml1Zjl0aUI1SmsrcVJLSW9kQ2hYU3FwQk5oaVlRSzZTTlJ0YWNJeERWczJHSVFsb1ZzdjZzTVArTFZMQUs5N1l0NUFLaWZsYjQrQkt5eG14RkZOSmFFSFcwazhoYU0xSkpleGM0Q096WDJZV2laSlAvQVZUYldpTGxxRVN2QUFBQUFFbEZUa1N1UW1DQ1wiXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vdXJsLWxvYWRlciEuL2Fzc2V0cy9ncm91bmQucG5nXG4gKiogbW9kdWxlIGlkID0gMTIyXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IFwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFIY0FBQUJLQ0FZQUFBQ0IzY3Y1QUFBQUJHZEJUVUVBQUxHUEMveGhCUUFBQUNCalNGSk5BQUI2SmdBQWdJUUFBUG9BQUFDQTZBQUFkVEFBQU9wZ0FBQTZtQUFBRjNDY3VsRThBQUFBQm1KTFIwUUFBQUFBQUFENVE3dC9BQUFBQ1hCSVdYTUFBQXNTQUFBTEVnSFMzWDc4QUFBVTNrbEVRVlI0MnUyZGZYQWNaMzNIUDN0Nzc2KzZrMDV2bGhWbmJjZHhjR0lTUitCQUVnVmNLRE1CbWlHdHl3U1lBZHBTTW0yblNabE9XNDZiZG5vOVp0b3BFOTdLUzVrcDBKYVVHZ29VVWdiYTJpVktZcFNJaE1sNzRzUnJ5eFo2dFhTNk85M3I3dTMxajEyZFQzZDcxdDNwSkJtYzc4d3p0M3IyMldlZlo3Kzd6L043ZXg0SnZJWUtqbzFQN0FDdUI2NERkZ0hEd0pDUnVnRXJvQUJUd0ZQQUk4Q2pSdytQUExuZGJUZURzTjBOMkU0Y0c1OFlBVzRGYmdNT0F3TnRWdlVMNE4rUEhoNzUySGIzcVJvTnlZMUwwbDFWSGQ4UCtJQmw0RFJ3RXVPdGpjanl6SFozb2xrY0c1L29CdDRKdk1OSVhSMit4ZVBBdlVjUGoveDh1L3NLSnVUR0plbFR3RWNCZDVOMWpBTVBSMlQ1ejdlN000MXdiSHppdmNBSGdWL2ZndHN0QXI5NTlQRElUN2E3M3hWeTQ1STBDSHdIZUdPYmRaMEN2bnU1a0h4c2ZNSUIvQzN3QVNDMHhiYy9CZHh3OVBCSVlUdWZRVFc1NDdSUGJEVWVCZTZPeVBMOGRuWHEyUGpFQThDOWdLT1Y2MXgyT3dHWEU3L2JoZHZ1d08ydzQ3YmJjTm50MksxV0xJS0FWaTZUS3haSlpMSk1KNVk1djdpRVZpNmJWZmZWbzRkSFByeGR6d0FNY28yaCtFODZXTzk1NE42SUxQL1hWbmJtMlBqRWJjQVhnZGMxVTk3amNOQWY4Tk1YOEJQeWVuSFpiUzNmTTUzUGMvTFVhVks1bk5ucDdxT0hSNWEyOGhsVVk1WGNBbUN2UG1FUkJIYjA5ZEhmMDRQSDVjSXFpaWlxU3E1UUlKbE9NNyswUkNLVldxLytqMFJrK1N0YjBaRmo0eE9mQS81d3ZYSmRIamZEM1NFR3U3cnd1WndkdVhkZVVmanZaMStnb0NpMXAzN242T0dSZjlxSy9wdkJHcGVrMzhLRTJCdjM3eWZvOTY4cGJMTmFzVm10K0QwZWR2YjNrODVtT1RNMXhmeFN3NWZ6SCtPUzVJbkk4cWMzcXdQSHhpY09BUDhNM05pb2pHaXhjRlZQTjd2N3duUzVtNVVUbTBkQlZlbnl1SmxiVHRhZXVoWFlQbktOQnF6QlVIOS9IYkZtOExuZDNIRE5OU3lsVXJ4dytqVDVncW44OEVCY2t0Z01nbytOVDd3SmVCQzR5dXk4YUxHd3V6Zk12c0YrbkxiV2g5ejFrTTRYbUUybVdDa1VjTnJzWmtWdTYvaE5XNERWckFFRFBUMHRWUkx5KzdubGhodDQvdlRwUmwveEEzRkp5a1ZrK2N1ZGF2aXg4WW1Ed0wraFc1SHFNQmpzNHNaZHc3anQ5dFlxWGdjbFRXTXBrMlV4a3lGWHZEZ01XMFZMZmVGeSthcTRKQjBDa2tBS1NFWmtlY3NrYUN1d3J6YlQ3WEsxWEpFb2lseC96VFc4ZXU0Y2s5UFRaa1crRkpla3VZZ3NmNjlEYmY4NkpzUmFCSUdkUGQxSXZXR3NGa3NiMWRhanFLcWs4Z1dTdVJ6cGZJR3lpWFJzSmk5cmhZSU4rRmwxWGx5U0ZvQnp3TXZBejlHTlFSTVJXZFk2OUZ3cXNHS2lMbGlFOXF5U0FyQjNlQmpSWWtHZW1qSXI4bUJja3Q0YWtlWHhqVFQ2MlBqRVB3QUg2em9qaWd5R2d0aXNWczR2SlFDd2lTSnV1NjdTT0d3MjdLS0lUYlFnV2l3SWdsQlJiOHJsTWlWTlF5bHBLS1VTZVVVaFcxVElGb3NvcGRLNmJWSlV0VDV2YnRhc2FOaEloNEI3VmpQamt2UVl1aHI1OFU0UkxjUWw2UUs2VWJ5QzBadHZ4bWExYnFqaVY4K2Q0Nno1Ri93Y2NHTkVsdFVXcXdUZzJQakVIdUNWMm55cktETFVIY0lxaXAxNExpMWpPWlBoUWlxOU51L0hQMkxoNjE5dHA3b3ZBZmRIWkRtL2tUWlowSzBwYTVBMTE5bGF3cDdoWWZyTjUrNEQ2THBvV3lnWENuZlVkVUlRR0F3RnQ1ellNcEFyRnBsUEpsbXNJUllnOS9KTDdWYjlVZURwdUNTOWRTUHRzd0pQQTdkVVo2YXpXUUkrMzRZN2Y1MGtrYzNsU0dVeXRhZCtOeTVKMzR6STh2SDE2b2hMMGo2amZXOEEzcEQrNmNsRC9qdmVzcVpNajkrUGZZTWp6WHBRU3hwcXFVUlJWU21xS2dWVm9WQlVHbG1uOUlkN1JzYnY4YUNVU3BSS0pWUlZ2V1Q1R2x3REhJOUwwdDBSV2Y1T08yMFc0cEowRC9DTjZzeSs3bTZ1Mzd1M0l3OGxWeWp3eExQUG1zMUpyd0N2aThoeVJlU01TNUlGZlM1YTlVYmRpajQvVmVDLy9RNzZQbnJ2bW9xOFRpY3VoeDJyS0dJVFJTeUNCWXNBbGlxQnFtek1xNkIvY1ZxNWpLWnB4bThacmF5aGFmcThXeXBybEVvYUpVMUQxVXFvSmMxVWlMb1UvRTg5U2ZEUnNicjhvcUtRTHhiSjVuS2tNeGtTcVpUWnkxK0xkMFJrK2NldFBuc2hMa25Ed0dSMXBzMXE1ZlpEaHhEYUZLeHFNYisweERPblRwbWQrcktSZmh1ZHlEZXZWNWV0cjU5ZEQzeW1JKzNhTERobVp1ai8xamViTGw4b0ZwbWFtK1A4M0J5cWFpcUtuQUVPUm1RNTNYU2xnSGdpa1VnZUNRWS9TSlZ2VTlNMGdvRUFMa2RMZHZlRzhMaGNyR1N6Wk9ybjhwdUIzMGNuZHJpWnVyVE1DdjdiYmtmMGVEdlN0azVDekdYeFBmc000UisxWmxLM2lpS2hRSURCY0poME5rdXUzaGdVQkhwUEpCTGZiNms5QUVlQ3dldlFoOE1LQkNBYzZweW5yTXZ2WjJaaEFVM2JtSlJ2RVFURXBVVmNoOS9Vc2JadEJQYUZCZHl2dmtMWDR6K2wrOFJ4WE9jbTI2NUxGRVg2ZW5wSVpUTGs4bldDOGsxSGdzSFBua2drbXBhZ1Y2V1Fid01mcVQ0eHQ3VEV2bDI3RURza2dUcHNOdllNRC9PaUxMZDBuZHZwSk9EekVmQjY4WHU5ZU4xdUxJSkE3bnZmWWVrdFIxQURnWTYwYnoySW1ReldWQXBiWWduYjBpTDJoUVhzYzdOWWlzV08zc2NpQ0J6WXM0ZWZQdjAweFhwSHhKOEJUZnZMcS8yNU0wQi85Y2xycjc2YW9iNitqamIrWjg4L3ozSzY4ZFRoZGJzSitmMTArZjEwK1h6WTE3RUpsN3hlOG9NN0tBenVRUFg3VWYxK05JZVRzdFdLVmpXdENLVVNnakdmNmNjS2xrSUJRZEYvS3ltZlI4em5zT1J5T3FHWkZjUjBHcUVKUTBZbk1Uazl6U3ZuenRWbVB4YVI1VnVicmFPYTNNOERmMUI5MHVOeWNmamd3WTVHMFNYVGFTYWVmNzd5dDh2cEpPVDNFd29FQ1ByOTY1SjVwYUJRTFBMSVUwL1Y1ZWZ2dWVlSENNSWp3TmRqc2RnbDQ5Y3FZKzZSWVBBNTRQN3FrNHFxNG5PNzhiUmhhMjRFcDhOQnVWeW1OeFJpMzlWWHMzdG9pSEF3aU5mdDd0Z1U4S3NBcXlpeWtFalVEYzNhME5EZXNzdjFhOERIUmtkSFEyTmpZejlxVkVmbGFScFM4NDNBdGRVRmNvVUNPM3A3Tzlyd1VDQkF3T2Zic0luelZ4M3BUSVowalE2c2RYZFR2aWpvdm5GMGRQUmRvNk9qL3pjMk5sYm5qcXQxbTN5eXRrQnFaWVdsWkowVCtqVnNBYndtZ1FXVzVlWGFyRVBBUTlGb3RDNjB5Q3kwOVRpd3hxYnA5M2g0dy9YWGIzZGZ0d3lxRVU2VUt4VElGd3JrOG5seWhRSktxWVNpS0NpR0diRmtDRmtXaXdXYjFZcmI2Y1R2OWRMbDg5SFZnWkhKelBoVDJya1Q1ZmJiellxL0NMd3RGb3Y5WWpYRDdPNXhhc2hOWlRMTVhyalF5Qkh3UzR1aW9yQ1N5NUhKWmxuSlpsbko1Y2ptY3FidXUwdEIwelFLeFNLRllwRkVLbFV4OS9WMGRYR3RKT0ZzTTJEQVlTSmN1b0VWVWF5OFdGWFlEM3dMcUJnQTZpU1lFNG5FbVNQQjRKdUIzZFg1NlV5R29iNitqcGtrdHhxNVFvRkVLc1hNd2dKbkRUVkRucHBpWm1HQnhlVmwwcGtNaFdKeHcwYVdhbVR6ZWFabVozSFk3Zmc4bnBhdkwya2FVM056YS9LY2ZqK0gzdjkrWm1kbnpRamVPVG82NmgwYkcvc2ZNQ0UzTGttOTZBYU5OZXRtMUZJSm05WGFFVy9SWmtOUjFRcVJrOVBUbkpxYzVPejBOSE9MaXl5bjArUUtCVW9kSlBGU0tBTUxpUVRPTmdqV05JMXpzMnNkL3FMZHpqWHZlUS9oY0ppWm1Sa3pndDgwT2pyNjhOalkyRm16WWZtN05JZ2tuTGx3Z2VHQmR0ZEtiUjZ5dVJ6TEt5c2swMm1XMDJrekcvYTI0NlV6WndpSFFpM053eGFUTUNITnNJajUvWDVHUmtZNGVmS2ttY2ZxaThEK05YZUtTOUxmVVRWbVYyTjRZSUE5TzNkdTl6TkNLNWRKcjZ5d3ZMTENjanBOTXAwMk05TnRDQTY3bllEUFI5RHZKK0R6VmF4bExxZXpra1NMcFdKd1VWV1ZiRDdQY2lyRjlQdzh6NTA2VlJjb3FKWExUTTNOY2ZXT0hVMjN3NVRjcXI2R1FpSDI3OS9QQ3krOFVGdnMybWcwK29IYTErak8ybEtpS0hMOTNyMzBkSFYxOUFFMkM2MWNaam1WWW5GNVdTZHpaYVZqZGJ1ZFRzTGQzWVNEUWNLaEVPRlFpTzVnc0dWdm1OVnF4Vy9Zdm9jSEJ6bjgrdGR6L09SSkhuL21tVFhsbGxNcGFJRmNNK21tOWl2ZHZYczNTMHRMek03V3hXdmRXaUUzTGtraDlFWEhGeXNYQkE3dTIwZW9pUmptVHVPVnljbU9raG53K1JnSWh4a0loK2tQaCtudDd1Nm81UTMwQjUvSlprbW0wL1NhZU5RUzZmWGRzV1ZEeFNxVlNxWnlRU21mWjNKeUVvL0hnOXZ0eHVWeWNlMjExMTZhWEV5QzB3TmVMM1pSSkpmTFlSRkZSSXNGaTVFMkV4UFBQYmNoVWwwT0J6djYrOW5SMjh0QWJ5Lzk0VEJ1WjJlV2pxd2ltOHV4a3MyU1hsbTVtREtaaW9CajRwUEY2M0xwMFIrYUh1V2hHUVNXcW42YmtkWlZWU1daVEpKTUpoRUV3WXhZZ0VlcnljMlpWWkxKWnV1dUVnU2hRcktsK3JqMmIrT1lGdFNuVnlZbld5WTJGQWl3bzcrZm9iNCtkZzRNMEJNTWJwaThrcWFSemVYSUdicHZOcDhuYStqRG1XejJraVFVVlpYejgvV0xITzAyR3d1TGl4dHVXeldXbDVkWk5LOXpEYm1QMXA1ZHllVklwTk1FYTlTZjZxR2pHVlJlQmtGQVdQMnRTUlpCQUVGZ2FaM0ZaUmFMaFlGd21LSCtmajMxOWVGcGNmMVBTZFBJNS9NVURDdFVvZG9hWlpCWmFNTlBXMVJWbHBKSkZsTXBVL0k3UFhvb2lzTE1qS2xqYUNvV2kvMUxoZHlJTE9maWt2UWtOUkVaVS9QekZCV0YzbUN3YlFORzVXVm9vbHl0b2R4aXNURFkyOHRWZzRNTUR3NnlzNzhmYTVVNlVTNlhLU29LcXFxaUtBcEZSYUZZTEZLb1BpNFcxeHdySFpLdWk0cEMxakJQWmd3VFpTTjRYUzRDYlJneUdrSFROTTZkTzlkb0JMa1g2czJQOXdKUDFKYWNUeVJJWmpJTWRIZmoyNFJWY3Fzd00vdTVIQTV5K1R5dm5EM0xtZlBuSzErL2dFNnNRTTNJSUFpSWhreXdtbDhOc2VidmNybGNDVGN0VjBWRXJxNUFVS3VFRzdWVTBsOFNSYUdvcWsxSFJJcWl5STV3dUtteXRXMnJoV0NZSHMrZlAwL0IvR1g2WWl3V2V3ak1IUWVmQnY2NDBRM2RUaWZocmk1OEhzK21iSVh6NHRtenFGc2M5YkNaY0RvYzdPanBhV3RJTHBWS3ZIRDI3Sm84aTh1Rit0NzNValNmTnA2SnhXS1ZaVFoxWW05RWx1L0RaUDVkUlRhZlozSjJscGNuSjVsUEpEcE9SS2ZWaysxRWR5REEzcUdodHVkYVUxVklGQnNSdTR3ZVNWcUJhZWpEaVVUaXEwZUNRUmNtNnRFcU5FMGprOHV4bUV5U05TTDE3RGJiaGgwTEhwZUw1WFM2bGNqOHl3WVdRY0RqZGhQdTZtTFh3TUNHcDdDOG90VHB4dVZBZ05MdTNiVkZOZUR1V0N6Mmsrck1TeklSbDZRQmREdmxielRiT1ovSGc5L3R4dWZ4MU0xdnpVSXRsWmkrY0lGTUxuZFpEOUYybXcyM3c0SEw2Y1RqZEhZc3puc1ZpWFNhcVJxVnFpUkpLTGVzV2YwekMzd29Gb3ZWaGRzMDlabkZKZWxXNEsrQnR6UlRIblJoeHUxMDRuZTc4YnJkYmZzMGk0Wnp2R1FvL3F2Q3phcmdVOUswTllMUTZqSVJ1Q2dncmFJTWRkSmxSUTB6amdXdkY4SGhRSFE0OElSQ09IdytsUGw1V0ZqQUtvclliVGJzVmlzMm02M3RwYTdOWW1aeGtRczFrUmZxVFRlaDd0Ky8rdWQvQVBmR1lyRUZVdzVhdVZsY2trYlFoYTMzdGRwUW05V0sxK1hDNjNiak5UWlF1UnlSdi9OT1NuMTkrSHcrcnJwSzM0MWg3cUdIeUo0NHNlVnRlWFZxcWs2OUtoNDU4b1RXMy85RDRPSGFZYmdXVGZtZm90SG91NEQ3OHpBQ1FMazhabnZxcVVYeHBaY2tUQlpCbTBGUlZSTHBkR1VPY2Roc2VGd3VQVG1kbDArd25LR09WUnRvck50Z1d5OHFpcW5lYkQ5Ky9KWm1GMmV2KzBTajBlamZBSkUxbVlKd3UzTG9FTXFoUTNIbk43NXhEN3B6LzA1Z1Q3T05MeWdLQlVXcFdLUnNWaXR1aHdQM3Fsdk40ZGowWWM4VUpuTzhaUk4xKzBaWU5MZlVQZGJLcXZ0TGtodU5SdDlKTGJGckVjbS83MzJQeDJLeCs0RDc0cEowSGZBaDlPV1hMZTFHcDZncVNWVWxhVmlvQkVIQVliUGhjamh3T1J3NEhRNWNkdnVtT3kwRXczcFZQVGVMSGJRc05ZTjhzY2lpZWNUcG82M1VzOTZYVzlsVnp1djFNamc0Q01EMDlEUXJGNDM3OXdNL0FJakk4Z3ZBbjBJbFhPZnQ2SnRwdmcxb2FWMUt1VndtWHl5U0x4YlhxQU4ybXcybjNiNG1kVUlGcThERU5HbnhidDJLUWtWVk9Uc3pZMmFkS3JTNnIrWjY1TjY4ZWpBNE9GaXg2UTRPRG5McVlzamx6V1lYR25zLy9xdVJpRXZTUWVBT0k5MUd6VDRjeldMVi9GZTlZRmtRQk94V0t3NkRhSWVSN0RZYlZxdTFKYWx4ZFUxUTlaZHIzU0p5MDlrc1UvUHpqZFMvTDdSYVh5ZWttS2FlWFVTV24wYmZvdUV6QUhGSk9nRGN6c1ZWOUVQdE5xQmNMbGZtOExyR0NRSTJxMVZYWDZ4VzdEWWJObEhFYXJWV2Z0ZEk3c2FEcmY1eVJJOUhkMXR1Z21GRjB6UlMyU3hMeVNTWmZNUFZtVTlFWkxubHZUblhJL2RuR0xydDlQVDBtbUc1Q2hQdGRDb2l5OCtoNzJ6ekJZQzRKTzFBMy92aUZ2UTRyc09kZUhpclhxTkx4Vm10T2h1c29vaC8xeTY4ckNWWHNGaElGSXY2S2tERFZ5MVdPU1dxMXpnMWNreXNjVDZvS29WaXNSTDR2bzRENGd6Nlh0RXRZejF5SDhBZ2QyVmxwWG9vcmkyellVUmsrUmZvNjRTL0RSQ1hKQnY2N3F1dlIzZEQza1NENEwyTm9sd3VvNVpLcUtVU2pseXVubHhCWUM2WFExbFlhUDhtN2VGbDRNTVJXWDZ4bll2WEhWSk5WYUdMaU1kaXNVOXNWVS9qa2lRQ1Y2UHIxdGVoLzdPSjExRVQrN1VSK0VkRzZMbnJMaXdXQzlkZHAxZXJhUnIvZS8vOTVHczhOSnVNQjlHM05WNTNhOXhHYUdxK2pFYWo3d2J1UTk4dUNIU2Y3d094V093SFc5bmJSb2hMa2gyZDlIM29XL3pzTlg0bG10eHJZeFhlZ3dmcFBYb1VnQU1IRGxUeWozLzg0MlNxMWhWdkloNEQvaUlpeTQ5c3RLS21CS3BZTFBaOW9LWE5OcllTRVZrdW9nOWhMOWVlTTRqZmliNno2OVZjL0hjeS9jQWcrc3FLaXBxbU5RaXYyV1JEeHVQb091elhERm1rSTdoTWJINmJCNFA0MDBZeWhURy9oNEZ1OTc1OWJ3ZitIdlRoZUZWb2N1M2MrV1I2WXVJTTRBYzhSbHJka0tPTGk2TmdWMDMxS3JBQ0pJQWxkQy9PZVhSaDhtbDBTYml6RzJzWStPVmMxYlZKaUVhalhyZmIvVW5nandxRkFxVlNDYnZkVGlBUVFOTzBzY1hGeFR0anNWam5vdUkzR2ErUmF5QWFqZDREZklxYVRWOXFNQXQ4TEJhTFBiamQ3VzBHbDZmZmJZc1JqVWIvRXZnY3NKNHB5Z3ZjUFRvNnl0alkyTVBiM2U3MWNNV1RhM3l4bjJ2eHNqdEdSMGRQajQyTlBkUGlkVnVLSzNwWWprYWpYdUJWV25ScUdGZ0U5c1Jpc2VYdDdrY2ovTXBMeSt2Z2c1Z1E2L2Y3Q1lmRDJPMTJpc1VpQ3dzTHBPcjlxOTNBKzRIUGIzY25HbUZ6bmFPWFA5NWRtK0gzK3hrYUdzTGhjT2crWlllRG9hRWgvT2JSR085ZS94YmJoeXVkM0xydGZjSU5WZ1kweUQvQVpZd3JuZHk2N1huc0RhSTBHK1MzNVpQZUtsenA1TmF0Zld3UXpkOG92N1ByTVR1TUs1M2NPanZ1UWdPM1hvUDhMZkVrdElzcm5kdzZaMGdxbFdKcWFvcUM0VVF2RkFwTVRVMlpTY3NBLzduZEhiZ1VyblJWNkd2QUo2aFJoMUtwVkNNeXE3R0lFUjkydWVLSy9uSU5KOERIMnJ6OC9zdlpnQUd2bVI4Wkd4dDdkblIwRlBTb3pHYnhWN0ZZN0xQYjNmYjFjTVdUQ3pBMk52Ync2T2pvcStneFdwZHlIc3lpTDd4cTFSYTlMYmlpYmN1MU1Hek52d2ZjaFc2Z0NLRTcySjlGRjU2Kzhzdmt6LzEvbFFhemlkZXBiK3NBQUFBQVNVVk9SSzVDWUlJPVwiXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vdXJsLWxvYWRlciEuL2Fzc2V0cy9wbGFuZS5wbmdcbiAqKiBtb2R1bGUgaWQgPSAxMjNcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7IHRocm93IG5ldyBFcnJvcihcImRlZmluZSBjYW5ub3QgYmUgdXNlZCBpbmRpcmVjdFwiKTsgfTtcclxuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAod2VicGFjaykvYnVpbGRpbi9hbWQtZGVmaW5lLmpzXG4gKiogbW9kdWxlIGlkID0gMTI0XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19hbWRfb3B0aW9uc19fO1xyXG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqICh3ZWJwYWNrKS9idWlsZGluL2FtZC1vcHRpb25zLmpzXG4gKiogbW9kdWxlIGlkID0gMTI1XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG1vZHVsZSkge1xyXG5cdGlmKCFtb2R1bGUud2VicGFja1BvbHlmaWxsKSB7XHJcblx0XHRtb2R1bGUuZGVwcmVjYXRlID0gZnVuY3Rpb24oKSB7fTtcclxuXHRcdG1vZHVsZS5wYXRocyA9IFtdO1xyXG5cdFx0Ly8gbW9kdWxlLnBhcmVudCA9IHVuZGVmaW5lZCBieSBkZWZhdWx0XHJcblx0XHRtb2R1bGUuY2hpbGRyZW4gPSBbXTtcclxuXHRcdG1vZHVsZS53ZWJwYWNrUG9seWZpbGwgPSAxO1xyXG5cdH1cclxuXHRyZXR1cm4gbW9kdWxlO1xyXG59XHJcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogKHdlYnBhY2spL2J1aWxkaW4vbW9kdWxlLmpzXG4gKiogbW9kdWxlIGlkID0gMTI2XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvLyBodHRwOi8vd2lraS5jb21tb25qcy5vcmcvd2lraS9Vbml0X1Rlc3RpbmcvMS4wXG4vL1xuLy8gVEhJUyBJUyBOT1QgVEVTVEVEIE5PUiBMSUtFTFkgVE8gV09SSyBPVVRTSURFIFY4IVxuLy9cbi8vIE9yaWdpbmFsbHkgZnJvbSBuYXJ3aGFsLmpzIChodHRwOi8vbmFyd2hhbGpzLm9yZylcbi8vIENvcHlyaWdodCAoYykgMjAwOSBUaG9tYXMgUm9iaW5zb24gPDI4MG5vcnRoLmNvbT5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XG4vLyBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSAnU29mdHdhcmUnKSwgdG9cbi8vIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlXG4vLyByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Jcbi8vIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXG4vLyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXG4vLyBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgJ0FTIElTJywgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxuLy8gSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG4vLyBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbi8vIEFVVEhPUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOXG4vLyBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OXG4vLyBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuLy8gd2hlbiB1c2VkIGluIG5vZGUsIHRoaXMgd2lsbCBhY3R1YWxseSBsb2FkIHRoZSB1dGlsIG1vZHVsZSB3ZSBkZXBlbmQgb25cbi8vIHZlcnN1cyBsb2FkaW5nIHRoZSBidWlsdGluIHV0aWwgbW9kdWxlIGFzIGhhcHBlbnMgb3RoZXJ3aXNlXG4vLyB0aGlzIGlzIGEgYnVnIGluIG5vZGUgbW9kdWxlIGxvYWRpbmcgYXMgZmFyIGFzIEkgYW0gY29uY2VybmVkXG52YXIgdXRpbCA9IHJlcXVpcmUoJ3V0aWwvJyk7XG5cbnZhciBwU2xpY2UgPSBBcnJheS5wcm90b3R5cGUuc2xpY2U7XG52YXIgaGFzT3duID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcblxuLy8gMS4gVGhlIGFzc2VydCBtb2R1bGUgcHJvdmlkZXMgZnVuY3Rpb25zIHRoYXQgdGhyb3dcbi8vIEFzc2VydGlvbkVycm9yJ3Mgd2hlbiBwYXJ0aWN1bGFyIGNvbmRpdGlvbnMgYXJlIG5vdCBtZXQuIFRoZVxuLy8gYXNzZXJ0IG1vZHVsZSBtdXN0IGNvbmZvcm0gdG8gdGhlIGZvbGxvd2luZyBpbnRlcmZhY2UuXG5cbnZhciBhc3NlcnQgPSBtb2R1bGUuZXhwb3J0cyA9IG9rO1xuXG4vLyAyLiBUaGUgQXNzZXJ0aW9uRXJyb3IgaXMgZGVmaW5lZCBpbiBhc3NlcnQuXG4vLyBuZXcgYXNzZXJ0LkFzc2VydGlvbkVycm9yKHsgbWVzc2FnZTogbWVzc2FnZSxcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3R1YWw6IGFjdHVhbCxcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHBlY3RlZDogZXhwZWN0ZWQgfSlcblxuYXNzZXJ0LkFzc2VydGlvbkVycm9yID0gZnVuY3Rpb24gQXNzZXJ0aW9uRXJyb3Iob3B0aW9ucykge1xuICB0aGlzLm5hbWUgPSAnQXNzZXJ0aW9uRXJyb3InO1xuICB0aGlzLmFjdHVhbCA9IG9wdGlvbnMuYWN0dWFsO1xuICB0aGlzLmV4cGVjdGVkID0gb3B0aW9ucy5leHBlY3RlZDtcbiAgdGhpcy5vcGVyYXRvciA9IG9wdGlvbnMub3BlcmF0b3I7XG4gIGlmIChvcHRpb25zLm1lc3NhZ2UpIHtcbiAgICB0aGlzLm1lc3NhZ2UgPSBvcHRpb25zLm1lc3NhZ2U7XG4gICAgdGhpcy5nZW5lcmF0ZWRNZXNzYWdlID0gZmFsc2U7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5tZXNzYWdlID0gZ2V0TWVzc2FnZSh0aGlzKTtcbiAgICB0aGlzLmdlbmVyYXRlZE1lc3NhZ2UgPSB0cnVlO1xuICB9XG4gIHZhciBzdGFja1N0YXJ0RnVuY3Rpb24gPSBvcHRpb25zLnN0YWNrU3RhcnRGdW5jdGlvbiB8fCBmYWlsO1xuXG4gIGlmIChFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSkge1xuICAgIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsIHN0YWNrU3RhcnRGdW5jdGlvbik7XG4gIH1cbiAgZWxzZSB7XG4gICAgLy8gbm9uIHY4IGJyb3dzZXJzIHNvIHdlIGNhbiBoYXZlIGEgc3RhY2t0cmFjZVxuICAgIHZhciBlcnIgPSBuZXcgRXJyb3IoKTtcbiAgICBpZiAoZXJyLnN0YWNrKSB7XG4gICAgICB2YXIgb3V0ID0gZXJyLnN0YWNrO1xuXG4gICAgICAvLyB0cnkgdG8gc3RyaXAgdXNlbGVzcyBmcmFtZXNcbiAgICAgIHZhciBmbl9uYW1lID0gc3RhY2tTdGFydEZ1bmN0aW9uLm5hbWU7XG4gICAgICB2YXIgaWR4ID0gb3V0LmluZGV4T2YoJ1xcbicgKyBmbl9uYW1lKTtcbiAgICAgIGlmIChpZHggPj0gMCkge1xuICAgICAgICAvLyBvbmNlIHdlIGhhdmUgbG9jYXRlZCB0aGUgZnVuY3Rpb24gZnJhbWVcbiAgICAgICAgLy8gd2UgbmVlZCB0byBzdHJpcCBvdXQgZXZlcnl0aGluZyBiZWZvcmUgaXQgKGFuZCBpdHMgbGluZSlcbiAgICAgICAgdmFyIG5leHRfbGluZSA9IG91dC5pbmRleE9mKCdcXG4nLCBpZHggKyAxKTtcbiAgICAgICAgb3V0ID0gb3V0LnN1YnN0cmluZyhuZXh0X2xpbmUgKyAxKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5zdGFjayA9IG91dDtcbiAgICB9XG4gIH1cbn07XG5cbi8vIGFzc2VydC5Bc3NlcnRpb25FcnJvciBpbnN0YW5jZW9mIEVycm9yXG51dGlsLmluaGVyaXRzKGFzc2VydC5Bc3NlcnRpb25FcnJvciwgRXJyb3IpO1xuXG5mdW5jdGlvbiByZXBsYWNlcihrZXksIHZhbHVlKSB7XG4gIGlmICh1dGlsLmlzVW5kZWZpbmVkKHZhbHVlKSkge1xuICAgIHJldHVybiAnJyArIHZhbHVlO1xuICB9XG4gIGlmICh1dGlsLmlzTnVtYmVyKHZhbHVlKSAmJiAhaXNGaW5pdGUodmFsdWUpKSB7XG4gICAgcmV0dXJuIHZhbHVlLnRvU3RyaW5nKCk7XG4gIH1cbiAgaWYgKHV0aWwuaXNGdW5jdGlvbih2YWx1ZSkgfHwgdXRpbC5pc1JlZ0V4cCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gdmFsdWUudG9TdHJpbmcoKTtcbiAgfVxuICByZXR1cm4gdmFsdWU7XG59XG5cbmZ1bmN0aW9uIHRydW5jYXRlKHMsIG4pIHtcbiAgaWYgKHV0aWwuaXNTdHJpbmcocykpIHtcbiAgICByZXR1cm4gcy5sZW5ndGggPCBuID8gcyA6IHMuc2xpY2UoMCwgbik7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHM7XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0TWVzc2FnZShzZWxmKSB7XG4gIHJldHVybiB0cnVuY2F0ZShKU09OLnN0cmluZ2lmeShzZWxmLmFjdHVhbCwgcmVwbGFjZXIpLCAxMjgpICsgJyAnICtcbiAgICAgICAgIHNlbGYub3BlcmF0b3IgKyAnICcgK1xuICAgICAgICAgdHJ1bmNhdGUoSlNPTi5zdHJpbmdpZnkoc2VsZi5leHBlY3RlZCwgcmVwbGFjZXIpLCAxMjgpO1xufVxuXG4vLyBBdCBwcmVzZW50IG9ubHkgdGhlIHRocmVlIGtleXMgbWVudGlvbmVkIGFib3ZlIGFyZSB1c2VkIGFuZFxuLy8gdW5kZXJzdG9vZCBieSB0aGUgc3BlYy4gSW1wbGVtZW50YXRpb25zIG9yIHN1YiBtb2R1bGVzIGNhbiBwYXNzXG4vLyBvdGhlciBrZXlzIHRvIHRoZSBBc3NlcnRpb25FcnJvcidzIGNvbnN0cnVjdG9yIC0gdGhleSB3aWxsIGJlXG4vLyBpZ25vcmVkLlxuXG4vLyAzLiBBbGwgb2YgdGhlIGZvbGxvd2luZyBmdW5jdGlvbnMgbXVzdCB0aHJvdyBhbiBBc3NlcnRpb25FcnJvclxuLy8gd2hlbiBhIGNvcnJlc3BvbmRpbmcgY29uZGl0aW9uIGlzIG5vdCBtZXQsIHdpdGggYSBtZXNzYWdlIHRoYXRcbi8vIG1heSBiZSB1bmRlZmluZWQgaWYgbm90IHByb3ZpZGVkLiAgQWxsIGFzc2VydGlvbiBtZXRob2RzIHByb3ZpZGVcbi8vIGJvdGggdGhlIGFjdHVhbCBhbmQgZXhwZWN0ZWQgdmFsdWVzIHRvIHRoZSBhc3NlcnRpb24gZXJyb3IgZm9yXG4vLyBkaXNwbGF5IHB1cnBvc2VzLlxuXG5mdW5jdGlvbiBmYWlsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UsIG9wZXJhdG9yLCBzdGFja1N0YXJ0RnVuY3Rpb24pIHtcbiAgdGhyb3cgbmV3IGFzc2VydC5Bc3NlcnRpb25FcnJvcih7XG4gICAgbWVzc2FnZTogbWVzc2FnZSxcbiAgICBhY3R1YWw6IGFjdHVhbCxcbiAgICBleHBlY3RlZDogZXhwZWN0ZWQsXG4gICAgb3BlcmF0b3I6IG9wZXJhdG9yLFxuICAgIHN0YWNrU3RhcnRGdW5jdGlvbjogc3RhY2tTdGFydEZ1bmN0aW9uXG4gIH0pO1xufVxuXG4vLyBFWFRFTlNJT04hIGFsbG93cyBmb3Igd2VsbCBiZWhhdmVkIGVycm9ycyBkZWZpbmVkIGVsc2V3aGVyZS5cbmFzc2VydC5mYWlsID0gZmFpbDtcblxuLy8gNC4gUHVyZSBhc3NlcnRpb24gdGVzdHMgd2hldGhlciBhIHZhbHVlIGlzIHRydXRoeSwgYXMgZGV0ZXJtaW5lZFxuLy8gYnkgISFndWFyZC5cbi8vIGFzc2VydC5vayhndWFyZCwgbWVzc2FnZV9vcHQpO1xuLy8gVGhpcyBzdGF0ZW1lbnQgaXMgZXF1aXZhbGVudCB0byBhc3NlcnQuZXF1YWwodHJ1ZSwgISFndWFyZCxcbi8vIG1lc3NhZ2Vfb3B0KTsuIFRvIHRlc3Qgc3RyaWN0bHkgZm9yIHRoZSB2YWx1ZSB0cnVlLCB1c2Vcbi8vIGFzc2VydC5zdHJpY3RFcXVhbCh0cnVlLCBndWFyZCwgbWVzc2FnZV9vcHQpOy5cblxuZnVuY3Rpb24gb2sodmFsdWUsIG1lc3NhZ2UpIHtcbiAgaWYgKCF2YWx1ZSkgZmFpbCh2YWx1ZSwgdHJ1ZSwgbWVzc2FnZSwgJz09JywgYXNzZXJ0Lm9rKTtcbn1cbmFzc2VydC5vayA9IG9rO1xuXG4vLyA1LiBUaGUgZXF1YWxpdHkgYXNzZXJ0aW9uIHRlc3RzIHNoYWxsb3csIGNvZXJjaXZlIGVxdWFsaXR5IHdpdGhcbi8vID09LlxuLy8gYXNzZXJ0LmVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2Vfb3B0KTtcblxuYXNzZXJ0LmVxdWFsID0gZnVuY3Rpb24gZXF1YWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZSkge1xuICBpZiAoYWN0dWFsICE9IGV4cGVjdGVkKSBmYWlsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UsICc9PScsIGFzc2VydC5lcXVhbCk7XG59O1xuXG4vLyA2LiBUaGUgbm9uLWVxdWFsaXR5IGFzc2VydGlvbiB0ZXN0cyBmb3Igd2hldGhlciB0d28gb2JqZWN0cyBhcmUgbm90IGVxdWFsXG4vLyB3aXRoICE9IGFzc2VydC5ub3RFcXVhbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlX29wdCk7XG5cbmFzc2VydC5ub3RFcXVhbCA9IGZ1bmN0aW9uIG5vdEVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UpIHtcbiAgaWYgKGFjdHVhbCA9PSBleHBlY3RlZCkge1xuICAgIGZhaWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZSwgJyE9JywgYXNzZXJ0Lm5vdEVxdWFsKTtcbiAgfVxufTtcblxuLy8gNy4gVGhlIGVxdWl2YWxlbmNlIGFzc2VydGlvbiB0ZXN0cyBhIGRlZXAgZXF1YWxpdHkgcmVsYXRpb24uXG4vLyBhc3NlcnQuZGVlcEVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2Vfb3B0KTtcblxuYXNzZXJ0LmRlZXBFcXVhbCA9IGZ1bmN0aW9uIGRlZXBFcXVhbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlKSB7XG4gIGlmICghX2RlZXBFcXVhbChhY3R1YWwsIGV4cGVjdGVkKSkge1xuICAgIGZhaWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZSwgJ2RlZXBFcXVhbCcsIGFzc2VydC5kZWVwRXF1YWwpO1xuICB9XG59O1xuXG5mdW5jdGlvbiBfZGVlcEVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQpIHtcbiAgLy8gNy4xLiBBbGwgaWRlbnRpY2FsIHZhbHVlcyBhcmUgZXF1aXZhbGVudCwgYXMgZGV0ZXJtaW5lZCBieSA9PT0uXG4gIGlmIChhY3R1YWwgPT09IGV4cGVjdGVkKSB7XG4gICAgcmV0dXJuIHRydWU7XG5cbiAgfSBlbHNlIGlmICh1dGlsLmlzQnVmZmVyKGFjdHVhbCkgJiYgdXRpbC5pc0J1ZmZlcihleHBlY3RlZCkpIHtcbiAgICBpZiAoYWN0dWFsLmxlbmd0aCAhPSBleHBlY3RlZC5sZW5ndGgpIHJldHVybiBmYWxzZTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWN0dWFsLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoYWN0dWFsW2ldICE9PSBleHBlY3RlZFtpXSkgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuXG4gIC8vIDcuMi4gSWYgdGhlIGV4cGVjdGVkIHZhbHVlIGlzIGEgRGF0ZSBvYmplY3QsIHRoZSBhY3R1YWwgdmFsdWUgaXNcbiAgLy8gZXF1aXZhbGVudCBpZiBpdCBpcyBhbHNvIGEgRGF0ZSBvYmplY3QgdGhhdCByZWZlcnMgdG8gdGhlIHNhbWUgdGltZS5cbiAgfSBlbHNlIGlmICh1dGlsLmlzRGF0ZShhY3R1YWwpICYmIHV0aWwuaXNEYXRlKGV4cGVjdGVkKSkge1xuICAgIHJldHVybiBhY3R1YWwuZ2V0VGltZSgpID09PSBleHBlY3RlZC5nZXRUaW1lKCk7XG5cbiAgLy8gNy4zIElmIHRoZSBleHBlY3RlZCB2YWx1ZSBpcyBhIFJlZ0V4cCBvYmplY3QsIHRoZSBhY3R1YWwgdmFsdWUgaXNcbiAgLy8gZXF1aXZhbGVudCBpZiBpdCBpcyBhbHNvIGEgUmVnRXhwIG9iamVjdCB3aXRoIHRoZSBzYW1lIHNvdXJjZSBhbmRcbiAgLy8gcHJvcGVydGllcyAoYGdsb2JhbGAsIGBtdWx0aWxpbmVgLCBgbGFzdEluZGV4YCwgYGlnbm9yZUNhc2VgKS5cbiAgfSBlbHNlIGlmICh1dGlsLmlzUmVnRXhwKGFjdHVhbCkgJiYgdXRpbC5pc1JlZ0V4cChleHBlY3RlZCkpIHtcbiAgICByZXR1cm4gYWN0dWFsLnNvdXJjZSA9PT0gZXhwZWN0ZWQuc291cmNlICYmXG4gICAgICAgICAgIGFjdHVhbC5nbG9iYWwgPT09IGV4cGVjdGVkLmdsb2JhbCAmJlxuICAgICAgICAgICBhY3R1YWwubXVsdGlsaW5lID09PSBleHBlY3RlZC5tdWx0aWxpbmUgJiZcbiAgICAgICAgICAgYWN0dWFsLmxhc3RJbmRleCA9PT0gZXhwZWN0ZWQubGFzdEluZGV4ICYmXG4gICAgICAgICAgIGFjdHVhbC5pZ25vcmVDYXNlID09PSBleHBlY3RlZC5pZ25vcmVDYXNlO1xuXG4gIC8vIDcuNC4gT3RoZXIgcGFpcnMgdGhhdCBkbyBub3QgYm90aCBwYXNzIHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0JyxcbiAgLy8gZXF1aXZhbGVuY2UgaXMgZGV0ZXJtaW5lZCBieSA9PS5cbiAgfSBlbHNlIGlmICghdXRpbC5pc09iamVjdChhY3R1YWwpICYmICF1dGlsLmlzT2JqZWN0KGV4cGVjdGVkKSkge1xuICAgIHJldHVybiBhY3R1YWwgPT0gZXhwZWN0ZWQ7XG5cbiAgLy8gNy41IEZvciBhbGwgb3RoZXIgT2JqZWN0IHBhaXJzLCBpbmNsdWRpbmcgQXJyYXkgb2JqZWN0cywgZXF1aXZhbGVuY2UgaXNcbiAgLy8gZGV0ZXJtaW5lZCBieSBoYXZpbmcgdGhlIHNhbWUgbnVtYmVyIG9mIG93bmVkIHByb3BlcnRpZXMgKGFzIHZlcmlmaWVkXG4gIC8vIHdpdGggT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKSwgdGhlIHNhbWUgc2V0IG9mIGtleXNcbiAgLy8gKGFsdGhvdWdoIG5vdCBuZWNlc3NhcmlseSB0aGUgc2FtZSBvcmRlciksIGVxdWl2YWxlbnQgdmFsdWVzIGZvciBldmVyeVxuICAvLyBjb3JyZXNwb25kaW5nIGtleSwgYW5kIGFuIGlkZW50aWNhbCAncHJvdG90eXBlJyBwcm9wZXJ0eS4gTm90ZTogdGhpc1xuICAvLyBhY2NvdW50cyBmb3IgYm90aCBuYW1lZCBhbmQgaW5kZXhlZCBwcm9wZXJ0aWVzIG9uIEFycmF5cy5cbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gb2JqRXF1aXYoYWN0dWFsLCBleHBlY3RlZCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gaXNBcmd1bWVudHMob2JqZWN0KSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqZWN0KSA9PSAnW29iamVjdCBBcmd1bWVudHNdJztcbn1cblxuZnVuY3Rpb24gb2JqRXF1aXYoYSwgYikge1xuICBpZiAodXRpbC5pc051bGxPclVuZGVmaW5lZChhKSB8fCB1dGlsLmlzTnVsbE9yVW5kZWZpbmVkKGIpKVxuICAgIHJldHVybiBmYWxzZTtcbiAgLy8gYW4gaWRlbnRpY2FsICdwcm90b3R5cGUnIHByb3BlcnR5LlxuICBpZiAoYS5wcm90b3R5cGUgIT09IGIucHJvdG90eXBlKSByZXR1cm4gZmFsc2U7XG4gIC8vIGlmIG9uZSBpcyBhIHByaW1pdGl2ZSwgdGhlIG90aGVyIG11c3QgYmUgc2FtZVxuICBpZiAodXRpbC5pc1ByaW1pdGl2ZShhKSB8fCB1dGlsLmlzUHJpbWl0aXZlKGIpKSB7XG4gICAgcmV0dXJuIGEgPT09IGI7XG4gIH1cbiAgdmFyIGFJc0FyZ3MgPSBpc0FyZ3VtZW50cyhhKSxcbiAgICAgIGJJc0FyZ3MgPSBpc0FyZ3VtZW50cyhiKTtcbiAgaWYgKChhSXNBcmdzICYmICFiSXNBcmdzKSB8fCAoIWFJc0FyZ3MgJiYgYklzQXJncykpXG4gICAgcmV0dXJuIGZhbHNlO1xuICBpZiAoYUlzQXJncykge1xuICAgIGEgPSBwU2xpY2UuY2FsbChhKTtcbiAgICBiID0gcFNsaWNlLmNhbGwoYik7XG4gICAgcmV0dXJuIF9kZWVwRXF1YWwoYSwgYik7XG4gIH1cbiAgdmFyIGthID0gb2JqZWN0S2V5cyhhKSxcbiAgICAgIGtiID0gb2JqZWN0S2V5cyhiKSxcbiAgICAgIGtleSwgaTtcbiAgLy8gaGF2aW5nIHRoZSBzYW1lIG51bWJlciBvZiBvd25lZCBwcm9wZXJ0aWVzIChrZXlzIGluY29ycG9yYXRlc1xuICAvLyBoYXNPd25Qcm9wZXJ0eSlcbiAgaWYgKGthLmxlbmd0aCAhPSBrYi5sZW5ndGgpXG4gICAgcmV0dXJuIGZhbHNlO1xuICAvL3RoZSBzYW1lIHNldCBvZiBrZXlzIChhbHRob3VnaCBub3QgbmVjZXNzYXJpbHkgdGhlIHNhbWUgb3JkZXIpLFxuICBrYS5zb3J0KCk7XG4gIGtiLnNvcnQoKTtcbiAgLy9+fn5jaGVhcCBrZXkgdGVzdFxuICBmb3IgKGkgPSBrYS5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgIGlmIChrYVtpXSAhPSBrYltpXSlcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICAvL2VxdWl2YWxlbnQgdmFsdWVzIGZvciBldmVyeSBjb3JyZXNwb25kaW5nIGtleSwgYW5kXG4gIC8vfn5+cG9zc2libHkgZXhwZW5zaXZlIGRlZXAgdGVzdFxuICBmb3IgKGkgPSBrYS5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgIGtleSA9IGthW2ldO1xuICAgIGlmICghX2RlZXBFcXVhbChhW2tleV0sIGJba2V5XSkpIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuLy8gOC4gVGhlIG5vbi1lcXVpdmFsZW5jZSBhc3NlcnRpb24gdGVzdHMgZm9yIGFueSBkZWVwIGluZXF1YWxpdHkuXG4vLyBhc3NlcnQubm90RGVlcEVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2Vfb3B0KTtcblxuYXNzZXJ0Lm5vdERlZXBFcXVhbCA9IGZ1bmN0aW9uIG5vdERlZXBFcXVhbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlKSB7XG4gIGlmIChfZGVlcEVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQpKSB7XG4gICAgZmFpbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlLCAnbm90RGVlcEVxdWFsJywgYXNzZXJ0Lm5vdERlZXBFcXVhbCk7XG4gIH1cbn07XG5cbi8vIDkuIFRoZSBzdHJpY3QgZXF1YWxpdHkgYXNzZXJ0aW9uIHRlc3RzIHN0cmljdCBlcXVhbGl0eSwgYXMgZGV0ZXJtaW5lZCBieSA9PT0uXG4vLyBhc3NlcnQuc3RyaWN0RXF1YWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZV9vcHQpO1xuXG5hc3NlcnQuc3RyaWN0RXF1YWwgPSBmdW5jdGlvbiBzdHJpY3RFcXVhbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlKSB7XG4gIGlmIChhY3R1YWwgIT09IGV4cGVjdGVkKSB7XG4gICAgZmFpbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlLCAnPT09JywgYXNzZXJ0LnN0cmljdEVxdWFsKTtcbiAgfVxufTtcblxuLy8gMTAuIFRoZSBzdHJpY3Qgbm9uLWVxdWFsaXR5IGFzc2VydGlvbiB0ZXN0cyBmb3Igc3RyaWN0IGluZXF1YWxpdHksIGFzXG4vLyBkZXRlcm1pbmVkIGJ5ICE9PS4gIGFzc2VydC5ub3RTdHJpY3RFcXVhbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlX29wdCk7XG5cbmFzc2VydC5ub3RTdHJpY3RFcXVhbCA9IGZ1bmN0aW9uIG5vdFN0cmljdEVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UpIHtcbiAgaWYgKGFjdHVhbCA9PT0gZXhwZWN0ZWQpIHtcbiAgICBmYWlsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UsICchPT0nLCBhc3NlcnQubm90U3RyaWN0RXF1YWwpO1xuICB9XG59O1xuXG5mdW5jdGlvbiBleHBlY3RlZEV4Y2VwdGlvbihhY3R1YWwsIGV4cGVjdGVkKSB7XG4gIGlmICghYWN0dWFsIHx8ICFleHBlY3RlZCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZXhwZWN0ZWQpID09ICdbb2JqZWN0IFJlZ0V4cF0nKSB7XG4gICAgcmV0dXJuIGV4cGVjdGVkLnRlc3QoYWN0dWFsKTtcbiAgfSBlbHNlIGlmIChhY3R1YWwgaW5zdGFuY2VvZiBleHBlY3RlZCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9IGVsc2UgaWYgKGV4cGVjdGVkLmNhbGwoe30sIGFjdHVhbCkgPT09IHRydWUpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gX3Rocm93cyhzaG91bGRUaHJvdywgYmxvY2ssIGV4cGVjdGVkLCBtZXNzYWdlKSB7XG4gIHZhciBhY3R1YWw7XG5cbiAgaWYgKHV0aWwuaXNTdHJpbmcoZXhwZWN0ZWQpKSB7XG4gICAgbWVzc2FnZSA9IGV4cGVjdGVkO1xuICAgIGV4cGVjdGVkID0gbnVsbDtcbiAgfVxuXG4gIHRyeSB7XG4gICAgYmxvY2soKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGFjdHVhbCA9IGU7XG4gIH1cblxuICBtZXNzYWdlID0gKGV4cGVjdGVkICYmIGV4cGVjdGVkLm5hbWUgPyAnICgnICsgZXhwZWN0ZWQubmFtZSArICcpLicgOiAnLicpICtcbiAgICAgICAgICAgIChtZXNzYWdlID8gJyAnICsgbWVzc2FnZSA6ICcuJyk7XG5cbiAgaWYgKHNob3VsZFRocm93ICYmICFhY3R1YWwpIHtcbiAgICBmYWlsKGFjdHVhbCwgZXhwZWN0ZWQsICdNaXNzaW5nIGV4cGVjdGVkIGV4Y2VwdGlvbicgKyBtZXNzYWdlKTtcbiAgfVxuXG4gIGlmICghc2hvdWxkVGhyb3cgJiYgZXhwZWN0ZWRFeGNlcHRpb24oYWN0dWFsLCBleHBlY3RlZCkpIHtcbiAgICBmYWlsKGFjdHVhbCwgZXhwZWN0ZWQsICdHb3QgdW53YW50ZWQgZXhjZXB0aW9uJyArIG1lc3NhZ2UpO1xuICB9XG5cbiAgaWYgKChzaG91bGRUaHJvdyAmJiBhY3R1YWwgJiYgZXhwZWN0ZWQgJiZcbiAgICAgICFleHBlY3RlZEV4Y2VwdGlvbihhY3R1YWwsIGV4cGVjdGVkKSkgfHwgKCFzaG91bGRUaHJvdyAmJiBhY3R1YWwpKSB7XG4gICAgdGhyb3cgYWN0dWFsO1xuICB9XG59XG5cbi8vIDExLiBFeHBlY3RlZCB0byB0aHJvdyBhbiBlcnJvcjpcbi8vIGFzc2VydC50aHJvd3MoYmxvY2ssIEVycm9yX29wdCwgbWVzc2FnZV9vcHQpO1xuXG5hc3NlcnQudGhyb3dzID0gZnVuY3Rpb24oYmxvY2ssIC8qb3B0aW9uYWwqL2Vycm9yLCAvKm9wdGlvbmFsKi9tZXNzYWdlKSB7XG4gIF90aHJvd3MuYXBwbHkodGhpcywgW3RydWVdLmNvbmNhdChwU2xpY2UuY2FsbChhcmd1bWVudHMpKSk7XG59O1xuXG4vLyBFWFRFTlNJT04hIFRoaXMgaXMgYW5ub3lpbmcgdG8gd3JpdGUgb3V0c2lkZSB0aGlzIG1vZHVsZS5cbmFzc2VydC5kb2VzTm90VGhyb3cgPSBmdW5jdGlvbihibG9jaywgLypvcHRpb25hbCovbWVzc2FnZSkge1xuICBfdGhyb3dzLmFwcGx5KHRoaXMsIFtmYWxzZV0uY29uY2F0KHBTbGljZS5jYWxsKGFyZ3VtZW50cykpKTtcbn07XG5cbmFzc2VydC5pZkVycm9yID0gZnVuY3Rpb24oZXJyKSB7IGlmIChlcnIpIHt0aHJvdyBlcnI7fX07XG5cbnZhciBvYmplY3RLZXlzID0gT2JqZWN0LmtleXMgfHwgZnVuY3Rpb24gKG9iaikge1xuICB2YXIga2V5cyA9IFtdO1xuICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgaWYgKGhhc093bi5jYWxsKG9iaiwga2V5KSkga2V5cy5wdXNoKGtleSk7XG4gIH1cbiAgcmV0dXJuIGtleXM7XG59O1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAod2VicGFjaykvfi9ub2RlLWxpYnMtYnJvd3Nlci9+L2Fzc2VydC9hc3NlcnQuanNcbiAqKiBtb2R1bGUgaWQgPSAxMjdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxuXG52YXIgcHJvY2VzcyA9IG1vZHVsZS5leHBvcnRzID0ge307XG52YXIgcXVldWUgPSBbXTtcbnZhciBkcmFpbmluZyA9IGZhbHNlO1xudmFyIGN1cnJlbnRRdWV1ZTtcbnZhciBxdWV1ZUluZGV4ID0gLTE7XG5cbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgIH1cbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICAgIGRyYWluUXVldWUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gICAgaWYgKGRyYWluaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG4gICAgZHJhaW5pbmcgPSB0cnVlO1xuXG4gICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB3aGlsZShsZW4pIHtcbiAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgICAgIHF1ZXVlID0gW107XG4gICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgfVxuICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG59XG5cbnByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcbiAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuICAgICAgICBzZXRUaW1lb3V0KGRyYWluUXVldWUsIDApO1xuICAgIH1cbn07XG5cbi8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcbmZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuICAgIHRoaXMuZnVuID0gZnVuO1xuICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbn1cbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcbn07XG5wcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xucHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcbnByb2Nlc3MuZW52ID0ge307XG5wcm9jZXNzLmFyZ3YgPSBbXTtcbnByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xucHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxucHJvY2Vzcy5vbiA9IG5vb3A7XG5wcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3Mub25jZSA9IG5vb3A7XG5wcm9jZXNzLm9mZiA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcbnByb2Nlc3MuZW1pdCA9IG5vb3A7XG5cbnByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcblxucHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcbnByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5wcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAod2VicGFjaykvfi9ub2RlLWxpYnMtYnJvd3Nlci9+L3Byb2Nlc3MvYnJvd3Nlci5qc1xuICoqIG1vZHVsZSBpZCA9IDEyOFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiaWYgKHR5cGVvZiBPYmplY3QuY3JlYXRlID09PSAnZnVuY3Rpb24nKSB7XG4gIC8vIGltcGxlbWVudGF0aW9uIGZyb20gc3RhbmRhcmQgbm9kZS5qcyAndXRpbCcgbW9kdWxlXG4gIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaW5oZXJpdHMoY3Rvciwgc3VwZXJDdG9yKSB7XG4gICAgY3Rvci5zdXBlcl8gPSBzdXBlckN0b3JcbiAgICBjdG9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDdG9yLnByb3RvdHlwZSwge1xuICAgICAgY29uc3RydWN0b3I6IHtcbiAgICAgICAgdmFsdWU6IGN0b3IsXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICB9XG4gICAgfSk7XG4gIH07XG59IGVsc2Uge1xuICAvLyBvbGQgc2Nob29sIHNoaW0gZm9yIG9sZCBicm93c2Vyc1xuICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGluaGVyaXRzKGN0b3IsIHN1cGVyQ3Rvcikge1xuICAgIGN0b3Iuc3VwZXJfID0gc3VwZXJDdG9yXG4gICAgdmFyIFRlbXBDdG9yID0gZnVuY3Rpb24gKCkge31cbiAgICBUZW1wQ3Rvci5wcm90b3R5cGUgPSBzdXBlckN0b3IucHJvdG90eXBlXG4gICAgY3Rvci5wcm90b3R5cGUgPSBuZXcgVGVtcEN0b3IoKVxuICAgIGN0b3IucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gY3RvclxuICB9XG59XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqICh3ZWJwYWNrKS9+L25vZGUtbGlicy1icm93c2VyL34vdXRpbC9+L2luaGVyaXRzL2luaGVyaXRzX2Jyb3dzZXIuanNcbiAqKiBtb2R1bGUgaWQgPSAxMjlcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaXNCdWZmZXIoYXJnKSB7XG4gIHJldHVybiBhcmcgJiYgdHlwZW9mIGFyZyA9PT0gJ29iamVjdCdcbiAgICAmJiB0eXBlb2YgYXJnLmNvcHkgPT09ICdmdW5jdGlvbidcbiAgICAmJiB0eXBlb2YgYXJnLmZpbGwgPT09ICdmdW5jdGlvbidcbiAgICAmJiB0eXBlb2YgYXJnLnJlYWRVSW50OCA9PT0gJ2Z1bmN0aW9uJztcbn1cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqICh3ZWJwYWNrKS9+L25vZGUtbGlicy1icm93c2VyL34vdXRpbC9zdXBwb3J0L2lzQnVmZmVyQnJvd3Nlci5qc1xuICoqIG1vZHVsZSBpZCA9IDEzMFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbnZhciBmb3JtYXRSZWdFeHAgPSAvJVtzZGolXS9nO1xuZXhwb3J0cy5mb3JtYXQgPSBmdW5jdGlvbihmKSB7XG4gIGlmICghaXNTdHJpbmcoZikpIHtcbiAgICB2YXIgb2JqZWN0cyA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBvYmplY3RzLnB1c2goaW5zcGVjdChhcmd1bWVudHNbaV0pKTtcbiAgICB9XG4gICAgcmV0dXJuIG9iamVjdHMuam9pbignICcpO1xuICB9XG5cbiAgdmFyIGkgPSAxO1xuICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgdmFyIGxlbiA9IGFyZ3MubGVuZ3RoO1xuICB2YXIgc3RyID0gU3RyaW5nKGYpLnJlcGxhY2UoZm9ybWF0UmVnRXhwLCBmdW5jdGlvbih4KSB7XG4gICAgaWYgKHggPT09ICclJScpIHJldHVybiAnJSc7XG4gICAgaWYgKGkgPj0gbGVuKSByZXR1cm4geDtcbiAgICBzd2l0Y2ggKHgpIHtcbiAgICAgIGNhc2UgJyVzJzogcmV0dXJuIFN0cmluZyhhcmdzW2krK10pO1xuICAgICAgY2FzZSAnJWQnOiByZXR1cm4gTnVtYmVyKGFyZ3NbaSsrXSk7XG4gICAgICBjYXNlICclaic6XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGFyZ3NbaSsrXSk7XG4gICAgICAgIH0gY2F0Y2ggKF8pIHtcbiAgICAgICAgICByZXR1cm4gJ1tDaXJjdWxhcl0nO1xuICAgICAgICB9XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4geDtcbiAgICB9XG4gIH0pO1xuICBmb3IgKHZhciB4ID0gYXJnc1tpXTsgaSA8IGxlbjsgeCA9IGFyZ3NbKytpXSkge1xuICAgIGlmIChpc051bGwoeCkgfHwgIWlzT2JqZWN0KHgpKSB7XG4gICAgICBzdHIgKz0gJyAnICsgeDtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RyICs9ICcgJyArIGluc3BlY3QoeCk7XG4gICAgfVxuICB9XG4gIHJldHVybiBzdHI7XG59O1xuXG5cbi8vIE1hcmsgdGhhdCBhIG1ldGhvZCBzaG91bGQgbm90IGJlIHVzZWQuXG4vLyBSZXR1cm5zIGEgbW9kaWZpZWQgZnVuY3Rpb24gd2hpY2ggd2FybnMgb25jZSBieSBkZWZhdWx0LlxuLy8gSWYgLS1uby1kZXByZWNhdGlvbiBpcyBzZXQsIHRoZW4gaXQgaXMgYSBuby1vcC5cbmV4cG9ydHMuZGVwcmVjYXRlID0gZnVuY3Rpb24oZm4sIG1zZykge1xuICAvLyBBbGxvdyBmb3IgZGVwcmVjYXRpbmcgdGhpbmdzIGluIHRoZSBwcm9jZXNzIG9mIHN0YXJ0aW5nIHVwLlxuICBpZiAoaXNVbmRlZmluZWQoZ2xvYmFsLnByb2Nlc3MpKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGV4cG9ydHMuZGVwcmVjYXRlKGZuLCBtc2cpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfTtcbiAgfVxuXG4gIGlmIChwcm9jZXNzLm5vRGVwcmVjYXRpb24gPT09IHRydWUpIHtcbiAgICByZXR1cm4gZm47XG4gIH1cblxuICB2YXIgd2FybmVkID0gZmFsc2U7XG4gIGZ1bmN0aW9uIGRlcHJlY2F0ZWQoKSB7XG4gICAgaWYgKCF3YXJuZWQpIHtcbiAgICAgIGlmIChwcm9jZXNzLnRocm93RGVwcmVjYXRpb24pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1zZyk7XG4gICAgICB9IGVsc2UgaWYgKHByb2Nlc3MudHJhY2VEZXByZWNhdGlvbikge1xuICAgICAgICBjb25zb2xlLnRyYWNlKG1zZyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmVycm9yKG1zZyk7XG4gICAgICB9XG4gICAgICB3YXJuZWQgPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIHJldHVybiBkZXByZWNhdGVkO1xufTtcblxuXG52YXIgZGVidWdzID0ge307XG52YXIgZGVidWdFbnZpcm9uO1xuZXhwb3J0cy5kZWJ1Z2xvZyA9IGZ1bmN0aW9uKHNldCkge1xuICBpZiAoaXNVbmRlZmluZWQoZGVidWdFbnZpcm9uKSlcbiAgICBkZWJ1Z0Vudmlyb24gPSBwcm9jZXNzLmVudi5OT0RFX0RFQlVHIHx8ICcnO1xuICBzZXQgPSBzZXQudG9VcHBlckNhc2UoKTtcbiAgaWYgKCFkZWJ1Z3Nbc2V0XSkge1xuICAgIGlmIChuZXcgUmVnRXhwKCdcXFxcYicgKyBzZXQgKyAnXFxcXGInLCAnaScpLnRlc3QoZGVidWdFbnZpcm9uKSkge1xuICAgICAgdmFyIHBpZCA9IHByb2Nlc3MucGlkO1xuICAgICAgZGVidWdzW3NldF0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIG1zZyA9IGV4cG9ydHMuZm9ybWF0LmFwcGx5KGV4cG9ydHMsIGFyZ3VtZW50cyk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJyVzICVkOiAlcycsIHNldCwgcGlkLCBtc2cpO1xuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVidWdzW3NldF0gPSBmdW5jdGlvbigpIHt9O1xuICAgIH1cbiAgfVxuICByZXR1cm4gZGVidWdzW3NldF07XG59O1xuXG5cbi8qKlxuICogRWNob3MgdGhlIHZhbHVlIG9mIGEgdmFsdWUuIFRyeXMgdG8gcHJpbnQgdGhlIHZhbHVlIG91dFxuICogaW4gdGhlIGJlc3Qgd2F5IHBvc3NpYmxlIGdpdmVuIHRoZSBkaWZmZXJlbnQgdHlwZXMuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9iaiBUaGUgb2JqZWN0IHRvIHByaW50IG91dC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzIE9wdGlvbmFsIG9wdGlvbnMgb2JqZWN0IHRoYXQgYWx0ZXJzIHRoZSBvdXRwdXQuXG4gKi9cbi8qIGxlZ2FjeTogb2JqLCBzaG93SGlkZGVuLCBkZXB0aCwgY29sb3JzKi9cbmZ1bmN0aW9uIGluc3BlY3Qob2JqLCBvcHRzKSB7XG4gIC8vIGRlZmF1bHQgb3B0aW9uc1xuICB2YXIgY3R4ID0ge1xuICAgIHNlZW46IFtdLFxuICAgIHN0eWxpemU6IHN0eWxpemVOb0NvbG9yXG4gIH07XG4gIC8vIGxlZ2FjeS4uLlxuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+PSAzKSBjdHguZGVwdGggPSBhcmd1bWVudHNbMl07XG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID49IDQpIGN0eC5jb2xvcnMgPSBhcmd1bWVudHNbM107XG4gIGlmIChpc0Jvb2xlYW4ob3B0cykpIHtcbiAgICAvLyBsZWdhY3kuLi5cbiAgICBjdHguc2hvd0hpZGRlbiA9IG9wdHM7XG4gIH0gZWxzZSBpZiAob3B0cykge1xuICAgIC8vIGdvdCBhbiBcIm9wdGlvbnNcIiBvYmplY3RcbiAgICBleHBvcnRzLl9leHRlbmQoY3R4LCBvcHRzKTtcbiAgfVxuICAvLyBzZXQgZGVmYXVsdCBvcHRpb25zXG4gIGlmIChpc1VuZGVmaW5lZChjdHguc2hvd0hpZGRlbikpIGN0eC5zaG93SGlkZGVuID0gZmFsc2U7XG4gIGlmIChpc1VuZGVmaW5lZChjdHguZGVwdGgpKSBjdHguZGVwdGggPSAyO1xuICBpZiAoaXNVbmRlZmluZWQoY3R4LmNvbG9ycykpIGN0eC5jb2xvcnMgPSBmYWxzZTtcbiAgaWYgKGlzVW5kZWZpbmVkKGN0eC5jdXN0b21JbnNwZWN0KSkgY3R4LmN1c3RvbUluc3BlY3QgPSB0cnVlO1xuICBpZiAoY3R4LmNvbG9ycykgY3R4LnN0eWxpemUgPSBzdHlsaXplV2l0aENvbG9yO1xuICByZXR1cm4gZm9ybWF0VmFsdWUoY3R4LCBvYmosIGN0eC5kZXB0aCk7XG59XG5leHBvcnRzLmluc3BlY3QgPSBpbnNwZWN0O1xuXG5cbi8vIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQU5TSV9lc2NhcGVfY29kZSNncmFwaGljc1xuaW5zcGVjdC5jb2xvcnMgPSB7XG4gICdib2xkJyA6IFsxLCAyMl0sXG4gICdpdGFsaWMnIDogWzMsIDIzXSxcbiAgJ3VuZGVybGluZScgOiBbNCwgMjRdLFxuICAnaW52ZXJzZScgOiBbNywgMjddLFxuICAnd2hpdGUnIDogWzM3LCAzOV0sXG4gICdncmV5JyA6IFs5MCwgMzldLFxuICAnYmxhY2snIDogWzMwLCAzOV0sXG4gICdibHVlJyA6IFszNCwgMzldLFxuICAnY3lhbicgOiBbMzYsIDM5XSxcbiAgJ2dyZWVuJyA6IFszMiwgMzldLFxuICAnbWFnZW50YScgOiBbMzUsIDM5XSxcbiAgJ3JlZCcgOiBbMzEsIDM5XSxcbiAgJ3llbGxvdycgOiBbMzMsIDM5XVxufTtcblxuLy8gRG9uJ3QgdXNlICdibHVlJyBub3QgdmlzaWJsZSBvbiBjbWQuZXhlXG5pbnNwZWN0LnN0eWxlcyA9IHtcbiAgJ3NwZWNpYWwnOiAnY3lhbicsXG4gICdudW1iZXInOiAneWVsbG93JyxcbiAgJ2Jvb2xlYW4nOiAneWVsbG93JyxcbiAgJ3VuZGVmaW5lZCc6ICdncmV5JyxcbiAgJ251bGwnOiAnYm9sZCcsXG4gICdzdHJpbmcnOiAnZ3JlZW4nLFxuICAnZGF0ZSc6ICdtYWdlbnRhJyxcbiAgLy8gXCJuYW1lXCI6IGludGVudGlvbmFsbHkgbm90IHN0eWxpbmdcbiAgJ3JlZ2V4cCc6ICdyZWQnXG59O1xuXG5cbmZ1bmN0aW9uIHN0eWxpemVXaXRoQ29sb3Ioc3RyLCBzdHlsZVR5cGUpIHtcbiAgdmFyIHN0eWxlID0gaW5zcGVjdC5zdHlsZXNbc3R5bGVUeXBlXTtcblxuICBpZiAoc3R5bGUpIHtcbiAgICByZXR1cm4gJ1xcdTAwMWJbJyArIGluc3BlY3QuY29sb3JzW3N0eWxlXVswXSArICdtJyArIHN0ciArXG4gICAgICAgICAgICdcXHUwMDFiWycgKyBpbnNwZWN0LmNvbG9yc1tzdHlsZV1bMV0gKyAnbSc7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHN0cjtcbiAgfVxufVxuXG5cbmZ1bmN0aW9uIHN0eWxpemVOb0NvbG9yKHN0ciwgc3R5bGVUeXBlKSB7XG4gIHJldHVybiBzdHI7XG59XG5cblxuZnVuY3Rpb24gYXJyYXlUb0hhc2goYXJyYXkpIHtcbiAgdmFyIGhhc2ggPSB7fTtcblxuICBhcnJheS5mb3JFYWNoKGZ1bmN0aW9uKHZhbCwgaWR4KSB7XG4gICAgaGFzaFt2YWxdID0gdHJ1ZTtcbiAgfSk7XG5cbiAgcmV0dXJuIGhhc2g7XG59XG5cblxuZnVuY3Rpb24gZm9ybWF0VmFsdWUoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzKSB7XG4gIC8vIFByb3ZpZGUgYSBob29rIGZvciB1c2VyLXNwZWNpZmllZCBpbnNwZWN0IGZ1bmN0aW9ucy5cbiAgLy8gQ2hlY2sgdGhhdCB2YWx1ZSBpcyBhbiBvYmplY3Qgd2l0aCBhbiBpbnNwZWN0IGZ1bmN0aW9uIG9uIGl0XG4gIGlmIChjdHguY3VzdG9tSW5zcGVjdCAmJlxuICAgICAgdmFsdWUgJiZcbiAgICAgIGlzRnVuY3Rpb24odmFsdWUuaW5zcGVjdCkgJiZcbiAgICAgIC8vIEZpbHRlciBvdXQgdGhlIHV0aWwgbW9kdWxlLCBpdCdzIGluc3BlY3QgZnVuY3Rpb24gaXMgc3BlY2lhbFxuICAgICAgdmFsdWUuaW5zcGVjdCAhPT0gZXhwb3J0cy5pbnNwZWN0ICYmXG4gICAgICAvLyBBbHNvIGZpbHRlciBvdXQgYW55IHByb3RvdHlwZSBvYmplY3RzIHVzaW5nIHRoZSBjaXJjdWxhciBjaGVjay5cbiAgICAgICEodmFsdWUuY29uc3RydWN0b3IgJiYgdmFsdWUuY29uc3RydWN0b3IucHJvdG90eXBlID09PSB2YWx1ZSkpIHtcbiAgICB2YXIgcmV0ID0gdmFsdWUuaW5zcGVjdChyZWN1cnNlVGltZXMsIGN0eCk7XG4gICAgaWYgKCFpc1N0cmluZyhyZXQpKSB7XG4gICAgICByZXQgPSBmb3JtYXRWYWx1ZShjdHgsIHJldCwgcmVjdXJzZVRpbWVzKTtcbiAgICB9XG4gICAgcmV0dXJuIHJldDtcbiAgfVxuXG4gIC8vIFByaW1pdGl2ZSB0eXBlcyBjYW5ub3QgaGF2ZSBwcm9wZXJ0aWVzXG4gIHZhciBwcmltaXRpdmUgPSBmb3JtYXRQcmltaXRpdmUoY3R4LCB2YWx1ZSk7XG4gIGlmIChwcmltaXRpdmUpIHtcbiAgICByZXR1cm4gcHJpbWl0aXZlO1xuICB9XG5cbiAgLy8gTG9vayB1cCB0aGUga2V5cyBvZiB0aGUgb2JqZWN0LlxuICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHZhbHVlKTtcbiAgdmFyIHZpc2libGVLZXlzID0gYXJyYXlUb0hhc2goa2V5cyk7XG5cbiAgaWYgKGN0eC5zaG93SGlkZGVuKSB7XG4gICAga2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHZhbHVlKTtcbiAgfVxuXG4gIC8vIElFIGRvZXNuJ3QgbWFrZSBlcnJvciBmaWVsZHMgbm9uLWVudW1lcmFibGVcbiAgLy8gaHR0cDovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L2llL2R3dzUyc2J0KHY9dnMuOTQpLmFzcHhcbiAgaWYgKGlzRXJyb3IodmFsdWUpXG4gICAgICAmJiAoa2V5cy5pbmRleE9mKCdtZXNzYWdlJykgPj0gMCB8fCBrZXlzLmluZGV4T2YoJ2Rlc2NyaXB0aW9uJykgPj0gMCkpIHtcbiAgICByZXR1cm4gZm9ybWF0RXJyb3IodmFsdWUpO1xuICB9XG5cbiAgLy8gU29tZSB0eXBlIG9mIG9iamVjdCB3aXRob3V0IHByb3BlcnRpZXMgY2FuIGJlIHNob3J0Y3V0dGVkLlxuICBpZiAoa2V5cy5sZW5ndGggPT09IDApIHtcbiAgICBpZiAoaXNGdW5jdGlvbih2YWx1ZSkpIHtcbiAgICAgIHZhciBuYW1lID0gdmFsdWUubmFtZSA/ICc6ICcgKyB2YWx1ZS5uYW1lIDogJyc7XG4gICAgICByZXR1cm4gY3R4LnN0eWxpemUoJ1tGdW5jdGlvbicgKyBuYW1lICsgJ10nLCAnc3BlY2lhbCcpO1xuICAgIH1cbiAgICBpZiAoaXNSZWdFeHAodmFsdWUpKSB7XG4gICAgICByZXR1cm4gY3R4LnN0eWxpemUoUmVnRXhwLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSwgJ3JlZ2V4cCcpO1xuICAgIH1cbiAgICBpZiAoaXNEYXRlKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKERhdGUucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpLCAnZGF0ZScpO1xuICAgIH1cbiAgICBpZiAoaXNFcnJvcih2YWx1ZSkpIHtcbiAgICAgIHJldHVybiBmb3JtYXRFcnJvcih2YWx1ZSk7XG4gICAgfVxuICB9XG5cbiAgdmFyIGJhc2UgPSAnJywgYXJyYXkgPSBmYWxzZSwgYnJhY2VzID0gWyd7JywgJ30nXTtcblxuICAvLyBNYWtlIEFycmF5IHNheSB0aGF0IHRoZXkgYXJlIEFycmF5XG4gIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgIGFycmF5ID0gdHJ1ZTtcbiAgICBicmFjZXMgPSBbJ1snLCAnXSddO1xuICB9XG5cbiAgLy8gTWFrZSBmdW5jdGlvbnMgc2F5IHRoYXQgdGhleSBhcmUgZnVuY3Rpb25zXG4gIGlmIChpc0Z1bmN0aW9uKHZhbHVlKSkge1xuICAgIHZhciBuID0gdmFsdWUubmFtZSA/ICc6ICcgKyB2YWx1ZS5uYW1lIDogJyc7XG4gICAgYmFzZSA9ICcgW0Z1bmN0aW9uJyArIG4gKyAnXSc7XG4gIH1cblxuICAvLyBNYWtlIFJlZ0V4cHMgc2F5IHRoYXQgdGhleSBhcmUgUmVnRXhwc1xuICBpZiAoaXNSZWdFeHAodmFsdWUpKSB7XG4gICAgYmFzZSA9ICcgJyArIFJlZ0V4cC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG4gIH1cblxuICAvLyBNYWtlIGRhdGVzIHdpdGggcHJvcGVydGllcyBmaXJzdCBzYXkgdGhlIGRhdGVcbiAgaWYgKGlzRGF0ZSh2YWx1ZSkpIHtcbiAgICBiYXNlID0gJyAnICsgRGF0ZS5wcm90b3R5cGUudG9VVENTdHJpbmcuY2FsbCh2YWx1ZSk7XG4gIH1cblxuICAvLyBNYWtlIGVycm9yIHdpdGggbWVzc2FnZSBmaXJzdCBzYXkgdGhlIGVycm9yXG4gIGlmIChpc0Vycm9yKHZhbHVlKSkge1xuICAgIGJhc2UgPSAnICcgKyBmb3JtYXRFcnJvcih2YWx1ZSk7XG4gIH1cblxuICBpZiAoa2V5cy5sZW5ndGggPT09IDAgJiYgKCFhcnJheSB8fCB2YWx1ZS5sZW5ndGggPT0gMCkpIHtcbiAgICByZXR1cm4gYnJhY2VzWzBdICsgYmFzZSArIGJyYWNlc1sxXTtcbiAgfVxuXG4gIGlmIChyZWN1cnNlVGltZXMgPCAwKSB7XG4gICAgaWYgKGlzUmVnRXhwKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKFJlZ0V4cC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSksICdyZWdleHAnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKCdbT2JqZWN0XScsICdzcGVjaWFsJyk7XG4gICAgfVxuICB9XG5cbiAgY3R4LnNlZW4ucHVzaCh2YWx1ZSk7XG5cbiAgdmFyIG91dHB1dDtcbiAgaWYgKGFycmF5KSB7XG4gICAgb3V0cHV0ID0gZm9ybWF0QXJyYXkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cywga2V5cyk7XG4gIH0gZWxzZSB7XG4gICAgb3V0cHV0ID0ga2V5cy5tYXAoZnVuY3Rpb24oa2V5KSB7XG4gICAgICByZXR1cm4gZm9ybWF0UHJvcGVydHkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cywga2V5LCBhcnJheSk7XG4gICAgfSk7XG4gIH1cblxuICBjdHguc2Vlbi5wb3AoKTtcblxuICByZXR1cm4gcmVkdWNlVG9TaW5nbGVTdHJpbmcob3V0cHV0LCBiYXNlLCBicmFjZXMpO1xufVxuXG5cbmZ1bmN0aW9uIGZvcm1hdFByaW1pdGl2ZShjdHgsIHZhbHVlKSB7XG4gIGlmIChpc1VuZGVmaW5lZCh2YWx1ZSkpXG4gICAgcmV0dXJuIGN0eC5zdHlsaXplKCd1bmRlZmluZWQnLCAndW5kZWZpbmVkJyk7XG4gIGlmIChpc1N0cmluZyh2YWx1ZSkpIHtcbiAgICB2YXIgc2ltcGxlID0gJ1xcJycgKyBKU09OLnN0cmluZ2lmeSh2YWx1ZSkucmVwbGFjZSgvXlwifFwiJC9nLCAnJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8nL2csIFwiXFxcXCdcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXFxcXCIvZywgJ1wiJykgKyAnXFwnJztcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoc2ltcGxlLCAnc3RyaW5nJyk7XG4gIH1cbiAgaWYgKGlzTnVtYmVyKHZhbHVlKSlcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoJycgKyB2YWx1ZSwgJ251bWJlcicpO1xuICBpZiAoaXNCb29sZWFuKHZhbHVlKSlcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoJycgKyB2YWx1ZSwgJ2Jvb2xlYW4nKTtcbiAgLy8gRm9yIHNvbWUgcmVhc29uIHR5cGVvZiBudWxsIGlzIFwib2JqZWN0XCIsIHNvIHNwZWNpYWwgY2FzZSBoZXJlLlxuICBpZiAoaXNOdWxsKHZhbHVlKSlcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoJ251bGwnLCAnbnVsbCcpO1xufVxuXG5cbmZ1bmN0aW9uIGZvcm1hdEVycm9yKHZhbHVlKSB7XG4gIHJldHVybiAnWycgKyBFcnJvci5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSkgKyAnXSc7XG59XG5cblxuZnVuY3Rpb24gZm9ybWF0QXJyYXkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cywga2V5cykge1xuICB2YXIgb3V0cHV0ID0gW107XG4gIGZvciAodmFyIGkgPSAwLCBsID0gdmFsdWUubGVuZ3RoOyBpIDwgbDsgKytpKSB7XG4gICAgaWYgKGhhc093blByb3BlcnR5KHZhbHVlLCBTdHJpbmcoaSkpKSB7XG4gICAgICBvdXRwdXQucHVzaChmb3JtYXRQcm9wZXJ0eShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLFxuICAgICAgICAgIFN0cmluZyhpKSwgdHJ1ZSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvdXRwdXQucHVzaCgnJyk7XG4gICAgfVxuICB9XG4gIGtleXMuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICBpZiAoIWtleS5tYXRjaCgvXlxcZCskLykpIHtcbiAgICAgIG91dHB1dC5wdXNoKGZvcm1hdFByb3BlcnR5KGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcywgdmlzaWJsZUtleXMsXG4gICAgICAgICAga2V5LCB0cnVlKSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIG91dHB1dDtcbn1cblxuXG5mdW5jdGlvbiBmb3JtYXRQcm9wZXJ0eShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLCBrZXksIGFycmF5KSB7XG4gIHZhciBuYW1lLCBzdHIsIGRlc2M7XG4gIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHZhbHVlLCBrZXkpIHx8IHsgdmFsdWU6IHZhbHVlW2tleV0gfTtcbiAgaWYgKGRlc2MuZ2V0KSB7XG4gICAgaWYgKGRlc2Muc2V0KSB7XG4gICAgICBzdHIgPSBjdHguc3R5bGl6ZSgnW0dldHRlci9TZXR0ZXJdJywgJ3NwZWNpYWwnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RyID0gY3R4LnN0eWxpemUoJ1tHZXR0ZXJdJywgJ3NwZWNpYWwnKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKGRlc2Muc2V0KSB7XG4gICAgICBzdHIgPSBjdHguc3R5bGl6ZSgnW1NldHRlcl0nLCAnc3BlY2lhbCcpO1xuICAgIH1cbiAgfVxuICBpZiAoIWhhc093blByb3BlcnR5KHZpc2libGVLZXlzLCBrZXkpKSB7XG4gICAgbmFtZSA9ICdbJyArIGtleSArICddJztcbiAgfVxuICBpZiAoIXN0cikge1xuICAgIGlmIChjdHguc2Vlbi5pbmRleE9mKGRlc2MudmFsdWUpIDwgMCkge1xuICAgICAgaWYgKGlzTnVsbChyZWN1cnNlVGltZXMpKSB7XG4gICAgICAgIHN0ciA9IGZvcm1hdFZhbHVlKGN0eCwgZGVzYy52YWx1ZSwgbnVsbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdHIgPSBmb3JtYXRWYWx1ZShjdHgsIGRlc2MudmFsdWUsIHJlY3Vyc2VUaW1lcyAtIDEpO1xuICAgICAgfVxuICAgICAgaWYgKHN0ci5pbmRleE9mKCdcXG4nKSA+IC0xKSB7XG4gICAgICAgIGlmIChhcnJheSkge1xuICAgICAgICAgIHN0ciA9IHN0ci5zcGxpdCgnXFxuJykubWFwKGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgICAgICAgIHJldHVybiAnICAnICsgbGluZTtcbiAgICAgICAgICB9KS5qb2luKCdcXG4nKS5zdWJzdHIoMik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3RyID0gJ1xcbicgKyBzdHIuc3BsaXQoJ1xcbicpLm1hcChmdW5jdGlvbihsaW5lKSB7XG4gICAgICAgICAgICByZXR1cm4gJyAgICcgKyBsaW5lO1xuICAgICAgICAgIH0pLmpvaW4oJ1xcbicpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0ciA9IGN0eC5zdHlsaXplKCdbQ2lyY3VsYXJdJywgJ3NwZWNpYWwnKTtcbiAgICB9XG4gIH1cbiAgaWYgKGlzVW5kZWZpbmVkKG5hbWUpKSB7XG4gICAgaWYgKGFycmF5ICYmIGtleS5tYXRjaCgvXlxcZCskLykpIHtcbiAgICAgIHJldHVybiBzdHI7XG4gICAgfVxuICAgIG5hbWUgPSBKU09OLnN0cmluZ2lmeSgnJyArIGtleSk7XG4gICAgaWYgKG5hbWUubWF0Y2goL15cIihbYS16QS1aX11bYS16QS1aXzAtOV0qKVwiJC8pKSB7XG4gICAgICBuYW1lID0gbmFtZS5zdWJzdHIoMSwgbmFtZS5sZW5ndGggLSAyKTtcbiAgICAgIG5hbWUgPSBjdHguc3R5bGl6ZShuYW1lLCAnbmFtZScpO1xuICAgIH0gZWxzZSB7XG4gICAgICBuYW1lID0gbmFtZS5yZXBsYWNlKC8nL2csIFwiXFxcXCdcIilcbiAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xcXFxcIi9nLCAnXCInKVxuICAgICAgICAgICAgICAgICAucmVwbGFjZSgvKF5cInxcIiQpL2csIFwiJ1wiKTtcbiAgICAgIG5hbWUgPSBjdHguc3R5bGl6ZShuYW1lLCAnc3RyaW5nJyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG5hbWUgKyAnOiAnICsgc3RyO1xufVxuXG5cbmZ1bmN0aW9uIHJlZHVjZVRvU2luZ2xlU3RyaW5nKG91dHB1dCwgYmFzZSwgYnJhY2VzKSB7XG4gIHZhciBudW1MaW5lc0VzdCA9IDA7XG4gIHZhciBsZW5ndGggPSBvdXRwdXQucmVkdWNlKGZ1bmN0aW9uKHByZXYsIGN1cikge1xuICAgIG51bUxpbmVzRXN0Kys7XG4gICAgaWYgKGN1ci5pbmRleE9mKCdcXG4nKSA+PSAwKSBudW1MaW5lc0VzdCsrO1xuICAgIHJldHVybiBwcmV2ICsgY3VyLnJlcGxhY2UoL1xcdTAwMWJcXFtcXGRcXGQ/bS9nLCAnJykubGVuZ3RoICsgMTtcbiAgfSwgMCk7XG5cbiAgaWYgKGxlbmd0aCA+IDYwKSB7XG4gICAgcmV0dXJuIGJyYWNlc1swXSArXG4gICAgICAgICAgIChiYXNlID09PSAnJyA/ICcnIDogYmFzZSArICdcXG4gJykgK1xuICAgICAgICAgICAnICcgK1xuICAgICAgICAgICBvdXRwdXQuam9pbignLFxcbiAgJykgK1xuICAgICAgICAgICAnICcgK1xuICAgICAgICAgICBicmFjZXNbMV07XG4gIH1cblxuICByZXR1cm4gYnJhY2VzWzBdICsgYmFzZSArICcgJyArIG91dHB1dC5qb2luKCcsICcpICsgJyAnICsgYnJhY2VzWzFdO1xufVxuXG5cbi8vIE5PVEU6IFRoZXNlIHR5cGUgY2hlY2tpbmcgZnVuY3Rpb25zIGludGVudGlvbmFsbHkgZG9uJ3QgdXNlIGBpbnN0YW5jZW9mYFxuLy8gYmVjYXVzZSBpdCBpcyBmcmFnaWxlIGFuZCBjYW4gYmUgZWFzaWx5IGZha2VkIHdpdGggYE9iamVjdC5jcmVhdGUoKWAuXG5mdW5jdGlvbiBpc0FycmF5KGFyKSB7XG4gIHJldHVybiBBcnJheS5pc0FycmF5KGFyKTtcbn1cbmV4cG9ydHMuaXNBcnJheSA9IGlzQXJyYXk7XG5cbmZ1bmN0aW9uIGlzQm9vbGVhbihhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdib29sZWFuJztcbn1cbmV4cG9ydHMuaXNCb29sZWFuID0gaXNCb29sZWFuO1xuXG5mdW5jdGlvbiBpc051bGwoYXJnKSB7XG4gIHJldHVybiBhcmcgPT09IG51bGw7XG59XG5leHBvcnRzLmlzTnVsbCA9IGlzTnVsbDtcblxuZnVuY3Rpb24gaXNOdWxsT3JVbmRlZmluZWQoYXJnKSB7XG4gIHJldHVybiBhcmcgPT0gbnVsbDtcbn1cbmV4cG9ydHMuaXNOdWxsT3JVbmRlZmluZWQgPSBpc051bGxPclVuZGVmaW5lZDtcblxuZnVuY3Rpb24gaXNOdW1iZXIoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnbnVtYmVyJztcbn1cbmV4cG9ydHMuaXNOdW1iZXIgPSBpc051bWJlcjtcblxuZnVuY3Rpb24gaXNTdHJpbmcoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnc3RyaW5nJztcbn1cbmV4cG9ydHMuaXNTdHJpbmcgPSBpc1N0cmluZztcblxuZnVuY3Rpb24gaXNTeW1ib2woYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnc3ltYm9sJztcbn1cbmV4cG9ydHMuaXNTeW1ib2wgPSBpc1N5bWJvbDtcblxuZnVuY3Rpb24gaXNVbmRlZmluZWQoYXJnKSB7XG4gIHJldHVybiBhcmcgPT09IHZvaWQgMDtcbn1cbmV4cG9ydHMuaXNVbmRlZmluZWQgPSBpc1VuZGVmaW5lZDtcblxuZnVuY3Rpb24gaXNSZWdFeHAocmUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0KHJlKSAmJiBvYmplY3RUb1N0cmluZyhyZSkgPT09ICdbb2JqZWN0IFJlZ0V4cF0nO1xufVxuZXhwb3J0cy5pc1JlZ0V4cCA9IGlzUmVnRXhwO1xuXG5mdW5jdGlvbiBpc09iamVjdChhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdvYmplY3QnICYmIGFyZyAhPT0gbnVsbDtcbn1cbmV4cG9ydHMuaXNPYmplY3QgPSBpc09iamVjdDtcblxuZnVuY3Rpb24gaXNEYXRlKGQpIHtcbiAgcmV0dXJuIGlzT2JqZWN0KGQpICYmIG9iamVjdFRvU3RyaW5nKGQpID09PSAnW29iamVjdCBEYXRlXSc7XG59XG5leHBvcnRzLmlzRGF0ZSA9IGlzRGF0ZTtcblxuZnVuY3Rpb24gaXNFcnJvcihlKSB7XG4gIHJldHVybiBpc09iamVjdChlKSAmJlxuICAgICAgKG9iamVjdFRvU3RyaW5nKGUpID09PSAnW29iamVjdCBFcnJvcl0nIHx8IGUgaW5zdGFuY2VvZiBFcnJvcik7XG59XG5leHBvcnRzLmlzRXJyb3IgPSBpc0Vycm9yO1xuXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ2Z1bmN0aW9uJztcbn1cbmV4cG9ydHMuaXNGdW5jdGlvbiA9IGlzRnVuY3Rpb247XG5cbmZ1bmN0aW9uIGlzUHJpbWl0aXZlKGFyZykge1xuICByZXR1cm4gYXJnID09PSBudWxsIHx8XG4gICAgICAgICB0eXBlb2YgYXJnID09PSAnYm9vbGVhbicgfHxcbiAgICAgICAgIHR5cGVvZiBhcmcgPT09ICdudW1iZXInIHx8XG4gICAgICAgICB0eXBlb2YgYXJnID09PSAnc3RyaW5nJyB8fFxuICAgICAgICAgdHlwZW9mIGFyZyA9PT0gJ3N5bWJvbCcgfHwgIC8vIEVTNiBzeW1ib2xcbiAgICAgICAgIHR5cGVvZiBhcmcgPT09ICd1bmRlZmluZWQnO1xufVxuZXhwb3J0cy5pc1ByaW1pdGl2ZSA9IGlzUHJpbWl0aXZlO1xuXG5leHBvcnRzLmlzQnVmZmVyID0gcmVxdWlyZSgnLi9zdXBwb3J0L2lzQnVmZmVyJyk7XG5cbmZ1bmN0aW9uIG9iamVjdFRvU3RyaW5nKG8pIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKTtcbn1cblxuXG5mdW5jdGlvbiBwYWQobikge1xuICByZXR1cm4gbiA8IDEwID8gJzAnICsgbi50b1N0cmluZygxMCkgOiBuLnRvU3RyaW5nKDEwKTtcbn1cblxuXG52YXIgbW9udGhzID0gWydKYW4nLCAnRmViJywgJ01hcicsICdBcHInLCAnTWF5JywgJ0p1bicsICdKdWwnLCAnQXVnJywgJ1NlcCcsXG4gICAgICAgICAgICAgICdPY3QnLCAnTm92JywgJ0RlYyddO1xuXG4vLyAyNiBGZWIgMTY6MTk6MzRcbmZ1bmN0aW9uIHRpbWVzdGFtcCgpIHtcbiAgdmFyIGQgPSBuZXcgRGF0ZSgpO1xuICB2YXIgdGltZSA9IFtwYWQoZC5nZXRIb3VycygpKSxcbiAgICAgICAgICAgICAgcGFkKGQuZ2V0TWludXRlcygpKSxcbiAgICAgICAgICAgICAgcGFkKGQuZ2V0U2Vjb25kcygpKV0uam9pbignOicpO1xuICByZXR1cm4gW2QuZ2V0RGF0ZSgpLCBtb250aHNbZC5nZXRNb250aCgpXSwgdGltZV0uam9pbignICcpO1xufVxuXG5cbi8vIGxvZyBpcyBqdXN0IGEgdGhpbiB3cmFwcGVyIHRvIGNvbnNvbGUubG9nIHRoYXQgcHJlcGVuZHMgYSB0aW1lc3RhbXBcbmV4cG9ydHMubG9nID0gZnVuY3Rpb24oKSB7XG4gIGNvbnNvbGUubG9nKCclcyAtICVzJywgdGltZXN0YW1wKCksIGV4cG9ydHMuZm9ybWF0LmFwcGx5KGV4cG9ydHMsIGFyZ3VtZW50cykpO1xufTtcblxuXG4vKipcbiAqIEluaGVyaXQgdGhlIHByb3RvdHlwZSBtZXRob2RzIGZyb20gb25lIGNvbnN0cnVjdG9yIGludG8gYW5vdGhlci5cbiAqXG4gKiBUaGUgRnVuY3Rpb24ucHJvdG90eXBlLmluaGVyaXRzIGZyb20gbGFuZy5qcyByZXdyaXR0ZW4gYXMgYSBzdGFuZGFsb25lXG4gKiBmdW5jdGlvbiAobm90IG9uIEZ1bmN0aW9uLnByb3RvdHlwZSkuIE5PVEU6IElmIHRoaXMgZmlsZSBpcyB0byBiZSBsb2FkZWRcbiAqIGR1cmluZyBib290c3RyYXBwaW5nIHRoaXMgZnVuY3Rpb24gbmVlZHMgdG8gYmUgcmV3cml0dGVuIHVzaW5nIHNvbWUgbmF0aXZlXG4gKiBmdW5jdGlvbnMgYXMgcHJvdG90eXBlIHNldHVwIHVzaW5nIG5vcm1hbCBKYXZhU2NyaXB0IGRvZXMgbm90IHdvcmsgYXNcbiAqIGV4cGVjdGVkIGR1cmluZyBib290c3RyYXBwaW5nIChzZWUgbWlycm9yLmpzIGluIHIxMTQ5MDMpLlxuICpcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGN0b3IgQ29uc3RydWN0b3IgZnVuY3Rpb24gd2hpY2ggbmVlZHMgdG8gaW5oZXJpdCB0aGVcbiAqICAgICBwcm90b3R5cGUuXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBzdXBlckN0b3IgQ29uc3RydWN0b3IgZnVuY3Rpb24gdG8gaW5oZXJpdCBwcm90b3R5cGUgZnJvbS5cbiAqL1xuZXhwb3J0cy5pbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJyk7XG5cbmV4cG9ydHMuX2V4dGVuZCA9IGZ1bmN0aW9uKG9yaWdpbiwgYWRkKSB7XG4gIC8vIERvbid0IGRvIGFueXRoaW5nIGlmIGFkZCBpc24ndCBhbiBvYmplY3RcbiAgaWYgKCFhZGQgfHwgIWlzT2JqZWN0KGFkZCkpIHJldHVybiBvcmlnaW47XG5cbiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhhZGQpO1xuICB2YXIgaSA9IGtleXMubGVuZ3RoO1xuICB3aGlsZSAoaS0tKSB7XG4gICAgb3JpZ2luW2tleXNbaV1dID0gYWRkW2tleXNbaV1dO1xuICB9XG4gIHJldHVybiBvcmlnaW47XG59O1xuXG5mdW5jdGlvbiBoYXNPd25Qcm9wZXJ0eShvYmosIHByb3ApIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApO1xufVxuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAod2VicGFjaykvfi9ub2RlLWxpYnMtYnJvd3Nlci9+L3V0aWwvdXRpbC5qc1xuICoqIG1vZHVsZSBpZCA9IDEzMVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==